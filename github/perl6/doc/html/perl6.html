<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Converted POD6 documentation</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<style type="text/css">
    body { margin-left: 4em; margin-right: 4em; }
    p {
        text-rendering: optimizeLegibility;
        font-feature-settings: "kern" 1;
        -webkit-font-feature-settings: "kern" 1;
        -moz-font-feature-settings: "kern" 1;
        font-kerning: normal;
        text-align: justify;
    }
    div.pod-content { padding-left: 20em; }
    div.pod-body { width: 60em }
    div.marginale { float: right; margin-right: -4em; width: 18em; font-size: 66%; text-align: left; }
    span.filename { font-family: monospace; font-stretch: condensed; }
    h1.title { font-size: 200%; }
    h1 { font-size: 160%; }
    h2 { font-size: 140%; }
    h3 { font-size: 120%; }
    h4 { font-size: 100%; }
    h5 { font-size: 100%; }
    h6 { font-size: 100%; }
    h7 { font-size: 100%; }
    pre { padding-left: 2em; }
    ul.toc { list-style-type: none; padding-left: 0; margin-left: 0 }
    ul.toc ul { list-style-type: none; }
    ul.toc ul { margin-left: 0; padding-left: 1em; }
    ul.toc li { margin-left: 0; padding-left: 0em; }
    ul.toc li.toc-level-1 { padding-left: 1em; }
    ul.toc li.toc-level-2 { padding-left: 1em; }
    ul.toc li.toc-level-3 { padding-left: 1em; }
    ul.toc li.toc-level-4 { padding-left: 1em; }
    ul.toc li.toc-level-5 { padding-left: 1em; }
    ul.toc li.toc-level-6 { padding-left: 1em; }
    ul.toc li.toc-level-7 { padding-left: 1em; }
    ul.toc li.toc-level-8 { padding-left: 1em; }
    ul.toc li.toc-level-9 { padding-left: 1em; }
    ul.toc li.toc-level-10{ padding-left: 1em; }
    #left-side-menu {
        width: 20em; margin-left: -22em;
        float: left;
        position: fixed;
        top: 0;
        overflow: scroll;
        height: 100%;
        padding: 0;
        white-space: nowrap;
    }
    #left-side-menu-header {
        transform: rotate(90deg);
        transform-origin: left bottom 0;
        z-index: 1;
        position: fixed;
        float: left;
        top: 0;
        margin-left: -23.5em;
    }
    #left-side-menu-header span.selection { padding-left: 1em; padding-right: 1em; }
    .code { font-family: monospace; background-color: #f9f9f9; }
    ul.numbered {
        list-style: none;
    }
    span.numbered-prefix {
        float: left;
    }
    span.numbered-prefix::after {
        content: ")\00a0";
    }

    @media print {
        div.pod-content { padding-left: 0; width: 100% }
        div.pod-body { width: 90%; }
        #left-side-menu {
            width: unset;
            margin-left: unset;
            float: unset;
            position: unset;
            top: unset;
            overflow: unset;
            height: unset;
            padding: unset;
            white-space: unset;
        }
        div.left-side-menu-header, #index { display: none; }
    }
    </style>

</head>
<body>
  <div class="pod-content">

<!-- /HomePage.pod6 --><div class="pod-body"><a id="_HomePage.pod6"></a><img style="float: right; margin: 0 0 1em 1em; width:261px" src="/images/Camelia.svg" alt="" id="home_logo"/> Welcome to the official documentation of the <a href="https://perl6.org">Perl 6</a> programming language! Besides online browsing and searching, you can also <a href="/perl6.xhtml">view everything in one file</a> or <a href="https://github.com/perl6/doc">contribute</a> by reporting mistakes or sending patches. <hr/> <dl> <dt><a href="/language.html">Language Reference &amp; Tutorials</a></dt> <dd> A collection of documents describing, in detail, the various conceptual parts of the language. <!-- If you're new to Perl 6, language>intro is a good place to start. --> </dd> <dt><a href="/type.html">Type Reference</a></dt> <dd> Index of built-in classes and roles. </dd> <dt><a href="/routine.html">Routine Reference</a></dt> <dd> Index of built-in subroutines and methods. </dd> <dt><a href="/programs.html">Perl 6 Programs</a></dt> <dd> A collection of documents describing how to run the Perl 6 executable program and other utilities, how to debug Perl 6 programs, and how to hack on Perl 6 source code. </dd> <!-- <dt><a href="/module.html">Module Reference</a></dt> <dd> Index of modules that are part of the official core distribution. </dd> --> </dl> <hr/> <p>The Perl 6 homepage offers <a href="https://perl6.org/resources/">a comprehensive list of Perl 6 resources</a>, including tutorials, how-tos and <a href="/language/faq">FAQs (Frequently Asked Questions)</a>.</p> <p> Perl&nbsp;6 compiler developers may also be interested in <a href="https://github.com/perl6/roast">The Perl&nbsp;6 Specification</a>. Documentation for the different but related <a href="https://www.perl.org/">Perl 5</a> language can be found on the <a href="http://perldoc.perl.org/">Perl 5 documentation website</a>. </p>
</div>
<!-- /language/5to6-nutshell.pod6 --><div class="pod-body"><a id="_language_5to6-nutshell.pod6"></a><a name="t1"><h1 class="title">1 Perl 5 to Perl 6 guide - Overview</h1></a> <p class="subtitle">How do I do what I used to do? (Perl 6 in a nutshell.)</p> <p>This page attempts to index the changes in syntax and semantics from Perl 5 to Perl 6. Whatever worked in Perl 5 and must be written differently in Perl 6, should be listed here (whereas many <i>new</i> Perl 6 features and idioms won't be).</p>
 <p>Hence this should not be mistaken for a beginner tutorial or a promotional overview of Perl 6; it is intended as a technical reference for Perl 6 learners with a strong Perl 5 background and for anyone porting Perl 5 code to Perl 6 (though note that <a href="#0-Automated Translation">#Automated Translation</a> might be more convenient).</p>
 <p>A note on semantics; when we say &quot;now&quot; in this document, we mostly just mean &quot;now that you are trying out Perl 6.&quot; We don't mean to imply that Perl 5 is now suddenly obsolete. Quite the contrary, most of us love Perl 5, and we expect Perl 5 to continue in use for a good many years. Indeed, one of our more important goals has been to make interaction between Perl 5 and Perl 6 run smoothly. However, we do also like the design decisions in Perl 6, which are certainly newer and arguably better integrated than many of the historical design decisions in Perl 5. So many of us do hope that over the next decade or two, Perl 6 will become the more dominant language. If you want to take &quot;now&quot; in that future sense, that's okay too. But we're not at all interested in the either/or thinking that leads to fights.</p>
 <a name="t1.1"></a><h1 id="_language_5to6-nutshell.pod6-CPAN">1.1 CPAN</h1>
 <p>See <a href="https://modules.perl6.org/">https://modules.perl6.org/</a> .</p>
 <p>If the module that you were using has not been converted to Perl 6, and no alternative is listed in this document, then its use under Perl 6 may not have been addressed yet.</p>
 <p>The <a href="https://github.com/niner/Inline-Perl5/">Inline::Perl5</a> project makes it possible to <span class="code">use</span> Perl 5 modules directly from Perl 6 code by using an embedded instance of the <span class="code">perl</span> interpreter to run Perl 5 code.</p>
 <a name="t1.2"></a><h1 id="_language_5to6-nutshell.pod6-Syntax">1.2 Syntax</h1>
 <a name="t1.2.1"></a><h2 id="_language_5to6-nutshell.pod6-Identifiers">1.2.1 Identifiers</h2>
 <p>In identifiers, Perl 6 allows the use of dashes (<span class="code">-</span>), underscores (<span class="code">_</span>), apostrophes (<span class="code">'</span>), and alphanumerics:</p>
 <pre class="code">sub test-doesn't-hang { ... }
my $ความสงบ = 42;
my \Δ = 72; say 72 - Δ;</pre>
 <a name="t1.2.2"></a><h2 id="_language_5to6-nutshell.pod6--&gt;_Method_calls">1.2.2 <span class="code">-&gt;</span> Method calls</h2>
 <p>If you've read any Perl 6 code at all, it's immediately obvious that method call syntax now uses a dot instead of an arrow:</p>
 <pre class="code">$person-&gt;name  # Perl 5 
</pre>
 <pre class="code">$person.name   # Perl 6 
</pre>
 <p>The dot notation is both easier to type and more of an industry standard. But we also wanted to steal the arrow for something else. (Concatenation is now done with the <span class="code">~</span> operator, if you were wondering.)</p>
 <p>To call a method whose name is not known until runtime:</p>
 <pre class="code">$object-&gt;$methodname(@args);  # Perl 5 
</pre>
 <pre class="code">$object.&quot;$methodname&quot;(@args); # Perl 6 
</pre>
 <p>If you leave out the quotes, then Perl 6 expects <span class="code">$methodname</span> to contain a <span class="code">Method</span> object, rather than the simple string name of the method.</p>
 <a name="t1.2.3"></a><h2 id="_language_5to6-nutshell.pod6-Whitespace">1.2.3 Whitespace</h2>
 <p>Perl 5 allows a surprising amount of flexibility in the use of whitespace, even with strict mode and warnings turned on:</p>
 <pre class="code"># unidiomatic but valid Perl 5 
 say&quot;Hello &quot;.ucfirst  ($people 
     [$ i] 
     -&gt; 
     name).&quot;!&quot;if$greeted[$i]&lt;1; 
</pre>
 <p>Perl 6 also endorses programmer freedom and creativity, but balanced syntactic flexibility against its design goal of having a consistent, deterministic, extensible grammar that supports single-pass parsing and helpful error messages, integrates features like custom operators cleanly, and doesn't lead programmers to accidentally misstate their intent. Also, the practice of &quot;code golf&quot; is slightly de-emphasized; Perl 6 is designed to be more concise in concepts than in keystrokes.</p>
 <p>As a result, there are various places in the syntax where whitespace is optional in Perl 5, but is either mandatory or forbidden in Perl 6. Many of those restrictions are unlikely to concern much real-life Perl code (e.g., whitespace being disallowed between the sigil and name of a variable), but there are a few that will unfortunately conflict with some Perl hackers' habitual coding styles:</p>
 <ul><li><p><i>No space allowed before the opening parenthesis of an argument list.</i></p>
 <pre class="code">substr ($s, 4, 1); # Perl 5 (in Perl 6 this would try to pass a single 
                        #         argument of type List to substr) 
</pre>
 <pre class="code">substr($s, 4, 1);  # Perl 6 
 substr $s, 4, 1;   # Perl 6 - alternative parentheses-less style 
</pre>
</li></ul> <ul><li><p><i>Space is  <b>required</b>  immediately after keywords</i></p>
 <pre class="code">my($alpha, $beta);          # Perl 5, tries to call my() sub in Perl 6 
</pre>
 <pre class="code">my ($alpha, $beta);         # Perl 6 
</pre>
 <pre class="code">if($a &lt; 0) { ... }          # Perl 5, dies in Perl 6 
</pre>
 <pre class="code">if ($a &lt; 0) { ... }         # Perl 6 
 if $a &lt; 0 { ... }           # Perl 6, more idiomatic 
</pre>
 <pre class="code">while($x-- &gt; 5) { ... }     # Perl 5, dies in Perl 6 
</pre>
 <pre class="code">while ($x-- &gt; 5) { ... }    # Perl 6 
 while $x-- &gt; 5 { ... }      # Perl 6, more idiomatic 
</pre>
</li></ul> <ul><li><p><i>No space allowed after a prefix operator, or before a postfix/postcircumfix operator (including array/hash subscripts).</i></p>
 <pre class="code">$seen {$_} ++; # Perl 5 
</pre>
 <pre class="code">%seen{$_}++;   # Perl 6 
</pre>
</li></ul> <ul><li><p><i>No space allowed around the method call operator.</i></p>
 <pre class="code">$customer -&gt; name; # Perl 5 
</pre>
 <pre class="code">$customer.name;    # Perl 6 
</pre>
</li></ul> <ul><li><p><i>Space required before an infix operator if it would conflict with an existing postfix/postcircumfix operator.</i></p>
 <pre class="code">$n&lt;1;   # Perl 5 (in Perl 6 this would conflict with postcircumfix &lt; &gt;) 
</pre>
 <pre class="code">$n &lt; 1; # Perl 6 
</pre>
</li></ul> <p>However, note that you can use <a href="https://design.perl6.org/S02.html#Unspaces">unspace</a> to add whitespace in Perl 6 code in places where it is otherwise not allowed:</p>
 <pre class="code"># Perl 5 
 my @books = $xml-&gt;parse_file($file)          # some comment 
                 -&gt;findnodes(&quot;/library/book&quot;); 
</pre>
 <pre class="code"># Perl 6 
 my @books = $xml.parse-file($file)\          # some comment 
                 .findnodes(&quot;/library/book&quot;); 
</pre>
 <p>See also <a href="https://design.perl6.org/S03.html#Minimal_whitespace_DWIMmery">S03#Minimal whitespace DWIMmery</a> and <a href="https://design.perl6.org/S04.html#Statement_parsing">S04#Statement parsing</a> in the Perl 6 design docs.</p>
 <a name="t1.2.4"></a><h2 id="_language_5to6-nutshell.pod6-Sigils">1.2.4 Sigils</h2>
 <p>In Perl 5, arrays and hashes use changing sigils depending on how they are being accessed. In Perl 6 the sigils are invariant, no matter how the variable is being used - you can think of them as part of the variable's name.</p>
 <p>(See also <a href="#0-Dereferencing">#Dereferencing</a>).</p>
 <a name="t1.2.4.1"></a><h3 id="_language_5to6-nutshell.pod6-$_Scalar">1.2.4.1 <span class="code">$</span> Scalar</h3>
 <p>The <span class="code">$</span> sigil is now always used with &quot;scalar&quot; variables (e.g. <span class="code">$name</span>), and no longer for <a href="#0-[]_Array_indexing/slicing">array indexing</a> and <a href="#0-{}_Hash_indexing/slicing">Hash indexing</a>. That is, you can still use <span class="code">$x[1]</span> and <span class="code">$x{&quot;foo&quot;}</span>, but it will act on $x, with no effect on a similarly named @x or %x. Those would now be accessed with @x[1] and %x{&quot;foo&quot;}.</p>
 <a name="t1.2.4.2"></a><h3 id="_language_5to6-nutshell.pod6-@_Array">1.2.4.2 <span class="code">@</span> Array</h3>
 <p>The <span class="code">@</span> sigil is now always used with &quot;array&quot; variables (e.g. <span class="code">@months</span>, <span class="code">@months[2]</span>, <span class="code">@months[2, 4]</span>), and no longer for <a href="#0-{}_Hash_indexing/slicing">value-slicing hashes</a>.</p>
 <a name="t1.2.4.3"></a><h3 id="_language_5to6-nutshell.pod6-%_Hash">1.2.4.3 <span class="code">%</span> Hash</h3>
 <p>The <span class="code">%</span> sigil is now always used with &quot;hash&quot; variables (e.g. <span class="code">%calories</span>, <span class="code">%calories&lt;apple&gt;</span>, <span class="code">%calories&lt;pear plum&gt;</span>), and no longer for <a href="#0-[]_Array_indexing/slicing">key/value-slicing arrays</a>.</p>
 <a name="t1.2.4.4"></a><h3 id="_language_5to6-nutshell.pod6-&amp;_Sub">1.2.4.4 <span class="code">&amp;</span> Sub</h3>
 <p>The <span class="code">&amp;</span> sigil is now used consistently (and without the help of a backslash) to refer to the function object of a named subroutine/operator without invoking it, i.e. to use the name as a &quot;noun&quot; instead of a &quot;verb&quot;:</p>
 <pre class="code">my $sub = \&amp;foo; # Perl 5 
</pre>
 <pre class="code">my $sub = &amp;foo;  # Perl 6 
</pre>
 <pre class="code">callback =&gt; sub { say @_ }  # Perl 5 - can't pass built-in sub directly 
</pre>
 <pre class="code">callback =&gt; &amp;say            # Perl 6 - &amp; gives &quot;noun&quot; form of any sub 
</pre>
 <p>Since Perl 6 does not allow adding/removing symbols in a lexical scope once it has finished compiling, there is no equivalent to Perl 5's <span class="code">undef &amp;foo;</span>, and the closest equivalent to Perl 5's <span class="code">defined &amp;foo</span> would be <span class="code">defined &amp;::(&quot;foo&quot;)</span> (which uses the &quot;dynamic symbol lookup&quot; syntax). However, you can declare a mutable named subroutine with <span class="code">my &amp;foo;</span> and then change its meaning at runtime by assigning to <span class="code">&amp;foo</span>.</p>
 <p>In Perl 5, the ampersand sigil can additionally be used to call subroutines in special ways with subtly different behavior compared to normal sub calls. In Perl 6 those special forms are no longer available:</p>
 <ul><li><p><span class="code">&amp;foo(...)</span> <i>for circumventing a function prototype</i></p>
 <p>In Perl 6 there are no prototypes, and it no longer makes a difference whether you, say, pass a literal code block or a variable holding a code object as an argument:</p>
 <pre class="code"># Perl 5: 
 first_index { $_ &gt; 5 } @values; 
 &amp;first_index($coderef, @values); # (disabling the prototype that parses a 
                                      # literal block as the first argument) 
</pre>
 <pre class="code"># Perl 6: 
 first { $_ &gt; 5 }, @values, :k;   # the :k makes first return an index 
 first $coderef, @values, :k; 
</pre>
</li></ul> <ul><li><p><span class="code">&amp;foo;</span> <i>and</i> <span class="code">goto &amp;foo;</span> <i>for re-using the caller's argument list / replacing the caller in the call stack</i>. Perl 6 can use <a href="#_language_functions.pod6-index-entry-dispatch_callsame"><span class="code">callsame</span></a> for re-dispatching</p>
     # TODO: Suggest .nextsame and .nextwith once they've been implemented in Rakudo.
 <pre class="code">sub foo { say &quot;before&quot;; &amp;bar;     say &quot;after&quot; } # Perl 5 
</pre>
 <pre class="code">sub foo { say &quot;before&quot;; bar(|@_); say &quot;after&quot; } # Perl 6 - have to be explicit 
</pre>
 <pre class="code">sub foo { say &quot;before&quot;; goto &amp;bar } # Perl 5 
</pre>
 <pre class="code">proto foo (|) {*};  multi foo ( Any $n ) {  say &quot;Any&quot;; say $n; }; multi foo ( Int $n ) { say &quot;Int&quot;; callsame; }; foo(3); # /language/functions#index-entry-dispatch_callsame 
</pre>
</li></ul> <a name="t1.2.4.5"></a><h3 id="_language_5to6-nutshell.pod6-*_Glob">1.2.4.5 <span class="code">*</span> Glob</h3>
 TODO: Research what exact use-cases still need typeglobs in Perl 5
         today, and refactor this section to list them (with translations).
 <p>In Perl 5, the <span class="code">*</span> sigil referred to the GLOB structure that Perl uses to store non-lexical variables, file handles, subs, and formats.</p>
 <p>(This should not be confused with the Perl 5 built-in <span class="code">glob()</span> function, which reads filenames from a directory).</p>
 <p>You are most likely to encounter a GLOB in code written on a early Perl version that does not support lexical filehandles, when a filehandle needed to be passed into a sub.</p>
 <pre class="code"># Perl 5 - ancient method 
 sub read_2 { 
     local (*H) = @_; 
     return scalar(&lt;H&gt;), scalar(&lt;H&gt;); 
 } 
 open FILE, '&lt;', $path or die; 
 my ($line1, $line2) = read_2(*FILE); 
</pre>
 <p>You should refactor your Perl 5 code to remove the need for the GLOB, before translating into Perl 6.</p>
 <pre class="code"># Perl 5 - modern use of lexical filehandles 
 sub read_2 { 
     my ($fh) = @_; 
     return scalar(&lt;$fh&gt;), scalar(&lt;$fh&gt;); 
 } 
 open my $in_file, '&lt;', $path or die; 
 my ($line1, $line2) = read_2($in_file); 
</pre>
 <p>And here's just one possible Perl 6 translation:</p>
 <pre class="code"># Perl 6 
 sub read-n($fh, $n) { 
     return $fh.get xx $n; 
 } 
 my $in-file = open $path or die; 
 my ($line1, $line2) = read-n($in-file, 2); 
</pre>
 <a name="t1.2.5"></a><h2 id="_language_5to6-nutshell.pod6-[]_Array_indexing/slicing">1.2.5 [] Array indexing/slicing</h2>
 <p>Index and slice operations on arrays no longer inflect the variable's <a href="#0-@_Array">sigil</a>, and adverbs can be used to control the type of slice:</p>
 <ul><li><p><i>Indexing</i></p>
 <pre class="code">say $months[2]; # Perl 5 
</pre>
 <pre class="code">say @months[2]; # Perl 6 - @ instead of $ 
</pre>
</li></ul> <ul><li><p><i>Value-slicing</i></p>
 <pre class="code">say join ',', @months[6, 8..11]; # Perl 5 and Perl 6 
</pre>
</li></ul> <ul><li><p><i>Key/value-slicing</i></p>
 <pre class="code">say join ',', %months[6, 8..11];    # Perl 5 
</pre>
 <pre class="code">say join ',', @months[6, 8..11]:kv; # Perl 6 - @ instead of %; use :kv adverb 
</pre>
</li></ul> <p>Also note that the subscripting brackets are now a normal postcircumfix operator rather than a special syntactic form, and thus <a href="#0-exists">checking for existence of elements</a> and <a href="#0-delete">unsetting elements</a> is done with adverbs.</p>
 <a name="t1.2.6"></a><h2 id="_language_5to6-nutshell.pod6-{}_Hash_indexing/slicing">1.2.6 {} Hash indexing/slicing</h2>
 <p>Index and slice operations on hashes no longer inflect the variable's <a href="#0-%_Hash">sigil</a>, and adverbs can be used to control the type of slice. Also, single-word subscripts are no longer magically autoquoted inside the curly braces; instead, the new angle-brackets version is available which always autoquotes its contents (using the same rules as the <span class="code">qw//</span> quoting construct):</p>
 <ul><li><p><i>Indexing</i></p>
 <pre class="code">say $calories{&quot;apple&quot;}; # Perl 5 
</pre>
 <pre class="code">say %calories{&quot;apple&quot;}; # Perl 6 - % instead of $ 
</pre>
 <pre class="code">say $calories{apple};   # Perl 5 
</pre>
 <pre class="code">say %calories&lt;apple&gt;;   # Perl 6 - angle brackets; % instead of $ 
 say %calories«&quot;$key&quot;»;  # Perl 6 - double angles interpolate as a list of Str 
</pre>
</li></ul> <ul><li><p><i>Value-slicing</i></p>
 <pre class="code">say join ',', @calories{'pear', 'plum'}; # Perl 5 
</pre>
 <pre class="code">say join ',', %calories{'pear', 'plum'}; # Perl 6 - % instead of @ 
 say join ',', %calories&lt;pear plum&gt;;      # Perl 6 (prettier version) 
 my $keys = 'pear plum'; 
 say join ',', %calories«$keys»;          # Perl 6 the split is done after interpolation 
</pre>
</li></ul> <ul><li><p><i>Key/value-slicing</i></p>
 <pre class="code">say join ',', %calories{'pear', 'plum'};    # Perl 5 
</pre>
 <pre class="code">say join ',', %calories{'pear', 'plum'}:kv; # Perl 6 - use :kv adverb 
 say join ',', %calories&lt;pear plum&gt;:kv;      # Perl 6 (prettier version) 
</pre>
</li></ul> <p>Also note that the subscripting curly braces are now a normal postcircumfix operator rather than a special syntactic form, and thus <a href="#0-exists">checking for existence of keys</a> and <a href="#0-delete">removing keys</a> is done with adverbs.</p>
 <a name="t1.2.7"></a><h2 id="_language_5to6-nutshell.pod6-Reference_creation">1.2.7 Reference creation</h2>
 TODO: Rewrite this section to make it clear that the &quot;referencing/
         dereferencing&quot; metaphor does not map cleanly to the actual Perl 6
         container system, and focus more on how one would translate or
         replace actual code that uses references in Perl 5.
 <p>In Perl 5, references to anonymous arrays and hashes and subs are returned during their creation. References to existing named variables and subs were generated with the <span class="code">\</span> operator.</p>
 <p>In Perl 6, anonymous arrays and hashes and subs still return their reference during creation. References to named subs are generated by preceding the sub name with a <span class="code">&amp;</span> sigil. References to existing named variables are generated by <span class="code">item</span> context.</p>
 <pre class="code">my $aref = [ 1, 2, 9 ];          # Both Perl 5&amp;6 
 my $href = { A =&gt; 98, Q =&gt; 99 }; # Both Perl 5&amp;6 [*See Note*] 
</pre>
 <pre class="code">my $aref =     \@aaa  ; # Perl 5 
</pre>
 <pre class="code">my $aref = item(@aaa) ; # Perl 6 
</pre>
 <pre class="code">my $href =     \%hhh  ; # Perl 5 
</pre>
 <pre class="code">my $href = item(%hhh) ; # Perl 6 
</pre>
 <pre class="code">my $sref =     \&amp;foo  ; # Perl 5 
</pre>
 <pre class="code">my $sref =      &amp;foo  ; # Perl 6 
</pre>
 <p><b>NOTE:</b> If one or more values reference the topic variable, <span class="code">$_</span>, the right-hand side of the assignment will be interpreted as a <a href="#_type_Block.pod6">Block</a>, not a Hash:</p>
 <pre class="code">my @people = [
    %( id =&gt; &quot;1A&quot;, firstName =&gt; &quot;Andy&quot;, lastName =&gt; &quot;Adams&quot; ),
    %( id =&gt; &quot;2B&quot;, firstName =&gt; &quot;Beth&quot;, lastName =&gt; &quot;Burke&quot; ),
    # ...
];

sub lookup-user (Hash $h) { #`(Do something...) $h }

my @names = map {
    my $query = { name =&gt; &quot;$_&lt;firstName&gt; $_&lt;lastName&gt;&quot; };
    say $query.^name;      # Block
    say $query&lt;name&gt;;      # ERROR: Type Block does not support associative indexing

    lookup-user($query);   # Type check failed in binding $h; expected Hash but got Block
}, @people;</pre>
 <p>Instead, you should either:</p>
 <ul><li><p>1) use the <span class="code">%()</span> hash constructor:</p>
 <pre class="code">my $query = %( name =&gt; &quot;$_&lt;firstName&gt; $_&lt;lastName&gt;&quot; );</pre>
</li></ul> <ul><li><p>2) assign to a Hash type (<span class="code">%</span>) directly:</p>
 <pre class="code">my %query = name =&gt; &quot;$_&lt;firstName&gt; $_&lt;lastName&gt;&quot;;   # No braces required</pre>
</li></ul> <ul><li><p>or 3) simply avoid the issue altogether by explicitly providing a name for the topic variable:</p>
 <pre class="code">my @names = @people.map: -&gt; $person {
    lookup-user( %( name =&gt; &quot;$person&lt;firstName&gt; $person&lt;lastName&gt;&quot; ) );
};</pre>
</li></ul> <p>See <a href="#_type_Hash.pod6-Hash_assignment">Hash assignment</a> for more details.</p>
 <a name="t1.2.8"></a><h2 id="_language_5to6-nutshell.pod6-Dereferencing">1.2.8 Dereferencing</h2>
 <p>In Perl 5, the syntax for dereferencing an entire reference is the type-sigil and curly braces, with the reference inside the curly braces.</p>
 <p>In Perl 6, the curly braces are changed to parentheses.</p>
 <pre class="code"># Perl 5 
     say      ${$scalar_ref}; 
     say      @{$arrayref  }; 
     say keys %{$hashref   }; 
     say      &amp;{$subref    }; 
</pre>
 <pre class="code"># Perl 6 
     say      $($scalar_ref); 
     say      @($arrayref  ); 
     say keys %($hashref   ); 
     say      &amp;($subref    ); 
</pre>
 <p>Note that in both Perl 5 and Perl 6, the surrounding curly braces or parentheses can often be omitted, though the omission can reduce readability.</p>
 <p>In Perl 5, the arrow operator, <span class="code">-&gt;</span> , is used for single access to a composite's reference or to call a sub through its reference. In Perl 6, we now use the dot operator <span class="code">.</span> for those tasks.</p>
 <pre class="code"># Perl 5 
     say $arrayref-&gt;[7]; 
     say $hashref-&gt;{'fire bad'}; 
     say $subref-&gt;($foo, $bar); 
</pre>
 <pre class="code"># Perl 6 
     say $arrayref.[7]; 
     say $hashref.{'fire bad'}; 
     say $subref.($foo, $bar); 
</pre>
 <p>In recent versions of Perl 5 (5.20 and later), a new feature allows the use of the arrow operator for dereferencing: see <a href="http://search.cpan.org/~shay/perl-5.20.1/pod/perl5200delta.pod#Experimental_Postfix_Dereferencing">Postfix Dereferencing</a> Such feature corresponds to Perl 6 <span class="code">.list</span> and <span class="code">.hash</span> methods:</p>
 <pre class="code"># Perl 5.20 
     use experimental qw&lt; postderef &gt;; 
     my @a = $arrayref-&gt;@*; 
     my %h = $hashref-&gt;%*; 
     my @slice = $arrayref-&gt;@[3..7]; 
</pre>
 <pre class="code"># Perl 6 
     my @a = $arrayref.list;         # or @($arrayref) 
     my %h = $hashref.hash;          # or %($hashref) 
     my @slice = $arrayref[3..7]; 
</pre>
 <p>The &quot;Zen&quot; slice does the same thing:</p>
 <pre class="code"># Perl 6 
     my @a = $arrayref[]; 
     my %h = $hashref{}; 
</pre>
 <p>See <a href="https://design.perl6.org/S32/Containers.html">S32/Containers</a></p>
 <a name="t1.3"></a><h1 id="_language_5to6-nutshell.pod6-Operators">1.3 Operators</h1>
 <p>See <a href="https://design.perl6.org/S03.html#Overview">S03/Operators</a> for full details on all operators.</p>
 <p>Unchanged:</p>
 <ul><li><p><span class="code">+</span> Numeric Addition</p>
</li></ul> <ul><li><p><span class="code">-</span> Numeric Subtraction</p>
</li></ul> <ul><li><p><span class="code">*</span> Numeric Multiplication</p>
</li></ul> <ul><li><p><span class="code">/</span> Numeric Division</p>
</li></ul> <ul><li><p><span class="code">%</span> Numeric Modulus</p>
</li></ul> <ul><li><p><span class="code">**</span> Numeric Exponentiation</p>
</li></ul> <ul><li><p><span class="code">++</span> Numeric Increment</p>
</li></ul> <ul><li><p><span class="code">--</span> Numeric Decrement</p>
</li></ul> <ul><li><p><span class="code">! &amp;&amp; || ^</span> Booleans, high-precedence</p>
</li></ul> <ul><li><p><span class="code">not and or xor</span> Booleans, low-precedence</p>
</li></ul> <ul><li><p><span class="code">== != &lt; &gt; &lt;= &gt;=</span> Numeric comparisons</p>
</li></ul> <ul><li><p><span class="code">eq ne lt gt le ge</span> String comparisons</p>
</li></ul> <a name="t1.3.1"></a><h2 id="_language_5to6-nutshell.pod6-,_(Comma)_List_Separator">1.3.1 <span class="code">,</span> (Comma) List Separator</h2>
 <p>Unchanged, but note that in order to flatten an array variable to a list (in order to append or prefix more items) one should use the <span class="code">|</span> operator (see also <a href="#_type_Slip.pod6">Slip</a>). For instance:</p>
 <pre class="code">my @numbers = (100, 200, 300); 
 my @more_numbers = (500, 600, 700); 
 my @all_numbers = [|@numbers, 400, |@more_numbers]; 
</pre>
 <p>That way one can concatenate arrays.</p>
 <a name="t1.3.2"></a><h2 id="_language_5to6-nutshell.pod6-&lt;=&gt;_cmp_Three-way_comparisons">1.3.2 <span class="code">&lt;=&gt; cmp</span> Three-way comparisons</h2>
 <p>In Perl 5, these operators returned -1, 0, or 1. In Perl 6, they return <span class="code">Order::Less</span>, <span class="code">Order::Same</span>, or <span class="code">Order::More</span>.</p>
 <p><span class="code">cmp</span> is now named <span class="code">leg</span>; it forces string context for the comparison.</p>
 <p><span class="code">&lt;=&gt;</span> still forces numeric context.</p>
 <p><span class="code">cmp</span> in Perl 6 does either <span class="code">&lt;=&gt;</span> or <span class="code">leg</span>, depending on the existing type of its arguments.</p>
 <a name="t1.3.3"></a><h2 id="_language_5to6-nutshell.pod6-~~_Smart-match_operator">1.3.3 <span class="code">~~</span> Smart-match operator</h2>
 <p>While the operator has not changed, the rules for what exactly is matched depends on the types of both arguments, and those rules are far from identical in Perl 5 and Perl 6. See <a href="#_routine_~~.pod6">~~</a> and <a href="https://design.perl6.org/S03.html#Smart_matching">S03/Smart matching</a></p>
 <a name="t1.3.4"></a><h2 id="_language_5to6-nutshell.pod6-&amp;_|_^_String_Bitwise_ops">1.3.4 <span class="code">&amp; | ^</span> String Bitwise ops</h2>
 <a name="t1.3.5"></a><h2 id="_language_5to6-nutshell.pod6-&amp;_|_^_Numeric_Bitwise_ops">1.3.5 <span class="code">&amp; | ^</span> Numeric Bitwise ops</h2>
 <a name="t1.3.6"></a><h2 id="_language_5to6-nutshell.pod6-&amp;_|_^_Boolean_ops">1.3.6 <span class="code">&amp; | ^</span> Boolean ops</h2>
 <p>In Perl 5, <span class="code">&amp; | ^</span> were invoked according to the contents of their arguments. For example, <span class="code">31 | 33</span> returns a different result than <span class="code">&quot;31&quot; | &quot;33&quot;</span>.</p>
 <p>In Perl 6, those single-character ops have been removed, and replaced by two-character ops which coerce their arguments to the needed context.</p>
 <pre class="code"># Infix ops (two arguments; one on each side of the op) 
 +&amp;  +|  +^  And Or Xor: Numeric 
 ~&amp;  ~|  ~^  And Or Xor: String 
 ?&amp;  ?|  ?^  And Or Xor: Boolean 
 
 # Prefix ops (one argument, after the op) 
 +^  Not: Numeric 
 ~^  Not: String 
 ?^  Not: Boolean (same as the ! op) 
</pre>
 <a name="t1.3.7"></a><h2 id="_language_5to6-nutshell.pod6-&lt;&lt;_&gt;&gt;_Numeric_shift_left|right_ops">1.3.7 <span class="code">&lt;&lt; &gt;&gt;</span> Numeric shift left|right ops</h2>
 <p>Replaced by <span class="code">+&lt;</span> and <span class="code">+&gt;</span> .</p>
 <pre class="code">say 42 &lt;&lt; 3; # Perl 5 
</pre>
 <pre class="code">say 42 +&lt; 3; # Perl 6 
</pre>
 <a name="t1.3.8"></a><h2 id="_language_5to6-nutshell.pod6-=&gt;_Fat_comma">1.3.8 <span class="code">=&gt;</span> Fat comma</h2>
 <p>In Perl 5, <span class="code">=&gt;</span> acted just like a comma, but also quoted its left-hand side.</p>
 <p>In Perl 6, <span class="code">=&gt;</span> is the <a href="#_type_Pair.pod6">Pair</a> operator, which is quite different in principle, but works the same in many situations.</p>
 <p>If you were using <span class="code">=&gt;</span> in hash initialization, or in passing arguments to a sub that expects a hashref, then the usage is likely identical.</p>
 <pre class="code">sub get_the_loot { ... }; # Perl 6 stub
# Works in Perl 5 and Perl 6
my %hash = ( AAA =&gt; 1, BBB =&gt; 2 );
get_the_loot( 'diamonds', { quiet_level =&gt; 'very', quantity =&gt; 9 }); # Note the curly braces</pre>
 <p>If you were using <span class="code">=&gt;</span> as a convenient shortcut to not have to quote part of a list, or in passing arguments to a sub that expects a flat list of KEY, VALUE, KEY, VALUE, then continuing to use <span class="code">=&gt;</span> may break your code. The easiest workaround is to change the fat comma to a regular comma, and manually add quotes to its left-hand side. Or, you can change the sub's API to <a href="#_type_Signature.pod6-Slurpy_(A.K.A._Variadic)_Parameters">slurp a hash</a>. A better long-term solution is to change the sub's API to expect <a href="#_type_Pair.pod6">Pair</a>s; however, this requires you to change all sub calls at once.</p>
 <pre class="code"># Perl 5 
 sub get_the_loot { 
     my $loot = shift; 
     my %options = @_; 
     # ... 
 } 
 # Note: no curly braces in this sub call 
 get_the_loot( 'diamonds', quiet_level =&gt; 'very', quantity =&gt; 9 ); 
</pre>
 <pre class="code"># Perl 6, original API 
 sub get_the_loot( $loot, *%options ) { # The * means to slurp everything 
     ... 
 } 
 get_the_loot( 'diamonds', quiet_level =&gt; 'very', quantity =&gt; 9 ); # Note: no curly braces in this API 
 
 # Perl 6, API changed to specify valid options 
 # The colon before the sigils means to expect a Pair, 
 # with the key having the same name as the variable. 
 sub get_the_loot( $loot, :$quiet_level?, :$quantity = 1 ) { 
     # This version will check for unexpected arguments! 
     ... 
 } 
 get_the_loot( 'diamonds', quietlevel =&gt; 'very' ); # Throws error for misspelled parameter name 
</pre>
 <a name="t1.3.9"></a><h2 id="_language_5to6-nutshell.pod6-?_:_Ternary_operator">1.3.9 <span class="code">? :</span> Ternary operator</h2>
 <p>The conditional operator <span class="code">? :</span> has been replaced by <span class="code">?? !!</span>:</p>
 <pre class="code">my $result = ( $score &gt; 60 ) ?  'Pass' :  'Fail'; # Perl 5 
</pre>
 <pre class="code">my $result = ( $score &gt; 60 ) ?? 'Pass' !! 'Fail'; # Perl 6 
</pre>
 <a name="t1.3.10"></a><h2 id="_language_5to6-nutshell.pod6-._(Dot)_String_Concatenation">1.3.10 <span class="code">.</span> (Dot) String Concatenation</h2>
 <p>Replaced by the tilde.</p>
 <p>Mnemonic: think of &quot;stitching&quot; together the two strings with needle and thread.</p>
 <pre class="code">$food = 'grape' . 'fruit'; # Perl 5 
</pre>
 <pre class="code">$food = 'grape' ~ 'fruit'; # Perl 6 
</pre>
 <a name="t1.3.11"></a><h2 id="_language_5to6-nutshell.pod6-x_List_Repetition_or_String_Repetition_operator">1.3.11 <span class="code">x</span> List Repetition or String Repetition operator</h2>
 <p>In Perl 5, <span class="code">x</span> is the Repetition operator, which behaves differently in scalar or list contexts:</p>
 <ul><li><p>in scalar context <span class="code">x</span> repeats a string;</p>
</li></ul> <ul><li><p>in list context <span class="code">x</span> repeats a list, but only if the left argument is parenthesized!</p>
</li></ul> <p>Perl 6 uses two different Repetition operators to achieve the above:</p>
 <ul><li><p><span class="code">x</span> for string repetitions (in any context);</p>
</li></ul> <ul><li><p><span class="code">xx</span> for list repetitions (in any context).</p>
</li></ul> <p>Mnemonic: <span class="code">x</span> is short and <span class="code">xx</span> is long, so <span class="code">xx</span> is the one used for lists.</p>
 <pre class="code"># Perl 5 
     print '-' x 80;             # Print row of dashes 
     @ones = (1) x 80;           # A list of 80 1's 
     @ones = (5) x @ones;        # Set all elements to 5 
</pre>
 <pre class="code"># Perl 6 
     print '-' x 80;             # Unchanged 
     @ones = 1 xx 80;            # Parentheses no longer needed 
     @ones = 5 xx @ones;         # Parentheses no longer needed 
</pre>
 <a name="t1.3.12"></a><h2 id="_language_5to6-nutshell.pod6-.._..._Two_Dots_or_Three_Dots,_Range_op_or_Flipflop_op">1.3.12 <span class="code">..</span> <span class="code">...</span> Two Dots or Three Dots, Range op or Flipflop op</h2>
 <p>In Perl 5, <span class="code">..</span> was one of two completely different operators, depending on context.</p>
 <p>In list context, <span class="code">..</span> is the familiar range operator. Range has many new wrinkles in Perl 6, but ranges from Perl 5 code should <b>not</b> require translation.</p>
 <p>In scalar context, <span class="code">..</span> and <span class="code">...</span> were the little-known Flipflop operators. They have been replaced by <span class="code">ff</span> and <span class="code">fff</span>.</p>
 <a name="t1.3.13"></a><h2 id="_language_5to6-nutshell.pod6-String_interpolation">1.3.13 String interpolation</h2>
 <p>In Perl 5, <span class="code">&quot;${foo}s&quot;</span> deliminates a variable name from regular text next to it. In Perl 6, simply extend the curly braces to include the sigil too: <span class="code">&quot;{$foo}s&quot;</span></p>
 <a name="t1.4"></a><h1 id="_language_5to6-nutshell.pod6-Compound_Statements">1.4 Compound Statements</h1>
 <a name="t1.4.1"></a><h2 id="_language_5to6-nutshell.pod6-Conditionals">1.4.1 Conditionals</h2>
 <a name="t1.4.1.1"></a><h3 id="_language_5to6-nutshell.pod6-if_elsif_else_unless">1.4.1.1 <span class="code">if</span> <span class="code">elsif</span> <span class="code">else</span> <span class="code">unless</span></h3>
 <p>Mostly unchanged; parentheses around the conditions are now optional, but if used, must not immediately follow the keyword, or it will be taken as a function call instead. Binding the conditional expression to a variable is also a little different:</p>
 <pre class="code">if (my $x = dostuff()) {...}  # Perl 5 
</pre>
 <pre class="code">if dostuff() -&gt; $x {...}      # Perl 6 
</pre>
 <p>(You can still use the <span class="code">my</span> form in Perl 6, but it will scope to the outer block, not the inner.)</p>
 <p>The <span class="code">unless</span> conditional only allows for a single block in Perl 6; it does not allow for an <span class="code">elsif</span> or <span class="code">else</span> clause.</p>
 <a name="t1.4.1.2"></a><h3 id="_language_5to6-nutshell.pod6-given-when">1.4.1.2 <span class="code">given</span>-<span class="code">when</span></h3>
 <p>The <span class="code">given</span>-<span class="code">when</span> construct is like a chain of <span class="code">if</span>-<span class="code">elsif</span>-<span class="code">else</span> statements or like the <span class="code">switch</span>-<span class="code">case</span> construct in e.g. C. It has the general structure:</p>
 <pre class="code">given EXPR { 
     when EXPR { ... } 
     when EXPR { ... } 
     default { ... } 
 } 
</pre>
 <p>In its simplest form, the construct is as follows:</p>
 <pre class="code">given $value { 
     when &quot;a match&quot; { 
         # do-something(); 
     } 
     when &quot;another match&quot; { 
         # do-something-else(); 
     } 
     default { 
         # do-default-thing(); 
     } 
 } 
</pre>
 <p>This is simple in the sense that a scalar value is matched in the <span class="code">when</span> statements. More generally, the matches are actually smart-matches on the input value such that lookups using more complex entities such as regexps can be used instead of scalar values.</p>
 <p>See also the warnings on the smart-match op above.</p>
 <a name="t1.4.2"></a><h2 id="_language_5to6-nutshell.pod6-Loops">1.4.2 Loops</h2>
 <a name="t1.4.2.1"></a><h3 id="_language_5to6-nutshell.pod6-while_until">1.4.2.1 <span class="code">while</span> <span class="code">until</span></h3>
 <p>Mostly unchanged; parentheses around the conditions are now optional, but if used, must not immediately follow the keyword, or it will be taken as a function call instead. Binding the conditional expression to a variable is also a little different:</p>
 <pre class="code">while (my $x = dostuff()) {...}  # Perl 5 
</pre>
 <pre class="code">while dostuff() -&gt; $x {...}      # Perl 6 
</pre>
 <p>(You can still use the <span class="code">my</span> form in Perl 6, but it will scope to the outer block, not the inner.)</p>
 <p>Note that reading line-by-line from a filehandle has changed.</p>
 <p>In Perl 5, it was done in a <span class="code">while</span> loop using the diamond operator. Using <span class="code">for</span> instead of <span class="code">while</span> was a common bug, because the <span class="code">for</span> causes the whole file to be sucked in at once, swamping the program's memory usage.</p>
 <p>In Perl 6, <span class="code">for</span> statement is <b>lazy</b>, so we read line-by-line in a <span class="code">for</span> loop using the <span class="code">.lines</span> method.</p>
 <pre class="code">while (&lt;IN_FH&gt;)  { } # Perl 5 
</pre>
 <pre class="code">for $IN_FH.lines { } # Perl 6 
</pre>
 <a name="t1.4.2.2"></a><h3 id="_language_5to6-nutshell.pod6-do_while/until">1.4.2.2 <span class="code">do</span> <span class="code">while</span>/<span class="code">until</span></h3>
 <pre class="code"># Perl 5 
 do { 
     ... 
 } while $x &lt; 10; 
 
 do { 
     ... 
 } until $x &gt;= 10; 
</pre>
 <p>The construct is still present, but <span class="code">do</span> was renamed to <span class="code">repeat</span>, to better represent what the construct does:</p>
 <pre class="code"># Perl 6 
 repeat { 
     ... 
 } while $x &lt; 10; 
 
 repeat { 
     ... 
 } until $x &gt;= 10; 
</pre>
 <a name="t1.4.2.3"></a><h3 id="_language_5to6-nutshell.pod6-for_foreach">1.4.2.3 <span class="code">for</span> <span class="code">foreach</span></h3>
 <p>Note first this common misunderstanding about the <span class="code">for</span> and <span class="code">foreach</span> keywords. Many programmers think that they distinguish between the C-style three-expression form and the list-iterator form; they do not! In fact, the keywords are interchangeable; the Perl 5 compiler looks for the semi-colons within the parentheses to determine which type of loop to parse.</p>
 <p>The C-style three-factor form now uses the <span class="code">loop</span> keyword, and is otherwise unchanged. The parentheses <b>are</b> still required.</p>
 <pre class="code">for  ( my $i = 1; $i &lt;= 10; $i++ ) { ... } # Perl 5 
</pre>
 <pre class="code">loop ( my $i = 1; $i &lt;= 10; $i++ ) { ... } # Perl 6 
</pre>
 <p>The loop-iterator form is named <span class="code">for</span> in Perl 6 and <span class="code">foreach</span> is no longer a keyword. The <span class="code">for</span> loop has the following rules:</p>
 <ul><li><p>parentheses are optional;</p>
</li></ul> <ul><li><p>the iteration variable, if any, has been moved from appearing before the list, to appearing after the list and an added arrow operator;</p>
</li></ul> <ul><li><p>the iteration variable is now always lexical: <span class="code">my</span> is neither needed nor allowed;</p>
</li></ul> <ul><li><p>the iteration variable is a <i>read-only</i> alias to the current list element (in Perl 5 it is a <i>read-write</i> alias!). If a read-write alias is required, change the <span class="code">-&gt;</span> before the iteration variable to a <span class="code">&lt;-&gt;</span>. When translating from Perl 5, inspect the use of the loop variable to decide if read-write is needed.</p>
</li></ul> <pre class="code">for my $car (@cars)  {...} # Perl 5; read-write 
</pre>
 <pre class="code">for @cars  -&gt; $car   {...} # Perl 6; read-only 
 for @cars &lt;-&gt; $car   {...} # Perl 6; read-write 
</pre>
 <p>If the default topic <span class="code">$_</span> is being used, but needs to be read-write, then just use <span class="code">&lt;-&gt;</span> and explicitly specify <span class="code">$_</span>.</p>
 <pre class="code">for (@cars)      {...} # Perl 5; $_ is read-write 
</pre>
 <pre class="code">for @cars        {...} # Perl 6; $_ is read-only 
 for @cars &lt;-&gt; $_ {...} # Perl 6; $_ is read-write 
</pre>
 <p>It is possible to consume more than one element of the list in each iteration simply specifying more than one variable after the arrow operator:</p>
 <pre class="code">my @array = 1..10; 
 for @array -&gt; $first, $second { 
     say &quot;First is $first, second is $second&quot;; 
 } 
</pre>
 <a name="t1.4.2.3.1"></a><h4 id="_language_5to6-nutshell.pod6-each">1.4.2.3.1 <span class="code">each</span></h4>
 <p>Here is the equivalent to Perl 5’s <span class="code">while…each(%hash)</span> or <span class="code">while…each(@array)</span> (i.e., iterating over both the keys/indices and values of a data structure) in Perl 6:</p>
 <pre class="code">while (my ($i, $v) = each(@array)) { ... } # Perl 5 
</pre>
 <pre class="code">for @array.kv -&gt; $i, $v { ... } # Perl 6 
</pre>
 <pre class="code">while (my ($k, $v) = each(%hash)) { ... } # Perl 5 
</pre>
 <pre class="code">for %hash.kv -&gt; $k, $v { ... } # Perl 6 
</pre>
 <a name="t1.4.3"></a><h2 id="_language_5to6-nutshell.pod6-Flow_Control_statements">1.4.3 Flow Control statements</h2>
 <p>Unchanged:</p>
 <ul><li><p><span class="code">next</span></p>
</li></ul> <ul><li><p><span class="code">last</span></p>
</li></ul> <ul><li><p><span class="code">redo</span></p>
</li></ul> <a name="t1.4.3.1"></a><h3 id="_language_5to6-nutshell.pod6-continue">1.4.3.1 <span class="code">continue</span></h3>
 <p>There is no longer a <span class="code">continue</span> block. Instead, use a <span class="code">NEXT</span> block within the body of the loop.</p>
 <pre class="code"># Perl 5 
     my $str = ''; 
     for (1..5) { 
         next if $_ % 2 == 1; 
         $str .= $_; 
     } 
     continue { 
         $str .= ':' 
     } 
</pre>
 <pre class="code"># Perl 6 
     my $str = ''; 
     for 1..5 { 
         next if $_ % 2 == 1; 
         $str ~= $_; 
         NEXT { 
             $str ~= ':' 
         } 
     } 
</pre>
 <a name="t1.5"></a><h1 id="_language_5to6-nutshell.pod6-Functions">1.5 Functions</h1>
 NOTE FOR EDITORS: When adding functions, please place them in
                           alphabetical order.
 <a name="t1.5.1"></a><h2 id="_language_5to6-nutshell.pod6-Built-ins_with_bare_blocks">1.5.1 Built-ins with bare blocks</h2>
 <p>Builtins that previously accepted a bare block followed, without a comma, by the remainder of the arguments will now require a comma between the block and the arguments e.g. <span class="code">map</span>, <span class="code">grep</span>, etc.</p>
 <pre class="code">my @results = grep { $_ eq &quot;bars&quot; } @foo; # Perl 5 
</pre>
 <pre class="code">my @results = grep { $_ eq &quot;bars&quot; }, @foo; # Perl 6 
</pre>
 <a name="t1.5.2"></a><h2 id="_language_5to6-nutshell.pod6-delete">1.5.2 <span class="code">delete</span></h2>
 <p>Turned into an adverb of the <a href="#0-{}_Hash_indexing/slicing"><span class="code">{}</span>  hash subscripting</a> and <a href="#0-[]_Array_indexing/slicing"><span class="code">[]</span>  array subscripting</a> operators.</p>
 <pre class="code">my $deleted_value = delete $hash{$key};  # Perl 5 
</pre>
 <pre class="code">my $deleted_value = %hash{$key}:delete;  # Perl 6 - use :delete adverb 
</pre>
 <pre class="code">my $deleted_value = delete $array[$i];  # Perl 5 
</pre>
 <pre class="code">my $deleted_value = @array[$i]:delete;  # Perl 6 - use :delete adverb 
</pre>
 <a name="t1.5.3"></a><h2 id="_language_5to6-nutshell.pod6-exists">1.5.3 <span class="code">exists</span></h2>
 <p>Turned into an adverb of the <a href="#0-{}_Hash_indexing/slicing"><span class="code">{}</span>  hash subscripting</a> and <a href="#0-[]_Array_indexing/slicing"><span class="code">[]</span>  array subscripting</a> operators.</p>
 <pre class="code">say &quot;element exists&quot; if exists $hash{$key};  # Perl 5 
</pre>
 <pre class="code">say &quot;element exists&quot; if %hash{$key}:exists;  # Perl 6 - use :exists adverb 
</pre>
 <pre class="code">say &quot;element exists&quot; if exists $array[$i];  # Perl 5 
</pre>
 <pre class="code">say &quot;element exists&quot; if @array[$i]:exists;  # Perl 6 - use :exists adverb 
</pre>
 <a name="t1.6"></a><h1 id="_language_5to6-nutshell.pod6-Regular_Expressions_(_Regex_/_Regexp_)">1.6 Regular Expressions ( Regex / Regexp )</h1>
 <a name="t1.6.1"></a><h2 id="_language_5to6-nutshell.pod6-Change_=~_and_!~_to_~~_and_!~~_.">1.6.1 Change <span class="code">=~</span> and <span class="code">!~</span> to <span class="code">~~</span> and <span class="code">!~~</span> .</h2>
 <p>In Perl 5, matches and substitutions are done against a variable using the <span class="code">=~</span> regexp-binding op.</p>
 <p>In Perl 6, the <span class="code">~~</span> smartmatch op is used instead.</p>
 <pre class="code">next if $line  =~ /static/  ; # Perl 5 
</pre>
 <pre class="code">next if $line  ~~ /static/  ; # Perl 6 
</pre>
 <pre class="code">next if $line  !~ /dynamic/ ; # Perl 5 
</pre>
 <pre class="code">next if $line !~~ /dynamic/ ; # Perl 6 
</pre>
 <pre class="code">$line =~ s/abc/123/;          # Perl 5 
</pre>
 <pre class="code">$line ~~ s/abc/123/;          # Perl 6 
</pre>
 <p>Alternately, the new <span class="code">.match</span> and <span class="code">.subst</span> methods can be used. Note that <span class="code">.subst</span> is non-mutating. See <a href="https://design.perl6.org/S05.html#Substitution">S05/Substitution</a>.</p>
 <a name="t1.6.2"></a><h2 id="_language_5to6-nutshell.pod6-Captures_start_with_0,_not_1">1.6.2 Captures start with 0, not 1</h2>
 <pre class="code">/(.+)/ and print $1; # Perl 5 
</pre>
 <pre class="code">/(.+)/ and print $0; # Perl 6 
</pre>
 <a name="t1.6.3"></a><h2 id="_language_5to6-nutshell.pod6-Move_modifiers">1.6.3 Move modifiers</h2>
 <p>Move any modifiers from the end of the regex to the beginning. This may require you to add the optional <span class="code">m</span> on a plain match like <span class="code">/abc/</span>.</p>
 <pre class="code">next if $line =~    /static/i ; # Perl 5 
</pre>
 <pre class="code">next if $line ~~ m:i/static/  ; # Perl 6 
</pre>
 <a name="t1.6.4"></a><h2 id="_language_5to6-nutshell.pod6-Add_:P5_or_:Perl5_adverb">1.6.4 Add :P5 or :Perl5 adverb</h2>
 <p>If the actual regex is complex, you may want to use it as-is, by adding the <span class="code">P5</span> modifier.</p>
 <pre class="code">next if $line =~    m/[aeiou]/   ; # Perl 5 
</pre>
 <pre class="code">next if $line ~~ m:P5/[aeiou]/   ; # Perl 6, using P5 modifier 
 next if $line ~~ m/  &lt;[aeiou]&gt; / ; # Perl 6, native new syntax 
</pre>
 <a name="t1.6.5"></a><h2 id="_language_5to6-nutshell.pod6-Special_matchers_generally_fall_under_the_&lt;&gt;_syntax">1.6.5 Special matchers generally fall under the &lt;&gt; syntax</h2>
 <p>There are many cases of special matching syntax that Perl 5 regexes support. They won't all be listed here, but often instead of being surrounded by <span class="code">()</span>, the assertions will be surrounded by <span class="code">&lt;&gt;</span>.</p>
 <p>For character classes, this means that:</p>
 <ul><li><p><span class="code">[abc]</span> becomes <span class="code">&lt;[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[^abc]</span> becomes <span class="code">&lt;-[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[a-zA-Z]</span> becomes <span class="code">&lt;[a..zA..Z]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[[:upper:]]</span> becomes <span class="code">&lt;:Upper&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[abc[:upper:]]</span> becomes <span class="code">&lt;[abc]+:Upper&gt;</span></p>
</li></ul> <p>For lookaround assertions:</p>
 <ul><li><p><span class="code">(?=[abc])</span> becomes <span class="code">&lt;?[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?=ar?bitrary* pattern)</span> becomes <span class="code">&lt;before ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?!=[abc])</span> becomes <span class="code">&lt;![abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?!=ar?bitrary* pattern)</span> becomes <span class="code">&lt;!before ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?&lt;=ar?bitrary* pattern)</span> becomes <span class="code">&lt;after ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?&lt;!ar?bitrary* pattern)</span> becomes <span class="code">&lt;!after ar?bitrary* pattern&gt;</span></p>
</li></ul> <p>For more info see <a href="#_language_regexes.pod6-Lookahead_assertions_&lt;?before_pattern&gt;">lookahead assertions</a>.</p>
 <p>(Unrelated to &lt;&gt; syntax, the &quot;lookaround&quot; <span class="code">/foo\Kbar/</span> becomes <span class="code">/foo &lt;( bar )&gt; /</span></p>
 <ul><li><p><span class="code">(?(?{condition))yes-pattern|no-pattern)</span> becomes <span class="code">[ &lt;?{condition}&gt; yes-pattern | no-pattern ]</span></p>
</li></ul> <a name="t1.6.6"></a><h2 id="_language_5to6-nutshell.pod6-Longest_token_matching_(LTM)_displaces_alternation">1.6.6 Longest token matching (LTM) displaces alternation</h2>
 <p>In Perl 6 regexes, <span class="code">|</span> does LTM, which decides which alternation wins an ambiguous match based off of a set of rules, rather than about which was written first.</p>
 <p>The simplest way to deal with this is just to change any <span class="code">|</span> in your Perl 5 regex to a <span class="code">||</span>.</p>
 <p>However, if a regex written with <span class="code">||</span> is inherited or composed into a grammar that uses <span class="code">|</span> either by design or typo, the result may not work as expected. So when the matching process becomes complex, you finally need to have some understanding of both, especially how LTM strategy works. Besides, <span class="code">|</span> may be a better choice for grammar reuse.</p>
 <p>TODO more rules. Use <a href="https://github.com/Util/Blue_Tiger/ "><span class="code">translate_regex.pl</span>  from Blue Tiger</a> in the meantime.</p>
 <a name="t1.6.6.1"></a><h3 id="_language_5to6-nutshell.pod6-Comments">1.6.6.1 Comments</h3>
 <p>As with Perl 5, comments work as usual in regexes.</p>
 <pre class="code">/ word #`(match lexical &quot;word&quot;) /</pre>
 <a name="t1.7"></a><h1 id="_language_5to6-nutshell.pod6-Pragmas">1.7 Pragmas</h1>
 <a name="t1.7.0.1"></a><h3 id="_language_5to6-nutshell.pod6-strict">1.7.0.1 <span class="code">strict</span></h3>
 <p>Strict mode is now on by default.</p>
 <a name="t1.7.0.2"></a><h3 id="_language_5to6-nutshell.pod6-warnings">1.7.0.2 <span class="code">warnings</span></h3>
 <p>Warnings are now on by default.</p>
 <p><span class="code">no warnings</span> is currently <a href="#_language_glossary.pod6-NYI">NYI</a>, but putting things in a quietly {} block will silence.</p>
 <a name="t1.7.0.3"></a><h3 id="_language_5to6-nutshell.pod6-autodie">1.7.0.3 <span class="code">autodie</span></h3>
 <p>The functions which were altered by <span class="code">autodie</span> to throw exceptions on error, now throw exceptions by default unless you test the return value explicitly.</p>
 <pre class="code"># Perl 5 
 open my $i_fh, '&lt;', $input_path;  # Fails silently on error 
 use autodie; 
 open my $o_fh, '&gt;', $output_path; # Throws exception on error 
</pre>
 <pre class="code"># Perl 6 
 my $i_fh = open $input_path,  :r; # Throws exception on error 
 my $o_fh = open $output_path, :w; # Throws exception on error 
</pre>
 <a name="t1.7.0.4"></a><h3 id="_language_5to6-nutshell.pod6-base">1.7.0.4 <span class="code">base</span></h3>
 <a name="t1.7.0.5"></a><h3 id="_language_5to6-nutshell.pod6-parent">1.7.0.5 <span class="code">parent</span></h3>
 <p>Both <span class="code">use base</span> and <span class="code">use parent</span> have been replaced in Perl 6 by the <span class="code">is</span> keyword, in the class declaration.</p>
 <pre class="code"># Perl 5 
 package Cat; 
 use base qw(Animal); 
</pre>
 <pre class="code"># Perl 6 
 class Cat is Animal {}; 
</pre>
 <a name="t1.7.0.6"></a><h3 id="_language_5to6-nutshell.pod6-bigint_bignum_bigrat">1.7.0.6 <span class="code">bigint</span> <span class="code">bignum</span> <span class="code">bigrat</span></h3>
 <p>No longer relevant.</p>
 <p><span class="code">Int</span> is now arbitrary precision, as is the numerator of <span class="code">Rat</span> (the denominator is limited to <span class="code">2**64</span>, after which it will automatically upgrade to <span class="code">Num</span> to preserve performance). If you want a <span class="code">Rat</span> with an arbitrary-precision denominator, <span class="code">FatRat</span> is available.</p>
 <a name="t1.7.0.7"></a><h3 id="_language_5to6-nutshell.pod6-constant">1.7.0.7 <a name="1"></a><span class="code">constant</span></h3>
 <p>In Perl 6, <span class="code">constant</span> is a declarator for variables, just like <span class="code">my</span>, except the variable is permanently locked to the result of its initialization expression (evaluated at compile time).</p>
 <p>So, change the <span class="code">=&gt;</span> to <span class="code">=</span>.</p>
 <pre class="code">use constant DEBUG =&gt; 0; # Perl 5 
</pre>
 <pre class="code">constant DEBUG = 0;      # Perl 6 
</pre>
 <pre class="code">use constant pi =&gt; 4 * atan2(1, 1); # Perl 5 
</pre>
 <pre class="code"> pi, e, i; # built-in constants in Perl 6 
</pre>
 <a name="t1.7.0.8"></a><h3 id="_language_5to6-nutshell.pod6-encoding">1.7.0.8 <span class="code">encoding</span></h3>
 <p>TODO Allows you to write your script in non-ascii or non-utf8</p>
 <a name="t1.7.0.9"></a><h3 id="_language_5to6-nutshell.pod6-integer">1.7.0.9 <span class="code">integer</span></h3>
 <p>Perl pragma to use integer arithmetic instead of floating point</p>
 <a name="t1.7.0.10"></a><h3 id="_language_5to6-nutshell.pod6-lib">1.7.0.10 <span class="code">lib</span></h3>
 <p>Manipulate @INC at compile time</p>
 <a name="t1.7.0.11"></a><h3 id="_language_5to6-nutshell.pod6-mro">1.7.0.11 <span class="code">mro</span></h3>
 <p>No longer relevant.</p>
 <p>In Perl 6, method calls now always use the C3 method resolution order.</p>
 <a name="t1.7.0.12"></a><h3 id="_language_5to6-nutshell.pod6-utf8">1.7.0.12 <span class="code">utf8</span></h3>
 <p>No longer relevant.</p>
 <p>In Perl 6, source code is expected to be in utf8 encoding.</p>
 <a name="t1.7.0.13"></a><h3 id="_language_5to6-nutshell.pod6-vars">1.7.0.13 <span class="code">vars</span></h3>
 <p>Discouraged in Perl 5. See <a href="http://perldoc.perl.org/vars.html">http://perldoc.perl.org/vars.html</a>.</p>
 <p>You should refactor your Perl 5 code to remove the need for <span class="code">use vars</span>, before translating into Perl 6.</p>
 <a name="t1.8"></a><h1 id="_language_5to6-nutshell.pod6-Command-line_flags">1.8 Command-line flags</h1>
 <p>See <a href="https://design.perl6.org/S19.html#Command_Line_Elements">S19/commandline</a></p>
 <p>Unchanged:</p>
 <p>-c -e -h -I -n -p -S -T -v -V</p>
 <a name="t1.8.0.1"></a><h3 id="_language_5to6-nutshell.pod6--a">1.8.0.1 <span class="code">-a</span></h3>
 <p>Change your code to use <span class="code">.split</span> manually.</p>
 <a name="t1.8.0.2"></a><h3 id="_language_5to6-nutshell.pod6--F">1.8.0.2 <span class="code">-F</span></h3>
 <p>Change your code to use <span class="code">.split</span> manually.</p>
 <a name="t1.8.0.3"></a><h3 id="_language_5to6-nutshell.pod6--l">1.8.0.3 <span class="code">-l</span></h3>
 <p>This is now the default behavior.</p>
 <a name="t1.8.0.4"></a><h3 id="_language_5to6-nutshell.pod6--M_-m">1.8.0.4 <span class="code">-M</span> <span class="code">-m</span></h3>
 <p>Only <span class="code">-M</span> remains. And, as you can no longer use the &quot;no Module&quot; syntax, the use of <span class="code">-</span> with <span class="code">-M</span> to &quot;no&quot; a module is no longer available.</p>
 <a name="t1.8.0.5"></a><h3 id="_language_5to6-nutshell.pod6--E">1.8.0.5 <span class="code">-E</span></h3>
 <p>Since all features are already enabled, just use lowercase <span class="code">-e</span> .</p>
 <a name="t1.8.0.6"></a><h3 id="_language_5to6-nutshell.pod6--d,_-dt,_-d:foo,_-D,_etc.">1.8.0.6 <span class="code">-d</span>, <span class="code">-dt</span>, <span class="code">-d:foo</span>, <span class="code">-D</span>, etc.</h3>
 <p>Replaced with the <span class="code">++BUG</span> metasyntactic option.</p>
 <a name="t1.8.0.7"></a><h3 id="_language_5to6-nutshell.pod6--s">1.8.0.7 -s</h3>
 <p>Switch parsing is now done by the parameter list of the <span class="code">MAIN</span> subroutine.</p>
 <pre class="code"># Perl 5 
     #!/usr/bin/perl -s 
     if ($xyz) { print &quot;$xyz\n&quot; } 
 ./example.pl -xyz=5 
 5 
</pre>
 <pre class="code"># Perl 6 
     sub MAIN( Int :$xyz ) { 
         say $xyz if $xyz.defined; 
     } 
</pre>
 <pre class="code">perl6 example.p6 --xyz=5 
 5 
 perl6 example.p6 -xyz=5 
 5 
</pre>
 <ul><li><p><span class="code">-t</span></p>
</li></ul> <p>Removed.</p>
 <ul><li><p><span class="code">-P</span> <span class="code">-u</span> <span class="code">-U</span> <span class="code">-W</span> <span class="code">-X</span></p>
</li></ul> <p>Removed. See <a href="https://design.perl6.org/S19.html#Removed_Syntactic_Features">S19#Removed Syntactic Features</a>.</p>
 <ul><li><p><span class="code">-w</span></p>
</li></ul> <p>This is now the default behavior.</p>
 <a name="t1.9"></a><h1 id="_language_5to6-nutshell.pod6-File-related_operations">1.9 File-related operations</h1>
 <a name="t1.9.1"></a><h2 id="_language_5to6-nutshell.pod6-Reading_the_lines_of_a_text_file_into_an_array">1.9.1 Reading the lines of a text file into an array</h2>
 <p>In Perl 5, a common idiom for reading the lines of a text file goes something like this:</p>
 <pre class="code">open my $fh, &quot;&lt;&quot;, &quot;file&quot; or die &quot;$!&quot;; 
 my @lines = &lt;$fh&gt;; 
 close $fh; 
</pre>
 <p>In Perl 6, this has been simplified to</p>
 <pre class="code">my @lines = &quot;file&quot;.IO.lines;</pre>
 <p>Do <i>not</i> be tempted to try slurping in a file and splitting the resulting string on newlines as this will give an array with a trailing empty element, which is one more than you probably expect (it's also more complicated), e.g.:</p>
 <pre class="code"># initialize the file to read
spurt &quot;test-file&quot;, q:to/END/;
first line
second line
third line
END
# read the file
my @lines = &quot;test-file&quot;.IO.slurp.split(/\n/);
say @lines.elems;    #-&gt; 4</pre>
 <a name="t1.9.2"></a><h2 id="_language_5to6-nutshell.pod6-Trapping_the_standard_output_of_executables.">1.9.2 Trapping the standard output of executables.</h2>
 <p>Whereas in Perl 5 you would do:</p>
 <pre class="code">my $arg = 'Hello'; 
 my $captured = `echo \Q$arg\E`; 
 my $captured = qx(echo \Q$arg\E); 
</pre>
 <p>Or using String::ShellQuote (because <span class="code">\Q…\E</span> is not completely right):</p>
 <pre class="code">my $arg = shell_quote 'Hello'; 
 my $captured = `echo $arg`; 
 my $captured = qx(echo $arg); 
</pre>
 <p>In Perl 6, you will probably want to run commands without using the shell:</p>
 <pre class="code">my $arg = 'Hello';
my $captured = run('echo', $arg, :out).out.slurp-rest;
my $captured = run(«echo &quot;$arg&quot;», :out).out.slurp-rest;</pre>
 <p>You can also use the shell if you really want to:</p>
 <pre class="code">my $arg = 'Hello';
my $captured = shell(&quot;echo $arg&quot;, :out).out.slurp-rest;
my $captured = qqx{echo $arg};</pre>
 <p>But beware that in this case there is <b>no protection at all</b>! <span class="code">run</span> does not use the shell, so there is no need to escape the arguments (arguments are passed directly). If you are using <span class="code">shell</span> or <span class="code">qqx</span>, then everything ends up being one long string which is then passed to the shell. Unless you validate your arguments very carefully, there is a high chance to introduce shell injection vulnerabilities with such code.</p>
 <a name="t1.10"></a><h1 id="_language_5to6-nutshell.pod6-Environment_variables">1.10 Environment variables</h1>
 <a name="t1.10.1"></a><h2 id="_language_5to6-nutshell.pod6-Perl_module_library_path">1.10.1 Perl module library path</h2>
 <p>In Perl 5 one of the environment variables to specify extra search paths for Perl modules is <span class="code">PERL5LIB</span>.</p>
 <pre class="code">$ PERL5LIB=&quot;/some/module/lib&quot; perl program.pl 
</pre>
 <p>In Perl 6 this is similar, one merely needs to change a number! As you probably guessed, you just need to use <span class="indexed"><a id="2" name="PERL6LIB"><span class="code">PERL6LIB</span></a></span>:</p>
 <pre class="code">$ PERL6LIB=&quot;/some/module/lib&quot; perl6 program.p6 
</pre>
 <p>In Perl 5 one uses the ':' (colon) as a directory separator for <span class="code">PERL5LIB</span>, but in Perl 6 one uses the ',' (comma). For example:</p>
 <pre class="code">$ export PERL5LIB=/module/dir1:/module/dir2; 
</pre>
 <p>but</p>
 <pre class="code">$ export PERL6LIB=/module/dir1,/module/dir2; 
</pre>
 <p>(Perl 6 does not recognize either the <span class="code">PERL5LIB</span> or the older Perl environment variable <span class="code">PERLLIB</span>.)</p>
 <p>As with Perl 5, if you don't specify <span class="code">PERL6LIB</span>, you need to specify the library path within the program via the <span class="code">use lib</span> pragma:</p>
 <pre class="code">use lib '/some/module/lib' 
</pre>
 <p>Note that <span class="code">PERL6LIB</span> is more of a developer convenience in Perl 6 (as opposed to the equivalent usage of <span class="code">PERL5LIB</span> in Perl5) and shouldn't be used by module consumers as it could be removed in the future. This is because Perl 6's module loading isn't directly compatible with operating system paths.</p>
 <a name="t1.11"></a><h1 id="_language_5to6-nutshell.pod6-Misc.">1.11 Misc.</h1>
 <a name="t1.11.1"></a><h2 id="_language_5to6-nutshell.pod6-'0'_is_True">1.11.1 <span class="code">'0'</span> is True</h2>
 <p>Unlike Perl 5, a string containing nothing but zero ('0') is <span class="code">True</span>. As Perl 6 has types in core, that makes more sense. This also means the common pattern:</p>
 <pre class="code">... if defined $x and length $x; # or just length() in modern perls 
</pre>
 <p>In Perl 6 becomes a simple</p>
 <pre class="code">... if $x; 
</pre>
 <a name="t1.11.2"></a><h2 id="_language_5to6-nutshell.pod6-dump">1.11.2 <span class="code">dump</span></h2>
 <p>Gone.</p>
 <p>The Perl 6 design allows for automatic transparent saving-and-loading of compiled bytecode.</p>
 <p>Rakudo supports this only for modules so far.</p>
 <a name="t1.11.3"></a><h2 id="_language_5to6-nutshell.pod6-AUTOLOAD">1.11.3 AUTOLOAD</h2>
 <p>The <a href="#_language_typesystem.pod6-index-entry-FALLBACK_(method)"><span class="code">FALLBACK</span>  method</a> provides similar functionality.</p>
 <a name="t1.11.4"></a><h2 id="_language_5to6-nutshell.pod6-Importing_specific_functions_from_a_module">1.11.4 Importing specific functions from a module <a name="3"></a></h2>
 <p>In Perl 5 it is possible to selectively import functions from a given module like so:</p>
 <pre class="code">use ModuleName qw{foo bar baz}; 
</pre>
 <p>In Perl 6 one specifies the functions which are to be exported by using the <span class="code">is export</span> role on the relevant subs and <i>all</i> subs with this role are then exported. Hence, the following module <span class="code">Bar</span> exports the subs <span class="code">foo</span> and <span class="code">bar</span> but not <span class="code">baz</span>:</p>
 <pre class="code">unit module Bar; 
 
 sub foo($a) is export { say &quot;foo $a&quot; } 
 sub bar($b) is export { say &quot;bar $b&quot; } 
 sub baz($z) { say &quot;baz $z&quot; } 
</pre>
 <p>To use this module, simply <span class="code">use Bar</span> and the functions <span class="code">foo</span> and <span class="code">bar</span> will be available</p>
 <pre class="code">use Bar; 
 foo(1);    #=&gt; &quot;foo 1&quot; 
 bar(2);    #=&gt; &quot;bar 2&quot; 
</pre>
 <p>If one tries to use <span class="code">baz</span> an &quot;Undeclared routine&quot; error is raised at compile time.</p>
 <p>So, how does one recreate the Perl 5 behaviour of being able to selectively import functions? For this one needs to define an <span class="code">EXPORT</span> sub inside the module which specifies the functions to be exported and remove the <span class="code">module Bar</span> statement.</p>
 <p>The module <span class="code">Bar</span> now is merely a file called <span class="code">Bar.pm</span> with the following contents:</p>
 <pre class="code">use v6.c; 
 
 sub EXPORT(*@import-list) { 
     my %exportable-subs = 
         '&amp;foo' =&gt; &amp;foo, 
         '&amp;bar' =&gt; &amp;bar, 
         ; 
     my %subs-to-export; 
     for @import-list -&gt; $import { 
         if grep $sub-name, %exportable-subs.keys { 
             %subs-to-export{$sub-name} = %exportable-subs{$sub-name}; 
         } 
     } 
     return %subs-to-export; 
 } 
 
 sub foo($a, $b, $c) { say &quot;foo, $a, $b, $c&quot; } 
 sub bar($a) { say &quot;bar, $a&quot; } 
 sub baz($z) { say &quot;baz, $z&quot; } 
</pre>
 <p>Note that the subs are no longer explicitly exported via the <span class="code">is export</span> role. We are defining an <span class="code">EXPORT</span> sub which specifies the subs in the module we want to be available for export and then we are populating a hash containing the subs which will actually be exported. The <span class="code">@import-list</span> is set by the <span class="code">use</span> statement in the calling code thus allowing us to selectively import the subs made available by the module.</p>
 <p>So, to import only the <span class="code">foo</span> routine, we do the following in the calling code:</p>
 <pre class="code">use Bar &lt;foo&gt;; 
 foo(1);       #=&gt; &quot;foo 1&quot; 
</pre>
 <p>Here we see that even though <span class="code">bar</span> is able to be exported, if we don't explicitly import it, it's not available for use. Hence this causes an &quot;Undeclared routine&quot; error at compile time:</p>
 <pre class="code">use Bar &lt;foo&gt;; 
 foo(1); 
 bar(5);       #!&gt; &quot;Undeclared routine: bar used at line 3&quot; 
</pre>
 <p>however, this will work</p>
 <pre class="code">use Bar &lt;foo bar&gt;; 
 foo(1);       #=&gt; &quot;foo 1&quot; 
 bar(5);       #=&gt; &quot;bar 5&quot; 
</pre>
 <p>Note also that <span class="code">baz</span> remains unimportable even if specified in the <span class="code">use</span> statement:</p>
 <pre class="code">use Bar &lt;foo bar baz&gt;; 
 baz(3);       #!&gt; &quot;Undeclared routine: baz used at line 2&quot; 
</pre>
 <p>In order to get this to work, one obviously has to jump through many hoops. In the standard use-case where one specifies the functions to be exported via the <span class="code">is export</span> role, Perl 6 automatically creates the <span class="code">EXPORT</span> sub in the correct manner for you, so one should consider very carefully whether or not writing one's own <span class="code">EXPORT</span> routine is worthwhile.</p>
 <a name="t1.12"></a><h1 id="_language_5to6-nutshell.pod6-Core_modules">1.12 Core modules</h1>
 <a name="t1.12.0.1"></a><h3 id="_language_5to6-nutshell.pod6-Data::Dumper">1.12.0.1 <span class="code">Data::Dumper</span></h3>
 <p>In Perl 5, the <a href="https://metacpan.org/pod/Data::Dumper">Data::Dumper</a> module was used for serialization, and for debugging views of program data structures by the programmer.</p>
 <p>In Perl 6, these tasks are accomplished with the <span class="code">.perl</span> method, which every object has.</p>
 <pre class="code"># Given: 
     my @array_of_hashes = ( 
         { NAME =&gt; 'apple',   type =&gt; 'fruit' }, 
         { NAME =&gt; 'cabbage', type =&gt; 'no, please no' }, 
     ); 
 # Perl 5 
     use Data::Dumper; 
     $Data::Dumper::Useqq = 1; 
     print Dumper \@array_of_hashes; # Note the backslash. 
</pre>
 <pre class="code"># Perl 6 
     say @array_of_hashes.perl; # .perl on the array, not on its reference. 
</pre>
 <p>In Perl 5, Data::Dumper has a more complex optional calling convention, which allows for naming the VARs.</p>
 <p>In Perl 6, placing a colon in front of the variable's sigil turns it into a Pair, with a key of the var name, and a value of the var value.</p>
 <pre class="code"># Given: 
     my ( $foo, $bar ) = ( 42, 44 ); 
     my @baz = ( 16, 32, 64, 'Hike!' ); 
 # Perl 5 
     use Data::Dumper; 
     print Data::Dumper-&gt;Dump( 
         [     $foo, $bar, \@baz   ], 
         [ qw(  foo   bar   *baz ) ], 
     ); 
 # Output 
     $foo = 42; 
     $bar = 44; 
     @baz = ( 
              16, 
              32, 
              64, 
              'Hike!' 
            ); 
</pre>
 <pre class="code"># Perl 6 
     say [ :$foo, :$bar, :@baz ].perl; 
 # Output 
     [&quot;foo&quot; =&gt; 42, &quot;bar&quot; =&gt; 44, &quot;baz&quot; =&gt; [16, 32, 64, &quot;Hike!&quot;]] 
</pre>
 <a name="t1.12.0.2"></a><h3 id="_language_5to6-nutshell.pod6-Getopt::Long">1.12.0.2 <span class="code">Getopt::Long</span></h3>
 <p>Switch parsing is now done by the parameter list of the <span class="code">MAIN</span> subroutine.</p>
 <pre class="code"># Perl 5 
     use 5.010; 
     use Getopt::Long; 
     GetOptions( 
         'length=i' =&gt; \( my $length = 24       ), # numeric 
         'file=s'   =&gt; \( my $data = 'file.dat' ), # string 
         'verbose'  =&gt; \( my $verbose           ), # flag 
     ) or die; 
     say $length; 
     say $data; 
     say 'Verbosity ', ($verbose ? 'on' : 'off') if defined $verbose; 
 perl example.pl 
     24 
     file.dat 
 perl example.pl --file=foo --length=42 --verbose 
     42 
     foo 
     Verbosity on 
 
 perl example.pl --length=abc 
     Value &quot;abc&quot; invalid for option length (number expected) 
     Died at c.pl line 3. 
</pre>
 <pre class="code"># Perl 6 
     sub MAIN( Int :$length = 24, :file($data) = 'file.dat', Bool :$verbose ) { 
         say $length if $length.defined; 
         say $data   if $data.defined; 
         say 'Verbosity ', ($verbose ?? 'on' !! 'off'); 
     } 
</pre>
 <pre class="code">perl6 example.p6 
     24 
     file.dat 
     Verbosity off 
 perl6 example.p6 --file=foo --length=42 --verbose 
     42 
     foo 
     Verbosity on 
 perl6 example.p6 --length=abc 
     Usage: 
       c.p6 [--length=&lt;Int&gt;] [--file=&lt;Any&gt;] [--verbose] 
</pre>
 <p>Note that Perl 6 auto-generates a full usage message on error in command-line parsing.</p>
 <a name="t1.13"></a><h1 id="_language_5to6-nutshell.pod6-Automated_Translation">1.13 Automated Translation</h1>
 <p>A quick way to find the Perl 6 version of a Perl 5 construct, is to run it through an automated translator.</p>
 <p><b>NOTE:</b> None of these translators are yet complete.</p>
 <a name="t1.13.1"></a><h2 id="_language_5to6-nutshell.pod6-Blue_Tiger">1.13.1 Blue Tiger</h2>
 <p>This project is dedicated to automated modernization of Perl code. It does not (yet) have a web front-end, and so must be locally installed to be useful. It also contains a separate program to translate Perl 5 regexes into Perl 6.</p>
 <p><a href="https://github.com/Util/Blue_Tiger/">https://github.com/Util/Blue_Tiger/</a></p>
 <a name="t1.13.2"></a><h2 id="_language_5to6-nutshell.pod6-Perlito">1.13.2 Perlito</h2>
 <p>Online Translator!</p>
 <p>This project is a suite of Perl cross-compilers, including Perl 5-to-6 translation. It has a web front-end, and so can be used without installation. It only supports a subset of Perl 5 syntax so far.</p>
 <p><a href="http://fglock.github.io/Perlito/perlito/perlito5.html">http://fglock.github.io/Perlito/perlito/perlito5.html</a></p>
 <a name="t1.13.3"></a><h2 id="_language_5to6-nutshell.pod6-MAD">1.13.3 MAD</h2>
 <p>Larry Wall's own code for translating Perl 5 to Perl 6 has bit-rotted, and is not (currently) viable on recent releases of Perl 5.</p>
 <p>MAD (Misc Attribute Definition) is a configuration option when building Perl from a source distribution. The `perl` executable analyses and translates your Perl sourcecode into an op-tree, and then executes the program by walking the op-tree. Normally, most of the details from the analysis are thrown away during this process. When MAD is enabled, the `perl` executable will save those details to an XML file, which can then be read and further processed into Perl 6 code by a MAD parser.</p>
 <p>Please consult #perl6 to find out the best release of Perl 5 to use for your MAD science experiments.</p>
 <a name="t1.13.4"></a><h2 id="_language_5to6-nutshell.pod6-Perl-ToPerl6">1.13.4 Perl-ToPerl6</h2>
 <p>Jeff Goff's Perl::ToPerl6 module for Perl 5 is designed around Perl::Critic's framework. It aims to convert Perl5 to compilable (if not necessarily running) Perl 6 code with the bare minimum of changes. Code transformers are configurable and pluggable, so you can create and contribute your own transformers, and customize existing transformers to your own needs. You can install the latest release from CPAN, or follow the project live on GitHub. An online converter may become available at some point.</p>
 <a name="t1.14"></a><h1 id="_language_5to6-nutshell.pod6-Other_sources_of_translation_knowledge">1.14 Other sources of translation knowledge</h1>
 <ul><li><p><a href="https://perlgeek.de/en/article/5-to-6">https://perlgeek.de/en/article/5-to-6</a></p>
</li></ul> <ul><li><p><a href="https://github.com/Util/Blue_Tiger/">https://github.com/Util/Blue_Tiger/</a></p>
</li></ul> <ul><li><p><a href="https://perl6advent.wordpress.com/2011/12/23/day-23-idiomatic-perl-6/">https://perl6advent.wordpress.com/2011/12/23/day-23-idiomatic-perl-6/</a></p>
</li></ul> <ul><li><p><a href="http://www.perlfoundation.org/perl6/index.cgi?perl_6_delta_tablet">http://www.perlfoundation.org/perl6/index.cgi?perl_6_delta_tablet</a></p>
</li></ul></div>
<!-- /language/5to6-perlfunc.pod6 --><div class="pod-body"><a id="_language_5to6-perlfunc.pod6"></a><a name="t2"><h1 class="title">2 Perl 5 to Perl 6 guide - Functions</h1></a> <p class="subtitle">Builtin functions in Perl 5 to Perl 6.</p> <a name="t2.1"></a><h1 id="_language_5to6-perlfunc.pod6-DESCRIPTION">2.1 DESCRIPTION</h1>
 <p>A (hopefully) comprehensive list of Perl 5 builtin functions with their Perl 6 equivalents with notes on variations between them where necessary.</p>
 <a name="t2.2"></a><h1 id="_language_5to6-perlfunc.pod6-NOTE">2.2 NOTE</h1>
 <p>This document is an attempt to guide you from the functions in Perl 5's perlfunc document to their equivalents in Perl 6. For full documentation on the Perl 6 functions, follow the links in this document to their respective documentation.</p>
 <p>One general comment: Perl 6 takes its objects a lot more seriously than Perl 5. In Perl 6, everything is an object, although the language is flexible enough to not force you to work in an object oriented manner if you do not wish to do so. What this does mean, however, is that a lot of things that are function calls of the form <span class="code">function(@args)</span> are now also method calls of the form <span class="code">@args.function</span> (In rare cases, there is <i>only</i> a method call). This should be obvious in the following text, but it probably behooves you to get into that frame of mind now.</p>
 <p>Also, unless otherwise stated, the use of the term &quot;function&quot; here will mean a function in the style of <span class="code">func(@args)</span>, while &quot;method&quot; will refer to a function in the style of <span class="code">@args.func</span>.</p>
 <a name="t2.3"></a><h1 id="_language_5to6-perlfunc.pod6-Alphabetical_Listing_of_Perl_Functions">2.3 Alphabetical Listing of Perl Functions</h1>
 <a name="t2.3.1"></a><h2 id="_language_5to6-perlfunc.pod6-Filetests">2.3.1 Filetests</h2>
 <ul><li><p>-X FILEHANDLE</p>
</li></ul> <ul><li><p>-X EXPR</p>
</li></ul> <ul><li><p>-X DIRHANDLE</p>
</li></ul> <ul><li><p>-X</p>
</li></ul> <p>Perl 6 gives you a couple of options when it comes to file tests. You can do a smart match (<span class="code">~~</span>) or you can call a method.</p>
 <p>In Perl 6, you don't need to actually open a filehandle in the traditional way (although you can) to do a filetest. You can simply append <span class="code">.IO</span> to the filename. For instance, here is how to check if a file is readable using smart match:</p>
 <pre class="code">'/path/to/file'.IO ~~ :r</pre>
 <p>You can, of course, use an already opened filehandle. Here, using the file handle <span class="code">$fh</span>, is an example, using the method syntax for the file test:</p>
 <pre class="code">$fh.r 
</pre>
 <p>Most of the former filetests have colon equivalents for use with smart match:</p>
 <table>
<tr><td>:e Exists</td></tr>
 <tr><td>:d Directory</td></tr>
 <tr><td>:f File</td></tr>
 <tr><td>:l Symbolic link</td></tr>
 <tr><td>:r Readable</td></tr>
 <tr><td>:w Writable</td></tr>
 <tr><td>:x Executable</td></tr>
 <tr><td>:s Size</td></tr>
 <tr><td>:z Zero size</td></tr>
</table> <p>All of these tests can be used as methods (without the colon).</p>
 <p>Three tests, however, <i>only</i> have method equivalents:</p>
 <pre class="code">$fh.modified; # -M $fh 
 $fh.accessed; # -A $fh 
 $fh.changed;  # -C $fh 
</pre>
 <p>The remaining filetests in Perl 5 do not appear to be implemented in Perl 6.</p>
 <p>The documentation for this can be found at <a href="#_type_IO::Path.pod6-File_test_operators">File test operators</a>.</p>
 <p>There is more information on reading and writing files at <a href="#_language_io.pod6">io</a>. Also, the section on <span class="code">open()</span> below may be helpful.</p>
 <a name="t2.3.2"></a><h2 id="_language_5to6-perlfunc.pod6-abs">2.3.2 abs</h2>
 <ul><li><p>abs VALUE</p>
</li></ul> <p>Works as a function (<span class="code">abs($x)</span>), but also as a method. One gotcha, however - method calls bind more tightly than <span class="code">-</span>, so, for example, <span class="code">-15.abs</span> evaluates as <span class="code">-(15.abs)</span> giving you <span class="code">-15</span>. In this example, you would have to do something like <span class="code">(-15).abs</span>.</p>
 <p><span class="code">abs</span> also operates on <span class="code">$_</span> in the absence of a value, but not as a function, and as a method you need to call it as <span class="code">.abs</span> rather than simply <span class="code">abs</span>.</p>
 <a name="t2.3.3"></a><h2 id="_language_5to6-perlfunc.pod6-accept">2.3.3 accept</h2>
 <ul><li><p>accept NEWSOCKET, GENERICSOCKET</p>
</li></ul> <p><span class="code">accept</span> is a method you can call on a server, e. g. <span class="code">$server.accept()</span>. Instead of returning a packed address, it returns a socket, most likely an IO::Socket object of some sort.</p>
 <a name="t2.3.4"></a><h2 id="_language_5to6-perlfunc.pod6-alarm">2.3.4 alarm</h2>
 <ul><li><p>alarm SECONDS</p>
</li></ul> <p><span class="code">alarm()</span> is no more. But it is possible to have code execute after a certain time has elapsed, or at a given time:</p>
 <pre class="code">Promise.in(5).then: { say &quot;five seconds have passed&quot; }

Promise.at(now + 5).then: { say &quot;five seconds have passed&quot; }</pre>
 <p>In Perl 6, this does *not* involve any (dummy) signals.</p>
 <a name="t2.3.5"></a><h2 id="_language_5to6-perlfunc.pod6-atan2">2.3.5 atan2</h2>
 <ul><li><p>atan2 Y, X</p>
</li></ul> <p>Available as a function as well as being able to be used as a method. For instance, these are equivalent:</p>
 <pre class="code">atan2(100);
100.atan2;</pre>
 <a name="t2.3.6"></a><h2 id="_language_5to6-perlfunc.pod6-bind">2.3.6 bind</h2>
 <ul><li><p>bind SOCKET, NAME</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] No sign of a socket-related <span class="code">bind()</span> in Perl 6. At a guess, whatever socket binding is needed happens when you create a new socket object.</p>
 <a name="t2.3.7"></a><h2 id="_language_5to6-perlfunc.pod6-binmode">2.3.7 binmode</h2>
 <ul><li><p>binmode FILEHANDLE</p>
</li></ul> <p>Instead of this, you would use <span class="code">:bin</span> as the file mode when opening the socket. E. g. <span class="code">my $fh = open(&quot;path/to/file&quot;, :bin);</span></p>
 <a name="t2.3.8"></a><h2 id="_language_5to6-perlfunc.pod6-bless">2.3.8 bless</h2>
 <ul><li><p>bless REF, CLASSNAME</p>
</li></ul> <p>With the changes in class creation in Perl 6, this may find less use than in Perl 5, and is a method as well as a function. The Perl 6 docs say &quot;Creates a new object of the same type as the invocant, uses the named arguments to initialize attributes, and returns the created object.&quot; If you're porting a module from Perl 5 to Perl 6, it's quite possible you'll want to use <span class="code">new</span> for creating objects rather than <span class="code">bless</span>, although there may be some situations in which the latter may still be useful.</p>
 <a name="t2.3.9"></a><h2 id="_language_5to6-perlfunc.pod6-break">2.3.9 break</h2>
 <ul><li><p>break</p>
</li></ul> <p>Not in Perl 6. For breaking out of <span class="code">given</span> blocks, you should probably take a look at <span class="code">proceed</span> and <span class="code">succeed</span> <a href="#_language_control.pod6-proceed">here</a>.</p>
 <a name="t2.3.10"></a><h2 id="_language_5to6-perlfunc.pod6-caller">2.3.10 caller</h2>
 <ul><li><p>caller EXPR</p>
</li></ul> <p>There are a couple different ways to get at caller information in Perl 6. The basic functionality is provided through <a href="#_routine_callframe.pod6">callframe</a> now. However, Perl 6 constructs call frames for regular blocks, not just for subroutines, so there are more frames to look through. The following will retrieve the basic information that <span class="code">caller</span> can return:</p>
 <pre class="code">my $frame   = callframe(0); # OR just callframe()
my ($subroutine, $package);
if $frame.code ~~ Routine {
    $subroutine = $frame.code.name;
    $package    = $frame.code.package;
}
my $file    = $frame.file;
my $line    = $frame.line;</pre>
 <p>Many of the other details returned by <span class="code">caller</span> are specific to Perl 5 and have no meaning in Perl 6.</p>
 <p>You can also get some of the information for the current frame or routine frame by using the dynamic variables <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">&amp;?ROUTINE</span></a>, <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">&amp;?BLOCK</span></a>, <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">$?PACKAGE</span></a>, <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">$?FILE</span></a>, and <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">$?LINE</span></a>. For many purposes, <a href="#_type_Backtrace.pod6">Backtrace</a> may provide an easier way to browse through the call stack.</p>
 <a name="t2.3.11"></a><h2 id="_language_5to6-perlfunc.pod6-chdir">2.3.11 chdir</h2>
 <ul><li><p>chdir EXPR</p>
</li></ul> <p>Works as it does in Perl 5.</p>
 <a name="t2.3.12"></a><h2 id="_language_5to6-perlfunc.pod6-chmod">2.3.12 chmod</h2>
 <ul><li><p>chmod LIST</p>
</li></ul> <p>Functions as under Perl 5, with the difference that octal numbers are represented differently (<span class="code">0o755</span> rather than <span class="code">0755</span>). You may also use it as a method, e. g. <span class="code">$fh.chmod(0o755)</span>.</p>
 <a name="t2.3.13"></a><h2 id="_language_5to6-perlfunc.pod6-chomp">2.3.13 chomp</h2>
 <ul><li><p>chomp VARIABLE</p>
</li></ul> <p>The behavior of <span class="code">chomp</span> is different than in Perl 5. It leaves the target unaffected and <i>returns</i> a copy of the target with a final logical newline removed, e.g. <span class="code">$x = &quot;howdy\n&quot;;$y = chomp($x);</span> results in <span class="code">$x</span> containing &quot;howdy\n&quot; and <span class="code">$y</span> containing &quot;howdy&quot;. Also works as a method, e.g. <span class="code">$y = $x.chomp</span>. As with many other methods, also works with assignment to modify the target in place, e.g. <span class="code">$x.=chomp</span> results in <span class="code">$x</span> containing &quot;howdy&quot;.</p>
 <a name="t2.3.14"></a><h2 id="_language_5to6-perlfunc.pod6-chop">2.3.14 chop</h2>
 <ul><li><p>chop VARIABLE</p>
</li></ul> <p>As with <span class="code">chomp</span>, in Perl 6, this returns the chopped string, rather than chopping in place. I. e. <span class="code">$x = &quot;howdy&quot;;$y = chop($x);</span> results in <span class="code">$x</span> being &quot;howdy&quot; and <span class="code">$y</span> being &quot;howd&quot;. Also works as a method: <span class="code">$y = $x.chop</span></p>
 <a name="t2.3.15"></a><h2 id="_language_5to6-perlfunc.pod6-chown">2.3.15 chown</h2>
 <ul><li><p>chown LIST</p>
</li></ul> <p><span class="code">chown</span> is not in Perl 6.</p>
 <a name="t2.3.16"></a><h2 id="_language_5to6-perlfunc.pod6-chr">2.3.16 chr</h2>
 <ul><li><p>chr NUMBER</p>
</li></ul> <p>Similar to the Perl 5 version, coerces the target to an integer, and uses that as a Unicode code point to return the relevant character. Can be used as a function and a method:</p>
 <pre class="code">chr(65); # &quot;A&quot;
65.chr;  # &quot;A&quot;</pre>
 <a name="t2.3.17"></a><h2 id="_language_5to6-perlfunc.pod6-chroot">2.3.17 chroot</h2>
 <ul><li><p>chroot FILENAME</p>
</li></ul> <p>Apparently this is not in Perl 6.</p>
 <a name="t2.3.18"></a><h2 id="_language_5to6-perlfunc.pod6-close">2.3.18 close</h2>
 <ul><li><p>close FILEHANDLE</p>
</li></ul> <p>As in Perl 5, closes a filehandle. Returns a boolean value. Both <span class="code">close $fh</span> and <span class="code">$fh.close</span> will work.</p>
 <a name="t2.3.19"></a><h2 id="_language_5to6-perlfunc.pod6-closedir">2.3.19 closedir</h2>
 <ul><li><p>closedir DIRHANDLE</p>
</li></ul> <p>Currently, there is no <span class="code">closedir</span> function. When it is implemented, it may well be a method in the IO::Dir class.</p>
 <a name="t2.3.20"></a><h2 id="_language_5to6-perlfunc.pod6-connect">2.3.20 connect</h2>
 <ul><li><p>connect SOCKET, NAME</p>
</li></ul> <p>Use <a href="#_routine_connect.pod6">connect</a> from <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> for an asynchronous socket or create a <a href="#_type_IO::Socket::INET.pod6">IO::Socket::INET</a> socket for a synchronous one.</p>
 <a name="t2.3.21"></a><h2 id="_language_5to6-perlfunc.pod6-continue">2.3.21 continue</h2>
 <ul><li><p>continue BLOCK</p>
</li></ul> <ul><li><p>continue</p>
</li></ul> <p>Instead of a <span class="code">continue</span> block, you should use a <span class="code">NEXT</span> block. The closest analog to a bare <span class="code">continue;</span> in Perl 5 appears to be <span class="code">proceed</span>/<span class="code">succeed</span>.</p>
 <a name="t2.3.22"></a><h2 id="_language_5to6-perlfunc.pod6-cos">2.3.22 cos</h2>
 <ul><li><p>cos EXPR</p>
</li></ul> <p>Works as in Perl 5, but can be also used as a method, i. e. <span class="code">(1/60000).cos</span>.</p>
 <a name="t2.3.23"></a><h2 id="_language_5to6-perlfunc.pod6-crypt">2.3.23 crypt</h2>
 <ul><li><p>crypt PLAINTEXT, SALT</p>
</li></ul> <p>This appears not to have made it into Perl 6.</p>
 <a name="t2.3.24"></a><h2 id="_language_5to6-perlfunc.pod6-dbm_functions">2.3.24 dbm functions</h2>
 <ul><li><p>dbmclose HASH</p>
</li></ul> <ul><li><p>dbmopen HASH, DBNAME, MASK</p>
</li></ul> <p>These functions have largely been superseded in Perl 5, and are unlikely to ever turn up in Perl 6 (although any assumptions about the Perl 6 database implementation may be premature).</p>
 <a name="t2.3.25"></a><h2 id="_language_5to6-perlfunc.pod6-defined">2.3.25 defined</h2>
 <ul><li><p>defined EXPR</p>
</li></ul> <p>Probably does what you expect, but technically it returns <span class="code">False</span> on the type object, and <span class="code">True</span> otherwise. This may make more sense when you realize that <span class="code">$num.perl</span> is the type <span class="code">Any</span> if you haven't assigned anything to it, and the assigned value if you have. Can, of course be used as a method: <span class="code">$num.defined</span></p>
 <a name="t2.3.26"></a><h2 id="_language_5to6-perlfunc.pod6-delete">2.3.26 delete</h2>
 <ul><li><p>delete EXPR</p>
</li></ul> <p>Perl 6 replaces this with the new adverb syntax, specifically the <span class="code">:delete</span> adverb. E. g. <span class="code">my $deleted_value = %hash{$key}:delete;</span> and <span class="code">my $deleted_value = @array[$i]:delete;</span>.</p>
 <a name="t2.3.27"></a><h2 id="_language_5to6-perlfunc.pod6-die">2.3.27 die</h2>
 <ul><li><p>die LIST</p>
</li></ul> <p>Works similarly to the Perl 5 version, but Perl 6's Exception mechanism may give you more power and flexibility than is available in Perl 5. See <a href="#_language_exceptions.pod6">exceptions</a>. To omit the stacktrace and location, like Perl 5's <span class="code">die &quot;...\n&quot;</span>, use:</p>
 <pre class="code">note &quot;...&quot;;
exit 1;</pre>
 <a name="t2.3.28"></a><h2 id="_language_5to6-perlfunc.pod6-do">2.3.28 do</h2>
 <ul><li><p>do BLOCK</p>
</li></ul> <p>Similar to the Perl 5 version. Note that there must be a space between the <span class="code">do</span> and the block.</p>
 <ul><li><p>do EXPR</p>
</li></ul> <p>Has been replaced in Perl 6 by <span class="code">EVALFILE</span>.</p>
 <a name="t2.3.29"></a><h2 id="_language_5to6-perlfunc.pod6-dump">2.3.29 dump</h2>
 <ul><li><p>dump LABEL</p>
</li></ul> <p>According to S29, <span class="code">dump</span> has been... dumped.</p>
 <a name="t2.3.30"></a><h2 id="_language_5to6-perlfunc.pod6-each">2.3.30 each</h2>
 <ul><li><p>each HASH</p>
</li></ul> <p>There is no exact equivalent, but you can use <span class="code">%hash.kv</span> which returns a list of keys and values. For example: <span class="code">for %hash.kv -&gt; $k, $v { say &quot;$k: $v&quot; } </span></p>
 <p>Incidentally, what we have there with the <span class="code">-&gt; </span> is called a pointy block and, though there are a number of examples in the documentation, there doesn't seem to be a really clear explanation of how they work. <a href="https://design.perl6.org/S04.html#The_for_statement">https://design.perl6.org/S04.html#The_for_statement</a> may be of some help here, as well as the design document at <a href="https://design.perl6.org/S06.html#%22Pointy_blocks%22">https://design.perl6.org/S06.html#%22Pointy_blocks%22</a>. There is also some information at <a href="https://en.wikibooks.org/wiki/Perl_6_Programming/Blocks_and_Closures#Pointy_Blocks">https://en.wikibooks.org/wiki/Perl_6_Programming/Blocks_and_Closures#Pointy_Blocks</a></p>
 <a name="t2.3.31"></a><h2 id="_language_5to6-perlfunc.pod6-eof">2.3.31 eof</h2>
 <ul><li><p>eof FILEHANDLE</p>
</li></ul> <p>In Perl 6, this is not usable as a function, but only as a method. I. e. <span class="code">$filehandle.eof</span>. Returns <span class="code">True</span> if at end of file.</p>
 <a name="t2.3.32"></a><h2 id="_language_5to6-perlfunc.pod6-eval">2.3.32 eval</h2>
 <ul><li><p>eval EXPR</p>
</li></ul> <ul><li><p>eval EXPR</p>
</li></ul> <p>Replaced by <a href="#_routine_EVAL.pod6">EVAL</a>. Note that <span class="code">EVAL</span> does not do any <a href="#_language_exceptions.pod6">exception handling</a>!</p>
 <a name="t2.3.33"></a><h2 id="_language_5to6-perlfunc.pod6-evalbytes">2.3.33 evalbytes</h2>
 <ul><li><p>evalbytes EXPR</p>
</li></ul> <p>No equivalent.</p>
 <a name="t2.3.34"></a><h2 id="_language_5to6-perlfunc.pod6-exec">2.3.34 exec</h2>
 <ul><li><p>exec LIST</p>
</li></ul> <p>Nothing in Perl 6 exactly replicates the Perl 5 <span class="code">exec</span>. <span class="code">shell</span> and <span class="code">run</span> are similar to Perl 5's <span class="code">system</span>, but <span class="code">exec</span>'s behavior of not returning after executing a system command would have to be emulated by something like <span class="code">shell($command);exit();</span> or possibly <span class="code">exit shell($command);</span>.</p>
 <p>Neither of these workarounds have the behavior (on Unix-like systems) of <i>replacing</i> your Perl program's process with the new program; notably, they will not work for the practice in some long-running daemons of periodically redoing exec on themselves to reset their state or force operating-system cleanup. Nor will they serve <span class="code">exec</span>'s function of returning stale resources to the operating system.</p>
 <p>If you want <span class="code">exec</span> for these behaviors, you can use an <span class="code">exec*</span> function via the <span class="code">NativeCall</span> interface. Consult your operating system manual pages for <span class="code">exec</span> (or other similarly-named calls such as <span class="code">execl</span>, <span class="code">execv</span>, <span class="code">execvp</span>, or <span class="code">execvpe</span>). (Beware: these calls are not generally portable between Unix-like operating system families.)</p>
 <a name="t2.3.35"></a><h2 id="_language_5to6-perlfunc.pod6-exists">2.3.35 exists</h2>
 <ul><li><p>exists EXPR</p>
</li></ul> <p>In Perl 6, this is not a function, but an adverb:</p>
 <pre class="code">%hash{$key}:exists; 
 @array[$i]:exists; 
</pre>
 <a name="t2.3.36"></a><h2 id="_language_5to6-perlfunc.pod6-exit">2.3.36 exit</h2>
 <ul><li><p>exit EXPR</p>
</li></ul> <p>Appears to do the same thing as in Perl 5.</p>
 <a name="t2.3.37"></a><h2 id="_language_5to6-perlfunc.pod6-exp">2.3.37 exp</h2>
 <ul><li><p>exp EXPR</p>
</li></ul> <p>Same as in Perl 5, but can also be used as a method: <span class="code">5.exp</span>;</p>
 <a name="t2.3.38"></a><h2 id="_language_5to6-perlfunc.pod6-fc">2.3.38 fc</h2>
 <ul><li><p>fc EXPR</p>
</li></ul> <p>Looks like it does the same thing as in Perl 5.</p>
 <a name="t2.3.39"></a><h2 id="_language_5to6-perlfunc.pod6-fcntl">2.3.39 fcntl</h2>
 <ul><li><p>fcntl FILEHANDLE, FUNCTION, SCALAR</p>
</li></ul> <p>Appears not to be in Perl 6.</p>
 <a name="t2.3.40"></a><h2 id="_language_5to6-perlfunc.pod6-__FILE__">2.3.40 __FILE__</h2>
 <ul><li><p>__FILE__</p>
</li></ul> <p>Replaced by <span class="code">$?FILE</span>.</p>
 <a name="t2.3.41"></a><h2 id="_language_5to6-perlfunc.pod6-fileno">2.3.41 fileno</h2>
 <ul><li><p>fileno FILEHANDLE</p>
</li></ul> <p>S32 indicates that this should be available as a method, but appears currently unimplemented.</p>
 <a name="t2.3.42"></a><h2 id="_language_5to6-perlfunc.pod6-flock">2.3.42 flock</h2>
 <ul><li><p>flock FILEHANDLE, OPERATION</p>
</li></ul> <p>Currently unimplemented.</p>
 <a name="t2.3.43"></a><h2 id="_language_5to6-perlfunc.pod6-fork">2.3.43 fork</h2>
 <ul><li><p>fork</p>
</li></ul> <p>There is no built-in `fork` function. While it's possible to call it using NativeCall, it's highly unlikely that the resulting process will be usable.</p>
 <p>Perl 6 provides extensive support for, and internally uses, threads. However, `fork` only clones the thread that called `fork`, resulting in a process that will be missing its other threads, which will have been in unknown states and probably holding locks. Even if a Perl 6 program doesn't knowingly start any threads, the compiler may create some of its own in the process of precompilation, and the VMs that Perl 6 runs on also create their own internal worker threads for doing things like optimization and GC in the background. Thus, the presence of threads is pretty much assured, and there's no reasonable way to make `fork` reliably work in this case.</p>
 <a name="t2.3.44"></a><h2 id="_language_5to6-perlfunc.pod6-formats">2.3.44 formats</h2>
 <ul><li><p>format</p>
</li></ul> <ul><li><p>formline PICTURE, LIST</p>
</li></ul> <p>Perl 6 does not have built-in formats.</p>
 <a name="t2.3.45"></a><h2 id="_language_5to6-perlfunc.pod6-getc">2.3.45 getc</h2>
 <ul><li><p>getc FILEHANDLE</p>
</li></ul> <p>Reads a single character from the input stream as in Perl 5. May now also be used as a method: <span class="code">$filehandle.getc</span></p>
 <a name="t2.3.46"></a><h2 id="_language_5to6-perlfunc.pod6-getlogin">2.3.46 getlogin</h2>
 <ul><li><p>getlogin</p>
</li></ul> <p>S29 lists it, but it does not seem to be implemented yet.</p>
 <a name="t2.3.47"></a><h2 id="_language_5to6-perlfunc.pod6-getpeername">2.3.47 getpeername</h2>
 <ul><li><p>getpeername SOCKET</p>
</li></ul> <p>S29 lists it, but the implementation does not seem clear or, for that matter, implemented.</p>
 <a name="t2.3.48"></a><h2 id="_language_5to6-perlfunc.pod6-getpgrp">2.3.48 getpgrp</h2>
 <ul><li><p>getpgrp PID</p>
</li></ul> <p>Does not appear to be implemented.</p>
 <a name="t2.3.49"></a><h2 id="_language_5to6-perlfunc.pod6-getpriority">2.3.49 getpriority</h2>
 <ul><li><p>getpriority WHICH, WHO</p>
</li></ul> <p>Does not appear to be implemented.</p>
 <a name="t2.3.50"></a><h2 id="_language_5to6-perlfunc.pod6-get_and_set_functions">2.3.50 get and set functions</h2>
 <ul><li><p>getpwnam NAME</p>
</li></ul> <ul><li><p>getgrnam NAME</p>
</li></ul> <ul><li><p>gethostbyname NAME</p>
</li></ul> <ul><li><p>getnetbyname NAME</p>
</li></ul> <ul><li><p>getprotobyname NAME</p>
</li></ul> <ul><li><p>getpwuid UID</p>
</li></ul> <ul><li><p>getgrgid GID</p>
</li></ul> <ul><li><p>getservbyname NAME, PROTO</p>
</li></ul> <ul><li><p>gethostbyaddr ADDR, ADDRTYPE</p>
</li></ul> <ul><li><p>getnetbyaddr ADDR, ADDRTYPE</p>
</li></ul> <ul><li><p>getprotobynumber NUMBER</p>
</li></ul> <ul><li><p>getservbyport PORT, PROTO</p>
</li></ul> <ul><li><p>getpwent</p>
</li></ul> <ul><li><p>getgrent</p>
</li></ul> <ul><li><p>gethostent</p>
</li></ul> <ul><li><p>getnetent</p>
</li></ul> <ul><li><p>getprotoent</p>
</li></ul> <ul><li><p>getservent</p>
</li></ul> <ul><li><p>setpwent</p>
</li></ul> <ul><li><p>setgrent</p>
</li></ul> <ul><li><p>sethostent STAYOPEN</p>
</li></ul> <ul><li><p>setnetent STAYOPEN</p>
</li></ul> <ul><li><p>setprotoent STAYOPEN</p>
</li></ul> <ul><li><p>setservent STAYOPEN</p>
</li></ul> <ul><li><p>endpwent</p>
</li></ul> <ul><li><p>endgrent</p>
</li></ul> <ul><li><p>endhostent</p>
</li></ul> <ul><li><p>endnetent</p>
</li></ul> <ul><li><p>endprotoent</p>
</li></ul> <ul><li><p>endservent</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] Apparently this range of functions are to be handled by roles like User, Group, etc.</p>
 <a name="t2.3.51"></a><h2 id="_language_5to6-perlfunc.pod6-getsock*">2.3.51 getsock*</h2>
 <ul><li><p>getsockname SOCKET</p>
</li></ul> <ul><li><p>getsockopt SOCKET, LEVEL, OPTNAME</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] These are likely implemented by some kind of IO::Socket object, but details are unclear.</p>
 <a name="t2.3.52"></a><h2 id="_language_5to6-perlfunc.pod6-glob">2.3.52 glob</h2>
 <ul><li><p>glob EXPR</p>
</li></ul> <p>Used in an example in S32, but apparently unimplemented.</p>
 <a name="t2.3.53"></a><h2 id="_language_5to6-perlfunc.pod6-gmtime">2.3.53 gmtime</h2>
 <ul><li><p>gmtime EXPR</p>
</li></ul> <p>Like the various parts of <span class="code">localtime</span>, <span class="code">gmtime</span>'s functionality appears to in the <span class="code">DateTime</span> object. To get a UTC version of a <span class="code">DateTime</span> object for the current time, for instance, use <span class="code">my $gmtime = DateTime.now.utc</span>.</p>
 <a name="t2.3.54"></a><h2 id="_language_5to6-perlfunc.pod6-goto">2.3.54 goto</h2>
 <ul><li><p>goto LABEL</p>
</li></ul> <ul><li><p>goto EXPR</p>
</li></ul> <ul><li><p>goto &amp;NAME</p>
</li></ul> <p>goto is not yet implemented</p>
 <a name="t2.3.55"></a><h2 id="_language_5to6-perlfunc.pod6-grep">2.3.55 grep</h2>
 <ul><li><p>grep BLOCK LIST</p>
</li></ul> <ul><li><p>grep EXPR, LIST</p>
</li></ul> <p>Still in Perl 6, with the caveat that the block form now requires a comma after the block. I.e. <span class="code">@foo = grep { $_ = &quot;bars&quot; }, @baz</span>. Can also be used as a method: <span class="code">@foo = @bar.grep(/^f/)</span></p>
 <a name="t2.3.56"></a><h2 id="_language_5to6-perlfunc.pod6-hex">2.3.56 hex</h2>
 <ul><li><p>hex EXPR</p>
</li></ul> <p>Replaced by the adverbial form <span class="code">:16</span>. E. g. <span class="code">:16(&quot;aF&quot;)</span> returns 175.</p>
 <p>Alternately, the same result can be achieved by using the <span class="code">.base</span> method: <span class="code">0xaF.base(10)</span></p>
 <p>It just so happens that <span class="code">.Str</span> defaults to base 10, so if you just <span class="code">say 0xaF</span>, that will also print 175, but that may not be immediately obvious, so may not be the best way to go for this.</p>
 <a name="t2.3.57"></a><h2 id="_language_5to6-perlfunc.pod6-import">2.3.57 import</h2>
 <ul><li><p>import LIST</p>
</li></ul> <p>Was never a builtin function in Perl 5 in the first place. In Perl 6, typically, one declares functions as exportable or not, and all the exportable ones are exported. Nevertheless, selective importing is possible, but beyond the scope of this document. For details, see <a href="#_language_5to6-nutshell.pod6-Importing_specific_functions_from_a_module">this section</a>.</p>
 <a name="t2.3.58"></a><h2 id="_language_5to6-perlfunc.pod6-index">2.3.58 index</h2>
 <ul><li><p>index STR, SUBSTR, POSITION</p>
</li></ul> <p>Works as in Perl 5. Can also now be used as a method: <span class="code">&quot;howdy!&quot;.index(&quot;how&quot;); # 0</span></p>
 <a name="t2.3.59"></a><h2 id="_language_5to6-perlfunc.pod6-int">2.3.59 int</h2>
 <ul><li><p>int EXPR</p>
</li></ul> <p>There is a <span class="code">truncate</span> function in Perl 6 (also usable as a method) that does what Perl 5's <span class="code">int</span> does. You may want to use that as a direct translation of Perl 5 code, but in Perl 6, you can just as easily call the <span class="code">.Int</span> method on the number. <span class="code">3.9.Int; # 3</span> and <span class="code">3.9.truncate</span> are equivalent.</p>
 <a name="t2.3.60"></a><h2 id="_language_5to6-perlfunc.pod6-ioctl">2.3.60 ioctl</h2>
 <ul><li><p>ioctl FILEHANDLE, FUNCTION, SCALAR</p>
</li></ul> <p>Currently unimplemented in Perl 6.</p>
 <a name="t2.3.61"></a><h2 id="_language_5to6-perlfunc.pod6-join">2.3.61 join</h2>
 <ul><li><p>join EXPR, LIST</p>
</li></ul> <p>Works as in Perl 5, and also works as a method: <span class="code">@x.join(&quot;,&quot;)</span></p>
 <a name="t2.3.62"></a><h2 id="_language_5to6-perlfunc.pod6-keys">2.3.62 keys</h2>
 <ul><li><p>keys HASH</p>
</li></ul> <p>Works as in Perl 5, and can also be used as a method: <span class="code">%hash.keys</span></p>
 <a name="t2.3.63"></a><h2 id="_language_5to6-perlfunc.pod6-kill">2.3.63 kill</h2>
 <ul><li><p>kill SIGNAL, LIST</p>
</li></ul> <ul><li><p>kill SIGNAL</p>
</li></ul> <p>No pre-defined core alternative exists. A non-portable method can be to use <a href="#_language_nativecall.pod6">NativeCall</a>:</p>
 <pre class="code">use NativeCall;
sub kill(int32, int32) is native {*};
kill $*PID, 9; # OUTPUT: «Killed␤»</pre>
 <p>To kill processes that were started by creating a <a href="#_type_Proc::Async.pod6">Proc::Async</a>, use <a href="#_type_Proc::Async.pod6-method_kill"><span class="code">Proc::Async.kill</span>  method</a>.</p>
 <a name="t2.3.64"></a><h2 id="_language_5to6-perlfunc.pod6-last">2.3.64 last</h2>
 <ul><li><p>last LABEL</p>
</li></ul> <ul><li><p>last EXPR</p>
</li></ul> <ul><li><p>last</p>
</li></ul> <p>Same as in Perl 5.</p>
 <a name="t2.3.65"></a><h2 id="_language_5to6-perlfunc.pod6-lc">2.3.65 lc</h2>
 <ul><li><p>lc EXPR</p>
</li></ul> <p>Works as in Perl 5, and also as a method: <span class="code">&quot;UGH&quot;.lc</span></p>
 <a name="t2.3.66"></a><h2 id="_language_5to6-perlfunc.pod6-lcfirst">2.3.66 lcfirst</h2>
 <ul><li><p>lcfirst EXPR</p>
</li></ul> <p>Does not exist in Perl 6.</p>
 <a name="t2.3.67"></a><h2 id="_language_5to6-perlfunc.pod6-length">2.3.67 length</h2>
 <ul><li><p>length EXPR</p>
</li></ul> <p>Replaced by <span class="code">chars</span>, typically used as a method (<span class="code">$string.chars</span>), but also works as a function.</p>
 <a name="t2.3.68"></a><h2 id="_language_5to6-perlfunc.pod6-__LINE__">2.3.68 __LINE__</h2>
 <ul><li><p>__LINE__</p>
</li></ul> <p>Replaced by <span class="code">$?LINE</span>.</p>
 <a name="t2.3.69"></a><h2 id="_language_5to6-perlfunc.pod6-link">2.3.69 link</h2>
 <ul><li><p>link OLDFILE, NEWFILE</p>
</li></ul> <p>See <a href="#_routine_link.pod6">link</a></p>
 <a name="t2.3.70"></a><h2 id="_language_5to6-perlfunc.pod6-listen">2.3.70 listen</h2>
 <ul><li><p>listen SOCKET, QUEUESIZE</p>
</li></ul> <p>Not clearly documented, but it appears that <span class="code">listen</span> will be a method you would call on some variety of IO::Socket object.</p>
 <a name="t2.3.71"></a><h2 id="_language_5to6-perlfunc.pod6-local">2.3.71 local</h2>
 <ul><li><p>local EXPR</p>
</li></ul> <p>The Perl 6 equivalent is <span class="code">temp</span>. Unlike <span class="code">local</span>, however, the value of the given variable is not immediately unset: it retains its original value until assigned to.</p>
 <a name="t2.3.72"></a><h2 id="_language_5to6-perlfunc.pod6-localtime">2.3.72 localtime</h2>
 <ul><li><p>localtime EXPR</p>
</li></ul> <p>Most of the functionality of <span class="code">localtime</span> is found in <span class="code">DateTime</span>. The specific parts of <span class="code">localtime</span> can be found as follows:</p>
 <pre class="code">my $d = DateTime.now; 
 my $sec  = $d.second; # Potentially includes fractional seconds 
 my $min  = $d.minute; 
 my $hour = $d.hour; 
 my $mday = $d.day-of-month; # or $d.day; 1..31 
 my $mon  = $d.month; # 1..12 
 my $year = $d.year; 
 my $wday = $d.day-of-week; # 1 =&gt; Monday, 2 =&gt; Tuesday, etc. 
 my $yday = $d.day-of-year; # 1..366 
</pre>
 <p>Please note that ranges are not 0-based in Perl 6, as shown in the comments in the example.</p>
 <p>There does not currently appear to be a way to get Perl 5's <span class="code">$isdst</span>. Also, the result of <span class="code">scalar(localtime)</span> that Perl 5 provides is not available. <span class="code">$d.Str</span> will give something along the lines of &quot;2015-06-29T12:49:31-04:00&quot;.</p>
 <a name="t2.3.73"></a><h2 id="_language_5to6-perlfunc.pod6-lock">2.3.73 lock</h2>
 <ul><li><p>lock THING</p>
</li></ul> <p>In Perl 6, a method in the <span class="code">Lock</span> class.</p>
 <a name="t2.3.74"></a><h2 id="_language_5to6-perlfunc.pod6-log">2.3.74 log</h2>
 <ul><li><p>log EXPR</p>
</li></ul> <p>Available in Perl 6. Also works as a method. I. e. <span class="code">log(2)</span> is equivalent to <span class="code">2.log</span>.</p>
 <a name="t2.3.75"></a><h2 id="_language_5to6-perlfunc.pod6-lstat">2.3.75 lstat</h2>
 <ul><li><p>lstat FILEHANDLE</p>
</li></ul> <ul><li><p>lstat EXPR</p>
</li></ul> <ul><li><p>lstat DIRHANDLE</p>
</li></ul> <ul><li><p>lstat</p>
</li></ul> <p>Likely implemented somewhere in one of the <span class="code">IO</span> classes in Perl 6, but it is not clear where at this time.</p>
 <a name="t2.3.76"></a><h2 id="_language_5to6-perlfunc.pod6-m//">2.3.76 m//</h2>
 <ul><li><p>m//</p>
</li></ul> <p>Regular expression syntax is somewhat different in Perl 6, but the match operator still exists. If you're trying to rewrite some Perl 5 code, the most important difference is that <span class="code">=~</span> is replaced by the smart match operator, <span class="code">~~</span>. Similarly, <span class="code">!~</span> is replaced by <span class="code">!~~</span>. Options for regex operators are adverbs and are complicated. For details, see <a href="#_language_regexes.pod6-Adverbs">Adverbs</a></p>
 <a name="t2.3.77"></a><h2 id="_language_5to6-perlfunc.pod6-map">2.3.77 map</h2>
 <ul><li><p>map BLOCK LIST</p>
</li></ul> <ul><li><p>map EXPR, LIST</p>
</li></ul> <p>As a function, the only difference between Perl 5 and Perl 6 is that, if you're using a block, the block must be followed by a comma. Can also be used as a method: <span class="code">@new = @old.map: { $_ * 2 }</span></p>
 <a name="t2.3.78"></a><h2 id="_language_5to6-perlfunc.pod6-mkdir">2.3.78 mkdir</h2>
 <ul><li><p>mkdir FILENAME, MASK</p>
</li></ul> <ul><li><p>mkdir FILENAME</p>
</li></ul> <p>Works as in Perl 5.</p>
 <ul><li><p>mkdir</p>
</li></ul> <p>The zero argument (implicit <span class="code">$_</span>) version is not permitted in Perl 6.</p>
 <a name="t2.3.79"></a><h2 id="_language_5to6-perlfunc.pod6-msg*">2.3.79 msg*</h2>
 <ul><li><p>msgctl ID, CMD, ARG</p>
</li></ul> <ul><li><p>msgget KEY, FLAGS</p>
</li></ul> <ul><li><p>msgrcv ID, VAR, SIZE, TYPE, FLAGS</p>
</li></ul> <ul><li><p>msgsnd ID, MSG, FLAGS</p>
</li></ul> <p>Not builtins in Perl 6. May appear in an external module at some point. Maybe.</p>
 <a name="t2.3.80"></a><h2 id="_language_5to6-perlfunc.pod6-my">2.3.80 my</h2>
 <ul><li><p>my VARLIST</p>
</li></ul> <ul><li><p>my TYPE VARLIST</p>
</li></ul> <ul><li><p>my VARLIST : ATTRS</p>
</li></ul> <ul><li><p>my TYPE VARLIST : ATTRS</p>
</li></ul> <p>Works as in Perl 5.</p>
 <a name="t2.3.81"></a><h2 id="_language_5to6-perlfunc.pod6-next">2.3.81 next</h2>
 <ul><li><p>next LABEL</p>
</li></ul> <ul><li><p>next EXPR</p>
</li></ul> <ul><li><p>next</p>
</li></ul> <p>The same in Perl 6.</p>
 <a name="t2.3.82"></a><h2 id="_language_5to6-perlfunc.pod6-no">2.3.82 no</h2>
 <ul><li><p>no MODULE VERSION</p>
</li></ul> <ul><li><p>no MODULE LIST</p>
</li></ul> <ul><li><p>no MODULE</p>
</li></ul> <ul><li><p>no VERSION</p>
</li></ul> <p>In Perl 6, this is usable for pragmas such as <span class="code">strict</span>, but not for modules or versions.</p>
 <a name="t2.3.83"></a><h2 id="_language_5to6-perlfunc.pod6-oct">2.3.83 oct</h2>
 <ul><li><p>oct</p>
</li></ul> <p>Replaced by the adverbial form <span class="code">:8</span>. E. g. <span class="code">:8(&quot;100&quot;)</span> returns 64.</p>
 <p>If you want to deal with strings that start in <span class="code">0x</span>, <span class="code">0o</span>, or <span class="code">0b</span>, you can just use the <span class="code">prefix:&lt;+&gt;</span> operator.</p>
 <a name="t2.3.84"></a><h2 id="_language_5to6-perlfunc.pod6-open">2.3.84 open</h2>
 <ul><li><p>open FILEHANDLE, EXPR</p>
</li></ul> <ul><li><p>open FILEHANDLE, MODE, EXPR</p>
</li></ul> <ul><li><p>open FILEHANDLE, MODE, EXPR, LIST</p>
</li></ul> <ul><li><p>open FILEHANDLE, MODE, REFERENCE</p>
</li></ul> <ul><li><p>open FILEHANDLE</p>
</li></ul> <p>The most obvious change from Perl 5 is the file mode syntax. To open a file for reading only, you would say <span class="code">open(&quot;file&quot;, :r)</span>. For write- only, read-write, and append, you would use <span class="code">:w</span>, <span class="code">:rw</span>, and <span class="code">:a</span> respectively. There are also options for encoding and how the filehandle deals with newlines. Details <a href="#_routine_open.pod6">here</a>.</p>
 <p>Another important change is that filehandles don't get automatically closed on scope exit. It's necessary to call <a href="#_routine_close.pod6">close</a> explicitly.</p>
 <a name="t2.3.85"></a><h2 id="_language_5to6-perlfunc.pod6-opendir">2.3.85 opendir</h2>
 <ul><li><p>opendir DIRHANDLE, EXPR</p>
</li></ul> <p>No replacement. See <a href="#_routine_dir.pod6"><span class="code">&amp;dir</span> / <span class="code">IO::Path.dir</span></a> for alternatives.</p>
 <a name="t2.3.86"></a><h2 id="_language_5to6-perlfunc.pod6-ord">2.3.86 ord</h2>
 <ul><li><p>ord EXPR</p>
</li></ul> <p>Same as in Perl 5. May be used as a method: <span class="code">&quot;howdy!&quot;.ord; # 104</span></p>
 <a name="t2.3.87"></a><h2 id="_language_5to6-perlfunc.pod6-our">2.3.87 our</h2>
 <ul><li><p>our VARLIST</p>
</li></ul> <ul><li><p>our TYPE VARLIST</p>
</li></ul> <ul><li><p>our VARLIST : ATTRS</p>
</li></ul> <ul><li><p>our TYPE VARLIST : ATTRS</p>
</li></ul> <p>The same in Perl 6.</p>
 <a name="t2.3.88"></a><h2 id="_language_5to6-perlfunc.pod6-pack">2.3.88 pack</h2>
 <ul><li><p>pack TEMPLATE, LIST</p>
</li></ul> <p>Available in Perl 6. The template options are currently more restricted than they are in Perl 5. The current documented list can be found at <a href="#_routine_unpack.pod6">unpack</a>.</p>
 <a name="t2.3.89"></a><h2 id="_language_5to6-perlfunc.pod6-package">2.3.89 package</h2>
 <ul><li><p>package NAMESPACE</p>
</li></ul> <ul><li><p>package NAMESPACE VERSION</p>
</li></ul> <ul><li><p>package NAMESPACE BLOCK</p>
</li></ul> <ul><li><p>package NAMESPACE VERSION BLOCK</p>
</li></ul> <p>S10 indicates that <span class="code">package</span> can be used in Perl 6, but only with a block. I. e. <span class="code">package Foo { ... }</span> means that the code within the block would be in package Foo. There is a special case where a declaration of the form <span class="code">package Foo;</span> as the first statement in a file indicates that the rest of the file is Perl 5 code, but the usefulness of this is unclear. In fact, as modules and classes are declared with distinct keywords (such as <span class="code">class</span>), it's unlikely you will use <span class="code">package</span> directly in Perl 6.</p>
 <a name="t2.3.90"></a><h2 id="_language_5to6-perlfunc.pod6-__PACKAGE__">2.3.90 __PACKAGE__</h2>
 <ul><li><p>__PACKAGE__</p>
</li></ul> <p>Replaced by <span class="code">$?PACKAGE</span>.</p>
 <a name="t2.3.91"></a><h2 id="_language_5to6-perlfunc.pod6-pipe">2.3.91 pipe</h2>
 <ul><li><p>pipe READHANDLE, WRITEHANDLE</p>
</li></ul> <p>Depending on your needs, see <a href="#_type_Channel.pod6"><span class="code">Channel</span></a> to shuttle data between threads (and <a href="#_language_concurrency.pod6">Concurrency tutorial</a> for other options), or see <a href="#_type_Proc.pod6"><span class="code">Proc</span></a> type for piping to and from processes.</p>
 <a name="t2.3.92"></a><h2 id="_language_5to6-perlfunc.pod6-pop">2.3.92 pop</h2>
 <ul><li><p>pop ARRAY</p>
</li></ul> <p>Works in Perl 6, and can also be used as a method. I. e. <span class="code">my $x = pop @a;</span> and <span class="code">my $x = @a.pop;</span> are equivalent.</p>
 <a name="t2.3.93"></a><h2 id="_language_5to6-perlfunc.pod6-pos">2.3.93 pos</h2>
 <ul><li><p>pos SCALAR</p>
</li></ul> <p>Not available in Perl 6. The closest equivalent is the <span class="code">:c</span> adverb, which defaults to <span class="code">$/.to</span> if <span class="code">$/</span> is true, and <span class="code">0</span> if it isn't. For information on <span class="code">:c</span>, see <a href="#_language_regexes.pod6-Continue">Continue</a>.</p>
 <a name="t2.3.94"></a><h2 id="_language_5to6-perlfunc.pod6-print">2.3.94 print</h2>
 <ul><li><p>print FILEHANDLE LIST</p>
</li></ul> <ul><li><p>print FILEHANDLE</p>
</li></ul> <ul><li><p>print LIST</p>
</li></ul> <ul><li><p>print</p>
</li></ul> <p><span class="code">print</span> can be used as a function in Perl 6, writing to standard out. To use <span class="code">print</span> as a function with a filehandle <i>instead</i> of standard out, you can use a method call: <span class="code">$fh.print(&quot;howdy!&quot;)</span></p>
 <a name="t2.3.95"></a><h2 id="_language_5to6-perlfunc.pod6-printf">2.3.95 printf</h2>
 <ul><li><p>printf FORMAT, LIST</p>
</li></ul> <ul><li><p>printf</p>
</li></ul> <p>Perl 6 version is similar; see <a href="https://docs.perl6.org/type/Str#sub_sprintf">sprintf</a> for details on acceptable format directives. To print to a filehandle other than STDOUT, use the <a href="#_routine_printf.pod6"><span class="code">.printf</span></a> method on that filehandle.</p>
 <a name="t2.3.96"></a><h2 id="_language_5to6-perlfunc.pod6-prototype">2.3.96 prototype</h2>
 <ul><li><p>prototype FUNCTION</p>
</li></ul> <p>Not available in Perl 6. The closest equivalent is <span class="code">.signature</span>. E. g. <span class="code">say &amp;sprintf.signature</span> results in &quot;(Cool $format, *@args)&quot;.</p>
 <a name="t2.3.97"></a><h2 id="_language_5to6-perlfunc.pod6-push">2.3.97 push</h2>
 <ul><li><p>push ARRAY, LIST</p>
</li></ul> <p>Works as in Perl 5, as well as being available as a method: <span class="code">@a.push(&quot;foo&quot;);</span>. <i>Note:</i> the flattening behaviour is different in Perl 6: <span class="code">@b.push: @a</span> will push <span class="code">@a</span> into <span class="code">@b</span> as a single element. See also the <a href="#_type_Array.pod6-method_append">append method</a>.</p>
 <a name="t2.3.98"></a><h2 id="_language_5to6-perlfunc.pod6-quoting">2.3.98 quoting</h2>
 <ul><li><p>q/STRING/</p>
</li></ul> <ul><li><p>qq/STRING/</p>
</li></ul> <ul><li><p>qw/STRING/</p>
</li></ul> <ul><li><p>qx/STRING/</p>
</li></ul> <p>These survive the transition to Perl 6. Some notes:</p>
 <pre class="code">q/.../;  # is still equivalent to using single quotes. 
 qq/.../; # is still equivalent to using double quotes. 
 qw/.../; # is more commonly rendered as C&lt;&lt; &lt;...&gt; &gt;&gt; in Perl 6. 
</pre>
 <p>There are some added quoting constructs and equivalents, as explained at <a href="#_language_quoting.pod6">quoting</a>.</p>
 <ul><li><p>qr/STRING/ <span class="indexed"><a id="4" name="qr (Perl 5)"></a></span></p>
</li></ul> <p>Has been replaced by <span class="code">rx/.../</span>.</p>
 <ul><li><p>quotemeta EXPR</p>
</li></ul> <p>No direct equivalent, i.e. nothing that just returns the string with all the ASCII non-word characters backslashed. In regexes, however, using <span class="code">$foo</span> will treat <span class="code">$foo</span> as a literal string, and using <span class="code">&lt;$foo&gt; </span> will interpret the contents of <span class="code">$foo</span> as regex code. Note that the angle brackets are doing something different here than they do outside a regex. For more information on this, see <a href="https://design.perl6.org/S05.html#Extensible_metasyntax_(%3C...%3E)">https://design.perl6.org/S05.html#Extensible_metasyntax_(%3C...%3E)</a></p>
 <a name="t2.3.99"></a><h2 id="_language_5to6-perlfunc.pod6-rand">2.3.99 rand</h2>
 <ul><li><p>rand EXPR</p>
</li></ul> <p><span class="code">rand</span> by itself works as it does in Perl 5, but you can no longer give it an argument. You can, however, use it as a method on a number to get that behavior. I. e. the Perl 5 <span class="code">rand(100)</span> is equivalent to <span class="code">100.rand</span> in Perl 6. Additionally, you can get a random integer by using something like <span class="code">(^100).pick</span>. For <i>why</i> you are able to do that, see <a href="#_language_operators.pod6-prefix_%5E">^ operator</a> and <a href="#_routine_pick.pod6">pick</a>.</p>
 <a name="t2.3.100"></a><h2 id="_language_5to6-perlfunc.pod6-read">2.3.100 read</h2>
 <ul><li><p>read FILEHANDLE, SCALAR, LENGTH, OFFSET</p>
</li></ul> <p><span class="code">read</span> is found in <span class="code">IO::Handle</span> and <span class="code">IO::Socket</span> in Perl 6. It reads the specified number of bytes (rather than characters) from the relevant handle or socket. The use of an offset available in Perl 5 is not documented to exist at this time.</p>
 <a name="t2.3.101"></a><h2 id="_language_5to6-perlfunc.pod6-readdir">2.3.101 readdir</h2>
 <ul><li><p>readdir DIRHANDLE</p>
</li></ul> <p>Not a builtin function. To iterate through the contents of a directory, take a look at <a href="#_type_IO::Path.pod6-routine_dir">dir routine</a>.</p>
 <a name="t2.3.102"></a><h2 id="_language_5to6-perlfunc.pod6-readline">2.3.102 readline</h2>
 <ul><li><p>readline</p>
</li></ul> <p>Not available in Perl 6. You most likely want to use the <span class="code">.lines</span> method in some way. For more detailed information on reading from files, see <a href="#_language_io.pod6">io</a>.</p>
 <a name="t2.3.103"></a><h2 id="_language_5to6-perlfunc.pod6-readlink">2.3.103 readlink</h2>
 <ul><li><p>readlink EXPR</p>
</li></ul> <p>Appears to be gone from Perl 6.</p>
 <a name="t2.3.104"></a><h2 id="_language_5to6-perlfunc.pod6-readpipe">2.3.104 readpipe</h2>
 <ul><li><p>readpipe EXPR</p>
</li></ul> <ul><li><p>readpipe</p>
</li></ul> <p>Doesn't appear to be working in Perl 6, but <span class="code">qx//</span> is functional, so it might be lurking around in some class that isn't obvious.</p>
 <a name="t2.3.105"></a><h2 id="_language_5to6-perlfunc.pod6-recv">2.3.105 recv</h2>
 <ul><li><p>recv SOCKET, SCALAR, LENGTH, FLAGS</p>
</li></ul> <p>Appears to be in IO::Socket. Not extensively documented at this time.</p>
 <a name="t2.3.106"></a><h2 id="_language_5to6-perlfunc.pod6-redo">2.3.106 redo</h2>
 <ul><li><p>redo LABEL</p>
</li></ul> <ul><li><p>redo EXPR</p>
</li></ul> <ul><li><p>redo</p>
</li></ul> <p>Unchanged in Perl 6.</p>
 <a name="t2.3.107"></a><h2 id="_language_5to6-perlfunc.pod6-ref">2.3.107 ref</h2>
 <ul><li><p>ref EXPR</p>
</li></ul> <p>Gone. To quote S29, &quot;If you really want the type name, you can use <span class="code">$var.WHAT.perl</span>. If you really want P5 ref semantics, use <span class="code">Perl5::p5ref</span>.&quot; Except that <span class="code">Perl5::p5ref</span> does not seem to currently exist...</p>
 <a name="t2.3.108"></a><h2 id="_language_5to6-perlfunc.pod6-rename">2.3.108 rename</h2>
 <ul><li><p>rename OLDNAME, NEWNAME</p>
</li></ul> <p>Still available in Perl 6.</p>
 <a name="t2.3.109"></a><h2 id="_language_5to6-perlfunc.pod6-requires">2.3.109 requires</h2>
 <ul><li><p>require VERSION</p>
</li></ul> <p>No equivalent.</p>
 <a name="t2.3.110"></a><h2 id="_language_5to6-perlfunc.pod6-reset">2.3.110 reset</h2>
 <ul><li><p>reset EXPR</p>
</li></ul> <p>No equivalent.</p>
 <a name="t2.3.111"></a><h2 id="_language_5to6-perlfunc.pod6-return">2.3.111 return</h2>
 <ul><li><p>return EXPR</p>
</li></ul> <p>Appears to be available in Perl 6, although not clearly documented.</p>
 <a name="t2.3.112"></a><h2 id="_language_5to6-perlfunc.pod6-reverse">2.3.112 reverse</h2>
 <ul><li><p>reverse LIST</p>
</li></ul> <p>In Perl 6, this only reverses the elements of a list. <span class="code">reverse(@a)</span> or <span class="code">@a.reverse</span>. To reverse the characters in a string, use the <span class="code">.flip</span> method.</p>
 <a name="t2.3.113"></a><h2 id="_language_5to6-perlfunc.pod6-rewinddir">2.3.113 rewinddir</h2>
 <ul><li><p>rewinddir DIRHANDLE</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] There does not appear to be an obvious direct equivalent. It is possible that some incantation in <span class="code">IO::Path</span> may serve, but it's not clear what it would be.</p>
 <a name="t2.3.114"></a><h2 id="_language_5to6-perlfunc.pod6-rindex">2.3.114 rindex</h2>
 <ul><li><p>rindex STR, SUBSTR, POSITION</p>
</li></ul> <p>Works as in Perl 5, and may also be used as a method. E. g. <span class="code">$x = &quot;babaganush&quot;;say $x.rindex(&quot;a&quot;);say $x.rindex(&quot;a&quot;, 3); # 5, 3</span></p>
 <a name="t2.3.115"></a><h2 id="_language_5to6-perlfunc.pod6-rmdir">2.3.115 rmdir</h2>
 <ul><li><p>rmdir FILENAME</p>
</li></ul> <p>Works in Perl 6 and can also be used as a method. <span class="code">rmdir &quot;Foo&quot;;</span> and <span class="code">&quot;Foo&quot;.IO.rmdir;</span> are equivalent.</p>
 <a name="t2.3.116"></a><h2 id="_language_5to6-perlfunc.pod6-s///">2.3.116 s///</h2>
 <ul><li><p>s///</p>
</li></ul> <p>Regular expression syntax is somewhat different in Perl 6, but the substitution operator exists. If you're trying to rewrite some Perl 5 code, the most important difference is that <span class="code">=~</span> is replaced by the smart match operator, <span class="code">~~</span>. Similarly, <span class="code">!~</span> is <span class="code">!~~</span>. Options for regex operators are adverbs and are complicated. For details, see <a href="#_language_regexes.pod6-Adverbs">Adverbs page</a></p>
 <a name="t2.3.117"></a><h2 id="_language_5to6-perlfunc.pod6-say">2.3.117 say</h2>
 <ul><li><p>say FILEHANDLE</p>
</li></ul> <ul><li><p>say LIST</p>
</li></ul> <ul><li><p>say</p>
</li></ul> <p><span class="code">say</span> can be used as a function, defaulting to standard out. To use <span class="code">say</span> as a function with a filehandle <i>instead</i> of standard out, you need to put a colon after the filehandle. I. e. <span class="code">say $fh: &quot;Howdy!&quot;</span>. The use of the colon as an &quot;invocant marker&quot; here is discussed at <a href="https://design.perl6.org/S03.html#line_4019">https://design.perl6.org/S03.html#line_4019</a>. Alternately, you can use a method call: <span class="code">$fh.say(&quot;howdy!&quot;)</span></p>
 <a name="t2.3.118"></a><h2 id="_language_5to6-perlfunc.pod6-scalar">2.3.118 scalar</h2>
 <ul><li><p>scalar EXPR</p>
</li></ul> <p>Gone. Apparently &quot;very&quot; gone.</p>
 <a name="t2.3.119"></a><h2 id="_language_5to6-perlfunc.pod6-seek">2.3.119 seek</h2>
 <ul><li><p>seek FILEHANDLE, POSITION, WHENCE</p>
</li></ul> <p>Not documented in a any real way yet, but listed under the <span class="code">IO::Handle</span> class.</p>
 <a name="t2.3.120"></a><h2 id="_language_5to6-perlfunc.pod6-seekdir">2.3.120 seekdir</h2>
 <ul><li><p>seekdir DIRHANDLE, POS</p>
</li></ul> <p>Not currently documented, but looks to be something that would be implemented in one of the <span class="code">IO</span> classes, likely <span class="code">IO::Path</span>.</p>
 <a name="t2.3.121"></a><h2 id="_language_5to6-perlfunc.pod6-select">2.3.121 select</h2>
 <ul><li><p>select FILEHANDLE</p>
</li></ul> <p>&quot;[S]elect as a global concept is dead.&quot; When I asked around about <span class="code">select</span>, I was told that $*OUT and such are overridable in dynamic scope, and that <span class="code">IO::Capture::Simple</span> (at <a href="https://github.com/sergot/IO-Capture-Simple">https://github.com/sergot/IO-Capture-Simple</a>) may be of use for something you might be doing with the value of <span class="code">select</span>.</p>
 <a name="t2.3.122"></a><h2 id="_language_5to6-perlfunc.pod6-semctl">2.3.122 semctl</h2>
 <ul><li><p>semctl ID, SEMNUM, CMD, ARG</p>
</li></ul> <p>No longer in core.</p>
 <a name="t2.3.123"></a><h2 id="_language_5to6-perlfunc.pod6-semget">2.3.123 semget</h2>
 <ul><li><p>semget KEY, NSEMS, FLAGS</p>
</li></ul> <p>No longer in core.</p>
 <a name="t2.3.124"></a><h2 id="_language_5to6-perlfunc.pod6-semop">2.3.124 semop</h2>
 <ul><li><p>semop KEY, OPSTRING</p>
</li></ul> <p>No longer in core.</p>
 <a name="t2.3.125"></a><h2 id="_language_5to6-perlfunc.pod6-send">2.3.125 send</h2>
 <ul><li><p>send SOCKET, MSG, FLAGS, TO</p>
</li></ul> <p>Can be found in the <span class="code">IO::Socket</span> class.</p>
 <a name="t2.3.126"></a><h2 id="_language_5to6-perlfunc.pod6-setpgrp">2.3.126 setpgrp</h2>
 <ul><li><p>setpgrp PID, PGRP</p>
</li></ul> <p>No longer in core. Will probably wind up in a POSIX module.</p>
 <a name="t2.3.127"></a><h2 id="_language_5to6-perlfunc.pod6-setpriority">2.3.127 setpriority</h2>
 <ul><li><p>setpriority WHICH, WHO, PRIORITY</p>
</li></ul> <p>No longer in core. Will probably wind up in a POSIX module.</p>
 <a name="t2.3.128"></a><h2 id="_language_5to6-perlfunc.pod6-setsockopt">2.3.128 setsockopt</h2>
 <ul><li><p>setsockopt SOCKET, LEVEL, OPTNAME, OPTVAL</p>
</li></ul> <p>Not documented, but probably hiding in an <span class="code">IO</span> class somewhere.</p>
 <a name="t2.3.129"></a><h2 id="_language_5to6-perlfunc.pod6-shift">2.3.129 shift</h2>
 <ul><li><p>shift ARRAY</p>
</li></ul> <ul><li><p>shift EXPR</p>
</li></ul> <ul><li><p>shift</p>
</li></ul> <p>Works as a method as well as a function. <span class="code">shift @a</span> and <span class="code">@a.shift</span> are equivalent.</p>
 <a name="t2.3.130"></a><h2 id="_language_5to6-perlfunc.pod6-shm*">2.3.130 shm*</h2>
 <ul><li><p>shmctl ID, CMD, ARG</p>
</li></ul> <ul><li><p>shmget KEY, SIZE, FLAGS</p>
</li></ul> <ul><li><p>shmread ID, VAR, POS, SIZE</p>
</li></ul> <ul><li><p>shmwrite ID, STRING, POS, SIZE</p>
</li></ul> <p>Gone from the core. May turn up in a module somewhere.</p>
 <a name="t2.3.131"></a><h2 id="_language_5to6-perlfunc.pod6-shutdown">2.3.131 shutdown</h2>
 <ul><li><p>shutdown SOCKET, HOW</p>
</li></ul> <p>Not documented, but likely moved into <span class="code">IO::Socket</span>.</p>
 <a name="t2.3.132"></a><h2 id="_language_5to6-perlfunc.pod6-sin">2.3.132 sin</h2>
 <ul><li><p>sin EXPR</p>
</li></ul> <p>Works as a function and also as a method. <span class="code">sin(2)</span> and <span class="code">2.sin</span> are equivalent.</p>
 <a name="t2.3.133"></a><h2 id="_language_5to6-perlfunc.pod6-sleep">2.3.133 sleep</h2>
 <ul><li><p>sleep EXPR</p>
</li></ul> <p>Still works as in Perl 5. As of this writing, works as a method, but that is deprecated and will be removed soon.</p>
 <a name="t2.3.134"></a><h2 id="_language_5to6-perlfunc.pod6-sockets">2.3.134 sockets</h2>
 <ul><li><p>socket SOCKET, DOMAIN, TYPE, PROTOCOL</p>
</li></ul> <ul><li><p>socketpair SOCKET1, SOCKET2, DOMAIN, TYPE, PROTOCOL</p>
</li></ul> <p>Not currently documented, but will likely wind up in <span class="code">IO::Socket</span>.</p>
 <a name="t2.3.135"></a><h2 id="_language_5to6-perlfunc.pod6-sort">2.3.135 sort</h2>
 <ul><li><p>sort SUBNAME LIST</p>
</li></ul> <p><span class="code">sort</span> exists in Perl 6, but is somewhat different. <span class="code">$a</span> and <span class="code">$b</span> are no longer special (see <a href="#_language_5to6-perlvar.pod6">Special Variables</a>) and sort routines no longer return positive integers, negative integers, or 0, but rather <span class="code">Order::Less</span>, <span class="code">Order::Same</span>, or <span class="code">Order::More</span> objects. See <a href="#_routine_sort.pod6">sort</a> for details. May also be used as a method I. e. <span class="code">sort(@a)</span> is equivalent to <span class="code">@a.sort</span>.</p>
 <a name="t2.3.136"></a><h2 id="_language_5to6-perlfunc.pod6-splice">2.3.136 splice</h2>
 <ul><li><p>splice ARRAY, OFFSET, LENGTH</p>
</li></ul> <ul><li><p>splice ARRAY, OFFSET</p>
</li></ul> <ul><li><p>splice ARRAY</p>
</li></ul> <ul><li><p>splice EXPR, OFFSET, LENGTH, LIST</p>
</li></ul> <ul><li><p>splice EXPR, OFFSET, LENGTH</p>
</li></ul> <ul><li><p>splice EXPR, OFFSET</p>
</li></ul> <ul><li><p>splice EXPR</p>
</li></ul> <p>Available in Perl 6. Can also be used as a method. <span class="code">splice(@foo, 2, 3, &lt;M N O P&gt;); </span> is equivalent to <span class="code">@foo.splice(2, 3, &lt;M N O P&gt;); </span>.</p>
 <a name="t2.3.137"></a><h2 id="_language_5to6-perlfunc.pod6-split">2.3.137 split</h2>
 <ul><li><p>split /PATTERN/, EXPR, LIMIT</p>
</li></ul> <ul><li><p>split /PATTERN/, EXPR</p>
</li></ul> <ul><li><p>split /PATTERN/</p>
</li></ul> <p>Works mostly as in Perl 5. There are some exceptions, though. To get the special behavior of using the empty string, you must actually use the empty string - the special case of the empty pattern <span class="code">//</span> being treated as the empty string does not apply. If you use a regex for the split, it will use the regex, while a literal string will be treated literally. If you wish to have the delimiters included in the resulting list, you need to use the named parameter <span class="code">:all</span>, like this: <span class="code">split(';', &quot;a;b;c&quot;, :all) # a ; b ; c</span> Empty chunks are not removed from the result list as they are in Perl 5. For that behavior, see <span class="code">comb</span>. Details on <span class="code">split</span> are <a href="#_routine_split.pod6">here</a>. Unsurprisingly, <span class="code">split</span> also now works as a method: <span class="code">&quot;a;b;c&quot;.split(';')</span></p>
 <ul><li><p>split</p>
</li></ul> <p>The zero argument version must now be called with an explicit empty string, as described above.</p>
 <a name="t2.3.138"></a><h2 id="_language_5to6-perlfunc.pod6-sprintf">2.3.138 sprintf</h2>
 <ul><li><p>sprintf FORMAT, LIST</p>
</li></ul> <p>Works as in Perl 5. The formats currently available are:</p>
 <table>
<tr><td>%</td> <td>a literal percent sign</td></tr>
 <tr><td>c</td> <td>a character with the given codepoint</td></tr>
 <tr><td>s</td> <td>a string</td></tr>
 <tr><td>d</td> <td>a signed integer, in decimal</td></tr>
 <tr><td>u</td> <td>an unsigned integer, in decimal</td></tr>
 <tr><td>o</td> <td>an unsigned integer, in octal</td></tr>
 <tr><td>x</td> <td>an unsigned integer, in hexadecimal</td></tr>
 <tr><td>e</td> <td>a floating-point number, in scientific notation</td></tr>
 <tr><td>f</td> <td>a floating-point number, in fixed decimal notation</td></tr>
 <tr><td>g</td> <td>a floating-point number, in %e or %f notation</td></tr>
 <tr><td>X</td> <td>like x, but using uppercase letters</td></tr>
 <tr><td>E</td> <td>like e, but using an uppercase &quot;E&quot;</td></tr>
 <tr><td>G</td> <td>like g, but with an uppercase &quot;E&quot; (if applicable)</td></tr>
</table> <p>Compatibility:</p>
 <table>
<tr><td>i</td> <td>a synonym for %d</td></tr>
 <tr><td>D</td> <td>a synonym for %ld</td></tr>
 <tr><td>U</td> <td>a synonym for %lu</td></tr>
 <tr><td>O</td> <td>a synonym for %lo</td></tr>
 <tr><td>F</td> <td>a synonym for %f</td></tr>
</table> <p>Perl 5 (non-)compatibility:</p>
 <table>
<tr><td>n</td> <td>produces a runtime exception</td></tr>
 <tr><td>p</td> <td>produces a runtime exception</td></tr>
</table> <p>There are modifiers for integers, but they're mainly no-ops, as the semantics aren't settled:</p>
 <table>
<tr><td>h</td> <td>interpret integer as native &quot;short&quot; (typically int16)</td></tr>
 <tr><td>l</td> <td>interpret integer as native &quot;long&quot; (typically int32 or int64)</td></tr>
 <tr><td>ll</td> <td>interpret integer as native &quot;long long&quot; (typically int64)</td></tr>
 <tr><td>L</td> <td>interpret integer as native &quot;long long&quot; (typically uint64)</td></tr>
 <tr><td>q</td> <td>interpret integer as native &quot;quads&quot; (typically int64 or larger)</td></tr>
</table> <a name="t2.3.139"></a><h2 id="_language_5to6-perlfunc.pod6-sqrt">2.3.139 sqrt</h2>
 <ul><li><p>sqrt EXPR</p>
</li></ul> <p>Works as a function and a method. <span class="code">sqrt(4)</span> and <span class="code">4.sqrt</span> are equivalent.</p>
 <a name="t2.3.140"></a><h2 id="_language_5to6-perlfunc.pod6-srand">2.3.140 srand</h2>
 <ul><li><p>srand EXPR</p>
</li></ul> <p>Available in Perl 6.</p>
 <a name="t2.3.141"></a><h2 id="_language_5to6-perlfunc.pod6-stat">2.3.141 stat</h2>
 <ul><li><p>stat EXPR</p>
</li></ul> <ul><li><p>stat DIRHANDLE</p>
</li></ul> <ul><li><p>stat</p>
</li></ul> <p>Unlikely to be implemented as a built in function since it's POSIX specific, but available through the <span class="code">NativeCall</span> interface.</p>
 <a name="t2.3.142"></a><h2 id="_language_5to6-perlfunc.pod6-state">2.3.142 state</h2>
 <ul><li><p>state VARLIST</p>
</li></ul> <ul><li><p>state TYPE VARLIST</p>
</li></ul> <ul><li><p>state VARLIST : ATTRS</p>
</li></ul> <ul><li><p>state TYPE VARLIST : ATTRS</p>
</li></ul> <p>Available in Perl 6, see <a href="#_syntax_state.pod6">state</a>.</p>
 <a name="t2.3.143"></a><h2 id="_language_5to6-perlfunc.pod6-study">2.3.143 study</h2>
 <ul><li><p>study SCALAR</p>
</li></ul> <ul><li><p>study</p>
</li></ul> <p><span class="code">study</span> is no more.</p>
 <a name="t2.3.144"></a><h2 id="_language_5to6-perlfunc.pod6-sub">2.3.144 sub</h2>
 <ul><li><p>sub NAME BLOCK</p>
</li></ul> <ul><li><p>sub NAME(PROTO) BLOCK</p>
</li></ul> <ul><li><p>sub NAME : ATTRS BLOCK</p>
</li></ul> <ul><li><p>sub NAME(PROTO) : ATTRS BLOCK</p>
</li></ul> <p>Unsurprisingly, we still have subroutines! You can have a signature in your subroutine which allows you to specify arguments. Nevertheless, in the absence of a signature (and only in the absence of a signature), <span class="code">@_</span> still contains what is passed to the function. So, in theory, you don't need to change that aspect of a function if porting from Perl 5 to Perl 6 (although you should probably consider the option of using a signature). For all the gory details, see <a href="#_language_functions.pod6">functions</a>.</p>
 <a name="t2.3.145"></a><h2 id="_language_5to6-perlfunc.pod6-__SUB__">2.3.145 __SUB__</h2>
 <ul><li><p>__SUB__</p>
</li></ul> <p>Replaced by <span class="code">&amp;?ROUTINE</span>.</p>
 <a name="t2.3.146"></a><h2 id="_language_5to6-perlfunc.pod6-substr">2.3.146 substr</h2>
 <ul><li><p>substr EXPR, OFFSET, LENGTH, REPLACEMENT</p>
</li></ul> <ul><li><p>substr EXPR, OFFSET, LENGTH</p>
</li></ul> <ul><li><p>substr EXPR, OFFSET</p>
</li></ul> <p>Can be used as a function or a method. <span class="code">substr(&quot;hola!&quot;, 1, 3)</span> and <span class="code">&quot;hola!&quot;.substr(1, 3)</span> both return &quot;ola&quot;.</p>
 <a name="t2.3.147"></a><h2 id="_language_5to6-perlfunc.pod6-symlink">2.3.147 symlink</h2>
 <ul><li><p>symlink OLDFILE, NEWFILE</p>
</li></ul> <p>See <a href="#_routine_symlink.pod6">symlink</a></p>
 <a name="t2.3.148"></a><h2 id="_language_5to6-perlfunc.pod6-syscall">2.3.148 syscall</h2>
 <ul><li><p>syscall NUMBER, LIST</p>
</li></ul> <p>Not a builtin in Perl 6. Most likely out in a module somewhere, but it's currently unclear where.</p>
 <a name="t2.3.149"></a><h2 id="_language_5to6-perlfunc.pod6-sys*">2.3.149 sys*</h2>
 <ul><li><p>sysopen FILEHANDLE, FILENAME, MODE</p>
</li></ul> <ul><li><p>sysopen FILEHANDLE, FILENAME, MODE, PERMS</p>
</li></ul> <ul><li><p>sysread FILEHANDLE, SCALAR, LENGTH, OFFSET</p>
</li></ul> <ul><li><p>sysread FILEHANDLE, SCALAR, LENGTH</p>
</li></ul> <ul><li><p>sysseek FILEHANDLE, POSITION, WHENCE</p>
</li></ul> <p>As with the non-sys versions of these functions, are probably lurking in the <span class="code">IO</span> classes somewhere.</p>
 <a name="t2.3.150"></a><h2 id="_language_5to6-perlfunc.pod6-system">2.3.150 system</h2>
 <ul><li><p>system LIST</p>
</li></ul> <ul><li><p>system PROGRAM LIST</p>
</li></ul> <p>For this, you probably want (<a href="#_routine_run.pod6">run</a>) or (<a href="#_routine_shell.pod6">shell routine</a>).</p>
 <a name="t2.3.151"></a><h2 id="_language_5to6-perlfunc.pod6-syswrite">2.3.151 syswrite</h2>
 <ul><li><p>syswrite FILEHANDLE, SCALAR, LENGTH, OFFSET</p>
</li></ul> <ul><li><p>syswrite FILEHANDLE, SCALAR, LENGTH</p>
</li></ul> <ul><li><p>syswrite FILEHANDLE, SCALAR</p>
</li></ul> <p>As with <span class="code">sysopen</span> and friends, this has moved into the <span class="code">IO</span> classes.</p>
 <a name="t2.3.152"></a><h2 id="_language_5to6-perlfunc.pod6-tell">2.3.152 tell</h2>
 <ul><li><p>tell FILEHANDLE</p>
</li></ul> <p>In <span class="code">IO::Handle</span>, but not yet documented, beyond a mention.</p>
 <a name="t2.3.153"></a><h2 id="_language_5to6-perlfunc.pod6-telldir">2.3.153 telldir</h2>
 <ul><li><p>telldir DIRHANDLE</p>
</li></ul> <p>Possibly in <span class="code">IO::Path</span>, but not yet documented.</p>
 <a name="t2.3.154"></a><h2 id="_language_5to6-perlfunc.pod6-tie">2.3.154 tie</h2>
 <ul><li><p>tie VARIABLE, CLASSNAME, LIST</p>
</li></ul> <ul><li><p>tied VARIABLE</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] S29 indicates that variable tying has been replaced by container types. Unfortunately, what this means in practical terms has not been obviously specified.</p>
 <a name="t2.3.155"></a><h2 id="_language_5to6-perlfunc.pod6-time">2.3.155 time</h2>
 <ul><li><p>time</p>
</li></ul> <p>&quot;Returns an Int representing the current time.&quot; Although <i>how</i> it represents the current time isn't in the documentation currently, it appears to still be seconds since epoch, as in Perl 5.</p>
 <a name="t2.3.156"></a><h2 id="_language_5to6-perlfunc.pod6-times">2.3.156 times</h2>
 <ul><li><p>times</p>
</li></ul> <p>Not available in Perl 6.</p>
 <a name="t2.3.157"></a><h2 id="_language_5to6-perlfunc.pod6-tr///">2.3.157 tr///</h2>
 <ul><li><p>tr///</p>
</li></ul> <p>Works similarly to how it does in Perl 5. The one caveat is that ranges are specified differently. Instead of using a range &quot;a-z&quot;, you would use &quot;a..z&quot;, i.e. with Perl's range operator. In Perl 6, <span class="code">tr///</span> has a method version, called <a href="#_routine_trans.pod6">trans</a>, which offers a few additional features.</p>
 <p>Perl 5's <span class="code">/r</span> flag is instead implemented as <span class="code">TR///</span> operator. The <span class="code">y///</span> equivalent does not exist.</p>
 <a name="t2.3.158"></a><h2 id="_language_5to6-perlfunc.pod6-truncate">2.3.158 truncate</h2>
 <ul><li><p>truncate FILEHANDLE, LENGTH</p>
</li></ul> <ul><li><p>truncate EXPR, LENGTH</p>
</li></ul> <p>Most likely somewhere in <span class="code">IO::Handle</span>, but not currently documented.</p>
 <a name="t2.3.159"></a><h2 id="_language_5to6-perlfunc.pod6-uc">2.3.159 uc</h2>
 <ul><li><p>uc EXPR</p>
</li></ul> <p>Works as a function and a method. <span class="code">uc(&quot;ha&quot;)</span> and <span class="code">&quot;ha&quot;.uc</span> both return &quot;HA&quot;.</p>
 <a name="t2.3.160"></a><h2 id="_language_5to6-perlfunc.pod6-ucfirst">2.3.160 ucfirst</h2>
 <ul><li><p>ucfirst EXPR</p>
</li></ul> <ul><li><p>ucfirst</p>
</li></ul> <p>Perl 6 has done away with <span class="code">ucfirst</span>. The title case function <a href="#_routine_tc.pod6"><span class="code">tc</span></a> probably does what you need.</p>
 <a name="t2.3.161"></a><h2 id="_language_5to6-perlfunc.pod6-undef">2.3.161 undef</h2>
 <ul><li><p>undef EXPR</p>
</li></ul> <p>There is no <span class="code">undef</span> in Perl 6. You can't undefine a function, and the closest equivalent value is probably <span class="code">Nil</span>, but you'll likely have no use for that. If you were using something like <span class="code">(undef, $file, $line) = caller;</span>, you would just get the filename and line number directly in Perl 6 instead of discarding the first result of <span class="code">caller</span>. <span class="code">caller</span> has been replaced by <span class="code">callframe</span> in Perl 6, so the equivalent statement would be <span class="code">($file, $line) = callframe.annotations&lt;file line&gt;;</span></p>
 Add a note here about Type-based undefined values.
 <a name="t2.3.162"></a><h2 id="_language_5to6-perlfunc.pod6-unlink">2.3.162 unlink</h2>
 <ul><li><p>unlink LIST</p>
</li></ul> <p>Still available. Usable as a method: <span class="code">&quot;filename&quot;.IO.unlink</span></p>
 <ul><li><p>unlink</p>
</li></ul> <p>The zero argument (implicit <span class="code">$_</span>) version of unlink is not available in Perl 6.</p>
 <a name="t2.3.163"></a><h2 id="_language_5to6-perlfunc.pod6-unpack">2.3.163 unpack</h2>
 <ul><li><p>unpack TEMPLATE, EXPR</p>
</li></ul> <ul><li><p>unpack TEMPLATE</p>
</li></ul> <p>Available in Perl 6. The template options are currently more restricted than they are in Perl 5. The current documented list can be found <a href="#_routine_unpack.pod6">here</a>.</p>
 <a name="t2.3.164"></a><h2 id="_language_5to6-perlfunc.pod6-unshift">2.3.164 unshift</h2>
 <ul><li><p>unshift ARRAY, LIST</p>
</li></ul> <ul><li><p>unshift EXPR, LIST</p>
</li></ul> <p>Available in Perl 6. Can be used as a method. <span class="code">unshift(@a, &quot;blah&quot;)</span> is equivalent to <span class="code">@a.unshift(&quot;blah&quot;)</span>.</p>
 <a name="t2.3.165"></a><h2 id="_language_5to6-perlfunc.pod6-untie">2.3.165 untie</h2>
 <ul><li><p>untie VARIABLE</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] Functions for tying variables seem to be replaced in Perl 6 by container types, as mentioned in S29. This has become no clearer since I wrote the entry for <span class="code">tie</span>, above.</p>
 <a name="t2.3.166"></a><h2 id="_language_5to6-perlfunc.pod6-use">2.3.166 use</h2>
 <ul><li><p>use Module VERSION LIST</p>
</li></ul> <ul><li><p>use Module VERSION</p>
</li></ul> <ul><li><p>use Module LIST</p>
</li></ul> <ul><li><p>use Module</p>
</li></ul> <ul><li><p>use VERSION</p>
</li></ul> <p>In Perl 5, this requires a minimum version of the perl executable in order to run. In Perl 6, this requires a version of the specification, (e.g. <span class="code">6.c</span>), which can be implemented by various perl6 executables.</p>
 <a name="t2.3.167"></a><h2 id="_language_5to6-perlfunc.pod6-utime">2.3.167 utime</h2>
 <ul><li><p>utime LIST</p>
</li></ul> <p>No equivalent.</p>
 <a name="t2.3.168"></a><h2 id="_language_5to6-perlfunc.pod6-values">2.3.168 values</h2>
 <ul><li><p>values HASH</p>
</li></ul> <ul><li><p>values ARRAY</p>
</li></ul> <ul><li><p>values EXPR</p>
</li></ul> <p>Available in Perl 6. Can also be used as a method. <span class="code">values %hash</span> is equivalent to <span class="code">%hash.values</span>.</p>
 <a name="t2.3.169"></a><h2 id="_language_5to6-perlfunc.pod6-vec">2.3.169 vec</h2>
 <ul><li><p>vec EXPR, OFFSET, BITS</p>
</li></ul> <p>S29 says &quot;Should replace <span class="code">vec</span> with declared buffer/array of <span class="code">bit</span>, <span class="code">uint2</span>, <span class="code">uint4</span>, etc.&quot; It is unclear, however, that this has actually happened.</p>
 <a name="t2.3.170"></a><h2 id="_language_5to6-perlfunc.pod6-wait">2.3.170 wait</h2>
 <ul><li><p>wait</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] Unclear where this has gone. There's a <span class="code">wait</span> method in <span class="code">Supply</span>, and an <span class="code">await</span> method in both <span class="code">Channel</span> and <span class="code">Promise</span>. Which, if any or all, of these is a direct equivalent of Perl 5's <span class="code">wait</span> is unclear.</p>
 <a name="t2.3.171"></a><h2 id="_language_5to6-perlfunc.pod6-waitpid">2.3.171 waitpid</h2>
 <ul><li><p>waitpid PID, FLAGS</p>
</li></ul> <p>As with <span class="code">wait</span>, the disposition of this is unclear.</p>
 <a name="t2.3.172"></a><h2 id="_language_5to6-perlfunc.pod6-wantarray">2.3.172 wantarray</h2>
 <ul><li><p>wantarray</p>
</li></ul> <p>There is no <span class="code">wantarray</span> in Perl 6, because <a href="#_language_faq.pod6-Why_is_wantarray_or_want_gone?_Can_I_return_different_things_in_different_contexts?">reasons</a>.</p>
 <p>There are very easy ways to cover many of the use cases which wantarray filled.</p>
 <p>First, since Perl 6 does not need special reference syntax to contain a <span class="code">List</span> or <span class="code">Array</span> in a <span class="code">Scalar</span>, simply returning a list may be all that is needed:</p>
 <pre class="code">sub listofstuff {
    return 1, 2, 3;
}
my $a = listofstuff();
print $a;                      # prints &quot;123&quot;
print join(&quot;&lt;&quot;, listofstuff()) # prints &quot;1&lt;2&lt;3&quot;</pre>
 <p>One of the most common use cases is to provide either an array of lines or elements, or a prettier string than would be produced by simply printing the array. One can mix in a custom <span class="code">.Str</span> method for this purpose:</p>
 <pre class="code">sub prettylist(*@origlist) {
    @origlist but role {
        method Str { self.join(&quot;&lt;&quot;) }
    }
}
print prettylist(1, 2, 3);  # prints &quot;1&lt;2&lt;3&quot;
print join(&quot;&gt;&quot;, prettylist(3, 2, 1)); # prints &quot;3&gt;2&gt;1&quot;</pre>
 <p>In the above example, the returned list may be lazy, and the <span class="code">.Str</span> method is not called until stringification happens, so no extra work is done to generate something which is not asked for.</p>
 <p>Another use case is to create methods which are mutators when called in void context but produce copies during assignment. It is generally considered better form in Perl 6 not to do so, since users can quite easily turn any copy-producing method into a mutator using the <span class="code">.=</span> operator:</p>
 <pre class="code">my $a = &quot;foo\n&quot;;
$a.ords.say; # says &quot;(102 111 111 10)&quot;
$a .= chomp;
$a.ords.say; # says &quot;(102 111 111)&quot;</pre>
 <p>However if you have your heart set on using the same function name for both operations, you can get most of the way there by mixing in a <span class="code">.sink</span> method, which will be called when the result finds itself in void context. There are some caveats however, so again, this is not advised:</p>
 <pre class="code">multi sub increment($b is rw) {
    ($b + 1) does role { method sink { $b++ } }
}
multi sub increment($b) {
    $b + 1
}
my $a = 1;
increment($a);
say $a;                 # says &quot;2&quot;
my $b = increment($a);
say $a, $b;             # says &quot;2 3&quot;
# ...users will just have to be aware that they should not accidentally
# sink a stored value later, though this requires some effort to
# actually do:
sub identity($c is rw) { $c };
$a = 1;
$b = increment($a);
identity($b);
$a.say;                  # says &quot;2&quot;</pre>
 <a name="t2.3.173"></a><h2 id="_language_5to6-perlfunc.pod6-warn">2.3.173 warn</h2>
 <ul><li><p>warn LIST</p>
</li></ul> <p><span class="code">warn</span> throws an exception. To simply print a message to <span class="code">$*ERR</span>, you would use the <span class="code">note</span> function. For more on exceptions, see <a href="#_language_exceptions.pod6">Exceptions</a>.</p>
 <a name="t2.3.174"></a><h2 id="_language_5to6-perlfunc.pod6-write">2.3.174 write</h2>
 <ul><li><p>write FILEHANDLE</p>
</li></ul> <ul><li><p>write EXPR</p>
</li></ul> <ul><li><p>write</p>
</li></ul> <p>Formats are gone from Perl 6, so this no longer works.</p>
 <a name="t2.3.175"></a><h2 id="_language_5to6-perlfunc.pod6-y///">2.3.175 y///</h2>
 <ul><li><p>y///</p>
</li></ul> <p>This synonym for <span class="code">tr///</span> is gone. For functionality, see the entry for <span class="code">tr///</span>.</p>
</div>
<!-- /language/5to6-perlop.pod6 --><div class="pod-body"><a id="_language_5to6-perlop.pod6"></a><a name="t3"><h1 class="title">3 Perl 5 to Perl 6 guide - Operators</h1></a> <p class="subtitle">Operators in Perl 5 to Perl 6: equivalencies and variations.</p> <a name="t3.1"></a><h1 id="_language_5to6-perlop.pod6-DESCRIPTION">3.1 DESCRIPTION</h1>
 <p>A (hopefully) comprehensive list of Perl 5 operators with their Perl 6 equivalents with notes on variations between them where necessary.</p>
 <a name="t3.2"></a><h1 id="_language_5to6-perlop.pod6-NOTE">3.2 NOTE</h1>
 <p>This document <i>does not</i> explain the operators in detail. This document is an attempt to guide you from the operators in Perl 5's <span class="code">perlop</span> document to their equivalents in Perl 6. For full documentation on the Perl 6 equivalents, please see the <a href="#_language_operators.pod6">Perl 6 documentation</a>.</p>
 <a name="t3.2.1"></a><h2 id="_language_5to6-perlop.pod6-Operator_Precedence_and_Associativity">3.2.1 Operator Precedence and Associativity</h2>
 <p>The operator precedence table is somewhat different in Perl 6 than it is in Perl 5, so it will not be detail here. If you need to know the precedence and associativity of a given operator in Perl 6, refer to <a href="#_language_operators.pod6-Operator_Precedence">Operator Precedence</a>.</p>
 <a name="t3.2.2"></a><h2 id="_language_5to6-perlop.pod6-Terms_and_List_Operators">3.2.2 Terms and List Operators</h2>
 <p>The things listed in Perl 5's <span class="code">perlop</span> document as unary and list operators in this section tend to be things that can also be thought of as functions, such as <span class="code">print</span> and <span class="code">chdir</span>. As such, you can find information about them in the <a href="#_language_5to6-perlfunc.pod6">functions</a> guide. Parentheses are still used for grouping.</p>
 <a name="t3.2.3"></a><h2 id="_language_5to6-perlop.pod6-The_Arrow_Operator">3.2.3 The Arrow Operator</h2>
 <p>As you typically will not be using references in Perl 6, the arrow is probably less useful as a dereferencing operator. If you do need to dereference something, however, the arrow is the dot. It is also the dot for method calls. So, Perl 5's <span class="code">$arrayref-&gt;[7] </span> becomes <span class="code">$arrayref.[7]</span> in Perl 6 and, similarly, <span class="code">$user-&gt;name </span> becomes <span class="code">$user.name</span>. The <span class="code">=&gt; </span> arrow is used for constructing Pairs, see <a href="#_language_terms.pod6-Pair">Pair term documentation</a>.</p>
 <a name="t3.2.4"></a><h2 id="_language_5to6-perlop.pod6-Auto-increment_and_Auto-decrement">3.2.4 Auto-increment and Auto-decrement</h2>
 <p>Work as in Perl 5. The one possible caveat is that they function by calling the <span class="code">succ</span> method for <span class="code">++</span> and the <span class="code">pred</span> method for <span class="code">--</span>. For builtin numeric types, this is unlikely to do something unusual, but custom types can define their own <span class="code">succ</span> and <span class="code">pred</span> methods, so in those cases, you should probably take note of what <span class="code">++</span> and <span class="code">--</span> will <i>actually</i> do.</p>
 <a name="t3.2.5"></a><h2 id="_language_5to6-perlop.pod6-Exponentiation">3.2.5 Exponentiation</h2>
 <p>Works as you would expect. The caveat in Perl 5's perlop about <span class="code">**</span> binding more tightly than unary minus (i. e. &quot;-2**4&quot; evaluates as &quot;-(2**4)&quot; rather than &quot;(-2)**4)&quot;) is also true for Perl 6.</p>
 <a name="t3.2.6"></a><h2 id="_language_5to6-perlop.pod6-Symbolic_Unary_Operators">3.2.6 Symbolic Unary Operators</h2>
 <p>As in Perl 5, unary <span class="code">!</span> and <span class="code">-</span> do logical and arithmetic negation, respectively. <span class="code">?^</span> is used for bitwise logical negation, which the documentation indicates is equivalent to <span class="code">!</span>. It may be relevant to note that these coerce their arguments to <span class="code">Bool</span> and <span class="code">Numeric</span>, respectively.</p>
 <p>Unary <span class="code">~</span> is the string context operator in Perl 6, so use prefix <span class="code">+^</span> for bitwise integer negation. Assumes two's complement.</p>
 <p><span class="code">+</span> <i>does</i> have an effect in Perl 6, coercing its argument to the Numeric type.</p>
 <p>Unary <span class="code">\</span> is no more. If you really want to take a reference to an existing named variable, you can use item context, like so: <span class="code">$aref = item(@array)</span> You can get a reference to a named subroutine by using the <span class="code">&amp;</span> sigil: <span class="code">$sref = &amp;foo</span> Anonymous arrays, hashes, and subs return their references during creation <i>right away</i>.</p>
 <a name="t3.2.7"></a><h2 id="_language_5to6-perlop.pod6-Binding_Operators">3.2.7 Binding Operators</h2>
 <p><span class="code">=~</span> and <span class="code">!~</span> have been replaced by <span class="code">~~</span> and <span class="code">!~~</span>, respectively. Those of you who consider smart matching broken in Perl 5 will be happy to hear that it works much better in Perl 6, as the stronger typing means less guesswork.</p>
 <a name="t3.2.8"></a><h2 id="_language_5to6-perlop.pod6-Multiplicative_Operators">3.2.8 Multiplicative Operators</h2>
 <p>Binary <span class="code">*</span>, <span class="code">/</span>, and <span class="code">%</span> do multiplication, division, and modulo, respectively, as in Perl 5.</p>
 <p>Binary <span class="code">x</span> is slightly different in Perl 6, and has a companion. <span class="code">print '-' x 80;</span> gives you a string of 80 dashes, but for the Perl 5 behavior of <span class="code">@ones = (1) x 80;</span> giving you a list of 80 &quot;1&quot;s, you would use <span class="code">@ones = 1 xx 80;</span>.</p>
 <a name="t3.2.9"></a><h2 id="_language_5to6-perlop.pod6-Additive_Operators">3.2.9 Additive Operators</h2>
 <p>Binary <span class="code">+</span> and <span class="code">-</span> do addition and subtraction, respectively, as you would expect.</p>
 <p>As <span class="code">.</span> is the method call operator, so binary <span class="code">~</span> acts as the concatenation operator in Perl 6.</p>
 <a name="t3.2.10"></a><h2 id="_language_5to6-perlop.pod6-Shift_Operators">3.2.10 Shift Operators</h2>
 <p><span class="code">&lt;&lt; </span> and <span class="code">&gt;&gt; </span> have been replaced by <span class="code">+&lt; </span> and <span class="code">+&gt; </span>.</p>
 <a name="t3.2.11"></a><h2 id="_language_5to6-perlop.pod6-Named_Unary_Operators">3.2.11 Named Unary Operators</h2>
 <p>As noted above, you'll find these in the <a href="#_language_5to6-perlfunc.pod6">functions</a> guide.</p>
 <a name="t3.2.12"></a><h2 id="_language_5to6-perlop.pod6-Relational_Operators">3.2.12 Relational Operators</h2>
 <p>These all work as in Perl 5.</p>
 <a name="t3.2.13"></a><h2 id="_language_5to6-perlop.pod6-Equality_Operators">3.2.13 Equality Operators</h2>
 <p><span class="code">==</span> and <span class="code">!=</span> both work as in Perl 5.</p>
 <p><span class="code">&lt;=&gt; </span> and <span class="code">cmp</span> have different behavior in Perl 6. <span class="code">&lt;=&gt; </span> does a numeric comparison, but returns <span class="code">Order::Less</span>, <span class="code">Order::Same</span>, or <span class="code">Order::More</span> instead of Perl 5's <span class="code">-1</span>, <span class="code">0</span>, or <span class="code">1</span>. To get the Perl 5 behavior (with the change that it returns the <span class="code">Order</span> objects, rather than integers) of <span class="code">cmp</span>, you would use the <span class="code">leg</span> operator.</p>
 <p><span class="code">cmp</span> does either <span class="code">&lt;=&gt; </span> or <span class="code">leg</span>, depending on the existing type of its arguments.</p>
 <p><span class="code">~~</span> is the smart match operator as in Perl 5, but it's also <i>just</i> the match operator in Perl 6, as noted above. For how smart matching works in Perl 6, see <a href="https://design.perl6.org/S03.html#Smart_matching">https://design.perl6.org/S03.html#Smart_matching</a>.</p>
 <a name="t3.2.14"></a><h2 id="_language_5to6-perlop.pod6-Smartmatch_Operator">3.2.14 Smartmatch Operator</h2>
 <p>See the entry on <span class="code">~~</span> directly above.</p>
 <a name="t3.2.15"></a><h2 id="_language_5to6-perlop.pod6-Bitwise_And">3.2.15 Bitwise And</h2>
 <p>Binary <span class="code">&amp;</span> is <span class="code">+&amp;</span> in Perl 6.</p>
 <a name="t3.2.16"></a><h2 id="_language_5to6-perlop.pod6-Bitwise_Or_and_Exclusive_Or">3.2.16 Bitwise Or and Exclusive Or</h2>
 <p>Bitwise OR has changed from <span class="code">|</span> in Perl 5 to <span class="code">+|</span> in Perl 6. Similarly, bitwise XOR <span class="code">^</span> is <span class="code">+^</span></p>
 <a name="t3.2.17"></a><h2 id="_language_5to6-perlop.pod6-C-style_Logical_And">3.2.17 C-style Logical And</h2>
 <p>Unchanged.</p>
 <a name="t3.2.18"></a><h2 id="_language_5to6-perlop.pod6-C-style_Logical_Or">3.2.18 C-style Logical Or</h2>
 <p>Unchanged.</p>
 <a name="t3.2.19"></a><h2 id="_language_5to6-perlop.pod6-Logical_Defined-Or">3.2.19 Logical Defined-Or</h2>
 <p>Remains in Perl 6 as <span class="code">//</span>. Returns the first defined operand, or else the last operand. Also, there is a low precedence version, called <span class="code">orelse</span>.</p>
 <a name="t3.2.20"></a><h2 id="_language_5to6-perlop.pod6-Range_Operators">3.2.20 Range Operators</h2>
 <p>In list context, <span class="code">..</span> operates as the range operator and should not need to be changed. That said, there are exclusionary range operators that may be useful. These are:</p>
 <ul><li><p>infix <span class="code">..^</span> which excludes the endpoint;</p>
</li></ul> <ul><li><p>infix ^.. which excludes the starting point;</p>
</li></ul> <ul><li><p>infix <span class="code">^..^</span> which excludes both the starting and ending points;</p>
</li></ul> <ul><li><p>prefix <span class="code">^</span> which starts from zero excluding the endpoint.</p>
</li></ul> <p>The following example shows the effects of all the above range operators (please note parentheses are used only to allow the method call):</p>
 <pre class="code">(1..^5).list;  # (1 2 3 4) 
 (1^..5).list;  # (2 3 4 5) 
 (1^..^5).list; # (2 3 4) 
 (^5).list;     # (0 1 2 3 4) 
</pre>
 <p>In Perl 5, in scalar context, the operators <span class="code">..</span> and <span class="code">...</span> work as flip-flop operators, even if they are little-known and probably less used. Those operators have been replaced in Perl 6 by <a href="#_routine_ff.pod6">ff</a> and <a href="#_routine_fff.pod6">fff</a> respectively.</p>
 <a name="t3.2.21"></a><h2 id="_language_5to6-perlop.pod6-Conditional_Operator">3.2.21 Conditional Operator</h2>
 <p>The conditional operator <span class="code">? :</span> has been replaced by <span class="code">?? !!</span>:</p>
 <pre class="code">$x = $ok  ? $yes  : $no;  # Perl 5 
</pre>
 <pre class="code">$x = $ok ?? $yes !! $no;  # Perl 6 
</pre>
 <a name="t3.2.22"></a><h2 id="_language_5to6-perlop.pod6-Assignment_Operators">3.2.22 Assignment Operators</h2>
 <p>Although not fully documented, S03 indicates that the mathematical and logical assignment operators should work as you would expect. The one noticeable change is that <span class="code">.=</span> calls a mutating method on the object on the left, while <span class="code">~=</span> is the string concatenation assignment, as you might expect with the changes in <span class="code">.</span> and <span class="code">~</span>. Also, the bitwise assignment operators are likely not separated into numeric and string versions (<span class="code">&amp;=</span>, etc., vs. <span class="code">&amp;.=</span>, etc.), as that feature is currently experimental in Perl 5 itself - although, again, this is not specifically documented.</p>
 <a name="t3.2.23"></a><h2 id="_language_5to6-perlop.pod6-Comma_Operator">3.2.23 Comma Operator</h2>
 <p>The comma operator works mostly as expected, but technically it creates <a href="#_type_List.pod6">Lists</a>) or separates arguments in function calls. Also, there is a <span class="code">:</span> variant that turns function calls into method calls - see <a href="#_language_operators.pod6-infix_%3A">this page</a>.</p>
 <p>The <span class="code">=&gt; </span> operator works similarly to the Perl 5 &quot;fat comma&quot; behavior in that it allows an unquoted identifier on its left side, but in Perl 6 constructs Pair objects, rather than just functioning as a separator. If you are trying to just literally translate a line of Perl 5 code to Perl 6, it should behave as expected.</p>
 <a name="t3.2.24"></a><h2 id="_language_5to6-perlop.pod6-List_Operators_(Rightward)">3.2.24 List Operators (Rightward)</h2>
 <p>Like the Named Unary Operators, you'll find these discussed under <a href="#_language_5to6-perlfunc.pod6">Functions</a>.</p>
 <a name="t3.2.25"></a><h2 id="_language_5to6-perlop.pod6-Logical_Not">3.2.25 Logical Not</h2>
 <p>The lower precedence version of <span class="code">!</span>. As with <span class="code">!</span>, coerces its argument to <span class="code">Bool</span>.</p>
 <a name="t3.2.26"></a><h2 id="_language_5to6-perlop.pod6-Logical_And">3.2.26 Logical And</h2>
 <p>Lower precedence version of <span class="code">&amp;&amp;</span> as in Perl 5.</p>
 <a name="t3.2.27"></a><h2 id="_language_5to6-perlop.pod6-Logical_or_and_Exclusive_Or">3.2.27 Logical or and Exclusive Or</h2>
 <p><span class="code">or</span> is the low precedence version of <span class="code">||</span>. The documentation lists an <span class="code">xor</span>, but does not actually document it.</p>
 <p>Additionally, there is a low precedence version of <span class="code">//</span>, called <span class="code">orelse</span>.</p>
 <a name="t3.2.28"></a><h2 id="_language_5to6-perlop.pod6-Quote_and_Quote-like_Operators">3.2.28 Quote and Quote-like Operators</h2>
 <p>For all the gory details on quoting constructs, see <a href="#_language_quoting.pod6">quoting</a>.</p>
 <p>There is a quoting operator that allows absolute literal strings: <span class="code">Q</span> or <span class="code">｢…｣</span>, although the latter might be difficult to find on your keyboard, depending on your keyboard... Backslash escapes do <i>not</i> apply in <span class="code">Q</span> quoted strings. E. g. <span class="code">Q{This is still a closing curly brace → \}</span> renders &quot;This is still a closing curly brace → \&quot;.</p>
 <p><span class="code">q</span> does what you expect, allowing backslash escapes. E. g. <span class="code">q{This is not a closing curly brace → \}, but this is → }</span> returning &quot;This is not a closing curly brace → }, but this is →&quot;. As in Perl 5, you can get this behavior with single quotes.</p>
 <p><span class="code">qq</span> allows interpolation of variables. However, by default, only scalar variables are interpolated. To get other variables to interpolate, you need to put square brackets after them. E. g. <span class="code">@a = &lt;1 2 3&gt;;say qq/@a[] example@example.com/; </span> results in &quot;1 2 3 example@example.com&quot;. Hashes interpolate in a possibly unexpected manner: <span class="code">%a = 1 =&gt; 2, 3 =&gt; 4;say &quot;%a[]&quot;; </span> results in a space separating the pairs and tabs separating the key from the value in each pair (apparently). You can also interpolate Perl 6 code in strings using curly braces. For all the details, see <a href="#_language_quoting.pod6-Interpolation%3A_qq">Interpolation</a>.</p>
 <p><span class="code">qw</span> works as in Perl 5, and can also be rendered as <span class="code">&lt;...&gt; </span>. E. g. <span class="code">qw/a b c/</span> is equivalent to <span class="code">&lt;a b c&gt; </span>.</p>
 <p>There is also a version of <span class="code">qw</span> that interpolates, which is <span class="code">qqw</span>. So <span class="code">my $a = 42;say qqw/$a b c/;</span> gives you &quot;42 b c&quot;.</p>
 <p>Shell quoting is available through <span class="code">qx</span>, but you should note that backticks do not do shell quoting as in Perl 5, and Perl variables are <i>not</i> interpolated in <span class="code">qx</span> strings. If you need to interpolate Perl variables in a shell command string, you can use <span class="code">qqx</span> instead.</p>
 <p>The <span class="code">qr</span> operator is gone from Perl 6.</p>
 <p><span class="code">tr///</span> works similarly to how it does in Perl 5. The one caveat is that ranges are specified differently. Instead of using a range &quot;a-z&quot;, you would use &quot;a..z&quot;, i. e. with Perl's range operator. <span class="code">tr///</span> has a method version, which is better documented, called <span class="code">.trans</span>. <span class="code">.trans</span> uses a list of pairs, as follows: <span class="code">$x.trans(['a'..'c'] =&gt; ['A'..'C'], ['d'..'q'] =&gt; ['D'..'Q'], ['r'..'z'] =&gt; ['R'..'Z']); </span> A much more extensive description of the uses of <span class="code">.trans</span> can be found at <a href="https://design.perl6.org/S05.html#Transliteration">https://design.perl6.org/S05.html#Transliteration</a>. The <span class="code">y///</span> equivalent has been done away with.</p>
 <p>Heredocs are specified differently in Perl 6. You use <span class="code">:to</span> with your quoting operator, e. g. <span class="code">q:to/END/;</span> would start a heredoc ending with &quot;END&quot;. Similarly, you get escaping and interpolation based on your quoting operator, i. e. literals with <span class="code">Q</span>, backslash escapes with <span class="code">q</span>, and interpolation with <span class="code">qq</span>.</p>
 <a name="t3.2.29"></a><h2 id="_language_5to6-perlop.pod6-I/O_Operators">3.2.29 I/O Operators</h2>
 <p>The full details on Input/Output in Perl 6 can be found at <a href="#_language_io.pod6">io</a>.</p>
 <p>As <span class="code">&lt;...&gt; </span> is the quote-words construct in Perl 6, <span class="code">&lt;&gt; </span> is not used for reading lines from a file. You can do that by either making an <span class="code">IO</span> object from a file name or using an open filehandle and then, in either case, calling <span class="code">.lines</span> on it. I. e. either <span class="code">my @a = &quot;filename&quot;.IO.lines;</span> or <span class="code">my $fh = open &quot;filename&quot;, :r;my @a = $fh.lines;</span> (In the latter case, we are using <span class="code">:r</span> to specifically open the file for reading). To do this in an iterative manner, you can use a <span class="code">for</span> loop this way:</p>
 <pre class="code">for 'huge-csv'.IO.lines -&gt; $line { 
     # Do something with $line 
 } 
</pre>
 <p>Note the use of <span class="code">-&gt; </span> there. That's part of the Block syntax, and in Perl 6 is needed for <span class="code">if</span>, <span class="code">for</span>, <span class="code">while</span>, etc.</p>
 <p>If you want to slurp the entire file into a scalar, you would - surprise! - use the <span class="code">.slurp</span> method. For instance</p>
 <pre class="code">my $x = &quot;filename&quot;.IO.slurp; 
 # ... or ... 
 my $fh = open &quot;filename&quot;, :r; 
 my $x = $fh.slurp; 
</pre>
 <p>As noted in the <a href="#_language_5to6-perlvar.pod6">Special Variables</a> guide, the <span class="code">ARGV</span> magic input filehandle has been replaced by <span class="code">$*ARGFILES</span>, and the <span class="code">@ARGV</span> array of command line arguments has been replaced by <span class="code">@*ARGS</span>.</p>
 <a name="t3.2.30"></a><h2 id="_language_5to6-perlop.pod6-No-ops">3.2.30 No-ops</h2>
 <p>Although it's not specifically documented, <span class="code">1 while foo();</span> appears to work in this sense.</p>
 <a name="t3.2.31"></a><h2 id="_language_5to6-perlop.pod6-Bitwise_String_Operators">3.2.31 Bitwise String Operators</h2>
 <p>Documented individually above, but to summarize...</p>
 <p>Bitwise integer negation is prefix <span class="code">+^</span>. Bitwise boolean negation is <span class="code">?^</span>.</p>
 <p>Bitwise and is <span class="code">+&amp;</span>.</p>
 <p>Bitwise integer or is <span class="code">+|</span>. Bitwise integer xor is infix <span class="code">+^</span>. Bitwise boolean or is <span class="code">?|</span>.</p>
 <p>Left shift and right shift are <span class="code">+&lt; </span> and <span class="code">+&gt; </span>.</p>
</div>
<!-- /language/5to6-perlsyn.pod6 --><div class="pod-body"><a id="_language_5to6-perlsyn.pod6"></a><a name="t4"><h1 class="title">4 Perl 5 to Perl 6 guide - Syntax</h1></a> <p class="subtitle">Syntactic differences between Perl 5 and Perl 6.</p> <p>perlsyn - Perl syntax</p>
 <a name="t4.1"></a><h1 id="_language_5to6-perlsyn.pod6-DESCRIPTION">4.1 DESCRIPTION</h1>
 <p>A (hopefully) comprehensive description of the differences between Perl 5 and Perl 6 with regards to the syntax elements described in the perlsyn document.</p>
 <a name="t4.2"></a><h1 id="_language_5to6-perlsyn.pod6-NOTE">4.2 NOTE</h1>
 <p>I will <i>not</i> be explaining Perl 6 syntax in detail. This document is an attempt to guide you from how things work in Perl 5 to the equivalents in Perl 6. For full documentation on the Perl 6 syntax, please see the Perl 6 documentation.</p>
 <a name="t4.3"></a><h1 id="_language_5to6-perlsyn.pod6-Free_Form">4.3 Free Form</h1>
 <p>Perl 6 is still <i>largely</i> free form. However, there are a few instances where the presence or lack of whitespace is now significant. For instance, in Perl 5, you can omit a space following a keyword (e. g. <span class="code">while($x &lt; 5)</span> or <span class="code">my($x, $y)</span>). In Perl 6, that space is required, thus <span class="code">while ($x &lt; 5)</span> or <span class="code">my ($x, $y)</span>. In Perl 6, however, you can omit the parentheses altogether: <span class="code">while $x &lt; 5 </span>. This holds for <span class="code">if</span>, <span class="code">for</span>, etc.</p>
 <p>Oddly, in Perl 5, you can leave spaces between an array or hash and its subscript, and before a postfix operator. So <span class="code">$seen {$_} ++</span> is valid. No more. That would now have to be <span class="code">%seen{$_}++</span>.</p>
 <p>If it makes you feel better, you can use backslashes to &quot;unspace&quot; whitespace, so you can use whitespace where it would otherwise be forbidden.</p>
 <p>See <a href="#_language_5to6-nutshell.pod6-Whitespace">Whitespace</a> for details.</p>
 <a name="t4.3.1"></a><h2 id="_language_5to6-perlsyn.pod6-Declarations">4.3.1 Declarations</h2>
 <p>As noted in the <a href="#_language_5to6-perlfunc.pod6">Functions</a> guide, there is no <span class="code">undef</span> in Perl 6. A declared, but uninitialized scalar variable will evaluate to its type. In other words, <span class="code">my $x;say $x;</span> will give you &quot;(Any)&quot;. <span class="code">my Int $y;say $y;</span> will give you &quot;(Int)&quot;.</p>
 <a name="t4.3.2"></a><h2 id="_language_5to6-perlsyn.pod6-Comments">4.3.2 Comments</h2>
 <p><span class="code">#</span> starts a comment that runs to the end of the line as in Perl 5.</p>
 <p>Embedded comments start with a hash character and a backtick (<span class="code">#`</span>), followed by an opening bracketing character, and continue to the matching closing bracketing character. Like so:</p>
 <pre class="code">if #`( why would I ever write an inline comment here? ) True { 
     say &quot;something stupid&quot;; 
 } 
</pre>
 <p>As in Perl 5, you can use pod directives to create multiline comments, with <span class="code">=begin comment</span> before and <span class="code">=end comment</span> after the comment.</p>
 <a name="t4.3.3"></a><h2 id="_language_5to6-perlsyn.pod6-Truth_and_Falsehood">4.3.3 Truth and Falsehood</h2>
 <p>The one difference between Perl 5 truth and Perl 6 truth is that, unlike Perl 5, Perl 6 treats the string <span class="code">&quot;0&quot;</span> as true. Numeric <span class="code">0</span> is still false, and you can use prefix <span class="code">+</span> to coerce string <span class="code">&quot;0&quot;</span> to numeric to get it to be false. Perl 6, additionally has an actual Boolean type, so, in many cases, True and False may be available to you without having to worry about what values count as true and false.</p>
 <a name="t4.3.4"></a><h2 id="_language_5to6-perlsyn.pod6-Statement_Modifiers">4.3.4 Statement Modifiers</h2>
 <p>Mostly, statement modifiers still work, with a few exceptions.</p>
 <p>First, <span class="code">for</span> loops are exclusively what were known in Perl 5 as <span class="code">foreach</span> loops and <span class="code">for</span> is not used for C-style <span class="code">for</span> loops in Perl 6. To get that behavior, you want <span class="code">loop</span>. <span class="code">loop</span> cannot be used as a statement modifier.</p>
 <p>In Perl 6, you cannot use the form <span class="code">do {...} while $x</span>. You will want to replace <span class="code">do</span> in that form with <span class="code">repeat</span>. Similarly for <span class="code">do {...} until $x</span>.</p>
 <a name="t4.3.5"></a><h2 id="_language_5to6-perlsyn.pod6-Compound_Statements">4.3.5 Compound Statements</h2>
 <p>The big change from Perl 5 is that <span class="code">given</span> is not experimental or disabled by default in Perl 6. For the details on <span class="code">given</span> see <a href="#_language_control.pod6-given">this page</a>.</p>
 <a name="t4.3.6"></a><h2 id="_language_5to6-perlsyn.pod6-Loop_Control">4.3.6 Loop Control</h2>
 <p><span class="code">next</span>, <span class="code">last</span>, and <span class="code">redo</span> have not changed from Perl 5 to Perl 6.</p>
 <p><span class="code">continue</span>, however, does not exist in Perl 6. You would use a <span class="code">NEXT</span> block in the body of the loop.</p>
 <pre class="code"># Perl 5 
 my $str = ''; 
 for (1..5) { 
     next if $_ % 2 == 1; 
     $str .= $_; 
 } 
 continue { 
     $str .= ':' 
 } 
 
</pre>
 <pre class="code"># Perl 6 
 my $str = ''; 
 for 1..5 { 
     next if $_ % 2 == 1; 
     $str ~= $_; 
     NEXT { 
         $str ~= ':' 
     } 
 } 
</pre>
 <a name="t4.3.7"></a><h2 id="_language_5to6-perlsyn.pod6-For_Loops">4.3.7 For Loops</h2>
 <p>As noted above, C-style <span class="code">for</span> loops are not called <span class="code">for</span> loops in Perl 6. They are just <span class="code">loop</span> loops. To write an infinite loop, you do not need to use the C idiom of <span class="code">loop (;;) {...}</span>, but may just omit the spec completely: <span class="code">loop {...}</span></p>
 <a name="t4.3.8"></a><h2 id="_language_5to6-perlsyn.pod6-Foreach_Loops">4.3.8 Foreach Loops</h2>
 <p>In Perl 5, <span class="code">for</span>, in addition to being used for C-style <span class="code">for</span> loops, is a synonym for <span class="code">foreach</span>. In Perl 6, <span class="code">for</span> is just used for <span class="code">foreach</span> style loops.</p>
 <a name="t4.3.9"></a><h2 id="_language_5to6-perlsyn.pod6-Switch_Statements">4.3.9 Switch Statements</h2>
 <p>Perl 6 has actual switch statements, provided by <span class="code">given</span> with the individual cases handled by <span class="code">when</span> and <span class="code">default</span>. The basic syntax is:</p>
 <pre class="code">given EXPR { 
     when EXPR { ... } 
     when EXPR { ... } 
     default { ... } 
 } 
</pre>
 <p>The full details can be found <a href="#_language_control.pod6-given">here</a>.</p>
 <a name="t4.3.10"></a><h2 id="_language_5to6-perlsyn.pod6-Goto">4.3.10 Goto</h2>
 <p><span class="code">goto</span> <i>probably</i> works similarly in Perl 6 to the way it does in Perl 5. However, as of this writing, it does not seem to be functional. For what is planned for <span class="code">goto</span>, see <a href="https://design.perl6.org/S04.html#The_goto_statement">https://design.perl6.org/S04.html#The_goto_statement</a>.</p>
 <a name="t4.3.11"></a><h2 id="_language_5to6-perlsyn.pod6-The_Ellipsis_Statement">4.3.11 The Ellipsis Statement</h2>
 <p><span class="code">...</span> (along with <span class="code">!!!</span> and <span class="code">???</span>) are used to create stub declarations. This is a bit more complicated than the use of <span class="code">...</span> in Perl 5, so you'll probably want to look at <a href="https://design.perl6.org/S06.html#Stub_declarations">https://design.perl6.org/S06.html#Stub_declarations</a> for the gory details. That said, there doesn't seem to be an <i>obvious</i> reason why it shouldn't still fulfill the role it did in Perl 5, despite its role being expanded in Perl 6.</p>
 <a name="t4.3.12"></a><h2 id="_language_5to6-perlsyn.pod6-PODs:_Embedded_Documentation">4.3.12 PODs: Embedded Documentation</h2>
 <p>Pod has changed between Perl 5 and Perl 6. Probably the biggest difference is that you need to enclose your pod between <span class="code">=begin pod</span> and <span class="code">=end pod</span> directives. There are a few tweaks here and there as well. For instance, as I have discovered while writing these documents, the vertical bar (&quot;|&quot;) is significant in <span class="code">X&lt;&gt; </span> codes, and it's not clear how to get a literal &quot;|&quot; into them. Your best bet may be to use the Perl 6 interpreter to check your pod. You can do this by using the <span class="code">--doc</span> switch. E. g. <span class="code">perl6 --doc Whatever.pod</span>. This will output any problems to standard error. (Depending on how/where you've installed perl6, you may need to specify the location of <span class="code">Pod::To::Text</span>.) Details on Perl 6 style pod is at <a href="https://design.perl6.org/S26.html">https://design.perl6.org/S26.html</a>.</p>
</div>
<!-- /language/5to6-perlvar.pod6 --><div class="pod-body"><a id="_language_5to6-perlvar.pod6"></a><a name="t5"><h1 class="title">5 Perl 5 to Perl 6 guide - Special Variables</h1></a> <p class="subtitle">A comparison of special variables in Perl 5 and Perl 6.</p> <a name="t5.1"></a><h1 id="_language_5to6-perlvar.pod6-DESCRIPTION">5.1 DESCRIPTION</h1>
 <p>A (hopefully) comprehensive list of Perl 5 Special Variables with their Perl 6 equivalents with notes on variations between them where necessary.</p>
 <a name="t5.2"></a><h1 id="_language_5to6-perlvar.pod6-NOTE">5.2 NOTE</h1>
 <p>This document is an attempt to guide the reader from the <i>Special Variables</i> in Perl 5 to their equivalents in Perl 6. For full documentation on the Perl 6 <i>Special Variables</i>, please see the Perl 6 documentation for each of them.</p>
 <a name="t5.3"></a><h1 id="_language_5to6-perlvar.pod6-SPECIAL_VARIABLES">5.3 SPECIAL VARIABLES</h1>
 <p><span class="indexed"><a id="5" name="Special Variables (Perl 5)"></a></span></p>
 <a name="t5.3.1"></a><h2 id="_language_5to6-perlvar.pod6-General_Variables">5.3.1 General Variables</h2>
 <ul><li><p>$ARG</p>
</li></ul> <ul><li><p>$_ <span class="indexed"><a id="6" name="$_ (Perl 5)"></a></span></p>
</li></ul> <p>Thankfully, <span class="code">$_</span> is the general default variable as in Perl 5. The main difference in Perl 6 is that you can now call methods on it. For instance, Perl 5's <span class="code">say $_</span> can be rendered in Perl 6 as <span class="code">$_.say</span>. Furthermore, as it is the default variable, you don't even need to use the variable name. The previous example can also be achieved by using <span class="code">.say</span>.</p>
 <ul><li><p>@ARG</p>
</li></ul> <ul><li><p>@_ <span class="indexed"><a id="7" name="@_ (Perl 5)"></a></span></p>
</li></ul> <p>As Perl 6 now has function signatures, your arguments can go there, rather than depending on <span class="code">@_</span> for them. In fact, if you use a function signature, use of <span class="code">@_</span> will spit at you telling it cannot override an existing signature.</p>
 <p>If, however, you do not use a function signature, <span class="code">@_</span> will contain the arguments you pass to the function as it did in Perl 5. Again, as with <span class="code">$_</span>, you can call methods on it. Unlike <span class="code">$_</span> you cannot assume <span class="code">@_</span> as the default variable for those methods to operate on (i. e. <span class="code">@_.shift</span> works, <span class="code">.shift</span> does not).</p>
 <ul><li><p>$LIST_SEPARATOR</p>
</li></ul> <ul><li><p>$&quot;</p>
</li></ul> <p>Currently, there is no equivalent of the List Separator variable in Perl 6. Design document <a href="https://design.perl6.org/S28.html">S28</a> says there isn't one, so you probably don't want to hold your breath.</p>
 <ul><li><p>$PROCESS_ID</p>
</li></ul> <ul><li><p>$PID</p>
</li></ul> <ul><li><p>$$ <span class="indexed"><a id="8" name="$$ (Perl 5)"></a></span></p>
</li></ul> <p><span class="code">$$</span> is replaced in Perl 6 by <span class="code">$*PID</span></p>
 <ul><li><p>$PROGRAM_NAME</p>
</li></ul> <ul><li><p>$0 <span class="indexed"><a id="9" name="$0 (Perl 5)"></a></span></p>
</li></ul> <p>You can access the program name in Perl 6 via <span class="code">$*PROGRAM-NAME</span>.</p>
 <p>Note: <span class="code">$0</span> in Perl 6 is the variable holding the first captured value from a regexp match (i. e. capture variables now start from <span class="code">$0</span> rather than <span class="code">$1</span>).</p>
 <ul><li><p>$REAL_GROUP_ID</p>
</li></ul> <ul><li><p>$GID</p>
</li></ul> <ul><li><p>$(</p>
</li></ul> <p>In Perl 6 the group information is handled by <span class="code">$*GROUP</span>, which holds an object of type <a href="#_type_IntStr.pod6">IntStr</a> and therefore can be used either within a string or a numeric context. The group id is therefore obtained via <span class="code">$*GROUP.Numeric</span>, while the group name via <span class="code">$*GROUP.Str</span>.</p>
 <ul><li><p>$EFFECTIVE_GROUP_ID</p>
</li></ul> <ul><li><p>$EGID</p>
</li></ul> <ul><li><p>$)</p>
</li></ul> <p>The effective group id does not appear to be currently provided by Perl 6.</p>
 <ul><li><p>$REAL_USER_ID</p>
</li></ul> <ul><li><p>$UID</p>
</li></ul> <ul><li><p>$&lt;</p>
</li></ul> <p>In Perl 6 the user information is handled by <span class="code">$*USER</span>, which holds an object of type <a href="#_type_IntStr.pod6">IntStr</a> and therefore can be used either within a string or a numeric context (this is similar to how the group information is handled by the <span class="code">$*GROUP</span> object). The user id is therefore obtained via <span class="code">$*USER.Numeric</span>, while the username via <span class="code">$*USER.Str</span>.</p>
 <ul><li><p>$EFFECTIVE_USER_ID</p>
</li></ul> <ul><li><p>$EUID</p>
</li></ul> <ul><li><p>$&gt;</p>
</li></ul> <p>The effective user id does not appear to be currently provided by Perl 6.</p>
 <ul><li><p>$SUBSCRIPT_SEPARATOR</p>
</li></ul> <ul><li><p>$SUBSEP</p>
</li></ul> <ul><li><p>$;</p>
</li></ul> <p>The subscript separator variable is not included in Perl 6. Frankly, if your Perl 5 code is using this, it's almost certainly really, really old.</p>
 <ul><li><p>$a</p>
</li></ul> <ul><li><p>$b</p>
</li></ul> <p><span class="code">$a</span> and <span class="code">$b</span> have no special meaning in Perl 6. <span class="code">sort()</span> does not use them for anything special. They're just regular old variables.</p>
 <p>This feature has been extended by having blocks with placeholder parameters which are more versatile. Placeholder variables are created with the <span class="code">^</span> twigil (e. g. <span class="code">$^z</span>. They can be used in a bare block or in a subroutine without an explicit parameter list. The arguments to the block are assigned to the placeholder variables in their Unicode order. I. e. even if the variables appear in the block in the order <span class="code">($^q, $^z, $^a)</span>, they will be <i>assigned</i> in the order <span class="code">($^a, $^q, $^z)</span>. Ergo:</p>
 <pre class="code">sort { $^a cmp $^z }, 1, 5, 6, 4, 2, 3; 
 # OUTPUT: «(1 2 3 4 5 6)␤» 
 sort { $^g cmp $^a }, 1, 5, 6, 4, 2, 3; 
 # OUTPUT: «(6 5 4 3 2 1)␤» 
 for 1..9 { say $^c, $^a, $^b; last } 
 # OUTPUT: «312␤» 
</pre>
 <p>For more on placeholder variables, see <a href="#_language_variables.pod6-The_^_Twigil">this page</a></p>
 <ul><li><p>%ENV</p>
</li></ul> <p>%ENV has been replaced by %*ENV in Perl 6. Note that the keys of this hash may not be exactly the same between Perl 5 and Perl 6. For example, <span class="code">OLDPWD</span> is missing from Perl 6's %ENV.</p>
 <ul><li><p>$OLD_PERL_VERSION</p>
</li></ul> <ul><li><p>$]</p>
</li></ul> <p>The running version of Perl 6 is kept by <span class="code">$*PERL</span> special variable, that is an object. The running version is retrieved via <span class="code">$*PERL.version</span>, which returns something like <span class="code">v6.c</span>; the full stringified version of the Perl interpreter is obtained via <span class="code">$*PERL.Str</span>, which returns something like <span class="code">Perl 6 (6.c)</span>.</p>
 <ul><li><p>$SYSTEM_FD_MAX</p>
</li></ul> <ul><li><p>$^F</p>
</li></ul> <p>Although the design documents (S28) indicate that this will likely become <span class="code">$*SYS_FD_MAX</span>, this has not yet been implemented.</p>
 <ul><li><p>@F</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] A bit confusing at this point. Design doc S28 indicates that <span class="code">@F</span> in Perl 5 is replaced by <span class="code">@_</span> in Perl 6, but it's unclear just how that works. On the other hand, it's currently something of a moot point, as the Perl 5 to Perl 6 Translation doc indicates that the <span class="code">-a</span> and <span class="code">-F</span> command-line switches are not yet implemented in rakudo.</p>
 <ul><li><p>@INC <span class="indexed"><a id="10" name="@INC (Perl 5)"></a></span></p>
</li></ul> <p>No longer exists in Perl 6. Please use &quot;use lib&quot; to manipulate the module repositories to be searched. The closest thing to @INC is really $*REPO. But that works completely differently from @INC mostly because of the precompilation capabilities of Perl 6.</p>
 <pre class="code"># Print out a list of compunit repositories
.say for $*REPO.repo-chain;</pre>
 <ul><li><p>%INC <span class="indexed"><a id="11" name="%INC (Perl 5)"></a></span></p>
</li></ul> <p>No longer exists in Perl 6. Because each Repository is responsible for remembering which modules have been loaded already. You can get a list of all loaded modules (compilation units) like so:</p>
 <pre class="code">use Test; 
 use MyModule; 
 say flat $*REPO.repo-chain.map(*.loaded); #-&gt; (MyModule Test) 
</pre>
 <ul><li><p>$INPLACE_EDIT</p>
</li></ul> <ul><li><p>$^I</p>
</li></ul> <p>S28 suggests $*INPLACE_EDIT, but it does not yet exist.</p>
 <ul><li><p>$^M</p>
</li></ul> <p>S28 suggests $*EMERGENCY_MEMORY, but it does not yet exist.</p>
 <ul><li><p>$OSNAME</p>
</li></ul> <ul><li><p>$^O</p>
</li></ul> <p>This is somewhat unclear. It probably depends on what you mean by &quot;the name of the operating system&quot; as design document <a href="https://design.perl6.org/S28.html">S28</a> has three different suggestions, all of which give different answers.</p>
 <p>There are currently three main objects containing information about the &quot;running environment&quot;:</p>
 <ul><li><p><span class="code">$*KERNEL</span> provides information about the running Operating System kernel;</p>
</li></ul> <ul><li><p><span class="code">$*DISTRO</span> provides information about the Operating System distribution;</p>
</li></ul> <ul><li><p><span class="code">$*VM</span> provides information about the running backend machine for Perl 6.</p>
</li></ul> <p>All the above objects have methods in common:</p>
 <ul><li><p><span class="code">version</span> provides the version number for that component;</p>
</li></ul> <ul><li><p><span class="code">name</span> provides the mnemonic name for that component;</p>
</li></ul> <ul><li><p><span class="code">auth</span> provides the known author(s) for that component.</p>
</li></ul> <p>As a short example, the following piece of code prints information about all the above components:</p>
 <pre class="code">for $*KERNEL, $*DISTRO, $*VM -&gt; $what { 
     say $what.^name; 
     say 'version '  ~ $what.version 
         ~ ' named ' ~ $what.name 
         ~ ' by '    ~ $what.auth; 
 } 
 
 # Kernel 
 # version 4.10.0.42.generic named linux by unknown 
 # Distro 
 # version 17.04.Zesty.Zapus named ubuntu by https://www.ubuntu.com/ 
 # VM 
 # version 2017.11 named moar by The MoarVM Team 
</pre>
 <p>The <span class="code">Str</span> method on all of the above produces the <i>short</i> version of the information, at the current time the <span class="code">name</span>.</p>
 <p>All the objects have other methods that can be useful when trying to identify the exact running instance, for more information use &lt;.^methods&gt; to introspect all the above.</p>
 <ul><li><p>%SIG</p>
</li></ul> <p>[NEEDS FURTHER RESEARCH] No equivalent variable. S28 indicates that this functionality is dealt with in Perl 6 by event filters and exception translation.</p>
 <ul><li><p>$BASETIME</p>
</li></ul> <ul><li><p>$^T</p>
</li></ul> <p>Replaced in Perl 6 by <span class="code">$*INIT-INSTANT</span>. Unlike in Perl 5, this is not in seconds since epoch, but an <a href="#_type_Instant.pod6">Instant</a> object, which is measured in atomic seconds, with fractions.</p>
 <ul><li><p>$PERL_VERSION</p>
</li></ul> <ul><li><p>$^V</p>
</li></ul> <p>As with <span class="code">$]</span> this has been replaced with <span class="code">$*PERL.version</span>.</p>
 <ul><li><p>${^WIN32_SLOPPY_STAT}</p>
</li></ul> <p>There is no analog to this in Perl 6.</p>
 <ul><li><p>$EXECUTABLE_NAME</p>
</li></ul> <ul><li><p>$^X</p>
</li></ul> <p>This has been replaced by <span class="code">$*EXECUTABLE-NAME</span>. Note that there is also <span class="code">$*EXECUTABLE</span>, which is an <span class="code">IO</span> object in Perl 6.</p>
 <a name="t5.3.2"></a><h2 id="_language_5to6-perlvar.pod6-Variables_related_to_regular_expressions">5.3.2 Variables related to regular expressions</h2>
 <a name="t5.3.2.1"></a><h3 id="_language_5to6-perlvar.pod6-Performance_issues">5.3.2.1 Performance issues</h3>
 <p>As shown below, <span class="code">$`</span>, <span class="code">$&amp;</span>, and <span class="code">$'</span> are gone from Perl 6, primarily replaced by variations on <span class="code">$/</span> and, with their elimination, the associated performance issues in Perl 5 do not apply.</p>
 <ul><li><p>$&lt;<i>digits</i>&gt; ($1, $2, ...)</p>
</li></ul> <p>These existing variables do the same thing in Perl 6 as they do in Perl 5, except that they now start at <span class="code">$0</span> rather than <span class="code">$1</span>. Furthermore, they are synonyms for indexed items in the match variable <span class="code">$/</span>. I. e. <span class="code">$0</span> is equivalent to <span class="code">$/[0]</span>, <span class="code">$1</span> is equivalent to <span class="code">$/[1]</span>, etc.</p>
 <ul><li><p>$MATCH</p>
</li></ul> <ul><li><p>$&amp;</p>
</li></ul> <p><span class="code">$/</span> now contains the <a href="#_type_Match.pod6">match</a> object, so the Perl 5 behavior of <span class="code">$&amp;</span> can be obtained by stringifying it, i. e. <span class="code">~$/</span>.</p>
 <p>Please note that while <span class="code">$/.Str</span> should also work, <span class="code">~$/</span> is currently the more common idiom.</p>
 <ul><li><p>${^MATCH}</p>
</li></ul> <p>Since the former performance issues are done away with, this variable is not of use in Perl 6.</p>
 <ul><li><p>$PREMATCH</p>
</li></ul> <ul><li><p>$`</p>
</li></ul> <p>Replaced by <span class="code">$/.prematch</span>.</p>
 <ul><li><p>${^PREMATCH}</p>
</li></ul> <p>Since the former performance issues are done away with, this variable is not of use in Perl 6.</p>
 <ul><li><p>$POSTMATCH</p>
</li></ul> <ul><li><p>$'</p>
</li></ul> <p>Replaced by <span class="code">$/.postmatch</span>.</p>
 <ul><li><p>${^POSTMATCH}</p>
</li></ul> <p>Since the former performance issues are done away with, this variable is not of use in Perl 6.</p>
 <ul><li><p>$LAST_PAREN_MATCH</p>
</li></ul> <ul><li><p>$+</p>
</li></ul> <p>Does not exist in Perl 6, but you can get the same information using <span class="code">$/[*- 1].Str</span> (<span class="code">$/[*-1]</span> would be the match object, not the actual string).</p>
 <p>If you want to <i>understand</i> why that works, you can look at these documents:</p>
 <ul><li><p><a href="#_routine_%5b%20%5d.pod6-language_documentation_operators">[ ] routine</a></p>
</li></ul> <ul><li><p><a href="#_type_Whatever.pod6">Whatever</a></p>
</li></ul> <p>...and possibly</p>
 <ul><li><p><a href="https://design.perl6.org/S02.html#line_1126">https://design.perl6.org/S02.html#line_1126</a></p>
</li></ul> <p>...though the design documents are not always up to date.</p>
 <ul><li><p>$LAST_SUBMATCH_RESULT</p>
</li></ul> <ul><li><p>$^N</p>
</li></ul> <p>S28 suggests <span class="code">$*MOST_RECENT_CAPTURED_MATCH</span>, but there does not seem to be any implemented variable that matches <span class="code">$^N</span>.</p>
 <ul><li><p>@LAST_MATCH_END</p>
</li></ul> <ul><li><p>@+</p>
</li></ul> <p>As with most regular expression related variables, this functionality is, at least in part, moved to the <span class="code">$/</span> variable in Perl 6. Or, in this case, the numbered variables that alias to the indexes of it. The offset is found by using the <span class="code">.to</span> method. I. e. the first offset is <span class="code">$/[0].to</span>, which is synonymous with <span class="code">$0.to</span>. The value Perl 5 provides as <span class="code">$+[0]</span> is provided by <span class="code">$/.to</span>.</p>
 <ul><li><p>%LAST_PAREN_MATCH</p>
</li></ul> <ul><li><p>%+</p>
</li></ul> <p>Once again, we move over to <span class="code">$/</span>. The former <span class="code">$+{$match}</span> is <span class="code">$/{$match}</span>.</p>
 <ul><li><p>@LAST_MATCH_START</p>
</li></ul> <ul><li><p>@-</p>
</li></ul> <p>Similarly to <span class="code">@+</span> being replaced by using the <span class="code">.to</span> method, <span class="code">@-</span> is replaced by using the <span class="code">.from</span> method on <span class="code">$/</span> and its variations. The first offset is <span class="code">$/[0].from</span> or the equivalent <span class="code">$0.from</span>. Perl 5's <span class="code">$- [0]</span> is <span class="code">$/.from</span>.</p>
 <ul><li><p>%LAST_MATCH_START</p>
</li></ul> <ul><li><p>%-</p>
</li></ul> <p>Much like <span class="code">%+</span>, a use of <span class="code">%-{$match}</span> would be replaced with <span class="code">$/{$match}</span>.</p>
 <ul><li><p>$LAST_REGEXP_CODE_RESULT</p>
</li></ul> <ul><li><p>$^R</p>
</li></ul> <p>No equivalent.</p>
 <ul><li><p>${^RE_DEBUG_FLAGS}</p>
</li></ul> <p>No equivalent.</p>
 <ul><li><p>${^RE_TRIE_MAXBUF}</p>
</li></ul> <p>No equivalent.</p>
 <a name="t5.3.3"></a><h2 id="_language_5to6-perlvar.pod6-Variables_related_to_filehandles">5.3.3 Variables related to filehandles</h2>
 <ul><li><p>$ARGV</p>
</li></ul> <p>The name of the current file when reading lines can be obtained through <span class="code">$*ARGFILES.filename</span>.</p>
 <ul><li><p>@ARGV</p>
</li></ul> <p><span class="code">@*ARGS</span> contains the command line arguments.</p>
 <ul><li><p>ARGV</p>
</li></ul> <p>This has been replaced by <span class="code">$*ARGFILES</span>.</p>
 <ul><li><p>ARGVOUT</p>
</li></ul> <p>As the <span class="code">-i</span> command line switch has not yet been implemented, there is not yet an equivalent of <span class="code">ARGVOUT</span>.</p>
 <ul><li><p>$OUTPUT_FIELD_SEPARATOR</p>
</li></ul> <ul><li><p>$OFS</p>
</li></ul> <ul><li><p>$,</p>
</li></ul> <p>Currently no obvious equivalent.</p>
 <ul><li><p>$INPUT_LINE_NUMBER</p>
</li></ul> <ul><li><p>$NR</p>
</li></ul> <ul><li><p>$.</p>
</li></ul> <p>No direct replacement exists.</p>
 <p>When iterating using <a href="#_routine_lines.pod6">lines</a> method from <a href="#_type_IO::Path.pod6">IO::Path</a> or <a href="#_type_IO::Handle.pod6">IO::Handle</a> types, you can <a href="#_language_operators.pod6-index-entry-Z_%28zip_meta_operator%29">zip</a> with a <a href="#_type_Range.pod6">Range</a>:</p>
 <pre class="code">for 1..* Z &quot;foo&quot;.IO.lines -&gt; ($ln, $text) { 
     say &quot;$ln: $text&quot; 
 } 
 # OUTPUT: 
 # 1: a 
 # 2: b 
 # 3: c 
 # 4: d 
</pre>
 <p>For <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> types (of which <a href="#_language_variables.pod6-index-entry-%24%2AARGFILES"><span class="code">$*ARGFILES</span></a> is one), you can use <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">on-switch</span></a> hook to reset line number on handle switch, and increment it manually. See also <a href="https://modules.perl6.org/repo/IO::CatHandle::AutoLines"><span class="code">IO::CatHandle::AutoLines</span></a> and <a href="https://modules.perl6.org/repo/LN"><span class="code">LN</span></a> modules that simplify this operation.</p>
 <ul><li><p>$INPUT_RECORD_SEPARATOR</p>
</li></ul> <ul><li><p>$RS</p>
</li></ul> <ul><li><p>$/</p>
</li></ul> <p>This is accessed through the <span class="code">.nl-in</span> method on the filehandle. E. g. <span class="code">$*IN.nl-in</span>.</p>
 <ul><li><p>$OUTPUT_RECORD_SEPARATOR</p>
</li></ul> <ul><li><p>$ORS</p>
</li></ul> <ul><li><p>$\</p>
</li></ul> <p>This is accessed through the <span class="code">.nl-out</span> method on the filehandle. E. g. <span class="code">$*OUT.nl-out</span>.</p>
 <ul><li><p>$OUTPUT_AUTOFLUSH</p>
</li></ul> <ul><li><p>$|</p>
</li></ul> <p>No global alternative available. TTY handles are unbuffered by default, for others, set <a href="#_routine_out-buffer.pod6">out-buffer</a> to zero or use <span class="code">:!out-buffer</span> with <a href="#_routine_open.pod6">open</a> on a specific <a href="#_type_IO::Handle.pod6">IO::Handle</a>.</p>
 <ul><li><p>${^LAST_FH}</p>
</li></ul> <p>Not implemented in Perl 6.</p>
 <a name="t5.3.3.1"></a><h3 id="_language_5to6-perlvar.pod6-Variables_related_to_formats">5.3.3.1 Variables related to formats</h3>
 <p>There are no built-in formats in Perl 6.</p>
 <a name="t5.3.4"></a><h2 id="_language_5to6-perlvar.pod6-Error_Variables">5.3.4 Error Variables</h2>
 <p>Because of how error variables have changed in Perl 6, they will not be detailed here individually.</p>
 <p>To quote the Perl 6 <a href="#_language_variables.pod6-index-entry-%24!">docs</a>, &quot;$! is the error variable.&quot; That's it. All the error variables appear to have been eaten by $!. As with the rest of Perl 6, it's an object that will return various things depending on the type of error or <a href="#_type_Exception.pod6">exception</a>.</p>
 <p>In particular, when dealing with <a href="#_type_Exception.pod6">exceptions</a> the <span class="code">$!</span> provides information about the thrown exception, assuming the program has not halted:</p>
 <pre class="code">try { 
     fail &quot;Boooh&quot;; 
     CATCH { 
         # within the catch block 
         # the exception is placed into $_ 
         say 'within the catch:'; 
         say $_.^name ~ ' : ' ~ $_.message; 
         $_.resume; # do not abort 
     } 
 } 
 
 # outside the catch block the exception is placed 
 # into $! 
 say 'outside the catch:'; 
 say $!.^name ~ ' : ' ~ $!.message; 
</pre>
 <p>and the above code produces the following output</p>
 <pre class="code">within the catch: 
 X::AdHoc : Boooh 
 outside the catch: 
 X::AdHoc : Boooh 
</pre>
 <p>therefore, as stated before, the <span class="code">$!</span> variable holds the exception object.</p>
 <a name="t5.3.5"></a><h2 id="_language_5to6-perlvar.pod6-Variables_related_to_the_interpreter_state">5.3.5 Variables related to the interpreter state</h2>
 <ul><li><p>$COMPILING</p>
</li></ul> <ul><li><p>$^C</p>
</li></ul> <ul><li><p>$^D</p>
</li></ul> <p>Currently no equivalents for either of these variables.</p>
 <ul><li><p>${^ENCODING}</p>
</li></ul> <p>Although deprecated in Perl 5, this may have some sort of equivalent in <span class="code">$?ENC</span>, but this is far from clear.</p>
 <ul><li><p>${^GLOBAL_PHASE}</p>
</li></ul> <p>No Perl 6 equivalent.</p>
 <ul><li><p>$^H</p>
</li></ul> <ul><li><p>%^H</p>
</li></ul> <ul><li><p>${^OPEN}</p>
</li></ul> <p>There may or may not be equivalents of these in Perl 6, but they're internal and you shouldn't be messing with them in the first place - certainly not if your understanding of Perl 6 requires you to read this document...</p>
 <ul><li><p>$PERLDB</p>
</li></ul> <ul><li><p>$^P</p>
</li></ul> <p>The chance of the Perl 6 debugger resembling the Perl 5 debugger is slim at best, and at this point there does not seem to be an equivalent of this variable.</p>
 <ul><li><p>${^TAINT}</p>
</li></ul> <p>S28 claims this variable is &quot;pending&quot;. Not currently in Perl 6.</p>
 <ul><li><p>${^UNICODE}</p>
</li></ul> <ul><li><p>${^UTF8CACHE}</p>
</li></ul> <ul><li><p>${^UTF8LOCALE}</p>
</li></ul> <p>These Unicode-related variables do not appear to exist in Perl 6, but - maybe? - could have analogs in <span class="code">$?ENC</span> somewhere. This, however, is totally unconfirmed.</p>
 <a name="t5.3.6"></a><h2 id="_language_5to6-perlvar.pod6-Deprecated_and_removed_variables">5.3.6 Deprecated and removed variables</h2>
 <p>It should go without saying that, as these have been removed from Perl 5 already, there should be no need to tell you how to use them in Perl 6.</p>
</div>
<!-- /language/about.pod6 --><div class="pod-body"><a id="_language_about.pod6"></a><a name="t6"><h1 class="title">6 About the Docs</h1></a> <p class="subtitle">Meta-documentation</p> <p>This document collection represents the on-going effort to document the Perl 6 programming language with the goals of being: comprehensive; easy to use; easy to navigate; and useful to both newcomers and experienced Perl 6 programmers.</p>
 <p>An HTML version of the documentation is located online at <a href="https://docs.perl6.org">https://docs.perl6.org</a>.</p>
 <p>The official source for this documentation is located at <a href="https://github.com/perl6/doc">perl6/doc on GitHub</a>.</p>
 <p>This particular document is a quick overview of the process described in more detail in <a href="https://github.com/perl6/doc/blob/master/CONTRIBUTING.md">CONTRIBUTING on GitHub</a>. This document also provides a short introduction to writing Perl 6 Pod files, which can be rendered into HTML and other formats.</p>
 <a name="t6.1"></a><h1 id="_language_about.pod6-Structure">6.1 Structure</h1>
 <p>All of the documentation is written in Perl 6 Pod and kept in the <span class="code">doc/</span> directory, and the <span class="code">doc/Language/</span> and <span class="code">doc/Type/</span> sub-directories. These files are processed as collections of definitions or &quot;documentables&quot;, which are then post-processed and linked together.</p>
 <a name="t6.2"></a><h1 id="_language_about.pod6-Generating_HTML_from_Pod">6.2 Generating HTML from Pod</h1>
 <p>To generate HTML from the Pod files, you'll need:</p>
 <ul><li><p>A recent version of the Rakudo Perl 6 compiler</p>
</li></ul> <ul><li><p>The Perl 6 modules Pod::To::HTML, Pod::To::BigPage, and URI::Escape (can be installed via <a href="https://github.com/ugexe/zef">zef</a>).</p>
</li></ul> <ul><li><p><b>Optional</b>: <a href="http://graphviz.org">GraphViz</a>, for creating graphs of the relationships between Perl 6 types</p>
</li></ul> <ul><li><p><b>Optional</b>: <a href="https://github.com/atom/highlights">Atom Highlights</a> and <a href="https://atom.io/packages/language-perl6">language-perl6</a>, for syntax highlighting</p>
</li></ul> <p>To generate the documentation into the <span class="code">html/</span> folder, run:</p>
 <pre class="code">perl6 htmlify.p6 
</pre>
 <p>To host the documentation from a web server, have Perl 5 and Mojolicious::Lite installed, then run:</p>
 <pre class="code">perl app.pl daemon 
</pre>
 <a name="t6.3"></a><h1 id="_language_about.pod6-Contributing">6.3 Contributing</h1>
 <p>The documentation is written in Perl 6 Pod.</p>
 <p>For a quick introduction to Perl 6 Pod, see <a href="https://docs.perl6.org/language/pod">Perl 6 Pod</a>.</p>
 <p>For full details about the Perl 6 Pod specification, see <a href="https://design.perl6.org/S26.html">Synopsis 26, Documentation</a>.</p>
 <a name="t6.3.1"></a><h2 id="_language_about.pod6-Adding_definitions">6.3.1 Adding definitions</h2>
 <p>Documentables can be defined using an <span class="code">=headN</span> Pod directive, where <span class="code">N</span> is greater than zero (e.g., <span class="code">=head1</span>, <span class="code">=head2</span>, …).</p>
 <p>All of the paragraphs and blocks following that directive, up until the next directive of the same level, will be considered part of the documentable. So, in:</p>
 <pre class="code">=head2  <var class="replaceable">My Definition</var> 
 
 Some paragraphs, followed by some code: 
 
     my Code $examples = &quot;amazing&quot;; 
 
 Mind === blown. 
 
 =head3 Minor details about  <var class="replaceable">My Definition</var> 
 
 It's fantastic. 
 
 =head2 And now, for something completely different 
 
 … 
 
</pre>
 <p>The documentable <var class="replaceable">My Definition</var> extends down to the <span class="code">=head2 And now…</span>.</p>
 <p>Documentables may contain other documentables. Class documentables, for example, often contain the methods the class implements.</p>
 <p>Definitions must be in one of the following forms to be recognized as the start of a documentable named, say, þ. First the code in the document source:</p>
 <pre class="code">=item X&lt;C&lt;How to use the þ infix&gt; | infix,þ&gt; (This a special case, which 
 is always considered a definition) 
 
 =item C&lt;The þ Infix&gt; 
 
 =item B&lt;The C&lt;þ&gt; Infix&gt; 
 
 =item C&lt;Infix þ&gt; 
 
 =item B&lt;Infix C&lt;þ&gt;&gt; 
 
 =item C&lt;trait is cached&gt; (A special case for the L&lt;trait|/language/functions#Traits&gt; documentables) 
 
</pre>
 <p>Then the results on the rendered page:</p>
 <ul><li><p><span class="indexed"><a id="12" name="infix þ"><span class="code">How to use the þ infix</span></a></span> (This is a special case, which is always considered a definition)</p>
</li></ul> <ul><li><p><span class="code">The þ Infix</span></p>
</li></ul> <ul><li><p><b>The  <span class="code">þ</span>  Infix</b></p>
</li></ul> <ul><li><p><span class="code">Infix þ</span></p>
</li></ul> <ul><li><p><b>Infix  <span class="code">þ</span></b></p>
</li></ul> <ul><li><p><span class="code">trait is cached</span> (A special case for the <a href="#_language_functions.pod6-Traits">trait</a> documentables)</p>
</li></ul> <p>These items should now be searchable by using the search field in the HTML docs.</p>
 <p>You can add emphasis with bold (<b> B&lt;&gt; </b>) or italicized (<b> I&lt;&gt; </b>), with or without code formatting (<b> C&lt;&gt; </b>). Due to current parser limitations, special steps have to be taken to use <b> X&lt;&gt; </b> with other formatting codes; for example:</p>
 <pre class="code">=item X&lt;B&lt;foo&gt;|foo&gt; a fancy subroutine 
</pre>
 <p>renders like this</p>
 <ul><li><p><span class="indexed"><a id="13" name="foo"><b>foo</b></a></span> a fancy subroutine</p>
</li></ul> <p>Notice that text after a pipe ('|') has no formatting. Also note that <b> C&lt;&gt; </b> preserves spaces and treats text as verbatim.</p>
</div>
<!-- /language/classtut.pod6 --><div class="pod-body"><a id="_language_classtut.pod6"></a><a name="t7"><h1 class="title">7 Classes and Objects</h1></a> <p class="subtitle">A tutorial for creating and using classes in Perl 6</p> <p><span class="indexed"><a id="14" name="OOP"></a></span></p>
 More descriptive title?
 <p>Perl 6 has a rich built-in syntax for defining and using classes.</p>
 <p>A default constructor allows the setting of attributes for the created object:</p>
 <pre class="code">class Point { 
     has Int $.x; 
     has Int $.y; 
 } 
 
 class Rectangle { 
     has Point $.lower; 
     has Point $.upper; 
 
     method area() returns Int { 
         ($!upper.x - $!lower.x) * ( $!upper.y - $!lower.y); 
     } 
 } 
 
 # Create a new Rectangle from two Points 
 my $r = Rectangle.new(lower =&gt; Point.new(x =&gt; 0, y =&gt; 0), upper =&gt; Point.new(x =&gt; 10, y =&gt; 10)); 
 
 say $r.area(); # OUTPUT: «100␤» 
</pre>
 <p>You can also provide your own construction and build implementation. The following, more elaborate example shows how a dependency handler might look in Perl 6. It showcases custom constructors, private and public attributes, methods and various aspects of signatures. It's not very much code, and yet the result is interesting and useful.</p>
 <pre class="code">class Task { 
     has      &amp;!callback; 
     has Task @!dependencies; 
     has Bool $.done; 
 
     # Normally doesn't need to be written 
     # BUILD is the equivalent of a constructor in other languages 
     method new(&amp;callback, *@dependencies) { 
         return self.bless(:&amp;callback, :@dependencies); 
     } 
 
     submethod BUILD(:&amp;!callback, :@!dependencies) { } 
 
     method add-dependency(Task $dependency) { 
         push @!dependencies, $dependency; 
     } 
 
     method perform() { 
         unless $!done { 
             .perform() for @!dependencies; 
             &amp;!callback(); 
             $!done = True; 
         } 
     } 
 } 
 
 my $eat = 
     Task.new({ say 'eating dinner. NOM!' }, 
         Task.new({ say 'making dinner' }, 
             Task.new({ say 'buying food' }, 
                 Task.new({ say 'making some money' }), 
                 Task.new({ say 'going to the store' }) 
             ), 
             Task.new({ say 'cleaning kitchen' }) 
         ) 
     ); 
 
 $eat.perform(); 
</pre>
 <a name="t7.1"></a><h1 id="_language_classtut.pod6-Starting_with_class">7.1 Starting with class</h1>
 <p><span class="indexed"><a id="15" name="class"></a></span> <span class="indexed"><a id="16" name="classes"></a></span></p>
 <p><span class="indexed"><a id="17" name="state"></a></span> <span class="indexed"><a id="18" name="has"></a></span> <span class="indexed"><a id="19" name="classes has"></a></span> <span class="indexed"><a id="20" name="behavior"></a></span> <span class="indexed"><a id="21" name="classes behavior"></a></span></p>
 <p>Perl 6, like many other languages, uses the <span class="code">class</span> keyword to define a class. The block that follows may contain arbitrary code, just as with any other block, but classes commonly contain state and behavior declarations. The example code includes attributes (state), introduced through the <span class="code">has</span> keyword, and behaviors, introduced through the <span class="code">method</span> keyword.</p>
 <p><span class="indexed"><a id="22" name="type object"></a></span> <span class="indexed"><a id="23" name="DEFINITE"></a></span> <span class="indexed"><a id="24" name=".DEFINITE"></a></span></p>
 <p>Declaring a class creates a new <i>type object</i> which, by default, is installed into the current package (just like a variable declared with <span class="code">our</span> scope). This type object is an &quot;empty instance&quot; of the class. For example, types such as <span class="code">Int</span> and <span class="code">Str</span> refer to the type object of one of the Perl 6 built-in classes. The example above uses the class name <span class="code">Task</span> so that other code can refer to it later, such as to create class instances by calling the <span class="code">new</span> method.</p>
 <p>You can use <span class="code">.DEFINITE</span> method to find out if what you have is an instance or a type object:</p>
 <pre class="code">say Int.DEFINITE; # OUTPUT: «False␤» (type object)
say 426.DEFINITE; # OUTPUT: «True␤»  (instance)

class Foo {};
say Foo.DEFINITE;     # OUTPUT: «False␤» (type object)
say Foo.new.DEFINITE; # OUTPUT: «True␤»  (instance)</pre>
 <p>You can also use type smileys to only accept instances or type objects:</p>
 <pre class="code">multi foo (Int:U) { &quot;It's a type object!&quot; }
multi foo (Int:D) { &quot;It's an instance!&quot;   }
say foo Int; # OUTPUT: «It's a type object!␤»
say foo 42;  # OUTPUT: «It's an instance!␤»</pre>
 <a name="t7.2"></a><h1 id="_language_classtut.pod6-State">7.2 State</h1>
 <p><span class="indexed"><a id="25" name="attributes"></a></span> <span class="indexed"><a id="26" name="classes attributes"></a></span></p>
 <p><span class="indexed"><a id="27" name="encapsulation"></a></span> <span class="indexed"><a id="28" name="classes encapsulation"></a></span></p>
 <p>The first three lines inside the class block all declare attributes (called <i>fields</i> or <i>instance storage</i> in other languages). Just as a <span class="code">my</span> variable cannot be accessed from outside its declared scope, attributes are not accessible outside of the class. This <i>encapsulation</i> is one of the key principles of object oriented design.</p>
 <p>The first declaration specifies instance storage for a callback – a bit of code to invoke in order to perform the task that an object represents:</p>
 <pre class="code">has &amp;!callback; 
</pre>
 <p><span class="indexed"><a id="29" name="sigils &amp;"></a></span> <span class="indexed"><a id="30" name="twigils"></a></span> <span class="indexed"><a id="31" name="twigils !"></a></span></p>
 <p>The <span class="code">&amp;</span> sigil indicates that this attribute represents something invocable. The <span class="code">!</span> character is a <i>twigil</i>, or secondary sigil. A twigil forms part of the name of the variable. In this case, the <span class="code">!</span> twigil emphasizes that this attribute is private to the class.</p>
 <p>The second declaration also uses the private twigil:</p>
 <pre class="code">has Task @!dependencies; 
</pre>
 <p>However, this attribute represents an array of items, so it requires the <span class="code">@</span> sigil. These items each specify a task that must be completed before the present one can complete. Furthermore, the type declaration on this attribute indicates that the array may only hold instances of the <span class="code">Task</span> class (or some subclass of it).</p>
 <p>The third attribute represents the state of completion of a task:</p>
 <pre class="code">has Bool $.done; 
</pre>
 <p><span class="indexed"><a id="32" name="twigils ."></a></span> <span class="indexed"><a id="33" name="twigils accessors"></a></span> <span class="indexed"><a id="34" name="accessor methods"></a></span> <span class="indexed"><a id="35" name="classes accessors"></a></span></p>
 <p>This scalar attribute (with the <span class="code">$</span> sigil) has a type of <span class="code">Bool</span>. Instead of the <span class="code">!</span> twigil, the <span class="code">.</span> twigil is used. While Perl 6 does enforce encapsulation on attributes, it also saves you from writing accessor methods. Replacing the <span class="code">!</span> with a <span class="code">.</span> both declares the attribute <span class="code">$!done</span> and an accessor method named <span class="code">done</span>. It's as if you had written:</p>
 <pre class="code">has Bool $!done;
method done() { return $!done }</pre>
 <p>Note that this is not like declaring a public attribute, as some languages allow; you really get <i>both</i> a private attribute and a method, without having to write the method by hand. You are free instead to write your own accessor method, if at some future point you need to do something more complex than return the value.</p>
 <p>Note that using the <span class="code">.</span> twigil has created a method that will provide read-only access to the attribute. If instead the users of this object should be able to reset a task's completion state (perhaps to perform it again), you can change the attribute declaration:</p>
 <pre class="code">has Bool $.done is rw;</pre>
 <p><span class="indexed"><a id="36" name="traits is rw"></a></span></p>
 <p>The <span class="code">is rw</span> trait causes the generated accessor method to return something external code can modify to change the value of the attribute.</p>
 <p>You can also supply default values to attributes (which works equally for those with and without accessors):</p>
 <pre class="code">has Bool $.done = False;</pre>
 <p>The assignment is carried out at object build time. The right-hand side is evaluated at that time, and can even reference earlier attributes:</p>
 <pre class="code">has Task @!dependencies; 
 has $.ready = not @!dependencies; 
</pre>
 <a name="t7.3"></a><h1 id="_language_classtut.pod6-Static_fields?">7.3 Static fields?</h1>
 <p>Perl 6 has no <b>static</b> keyword. Nevertheless, any class may declare anything that a module can, so making a scoped variable sounds like good idea.</p>
 <pre class="code">class Singleton { 
     my Singleton $instance; 
     method new {!!!} 
     submethod instance { 
         $instance = Singleton.bless unless $instance; 
         $instance; 
     } 
 } 
 
</pre>
 <p>Class attributes defined by <a href="#_syntax_my.pod6">my</a> or <a href="#_syntax_our.pod6">our</a> may also be initialized when being declared, however we are implementing the Singleton pattern here and the object must be created during its first use. It is not 100% possible to predict the moment when attribute initialization will be executed, because it can take place during compilation, runtime or both, especially when importing the class using the <a href="#_syntax_use.pod6">use</a> keyword.</p>
 <pre class="code">class HaveStaticAttr { 
       my Foo $.foo = some_complicated_subroutine; 
 } 
</pre>
 <p>Class attributes may also be declared with a secondary sigil – in a similar manner to object attributes – that will generate read-only accessors if the attribute is to be public.</p>
 <a name="t7.4"></a><h1 id="_language_classtut.pod6-Methods">7.4 Methods</h1>
 <p><span class="indexed"><a id="37" name="methods"></a></span> <span class="indexed"><a id="38" name="classes methods"></a></span></p>
 <p>While attributes give objects state, methods give objects behaviors. Let's ignore the <span class="code">new</span> method temporarily; it's a special type of method. Consider the second method, <span class="code">add-dependency</span>, which adds a new task to a task's dependency list.</p>
 <pre class="code">method add-dependency(Task $dependency) { 
     push @!dependencies, $dependency; 
 } 
</pre>
 <p><span class="indexed"><a id="39" name="invocant"></a></span></p>
 <p>In many ways, this looks a lot like a <span class="code">sub</span> declaration. However, there are two important differences. First, declaring this routine as a method adds it to the list of methods for the current class. Thus any instance of the <span class="code">Task</span> class can call this method with the <span class="code">.</span> method call operator. Second, a method places its invocant into the special variable <span class="code">self</span>.</p>
 <p>The method itself takes the passed parameter – which must be an instance of the <span class="code">Task</span> class – and <span class="code">push</span>es it onto the invocant's <span class="code">@!dependencies</span> attribute.</p>
 <p>The <span class="code">perform</span> method contains the main logic of the dependency handler:</p>
 <pre class="code">method perform() { 
     unless $!done { 
         .perform() for @!dependencies; 
         &amp;!callback(); 
         $!done = True; 
     } 
 } 
</pre>
 <p>It takes no parameters, working instead with the object's attributes. First, it checks if the task has already completed by checking the <span class="code">$!done</span> attribute. If so, there's nothing to do.</p>
 <p><span class="indexed"><a id="40" name="operators ."></a></span></p>
 <p>Otherwise, the method performs all of the task's dependencies, using the <span class="code">for</span> construct to iterate over all of the items in the <span class="code">@!dependencies</span> attribute. This iteration places each item – each a <span class="code">Task</span> object – into the topic variable, <span class="code">$_</span>. Using the <span class="code">.</span> method call operator without specifying an explicit invocant uses the current topic as the invocant. Thus the iteration construct calls the <span class="code">.perform()</span> method on every <span class="code">Task</span> object in the <span class="code">@!dependencies</span> attribute of the current invocant.</p>
 <p>After all of the dependencies have completed, it's time to perform the current <span class="code">Task</span>'s task by invoking the <span class="code">&amp;!callback</span> attribute directly; this is the purpose of the parentheses. Finally, the method sets the <span class="code">$!done</span> attribute to <span class="code">True</span>, so that subsequent invocations of <span class="code">perform</span> on this object (if this <span class="code">Task</span> is a dependency of another <span class="code">Task</span>, for example) will not repeat the task.</p>
 <a name="t7.4.1"></a><h2 id="_language_classtut.pod6-Private_Methods">7.4.1 Private Methods</h2>
 <p>Just like attributes, methods can also be private. Private methods are declared with a prefixed exclamation mark. They are called with <span class="code">self!</span> followed by the method's name. To call a private method of another class the calling class has to be trusted by the called class. A trust relationship is declared with <span class="code">trusts</span> and the class to be trusted must already be declared. Calling a private method of another class requires an instance of that class and the fully qualified name of the method. Trust also allows access to private attributes.</p>
 <pre class="code">class B {...}

class C {
    trusts B;
    has $!hidden = 'invisible';
    method !not-yours () { say 'hidden' }
    method yours-to-use () {
        say $!hidden;
        self!not-yours();
    }
}

class B {
    method i-am-trusted () {
        my C $c.=new;
        $c!C::not-yours();
    }
}

C.new.yours-to-use(); # the context of this call is GLOBAL, and not trusted by C
B.new.i-am-trusted();</pre>
 <p>Trust relationships are not subject to inheritance. To trust the global namespace, the pseudo package <span class="code">GLOBAL</span> can be used.</p>
 <a name="t7.5"></a><h1 id="_language_classtut.pod6-Constructors">7.5 Constructors</h1>
 <p><span class="indexed"><a id="41" name="constructors"></a></span></p>
 <p>Perl 6 is rather more liberal than many languages in the area of constructors. A constructor is anything that returns an instance of the class. Furthermore, constructors are ordinary methods. You inherit a default constructor named <span class="code">new</span> from the base class <span class="code">Mu</span>, but you are free to override <span class="code">new</span>, as this example does:</p>
 <pre class="code">method new(&amp;callback, *@dependencies) {
    return self.bless(:&amp;callback, :@dependencies);
}</pre>
 <p><span class="indexed"><a id="42" name="objects bless"></a></span> <span class="indexed"><a id="43" name="bless"></a></span></p>
 <p>The biggest difference between constructors in Perl 6 and constructors in languages such as C# and Java is that rather than setting up state on a somehow already magically created object, Perl 6 constructors create the object themselves. The easiest way to do this is by calling the <a href="#_routine_bless.pod6">bless</a> method, also inherited from <a href="#_type_Mu.pod6">Mu</a>. The <span class="code">bless</span> method expects a set of named parameters to provide the initial values for each attribute.</p>
 <p>The example's constructor turns positional arguments into named arguments, so that the class can provide a nice constructor for its users. The first parameter is the callback (the thing which will execute the task). The rest of the parameters are dependent <span class="code">Task</span> instances. The constructor captures these into the <span class="code">@dependencies</span> slurpy array and passes them as named parameters to <span class="code">bless</span> (note that <span class="code">:&amp;callback</span> uses the name of the variable – minus the sigil – as the name of the parameter).</p>
 <p><span class="indexed"><a id="44" name="BUILD"></a></span></p>
 <p>Private attributes really are private. This means that <span class="code">bless</span> is not allowed to bind things to <span class="code">&amp;!callback</span> and <span class="code">@!dependencies</span> directly. To do this, we override the <span class="code">BUILD</span> submethod, which is called on the brand new object by <span class="code">bless</span>:</p>
 <pre class="code">submethod BUILD(:&amp;!callback, :@!dependencies) { } 
</pre>
 <p>Since <span class="code">BUILD</span> runs in the context of the newly created <span class="code">Task</span> object, it is allowed to manipulate those private attributes. The trick here is that the private attributes (<span class="code">&amp;!callback</span> and <span class="code">@!dependencies</span>) are being used as the bind targets for <span class="code">BUILD</span>'s parameters. Zero-boilerplate initialization! See <a href="#_language_objects.pod6-Object_Construction">objects</a> for more information.</p>
 <p>The <span class="code">BUILD</span> method is responsible for initializing all attributes and must also handle default values:</p>
 <pre class="code">has &amp;!callback; 
 has @!dependencies; 
 has Bool ($.done, $.ready); 
 submethod BUILD( 
         :&amp;!callback, 
         :@!dependencies, 
         :$!done = False, 
         :$!ready = not @!dependencies 
     ) { } 
</pre>
 <p>See <a href="#_language_objects.pod6-Object_Construction">Object Construction</a> for more options to influence object construction and attribute initialization.</p>
 <a name="t7.6"></a><h1 id="_language_classtut.pod6-Consuming_our_class">7.6 Consuming our class</h1>
 <p>After creating a class, you can create instances of the class. Declaring a custom constructor provides a simple way of declaring tasks along with their dependencies. To create a single task with no dependencies, write:</p>
 <pre class="code">my $eat = Task.new({ say 'eating dinner. NOM!' }); 
</pre>
 <p>An earlier section explained that declaring the class <span class="code">Task</span> installed a type object in the namespace. This type object is a kind of &quot;empty instance&quot; of the class, specifically an instance without any state. You can call methods on that instance, as long as they do not try to access any state; <span class="code">new</span> is an example, as it creates a new object rather than modifying or accessing an existing object.</p>
 <p>Unfortunately, dinner never magically happens. It has dependent tasks:</p>
 <pre class="code">my $eat = 
     Task.new({ say 'eating dinner. NOM!' }, 
         Task.new({ say 'making dinner' }, 
             Task.new({ say 'buying food' }, 
                 Task.new({ say 'making some money' }), 
                 Task.new({ say 'going to the store' }) 
             ), 
             Task.new({ say 'cleaning kitchen' }) 
         ) 
     ); 
</pre>
 <p>Notice how the custom constructor and sensible use of whitespace makes task dependencies clear.</p>
 <p>Finally, the <span class="code">perform</span> method call recursively calls the <span class="code">perform</span> method on the various other dependencies in order, giving the output:</p>
 <pre class="code">making some money 
 going to the store 
 buying food 
 cleaning kitchen 
 making dinner 
 eating dinner. NOM! 
</pre>
 <a name="t7.7"></a><h1 id="_language_classtut.pod6-Inheritance">7.7 Inheritance</h1>
 <p><span class="indexed"><a id="45" name="classes  inheritance"></a></span></p>
 <p>Object Oriented Programming provides the concept of inheritance as one of the mechanisms for code reuse. Perl 6 supports the ability for one class to inherit from one or more classes. When a class inherits from another class it informs the method dispatcher to follow the inheritance chain to look for a method to dispatch. This happens both for standard methods defined via the method keyword and for methods generated through other means, such as attribute accessors.</p>
 <pre class="code">class Employee { 
     has $.salary; 
 
     method pay() { 
         say &quot;Here is \$$.salary&quot;; 
     } 
 } 
 
 class Programmer is Employee { 
     has @.known_languages is rw; 
     has $.favorite_editor; 
 
     method code_to_solve( $problem ) { 
         say &quot;Solving $problem using $.favorite_editor in &quot; 
         ~ $.known_languages[0] ~ '.'; 
     } 
 } 
</pre>
 <p>Now, any object of type Programmer can make use of the methods and accessors defined in the Employee class as though they were from the Programmer class.</p>
 <pre class="code">my $programmer = Programmer.new( 
     salary =&gt; 100_000, 
     known_languages =&gt; &lt;Perl5 Perl6 Erlang C++&gt;, 
     favorite_editor =&gt; 'vim' 
 ); 
 
 $programmer.code_to_solve('halting problem'); 
 $programmer.pay(); 
</pre>
 <a name="t7.7.1"></a><h2 id="_language_classtut.pod6-Overriding_inherited_methods">7.7.1 Overriding inherited methods</h2>
 <p>Of course, classes can override methods and attributes defined by parent classes by defining their own. The example below demonstrates the <span class="code">Baker</span> class overriding the <span class="code">Cook</span>'s <span class="code">cook</span> method.</p>
 <pre class="code">class Cook is Employee { 
     has @.utensils  is rw; 
     has @.cookbooks is rw; 
 
     method cook( $food ) { 
         say &quot;Cooking $food&quot;; 
     } 
 
     method clean_utensils { 
         say &quot;Cleaning $_&quot; for @.utensils; 
     } 
 } 
 
 class Baker is Cook { 
     method cook( $confection ) { 
         say &quot;Baking a tasty $confection&quot;; 
     } 
 } 
 
 my $cook = Cook.new( 
     utensils =&gt; &lt;spoon ladle knife pan&gt;, 
     cookbooks =&gt; 'The Joy of Cooking', 
     salary =&gt; 40000); 
 
 $cook.cook( 'pizza' );       # OUTPUT: «Cooking pizza␤» 
 say $cook.utensils.perl;     # OUTPUT: «[&quot;spoon&quot;, &quot;ladle&quot;, &quot;knife&quot;, &quot;pan&quot;]␤» 
 say $cook.cookbooks.perl;    # OUTPUT: «[&quot;The Joy of Cooking&quot;]␤» 
 say $cook.salary;            # OUTPUT: «40000␤» 
 
 my $baker = Baker.new( 
     utensils =&gt; 'self cleaning oven', 
     cookbooks =&gt; &quot;The Baker's Apprentice&quot;, 
     salary =&gt; 50000); 
 
 $baker.cook('brioche');      # OUTPUT: «Baking a tasty brioche␤» 
 say $baker.utensils.perl;    # OUTPUT: «[&quot;self cleaning oven&quot;]␤» 
 say $baker.cookbooks.perl;   # OUTPUT: «[&quot;The Baker's Apprentice&quot;]␤» 
 say $baker.salary;           # OUTPUT: «50000␤» 
</pre>
 <p>Because the dispatcher will see the <span class="code">cook</span> method on <span class="code">Baker</span> before it moves up to the parent class the <span class="code">Baker</span>'s <span class="code">cook</span> method will be called.</p>
 <p>To access methods in the inheritance chain use <a href="#_language_functions.pod6-Re-dispatching">re-dispatch</a> or the <a href="#_type_Metamodel::ClassHOW.pod6-method_can">MOP</a>.</p>
 <a name="t7.7.2"></a><h2 id="_language_classtut.pod6-Multiple_inheritance">7.7.2 Multiple inheritance</h2>
 <p>As mentioned before, a class can inherit from multiple classes. When a class inherits from multiple classes the dispatcher knows to look at both classes when looking up a method to search for. Perl 6 uses the <a href="https://en.wikipedia.org/wiki/C3_linearization">C3 algorithm</a> to linearize multiple inheritance hierarchies, which is better than depth-first search for handling multiple inheritance.</p>
 <pre class="code">class GeekCook is Programmer is Cook { 
     method new( *%params ) { 
         push( %params&lt;cookbooks&gt;, &quot;Cooking for Geeks&quot; ); 
         return self.bless(|%params); 
     } 
 } 
 
 my $geek = GeekCook.new( 
     books           =&gt; 'Learning Perl 6', 
     utensils        =&gt; ('stainless steel pot', 'knife', 'calibrated oven'), 
     favorite_editor =&gt; 'MacVim', 
     known_languages =&gt; &lt;Perl6&gt; 
 ); 
 
 $geek.cook('pizza'); 
 $geek.code_to_solve('P =? NP'); 
</pre>
 <p>Now all the methods made available to the Programmer and the Cook classes are available from the GeekCook class.</p>
 <p>While multiple inheritance is a useful concept to know and occasionally use, it is important to understand that there are more useful OOP concepts. When reaching for multiple inheritance it is good practice to consider whether the design wouldn't be better realized by using roles, which are generally safer because they force the class author to explicitly resolve conflicting method names. For more information on roles see <a href="#_language_objects.pod6-Roles">Roles</a>.</p>
 <a name="t7.7.3"></a><h2 id="_language_classtut.pod6-The_also_declarator">7.7.3 The <a name="46"></a><span class="code">also</span> declarator</h2>
 <p>Classes to be inherited from can be listed in the class declaration body by prefixing the <span class="code">is</span> trait with <span class="code">also</span>. This also works for the role composition trait <span class="code">does</span>.</p>
 <pre class="code">class GeekCook { 
     also is Programmer; 
     also is Cook; 
     # ... 
 } 
 
 role A {}; 
 role B {}; 
 class C { also does A; also does B } 
</pre>
 <a name="t7.8"></a><h1 id="_language_classtut.pod6-Introspection">7.8 Introspection</h1>
 <p>Introspection is the process of gathering information about some objects in your program, not by reading the source code, but by querying the object (or a controlling object) for some properties, such as its type.</p>
 <p>Given an object <span class="code">$o</span> and the class definitions from the previous sections, we can ask it a few questions:</p>
 <pre class="code">if $o ~~ Employee { say &quot;It's an employee&quot; }; 
 if $o ~~ GeekCook { say &quot;It's a geeky cook&quot; }; 
 say $o.WHAT; 
 say $o.perl; 
 say $o.^methods(:local)».name.join(', '); 
 say $o.^name; 
</pre>
 <p>The output can look like this:</p>
 <pre class="code">It's an employee 
 (Programmer) 
 Programmer.new(known_languages =&gt; [&quot;Perl&quot;, &quot;Python&quot;, &quot;Pascal&quot;], 
         favorite_editor =&gt; &quot;gvim&quot;, salary =&gt; &quot;too small&quot;) 
 code_to_solve, known_languages, favorite_editor 
 Programmer 
</pre>
 <p>The first two tests each smart-match against a class name. If the object is of that class, or of an inheriting class, it returns true. So the object in question is of class <span class="code">Employee</span> or one that inherits from it, but not <span class="code">GeekCook</span>.</p>
 <p>The <span class="code">.WHAT</span> method returns the type object associated with the object <span class="code">$o</span>, which tells us the exact type of <span class="code">$o</span>: in this case <span class="code">Programmer</span>.</p>
 <p><span class="code">$o.perl</span> returns a string that can be executed as Perl code, and reproduces the original object <span class="code">$o</span>. While this does not work perfectly in all cases, it is very useful for debugging simple objects. <div class="marginale">For example closures cannot easily be reproduced this way; if you don't know what a closure is don't worry. Also current implementations have problems with dumping cyclic data structures this way, but they are expected to be handled correctly by  <span class="code">.perl</span>  at some point.</div> <span class="indexed"><a id="47" name="^methods"></a></span> <span class="code">$o.^methods(:local)</span> produces a list of <a href="#_type_Method.pod6">Method</a>s that can be called on <span class="code">$o</span>. The <span class="code">:local</span> named argument limits the returned methods to those defined in the <span class="code">Programmer</span> class and excludes the inherited methods.</p>
 <p>The syntax of calling a method with <span class="code">.^</span> instead of a single dot means that it is actually a method call on its <i>meta class</i>, which is a class managing the properties of the <span class="code">Programmer</span> class – or any other class you are interested in. This meta class enables other ways of introspection too:</p>
 <pre class="code">say $o.^attributes.join(', '); 
 say $o.^parents.map({ $_.^name }).join(', '); 
</pre>
 <p>Finally <span class="code">$o.^name</span> calls the <span class="code">name</span> method on the meta object, which unsurprisingly returns the class name.</p>
 <p>Introspection is very useful for debugging and for learning the language and new libraries. When a function or method returns an object you don't know about, finding its type with <span class="code">.WHAT</span>, seeing a construction recipe for it with <span class="code">.perl</span>, and so on, you'll get a good idea of what its return value is. With <span class="code">.^methods</span> you can learn what you can do with the class.</p>
 <p>But there are other applications too: a routine that serializes objects to a bunch of bytes needs to know the attributes of that object, which it can find out via introspection.</p>
</div>
<!-- /language/community.pod6 --><div class="pod-body"><a id="_language_community.pod6"></a><a name="t8"><h1 class="title">8 Community </h1></a> <p class="subtitle">Information about the people working on and using Perl 6</p> <a name="t8.1"></a><h1 id="_language_community.pod6-Overview">8.1 Overview</h1>
 <p>&quot;Perl 5 was my rewrite of Perl. I want Perl 6 to be the community's rewrite of Perl and of the community.&quot; - Larry Wall</p>
 <a name="t8.2"></a><h1 id="_language_community.pod6-The_Perl_6_community">8.2 The Perl 6 community</h1>
 <p>There is a large presence on the <span class="code">#perl6</span> channel on <span class="code">freenode.net</span>, who are happy to provide support and answer questions. More resources can be found in the <a href="https://perl6.org/community/">perl6.org community page</a>.</p>
 <a name="t8.3"></a><h1 id="_language_community.pod6-Perl_6_Weekly">8.3 Perl 6 Weekly</h1>
 <p>Wendy posts in <a href="https://p6weekly.wordpress.com/">her blog &quot;Perl 6 weekly&quot;</a> a summary of Perl 6 posts, tweets, and comments. Best single resource to know what is going on in the Perl community.</p>
</div>
<!-- /language/concurrency.pod6 --><div class="pod-body"><a id="_language_concurrency.pod6"></a><a name="t9"><h1 class="title">9 Concurrency</h1></a> <p class="subtitle">Concurrency and Asynchronous Programming</p> <p>In common with most modern programming languages, Perl 6 is designed to <a href="https://en.wikipedia.org/wiki/Concurrent_computing">support concurrency</a>, which means allowing more than one thing to happen at the same time, and asynchronous programming, which is sometimes called event driven or reactive programming, implying that an event or change in some part of a program may lead to an event or change in some other part of the program asynchronously to the program flow.</p>
 <p>The aim of the Perl concurrency design is to provide a high-level, composable and consistent interface, regardless of how a virtual machine may implement it for a particular operating system, through layers of facilities as described below.</p>
 I'm not quite clear which specific features should be included below

hyper-operators, autothreading junctions?

 <p>Additionally, certain Perl features may implicitly operate in an asynchronous fashion, so in order to ensure predictable interoperation with these features, user code should, where possible, avoid the lower level concurrency APIs (e.g., <a href="#_type_Thread.pod6">Thread</a> and <a href="#_type_Scheduler.pod6">Scheduler</a>) and use the higher-level interfaces.</p>
 <a name="t9.1"></a><h1 id="_language_concurrency.pod6-High-level_APIs">9.1 High-level APIs</h1>
 <a name="t9.1.1"></a><h2 id="_language_concurrency.pod6-Promises">9.1.1 Promises</h2>
 <p>A <a href="#_type_Promise.pod6">Promise</a> (also called <i>future</i> in other programming environments) encapsulates the result of a computation that may not have completed or even started at the time the promise is obtained. A <span class="code">Promise</span> starts from a <span class="code">Planned</span> status and can result in either a <span class="code">Kept</span> status, meaning the promise has been successfully completed, or a <span class="code">Broken</span> status meaning that the promise has failed. Usually this is much of the functionality that user code needs to operate in a concurrent or asynchronous manner.</p>
 <pre class="code">my $p1 = Promise.new; 
 say $p1.status;         # OUTPUT: «Planned␤» 
 $p1.keep('result'); 
 say $p1.status;         # OUTPUT: «Kept␤» 
 say $p1.result;         # OUTPUT: «result␤» 
                         # (since it has been kept, a result is available!) 
 
 my $p2 = Promise.new; 
 $p2.break('oh no'); 
 say $p2.status;         # OUTPUT: «Broken␤» 
 say $p2.result;         # dies, because the promise has been broken 
 CATCH { default { say .^name, ': ', .Str } }; 
 # OUTPUT: «X::AdHoc+{X::Promise::Broken}: oh no␤» 
</pre>
 <p>Promises gain much of their power by being composable, for example by chaining, usually by the <a href="#_type_Promise.pod6-method_then">then</a> method:</p>
 <pre class="code">my $promise1 = Promise.new();
my $promise2 = $promise1.then(
    -&gt; $v { say $v.result; &quot;Second Result&quot; }
);
$promise1.keep(&quot;First Result&quot;);
say $promise2.result;   # OUTPUT: «First Result␤Second Result␤»</pre>
 <p>Here the <a href="#_type_Promise.pod6-method_then">then</a> method schedules code to be executed when the first <a href="#_type_Promise.pod6">Promise</a> is kept or broken, itself returning a new <a href="#_type_Promise.pod6">Promise</a> which will be kept with the result of the code when it is executed (or broken if the code fails). <span class="code">keep</span> changes the status of the promise to <span class="code">Kept</span> setting the result to the positional argument. <span class="code">result</span> blocks the current thread of execution until the promise is kept or broken, if it was kept then it will return the result (that is the value passed to <span class="code">keep</span>), otherwise it will throw an exception based on the value passed to <span class="code">break</span>. The latter behaviour is illustrated with:</p>
 <pre class="code">my $promise1 = Promise.new();
my $promise2 = $promise1.then(-&gt; $v { say &quot;Handled but : &quot;; say $v.result});
$promise1.break(&quot;First Result&quot;);
try $promise2.result;
say $promise2.cause;        # OUTPUT: «Handled but : ␤First Result␤»</pre>
 <p>Here the <span class="code">break</span> will cause the code block of the <span class="code">then</span> to throw an exception when it calls the <span class="code">result</span> method on the original promise that was passed as an argument, which will subsequently cause the second promise to be broken, raising an exception in turn when its result is taken. The actual <a href="#_type_Exception.pod6">Exception</a> object will then be available from <span class="code">cause</span>. If the promise had not been broken <span class="code">cause</span> would raise a <a href="#_type_X::Promise::CauseOnlyValidOnBroken.pod6">X::Promise::CauseOnlyValidOnBroken</a> exception.</p>
 <p>A <a href="#_type_Promise.pod6">Promise</a> can also be scheduled to be automatically kept at a future time:</p>
 <pre class="code">my $promise1 = Promise.in(5);
my $promise2 = $promise1.then(-&gt; $v { say $v.status; 'Second Result' });
say $promise2.result;</pre>
 <p>The <a href="#_type_Promise.pod6-method_in">method in</a> creates a new promise and schedules a new task to call <span class="code">keep</span> on it no earlier than the supplied number of seconds, returning the new <a href="#_type_Promise.pod6">Promise</a> object.</p>
 <p>A very frequent use of promises is to run a piece of code, and keep the promise once it returns successfully, or break it when the code dies. The <a href="#_type_Promise.pod6-method_start">start method</a> provides a shortcut for that:</p>
 <pre class="code">my $promise = Promise.start(
    { my $i = 0; for 1 .. 10 { $i += $_ }; $i}
);
say $promise.result;    # OUTPUT: «55␤»</pre>
 <p>Here the <span class="code">result</span> of the promise returned is the value returned from the code. Similarly if the code fails (and the promise is thus broken), then <span class="code">cause</span> will be the <a href="#_type_Exception.pod6">Exception</a> object that was thrown:</p>
 <pre class="code">my $promise = Promise.start({ die &quot;Broken Promise&quot; });
try $promise.result;
say $promise.cause;</pre>
 <p>This is considered to be such a commonly required pattern that it is also provided as subroutines:</p>
 <pre class="code">my $promise = start {
    my $i = 0;
    for 1 .. 10 {
        $i += $_
    }
    $i
}
my $result = await $promise;
say $result;</pre>
 <p><span class="code">await</span> is almost equivalent to calling <span class="code">result</span> on the promise object returned by <span class="code">start</span> but it will also take a list of promises and return the result of each:</p>
 <pre class="code">my $p1 = start {
    my $i = 0;
    for 1 .. 10 {
        $i += $_
    }
    $i
};
my $p2 = start {
    my $i = 0;
    for 1 .. 10 {
        $i -= $_
    }
    $i
};
my @result = await $p1, $p2;
say @result;            # OUTPUT: «[55 -55]␤»</pre>
 <p>In addition to <span class="code">await</span>, two class methods combine several <a href="#_type_Promise.pod6">Promise</a> objects into a new promise: <span class="code">allof</span> returns a promise that is kept when all the original promises are kept or broken:</p>
 <pre class="code">my $promise = Promise.allof(
    Promise.in(2),
    Promise.in(3)
);

await $promise;
say &quot;All done&quot;; # Should be not much more than three seconds later</pre>
 <p>And <span class="code">anyof</span> returns a new promise that will be kept when any of the original promises is kept or broken:</p>
 <pre class="code">my $promise = Promise.anyof(
    Promise.in(3),
    Promise.in(8600)
);

await $promise;
say &quot;All done&quot;; # Should be about 3 seconds later</pre>
 <p>Unlike <span class="code">await</span> however the results of the original kept promises are not available without referring to the original, so these are more useful when the completion or otherwise of the tasks is more important to the consumer than the actual results, or when the results have been collected by other means. You may, for example, want to create a dependent Promise that will examine each of the original promises:</p>
 <pre class="code">my @promises;
for 1..5 -&gt; $t {
    push @promises, start {
        sleep $t;
        Bool.pick;
    };
}
say await Promise.allof(@promises).then({ so all(@promises&gt;&gt;.result) });</pre>
 <p>Which will give True if all of the promises were kept with True, False otherwise.</p>
 <p>If you are creating a promise that you intend to keep or break yourself then you probably don't want any code that might receive the promise to inadvertently (or otherwise) keep or break the promise before you do. For this purpose there is the <a href="#_type_Promise.pod6-method_vow">method vow</a>, which returns a Vow object which becomes the only mechanism by which the promise can be kept or broken. If an attempt to keep or break the Promise is made directly then the exception <a href="#_type_X::Promise::Vowed.pod6">X::Promise::Vowed</a> will be thrown, as long as the vow object is kept private, the status of the promise is safe:</p>
 <pre class="code">sub get_promise {
    my $promise = Promise.new;
    my $vow = $promise.vow;
    Promise.in(10).then({$vow.keep});
    $promise;
}

my $promise = get_promise();

# Will throw an exception
# &quot;Access denied to keep/break this Promise; already vowed&quot;
$promise.keep;
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::Promise::Vowed: Access denied to keep/break this Promise; already vowed␤»</pre>
 <p>The methods that return a promise that will be kept or broken automatically such as <span class="code">in</span> or <span class="code">start</span> will do this, so it is not necessary to do it for these.</p>
 <a name="t9.1.2"></a><h2 id="_language_concurrency.pod6-Supplies">9.1.2 Supplies</h2>
 <p>A <a href="#_type_Supply.pod6">Supply</a> is an asynchronous data streaming mechanism that can be consumed by one or more consumers simultaneously in a manner similar to &quot;events&quot; in other programming languages and can be seen as enabling &quot;Event Driven&quot; or reactive designs.</p>
 <p>At its simplest, a <a href="#_type_Supply.pod6">Supply</a> is a message stream that can have multiple subscribers created with the method <span class="code">tap</span> on to which data items can be placed with <span class="code">emit</span>.</p>
 <p>The <a href="#_type_Supply.pod6">Supply</a> can either be <span class="code">live</span> or <span class="code">on-demand</span>. A <span class="code">live</span> supply is like a TV broadcast: those who tune in don't get previously emitted values. An <span class="code">on-demand</span> broadcast is like Netflix: everyone who starts streaming a movie (taps a supply), always starts it from the beginning (gets all the values), regardless of how many people are watching it right now. Note that no history is kept for <span class="code">on-demand</span> supplies, instead, the <span class="code">supply</span> block is run for each tap of the supply.</p>
 <p>A <span class="code">live</span> <a href="#_type_Supply.pod6">Supply</a> is created by the <a href="#_type_Supplier.pod6">Supplier</a> factory, each emitted value is passed to all the active tappers as they are added:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply   = $supplier.Supply;

$supply.tap( -&gt; $v { say $v });

for 1 .. 10 {
    $supplier.emit($_);
}</pre>
 <p>Note that the <span class="code">tap</span> is called on a <a href="#_type_Supply.pod6">Supply</a> object created by the <a href="#_type_Supplier.pod6">Supplier</a> and new values are emitted on the <a href="#_type_Supplier.pod6">Supplier</a>.</p>
 <p><span class="indexed"><a id="48" name="supply (on-demand)"></a></span> An <span class="code">on-demand</span> <a href="#_type_Supply.pod6">Supply</a> is created by the <span class="code">supply</span> keyword:</p>
 <pre class="code">my $supply = supply {
    for 1 .. 10 {
        emit($_);
    }
}
$supply.tap( -&gt; $v { say $v });</pre>
 <p>In this case the code in the supply block is executed every time the <a href="#_type_Supply.pod6">Supply</a> returned by <span class="code">supply</span> is tapped, as demonstrated by:</p>
 <pre class="code">my $supply = supply {
    for 1 .. 10 {
        emit($_);
    }
}
$supply.tap( -&gt; $v { say &quot;First : $v&quot; });
$supply.tap( -&gt; $v { say &quot;Second : $v&quot; });</pre>
 <p>The <span class="code">tap</span> method returns a <a href="#_type_Tap.pod6">Tap</a> object which can be used to obtain information about the tap and also to turn it off when we are no longer interested in the events:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply   = $supplier.Supply;

my $tap = $supply.tap( -&gt; $v { say $v });

$supplier.emit(&quot;OK&quot;);
$tap.close;
$supplier.emit(&quot;Won't trigger the tap&quot;);</pre>
 <p>Calling <span class="code">done</span> on the supply object calls the <span class="code">done</span> callback that may be specified for any taps, but does not prevent any further events being emitted to the stream, or taps receiving them.</p>
 <p>The method <span class="code">interval</span> returns a new <span class="code">on-demand</span> supply which periodically emits a new event at the specified interval. The data that is emitted is an integer starting at 0 that is incremented for each event. The following code outputs 0 .. 5 :</p>
 <pre class="code">my $supply = Supply.interval(2);
$supply.tap(-&gt; $v { say $v });
sleep 10;</pre>
 <a name="t9.1.2.1"></a><h3 id="_language_concurrency.pod6-react_and_whenever">9.1.2.1 <a name="49"></a><span class="code">react</span> and <a name="50"></a><span class="code">whenever</span></h3>
 <p>This could also be written using the <span class="code">react</span> keyword:</p>
 <pre class="code">react {
    whenever Supply.interval(2) -&gt; $v {
        say $v;
        done() if $v == 4;
    }
}</pre>
 <p>Here the <span class="code">whenever</span> keyword uses <a href="#_type_Supply.pod6-method_act"><span class="code">.act</span></a> to create a tap on the <a href="#_type_Supply.pod6">Supply</a> from the provided block. The <span class="code">react</span> block is exited when <span class="code">done()</span> is called in one of the taps.</p>
 <p>A second argument can be supplied to <span class="code">interval</span> which specifies a delay in seconds before the first event is fired. Each tap of a supply created by <span class="code">interval</span> has its own sequence starting from 0, as illustrated by the following:</p>
 <pre class="code">my $supply = Supply.interval(2);
$supply.tap(-&gt; $v { say &quot;First $v&quot; });
sleep 6;
$supply.tap(-&gt; $v { say &quot;Second $v&quot;});
sleep 10;</pre>
 <p>An <span class="code">on-demand</span> <a href="#_type_Supply.pod6">Supply</a> can also be created from a list of values that will be emitted in turn, thus the first <span class="code">on-demand</span> example could be written as:</p>
 <pre class="code">react {
    whenever Supply.from-list(1..10) -&gt; $v {
        say $v;
    }
}</pre>
 <p>A live <span class="code">Supply</span> that keeps values until first tapped can be created with <a href="#_type_Supplier::Preserving.pod6">Supplier::Preserving</a>.</p>
 <p>An existing supply object can be filtered or transformed, using the methods <span class="code">grep</span> and <span class="code">map</span> respectively, to create a new supply in a manner like the similarly named list methods: <span class="code">grep</span> returns a supply such that only those events emitted on the source stream for which the <span class="code">grep</span> condition is true is emitted on the second supply:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply = $supplier.Supply;
$supply.tap(-&gt; $v { say &quot;Original : $v&quot; });
my $odd_supply = $supply.grep({ $_ % 2 });
$odd_supply.tap(-&gt; $v { say &quot;Odd : $v&quot; });
my $even_supply = $supply.grep({ not $_ % 2 });
$even_supply.tap(-&gt; $v { say &quot;Even : $v&quot; });
for 0 .. 10 {
    $supplier.emit($_);
}</pre>
 <p><span class="code">map</span> returns a new supply such that for each item emitted to the original supply a new item which is the result of the expression passed to the <span class="code">map</span> is emitted:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply = $supplier.Supply;
$supply.tap(-&gt; $v { say &quot;Original : $v&quot; });
my $half_supply = $supply.map({ $_ / 2 });
$half_supply.tap(-&gt; $v { say &quot;Half : $v&quot; });
for 0 .. 10 {
    $supplier.emit($_);
}</pre>
 <p>If you need to have an action that runs when the supply finishes, you can do so by setting the <span class="code">done</span> and <span class="code">quit</span> options in the call to <span class="code">tap</span>:</p>
 <pre class="code">$supply.tap: { ... }, 
     done =&gt; { say 'Job is done.' }, 
     quit =&gt; { 
         when X::MyApp::Error { say &quot;App Error: &quot;, $_.message } 
     }; 
</pre>
 <p>The <span class="code">quit</span> block works very similar to a <span class="code">CATCH</span>. If the exception is marked as seen by a <span class="code">when</span> or <span class="code">default</span> block, the exception is caught and handled. Otherwise, the exception continues to up the call tree (i.e., the same behavior as when <span class="code">quit</span> is not set).</p>
 <p><span class="indexed"><a id="51" name="whenever"></a></span> If you are using the <span class="code">react</span> or <span class="code">supply</span> block syntax with <span class="code">whenever</span>, you can add phasers within your <span class="code">whenever</span> blocks to handle the <span class="code">done</span> and <span class="code">quit</span> messages from the tapped supply:</p>
 <pre class="code">react { 
     whenever $supply { 
         ...; # your usual supply tap code here 
         LAST { say 'Job is done.' } 
         QUIT { when X::MyApp::Error { say &quot;App Error: &quot;, $_.message } } 
     } 
 } 
</pre>
 <p>The behavior here is the same as setting <span class="code">done</span> and <span class="code">quit</span> on <span class="code">tap</span>.</p>
 <a name="t9.1.3"></a><h2 id="_language_concurrency.pod6-Channels">9.1.3 Channels</h2>
 <p>A <a href="#_type_Channel.pod6">Channel</a> is a thread-safe queue that can have multiple readers and writers that could be considered to be similar in operation to a &quot;fifo&quot; or named pipe except it does not enable inter-process communication. It should be noted that, being a true queue, each value sent to the <a href="#_type_Channel.pod6">Channel</a> will only be available to a single reader on a first read, first served basis: if you want multiple readers to be able to receive every item sent you probably want to consider a <a href="#_type_Supply.pod6">Supply</a>.</p>
 <p>An item is queued onto the <a href="#_type_Channel.pod6">Channel</a> with the <a href="#_type_Channel.pod6-method_send">method send</a>, and the <a href="#_type_Channel.pod6-method_receive">method receive</a> removes an item from the queue and returns it, blocking until a new item is sent if the queue is empty:</p>
 <pre class="code">my $channel = Channel.new;
$channel.send('Channel One');
say $channel.receive;  # OUTPUT: «Channel One␤»</pre>
 <p>If the channel has been closed with the <a href="#_type_Channel.pod6-method_close">method close</a> then any <span class="code">send</span> will cause the exception <a href="#_type_X::Channel::SendOnClosed.pod6">X::Channel::SendOnClosed</a> to be thrown, and a <span class="code">receive</span> will throw a <a href="#_type_X::Channel::ReceiveOnClosed.pod6">X::Channel::ReceiveOnClosed</a> if there are no more items on the queue.</p>
 <p>The <a href="#_type_Channel.pod6-method_list">method list</a> returns all the items on the <a href="#_type_Channel.pod6">Channel</a> and will block until further items are queued unless the channel is closed:</p>
 <pre class="code">my $channel = Channel.new;
await (^10).map: -&gt; $r {
    start {
        sleep $r;
        $channel.send($r);
    }
}
$channel.close;
for $channel.list -&gt; $r {
    say $r;
}</pre>
 <p>There is also the non-blocking <a href="#_type_Channel.pod6-method_poll">method poll</a> that returns an available item from the channel or <a href="#_type_Nil.pod6">Nil</a> if there is no item or the channel is closed, this does of course mean that the channel must be checked to determine whether it is closed:</p>
 <pre class="code">my $c = Channel.new;

# Start three Promises that sleep for 1..3 seconds, and then
# send a value to our Channel
^3 .map: -&gt; $v {
    start {
        sleep 3 - $v;
        $c.send: &quot;$v from thread {$*THREAD.id}&quot;;
    }
}

# Wait 3 seconds before closing the channel
Promise.in(3).then: { $c.close }

# Continuously loop and poll the channel, until it's closed
my $is-closed = $c.closed;
loop {
    if $c.poll -&gt; $item {
        say &quot;$item received after {now - INIT now} seconds&quot;;
    }
    elsif $is-closed {
        last;
    }

    say 'Doing some unrelated things...';
    sleep .6;
}

# Doing some unrelated things...
# Doing some unrelated things...
# 2 from thread 5 received after 1.2063182 seconds
# Doing some unrelated things...
# Doing some unrelated things...
# 1 from thread 4 received after 2.41117376 seconds
# Doing some unrelated things...
# 0 from thread 3 received after 3.01364461 seconds
# Doing some unrelated things...</pre>
 <p>The <a href="#_type_Channel.pod6-method_closed">method closed</a> returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept (and consequently will evaluate to True in a boolean context) when the channel is closed.</p>
 <p>The <span class="code">.poll</span> method can be used in combination with <span class="code">.receive</span> method, as a caching mechanism where lack of value returned by `.poll` is a signal that more values need to be fetched and loaded into the channel:</p>
 <pre class="code">sub get-value { 
     return $c.poll // do { start replenish-cache; $c.receive }; 
 } 
 
 sub replenish-cache { 
     for ^20 { 
         $c.send: $_ for slowly-fetch-a-thing(); 
     } 
 } 
</pre>
 <p>Channels can be used in place of the <a href="#_type_Supply.pod6">Supply</a> in the <span class="code">whenever</span> of a <span class="code">react</span> block described earlier:</p>
 <pre class="code">my $channel = Channel.new; 
 my $p = start { 
     react { 
         whenever $channel { 
             say $_; 
         } 
     } 
 } 
 
 await (^10).map: -&gt; $r { 
     start { 
         sleep $r; 
         $channel.send($r); 
     } 
 } 
 
 $channel.close; 
 await $p; 
</pre>
 <p>It is also possible to obtain a <a href="#_type_Channel.pod6">Channel</a> from a <a href="#_type_Supply.pod6">Supply</a> using the <a href="#_type_Supply.pod6-method_Channel">Channel method</a> which returns a <a href="#_type_Channel.pod6">Channel</a> which is fed by a <span class="code">tap</span> on the <a href="#_type_Supply.pod6">Supply</a>:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply   = $supplier.Supply;
my $channel = $supply.Channel;

my $p = start {
    react  {
        whenever $channel -&gt; $item {
            say &quot;via Channel: $item&quot;;
        }
    }
}

await (^10).map: -&gt; $r {
    start {
        sleep $r;
        $supplier.emit($r);
    }
}

$supplier.done;
await $p;</pre>
 <p><span class="code">Channel</span> will return a different <a href="#_type_Channel.pod6">Channel</a> fed with the same data each time it is called. This could be used, for instance, to fan-out a <a href="#_type_Supply.pod6">Supply</a> to one or more <a href="#_type_Channel.pod6">Channel</a>s to provide for different interfaces in a program.</p>
 <a name="t9.1.4"></a><h2 id="_language_concurrency.pod6-Proc::Async">9.1.4 Proc::Async</h2>
 <p><a href="#_type_Proc::Async.pod6">Proc::Async</a> builds on the facilities described to run and interact with an external program asynchronously:</p>
 <pre class="code">my $proc = Proc::Async.new('echo', 'foo', 'bar');

$proc.stdout.tap(-&gt; $v { print &quot;Output: $v&quot; });
$proc.stderr.tap(-&gt; $v { print &quot;Error:  $v&quot; });

say &quot;Starting...&quot;;
my $promise = $proc.start;

await $promise;
say &quot;Done.&quot;;

# Output:
# Starting...
# Output: foo bar
# Done.</pre>
 <p>The path to the command as well as any arguments to the command are supplied to the constructor. The command will not be executed until <a href="#_type_Proc::Async.pod6-method_start">start</a> is called, which will return a <a href="#_type_Promise.pod6">Promise</a> that will be kept when the program exits. The standard output and standard error of the program are available as <a href="#_type_Supply.pod6">Supply</a> objects from the methods <a href="#_type_Proc::Async.pod6-method_stdout">stdout</a> and <a href="#_type_Proc::Async.pod6-method_stderr">stderr</a> respectively which can be tapped as required.</p>
 <p>If you want to write to the standard input of the program you can supply the <span class="code">:w</span> adverb to the constructor and use the methods <a href="#_type_Proc::Async.pod6-method_write">write</a>, <a href="#_type_Proc::Async.pod6-method_print">print</a> or <a href="#_type_Proc::Async.pod6-method_say">say</a> to write to the opened pipe once the program has been started:</p>
 <pre class="code">my $proc = Proc::Async.new(:w, 'grep', 'foo');

$proc.stdout.tap(-&gt; $v { print &quot;Output: $v&quot; });

say &quot;Starting...&quot;;
my $promise = $proc.start;

$proc.say(&quot;this line has foo&quot;);
$proc.say(&quot;this one doesn't&quot;);

$proc.close-stdin;
await $promise;
say &quot;Done.&quot;;

# Output:
# Starting...
# Output: this line has foo
# Done.</pre>
 <p>Some programs (such as <span class="code">grep</span> without a file argument in this example, ) won't exit until their standard input is closed so <a href="#_type_Proc::Async.pod6-method_close-stdin">close-stdin</a> can be called when you are finished writing to allow the <a href="#_type_Promise.pod6">Promise</a> returned by <span class="code">start</span> to be kept.</p>
 <a name="t9.2"></a><h1 id="_language_concurrency.pod6-Low-level_APIs">9.2 Low-level APIs</h1>
 <a name="t9.2.1"></a><h2 id="_language_concurrency.pod6-Threads">9.2.1 Threads</h2>
 <p>The lowest level interface for concurrency is provided by <a href="#_type_Thread.pod6">Thread</a>. A thread can be thought of as a piece of code that may eventually be run on a processor, the arrangement for which is made almost entirely by the virtual machine and/or operating system. Threads should be considered, for all intents, largely un-managed and their direct use should be avoided in user code.</p>
 <p>A thread can either be created and then actually run later:</p>
 <pre class="code">my $thread = Thread.new(code =&gt; { for  1 .. 10  -&gt; $v { say $v }});
# ...
$thread.run;</pre>
 <p>Or can be created and run at a single invocation:</p>
 <pre class="code">my $thread = Thread.start({ for  1 .. 10  -&gt; $v { say $v }});</pre>
 <p>In both cases the completion of the code encapsulated by the <a href="#_type_Thread.pod6">Thread</a> object can be waited on with the <span class="code">finish</span> method which will block until the thread completes:</p>
 <pre class="code">$thread.finish; 
</pre>
 <p>Beyond that there are no further facilities for synchronization or resource sharing which is largely why it should be emphasized that threads are unlikely to be useful directly in user code.</p>
 <a name="t9.2.2"></a><h2 id="_language_concurrency.pod6-Schedulers">9.2.2 Schedulers</h2>
 <p>The next level of the concurrency API is supplied by classes that implement the interface defined by the role <a href="#_type_Scheduler.pod6">Scheduler</a>. The intent of the scheduler interface is to provide a mechanism to determine which resources to use to run a particular task and when to run it. The majority of the higher level concurrency APIs are built upon a scheduler and it may not be necessary for user code to use them at all, although some methods such as those found in <a href="#_type_Proc::Async.pod6">Proc::Async</a>, <a href="#_type_Promise.pod6">Promise</a> and <a href="#_type_Supply.pod6">Supply</a> allow you to explicitly supply a scheduler.</p>
 <p>The current default global scheduler is available in the variable <span class="code">$*SCHEDULER</span>.</p>
 <p>The primary interface of a scheduler (indeed the only method required by the <a href="#_type_Scheduler.pod6">Scheduler</a> interface) is the <span class="code">cue</span> method:</p>
 <pre class="code">method cue(:&amp;code, Instant :$at, :$in, :$every, :$times = 1; :&amp;catch)</pre>
 <p>This will schedule the <a href="#_type_Callable.pod6">Callable</a> in <span class="code">&amp;code</span> to be executed in the manner determined by the adverbs (as documented in <a href="#_type_Scheduler.pod6">Scheduler</a>) using the execution scheme as implemented by the scheduler. For example:</p>
 <pre class="code">my $i = 0;
my $cancellation = $*SCHEDULER.cue({ say $i++}, every =&gt; 2 );
sleep 20;</pre>
 <p>Assuming that the <span class="code">$*SCHEDULER</span> hasn't been changed from the default, will print the numbers 0 to 10 approximately (i.e with operating system scheduling tolerances) every two seconds. In this case the code will be scheduled to run until the program ends normally, however the method returns a <a href="#_type_Cancellation.pod6">Cancellation</a> object which can be used to cancel the scheduled execution before normal completion:</p>
 <pre class="code">my $i = 0;
my $cancellation = $*SCHEDULER.cue({ say $i++}, every =&gt; 2 );
sleep 10;
$cancellation.cancel;
sleep 10;</pre>
 <p>should only output 0 to 5,</p>
 <p>Despite the apparent advantage the <a href="#_type_Scheduler.pod6">Scheduler</a> interface provides over that of <a href="#_type_Thread.pod6">Thread</a> all of functionality is available through higher level interfaces and it shouldn't be necessary to use a scheduler directly, except perhaps in the cases mentioned above where a scheduler can be supplied explicitly to certain methods.</p>
 <p>A library may wish to provide an alternative scheduler implementation if it has special requirements, for instance a UI library may want all code to be run within a single UI thread, or some custom priority mechanism may be required, however the implementations provided as standard and described below should suffice for most user code.</p>
 <a name="t9.2.2.1"></a><h3 id="_language_concurrency.pod6-ThreadPoolScheduler">9.2.2.1 ThreadPoolScheduler</h3>
 <p>The <a href="#_type_ThreadPoolScheduler.pod6">ThreadPoolScheduler</a> is the default scheduler, it maintains a pool of threads that are allocated on demand, creating new ones as necessary up to maximum number given as a parameter when the scheduler object was created (the default is 16.) If the maximum is exceeded then <span class="code">cue</span> may queue the code until such time as a thread becomes available.</p>
 <p>Rakudo allows the maximum number of threads allowed in the default scheduler to be set by the environment variable <span class="code">RAKUDO_MAX_THREADS</span> at the time the program is started.</p>
 <a name="t9.2.2.2"></a><h3 id="_language_concurrency.pod6-CurrentThreadScheduler">9.2.2.2 CurrentThreadScheduler</h3>
 <p>The <a href="#_type_CurrentThreadScheduler.pod6">CurrentThreadScheduler</a> is a very simple scheduler that will always schedule code to be run straight away on the current thread. The implication is that <span class="code">cue</span> on this scheduler will block until the code finishes execution, limiting its utility to certain special cases such as testing.</p>
 <a name="t9.2.3"></a><h2 id="_language_concurrency.pod6-Locks">9.2.3 Locks</h2>
 <p>The class <a href="#_type_Lock.pod6">Lock</a> provides the low level mechanism that protects shared data in a concurrent environment and is thus key to supporting thread-safety in the high level API, this is sometimes known as a &quot;Mutex&quot; in other programming languages. Because the higher level classes (<a href="#_type_Promise.pod6">Promise</a>, <a href="#_type_Supply.pod6">Supply</a> and <a href="#_type_Channel.pod6">Channel</a>) use a <a href="#_type_Lock.pod6">Lock</a> where required it is unlikely that user code will need to use a <a href="#_type_Lock.pod6">Lock</a> directly.</p>
 <p>The primary interface to <a href="#_type_Lock.pod6">Lock</a> is the method <a href="#_type_Lock.pod6-method_protect">protect</a> which ensures that a block of code (commonly called a &quot;critical section&quot;) is only executed in one thread at a time:</p>
 <pre class="code">my $lock = Lock.new;

my $a = 0;

await (^10).map: {
    start {
        $lock.protect({
            my $r = rand;
            sleep $r;
            $a++;
        });
    }
}

say $a; # OUTPUT: «10␤»</pre>
 <p><span class="code">protect</span> returns whatever the code block returns.</p>
 <p>Because <span class="code">protect</span> will block any threads that are waiting to execute the critical section the code should be as quick as possible.</p>
 <a name="t9.3"></a><h1 id="_language_concurrency.pod6-Safety_Concerns">9.3 Safety Concerns</h1>
 <p>Some shared data concurrency issues are less obvious than others. For a good general write-up on this subject see this <a href="https://6guts.wordpress.com/2014/04/17/racing-to-writeness-to-wrongness-leads/">blog post</a>.</p>
 <p>One particular issue of note is when container autovivification or extension takes place. When an <a href="#_type_Array.pod6">Array</a> or a <a href="#_type_Hash.pod6">Hash</a> entry is initially assigned the underlying structure is altered and that operation is not async safe. For example, in this code:</p>
 <pre class="code">my @array;
my $slot := @array[20];
$slot = 'foo';</pre>
 <p>The third line is the critical section as that is when the array is extended. The simplest fix is to use a <a href="#_type_Lock.pod6">Lock</a> to protect the critical section. A possibly better fix would be to refactor the code so that sharing a container is not necessary.</p>
</div>
<!-- /language/containers.pod6 --><div class="pod-body"><a id="_language_containers.pod6"></a><a name="t10"><h1 class="title">10 Containers</h1></a> <p class="subtitle">A low-level explanation of Perl 6 containers</p> <p>This article started as a conversation on IRC explaining the difference between the <span class="code">Array</span> and the <span class="code">List</span> type in Perl 6. It explains the levels of indirection involved in dealing with variables and container elements.</p>
 <a name="t10.1"></a><h1 id="_language_containers.pod6-What_is_a_variable?">10.1 What is a variable?</h1>
 <p>Some people like to say &quot;everything is an object&quot;, but in fact a variable is not a user-exposed object in Perl 6.</p>
 <p>When the compiler encounters a variable declaration like <span class="code">my $x</span>, it registers it in some internal symbol table. This internal symbol table is used to detect undeclared variables and to tie the code generation for the variable to the correct scope.</p>
 <p>At run time, a variable appears as an entry in a <i>lexical pad</i>, or <i>lexpad</i> for short. This is a per-scope data structure that stores a pointer for each variable.</p>
 <p>In the case of <span class="code">my $x</span>, the lexpad entry for the variable <span class="code">$x</span> is a pointer to an object of type <span class="code">Scalar</span>, usually just called <i>the container</i>.</p>
 <a name="t10.2"></a><h1 id="_language_containers.pod6-Scalar_containers">10.2 Scalar containers</h1>
 <p>Although objects of type <a href="#_type_Scalar.pod6"><span class="code">Scalar</span></a> are everywhere in Perl 6, you rarely see them directly as objects, because most operations <i>decontainerize</i>, which means they act on the <span class="code">Scalar</span> container's contents instead of the container itself.</p>
 <p>In code like</p>
 <pre class="code">my $x = 42;
say $x;</pre>
 <p>the assignment <span class="code">$x = 42</span> stores a pointer to the <span class="code">Int</span> object 42 in the scalar container to which the lexpad entry for <span class="code">$x</span> points.</p>
 <p>The assignment operator asks the container on the left to store the value on its right. What exactly that means is up to the container type. For <span class="code">Scalar</span> it means &quot;replace the previously stored value with the new one&quot;.</p>
 <p>Note that subroutine signatures allow passing around of containers:</p>
 <pre class="code">sub f($a is rw) {
    $a = 23;
}
my $x = 42;
f($x);
say $x;         # OUTPUT: «23␤»</pre>
 <p>Inside the subroutine, the lexpad entry for <span class="code">$a</span> points to the same container that <span class="code">$x</span> points to outside the subroutine. Which is why assignment to <span class="code">$a</span> also modifies the contents of <span class="code">$x</span>.</p>
 <p>Likewise a routine can return a container if it is marked as <span class="code">is rw</span>:</p>
 <pre class="code">my $x = 23;
sub f() is rw { $x };
f() = 42;
say $x;         # OUTPUT: «42␤»</pre>
 <p>For explicit returns, <span class="code">return-rw</span> instead of <span class="code">return</span> must be used.</p>
 <p>Returning a container is how <span class="code">is rw</span> attribute accessors work. So</p>
 <pre class="code">class A {
    has $.attr is rw;
}</pre>
 <p>is equivalent to</p>
 <pre class="code">class A {
    has $!attr;
    method attr() is rw { $!attr }
}</pre>
 <p>Scalar containers are transparent to type checks and most kinds of read-only accesses. A <span class="code">.VAR</span> makes them visible:</p>
 <pre class="code">my $x = 42;
say $x.^name;       # OUTPUT: «Int␤»
say $x.VAR.^name;   # OUTPUT: «Scalar␤»</pre>
 <p>And <span class="code">is rw</span> on a parameter requires the presence of a writable Scalar container:</p>
 <pre class="code">sub f($x is rw) { say $x };
f 42;
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::Parameter::RW: Parameter '$x' expected a writable container, but got Int value␤»</pre>
 <a name="t10.3"></a><h1 id="_language_containers.pod6-Callable_containers">10.3 Callable containers</h1>
 <p>Callable containers provide a bridge between the syntax of a <a href="#_type_Routine.pod6">Routine</a> call and the actual call of the method <a href="#_type_Callable.pod6-method_CALL-ME">CALL-ME</a> of the object that is stored in the container. The sigil <span class="code">&amp;</span> is required when declaring the container and has to be omitted when executing the <span class="code">Callable</span>. The default type constraint is <a href="#_type_Callable.pod6">Callable</a>.</p>
 <pre class="code">my &amp;callable = -&gt; $ν { say &quot;$ν is&quot;, $ν ~~ Int??&quot; whole&quot;!!&quot; not whole&quot; }
callable( ⅓ );
callable( 3 );</pre>
 <p>The sigil has to be provided when referring to the value stored in the container. This in turn allows <span class="code">Routine</span>s to be uses as <a href="#_type_Signature.pod6-Constraining_signatures_of_Callables">arguments</a> to calls.</p>
 <pre class="code">sub f() {}
my &amp;g = sub {}
sub caller(&amp;c1, &amp;c2){ c1, c2 }
caller(&amp;f, &amp;g);</pre>
 <a name="t10.4"></a><h1 id="_language_containers.pod6-Binding">10.4 Binding</h1>
 <p>Next to assignment, Perl 6 also supports <i>binding</i> with the <span class="code">:=</span> operator. When binding a value or a container to a variable, the lexpad entry of the variable is modified (and not just the container it points to). If you write</p>
 <pre class="code">my $x := 42;</pre>
 <p>then the lexpad entry for <span class="code">$x</span> directly points to the <span class="code">Int</span> 42. Which means that you cannot assign to it anymore:</p>
 <pre class="code">my $x := 42;
$x = 23;
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::AdHoc: Cannot assign to an immutable value␤»</pre>
 <p>You can also bind variables to other variables:</p>
 <pre class="code">my $a = 0;
my $b = 0;
$a := $b;
$b = 42;
say $a;         # OUTPUT: «42␤»</pre>
 <p>Here, after the initial binding, the lexpad entries for <span class="code">$a</span> and <span class="code">$b</span> both point to the same scalar container, so assigning to one variable also changes the contents of the other.</p>
 <p>You've seen this situation before: it is exactly what happened with the signature parameter marked as <span class="code">is rw</span>.</p>
 <p><span class="indexed"><a id="52" name="\ (container binding)"></a></span> Sigilless variables and parameters with the trait <span class="code">is raw</span> always bind (whether <span class="code">=</span> or <span class="code">:=</span> is used):</p>
 <pre class="code">my $a = 42;
my \b = $a;
b++;
say $a;         # OUTPUT: «43␤»

sub f($c is raw) { $c++ }
f($a);
say $a;         # OUTPUT: «44␤»</pre>
 <a name="t10.5"></a><h1 id="_language_containers.pod6-Scalar_containers_and_listy_things">10.5 Scalar containers and listy things</h1>
 <p>There are a number of positional container types with slightly different semantics in Perl 6. The most basic one is <a href="#_type_List.pod6">List</a>; it is created by the comma operator.</p>
 <pre class="code">say (1, 2, 3).^name;    # OUTPUT: «List␤»</pre>
 <p>A list is immutable, which means you cannot change the number of elements in a list. But if one of the elements happens to be a scalar container, you can still assign to it:</p>
 <pre class="code">my $x = 42;
($x, 1, 2)[0] = 23;
say $x;                 # OUTPUT: «23␤»
($x, 1, 2)[1] = 23;     # Cannot modify an immutable value
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Int␤»</pre>
 <p>So the list doesn't care about whether its elements are values or containers, they just store and retrieve whatever was given to them.</p>
 <p>Lists can also be lazy; in that case, elements at the end are generated on demand from an iterator.</p>
 <p>An <span class="code">Array</span> is just like a list, except that it forces all its elements to be containers, which means that you can always assign to elements:</p>
 <pre class="code">my @a = 1, 2, 3;
@a[0] = 42;
say @a;         # OUTPUT: «[42 2 3]␤»</pre>
 <p><span class="code">@a</span> actually stores three scalar containers. <span class="code">@a[0]</span> returns one of them, and the assignment operator replaces the integer value stored in that container with the new one, <span class="code">42</span>.</p>
 <a name="t10.6"></a><h1 id="_language_containers.pod6-Assigning_and_binding_to_array_variables">10.6 Assigning and binding to array variables</h1>
 <p>Assignment to a scalar variable and to an array variable both do the same thing: discard the old value(s), and enter some new value(s).</p>
 <p>Nevertheless, it's easy to observe how different they are:</p>
 <pre class="code">my $x = 42; say $x.^name;   # OUTPUT: «Int␤»
my @a = 42; say @a.^name;   # OUTPUT: «Array␤»</pre>
 <p>This is because the <span class="code">Scalar</span> container type hides itself well, but <span class="code">Array</span> makes no such effort. Also assignment to an array variable is coercive, so you can assign a non-array value to an array variable.</p>
 <p>To place a non-<span class="code">Array</span> into an array variable, binding works:</p>
 <pre class="code">my @a := (1, 2, 3);
say @a.^name;               # OUTPUT: «List␤»</pre>
 <a name="t10.7"></a><h1 id="_language_containers.pod6-Binding_to_array_elements">10.7 Binding to array elements</h1>
 <p>As a curious side note, Perl 6 supports binding to array elements:</p>
 <pre class="code">my @a = (1, 2, 3);
@a[0] := my $x;
$x = 42;
say @a;                     # OUTPUT: «[42 2 3]␤»</pre>
 <p>If you've read and understood the previous explanations, it is now time to wonder how this can possibly work. After all, binding to a variable requires a lexpad entry for that variable, and while there is one for an array, there aren't lexpad entries for each array element, because you cannot expand the lexpad at run time.</p>
 <p>The answer is that binding to array elements is recognized at the syntax level and instead of emitting code for a normal binding operation, a special method (called <span class="code">BIND-KEY</span>) is called on the array. This method handles binding to array elements.</p>
 <p>Note that, while supported, one should generally avoid directly binding uncontainerized things into array elements. Doing so may produce counter-intuitive results when the array is used later.</p>
 <pre class="code">my @a = (1, 2, 3);
@a[0] := 42;         # This is not recommended, use assignment instead.
my $b := 42;
@a[1] := $b;         # Nor is this.
@a[2] = $b;          # ...but this is fine.
@a[1, 2] := 1, 2;    # runtime error: X::Bind::Slice
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::Bind::Slice: Cannot bind to Array slice␤»</pre>
 <p>Operations that mix Lists and Arrays generally protect against such a thing happening accidentally.</p>
 <a name="t10.8"></a><h1 id="_language_containers.pod6-Flattening,_items_and_containers">10.8 Flattening, items and containers</h1>
 <p>The <span class="code">%</span> and <span class="code">@</span> sigils in Perl 6 generally indicate multiple values to an iteration construct, whereas the <span class="code">$</span> sigil indicates only one value.</p>
 <pre class="code">my @a = 1, 2, 3;
for @a { };         # 3 iterations
my $a = (1, 2, 3);
for $a { };         # 1 iteration</pre>
 <p><span class="code">@</span>-sigiled variables do not flatten in list context:</p>
 <pre class="code">my @a = 1, 2, 3;
my @b = @a, 4, 5;
say @b.elems;               # OUTPUT: «3␤»</pre>
 <p>There are operations that flatten out sublists that are not inside a scalar container: slurpy parameters (<span class="code">*@a</span>) and explicit calls to <span class="code">flat</span>:</p>
 <pre class="code">my @a = 1, 2, 3;
say (flat @a, 4, 5).elems;  # OUTPUT: «5␤»

sub f(*@x) { @x.elems };
say f @a, 4, 5;             # OUTPUT: «5␤»</pre>
 <p>As hinted above, scalar containers prevent that flattening:</p>
 <pre class="code">sub f(*@x) { @x.elems };
my @a = 1, 2, 3;
say f $@a, 4, 5;            # OUTPUT: «3␤»</pre>
 <p>The <span class="code">@</span> character can also be used as a prefix to coerce the argument to a list, thus removing a scalar container:</p>
 <pre class="code">my $x = (1, 2, 3);
.say for @$x;               # 3 iterations</pre>
 <p>However, the <span class="code">&lt;&gt;</span> is more appropriate to decontainerize items that aren't lists:</p>
 <pre class="code">my $x = ^Inf .grep: *.is-prime;
say &quot;$_ is prime&quot; for @$x;  # WRONG! List keeps values, thus leaking memory
say &quot;$_ is prime&quot; for $x&lt;&gt;; # RIGHT. Simply decontainerize the Seq

my $y := ^Inf .grep: *.is-prime; # Even better; no Scalars involved at all</pre>
 <p>Methods generally don't care whether their invocant is in a scalar, so</p>
 <pre class="code">my $x = (1, 2, 3);
$x.map(*.say);              # 3 iterations</pre>
 <p>maps over a list of three elements, not of one.</p>
 <a name="t10.9"></a><h1 id="_language_containers.pod6-Self-Referential_Data">10.9 Self-Referential Data</h1>
 <p>Containers types, including <span class="code">Array</span> and <span class="code">Hash</span>, allow you to create self-referential structures.</p>
 <pre class="code">my @a;
@a[0] = @a;
put @a.perl;
# OUTPUT: «((my @Array_75093712) = [@Array_75093712,])␤»</pre>
 <p>Perl 6 does not prevent you from creating and using self-referential data; You may end up in a loop trying to dump the data; as a last resort, you can use Promises to <a href="#_type_Promise.pod6-method_in">handle</a> timeouts.</p>
 <a name="t10.10"></a><h1 id="_language_containers.pod6-Type_Constraints">10.10 Type Constraints</h1>
 <p>Any container can have a type constraint in the form of a <a href="#_language_typesystem.pod6-Type_objects">type object</a> or a <a href="#_language_typesystem.pod6-subset">subset</a>. Both can be placed between a declarator and the variable name or after the trait <a href="#_type_Variable.pod6-trait_is_dynamic">of</a>. The constraint is a property of the variable, not the container.</p>
 <p>Variables may have no container in them, yet still offer the ability to re-bind and typecheck that rebind. The reason for that is in such cases the binding operator <a href="#_operators.pod6-infix_:=">:=</a> performs the typecheck:</p>
 <pre class="code">my Int \z = 42;
z := 100; # OK
z := &quot;x&quot;; # Typecheck failure</pre>
 <p>The same isn't the case when, say, binding to a <a href="#_type_Hash.pod6">Hash</a> key, as there the binding is handled by a method call (even though the syntax remains the same, using <span class="code">:=</span> operator).</p>
 <p>The default type constraint of a <span class="code">Scalar</span> container is <a href="#_type_Mu.pod6">Mu</a>. Introspection of type constraints on containers is provided by <span class="code">.VAR.of</span> method, which for <span class="code">@</span> and <span class="code">%</span> sigiled variables gives the constraint for values:</p>
 <pre class="code">my Str $x;
say $x.VAR.of;  # OUTPUT: «(Str)␤»
my Num @a;
say @a.VAR.of;  # OUTPUT: «(Num)␤»
my Int %h;
say %h.VAR.of;  # OUTPUT: «(Int)␤»</pre>
 <a name="t10.11"></a><h1 id="_language_containers.pod6-Custom_containers">10.11 Custom containers</h1>
 <p>To provide custom containers Perl 6 provides the class <span class="code">Proxy</span>. It takes two methods that are called when values are stored or fetched from the container. Type checks are not done by the container itself and other restrictions like readonlyness can be broken. The returned value must therefore be of the same type as the type of the variable it is bound to. We can use type captures to work with types in Perl 6.</p>
 <pre class="code">sub lucky(::T $type) {
    my T $c-value; # closure variable
    return Proxy.new(
        FETCH =&gt; method () { $c-value },
        STORE =&gt; method (T $new-value) {
            X::OutOfRange.new(what =&gt; 'number', got =&gt; '13', range =&gt; '-∞..12, 14..∞').throw
                if $new-value == 13;
            $c-value = $new-value;
        }
    );
}

my Int $a := lucky(Int);
say $a = 12;    # OUTPUT: «12␤»
say $a = 'FOO'; # X::TypeCheck::Binding
say $a = 13;    # X::OutOfRange
CATCH { default { say .^name, ': ', .Str } };</pre>
</div>
<!-- /language/contributors.pod6 --><div class="pod-body"><a id="_language_contributors.pod6"></a><a name="t11"><h1 class="title">11 Contributors</h1></a> <p class="subtitle">List of contributors to Perl 6 over the years</p> <p>The following people contributed to the development of Perl 6, as could be determined from the logs of all the various projects that make up Perl 6. If you think you are missing from this list, or for any reason would not like to appear on this list, or need a correction, please submit a <a href="#_language_glossary.pod6-Pull_Request">Pull Request</a> with the required change(s).</p>
 <a name="t11.1"></a><h1 id="_language_contributors.pod6-A">11.1 A</h1>
 <pre class="code">  Gisle Aas 
   abcxyzp 
   Chuck Adams 
   Colin Paul Adams 
   Rod Adams 
   C.J. Adams-Collier 
   David H. Adler 
   Chirag Agrawal 
   Amir E. Aharoni 
   Bilal Akhtar 
   Julian Albo 
   Alekssasho 
   alexghacker 
   Paco Alguacil 
   Brandon S Allbery 
   Geir Amdal 
   Markus Amsler 
   Paul C. Anagnostopoulos 
   Nikolay Ananiev 
   anatolyv 
   andras 
   Saleem Ansari 
   Joji Antony 
   Tomoki Aonuma 
   Syed Uzair Aqeel 
   arathorn 
   Arcterus 
   Kodi Arfer 
   Daniel Arbelo Arrocha 
   ash 
   Ted Ashton 
   Arnaud Assad 
   atroxaper 
   Ori Avtalion אורי אבטליון 
   Auzon 
   Alex Chen 陈梓立 
</pre>
 <a name="t11.2"></a><h1 id="_language_contributors.pod6-B">11.2 B</h1>
 <pre class="code">  Greg Bacon 
   Ivan Baidakou 
   Alex Balhatchet 
   Szabó 
   Balázs 
   Amir Livine Bar-On עמיר ליבנה בר-און 
   Luca Barbato 
   Mattia Barbon 
   Ann Barcomb 
   Christian Bartolomäus 
   Alex &quot;Skud&quot; Bayley 
   bcmb 
   Jody Belka 
   Shachaf Ben-Kiki 
   Andrei Benea 
   benedikth 
   Zev Benjamin 
   benmorrow 
   Kevan Benson 
   Martin Berends 
   Anton Berezin 
   Arthur Bergman 
   Anders Nor Berle 
   bestian 
   Peter Bevan 
   Mark Biggar 
   Carlin Bingham 
   Ævar Arnfjörð Bjarmason 
   J. David Blackstone 
   Ronald Blaschke 
   Ingo Blechschmidt 
   bloonix 
   blwood 
   Kristof Bogaerts 
   Dan Bolser 
   Конрад Боровски 
   Christopher Bottoms 
   Gonéri Le Bouder 
   Jos Boumans 
   Brad Bowman 
   Matt Boyle 
   bpetering 
   H.Merijn Brand 
   Terrence Brannon 
   Gwern Branwen 
   Stig Brautaset 
   Herbert &quot;lichtkind&quot; Breunung 
   bri 
   brian_d_foy 
   Fernando Brito 
   Geoffrey Broadwell 
   Leon Brocard 
   Benjamin Brodfuehrer 
   Samuel Bronson 
   Dan Brook 
   Nathan C. Brown 
   Roger Browne 
   Philippe Bruhat (BooK) 
   David Brunton 
   Corwin Brust 
   Klaus Brüssel 
   Lucas Buchala 
   buchetc 
   Christoph Buchetmann 
   Norbert Buchmuller 
   Buddha Buck 
   Alexandre Buisse 
   Tim Bunce 
   Bryan Burgers 
   Sean M. Burke 
   Matthew Byng-Maddick 
   András Bártházi 
   Jürgen Bömmels 
</pre>
 <a name="t11.3"></a><h1 id="_language_contributors.pod6-C">11.3 C</h1>
 <pre class="code">  Caelum 
   Aldo Calpini 
   Edward Cant 
   David Cantrell 
   Carlin 
   Michael Cartmell 
   Hezekiah Carty 
   Nuno 'smash' Carvalho 
   Marcelo Serra Castilhos 
   Piers Cawley 
   cdavaz 
   cdpruden 
   Gianni Ceccarelli 
   cfourier 
   Marc Chantreux 
   Mitchell N Charity 
   Oliver Charles 
   Vasily Chekalkin 
   Yuan-Chen Cheng 鄭原真 
   Daniel Chetlin 
   Hsin-Chan Chien 簡信昌 
   N. Hao Ching 
   Joshua Choi 
   Elizabeth Cholet 
   David Christensen 
   chuck 
   cjeris 
   Nicholas Clark 
   Steve Clark 
   Jeff Clites 
   cmarcelo 
   cmeyer 
   Paul Cochrane 
   Daniel Colascione 
   Jason Cole 
   Will &quot;Coke&quot; Coleda 
   Sylvain Colinet 
   cono 
   Tim Conrow 
   Géraud Continsouzas 
   Damian Conway 
   Neil Conway 
   Stuart Cook 
   David Corbin 
   Deven T. Corzine 
   cosmicnet 
   Timothy Covell 
   Beau E. Cox 
   Simon Cozens 
   Philip Crow 
   cspenser 
   Franck Cuny 
   Tyler Curtis 
   David Czech 
</pre>
 <a name="t11.4"></a><h1 id="_language_contributors.pod6-D">11.4 D</h1>
 <pre class="code">  Daenyth 
   Dagur 
   Ritz Daniel 
   darkwolf 
   Chris Davaz 
   David Warring 
   Justin DeVuyst 
   Daniel Dehennin 
   Akim Demaille 
   Detonite 
   Lars &quot;daxim&quot; Dieckow 迪拉斯 
   Matt Diephouse 
   Bob Diertens 
   Wendy &quot;woolfy&quot; van Dijk 
   Jeffrey Dik 
   John M. Dlugosz 
   dimid 
   diotalevi 
   Hans van Dok 
   Chris Dolan 
   Mark Dominus 
   Bryan Donlan 
   Andy Dougherty 
   Dave Doyle 
   drKreso 
   dr_df0 
   dudley 
   Jonathan Scott Duff 
   dug 
   Lee Duhem 
   Darren Duncan 
</pre>
 <a name="t11.5"></a><h1 id="_language_contributors.pod6-E">11.5 E</h1>
 <pre class="code">  Andrew Egeler 
   Havard Eidnes 
   Nelson Elhage 
   Ran Eliam 
   Fitz Elliott 
   Alex Elsayed 
   Jay Emerson 
   Aankhola Encorporated 
   ennio 
   Enveigler 
   Jon Ericson 
   Shae Matijs Erisson 
   Eryq 
   Mike Eve 
   Pat Eyler 
</pre>
 <a name="t11.6"></a><h1 id="_language_contributors.pod6-F">11.6 F</h1>
 <pre class="code">  Aaron Faanes 
   Kevin Falcone 
   David Farrell 
   Angel Faus 
   Jason Felds 
   Paul Fenwick 
   Jose Rodrigo Fernandez 
   Nelson Ferraz 
   Adriano Ferreira 
   João Fernando Ferreira 
   Chris Fields 
   Caio Marcelo de Oliveira Filho 
   Steve Fink 
   Shlomi &quot;rindolf&quot; Fish שלומי פיש 
   Mark Leighton Fisher 
   Scott Fitzenrider 
   Dudley Flanders 
   Richard Foley 
   Vincent Foley 
   Julian Fondren 
   Ruben Fonseca 
   David Formosa 
   Karl Forner 
   Solomon Foster 
   Chaddaï Fouché 
   Lloyd Fournier 
   Michael Fowler 
   Matt Fowles 
   franck 
   Austin Frank 
   Carl Franks 
   Kent Fredric 
   Chaim Frenkel 
   Piotr Fusik 
</pre>
 <a name="t11.7"></a><h1 id="_language_contributors.pod6-G">11.7 G</h1>
 <pre class="code">  gabriele 
   John Gabriele 
   Christoph Gärtner 
   Martin von Gagern 
   Felix Gallo 
   Salvador Ortiz Garcia 
   Rafaël Garcia-Suarez 
   Joshua Gatcomb 
   Jerry Gay 
   gcomnz 
   Jonathan Gentle 
   iVAN Georgiev 
   Brian Gernhardt 
   Bram Geron 
   Alessandro Ghedini 
   Imran Ghory 
   Peter Gibbs 
   Tanton Gibbs 
   Brad Gilbert (b2gills) 
   Karl Glazebrook 
   Nick Glencross 
   Mark Glines 
   Flávio S. Glock 
   Jason Gloudon 
   Simon Glover 
   gnuvince 
   Garrett Goebel 
   Jeffrey Goff 
   Mikhael Goikhman 
   Benjamin Goldberg 
   Arcady Goldmints-Orlov 
   Dimitry Golubovsky 
   Gerard Goossen 
   Goplat 
   Alex Gough 
   Léo Grange 
   Chad &quot;Exodist&quot; Granum 
   Kenneth A Graves 
   Bruce Gray 
   Nathan Gray 
   Mark Grimes 
   Lucien Grondin 
   Rolf Grossmann 
   David Grove 
   Marcel Grünauer 
   Daniel Grunblatt 
   Uri Guttman 
   gwern 
</pre>
 <a name="t11.8"></a><h1 id="_language_contributors.pod6-H">11.8 H</h1>
 <pre class="code">  Swaroop C H 
   Richard Hainsworth 
   Roger Hale 
   John &quot;ab5tract&quot; Haltiwanger 
   Nigel Hamilton 
   Eric Hanchrow 
   Sterling Hanenkamp 
   Ask Bjørn Hansen 
   Christian &quot;chansen&quot; Hansen 
   Eirik Berg Hanssen 
   Samuel Harrington 
   Trey Harris 
   John Harrison 
   Carsten Hartenfels 
   Richard Hartmann 
   Kyle Hasselbacher 
   Austin Hastings 
   Carl Hayter 
   Florian Helmberger 
   Gordon Henriksen 
   Felix Herrmann 
   Peter Heslin 
   Fred Heutte 
   Jarkko Hietaniemi 
   Michael H. Hind 
   Joshua Hoblitt 
   Zack Hobson 
   Eric Hodges 
   Rob Hoelz 
   Masahiro Honma 
   Lyle Hopkins 
   JD Horelick 
   Jeff Horwitz 
   Chris Hostetter 
   Laurens Van Houtven 
   Jeremy Howard 
   Yiyi Hu 鹄驿懿 
   Benedikt Huber 
   Brad Hughes 
   Sterling Hughes 
   Tom Hughes 
   Tristan Hume 
   Donald Hunter 
   Douglas Hunter 
   Juan Francisco Cantero Hurtado 
   Kay-Uwe 'kiwi' Hüll 
</pre>
 <a name="t11.9"></a><h1 id="_language_contributors.pod6-I">11.9 I</h1>
 <pre class="code">  Alin Iacob 
   Ibotty 
   ibrown 
   ihrd 
   Roland Illing 
   Jan Ingvoldstad 
   Joshua Isom 
   isop 
   Ivan_A_Frey 
   ivanoff 
</pre>
 <a name="t11.10"></a><h1 id="_language_contributors.pod6-J">11.10 J</h1>
 <pre class="code">  Akash Manohar J 
   jafelds 
   Robert G. Jakabosky 
   jamesrom 
   S. A. Janet 
   jani 
   Heiko Jansen 
   Stuart Jansen 
   Jarrod 
   Jedai 
   Chris Jepeway 
   Chris Jeris 
   Dagur Valberg Johannsson 
   Erik Johansen 
   Paul Johnson 
   johnspurr 
   Isaac Jones 
   Norman Nunley Jr 
   Yoshikuni Jujo 
   Brian S. Julin 
   Josh Juran 
   Michal Jurosz 
</pre>
 <a name="t11.11"></a><h1 id="_language_contributors.pod6-K">11.11 K</h1>
 <pre class="code">  David Koenig 
   Prakash Kailasa 
   Shoichi Kaji 
   Daniel Kang 
   Isis Kang 
   Chia-Liang Kao 高嘉良 
   Dmitry Karasik 
   Luben Karavelov 
   Amir Karger 
   Offer Kaye 
   Bruce Keeler 
   James E Keenan 
   Cole Keirsey 
   Adam Kennedy 
   Matt Kennedy 
   Shane Kerr 
   khairul 
   Mikhail Khorkov 
   Krzysztof Kielak 
   Andres Kievsky 
   Daehyub Kim 
   Rob Kinyon 
   Oleg Kiselyov 
   Oolley kj 
   Martin Kjeldsen 
   Thomas &quot;domm&quot; Klausner 
   Zohar &quot;lumi&quot; Kelrich זהר קלריך/卡卓哈 
   Damian Miles Knopp 
   Dan Kogai 小飼弾 
   Yuval &quot;nothingmuch&quot; Kogman יובל קוג'מן 
   Tomasz Konojacki 
   Vadim Konovalov 
   Nick Kostirya 
   Matt Kraai 
   Thomas Kratz 
   Adrian Kreher 
   John van Krieken 
   Matthias Krull 
   Bradley M. Kuhn 
   Bob Kuo 
   Colin Kuskie 
   Kamil Kułaga 
</pre>
 <a name="t11.12"></a><h1 id="_language_contributors.pod6-L">11.12 L</h1>
 <pre class="code">  Sage LaTorra 
   Brent Laabs 
   laben 
   Johannes Laire 
   Markus Laire 
   Fayland Lam 林道 
   Mike Lambert 
   lanny 
   Leo Lapworth 
   last.of.the.careless.men 
   Bart Lateur 
   Jia-Hong Lee 
   Lola Lee 
   Jonathan Leffler 
   Tobias Leich 
   lembark 
   Mark Lentczner 
   Moritz A Lenz 
   Jean-Louis Leroy 
   Andy Lester 
   Jonathan &quot;Duke&quot; Leto 
   Vladimir Lettiev 
   Mike Li 李曉光 
   Stefan Lidman 
   Yung-Chung Lin 林永忠 
   Glenn Linderman 
   Vladimir Lipsky 
   Zach Lipton 
   Stevan Little 
   Kang-Min Liu 劉康民 
   Skip Livingston 
   David M. Lloyd 
   Daniel Lo 
   Peter Lobsinger 
   Andres Löh 
   Nick Logan 
   Eric Lubow 
   Nolan Lum 
   Peter Lunicks 
   LylePerl 
   Ian Lynagh 
   lysdexsik 
</pre>
 <a name="t11.13"></a><h1 id="_language_contributors.pod6-M">11.13 M</h1>
 <pre class="code">  Kiran Kumar M. 
   Jerry MacClure 
   Noel Maddy 
   Christopher J. Madsen 
   Abhijit A. Mahabal 
   Max Maischein 
   Peter Makholm 
   Ujwal Reddy Malipeddi 
   malon 
   Christopher Malon 
   Dagfinn Ilmari Mannsåker 
   Michael Maraist 
   Roie Marianer רועי מריאנר 
   markmont 
   Simon Marlow 
   martin 
   Paolo Martini 
   Ilya Martynov 
   Jaume Martí 
   James Mastros 
   Michael J. Mathews 
   Vyacheslav Matjukhin 
   Tokuhiro Matsuno 
   mattc 
   Mike Mattie 
   Elizabeth &quot;lizmat&quot; Mattijsen 
   Вячеслав Матюхин 
   Markus Mayr 
   Josh McAdams 
   Martin McCarthy 
   Mark McConnell 
   Steven McDougall 
   John McNamara 
   Scott McWhirter 
   mdinger 
   Olivier &quot;dolmen&quot; Mengué 
   Kevin Metcalf 
   Patrick R. Michaud 
   mimir 
   mjreed 
   Tom Moertel 
   Michael Mol 
   Paolo Molaro 
   Shawn M Moore 
   Brandon Michael Moore 
   Alexander Moquin 
   Ion Alexandru Morega 
   Dino Morelli 
   Kolia Morev 
   Zach Morgan 
   mr_ank 
   Alex Munroe 
   muraiki 
   Paweł Murias 
   mvuets 
   Steve Mynott 
   mzedeler 
   Carl Mäsak 
</pre>
 <a name="t11.14"></a><h1 id="_language_contributors.pod6-N">11.14 N</h1>
 <pre class="code">  naesten 
   Tim Nelson 
   Ailin Nemui 
   Ingy döt Net 應吉大聶 
   David Nicol 
   Faye Niemeyer 
   Nigelsandever 
   Karl Rune Nilsen 
   Salve J. Nilsen 
   Per Christian Nodtvedt 
   Ben Noordhuis 
   Paweł Nowak 
   Norman Nunley 
</pre>
 <a name="t11.15"></a><h1 id="_language_contributors.pod6-O">11.15 O</h1>
 <pre class="code">  Tony O'Dell 
   יהושע &quot;שי&quot; אוחיון 
   Clayton O'Neill 
   Stefan O'Rear 
   Sean O'Rourke 
   Matt Oates 
   Tony Olekshy 
   Martin Olsen 
   Dmitriy Olshevskiy 
   Dave Olszewski 
   Nelo Onyiah 
   William Orr 
   Jon Orwant 
   Andrei Osipov 
   Christoph Otto 
</pre>
 <a name="t11.16"></a><h1 id="_language_contributors.pod6-P">11.16 P</h1>
 <pre class="code">  Pawel Pabian 
   Walter Pallestrong 
   Luke Palmer 
   Bartłomiej Palmowski 
   Pancake 
   Paolo 
   Marton Papp 
   Andrew Parker 
   Roman M. Parparov 
   Anthony Parsons 
   Mike Pastore 
   Nova Patch 
   Timo Paulssen 
   Tony Payne 
   Stéphane &quot;cognominal&quot; Payrard 
   Slava Pechenin 
   Gael Pegliasco 
   Stéphane Peiry 
   Felipe Pena 
   Nayden Pendov 
   Wenzel P. P. Peppmeyer 
   François Perrad 
   Markus Peter 
   Ben Petering 
   Steve Peters 
   Tim Peterson 
   Ronny Pfannschmidt 
   Clinton A. Pierce 
   Jerrad Pierce 
   Thilo Planz 
   plunix 
   pmakholm 
   Curtis 'Ovid' Poe 
   Gerd Pokorra 
   Peter Polacik 
   Flavio Poletti 
   Kevin Polulak 
   John Porter 
   Ryan W. Porter 
   Stephen P. Potter 
   Philip Potter 
   Adam Preble 
   premshree 
   Klāvs Priedītis 
   Adam Prime 
   Richard Proctor 
   Christopher Pruden 
   Kevin Puetz 
   Gregor N. Purdy 
   purl 
</pre>
 <a name="t11.17"></a><h1 id="_language_contributors.pod6-Q">11.17 Q</h1>
 <pre class="code">  Hongwen Qiu 
   Jerome Quelin 
   quester 
</pre>
 <a name="t11.18"></a><h1 id="_language_contributors.pod6-R">11.18 R</h1>
 <pre class="code">  Gerhard R. 
   Peter Rabbitson 
   Florian Ragwitz 
   raiph 
   Matt Rajca 
   Marcus Ramberg 
   Claudio Ramirez 
   Prog Rammer 
   Allison Randal 
   David Ranvig 
   Lars Balker Rasmussen 
   Curtis Rawls 
   raydiak 
   Robin Redeker 
   Ted Reed 
   Jens Rehsack 
   Charles Reiss 
   Gabriele Renzi 
   Kenneth C. Rich 
   Jason Richmond 
   Ryan Richter 
   Sebastian Riedel 
   Dennis Rieks 
   Jens Rieks 
   Lanny Ripple 
   John Rizzo 
   rkhill 
   Andrew Robbins 
   Amos Robinson 
   Jonathan Rockway 
   Stefano Rodighiero 
   Andrew Rodland 
   Lindolfo Rodrigues 
   Bob Rogers 
   Dave Rolsky 
   David Romano 
   ron 
   Eric J. Roode 
   Garret Rooney 
   Garrett Rooney 
   David Ross 
   Andreas Rottmann 
   Brent Royal-Gordon 
   Shmarya Rubenstein 
   Sam Ruby 
   Simon Ruderich 
   Daniel Ruoso 
   Jake Russo 
   ruz 
   Joseph Ryan 
   Gilbert Röhrbein 
</pre>
 <a name="t11.19"></a><h1 id="_language_contributors.pod6-S">11.19 S</h1>
 <pre class="code">  Sam S 
   s1n 
   sahadev 
   Patrick Abi Salloum 
   salty_horse 
   Chip Salzenberg 
   Shrivatsan Sampathkumar 
   Igor Rafael Sanchez-Puls 
   Hugo van der Sanden 
   Thomas Sandlaß 
   Yun SangHo 
   sanug 
   Siddhant Saraf 
   Sasho 
   Andrew Savige 
   John Saylor 
   Matt Schallert 
   Bernhard Schmalhofer 
   Arthur Axel Schmidt 
   Ronald Schmidt 
   Michael Schroeder 
   Steven Schubiger 
   Steve &quot;thundergnat&quot; Schulze 
   Andreas Schwab 
   Randal L. Schwartz 
   Pepe Schwarz 
   Frederik Schwarzer 
   Calvin Schwenzfeier 
   Michael G. Schwern 
   Steffen Schwigon 
   Tom Scola 
   Ariel Scolnicov 
   Michael Scott 
   Peter Scott 
   Rick Scott 
   Stefan Seifert 
   Austin Seipp 
   Mark Senn 
   Filip Sergot 
   Seth Gold (Sgeo) 
   William Shallum 
   Kris Shannon 
   shenyute 
   Aaron Sherman 
   Mark Shoulson 
   Ryan Siemens 
   Ricardo Signes 
   Hinrik Örn Sigurðsson 
   Jonathan Sillito 
   Miroslav Silovic 
   Steve Simmons 
   Alberto Manuel Brandao Simoes 
   John Siracusa 
   Arne Skjærholt 
   Barrie Slaymaker 
   Radek Slupik 
   Mike Small 
   Benjamin Smith 
   Melvin Smith 
   Tim Smith 
   Adrian White aka 
   snarkyboojum 
   Richard Soderberg 
   SolidState 
   Vishal Soni 
   Syloke Soong 
   Shawn Sorichetti 
   Tadeusz Sośnierz 
   sue spence 
   Cory Spencer 
   Robert Spier 
   Michael Stapelberg 
   Edwin Steiner 
   stephenpollei 
   Michael Stevens 
   Don Stewart 
   Radu Stoica 
   Klaas-Jan Stol 
   Alek Storm 
   David Storrs 
   Mark Stosberg 
   Jonathan Stowe 
   Cosimo Streppone 
   Jonathan Strickland 
   Pascal Stumpf 
   Su-Shee 
   Sue 
   Laye Suen 
   Dan Sugalski 
   Mark Summerfield 
   Simon Sun 
   Cheng-Lung Sung 宋政隆 
   Sunnavy 
   Samuel Sutch 
   svatsan 
   svn 
   Andrew Sweger 
   sygi 
   Sebastian Sylvan 
   Gábor Szabó 
   Bálint Szilakszi 
   Marek Šuppa 
</pre>
 <a name="t11.20"></a><h1 id="_language_contributors.pod6-T">11.20 T</h1>
 <pre class="code">  TOGoS 
   Arvindh Rajesh Tamilmani 
   Audrey Tang 唐鳳 
   Bestian Tang 唐宗浩 
   Adrian Taylor 
   Jesse Taylor 
   Philip Taylor 
   Kevin Tew 
   the_dormant 
   Marcus Thiesen 
   Adam Thomason 
   Richard Tibbetts 
   Carey Tilden 
   Marcel Timmerman 
   Leon Timmermans 
   tkob 
   John Tobey 
   Frank Tobin 
   Bennett Todd 
   Graham Todd 
   Leopold Tötsch 
   Daniel Toma 
   Nathan Torkington 
   Timothy Totten 
   Itsuki Toyota 
   John J. Trammell 
   Matt S. Trout 
   Nat Tuck 
   Adam Turoff 
   Ben Tyler 
</pre>
 <a name="t11.21"></a><h1 id="_language_contributors.pod6-U">11.21 U</h1>
 <pre class="code">  ujwal 
   Bernd Ulmann 
   Reini Urban 
   parrot user 
   uzair 
</pre>
 <a name="t11.22"></a><h1 id="_language_contributors.pod6-V">11.22 V</h1>
 <pre class="code">  VZ 
   Ilmari Vacklin 
   vamped 
   Wim Vanderbauwhede 
   vendethiel 
   David Vergin 
   Ted Vessenes 
   Sam Vilain 
   Cédric Vincent 
   Jesse Vincent 
   Jos Visser 
   John van Vlaanderen 
   vmax 
   Jeremy Voorhis 
   Martin Vorländer 
   Johan Vromans 
   Maxim Vuets 
</pre>
 <a name="t11.23"></a><h1 id="_language_contributors.pod6-W">11.23 W</h1>
 <pre class="code">  Juerd Waalboer 
   Mariano Wahlmann 
   Kevin Walker 
   Gloria Wall 
   Larry Wall 
   Lewis Wall 
   Michal J Wallace 
   John Paul Wallington 
   walter 
   Matthew Walton 
   Ting Wang 
   Xinyuan Wang 
   Andy Wardley 
   Bryan C. Warnock 
   wayland 
   Stephen Weeks 
   Zhen-Bang Wei 
   Nick Wellnhofer 
   Shu-Chun Weng 
   Danny Werner 
   Brian Wheeler 
   David E. Wheeler 
   Dave Whipp 
   Adrian White 
   Andrew Whitworth 
   Bart Wiegmans 
   Nathan Wiger 
   Brock Wilcox 
   Edwin Wiles 
   Bob Wilkinson 
   Chris 'BinGOs' Williams 
   Greg Williams 
   Josh Wilmes 
   Matthew Wilson 
   Ashley Winters 
   Brian Wisti 
   Dave Woldrich 
   Helmut Wollmersdorfer 
   Kevin J. Woolley 
   Jonathan Worthington 
   Kuang-Che Wu 吳光哲 
</pre>
 <a name="t11.24"></a><h1 id="_language_contributors.pod6-X">11.24 X</h1>
 <pre class="code">  xenu 
   Liang-Qi Xie 謝良奇 
   Xtreak 
</pre>
 <a name="t11.25"></a><h1 id="_language_contributors.pod6-Y">11.25 Y</h1>
 <pre class="code">  Gaal Yahas גל יחס 
   Thomas Yandell 
   Alvis Yardley 
   Thomas Yeh 葉志宏 
   Natan Yellin 
   yiyihu 
   Matt Youell 
   Tony Young 
   Shen Yu-Teh 
</pre>
 <a name="t11.26"></a><h1 id="_language_contributors.pod6-Z">11.26 Z</h1>
 <pre class="code">  Ilya Zakharevich 
   Ruslan Zakirov 
   Ahmad M. Zawawi 
   Michael A. D. Zedeler 
   zengargoyle 
   zeriod 
   Agent Zhang 章亦春 
   Jimmy Zhuo 
   Ziggy6 
   Rob Zinkov 
   Zoffix Znet 
</pre>
</div>
<!-- /language/control.pod6 --><div class="pod-body"><a id="_language_control.pod6"></a><a name="t12"><h1 class="title">12 Control Flow</h1></a> <p class="subtitle">Statements used to control the flow of execution</p> <a name="t12.1"></a><h1 id="_language_control.pod6-statements">12.1 <a name="53"></a>statements</h1>
 <p>Perl 6 programs consists of one or more statements. Simple statements are separated by semicolons. The following program will say &quot;Hello&quot; and then say &quot;World&quot; on the next line.</p>
 <pre class="code">say &quot;Hello&quot;;
say &quot;World&quot;;</pre>
 <p>In most places where spaces appear in a statement, and before the semicolon, it may be split up over many lines. Also, multiple statements may appear on the same line. It would be awkward, but the above could also be written as:</p>
 <pre class="code">say
&quot;Hello&quot;; say &quot;World&quot;;</pre>
 <a name="t12.2"></a><h1 id="_language_control.pod6-blocks">12.2 <a name="54"></a>blocks</h1>
 <p>Like many languages, Perl 6 uses <span class="code">blocks</span> enclosed by <span class="code">{</span> and <span class="code">}</span> to turn multiple statements into a single statement. It is ok to skip the semicolon between the last statement in a block and the closing <span class="code">}</span>.</p>
 <pre class="code">{ say &quot;Hello&quot;; say &quot;World&quot; }</pre>
 <p>When a block stands alone as a statement, it will be entered immediately after the previous statement finishes, and the statements inside it will be executed.</p>
 <pre class="code">say 1;                    # OUTPUT: «1␤»
{ say 2; say 3 };         # OUTPUT: «2␤3␤»
say 4;                    # OUTPUT: «4␤»</pre>
 <p>Unless it stands alone as a statement, a block simply creates a closure. The statements inside are not executed immediately. Closures are another topic and how they are used is explained <a href="#_language_functions.pod6-Blocks_and_Lambdas">elsewhere</a>. For now it is just important to understand when blocks run and when they do not:</p>
 <pre class="code">say &quot;We get here&quot;; { say &quot;then here.&quot; }; { say &quot;not here&quot;; 0; } or die; 
</pre>
 <p>In the above example, after running the first statement, the first block stands alone as a second statement, so we run the statement inside it. The second block does not stand alone as a statement, so instead, it makes an object of type <span class="code">Block</span> but does not run it. Object instances are usually considered to be true, so the code does not die, even though that block would evaluate to 0, were it to be executed. The example does not say what to do with the <span class="code">Block</span> object, so it just gets thrown away.</p>
 <p>Most of the flow control constructs covered below are just ways to tell perl6 when, how, and how many times, to enter blocks like that second block.</p>
 <p>Before we go into those, an important side-note on syntax: If there is nothing (or nothing but comments) on a line after a closing curly brace where you would normally put semicolon, then you do not need the semicolon:</p>
 <pre class="code"># All three of these lines can appear as a group, as is, in a program
{ 42.say }                # OUTPUT: «42␤»
{ 43.say }                # OUTPUT: «43␤»
{ 42.say }; { 43.say }    # OUTPUT: «42␤43␤»</pre>
 <p>...but:</p>
 <pre class="code">{ 42.say }  { 43.say }    # Syntax error 
 { 42.say; } { 43.say }    # Also a syntax error, of course 
</pre>
 <p>So, be careful when you backspace in a line-wrapping editor:</p>
 <pre class="code">{ &quot;Without semicolons line-wrapping can be a bit treacherous.&quot;.say } \ 
 { 43.say } # Syntax error 
</pre>
 <p>You have to watch out for this in most languages anyway to prevent things from getting accidentally commented out. Many of the examples below may have unnecessary semicolons for clarity.</p>
 <a name="t12.3"></a><h1 id="_language_control.pod6-do">12.3 <a name="55"></a>do</h1>
 <p>The simplest way to run a block where it cannot be a stand-alone statement is by writing <span class="code">do</span> before it:</p>
 <pre class="code"># This dies half of the time 
 do { say &quot;Heads I win, tails I die.&quot;; Bool.pick } or die; say &quot;I win.&quot;; 
</pre>
 <p>Note that you need a space between the do and the block.</p>
 <p>The whole <span class="code">do {...}</span> evaluates to the final value of the block. The block will be run when that value is needed in order to evaluate the rest of the expression. So:</p>
 <pre class="code">False and do { 42.say };</pre>
 <p>...will not say 42. However, the block is only evaluated once each time the expression it is contained in is evaluated:</p>
 <pre class="code"># This says &quot;(..1 ..2 ..3)&quot; not &quot;(..1 ...2 ....3)&quot;
my $f = &quot;.&quot;; say do { $f ~= &quot;.&quot; } X~ 1, 2, 3;</pre>
 <p>In other words, it follows the same reification rules as everything else.</p>
 <p>Technically, <span class="code">do</span> is a loop which runs exactly one iteration.</p>
 <p>A <span class="code">do</span> may also be used on a bare statement (without curly braces) but this is mainly just useful for avoiding the syntactical need to parenthesize a statement if it is the last thing in an expression:</p>
 <pre class="code">3, do if 1 { 2 }  ; # OUTPUT: «(3, 2)␤» 
 3,   (if 1 { 2 }) ; # OUTPUT: «(3, 2)␤» 
</pre>
 <pre class="code">3,    if 1 { 2 }  ; # Syntax error 
</pre>
 <p>...which brings us to <span class="code">if</span>.</p>
 <a name="t12.4"></a><h1 id="_language_control.pod6-if">12.4 <a name="56"></a>if</h1>
 <p>To conditionally run a block of code, use an <span class="code">if</span> followed by a condition. The condition, an expression, will be evaluated immediately after the statement before the <span class="code">if</span> finishes. The block attached to the condition will only be evaluated if the condition means True when coerced to <span class="code">Bool</span>. Unlike some languages the condition does not have to be parenthesized, instead the <span class="code">{</span> and <span class="code">}</span> around the block are mandatory:</p>
 <pre class="code">if 1 { &quot;1 is true&quot;.say }  ; # says &quot;1 is true&quot; 
</pre>
 <pre class="code">if 1   &quot;1 is true&quot;.say    ; # syntax error, missing block 
</pre>
 <pre class="code">if 0 { &quot;0 is true&quot;.say }  ; # does not say anything, because 0 is false 
</pre>
 <pre class="code">if 42.say and 0 { 43.say }; # says &quot;42&quot; but does not say &quot;43&quot; 
</pre>
 <p>There is also a form of <span class="code">if</span> called a &quot;statement modifier&quot; form. In this case, the if and then the condition come after the code you want to run conditionally. Do note that the condition is still always evaluated first:</p>
 <pre class="code">43.say if 42.say and 0;     # says &quot;42&quot; but does not say &quot;43&quot;
43.say if 42.say and 1;     # says &quot;42&quot; and then says &quot;43&quot;
say &quot;It is easier to read code when 'if's are kept on left of screen&quot;
    if True;                # says the above, because it is true
{ 43.say } if True;         # says &quot;43&quot; as well</pre>
 <p>The statement modifier form is probably best used sparingly.</p>
 <p>The <span class="code">if</span> statement itself will either <a href="#_type_Slip.pod6">slip</a> us an empty list, if it does not run the block, or it will return the value which the block produces:</p>
 <pre class="code">my $d = 0; say (1, (if 0 { $d += 42; 2; }), 3, $d); # says &quot;(1 3 0)&quot;
my $c = 0; say (1, (if 1 { $c += 42; 2; }), 3, $c); # says &quot;(1 2 3 42)&quot;
say (1, (if 1 { 2, 2 }), 3);         # does not slip, says &quot;(1 (2 2) 3)&quot;</pre>
 <p>For the statement modifier it is the same, except you have the value of the statement instead of a block:</p>
 <pre class="code">say (1, (42 if True) , 2); # says &quot;(1 42 2)&quot;
say (1, (42 if False), 2); # says &quot;(1 2)&quot;
say (1,  42 if False , 2); # says &quot;(1 42)&quot; because &quot;if False, 2&quot; is true</pre>
 <p>The <span class="code">if</span> does not change the topic (<span class="code">$_</span>) by default. In order to access the value which the conditional expression produced, you have to ask for it more strongly:</p>
 <pre class="code">$_ = 1; if 42 { $_.say }                ; # says &quot;1&quot;
$_ = 1; if 42 -&gt; $_ { $_.say }          ; # says &quot;42&quot;
$_ = 1; if 42 -&gt; $a { $_.say;  $a.say } ; # says &quot;1&quot; then says &quot;42&quot;
$_ = 1; if 42       { $_.say; $^a.say } ; # says &quot;1&quot; then says &quot;42&quot;</pre>
 <a name="t12.4.1"></a><h2 id="_language_control.pod6-else/elsif">12.4.1 <a name="57"></a>else/elsif</h2>
 <p>A compound conditional may be produced by following an <span class="code">if</span> conditional with <span class="code">else</span> to provide an alternative block to run when the conditional expression is false:</p>
 <pre class="code">if 0 { say &quot;no&quot; } else { say &quot;yes&quot; }   ; # says &quot;yes&quot; 
 if 0 { say &quot;no&quot; } else{ say &quot;yes&quot; }    ; # says &quot;yes&quot;, space is not required 
</pre>
 <p>The <span class="code">else</span> cannot be separated from the conditional statement by a semicolon, but as a special case, it is OK to have a newline.</p>
 <pre class="code">if 0 { say &quot;no&quot; }; else { say &quot;yes&quot; }  ; # syntax error 
</pre>
 <pre class="code">if 0 { say &quot;no&quot; } 
 else { say &quot;yes&quot; }                     ; # says &quot;yes&quot; 
</pre>
 <p>Additional conditions may be sandwiched between the <span class="code">if</span> and the <span class="code">else</span> using <span class="code">elsif</span>. An extra condition will only be evaluated if all the conditions before it were false, and only the block next to the first true condition will be run. You can end with an <span class="code">elsif</span> instead of an <span class="code">else</span> if you want.</p>
 <pre class="code">if 0 { say &quot;no&quot; } elsif False { say &quot;NO&quot; } else { say &quot;yes&quot; } # says &quot;yes&quot;
if 0 { say &quot;no&quot; } elsif True { say &quot;YES&quot; } else { say &quot;yes&quot; } # says &quot;YES&quot;

if 0 { say &quot;no&quot; } elsif False { say &quot;NO&quot; } # does not say anything

sub right { &quot;Right!&quot;.say; True }
sub wrong { &quot;Wrong!&quot;.say; False }
if wrong() { say &quot;no&quot; } elsif right() { say &quot;yes&quot; } else { say &quot;maybe&quot; }
# The above says &quot;Wrong!&quot; then says &quot;Right!&quot; then says &quot;yes&quot;</pre>
 <p>You cannot use the statement modifier form with <span class="code">else</span> or <span class="code">elsif</span>:</p>
 <pre class="code">42.say if 0 else { 43.say }            # syntax error 
</pre>
 <p>All the same rules for semicolons and newlines apply, consistently</p>
 <pre class="code">if 0 { say 0 }; elsif 1 { say 1 }  else { say &quot;how?&quot; } ; # syntax error 
 if 0 { say 0 }  elsif 1 { say 1 }; else { say &quot;how?&quot; } ; # syntax error 
 if 0 { say 0 }  elsif 1 { say 1 }  else { say &quot;how?&quot; } ; # says &quot;1&quot; 
</pre>
 <pre class="code">if 0 { say 0 } elsif 1 { say 1 }
else { say &quot;how?&quot; }                                    ; # says &quot;1&quot;

if 0 { say 0 }
elsif 1 { say 1 } else { say &quot;how?&quot; }                  ; # says &quot;1&quot;

if        0 { say &quot;no&quot; }
elsif False { say &quot;NO&quot; }
else        { say &quot;yes&quot; }                              ; # says &quot;yes&quot;</pre>
 <p>The whole thing either <a href="#_type_Slip.pod6">slips</a> us an empty list (if no blocks were run) or returns the value produced by the block that did run:</p>
 <pre class="code">my $d = 0; say (1,
                (if 0 { $d += 42; &quot;two&quot;; } elsif False { $d += 43; 2; }),
                3, $d); # says &quot;(1 3 0)&quot;
my $c = 0; say (1,
                (if 0 { $c += 42; &quot;two&quot;; } else { $c += 43; 2; }),
                3, $c); # says &quot;(1 2 3 43)&quot;</pre>
 <p>It's possible to obtain the value of the previous expression inside an <span class="code">else</span>, which could be from <span class="code">if</span> or the last <span class="code">elsif</span> if any are present:</p>
 <pre class="code">$_ = 1; if 0     { } else -&gt; $a { &quot;$_ $a&quot;.say } ; # says &quot;1 0&quot;
$_ = 1; if False { } else -&gt; $a { &quot;$_ $a&quot;.say } ; # says &quot;1 False&quot;

if False { } elsif 0 { } else -&gt; $a { $a.say }  ; # says &quot;0&quot;</pre>
 <a name="t12.4.2"></a><h2 id="_language_control.pod6-unless">12.4.2 <a name="58"></a>unless</h2>
 <p>When you get sick of typing &quot;if not (X)&quot; you may use <span class="code">unless</span> to invert the sense of a conditional statement. You cannot use <span class="code">else</span> or <span class="code">elsif</span> with <span class="code">unless</span> because that ends up getting confusing. Other than those two differences <span class="code">unless</span> works the same as <a href="#11-if">#if</a>:</p>
 <pre class="code">unless 1 { &quot;1 is false&quot;.say }  ; # does not say anything, since 1 is true 
</pre>
 <pre class="code">unless 1   &quot;1 is false&quot;.say    ; # syntax error, missing block 
</pre>
 <pre class="code">unless 0 { &quot;0 is false&quot;.say }  ; # says &quot;0 is false&quot; 
</pre>
 <pre class="code">unless 42.say and 1 { 43.say } ; # says &quot;42&quot; but does not say &quot;43&quot;
43.say unless 42.say and 0;      # says &quot;42&quot; and then says &quot;43&quot;
43.say unless 42.say and 1;      # says &quot;42&quot; but does not say &quot;43&quot;

$_ = 1; unless 0 { $_.say }           ; # says &quot;1&quot;
$_ = 1; unless 0 -&gt; $_ { $_.say }     ; # says &quot;0&quot;
$_ = 1; unless False -&gt; $a { $a.say } ; # says &quot;False&quot;

my $c = 0; say (1, (unless 0 { $c += 42; 2; }), 3, $c); # says &quot;(1 2 3 42)&quot;
my $d = 0; say (1, (unless 1 { $d += 42; 2; }), 3, $d); # says &quot;(1 3 0)&quot;</pre>
 <a name="t12.4.3"></a><h2 id="_language_control.pod6-with,_orwith,_without">12.4.3 <a name="59"></a>with, orwith, without</h2>
 <p>The <span class="code">with</span> statement is like <span class="code">if</span> but tests for definedness rather than truth. In addition, it topicalizes on the condition, much like <span class="code">given</span>:</p>
 <pre class="code">with &quot;abc&quot;.index(&quot;a&quot;) { .say }      # prints 0</pre>
 <p>Instead of <span class="code">elsif</span>, <span class="code">orwith</span> may be used to chain definedness tests:</p>
 <pre class="code"># The below code says &quot;Found a at 0&quot;
my $s = &quot;abc&quot;;
with   $s.index(&quot;a&quot;) { say &quot;Found a at $_&quot; }
orwith $s.index(&quot;b&quot;) { say &quot;Found b at $_&quot; }
orwith $s.index(&quot;c&quot;) { say &quot;Found c at $_&quot; }
else                 { say &quot;Didn't find a, b or c&quot; }</pre>
 <p>You may intermix <span class="code">if</span>-based and <span class="code">with</span>-based clauses.</p>
 <pre class="code"># This says &quot;Yes&quot;
if 0 { say &quot;No&quot; } orwith Nil { say &quot;No&quot; } orwith 0 { say &quot;Yes&quot; };</pre>
 <p>As with <span class="code">unless</span>, you may use <span class="code">without</span> to check for undefinedness, but you may not add an <span class="code">else</span> clause:</p>
 <pre class="code">my $answer = Any;
without $answer { warn &quot;Got: $_&quot; }</pre>
 <p>There are also <span class="code">with</span> and <span class="code">without</span> statement modifiers:</p>
 <pre class="code">my $answer = (Any, True).roll;
say 42 with $answer;
warn &quot;undefined answer&quot; without $answer;</pre>
 <a name="t12.5"></a><h1 id="_language_control.pod6-when">12.5 <a name="60"></a>when</h1>
 <p>The <span class="code">when</span> block is similar to an <span class="code">if</span> block and either or both can be used in an outer block, they also both have a &quot;statement modifier&quot; form. But there is a difference in how following code in the same, outer block is handled: When the <span class="code">when</span> block is executed, control is passed to the enclosing block and following statements are ignored; but when the <span class="code">if</span> block is executed, following statements are executed. (Note there are other ways to modify the default behavior of each which are discussed in other sections.) The following examples should illustrate the <span class="code">if</span> or <span class="code">when</span> block's default behavior assuming no special exit or other side effect statements are included in the <span class="code">if</span> or <span class="code">when</span> blocks:</p>
 <pre class="code">{ 
     if X {...} # if X is true in boolean context, block is executed 
     # following statements are executed regardless 
 } 
 { 
     when X {...} # if X is true in boolean context, block is executed 
                  # and control passes to the outer block 
     # following statements are NOT executed 
 } 
</pre>
 <p>Should the <span class="code">if</span> and <span class="code">when</span> blocks above appear at file scope, following statements would be executed in each case.</p>
 <p>There is one other feature a <span class="code">when</span> has that <span class="code">if</span> doesn't: the <span class="code">when</span>'s boolean context test defaults to <span class="code">$_ ~~</span> while the <span class="code">if</span>'s does not. That has an effect on how one uses the X in the <span class="code">when</span> block without a value for <span class="code">$_</span> (it's <span class="code">Any</span> in that case and <span class="code">Any</span> smart matches on <span class="code">True</span>: <span class="code">Any ~~ True</span> yields <span class="code">True</span>). Consider the following:</p>
 <pre class="code">{ 
     my $a = 1; 
     my $b = True; 
     when $a    { say 'a' }; # no output 
     when so $a { say 'a' }  # a (in &quot;so $a&quot; 'so' coerces $a to Boolean context True 
                             # which matches with Any) 
     when $b    { say 'b' }; # no output (this statement won't be run) 
 } 
</pre>
 <p>Finally, <span class="code">when</span>'s statement modifier form does not effect execution of following statements either inside or outside of another block:</p>
 <pre class="code">say &quot;foo&quot; when X; # if X is true statement is executed 
                   # following statements are not affected 
</pre>
 <a name="t12.6"></a><h1 id="_language_control.pod6-for">12.6 <a name="61"></a>for</h1>
 <p>The <span class="code">for</span> loop iterates over a list, running the statements inside a <a href="#_type_Block.pod6">block</a> once on each iteration. If the block takes parameters, the elements of the list are provided as arguments.</p>
 <pre class="code">my @foo = 1..3;
for @foo { $_.print } # prints each value contained in @foo
for @foo { .print }   # same thing, because .print implies a $_ argument
for @foo { 42.print } # prints 42 as many times as @foo has elements</pre>
 <p>Pointy block syntax or a <a href="#_language_variables.pod6-The_^_Twigil">placeholder</a> may be used to name the parameter, of course.</p>
 <pre class="code">my @foo = 1..3;
for @foo -&gt; $item { print $item }
for @foo { print $^item }            # same thing</pre>
 <p>Multiple parameters can be declared, in which case the iterator takes as many elements from the list as needed before running the block.</p>
 <pre class="code">my @foo = 1..3;
for @foo.kv -&gt; $idx, $val { say &quot;$idx: $val&quot; }
my %hash = &lt;a b c&gt; Z=&gt; 1,2,3;
for %hash.kv -&gt; $key, $val { say &quot;$key =&gt; $val&quot; }
for 1, 1.1, 2, 2.1 { say &quot;$^x &lt; $^y&quot; }  # says &quot;1 &lt; 1.1&quot; then says &quot;2 &lt; 2.1&quot;</pre>
 <p>Parameters of a pointy block can have default values, allowing to handle lists with missing elements.</p>
 <pre class="code">my @list = 1,2,3,4;
for @list -&gt; $a, $b = 'N/A', $c = 'N/A' {
    say &quot;$a $b $c&quot;
}
# OUTPUT: «1 2 3␤4 N/A N/A␤»</pre>
 <p>If the postfix form of <span class="code">for</span> is used a block is not required and the topic is set for the statement list.</p>
 <pre class="code">say „I $_ butterflies!“ for &lt;♥ ♥ ♥&gt;;
# OUTPUT«I ♥ butterflies!␤I ♥ butterflies!␤I ♥ butterflies!␤»</pre>
 <p>A <span class="code">for</span> may be used on lazy lists – it will only take elements from the list when they are needed, so to read a file line by line, you could use:</p>
 <pre class="code">for $*IN.lines -&gt; $line { .say } 
</pre>
 <p>Iteration variables are always lexical, so you don't need to use <span class="code">my</span> to give them the appropriate scope. Also, they are read-only aliases. If you need them to be read-write, use <span class="code">&lt;-&gt;</span> instead of <span class="code">-&gt;</span>. If you need to make <span class="code">$_</span> read-write in a for loop, do so explicitly.</p>
 <pre class="code">my @foo = 1..3;
for @foo &lt;-&gt; $_ { $_++ }</pre>
 <p>A for loop can produce a <span class="code">List</span> of the values produced by each run of the attached block. To capture these values, put the for loop in parenthesis or assign them to an array:</p>
 <pre class="code">(for 1, 2, 3 { $_ * 2 }).say;              # says &quot;(2 4 6)&quot;
my @a = do for 1, 2, 3 { $_ * 2 }; @a.say; # says &quot;[2 4 6]&quot;
my @b = (for 1, 2, 3 { $_ * 2 }); @a.say;  # same thing</pre>
 <a name="t12.7"></a><h1 id="_language_control.pod6-gather/take">12.7 <a name="62"></a>gather/take</h1>
 <p><span class="indexed"><a id="63" name="lazy list gather"></a></span><span class="indexed"><a id="64" name="lazy list take"></a></span></p>
 <p><span class="code">gather</span> is a statement or block prefix that returns a <a href="#_type_Seq.pod6">sequence</a> of values. The values come from calls to <a href="#_type_Mu.pod6-routine_take">take</a> in the dynamic scope of the <span class="code">gather</span> block.</p>
 <pre class="code">my @a = gather {
    take 1;
    take 5;
    take 42;
}
say join ', ', @a;          # OUTPUT: «1, 5, 42␤»</pre>
 <p><span class="code">gather/take</span> can generate values lazily, depending on context. If you want to force lazy evaluation use the <a href="#_type_Iterable.pod6-method_lazy">lazy</a> subroutine or method. Binding to a scalar or sigilless container will also force laziness.</p>
 <p>For example</p>
 <pre class="code">my @vals = lazy gather {
    take 1;
    say &quot;Produced a value&quot;;
    take 2;
}
say @vals[0];
say 'between consumption of two values';
say @vals[1];

# OUTPUT:
# 1
# between consumption of two values
# Produced a value
# 2</pre>
 <p><span class="code">gather/take</span> is scoped dynamically, so you can call <span class="code">take</span> from subs or methods that are called from within <span class="code">gather</span>:</p>
 <pre class="code">sub weird(@elems, :$direction = 'forward') {
    my %direction = (
        forward  =&gt; sub { take $_ for @elems },
        backward =&gt; sub { take $_ for @elems.reverse },
        random   =&gt; sub { take $_ for @elems.pick(*) },
    );
    return gather %direction{$direction}();
}

say weird(&lt;a b c&gt;, :direction&lt;backward&gt; );          # OUTPUT: «(c b a)␤»</pre>
 <p>If values need to be mutable on the caller side, use <a href="#_type_Mu.pod6-routine_take-rw">take-rw</a>.</p>
 <a name="t12.8"></a><h1 id="_language_control.pod6-given">12.8 <a name="65"></a>given <a name="66"></a></h1>
 <p>The <span class="code">given</span> statement is Perl 6's topicalizing keyword in a similar way that <span class="code">switch</span> topicalizes in languages such as C. In other words, <span class="code">given</span> sets <span class="code">$_</span> inside the following block. The keywords for individual cases are <span class="code">when</span> and <span class="code">default</span>. The usual idiom looks like this:</p>
 <pre class="code">my $var = (Any, 21, any &lt;answer lie&gt;).pick;
given $var {
    when 21 { say $_ * 2 }
    when 'lie' { .say }
    default { say 'default' }
}</pre>
 <p>The <span class="code">given</span> statement is often used alone:</p>
 <pre class="code">given 42 { .say; .Numeric; }</pre>
 <p>This is a lot more understandable than:</p>
 <pre class="code">{ .say; .Numeric; }(42)</pre>
 <a name="t12.8.1"></a><h2 id="_language_control.pod6-default_and_when">12.8.1 <a name="67"></a>default and when</h2>
 <p>A block containing a <span class="code">default</span> statement will be left immediately when the sub-block after the <span class="code">default</span> statement is left. It is as though the rest of the statements in the block are skipped.</p>
 <pre class="code">given 42 {
    &quot;This says&quot;.say;
    $_ == 42 and ( default { &quot;This says, too&quot;.say; 43; } );
    &quot;This never says&quot;.say;
}
# The above block evaluates to 43</pre>
 <p>A <span class="code">when</span> statement will also do this (but a <span class="code">when</span> statement modifier will <i>not</i>.)</p>
 <p>In addition, <span class="code">when</span> statements <span class="code">smartmatch</span> the topic (<span class="code">$_</span>) against a supplied expression such that it is possible to check against values, regular expressions, and types when specifying a match.</p>
 <pre class="code">for 42, 43, &quot;foo&quot;, 44, &quot;bar&quot; {
    when Int { .say }
    when /:i ^Bar/ { .say }
    default  { say &quot;Not an Int or a Bar&quot; }
}
# OUTPUT: «42␤43␤Not an Int or a Bar␤44␤Bar␤»</pre>
 <p>In this form, the <span class="code">given</span>/<span class="code">when</span> construct acts much like a set of <span class="code">if</span>/<span class="code">elsif</span>/<span class="code">else</span> statements. Be careful with the order of the <span class="code">when</span> statements. The following code says <span class="code">&quot;Int&quot;</span> not <span class="code">42</span>.</p>
 <pre class="code">given 42 {
    when Int { say &quot;Int&quot; }
    when 42  { say 42 }
    default  { say &quot;huh?&quot; }
}
# OUTPUT: «Int␤»</pre>
 <p>When a <span class="code">when</span> statement or <span class="code">default</span> statement causes the outer block to return, nesting <span class="code">when</span> or <span class="code">default</span> blocks do not count as the outer block, so you can nest these statements and still be in the same &quot;switch&quot; just so long as you do not open a new block:</p>
 <pre class="code">given 42 {
    when Int {
      when 42  { say 42 }
      say &quot;Int&quot;
    }
    default  { say &quot;huh?&quot; }
}
# OUTPUT: «42»</pre>
 <p><span class="code">when</span> statements can smart match against <a href="#_language_syntax.pod6-Signature_literals">Signatures</a>.</p>
 <a name="t12.8.2"></a><h2 id="_language_control.pod6-proceed">12.8.2 <a name="68"></a>proceed</h2>
 <a name="t12.8.3"></a><h2 id="_language_control.pod6-succeed">12.8.3 <a name="69"></a>succeed</h2>
 <p>Both <span class="code">proceed</span> and <span class="code">succeed</span> are meant to be used only from inside <span class="code">when</span> or <span class="code">default</span> blocks.</p>
 <p>The <span class="code">proceed</span> statement will immediately leave the <span class="code">when</span> or <span class="code">default</span> block, skipping the rest of the statements, and resuming after the block. This prevents the <span class="code">when</span> or <span class="code">default</span> from exiting the outer block.</p>
 <pre class="code">given * { 
     default { 
         proceed; 
         &quot;This never says&quot;.say 
     } 
 } 
 &quot;This says&quot;.say; 
</pre>
 <p>This is most often used to enter multiple <span class="code">when</span> blocks. <span class="code">proceed</span> will resume matching after a successful match, like so:</p>
 <pre class="code">given 42 {
    when Int   { say &quot;Int&quot;; proceed }
    when 42    { say 42 }
    when 40..* { say &quot;greater than 40&quot; }
    default    { say &quot;huh?&quot; }
}
# OUTPUT: «Int␤»
# OUTPUT: «42␤»</pre>
 <p>Note that the <span class="code">when 40..*</span> match didn't occur. For this to match such cases as well, one would need a <span class="code">proceed</span> in the <span class="code">when 42</span> block.</p>
 <p>This is not like a <span class="code">C</span> <span class="code">switch</span> statement, because the <span class="code">proceed</span> does not merely enter the directly following block, it attempts to match the <span class="code">given</span> value once more, consider this code:</p>
 <pre class="code">given 42 {
    when Int { &quot;Int&quot;.say; proceed }
    when 43  { 43.say }
    when 42  { 42.say }
    default  { &quot;got change for an existential answer?&quot;.say }
}
# OUTPUT: «Int␤»
# OUTPUT: «42␤»</pre>
 <p>...which matches the <span class="code">Int</span>, skips <span class="code">43</span> since the value doesn't match, matches <span class="code">42</span> since this is the next positive match, but doesn't enter the <span class="code">default</span> block since the <span class="code">when 42</span> block doesn't contain a <span class="code">proceed</span>.</p>
 <p>By contrast, the <span class="code">succeed</span> keyword short-circuits execution and exits the entire <span class="code">given</span> block at that point. It may also take an argument to specify a final value for the block.</p>
 <pre class="code">given 42 {
    when Int {
        say &quot;Int&quot;;
        succeed &quot;Found&quot;;
        say &quot;never this!&quot;;
    }
    when 42 { say 42 }
    default { say &quot;dunno?&quot; }
}
# OUTPUT: «Int␤»</pre>
 <p>If you are not inside a when or default block, it is an error to try to use <span class="code">proceed</span> or <span class="code">succeed</span>. Also remember, the <span class="code">when</span> statement modifier form does not cause any blocks to be left, and any <span class="code">succeed</span> or <span class="code">proceed</span> in such a statement applies to the surrounding clause, if there is one:</p>
 <pre class="code">given 42 {
    { say &quot;This says&quot; } when Int;
    &quot;This says too&quot;.say;
    when * &gt; 41 {
       { &quot;And this says&quot;.say; proceed } when * &gt; 41;
       &quot;This never says&quot;.say;
    }
    &quot;This also says&quot;.say;
}</pre>
 <a name="t12.8.4"></a><h2 id="_language_control.pod6-given_as_a_statement">12.8.4 <a name="70"></a>given as a statement</h2>
 <p><span class="code">given</span> can follow a statement to set the topic in the statement it follows.</p>
 <pre class="code">.say given &quot;foo&quot;;
# OUTPUT: «foo␤»

printf &quot;%s %02i.%02i.%i&quot;,
        &lt;Mo Tu We Th Fr Sa Su&gt;[.day-of-week - 1],
        .day,
        .month,
        .year
    given DateTime.now;
# OUTPUT: «Sa 03.06.2016»</pre>
 <a name="t12.9"></a><h1 id="_language_control.pod6-loop">12.9 <a name="71"></a>loop</h1>
 <p>The <span class="code">loop</span> statement takes three statements in parentheses separated by <span class="code">;</span> that take the role of initializer, conditional and incrementer. The initializer is executed once and any variable declaration will spill into the surrounding block. The conditional is executed once per iteration and coerced to <span class="code">Bool</span>, if <span class="code">False</span> the loop is stopped. The incrementer is executed once per iteration.</p>
 <pre class="code">loop (my $i = 0; $i &lt; 10; $i++) {
    say $i;
}</pre>
 <p>The infinite loop does not require parentheses.</p>
 <pre class="code">loop { say 'forever' } 
</pre>
 <p>The <span class="code">loop</span> statement may be used to produce values from the result of each run of the attached block if it appears in lists:</p>
 <pre class="code">(loop ( my $i = 0; $i++ &lt; 3;) { $i * 2 }).say;               # OUTPUT: «(2 4 6)␤»
my @a = (loop ( my $j = 0; $j++ &lt; 3;) { $j * 2 }); @a.say;   # OUTPUT: «[2 4 6]␤»
my @b = do loop ( my $k = 0; $k++ &lt; 3;) { $k * 2 }; @b.say;  # same thing</pre>
 <p>Unlike a <span class="code">for</span> loop, one should not rely on whether returned values are produced lazily, for now. It would probably be best to use <span class="code">eager</span> to guarantee that a loop whose return value may be used actually runs:</p>
 <pre class="code">sub heads-in-a-row {
    (eager loop (; 2.rand &lt; 1;) { &quot;heads&quot;.say })
}</pre>
 <a name="t12.10"></a><h1 id="_language_control.pod6-while,_until">12.10 <a name="72"></a>while, until</h1>
 <p>The <span class="code">while</span> statement executes the block as long as its condition is true. So</p>
 <pre class="code">my $x = 1;
while $x &lt; 4 {
    print $x++;
}
print &quot;\n&quot;;

# OUTPUT: «123␤»</pre>
 <p>Similarly, the <span class="code">until</span> statement executes the block as long as the expression is false.</p>
 <pre class="code">my $x = 1;
until $x &gt; 3 {
    print $x++;
}
print &quot;\n&quot;;

# OUTPUT: «123␤»</pre>
 <p>The condition for <span class="code">while</span> or <span class="code">until</span> can be parenthesized, but there must be a space between the keyword and the opening parenthesis of the condition.</p>
 <p>Both <span class="code">while</span> and <span class="code">until</span> can be used as statement modifiers. E. g.</p>
 <pre class="code">my $x = 42;
$x-- while $x &gt; 12</pre>
 <p>Also see <span class="code">repeat/while</span> and <span class="code">repeat/until</span> below.</p>
 <p>All these forms may produce a return value the same way <span class="code">loop</span> does.</p>
 <a name="t12.11"></a><h1 id="_language_control.pod6-repeat/while,_repeat/until">12.11 <a name="73"></a>repeat/while, repeat/until</h1>
 <p>Executes the block <i>at least once</i> and, if the condition allows, repeats that execution. This differs from <span class="code">while</span>/<span class="code">until</span> in that the condition is evaluated at the end of the loop, even if it appears at the front.</p>
 <pre class="code">my $x = -42;
repeat {
    $x++;
} while $x &lt; 5;
$x.say; # OUTPUT: «5␤»

repeat {
    $x++;
} while $x &lt; 5;
$x.say; # OUTPUT: «6␤»

repeat while $x &lt; 10 {
    $x++;
}
$x.say; # OUTPUT: «10␤»

repeat while $x &lt; 10 {
    $x++;
}
$x.say; # OUTPUT: «11␤»

repeat {
    $x++;
} until $x &gt;= 15;
$x.say; # OUTPUT: «15␤»

repeat {
    $x++;
} until $x &gt;= 15;
$x.say; # OUTPUT: «16␤»

repeat until $x &gt;= 20 {
    $x++;
}
$x.say; # OUTPUT: «20␤»

repeat until $x &gt;= 20 {
    $x++;
}
$x.say; # OUTPUT: «21␤»</pre>
 <p>All these forms may produce a return value the same way <span class="code">loop</span> does.</p>
 <a name="t12.12"></a><h1 id="_language_control.pod6-return">12.12 <a name="74"></a>return</h1>
 <p>The sub <span class="code">return</span> will stop execution of a subroutine or method, run all relevant <a href="#_language_phasers.pod6-Block_Phasers">phasers</a> and provide the given return value to the caller. The default return value is <span class="code">Nil</span>. If a return <a href="#_type_Signature.pod6-Constraining_Return_Types">type constraint</a> is provided it will be checked unless the return value is <span class="code">Nil</span>. If the type check fails the exception <a href="#_type_X::TypeCheck::Return.pod6">X::TypeCheck::Return</a> is thrown. If it passes a control exception is raised and can be caught with <a href="#_language_phasers.pod6-CONTROL">CONTROL</a>.</p>
 <p>Any <span class="code">return</span> in a block is tied to the first <span class="code">Routine</span> in the outer lexical scope of that block, no matter how deeply nested. Please note that a <span class="code">return</span> in the root of a package will fail at runtime. A <span class="code">return</span> in a block that is evaluated lazily (e.g. inside <span class="code">map</span>) may find the outer lexical routine gone by the time the block is executed. In almost any case <span class="code">last</span> is the better alternative.</p>
 TODO add link to section in /language/function that shows how return values are produces/handled
 <a name="t12.13"></a><h1 id="_language_control.pod6-return-rw">12.13 <a name="75"></a>return-rw</h1>
 <p>The sub <span class="code">return</span> will return values, not containers. Those are immutable and will lead to runtime errors when attempted to be mutated.</p>
 <pre class="code">sub s(){ my $a = 41; return $a };
say ++s();
CATCH { default { say .^name, ': ', .Str } };
# OUTPUT: «X::Multi::NoMatch.new(dispatcher …</pre>
 <p>To return a mutable container, use <span class="code">return-rw</span>.</p>
 <pre class="code">sub s(){ my $a = 41; return-rw $a };
say ++s();
# OUTPUT: «42␤»</pre>
 <p>The same rules as for <span class="code">return</span> regarding phasers and control exceptions apply.</p>
 <a name="t12.14"></a><h1 id="_language_control.pod6-fail">12.14 <a name="76"></a>fail</h1>
 <p>Leaves the current routine and returns the provided <a href="#_type_Exception.pod6">Exception</a> or <span class="code">Str</span> wrapped inside a <a href="#_type_Failure.pod6">Failure</a>, after all relevant <a href="#_language_phasers.pod6-Block_Phasers">phasers</a> are executed. If the caller activated fatal exceptions via the pragma <span class="code">use fatal;</span>, the exception is thrown instead of being returned as a <span class="code">Failure</span>.</p>
 <pre class="code">sub f { fail &quot;WELP!&quot; };
say f;
CATCH { default { say .^name, ': ', .Str } }
# OUTPUT: «X::AdHoc: WELP!␤»</pre>
 <a name="t12.15"></a><h1 id="_language_control.pod6-once">12.15 <a name="77"></a>once</h1>
 <p>A block prefix with <span class="code">once</span> will be executed exactly once, even if placed inside a loop or a recursive routine.</p>
 <pre class="code">my $guard = 3;
loop {
    last if $guard-- &lt;= 0;
    once { put 'once' };
    print 'many'
} # OUTPUT: «once␤manymanymany»</pre>
 <p>This works per &quot;clone&quot; of the containing code object, so:</p>
 <pre class="code">({ once 42.say } xx 3).map: {$_(), $_()}; # says 42 thrice</pre>
 <p>Note that this is <b>not</b> a thread-safe construct when the same clone of the same block is run by multiple threads. Also remember that methods only have one clone per class, not per object.</p>
 <a name="t12.16"></a><h1 id="_language_control.pod6-quietly">12.16 <a name="78"></a>quietly</h1>
 <p>A <span class="code">quietly</span> block will suppress warnings.</p>
 <pre class="code">quietly { warn 'kaput!' };
warn 'still kaput!';
# OUTPUT: «still kaput! [...]␤»</pre>
 <a name="t12.17"></a><h1 id="_language_control.pod6-LABELs">12.17 LABELs</h1>
 <p><span class="code">while</span>, <span class="code">until</span>, <span class="code">loop</span> and <span class="code">for</span> loops can all take a label, which can be used to identify them for <span class="code">next</span>, <span class="code">last</span>, and <span class="code">redo</span>. Nested loops are supported, for instance:</p>
 <pre class="code">OUTAHERE: while True  {
    for 1,2,3 -&gt; $n {
        last OUTAHERE if $n == 2;
    }
}</pre>
 <p>Labels can be used also within nested loops to name each loop, for instance:</p>
 <pre class="code">OUTAHERE: 
 loop ( my $i = 1; True; $i++ ) { 
   OUTFOR: 
     for 1,2,3 -&gt; $n { 
       # exits the for loop before its natural end 
       last OUTFOR if $n == 2; 
   } 
 
   # exits the infinite loop 
   last OUTAHERE if $i &gt;= 2; 
 } 
</pre>
 <a name="t12.18"></a><h1 id="_language_control.pod6-next">12.18 <a name="79"></a>next</h1>
 <p>The <span class="code">next</span> command starts the next iteration of the loop. So the code</p>
 <pre class="code">my @x = 1, 2, 3, 4, 5; 
 for @x -&gt; $x { 
     next if $x == 3; 
     print $x; 
 } 
</pre>
 <p>prints &quot;1245&quot;.</p>
 <a name="t12.19"></a><h1 id="_language_control.pod6-last">12.19 <a name="80"></a>last</h1>
 <p>The <span class="code">last</span> command immediately exits the loop in question.</p>
 <pre class="code">my @x = 1, 2, 3, 4, 5; 
 for @x -&gt; $x { 
     last if $x == 3; 
     print $x; 
 } 
</pre>
 <p>prints &quot;12&quot;.</p>
 <a name="t12.20"></a><h1 id="_language_control.pod6-redo">12.20 <a name="81"></a>redo</h1>
 <p>The <span class="code">redo</span> command restarts the loop block without evaluating the conditional again.</p>
 <pre class="code">loop { 
     my $x = prompt(&quot;Enter a number&quot;); 
     redo unless $x ~~ /\d+/; 
     last; 
 } 
</pre>
</div>
<!-- /language/enumeration.pod6 --><div class="pod-body"><a id="_language_enumeration.pod6"></a><a name="t13"><h1 class="title">13 Enumeration</h1></a> <p class="subtitle">Using the enum type</p> <a name="t13.1"></a><h1 id="_language_enumeration.pod6-An_example_using_the_enum_type">13.1 An example using the enum type</h1>
 <p>In Perl 6 the <span class="code">enum</span> type is much more complex than in some other languages, and the details are found in its type description here: <a href="#_language_typesystem.pod6-enum">enum</a>.</p>
 <p>This short document will give a simple example of its use similar to use in C-like languages.</p>
 <p>Say we have a program that needs to write to various directories so we want a function that, given a directory name, tests it for (1) its existence and (2) whether it can be written to by the user of the program. The results of the test will determine what actions the program takes next.</p>
 <pre class="code"># the directory will have one of these three statuses from the user's perspective: 
 enum DirStat &lt;CanWrite NoDir NoWrite&gt;; 
 sub check-dir-status($dir --&gt; DirStat) { 
     if $dir.IO.d { 
         # dir exists, can the program user write to it? 
         my $f = &quot;$dir/.tmp&quot;; 
         spurt $f, &quot;some text&quot;; 
         CATCH { 
             # unable to write for some reason 
             return NoWrite; 
         } 
         # if we get here we must have successfully written to the dir 
         unlink $f; 
         return CanWrite; 
     } 
     # if we get here the dir must not exist 
     return NoDir; 
 } 
 
 # test each of three directories by a non-root user 
 my $dirs = 
     '/tmp',  # normally writable by any user 
     '/',     # writable only by root 
     '~/tmp'; # a non-existent dir in the user's home dir 
 for $dirs -&gt; $dir { 
     my $stat = check-dir-status $dir; 
     say &quot;status of dir '$dir': $stat&quot;; 
     if $stat ~~ CanWrite { 
         say &quot;  user can write to dir: $dir&quot;; 
     } 
 } 
 # output 
 #   status of dir '/tmp': CanWrite 
 #     user can write to dir: /tmp 
 #   status of dir '/': NoWrite 
 #   status of dir '~/tmp': NoDir 
</pre>
</div>
<!-- /language/exceptions.pod6 --><div class="pod-body"><a id="_language_exceptions.pod6"></a><a name="t14"><h1 class="title">14 Exceptions</h1></a> <p class="subtitle">Using exceptions in Perl 6</p> <p>Exceptions in Perl 6 are objects that hold information about errors. An error can be, for example, the unexpected receiving of data or a network connection no longer available, or a missing file. The information that an exception objects store is, for instance, a human-readable message about the error condition, the backtrace of the raising of the error, and so on.</p>
 <p>All built-in exceptions inherit from <a href="#_type_Exception.pod6">Exception</a>, which provides some basic behavior, including the storage of a backtrace and an interface for the backtrace printer.</p>
 <a name="t14.1"></a><h1 id="_language_exceptions.pod6-Ad_hoc_exceptions">14.1 Ad hoc exceptions</h1>
 <p>Ad hoc exceptions can be used by calling <a href="#_routine_die.pod6">die</a> with a description of the error:</p>
 <pre class="code">die &quot;oops, something went wrong&quot;;

# RESULT: «oops, something went wrong in block &lt;unit&gt; at my-script.p6:1␤»</pre>
 <p>It is worth noting that <span class="code">die</span> prints the error message to the standard error <span class="code">$*ERR</span>.</p>
 <a name="t14.2"></a><h1 id="_language_exceptions.pod6-Typed_exceptions">14.2 Typed exceptions</h1>
 <p>Typed exceptions provide more information about the error stored within an exception object.</p>
 <p>For example, if while executing <span class="code">.zombie copy</span> on an object, a needed path <span class="code">foo/bar</span> becomes unavailable, then an <a href="#_type_X::IO::DoesNotExist.pod6">X::IO::DoesNotExist</a> exception can be raised:</p>
 <pre class="code">die X::IO::DoesNotExist.new(:path(&quot;foo/bar&quot;), :trying(&quot;zombie copy&quot;))

# RESULT: «Failed to find 'foo/bar' while trying to do '.zombie copy'
#          in block &lt;unit&gt; at my-script.p6:1»</pre>
 <p>Note how the object has provided the backtrace with information about what went wrong. A user of the code can now more easily find and correct the problem.</p>
 <a name="t14.3"></a><h1 id="_language_exceptions.pod6-Catching_exceptions">14.3 Catching exceptions</h1>
 <p>It's possible to handle exceptional circumstances by supplying a <span class="code">CATCH</span> block:</p>
 <pre class="code">die X::IO::DoesNotExist.new(:path(&quot;foo/bar&quot;), :trying(&quot;zombie copy&quot;));

CATCH {
    when X::IO { $*ERR.say: &quot;some kind of IO exception was caught!&quot; }
}

# RESULT: «some kind of IO exception was caught!»</pre>
 <p>Here, we are saying that if any exception of type <span class="code">X::IO</span> occurs, then the message <span class="code">some kind of IO exception was caught!</span> will be sent to <i>stderr</i> and displayed.</p>
 <p>A <span class="indexed"><a id="82" name="CATCH"><span class="code">CATCH</span></a></span> block uses smart matching similar to how <span class="code">given/when</span> smart matches on options, thus it's possible to catch and handle various categories of exceptions inside a <span class="code">when</span> block.</p>
 <p>To handle all exceptions, use a <span class="code">default</span> statement. This example prints out almost the same information as the normal backtrace printer.</p>
 <pre class="code">CATCH {
     default {
         say .payload;
         for .backtrace.reverse {
             next if .file.starts-with('SETTING::');
             next unless .subname;
             say &quot;  in block {.subname} at {.file} line {.line}&quot;;
         }
     }
}</pre>
 <p>Note that the match target is a role. To allow user defined exceptions to match in the same manner, they must implement the given role. Just existing in the same namespace will look alike but won't match in a <span class="code">CATCH</span> block.</p>
 <a name="t14.3.1"></a><h2 id="_language_exceptions.pod6-Exception_handlers_and_enclosing_blocks.">14.3.1 Exception handlers and enclosing blocks.</h2>
 <p>After a CATCH has handled the exception, the block enclosing the CATCH is exited.</p>
 <p>In other words, even when the exception is handled successfully, the <i>rest of the code</i> in the enclosing block will never be executed.</p>
 <pre class="code">die &quot;something went wrong ...&quot;;

CATCH {
    # will definitely catch all the exception
    default { .Str.say; }
}

say &quot;This won't be said.&quot;;   # but this line will be never reached since
                             # the enclosing block will be exited immediately
# OUTPUT: «something went wrong ...␤»</pre>
 <p>Compare with this:</p>
 <pre class="code">CATCH {

  CATCH {
      default { .Str.say; }
  }

  die &quot;something went wrong ...&quot;;

}

say &quot;Hi! I am at the outer block!&quot;; # OUTPUT: «Hi! I am at the outer block!␤»</pre>
 <p>See &quot;Resuming of Exceptions&quot;, for how to return control back to where the exception originated.</p>
 <a name="t14.4"></a><h1 id="_language_exceptions.pod6-try">14.4 <a name="83"></a><span class="code">try</span></h1>
 <p>To contain an exception, use a <span class="code">try</span> block. Any exception that is thrown in such a block will be caught by the implicit <span class="code">CATCH</span> block or a <span class="code">CATCH</span> block provided by the user. In the latter case, any unhandled exception will be rethrown.</p>
 <pre class="code">class E is Exception { method message() { &quot;Just stop already!&quot; } }

try {
    E.new.throw; # this will be local

    say &quot;This won't be said.&quot;;
}

say &quot;I'm alive!&quot;;

try {
    CATCH {
        when X::AdHoc { .Str.say; .resume }
    }

    die &quot;No, I expect you to DIE Mr. Bond!&quot;;

    say &quot;I'm immortal.&quot;;

    E.new.throw;

    say &quot;No, you don't!&quot;;
}</pre>
 <p>Output:</p>
 <pre class="code">I'm alive! 
 No, I expect you to DIE Mr. Bond! 
 I'm immortal. 
 Just stop already! 
   in block &lt;unit&gt; at exception.p6 line 21 
</pre>
 <p>A <span class="code">try</span>-block is a normal block and as such treats its last statement as the return value of itself. We can therefore use it as a RHS.</p>
 <pre class="code">say try { +&quot;99999&quot; } // &quot;oh no&quot;; 
 say try { +&quot;hello&quot; } // &quot;oh no&quot;; 
 
 # OUTPUT: «99999␤oh no␤» 
</pre>
 <p>Try blocks support <span class="code">else</span> blocks indirectly by returning the return value of the expression or <a href="#_type_Nil.pod6">Nil</a> if an exception was thrown.</p>
 <pre class="code">with try +&quot;♥&quot; {
    say &quot;this is my number: $_&quot;
} else {
    say &quot;not my number!&quot;
}
# OUTPUT: «not my number!␤»</pre>
 <p><span class="code">try</span> can also be used with a statement instead of a block:</p>
 <pre class="code">say try &quot;some-filename.txt&quot;.IO.slurp // &quot;sane default&quot;; 
 # OUTPUT: «sane default␤» 
</pre>
 <a name="t14.5"></a><h1 id="_language_exceptions.pod6-Throwing_exceptions">14.5 Throwing exceptions</h1>
 <p>Exceptions can be thrown explicitly with the <span class="code">.throw</span> method of an <span class="code">Exception</span> object.</p>
 <p>This example throws an <span class="code">AdHoc</span> exception, catches it and allows the code to continue from the point of the exception by calling the <span class="code">.resume</span> method.</p>
 <pre class="code">{
    X::AdHoc.new(:payload&lt;foo&gt;).throw;
    &quot;OHAI&quot;.say;
    CATCH {
        when X::AdHoc { .resume }
    }
}

&quot;OBAI&quot;.say;

# OUTPUT: «OHAI␤OBAI␤»</pre>
 <p>If the <span class="code">CATCH</span> block doesn't match the exception thrown, then the exception's payload is passed on to the backtrace printing mechanism.</p>
 <pre class="code">{
    X::AdHoc.new(:payload&lt;foo&gt;).throw;
    &quot;OHAI&quot;.say;
    CATCH {  }
}

&quot;OBAI&quot;.say;

# RESULT: «foo
#          in block &lt;unit&gt; at my-script.p6:1»</pre>
 <p>This next example doesn't resume from the point of the exception. Instead, it continues after the enclosing block, since the exception is caught, and then control continues after the <span class="code">CATCH</span> block.</p>
 <pre class="code">{
    X::AdHoc.new(:payload&lt;foo&gt;).throw;
    &quot;OHAI&quot;.say;
    CATCH {
        when X::AdHoc { }
    }
}

&quot;OBAI&quot;.say;

# OUTPUT: «OBAI␤»</pre>
 <p><span class="code">throw</span> can be viewed as the method form of <span class="code">die</span>, just that in this particular case, the sub and method forms of the routine have different names.</p>
 <a name="t14.6"></a><h1 id="_language_exceptions.pod6-Resuming_of_Exceptions">14.6 Resuming of Exceptions</h1>
 <p>Exceptions interrupt control flow and divert it away from the statement following the statement that threw it. Any exception handled by the user can be resumed and control flow will continue with the statement following the statement that threw the exception. To do so, call the method <span class="code">.resume</span> on the exception object.</p>
 <pre class="code">CATCH { when X::AdHoc { .resume } }         # this is step 2

die &quot;We leave control after this.&quot;;         # this is step 1

say &quot;We have continued with control flow.&quot;; # this is step 3</pre>
 <a name="t14.7"></a><h1 id="_language_exceptions.pod6-Uncaught_Exceptions">14.7 Uncaught Exceptions</h1>
 <p>If an exception is thrown and not caught, it causes the program to exit with a non-zero status code, and typically prints a message to the standard error stream of the program. This message is obtained by calling the <span class="code">gist</span> method on the exception object. You can use this to suppress the default behavior of printing a backtrace along with the message:</p>
 <pre class="code">class X::WithoutLineNumber is X::AdHoc {
    multi method gist(X::WithoutLineNumber:D:) {
            $.payload
    }
}
die X::WithoutLineNumber.new(payload =&gt; &quot;message&quot;)

# prints &quot;message\n&quot; to $*ERR and exits, no backtrace</pre>
 <a name="t14.8"></a><h1 id="_language_exceptions.pod6-Control_Exceptions">14.8 Control Exceptions</h1>
 <p>Control exceptions are thrown by certain <a href="#_language_phasers.pod6-CONTROL">keywords</a> and are handled either automatically or by the appropriate <a href="#_language_phasers.pod6-Loop_Phasers">phaser</a>. Any unhandled control exception is converted to a normal exception.</p>
 <pre class="code">{ return; CATCH { default { say .^name, ': ',.Str } } }

# OUTPUT: «X::ControlFlow::Return: Attempt to return outside of any Routine␤»
# was CX::Return</pre>
</div>
<!-- /language/experimental.pod6 --><div class="pod-body"><a id="_language_experimental.pod6"></a><a name="t15"><h1 class="title">15 Experimental Features</h1></a> <p class="subtitle">New features for brave users</p> <p>During Perl 6 development, new features are often made available for users to experimental with before their design is completed. Eventually these features may be made part of the Perl 6 specification. To use these features, one uses the <span class="code">experimental</span> pragma in program source code, for example, like this:</p>
 <pre class="code">use experimental :macros;</pre>
 <p>Following is a list of current experimental features and a short description of each feature's purpose or a link to more details about its use. (Note: Features marked &quot;[TBD]&quot; are to be defined later.)</p>
 The following should be a table but formatting in tables is
not yet rendered properly.
 <ul><li><p><span class="indexed"><a id="84" name="cache"><b>cache</b></a></span> [TBD]</p>
</li></ul> <ul><li><p><span class="indexed"><a id="85" name="macros"><b>macros</b></a></span> [TBD]</p>
</li></ul> <ul><li><p><span class="indexed"><a id="86" name="pack"><b>pack</b></a></span> [TBD]</p>
</li></ul> <a name="t15.1"></a><h1 id="_language_experimental.pod6-Collation">15.1 Collation</h1>
 <p>Is available in release 2017.02. To use:</p>
 <pre class="code">use experimental :collation;</pre>
 <p>Allows the use of the <span class="indexed"><a id="87" name="unicmp  Routine"><b>unicmp</b></a></span> and <span class="indexed"><a id="88" name="coll  method"><b>coll</b></a></span> operators. Also allows the use of the <span class="indexed"><a id="89" name="collate"><b>collate</b></a></span> method. unicmp and coll are like cmp, except it implements the Unicode Collation Algorithm.</p>
 <p><b>coll</b> and the <b>collate</b> method are affected by the <span class="indexed"><a id="90" name="$*COLLATION"><b>$*COLLATION</b></a></span> variable, while <b>unicmp</b> is not. Unlike the cmp operator which sorts according to codepoint, <b>unicmp</b> and <b>coll</b> sort according to how most users would expect.</p>
 <pre class="code">use experimental :collation;
say 'a' unicmp 'Z'; # Less
say 'a' cmp 'Z'; # More</pre>
 <p><b>coll</b> and the <b>collate</b> method are both configurable by setting the <b>$*COLLATION</b> variable.</p>
 <a name="t15.1.1"></a><h2 id="_language_experimental.pod6-collate_(method)">15.1.1 collate (method)</h2>
 <p>You can use the collate method similar to how one would use the <b>sort</b> method.</p>
 <pre class="code">use experimental :collation;
say ('a', 'Z').sort; # (Z a)
say ('a', 'Z').collate; # (a Z)
say &lt;ä a o ö&gt;.collate; # (a ä o ö)
my %hash = 'aa' =&gt; 'value', 'Za' =&gt; 'second';
say %hash.collate; # (aa =&gt; value Za =&gt; second);</pre>
 <a name="t15.1.2"></a><h2 id="_language_experimental.pod6-Collation_Levels">15.1.2 Collation Levels</h2>
 <p>There are four collation levels which are all configurable.</p>
 <p>While the Primary, Secondary and Tertiary mean different things for different scripts, for the Latin script used in English they mostly correspond with Primary being Alphabetic, Secondary being Diacritics and Tertiary being Case.</p>
 <p>In the below example you can see how when we disable tertiary collation which in Latin script generally is for case, and also disable quaternary which breaks any ties by checking the codepoint values of the strings, we get <b>Same</b> back for <b>A</b> and <b>a</b>:</p>
 <pre class="code">use experimental :collation;
$*COLLATION.set(:quaternary(False), :tertiary(False));
say 'a' coll 'A'; # Same</pre>
 <p><b>Note the collation features, especially the $*COLLATION API could change at any time</b></p>
</div>
<!-- /language/faq.pod6 --><div class="pod-body"><a id="_language_faq.pod6"></a><a name="t16"><h1 class="title">16 FAQ</h1></a> <p class="subtitle">Frequently Asked Questions about Perl 6</p> <a name="t16.1"></a><h1 id="_language_faq.pod6-General">16.1 General</h1>
 <p><span class="indexed"><a id="91" name="Rakudo and Perl 6 (FAQ)"></a></span></p>
 <a name="t16.1.1"></a><h2 id="_language_faq.pod6-What's_the_difference_between_Rakudo_and_Perl_6?">16.1.1 What's the difference between Rakudo and Perl 6?</h2>
 <p>Properly speaking, <a href="http://rakudo.org/">Rakudo</a> is an implementation of Perl 6. It's currently the most developed, but there have been other implementations in the past and there will likely be others in the future. Perl 6 is the definition of the language. Often, Rakudo and Perl 6 will be used interchangeably.</p>
 <a name="t16.1.2"></a><h2 id="_language_faq.pod6-Has_Perl_6_been_released?">16.1.2 Has Perl 6 been released?</h2>
 <p>Yes with the Rakudo 2015.12 implementation version on December 25th 2015.</p>
 <a name="t16.1.3"></a><h2 id="_language_faq.pod6-Is_there_a_Perl_6_version_6.0.0?">16.1.3 Is there a Perl 6 version 6.0.0?</h2>
 <p>No. The first stable language specification version is v6.c (&quot;Christmas&quot;). Future versions of the spec may have point releases (e.g. v6.c.2) or major releases (e.g., v6.d).</p>
 <p>Running <span class="code">perl6 -v</span> will display the language version your compiler implements:</p>
 <pre class="code">$ perl6 -v 
 This is Rakudo version 2017.07 built on MoarVM version 2017.07 
 implementing Perl 6.c. 
</pre>
 <p><span class="indexed"><a id="92" name="v6.d (FAQ)"></a></span></p>
 <a name="t16.1.4"></a><h2 id="_language_faq.pod6-When_is_v6.d_going_to_be_released?">16.1.4 When is v6.d going to be released?</h2>
 <p>Hopefully within a few months. Details at <a href="https://github.com/perl6/6.d-prep">https://github.com/perl6/6.d-prep</a></p>
 <p>You can already use some of the new features by using <span class="code">use v6.d.PREVIEW</span> <a href="https://docs.perl6.org/language/pragmas">pragma</a>. Also, many of the 6.d features were already implemented in 6.c compiler, due to the lack (at the time) of the infrastructure to support separate language versions. Thus, when 6.d is released, you may find you were already using many of the new features.</p>
 <p><span class="indexed"><a id="93" name="Rakudo Star DMG binary installer (FAQ)"></a></span> <span class="indexed"><a id="94" name="Rakudo Star MSI binary installer (FAQ)"></a></span> <span class="indexed"><a id="95" name="Rakudo Star docker image (FAQ)"></a></span> <span class="indexed"><a id="96" name="Rakudo Star for Linux (FAQ)"></a></span> <span class="indexed"><a id="97" name="Rakudo Star for Windows (FAQ)"></a></span> <span class="indexed"><a id="98" name="Rakudo Star for Mac (FAQ)"></a></span></p>
 <a name="t16.1.5"></a><h2 id="_language_faq.pod6-As_a_Perl_6_user,_what_should_I_install?">16.1.5 As a Perl 6 user, what should I install?</h2>
 <p>Mac users can use the latest Rakudo Star DMG binary installer at <a href="http://rakudo.org/downloads/star">http://rakudo.org/downloads/star</a></p>
 <p>Windows users can use the Rakudo Star MSI binary installer. You will need Windows Git and Strawberry Perl 5 to use zef to install library modules.</p>
 <p>Linux users probably want to download Rakudo Star and follow the compilation instructions at <a href="http://www.perl6.org/downloads/">http://www.perl6.org/downloads/</a>.</p>
 <p>There should be Linux and Mac binaries available from vendors and third parties, although vendor versions may be outdated. Versions before Rakudo release of 2015.12 should be avoided.</p>
 <p>There's an official Rakudo Star docker image at <a href="https://hub.docker.com/_/rakudo-star/">https://hub.docker.com/_/rakudo-star/</a></p>
 <p><span class="indexed"><a id="99" name="rakudobrew (FAQ)"></a></span></p>
 <a name="t16.1.6"></a><h2 id="_language_faq.pod6-As_an_advanced_user_I_want_to_track_Rakudo_development.">16.1.6 As an advanced user I want to track Rakudo development.</h2>
 <p>An option is to clone <a href="https://github.com/rakudo/rakudo">the repository</a> and build it. This will install work in progress which is minimally-tested and may contain severe bugs. If you're interested in contributing to Rakudo Perl 6 compiler, you may find <a href="https://github.com/zoffixznet/z">Z-Script helper tool</a> useful.</p>
 <p>To install the last official monthly release check out the tag visible at <a href="https://raw.githubusercontent.com/rakudo/rakudo/master/VERSION">https://raw.githubusercontent.com/rakudo/rakudo/master/VERSION</a> or set up <a href="https://github.com/zoffixznet/r#table-of-contents">a helper command</a>.</p>
 <p>Some users choose to use <a href="https://github.com/tadzik/rakudobrew">rakudobrew</a>, which allows installation of multiple versions of rakudo. Be sure to <a href="https://github.com/tadzik/rakudobrew#making-new-scripts-available">read its documentation</a>.</p>
 <p>In either case you will probably need to also install <a href="https://modules.perl6.org/dist/zef:github"><span class="code">zef</span></a> and <a href="https://modules.perl6.org/dist/p6doc:github"><span class="code">p6doc</span></a> from the <a href="http://modules.perl6.org/">ecosystem</a>.</p>
 <a name="t16.1.7"></a><h2 id="_language_faq.pod6-Where_can_I_find_good_documentation_on_Perl_6?">16.1.7 Where can I find good documentation on Perl 6?</h2>
 <p>See <a href="https://docs.perl6.org/">the official documentation website</a> (especially its <a href="https://docs.perl6.org/language.html">&quot;Language&quot; section</a>) as well as the <a href="https://perl6.org/resources/">Resources page</a>.</p>
 <p>There is a cheat sheet at <a href="https://github.com/perl6/mu/raw/master/docs/Perl6/Cheatsheet/cheatsheet.txt">https://github.com/perl6/mu/raw/master/docs/Perl6/Cheatsheet/cheatsheet.txt</a></p>
 <p>Be mindful of publication dates when reading third-party articles. Anything published before December, 2015 likely describes pre-release version of Perl 6.</p>
 <p>You can always <a href="https://webchat.freenode.net/?channels=#perl6">get help from a live human in our help chat</a> or <a href="https://www.google.com/search?q=site:irclog.perlgeek.de+inurl:perl6">search the chat logs</a>.</p>
 <p><span class="indexed"><a id="100" name="Specification (FAQ)"></a></span></p>
 <a name="t16.1.8"></a><h2 id="_language_faq.pod6-What_is_the_Perl_6_specification?">16.1.8 What is the Perl 6 specification?</h2>
 <p>The specification refers to the official test suite for Perl 6. It's called <a href="https://github.com/perl6/roast">roast</a> and is hosted on github. Any compiler that passes the tests is deemed to implement that version of the Perl 6 specification.</p>
 <p>Roast's &quot;master&quot; branch corresponds to the latest development that isn't necessarily part of any specification yet. Other branches correspond to specific versions; for example, &quot;6.c-errata&quot;.</p>
 <p>So 6.c-errata is a released language version we don't change other than to fix errors in tests (the &quot;errata&quot;) whereas master is the unreleased work-in-progress that may become the next language version. Its current state is not necessarily prescriptive of the next language version's behavior since new additions will be reviewed for inclusion into the release.</p>
 <a name="t16.1.9"></a><h2 id="_language_faq.pod6-Is_there_a_glossary_of_Perl_6_related_terms?">16.1.9 Is there a glossary of Perl 6 related terms?</h2>
 <p>Yes, see <a href="#_language_glossary.pod6">glossary</a>.</p>
 <a name="t16.1.10"></a><h2 id="_language_faq.pod6-I'm_a_Perl_5_programmer._Where_is_a_list_of_differences_between_Perl_5_and_Perl_6?">16.1.10 I'm a Perl 5 programmer. Where is a list of differences between Perl 5 and Perl 6?</h2>
 <p>There are several <i>Perl 5 to Perl 6</i> guides in the <a href="https://docs.perl6.org/language.html">Language section of the documentation</a>, most notable of which is the <a href="#_language_5to6-nutshell.pod6">Overview</a>.</p>
 <p><span class="indexed"><a id="101" name="Ruby Quickstart (FAQ)"></a></span></p>
 <a name="t16.1.11"></a><h2 id="_language_faq.pod6-I'm_a_Ruby_programmer_looking_for_quickstart_type_docs?">16.1.11 I'm a Ruby programmer looking for quickstart type docs?</h2>
 <p>See the <a href="https://docs.perl6.org/language/rb-nutshell">rb-nutshell</a> guide.</p>
 <a name="t16.2"></a><h1 id="_language_faq.pod6-Modules">16.2 Modules</h1>
 <p><span class="indexed"><a id="102" name="CPAN (FAQ)"></a></span><span class="indexed"><a id="103" name="ecosystem"></a></span></p>
 <a name="t16.2.1"></a><h2 id="_language_faq.pod6-Is_there_a_CPAN_(repository_of_third_party_library_modules)_for_Perl_6?">16.2.1 Is there a CPAN (repository of third party library modules) for Perl 6?</h2>
 <p>Yes, it's the same <a href="http://cpan.org/">CPAN</a> as for Perl 5! The only difference is when using <a href="http://pause.perl.org/">PAUSE</a> to upload the module, you'd select <span class="code">Perl 6</span> as the target directory. The <a href="https://modules.perl6.org/l/App::Mi6"><span class="code">App::Mi6</span>  tool</a> can simplify the uploading process. Latest versions of <a href="https://github.com/ugexe/zef"><span class="code">zef</span>  module installer</a> automatically check for latest versions of a module on CPAN as well as our <a href="https://github.com/perl6/ecosystem/">GitHub-based ecosystem</a>.</p>
 <p><span class="indexed"><a id="104" name="p6doc (FAQ)"></a></span> <span class="indexed"><a id="105" name="perldoc (FAQ)"></a></span></p>
 <a name="t16.2.2"></a><h2 id="_language_faq.pod6-Is_there_a_perldoc_(command_line_documentation_viewer)_for_Perl_6?">16.2.2 Is there a perldoc (command line documentation viewer) for Perl 6?</h2>
 <p>Yes, it's called p6doc and is present in the ecosystem under that name. It's present in Rakudo Star but you will need to install it using the monthly release.</p>
 <p><span class="indexed"><a id="106" name="Perl 5 modules (FAQ)"></a></span></p>
 <a name="t16.2.3"></a><h2 id="_language_faq.pod6-Can_I_use_Perl_5_modules_from_Perl_6?">16.2.3 Can I use Perl 5 modules from Perl 6?</h2>
 <p>Yes, with <a href="https://github.com/niner/Inline-Perl5/">Inline::Perl5</a>, which works well with most Perl 5 modules. It can even run Perl 5 Catalyst and DBI.</p>
 <p><span class="indexed"><a id="107" name="C and C++ (FAQ)"></a></span></p>
 <a name="t16.2.4"></a><h2 id="_language_faq.pod6-Can_I_use_C_and_C++_from_Perl_6?">16.2.4 Can I use C and C++ from Perl 6?</h2>
 <p><a href="https://docs.perl6.org/language/nativecall">Nativecall</a> makes this particularly easy.</p>
 <a name="t16.2.5"></a><h2 id="_language_faq.pod6-Nativecall_can't_find_libfoo.so_and_I_only_have_libfoo.so.1.2!">16.2.5 Nativecall can't find libfoo.so and I only have libfoo.so.1.2!</h2>
 <p>This is commonly seen on Debian-like systems. You need to install <span class="code">libfoo-dev</span> package, to set a sym link for the missing file.</p>
 <p><span class="indexed"><a id="108" name="UNIX library functions (FAQ)"></a></span> <span class="indexed"><a id="109" name="POSIX (FAQ)"></a></span></p>
 <a name="t16.2.6"></a><h2 id="_language_faq.pod6-Where_have_all_the_traditional_UNIX_library_functions_gone?">16.2.6 Where have all the traditional UNIX library functions gone?</h2>
 <p>It's very easy to use Nativecall to access them.</p>
 <p>An ecosystem module <a href="https://github.com/cspencer/perl6-posix">POSIX</a> is also available.</p>
 <p><span class="indexed"><a id="110" name="Core standard library (FAQ)"></a></span> <span class="indexed"><a id="111" name="Rakudo Star distribution and compiler-only release (FAQ)"></a></span></p>
 <a name="t16.2.7"></a><h2 id="_language_faq.pod6-Does_Rakudo_have_a_core_standard_library?">16.2.7 Does Rakudo have a core standard library?</h2>
 <p><a href="https://rakudo.perl6.org/downloads/star/">Rakudo Star distribution</a> does come with <a href="https://github.com/rakudo/star/tree/master/modules">many useful modules</a>.</p>
 <p>Rakudo compiler-only release includes <a href="https://docs.perl6.org/language/modules-core">only a couple of the most basic modules</a>.</p>
 <p>Many more modules can be found in the <a href="http://modules.perl6.org/">ecosystem</a>.</p>
 <a name="t16.2.8"></a><h2 id="_language_faq.pod6-Is_there_something_like_B::Deparse/How_can_I_get_hold_of_the_AST?">16.2.8 Is there something like <span class="code">B::Deparse</span>/How can I get hold of the AST?</h2>
 <p>Use <span class="code">--target=optimize</span> command line option to view the AST of your program, e.g., <span class="code">perl6 --target=optimize -e 'say &quot;hi&quot;'</span></p>
 <p>The target <span class="code">optimize</span> gives the AST after the static optimizer did its job, while target <span class="code">ast</span> gives the AST before that step. To get the full list of available targets, run <span class="code">perl6 --stagestats -e &quot;&quot;</span></p>
 <p><span class="indexed"><a id="112" name="Precompile (FAQ)"></a></span></p>
 <a name="t16.2.9"></a><h2 id="_language_faq.pod6-What_is_Precompilation?">16.2.9 What is Precompilation?</h2>
 <p>When you load a module for the first time, Rakudo compiles it into bytecode, and both stores it on disk, and uses the compiled bytecode. On subsequent loads, Rakudo prefers to load the bytecode, because that tends to be significantly faster.</p>
 <p><span class="indexed"><a id="113" name="Circular dependencies (FAQ)"></a></span></p>
 <a name="t16.2.10"></a><h2 id="_language_faq.pod6-Can_I_have_circular_dependencies_between_modules?">16.2.10 Can I have circular dependencies between modules?</h2>
 <p>No, you can't have circular dependencies, and you should get <span class="code">Circular module loading detected</span> error if you try it.</p>
 <p>Very likely you can accomplish what you are trying to do using <a href="#_language_objects.pod6-Roles">roles</a>. Instead of <span class="code">A.pm6</span> depending on <span class="code">B.pm6</span> and <span class="code">B.pm6</span> depending on <span class="code">A.pm6</span>, you can have <span class="code">A-Role.pm6</span> and <span class="code">B-Role.pm6</span> and classes in <span class="code">A.pm6</span> and <span class="code">B.pm6</span> implement these roles respectively. Then you can depend on <span class="code">A-Role.pm6</span> and <span class="code">B-Role.pm6</span> without the need for the circular dependency.</p>
 <p>One of the reasons why circular dependencies do not work in Perl 6 is one pass parsing. We have to know what A means when we parse B, and we have to know what B means when we parse A, which is clearly an infinite loop.</p>
 <p>Note that Perl 6 has no “1 file = 1 class” limitation, and circular dependencies within a single compilation unit (e.g. file) are possible through stubbing. Therefore another possible solution is to move classes into the same compilation unit.</p>
 <a name="t16.3"></a><h1 id="_language_faq.pod6-Language_Features">16.3 Language Features</h1>
 <p><span class="indexed"><a id="114" name="Data::Dumper (FAQ)"></a></span></p>
 <a name="t16.3.1"></a><h2 id="_language_faq.pod6-How_can_I_dump_Perl_6_data_structures_(like_Perl_5_Data::Dumper_and_similar)?">16.3.1 How can I dump Perl 6 data structures (like Perl 5 Data::Dumper and similar)?</h2>
 <p>Typical options are to use <a href="#_routine_say.pod6">say</a> routine that uses <a href="#_routine_gist.pod6">gist</a> method that gives the &quot;gist&quot; of the object being dumped. More detailed output can be obtained by calling <a href="#_routine_perl.pod6">perl</a> method that typically returns representation in <a href="#_routine_EVAL.pod6">EVAL</a>-able code.</p>
 <p>If you're using the <a href="http://rakudo.org">rakudo</a> implementation, you can use the <a href="#_programs_01-debugging.pod6-Dumper_function_dd">rakudo-specific  <span class="code">dd</span>  routine</a> for dumping, whose output is similar to <a href="#_routine_perl.pod6">perl</a>, but with more information.</p>
 <p>Examples:</p>
 <pre class="code">my $foo = %( foo =&gt; 'bar' ); 
 say $foo.perl;   # OUTPUT: «${:foo(&quot;bar&quot;)}␤» 
 say $foo;        # OUTPUT: «{foo =&gt; bar}␤» 
 
 # non-standard routine available in rakudo implementation: 
 dd $foo;         # OUTPUT: «Hash $foo = ${:foo(&quot;bar&quot;)}␤» 
</pre>
 <p>There are also <a href="https://modules.perl6.org/s/dump">several ecosystem modules</a> that provide more control over how data structures are dumped, including support for colored output in.</p>
 <a name="t16.3.2"></a><h2 id="_language_faq.pod6-How_can_I_get_command_line_history_in_the_Perl_6_prompt_(REPL)?">16.3.2 How can I get command line history in the Perl 6 prompt (REPL)?</h2>
 <p>Install <a href="https://github.com/hoelzro/p6-linenoise/">Linenoise</a> from the ecosystem.</p>
 <p>An alternative for UNIX-like systems is to install <span class="code">rlwrap</span>. This can be done on Debian-ish systems by running:</p>
 <pre class="code">sudo apt-get install rlwrap 
</pre>
 <a name="t16.3.3"></a><h2 id="_language_faq.pod6-Why_is_the_Rakudo_compiler_so_apologetic?">16.3.3 Why is the Rakudo compiler so apologetic?</h2>
 <p>If SORRY! is present in the output the error is a compile time error otherwise it's runtime.</p>
 <p>Example:</p>
 <pre class="code">say 1/0;   # Attempt to divide 1 by zero using div 
</pre>
 <pre class="code">sub foo( Int $a, Int $b ) {...} 
 foo(1)     # ===SORRY!=== Error while compiling ... 
</pre>
 <a name="t16.3.4"></a><h2 id="_language_faq.pod6-What_is_(Any)?">16.3.4 What is <span class="code">(Any)</span>?</h2>
 <p><a href="#_type_Any.pod6"><span class="code">Any</span></a> is a top level class most objects inherit from. The <span class="code">Any</span> type object is <a href="#_type_Attribute.html.pod6-Trait_is_default">the default value</a> on variables and parameters without an explicit type constraint, which means you'll likely see <span class="code">(Any)</span> printed when you output a <a href="#_routine_gist.pod6">gist</a> of a variable without any value, such as using <a href="#_routine_say.pod6"><span class="code">say</span>  routine</a>:</p>
 <pre class="code">my $foo; 
 say $foo; # OUTPUT: «(Any)␤» 
 
 my Int $baz; 
 say $baz; # OUTPUT: «(Int)␤» 
 
 my $bar = 70; 
 say $bar; # OUTPUT: «70␤» 
</pre>
 <p>To test whether a variable has any defined values, see <a href="#_language_classtut.pod6-index-entry-.DEFINITE">DEFINITE</a> and <a href="#_routine_defined.pod6">defined</a> routines. Several other constructs exist that test for definiteness, such as <a href="#_syntax_with%20orwith%20without.pod6"><span class="code">with</span> ,  <span class="code">orwith</span> , and  <span class="code">without</span></a> statements, <a href="#_routine_$SOLIDUS$SOLIDUS.pod6"><span class="code">//</span></a>, <a href="#_routine_andthen.pod6">andthen</a>, <a href="#_routine_notandthen.pod6">notandthen</a>, and <a href="#_routine_orelse.pod6">orelse</a> operators, as well as <a href="#_type_Signature.pod6-Constraining_Defined_and_Undefined_Values">type constraint smileys</a>.</p>
 <a name="t16.3.5"></a><h2 id="_language_faq.pod6-What_is_so?">16.3.5 What is <span class="code">so</span>?</h2>
 <p><span class="code">so</span> is a loose precedence operator that coerces to <a href="#_type_Bool.pod6">Bool</a>.</p>
 <p>It has the same semantics as the <span class="code">?</span> prefix operator, just like <span class="code">and</span> is the low-precedence version of <span class="code">&amp;&amp;</span>.</p>
 <p>Example usage:</p>
 <pre class="code">say so 1|2 == 2;    # OUTPUT: «True␤»</pre>
 <p>In this example, the result of the comparison (which is a <a href="#_type_Junction.pod6">Junction</a>), is converted to Bool before being printed.</p>
 <a name="t16.3.6"></a><h2 id="_language_faq.pod6-What_are_those_:D_and_:U_things_in_signatures?">16.3.6 What are those <span class="code">:D</span> and <span class="code">:U</span> things in signatures?</h2>
 <p>In Perl 6, classes and other types are objects and pass type checks of their own type.</p>
 <p>For example, if you declare a variable</p>
 <pre class="code">my Int $x = 42;</pre>
 <p>then not only can you assign integers (that is, instances of class Int) to it, but the <span class="code">Int</span> type object itself:</p>
 <pre class="code">$x = Int 
</pre>
 <p>If you want to exclude type objects, you can append the <span class="code">:D</span> type smiley, which stands for &quot;definite&quot;:</p>
 <pre class="code">my Int:D $x = 42; 
 $x = Int; 
 
 # dies with: 
 # Type check failed in assignment to $x; 
 # expected Int:D but got Int 
</pre>
 <p>Likewise, <span class="code">:U</span> constrains to undefined values, that is, type objects.</p>
 <p>To explicitly allow either type objects or instances, you can use <span class="code">:_</span>.</p>
 <a name="t16.3.7"></a><h2 id="_language_faq.pod6-What_is_the_--&gt;_thing_in_the_signature?">16.3.7 What is the <span class="code">--&gt;</span> thing in the signature?</h2>
 <p><a href="#_type_Signature.pod6-Constraining_Return_Types">--&gt;</a> is a return constraint, either a type or a definite value.</p>
 <p>Example of a type constraint:</p>
 <pre class="code">sub divide-to-int( Int $a, Int $b --&gt; Int ) {
        return ($a / $b).narrow;
}

divide-to-int(3, 2)
# Type check failed for return value; expected Int but got Rat</pre>
 <p>Example of a definite return value:</p>
 <pre class="code">sub discard-random-number( --&gt; 42 ) { rand }
say discard-random-number;
# OUTPUT: «42␤»</pre>
 <p>In this case, the final value is thrown away because the return value is already specified.</p>
 <p><span class="indexed"><a id="115" name="Junction (FAQ)"></a></span></p>
 <a name="t16.3.8"></a><h2 id="_language_faq.pod6-How_can_I_extract_the_values_from_a_Junction?">16.3.8 How can I extract the values from a Junction?</h2>
 <p>If you want to extract the values (eigenstates) from a <a href="#_type_Junction.pod6">Junction</a>, you are probably doing something wrong and should be using a <a href="#_type_Set.pod6">Set</a> instead.</p>
 <p>Junctions are meant as matchers, not for doing algebra with them.</p>
 <p>If you want to do it anyway, you can abuse autothreading for that:</p>
 <pre class="code">sub eigenstates(Mu $j) {
    my @states;
    -&gt; Any $s { @states.push: $s }.($j);
    @states;
}

say eigenstates(1|2|3).join(', ');
# prints 1, 2, 3 or a permutation thereof</pre>
 <a name="t16.3.9"></a><h2 id="_language_faq.pod6-If_Str_is_immutable,_how_does_s///_work?_If_Int_is_immutable,_how_does_$i++_work?">16.3.9 If Str is immutable, how does <span class="code">s///</span> work? If Int is immutable, how does <span class="code">$i++</span> work?</h2>
 <p>In Perl 6, values of many basic types are immutable, but the variables holding them are not. The <span class="code">s///</span> operator works on a variable, into which it puts a newly created string object. Likewise, <span class="code">$i++</span> works on the <span class="code">$i</span> variable, not just on the value in it.</p>
 <p>Knowing this, you would not try to change a literal string (e.g. like <span class="code">'hello' ~~ s/h/H/;</span>), but you might accidentally do something equivalent using <span class="code">map</span> as follows.</p>
 <pre class="code">my @foo = &lt;hello world&gt;.map: { s/h/H/ };

# dies with
# Cannot modify an immutable Str (hello)

my @bar = &lt;hello world&gt;».subst-mutate: 'h', 'H';

# dies with
# Cannot resolve caller subst-mutate(Str: Str, Str);
# the following candidates match the type but require
# mutable arguments: ...</pre>
 <p>Instead of modifying the original value in place, use a routine or operator that returns a new value:</p>
 <pre class="code">my @foo = &lt;hello world&gt;.map: { S/h/H/ };  # ['Hello','world']
my @bar = &lt;hello world&gt;».subst: 'h', 'H'; # ['Hello','world']</pre>
 <p>See the documentation on <a href="#_language_containers.pod6">containers</a> for more information.</p>
 <a name="t16.3.10"></a><h2 id="_language_faq.pod6-What's_up_with_array_references_and_automatic_dereferencing?_Do_I_need_the_@_sigil?">16.3.10 What's up with array references and automatic dereferencing? Do I need the <span class="code">@</span> sigil?</h2>
 <p>In Perl 6, nearly everything is a reference, so talking about taking references doesn't make much sense. Scalar variables can also contain arrays directly:</p>
 <pre class="code">my @a = 1, 2, 3;
say @a;                 # OUTPUT: «[1 2 3]␤»
say @a.^name;           # OUTPUT: «Array␤»

my $scalar = @a;
say $scalar;            # OUTPUT: «[1 2 3]␤»
say $scalar.^name;      # OUTPUT: «Array␤»</pre>
 <p>The big difference is that arrays inside a scalar act as one value in list context, whereas arrays will be happily iterated over.</p>
 <pre class="code">my @a = 1, 2, 3;
my $s = @a;

for @a { ... }          # loop body executed 3 times
for $s { ... }          # loop body executed only once

my @flat = flat @a, @a;
say @flat.elems;            # OUTPUT: «6␤»

my @nested = flat $s, $s;
say @nested.elems;          # OUTPUT: «2␤»</pre>
 <p>You can force list context with <span class="code">@( ... )</span> or by calling the <span class="code">.list</span> method on an expression, and item context with <span class="code">$( ... )</span> or by calling the <span class="code">.item</span> method on an expression.</p>
 <p><span class="indexed"><a id="116" name="Sigils (FAQ)"></a></span></p>
 <a name="t16.3.11"></a><h2 id="_language_faq.pod6-Why_sigils?_Couldn't_you_do_without_them?">16.3.11 Why sigils? Couldn't you do without them?</h2>
 <p>There are several reasons:</p>
 <ul><li><p>they make it easy to interpolate variables into strings</p>
</li></ul> <ul><li><p>they form micro-namespaces for different variables and twigils, thus avoiding name clashes</p>
</li></ul> <ul><li><p>they allow easy single/plural distinction</p>
</li></ul> <ul><li><p>they work like natural languages that use mandatory noun markers, so our brains are built to handle it</p>
</li></ul> <ul><li><p>they aren't mandatory, since you can declare sigilless names (if you don't mind the ambiguity)</p>
</li></ul> <a name="t16.3.12"></a><h2 id="_language_faq.pod6-&quot;Type_Str_does_not_support_associative_indexing.&quot;">16.3.12 &quot;Type Str does not support associative indexing.&quot;</h2>
 <p>You likely tried to mix string interpolation and key characters, like HTML tags:</p>
 <pre class="code">my $foo = &quot;abc&quot;;
say &quot;$foo&lt;html-tag&gt;&quot;;</pre>
 <p>Perl 6 thinks <span class="code">$foo</span> to be a Hash and <span class="code">&lt;html-tag&gt;</span> to be a string literal hash key. Use a closure to help it to understand you.</p>
 <pre class="code">my $foo = &quot;abc&quot;;
say &quot;{$foo}&lt;html-tag&gt;&quot;;</pre>
 <p><span class="indexed"><a id="117" name="Coroutine (FAQ)"></a></span></p>
 <a name="t16.3.13"></a><h2 id="_language_faq.pod6-Does_Perl_6_have_coroutines?_What_about_yield?">16.3.13 Does Perl 6 have coroutines? What about <span class="code">yield</span>?</h2>
 <p>Perl 6 has no <span class="code">yield</span> statement like Python does, but it does offer similar functionality through lazy lists. There are two popular ways to write routines that return lazy lists:</p>
 <pre class="code"># first method, gather/take 
 my @values = gather while have_data() { 
     # do some computations 
     take some_data(); 
     # do more computations 
 } 
 
 # second method, use .map or similar method 
 # on a lazy list 
 my @squares = (1..*).map(-&gt; \x { x² }); 
</pre>
 <a name="t16.3.14"></a><h2 id="_language_faq.pod6-Why_can't_I_initialize_private_attributes_from_the_new_method,_and_how_can_I_fix_this?">16.3.14 Why can't I initialize private attributes from the new method, and how can I fix this?</h2>
 <p>Code like</p>
 <pre class="code">class A {
    has $!x;
    method show-x {
        say $!x;
    }
}
A.new(x =&gt; 5).show-x;</pre>
 <p>does not print 5. Private attributes are <i>private</i>, which means invisible to the outside. If the default constructor could initialize them, they would leak into the public API.</p>
 <p>If you still want it to work, you can add a <span class="code">submethod BUILD</span> that initializes them:</p>
 <pre class="code">class B {
    has $!x;
    submethod BUILD(:$!x) { }
    method show-x {
        say $!x;
    }
}
B.new(x =&gt; 5).show-x;</pre>
 <p><span class="code">BUILD</span> is called by the default constructor (indirectly, see <a href="#_language_objects.pod6-Object_Construction">Object Construction</a> for more details) with all the named arguments that the user passes to the constructor. <span class="code">:$!x</span> is a named parameter with name <span class="code">x</span>, and when called with a named argument of name <span class="code">x</span>, its value is bound to the attribute <span class="code">$!x</span>.</p>
 <p>But don't do that. If the name is public, there is no downside to declaring it that way with <span class="code">$.x</span> since the external view is readonly by default, and you can still access it internally with <span class="code">$!x</span>.</p>
 <a name="t16.3.15"></a><h2 id="_language_faq.pod6-How_and_why_do_say,_put_and_print_differ?">16.3.15 How and why do <span class="code">say</span>, <span class="code">put</span> and <span class="code">print</span> differ?</h2>
 <p>The most obvious difference is that <span class="code">say</span> and <span class="code">put</span> append a newline at the end of the output, and <span class="code">print</span> does not.</p>
 <p>But there's another difference: <span class="code">print</span> and <span class="code">put</span> converts its arguments to a string by calling the <span class="code">Str</span> method on each item passed to, <span class="code">say</span> uses the <span class="code">gist</span> method instead. The <span class="code">gist</span> method, which you can also create for your own classes, is intended to create a <span class="code">Str</span> for human interpretation. So it is free to leave out information about the object deemed unimportant to understand the essence of the object.</p>
 <p>Or phrased differently, <span class="code">$obj.Str</span> gives a string representation, <span class="code">$obj.gist</span> a short summary of that object suitable for fast recognition by a human, and <span class="code">$obj.perl</span> gives a Perlish representation from which the object could be re-created.</p>
 <p>Example: type objects, also known as &quot;undefined values&quot;, stringify to an empty string and warn, whereas the <span class="code">gist</span> method returns the name of the type between parentheses (to indicate there's nothing in that value except the type).</p>
 <pre class="code">my Date $x;     # $x now contains the Date type object
print $x;       # empty string plus warning
say $x;         # OUTPUT: «(Date)␤»</pre>
 <p>If you like to show a debugging version of an object, it is probably better to use the <a href="#_programs_01-debugging.pod6-Dumper_function_dd">rakudo-specific  <span class="code">dd</span>  routine</a>. It essentially does a <span class="code">$obj.perl</span> and shows that on STDERR rather than STDOUT, so it won't interfere with any &quot;normal&quot; output of your program.</p>
 <p>So, <span class="code">say</span> is optimized for casual human interpretation, <span class="code">dd</span> is optimized for casual debugging output and <span class="code">print</span> and <span class="code">put</span> are more generally suitable for producing output.</p>
 <p><span class="code">put</span> is thus a hybrid of <span class="code">print</span> and <span class="code">say</span>; like <span class="code">print</span>, it calls the <span class="code">Str</span> method on the object. And like <span class="code">say</span>, it adds a newline at the end of the output.</p>
 <a name="t16.3.16"></a><h2 id="_language_faq.pod6-What's_the_difference_between_token_and_rule_?">16.3.16 What's the difference between <span class="code">token</span> and <span class="code">rule</span> ?</h2>
 <p><span class="code">regex</span>, <span class="code">token</span> and <span class="code">rule</span> introduce regexes, but with slightly different semantics.</p>
 <p><span class="code">token</span> implies the <span class="code">:ratchet</span> or <span class="code">:r</span> modifier, which prevents the rule from backtracking.</p>
 <p><span class="code">rule</span> implies both the <span class="code">:ratchet</span> and <span class="code">:sigspace</span> (short <span class="code">:s</span>) modifier, which means a rule doesn't backtrace, and it treats whitespace in the text of the regex as <span class="code">&lt;.ws&gt;</span> calls (i.e., matches whitespace, which is optional except between two word characters). Whitespace at the start of the regex and at the start of each branch of an alternation is ignored.</p>
 <p><span class="code">regex</span> declares a plain regex without any implied modifiers.</p>
 <a name="t16.3.17"></a><h2 id="_language_faq.pod6-What's_the_difference_between_die_and_fail?">16.3.17 What's the difference between <span class="code">die</span> and <span class="code">fail</span>?</h2>
 <p><span class="code">die</span> throws an exception.</p>
 <p><span class="code">fail</span> returns a <span class="code">Failure</span> object. (If the caller has declared <span class="code">use fatal;</span> in the calling lexical scope, <span class="code">fail</span> throws an exception instead of returning.)</p>
 <p>A <span class="code">Failure</span> is an &quot;unthrown&quot; or &quot;lazy&quot; exception. It's an object that contains the exception, and throws the exception if you try to use the <span class="code">Failure</span> as an ordinary object, or ignore it in sink context.</p>
 <p>A <span class="code">Failure</span> returns <span class="code">False</span> from a <span class="code">defined</span> check, and you can extract the exception with the <span class="code">exception</span> method.</p>
 <a name="t16.3.18"></a><h2 id="_language_faq.pod6-Why_is_wantarray_or_want_gone?_Can_I_return_different_things_in_different_contexts?">16.3.18 Why is <span class="code">wantarray</span> or <span class="code">want</span> gone? Can I return different things in different contexts?</h2>
 <p>Perl 5 has the <a href="#_language_5to6-perlfunc.pod6-wantarray"><span class="code">wantarray</span></a> function that tells you whether it's called in void, scalar or list context. Perl 6 has no equivalent construct because context does not flow inwards; i.e., a routine would need time travel to know which context it's called in because context is lazy (known only when the results are used later).</p>
 <p>For example, Perl 6 has multiple dispatch. So, in a code example like</p>
 <pre class="code">multi w(Int $x) { say 'Int' } 
 multi w(Str $x) { say 'Str' } 
 w(f()); 
</pre>
 <p>there's no way to determine if the caller of sub <span class="code">f</span> wants a string or an integer, because it's not yet known what the caller is. In general this requires solving the halting problem, which even Perl 6 compiler writers have trouble with.</p>
 <p>One way to achieve context sensitivity in Perl 6 is to return an object that knows how to respond to method calls that are typical for a context. In Perl 6, this is actually a <a href="#_language_5to6-perlfunc.pod6-wantarray">lot easier</a> than it may sound, and other features of the language either mitigate the need to do so in the first place or make it possible to cover most of the use cases of wantarray.</p>
 <p>For example, regex matches return <a href="#_type_Match.pod6">Match objects that know how to respond to list indexing, hash indexing, and that can turn into the matched string</a>.</p>
 <a name="t16.3.19"></a><h2 id="_language_faq.pod6-What's_the_difference_between_Pointer_and_OpaquePointer?">16.3.19 What's the difference between <span class="code">Pointer</span> and <span class="code">OpaquePointer</span>?</h2>
 <p><span class="code">OpaquePointer</span> is deprecated and has been replaced with <span class="code">Pointer</span>.</p>
 <a name="t16.3.20"></a><h2 id="_language_faq.pod6-You_can_have_colonpairs_in_identifiers._What's_the_justification?">16.3.20 You can have colonpairs in identifiers. What's the justification?</h2>
 <p><a href="https://docs.perl6.org/language/syntax#Identifiers">Identifiers can include colon pairs, which become part of their name</a>. According to <a href="https://github.com/perl6/doc/issues/1753#issuecomment-362875676">Larry Wall's answer to the issue</a>, <i>We already had the colon pair mechanism available, so it was a no-brainer to use that to extend any name that needs to be able to quote uniquefying but non-standard characters (or other information with a unique stringification to such characters)</i>.</p>
 <p><span class="indexed"><a id="118" name="Perl 6 Implementation (FAQ)"></a></span></p>
 <a name="t16.4"></a><h1 id="_language_faq.pod6-Perl_6_Implementation">16.4 Perl 6 Implementation</h1>
 <a name="t16.4.1"></a><h2 id="_language_faq.pod6-What_Perl_6_Implementations_are_available?">16.4.1 What Perl 6 Implementations are available?</h2>
 <p>Currently the best developed is Rakudo (using multiple Virtual Machine backends). Historic implementations include Niecza (.NET) and Pugs (Haskell). Others are listed at <a href="https://www.perl6.org/compilers/">Perl 6 Compilers</a></p>
 <a name="t16.4.2"></a><h2 id="_language_faq.pod6-What_language_is_Rakudo_written_in?">16.4.2 What language is Rakudo written in?</h2>
 <p>A short answer is that Rakudo is written almost entirely in Perl 6. A more detailed answer is that Rakudo is written in a mixture of Perl 6 and NQP (&quot;Not Quite Perl&quot;). NQP is a lightweight Perl 6-like environment for virtual machines; it's designed to be a high-level way to create compilers and libraries for virtual machines (such as MoarVM and JVM) using Perl 6 syntax.</p>
 <p><span class="indexed"><a id="119" name="NQP (FAQ)"></a></span></p>
 <a name="t16.4.3"></a><h2 id="_language_faq.pod6-What_language_is_NQP_written_in?">16.4.3 What language is NQP written in?</h2>
 <p>NQP is a mixture of (1) NQP code, (2) whatever language the underlying virtual machine is using, (3) some third-party C and Java libraries, and (4) some bootstrapping files created by earlier runs of the build process.</p>
 <a name="t16.4.4"></a><h2 id="_language_faq.pod6-Is_Perl_6_Lisp?">16.4.4 Is Perl 6 Lisp?</h2>
 <pre class="code">(not (not Nil))</pre>
 <p><span class="indexed"><a id="120" name="Perl 6 Distribution (FAQ)"></a></span></p>
 <a name="t16.5"></a><h1 id="_language_faq.pod6-Perl_6_Distribution">16.5 Perl 6 Distribution</h1>
 <p><span class="indexed"><a id="121" name="Rakudo Star release cycle (FAQ)"></a></span></p>
 <a name="t16.5.1"></a><h2 id="_language_faq.pod6-When_will_the_next_version_of_Rakudo_Star_be_released?">16.5.1 When will the next version of Rakudo Star be released?</h2>
 <p>A Rakudo Star release is produced usually quarterly. See <a href="http://rakudo.org/about/">rakudo.org About</a> for more information.</p>
 <a name="t16.6"></a><h1 id="_language_faq.pod6-Meta_Questions_and_Advocacy">16.6 Meta Questions and Advocacy</h1>
 <a name="t16.6.1"></a><h2 id="_language_faq.pod6-Why_is_Perl_6_called_Perl?">16.6.1 Why is Perl 6 called Perl?</h2>
 <p>… As opposed to some other name that didn't imply all the things that the higher number might indicate on other languages.</p>
 <p>The short answer is that it was Larry's choice under <a href="http://perldoc.perl.org/5.12.4/perlhack.html#DESCRIPTION">Rule 1</a>.</p>
 <p>The community considers Perl 5 and Perl 6 sister languages - they have a lot in common, address many of the same problem spaces, but Perl 6 is not intended to replace Perl 5. In fact, both languages interoperate with each other.</p>
 <a name="t16.6.2"></a><h2 id="_language_faq.pod6-When_will_Perl_6_be_ready?_Is_it_ready_now?">16.6.2 When will Perl 6 be ready? Is it ready now?</h2>
 <p>Readiness of programming languages and their compilers is not a binary decision. As the language and the implementations evolve, they grow steadily more usable. Depending on your needs, Perl 6 and its compilers may or may not be ready for you.</p>
 <p>That said, version 6.c (Christmas 2015) is the first official release of Perl 6 as a language, along with a validation suite and a compiler that passes it.</p>
 <a name="t16.6.3"></a><h2 id="_language_faq.pod6-Why_should_I_learn_Perl_6?_What's_so_great_about_it?">16.6.3 Why should I learn Perl 6? What's so great about it?</h2>
 <p>Perl 6 unifies many great ideas that aren't usually found in other programming languages. While several other languages offer some of these features, none of them offer all.</p>
 <ul><li><p>Perl 6 offers procedural, object-oriented AND functional programming methodologies.</p>
</li></ul> <ul><li><p>Easy to use consistent syntax, using invariable sigils for data-structures.</p>
</li></ul> <ul><li><p>Full grapheme based Unicode support, including Annex #29.</p>
</li></ul> <ul><li><p>Clean, more readable regular expressions; taken to the next level of usability, with a lot more functionality. Named regular expressions improve ease of use.</p>
</li></ul> <ul><li><p>Junctions allowing easy checking of multiple possibilities; e.g., $a == 1|3|42 ( is $a equal to 1 or 3 or 42).</p>
</li></ul> <ul><li><p>Dynamic variables provide a lexically scoped alternative to global variables.</p>
</li></ul> <ul><li><p>Emphasis on composability and lexical scoping to prevent “action at a distance”; e.g., imports are always lexically scoped.</p>
</li></ul> <ul><li><p>Easy to understand consistent scoping rules and closures.</p>
</li></ul> <ul><li><p>Powerful object orientation, with classes and roles (everything can be seen as an object). Inheritance. Subtyping. Code-reuse.</p>
</li></ul> <ul><li><p>Introspection into objects and meta-objects (turtles all the way down).</p>
</li></ul> <ul><li><p>Meta Object Protocol allowing for meta-programming without needing to generate / parse code.</p>
</li></ul> <ul><li><p>Subroutine and method signatures for easy unpacking of positional and named parameters.</p>
</li></ul> <ul><li><p>Multi dispatch for identically named subroutines/methods with different signatures, based on arity, types and optional additional code.</p>
</li></ul> <ul><li><p>Compile time error reporting on unknown subroutines / impossible dispatch.</p>
</li></ul> <ul><li><p>Optional gradual type-checking at no additional runtime cost. With optional type annotations.</p>
</li></ul> <ul><li><p>Advanced error reporting based on introspection of the compiler/runtime state. This means more useful, more precise error messages.</p>
</li></ul> <ul><li><p>Phasers (like BEGIN / END) allow code to be executed at scope entry / exit, loop first / last / next and many more special contexts.</p>
</li></ul> <ul><li><p>High level concurrency model, both for implicit as well as explicit multi-processing, which goes way beyond primitive threads and locks. Perl 6's concurrency offers a rich set of (composable) tools.</p>
</li></ul> <ul><li><p>Multiple-core computers are getting used more and more, and with Perl 6 these can be used thanks to parallelism, both implicit (e.g., with the &gt;&gt;. method) and explicit ( start { code } ). This is important, because Moore's Law is ending.</p>
</li></ul> <ul><li><p>Structured language support is provided to enable programming for asynchronous execution of code.</p>
</li></ul> <ul><li><p>Supplies allow code to be executed when something happens (like a timer, or a signal, or a file-system event).</p>
</li></ul> <ul><li><p>react / whenever / supply keywords allows easy construction of interactive, event driven applications.</p>
</li></ul> <ul><li><p>Lazy evaluation when possible, eager evaluation when wanted or necessary. This means, for example, lazy lists, and even infinite lazy lists, like the Fibonacci sequence, or all prime numbers.</p>
</li></ul> <ul><li><p>Native data types for faster, closer to the metal, processing.</p>
</li></ul> <ul><li><p>Interfacing to external libraries in C / C++ are trivially simple with NativeCall.</p>
</li></ul> <ul><li><p>Interfacing with Perl 5 (CPAN) / Python modules trivially simple with Inline::Perl5 and Inline::Python.</p>
</li></ul> <ul><li><p>Can have multiple versions of a module installed and loaded simultaneously.</p>
</li></ul> <ul><li><p>System administration simplified due to simpler update/upgrade policies.</p>
</li></ul> <ul><li><p>Simple numeric computation without precision loss because of Rats (rational numbers).</p>
</li></ul> <ul><li><p>Extensible grammars for parsing data or code (which Perl 6 uses to parse itself).</p>
</li></ul> <ul><li><p>Perl 6 is a very mutable language (define your own functions, operators, traits and data-types, which modify the parser for you).</p>
</li></ul> <ul><li><p>Large selection of data-types, plus the possibility to create your own types.</p>
</li></ul> <ul><li><p>Multi-dimensional shaped and/or native arrays with proper bounds checking.</p>
</li></ul> <ul><li><p>Execute code at any time during parsing of a grammar, or when a certain match occurred.</p>
</li></ul> <ul><li><p>Adding a custom operator or adding a trait is as simple as writing a subroutine.</p>
</li></ul> <ul><li><p>Automatic generation of hyper-operators on any operator (system or custom added).</p>
</li></ul> <ul><li><p>Runs on a variety of back-ends. Currently MoarVM &amp; JVM, JavaScript in development, more may follow.</p>
</li></ul> <ul><li><p>Runtime optimization of hot code paths during execution (JIT).</p>
</li></ul> <ul><li><p>Runs on small (e.g., Raspberry Pi) and large multi-processor hardware.</p>
</li></ul> <ul><li><p>Garbage collection based: no timely destruction, so no ref-counting necessary. Use phasers for timely actions.</p>
</li></ul> <ul><li><p>Methods can be mixed into any instantiated object at runtime; e.g., to allow adding out-of-band data.</p>
</li></ul> <ul><li><p>Easy command-line interface accessible by MAIN subroutine with multiple dispatch and automated usage message generation.</p>
</li></ul> <ul><li><p>Fewer lines of code allow for more compact program creation. Huffman-coding of names allows for better readability.</p>
</li></ul> <ul><li><p>Lazy lists defined with a simple iterator interface, which any class can supply by minimally supplying a single method.</p>
</li></ul> <ul><li><p>Perl 6's mottos remain the same as they have been for Perl all along: “Perl is different. In a nutshell, Perl is designed to make the easy jobs easy, without making the hard jobs impossible.” and “There Is More Than One Way To Do It”. Now with even more -Ofun added.</p>
</li></ul> <p>Please see the <a href="https://perl6.org/compilers/features">feature comparison matrix</a> for an overview of implemented features.</p>
 <a name="t16.6.4"></a><h2 id="_language_faq.pod6-Is_Perl_6_fast_enough_for_me?">16.6.4 Is Perl 6 fast enough for me?</h2>
 <p>That depends on what you are doing. Rakudo has been developed with the philosophy of &quot;make it work right then make it work fast&quot;. It's fast for some things already but needs work for others. Since Perl 6 provides lots of clues to the JIT that other dynamic languages don't, we think we'll have a lot of headroom for performance improvements.</p>
 <p>The following crude benchmarks, with all the usual caveats about such things, show that Perl 6 can be faster than Perl 5 for similar tasks if the big weaponry is included; at the same time, Perl 5 can be faster if only the bare bones are included. Similar situation can be observed when comparing Perl 6 to other languages.</p>
 <p>Try it on your system. You may be pleasantly surprised!</p>
 <p>Examples:</p>
 <pre class="code"># Perl 6 version 
 use v6.c; 
 
 class Foo { has $.i is rw }; 
 
 for 1..1_000_000 -&gt; $i { 
     my $obj = Foo.new; 
     $obj.i = $i; 
 } 
</pre>
 <pre class="code"># Perl 5 version 
 package Foo; 
 use Moose; 
 
 has i =&gt; (is =&gt; 'rw'); 
 
 __PACKAGE__-&gt;meta-&gt;make_immutable; 
 
 for my $i (1..1_000_000) { 
     my $obj = Foo-&gt;new; 
     $obj-&gt;i($i); 
 } 
 
 1; 
 
 # Another Perl 5 version that offers bare-bones set of features 
 # compared to Moose/Perl 6's version but those are not needed in this 
 # specific, simple program anyway. 
 package Foo; 
 use Mojo::Base -base; 
 
 has 'i'; 
 
 for my $i (1..1_000_000) { 
     my $obj = Foo-&gt;new; 
     $obj-&gt;i($i); 
 } 
 
 1; 
</pre>
 <pre class="code"># A perl program which works under both perl5 (with perl -Mbigint) 
 # and perl6 
 
 my ($prev, $current) = (1, 0); 
 
 for (0..100_000) { 
     ($prev, $current) = ($current, $prev + $current); 
 } 
 print $current; 
</pre>
</div>
<!-- /language/functions.pod6 --><div class="pod-body"><a id="_language_functions.pod6"></a><a name="t17"><h1 class="title">17 Functions</h1></a> <p class="subtitle">Functions and Functional Programming in Perl 6</p> <p>Routines are the smallest means of code reuse in Perl 6. They come in several forms, most notably <a href="#_type_Method.pod6">methods</a>, which belong in classes and roles and are associated with an object; and functions (also called <i>subroutines</i> or <a href="#_type_Sub.pod6">sub</a>s, for short), which can be called independently of objects.</p>
 <p>Subroutines default to lexical (<span class="code">my</span>) scoping, and calls to them are generally resolved at compile time.</p>
 <p>Subroutines can have a <a href="#_type_Signature.pod6">signature</a>, also called <i>parameter list</i>, which specifies which, if any, arguments the signature expects. It can specify (or leave open) both the number and types of arguments, and the return value.</p>
 <p>Introspection on subroutines is provided via <a href="#_type_Routine.pod6"><span class="code">Routine</span></a>.</p>
 <a name="t17.1"></a><h1 id="_language_functions.pod6-Defining/Creating/Using_Functions">17.1 Defining/Creating/Using Functions</h1>
 <a name="t17.1.1"></a><h2 id="_language_functions.pod6-Subroutines">17.1.1 <a name="122"></a>Subroutines</h2>
 <p>To basic way to create a subroutine is to use the <span class="code">sub</span> declarator followed by an optional <a href="#_language_syntax.pod6-Identifiers">identifier</a>:</p>
 <pre class="code">sub my-func { say &quot;Look ma, no args!&quot; }
my-func;</pre>
 <p>The sub declarator returns a value of type <a href="#_type_Sub.pod6">Sub</a> that can be stored in any container:</p>
 <pre class="code">my &amp;c = sub { say &quot;Look ma, no name!&quot; }
c;     # OUTPUT: «Look ma, no name!␤»

my Any:D $f = sub { say 'Still nameless...' }
$f();  # OUTPUT: «Still nameless...␤»

my Code \a = sub { say ‚raw containers don't implement postcircumfix:&lt;( )&gt;‘ };
a.();  # OUTPUT: «raw containers don't implement postcircumfix:&lt;( )&gt;␤»</pre>
 <p>The declarator <span class="code">sub</span> will declare a new name in the current scope at compile time. As such any indirection has to be resolved at compile time:</p>
 <pre class="code">constant aname = 'foo';
sub ::(aname) { say 'oi‽' };
foo;</pre>
 <p>This will become more useful once macros are added to Perl 6.</p>
 <p>To have the subroutine take arguments, a <a href="#_type_Signature.pod6">signature</a> goes between the subroutine's name and its body, in parentheses:</p>
 <pre class="code">sub exclaim  <b>($phrase)</b>  { 
     say $phrase  <a href="~">~</a>  &quot;!!!!&quot; 
 } 
 exclaim &quot;Howdy, World&quot;; 
</pre>
 <p>By default, subroutines are <a href="#_syntax_my.pod6">lexically scoped</a>. That is, <span class="code">sub foo {...}</span> is the same as <span class="code">my sub foo {...}</span> and is only defined within the current scope.</p>
 <pre class="code">sub escape($str) { 
     # Puts a slash before non-alphanumeric characters 
     S:g[&lt;-alpha -digit&gt;] = &quot;\\$/&quot; given $str 
 } 
 
 say escape 'foo#bar?'; # OUTPUT: «foo\#bar\?␤» 
 
 { 
     sub escape($str) { 
         # Writes each non-alphanumeric character in its hexadecimal escape 
         S:g[&lt;-alpha -digit&gt;] = &quot;\\x[{ $/.ord.base(16) }]&quot; given $str 
     } 
 
     say escape 'foo#bar?' # OUTPUT: «foo\x[23]bar\x[3F]␤» 
 } 
 
 # Back to original escape function 
 say escape 'foo#bar?'; # OUTPUT: «foo\#bar\?␤» 
</pre>
 <p>Subroutines don't have to be named. If unnamed, they're called anonymous subroutines.</p>
 <pre class="code">say sub ($a, $b) { $a ** 2 + $b ** 2 }(3, 4) # OUTPUT: «25␤»</pre>
 <p>But in this case, it's often desirable to use the more succinct <a href="#_type_Block.pod6">block</a> syntax. Subroutines and blocks can be called in place, as in the example above.</p>
 <a name="t17.1.2"></a><h2 id="_language_functions.pod6-Blocks_and_Lambdas">17.1.2 <a name="123"></a>Blocks and Lambdas</h2>
 <p>Whenever you see something like <span class="code">{ $_ + 42 }</span>, <span class="code">-&gt; $a, $b { $a ** $b }</span>, or <span class="code">{ $^text.indent($:spaces) }</span>, that's <a href="#_type_Block.pod6">Block</a> syntax. It's used after every <span class="code">if</span>, <span class="code">for</span>, <span class="code">while</span>, etc.</p>
 <pre class="code">for 1, 2, 3, 4 -&gt; $a, $b {
    say $a ~ $b;
}
# OUTPUT: «12␤34␤»</pre>
 <p>They can also be used on their own as anonymous blocks of code.</p>
 <pre class="code">say { $^a ** 2 + $^b ** 2}(3, 4) # OUTPUT: «25␤»</pre>
 <p>For block syntax details, see the documentation for the <a href="#_type_Block.pod6">Block</a> type.</p>
 <a name="t17.1.3"></a><h2 id="_language_functions.pod6-Signatures">17.1.3 Signatures</h2>
 <p>The parameters that a function accepts are described in its <i>signature</i>.</p>
 <pre class="code">sub format <b>(Str $s)</b>  { ... } 
 -&gt;  <b>$a, $b</b>  { ... } 
</pre>
 <p>Details about the syntax and use of signatures can be found in the <a href="#_type_Signature.pod6">documentation on the  <span class="code">Signature</span>  class</a>.</p>
 <a name="t17.1.3.1"></a><h3 id="_language_functions.pod6-Automatic_Signatures">17.1.3.1 Automatic Signatures</h3>
 <p><span class="indexed"><a id="124" name="@_"></a></span><span class="indexed"><a id="125" name="%_"></a></span> If no signature is provided but either of the two automatic variables <span class="code">@_</span> or <span class="code">%_</span> are used in the function body, a signature with <span class="code">*@_</span> or <span class="code">*%_</span> will be generated. Both automatic variables can be used at the same time.</p>
 <pre class="code">sub s { say @_, %_ };
say &amp;s.signature # OUTPUT: «(*@_, *%_)␤»</pre>
 <a name="t17.1.4"></a><h2 id="_language_functions.pod6-Arguments">17.1.4 Arguments <a name="126"></a></h2>
 <p>Arguments are supplied as a comma separated list. To disambiguate nested calls, use parentheses:</p>
 <pre class="code">sub f(&amp;c){ c() * 2 }; # call the function reference c with empty parameter list
sub g($p){ $p - 2 };
say(g(42), 45);       # pass only 42 to g()</pre>
 <p>When calling a function, positional arguments should be supplied in the same order as the function's signature. Named arguments may be supplied in any order, but it's considered good form to place named arguments after positional arguments. Inside the argument list of a function call, some special syntax is supported:</p>
 <pre class="code">sub f(|c){};
f :named(35);     # A named argument (in &quot;adverb&quot; form)
f named =&gt; 35;    # Also a named argument
f :35named;       # A named argument using abbreviated adverb form
f 'named' =&gt; 35;  # Not a named argument, a Pair in a positional argument
my \c = &lt;a b c&gt;.Capture;
f |c;             # Merge the contents of Capture $c as if they were supplied</pre>
 <p>Arguments passed to a function are conceptually first collected in a <span class="code">Capture</span> container. Details about the syntax and use of these containers can be found in the <a href="#_type_Capture.pod6">documentation on the  <span class="code">Capture</span>  class</a>.</p>
 <p>When using named arguments, note that normal List &quot;pair-chaining&quot; allows one to skip commas between named arguments.</p>
 <pre class="code">sub f(|c){};
f :dest&lt;/tmp/foo&gt; :src&lt;/tmp/bar&gt; :lines(512);
f :32x :50y :110z;   # This flavor of &quot;adverb&quot; works, too
f :a:b:c;            # The spaces are also optional.</pre>
 <a name="t17.1.5"></a><h2 id="_language_functions.pod6-Return_values">17.1.5 Return values</h2>
 <p>Any <span class="code">Block</span> or <span class="code">Routine</span> will provide its last expression as a return value to the caller. If <a href="#_language_control.pod6-return">return</a> or <a href="#_language_control.pod6-return-rw">return-rw</a> are called their parameter, if any, will become the return value. The default return value is <a href="#_type_Nil.pod6">Nil</a>.</p>
 <pre class="code">sub a { 42 };
sub b { say a };
b;
# OUTPUT: «42␤»</pre>
 <p>Multiple return values are returned as a list or by creating a <a href="#_type_Capture.pod6">Capture</a>. Destructuring can be used to untangle multiple return values.</p>
 <pre class="code">sub a { 42, 'answer' };
put a.perl;
# OUTPUT: «(42, &quot;answer&quot;)␤»

my ($n, $s) = a;
put [$s, $n];
# OUTPUT: «answer 42␤»

sub b { &lt;a b c&gt;.Capture };
put b.perl;
# OUTPUT: «\(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)␤»</pre>
 <a name="t17.1.6"></a><h2 id="_language_functions.pod6-Return_Type_Constraints">17.1.6 Return Type Constraints</h2>
 <p>Perl 6 has many ways to specify a function's return type:</p>
 <pre class="code">sub foo(--&gt; Int)      {}; say &amp;foo.returns; # OUTPUT: «(Int)␤» 
</pre>
 <pre class="code">sub foo() returns Int {}; say &amp;foo.returns; # OUTPUT: «(Int)␤» 
</pre>
 <pre class="code">sub foo() of Int      {}; say &amp;foo.returns; # OUTPUT: «(Int)␤» 
</pre>
 <pre class="code">my Int sub foo()      {}; say &amp;foo.returns; # OUTPUT: «(Int)␤» 
</pre>
 <p>Attempting to return values of another type will cause a compilation error.</p>
 <pre class="code">sub foo() returns Int { &quot;a&quot;; }; foo; # Type check fails 
</pre>
 <p>Note that <span class="code">Nil</span> and <span class="code">Failure</span> are exempt from return type constraints and can be returned from any routine, regardless of its constraint:</p>
 <pre class="code">sub foo() returns Int { fail   }; foo; # Failure returned 
 sub bar() returns Int { return }; bar; # Nil returned 
</pre>
 <a name="t17.1.7"></a><h2 id="_language_functions.pod6-Multi-dispatch">17.1.7 <a name="127"></a>Multi-dispatch</h2>
 <p>Perl 6 allows you to write several routines with the same name but different signatures. When the routine is called by name, the runtime environment determines the proper <i>candidate</i> and calls it.</p>
 <p>You declare each candidate with the <span class="code">multi</span> declarator:</p>
 <pre class="code">multi congratulate($name) {
    say &quot;Happy birthday, $name&quot;;
}
multi congratulate($name, $age) {
    say &quot;Happy {$age}th birthday, $name&quot;;
}

congratulate 'Larry';       # OUTPUT: «Happy birthday, Larry␤»
congratulate 'Bob', 45;     # OUTPUT: «Happy 45th birthday, Bob␤»</pre>
 <p>Dispatch can happen on the number of arguments (the <a href="#_type_Routine.pod6-(Code)_method_arity">arity</a>), the type of arguments but also on additional assertions which can be placed on them. For more information about type constraints see the documentation for the <a href="#_type_Signature.pod6-Type_Constraints">Signature</a> class.</p>
 <pre class="code">multi as-json(Bool $d) { $d ?? 'true' !! 'false'; }
multi as-json(Real $d) { ~$d }
multi as-json(@d)      { sprintf '[%s]', @d.map(&amp;as-json).join(', ') }

say as-json([True, 42]);    # OUTPUT: «[true, 42]␤»</pre>
 <p>Named parameters participate in the dispatch even if they are not provided in the call. Therefore a multi candidate with named parameters will be given precedence.</p>
 <p><span class="code">multi</span> without any specific routine type always defaults to a <span class="code">sub</span>, but you can use it on methods as well. The candidates are all the multi methods of the object:</p>
 <pre class="code">class Congrats {
    multi method congratulate($reason, $name) {
        say &quot;Hooray for your $reason, $name&quot;;
    }
}

role BirthdayCongrats {
    multi method congratulate('birthday', $name) {
        say &quot;Happy birthday, $name&quot;;
    }
    multi method congratulate('birthday', $name, $age) {
        say &quot;Happy {$age}th birthday, $name&quot;;
    }
}

my $congrats = Congrats.new does BirthdayCongrats;

$congrats.congratulate('promotion','Cindy'); # OUTPUT: «Hooray for your promotion, Cindy␤»
$congrats.congratulate('birthday','Bob');    # OUTPUT: «Happy birthday, Bob␤»</pre>
 <p>Unlike <span class="code">sub</span>, if you use named parameters with multi methods, the parameters must be required parameters to behave as expected.</p>
 <p>Please note that a non-multi sub or operator will hide multi candidates of the same name in any parent scope or child scope. The same is true for imported non-multi candidates.</p>
 <a name="t17.1.7.1"></a><h3 id="_language_functions.pod6-proto">17.1.7.1 <a name="128"></a>proto</h3>
 <p><span class="code">proto</span> is a way to formally declare commonalities between <span class="code">multi</span> candidates. It acts as a wrapper that can validate but not modify arguments. Consider this basic example:</p>
 <pre class="code">proto congratulate(Str $reason, Str $name, |) {*}
multi congratulate($reason, $name) {
   say &quot;Hooray for your $reason, $name&quot;;
}
multi congratulate($reason, $name, Int $rank) {
   say &quot;Hooray for your $reason, $name -- got rank $rank!&quot;;
}

congratulate('being a cool number', 'Fred');     # OK
congratulate('being a cool number', 'Fred', 42); # OK</pre>
 <pre class="code">    congratulate('being a cool number', 42);         # Proto match error 
</pre>
 <p>The proto insists that all <span class="code">multi congratulate</span> conform to the basic signature of two strings, optionally followed by further parameters. The <span class="code">|</span> is an un-named <span class="code">Capture</span> parameter, and allows a <span class="code">multi</span> to take additional arguments. The first two calls succeed, but the third fails (at compile time) because <span class="code">42</span> doesn't match <span class="code">Str</span>.</p>
 <pre class="code">say &amp;congratulate.signature # OUTPUT: «(Str $reason, Str $name, | is raw)␤» 
</pre>
 <p>You can give the <span class="code">proto</span> a function body, and place the <span class="code">{*}</span> where you want the dispatch to be done.</p>
 <pre class="code"># attempts to notify someone -- False if unsuccessful
proto notify(Str $user,Str $msg) {
   my \hour = DateTime.now.hour;
   if hour &gt; 8 or hour &lt; 22 {
      return {*};
   } else {
      # we can't notify someone when they might be sleeping
      return False;
   }
}</pre>
 <p><span class="code">{*}</span> always dispatches to candidates with the parameters it's called with. Parameter defaults and type coercions will work but are not passed on.</p>
 <pre class="code">proto mistake-proto(Str() $str, Int $number = 42) {*} 
 multi mistake-proto($str, $number) { say $str.^name } 
 mistake-proto(7, 42);  # OUTPUT: «Int␤» -- not passed on 
</pre>
 <pre class="code">mistake-proto('test'); # fails -- not passed on 
</pre>
 only
 <a name="t17.2"></a><h1 id="_language_functions.pod6-Conventions_and_Idioms">17.2 Conventions and Idioms</h1>
 <p>While the dispatch system described above provides a lot of flexibility, there are some conventions that most internal functions, and those in many modules, will follow.</p>
 <a name="t17.2.1"></a><h2 id="_language_functions.pod6-Slurpy_Conventions">17.2.1 Slurpy Conventions</h2>
 <p>Perhaps the most important one of these conventions is the way slurpy list arguments are handled. Most of the time, functions will not automatically flatten slurpy lists. The rare exceptions are those functions that don't have a reasonable behavior on lists of lists (e.g., <a href="#_routine_chrs.pod6">chrs</a>) or where there is a conflict with an established idiom (e.g., <a href="#_routine_pop.pod6">pop</a> being the inverse of <a href="#_routine_push.pod6">push</a>).</p>
 <p>If you wish to match this look and feel, any <a href="#_type_Iterable.pod6">Iterable</a> argument must be broken out element-by-element using a <span class="code">**@</span> slurpy, with two nuances:</p>
 <ul><li><p>An <a href="#_type_Iterable.pod6">Iterable</a> inside a <a href="#_language_containers.pod6-Scalar_containers">Scalar container</a> doesn't count.</p>
</li></ul> <ul><li><p><a href="#_type_List.pod6">List</a>s created with a <a href="#_routine_,.pod6"><span class="code">,</span></a> at the top level only count as one <a href="#_type_Iterable.pod6">Iterable</a>.</p>
</li></ul> <p>This can be achieved by using a slurpy with a <span class="code">+</span> or <span class="code">+@</span> instead of <span class="code">**</span>:</p>
 <pre class="code">sub grab(+@a) { &quot;grab $_&quot;.say for @a }</pre>
 <p>which is shorthand for something very close to:</p>
 <pre class="code">multi sub grab(**@a) { &quot;grab $_&quot;.say for @a }
multi sub grab(\a) {
    a ~~ Iterable and a.VAR !~~ Scalar ?? nextwith(|a) !! nextwith(a,)
}</pre>
 <p>This results in the following behavior, which is known as the <i>&quot;single argument rule&quot;</i> and is important to understand when invoking slurpy functions:</p>
 <pre class="code">grab(1, 2);      # OUTPUT: «grab 1␤grab 2␤» 
 grab((1, 2));    # OUTPUT: «grab 1␤grab 2␤» 
 grab($(1, 2));   # OUTPUT: «grab 1 2␤» 
 grab((1, 2), 3); # OUTPUT: «grab 1 2␤grab 3␤» 
</pre>
 <p>This also makes user-requested flattening feel consistent whether there is one sublist, or many:</p>
 <pre class="code">grab(flat (1, 2), (3, 4));   # OUTPUT: «grab 1␤grab 2␤grab 3␤grab 4␤» 
 grab(flat $(1, 2), $(3, 4)); # OUTPUT: «grab 1 2␤grab 3 4␤» 
 grab(flat (1, 2));           # OUTPUT: «grab 1␤grab 2␤» 
 grab(flat $(1, 2));          # OUTPUT: «grab 1␤grab 2␤» 
</pre>
 <p>It's worth noting that mixing binding and sigilless variables in these cases requires a bit of finesse, because there is no <a href="#_type_Scalar.pod6">Scalar</a> intermediary used during binding.</p>
 <pre class="code">my $a = (1, 2);  # Normal assignment, equivalent to $(1, 2) 
 grab($a);        # OUTPUT: «grab 1 2␤» 
 my $b := (1, 2); # Binding, $b links directly to a bare (1, 2) 
 grab($b);        # OUTPUT: «grab 1␤grab 2␤» 
 my \c = (1, 2);  # Sigilless variables always bind, even with '=' 
 grab(c);         # OUTPUT: «grab 1␤grab 2␤» 
</pre>
 <a name="t17.3"></a><h1 id="_language_functions.pod6-Functions_are_First-Class_Objects">17.3 Functions are First-Class Objects</h1>
 <p>Functions and other code objects can be passed around as values, just like any other object.</p>
 <p>There are several ways to get hold of a code object. You can assign it to a variable at the point of declaration:</p>
 <pre class="code">my $square = sub (Numeric $x) { $x * $x }
# and then use it:
say $square(6);    # OUTPUT: «36␤»</pre>
 <p><span class="indexed"><a id="129" name="prefix &amp;"></a></span> Or you can reference an existing named function by using the <span class="code">&amp;</span>-sigil in front of it.</p>
 <pre class="code">sub square($x) { $x * $x };

# get hold of a reference to the function:
my $func = &amp;square</pre>
 <p>This is very useful for <i>higher order functions</i>, that is, functions that take other functions as input. A simple one is <a href="#_type_List.pod6-routine_map">map</a>, which applies a function to each input element:</p>
 <pre class="code">sub square($x) { $x * $x };
my @squared = map &amp;square,  1..5;
say join ', ', @squared;        # OUTPUT: «1, 4, 9, 16, 25␤»</pre>
 <a name="t17.3.1"></a><h2 id="_language_functions.pod6-Infix_Form">17.3.1 <!--  -->Infix Form</h2>
 <p>To call a subroutine with 2 arguments like an infix operator, use a subroutine reference surrounded by <span class="code">[</span> and <span class="code">]</span>.</p>
 <pre class="code">sub plus { $^a + $^b };
say 21 [&amp;plus] 21;
# OUTPUT: «42␤»</pre>
 <a name="t17.3.2"></a><h2 id="_language_functions.pod6-Closures">17.3.2 Closures</h2>
 <p>All code objects in Perl 6 are <i>closures</i>, which means they can reference lexical variables from an outer scope.</p>
 <pre class="code">sub generate-sub($x) {
    my $y = 2 * $x;
    return sub { say $y };
    #      ^^^^^^^^^^^^^^  inner sub, uses $y
}
my $generated = generate-sub(21);
$generated(); # OUTPUT: «42␤»</pre>
 <p>Here, <span class="code">$y</span> is a lexical variable inside <span class="code">generate-sub</span>, and the inner subroutine that is returned uses it. By the time that the inner sub is called, <span class="code">generate-sub</span> has already exited. Yet the inner sub can still use <span class="code">$y</span>, because it <i>closed</i> over the variable.</p>
 <p>Another closure example is the use of <a href="#_type_List.pod6-routine_map">map</a> to multiply a list of numbers:</p>
 <pre class="code">my $multiply-by = 5;
say join ', ', map { $_ * $multiply-by }, 1..5;     # OUTPUT: «5, 10, 15, 20, 25␤»</pre>
 <p>Here, the block passed to <span class="code">map</span> references the variable <span class="code">$multiply-by</span> from the outer scope, making the block a closure.</p>
 <p>Languages without closures cannot easily provide higher-order functions that are as easy to use and powerful as <span class="code">map</span>.</p>
 <a name="t17.3.3"></a><h2 id="_language_functions.pod6-Routines">17.3.3 Routines</h2>
 <p>Routines are code objects that conform to <a href="#_type_Routine.pod6">type Routine</a>, most notably <a href="#_type_Sub.pod6">Sub</a>, <a href="#_type_Method.pod6">Method</a>, <a href="#_type_Regex.pod6">Regex</a> and <a href="#_type_Submethod.pod6">Submethod</a>.</p>
 <p>They carry additional functionality in addition to what <a href="#_type_Block.pod6">Block</a> supplies: they can come as <a href="#16-Multi-dispatch">multis</a>, you can <a href="#_type_Routine.pod6-method_wrap">wrap</a> them, and exit early with <span class="code">return</span>:</p>
 <pre class="code">my $keywords = set &lt;if for unless while&gt;;

sub has-keyword(*@words) {
    for @words -&gt; $word {
        return True if $word (elem) $keywords;
    }
    False;
}

say has-keyword 'not', 'one', 'here';       # OUTPUT: «False␤»
say has-keyword 'but', 'here', 'for';       # OUTPUT: «True␤»</pre>
 <p>Here, <span class="code">return</span> doesn't just leave the block inside which it was called, but the whole routine. In general, blocks are transparent to <span class="code">return</span>, they attach to the outer routine.</p>
 <p><span class="indexed"><a id="130" name="use soft (pragma)"></a></span> Routines can be inlined and as such provide an obstacle for wrapping. Use the pragma <span class="code">use soft;</span> to prevent inlining to allow wrapping at runtime.</p>
 <pre class="code">sub testee(Int $i, Str $s){
    rand.Rat * $i ~ $s;
}

sub wrap-to-debug(&amp;c){
    say &quot;wrapping {&amp;c.name} with arguments {&amp;c.signature.perl}&quot;;
    &amp;c.wrap: sub (|args){
        note &quot;calling {&amp;c.name} with {args.gist}&quot;;
        my \ret-val := callwith(|args);
        note &quot;returned from {&amp;c.name} with return value {ret-val.perl}&quot;;
        ret-val
    }
}

my $testee-handler = wrap-to-debug(&amp;testee);
# OUTPUT: «wrapping testee with arguments :(Int $i, Str $s)»

say testee(10, &quot;ten&quot;);
# OUTPUT: «calling testee with \(10, &quot;ten&quot;)␤returned from testee with return value &quot;6.151190ten&quot;␤6.151190ten»
&amp;testee.unwrap($testee-handler);
say testee(10, &quot;ten&quot;);
# OUTPUT: «6.151190ten␤»</pre>
 Important ones: candidates, wrap, unwrap, assuming, arity, count
 <a name="t17.4"></a><h1 id="_language_functions.pod6-Defining_Operators">17.4 Defining Operators</h1>
 <p>Operators are just subroutines with funny names. The funny names are composed of the category name (<span class="code">infix</span>, <span class="code">prefix</span>, <span class="code">postfix</span>, <span class="code">circumfix</span>, <span class="code">postcircumfix</span>), followed by a colon, and a list of the operator name or names (two components in the case of circumfix and postcircumfix).</p>
 <p>This works both for adding multi candidates to existing operators and for defining new ones. In the latter case, the definition of the new subroutine automatically installs the new operator into the grammar, but only in the current lexical scope. Importing an operator via <span class="code">use</span> or <span class="code">import</span> also makes it available.</p>
 <pre class="code"># adding a multi candidate to an existing operator: 
 multi infix:&lt;+&gt;(Int $x, &quot;same&quot;) { 2 * $x }; 
 say 21 + &quot;same&quot;;            # OUTPUT: «42␤» 
 
 # defining a new operator 
 sub postfix:&lt;!&gt;(Int $x where { $x &gt;= 0 }) { [*] 1..$x }; 
 say 6!;                     # OUTPUT: «720␤» 
</pre>
 <p>The operator declaration becomes available as soon as possible, so you can recurse into a just-defined operator:</p>
 <pre class="code">sub postfix:&lt;!&gt;(Int $x where { $x &gt;= 0 }) { 
     $x == 0 ?? 1 !! $x * ($x - 1)! 
 } 
 say 6!;                     # OUTPUT: «720␤» 
</pre>
 <p>Circumfix and postcircumfix operators are made of two delimiters, one opening and one closing.</p>
 <pre class="code">sub circumfix:&lt;START END&gt;(*@elems) { 
     &quot;start&quot;, @elems, &quot;end&quot; 
 } 
 
 say START 'a', 'b', 'c' END;        # OUTPUT: «(start [a b c] end)␤» 
</pre>
 <p>Postcircumfixes also receive the term after which they are parsed as an argument:</p>
 <pre class="code">sub postcircumfix:&lt;!! !!&gt;($left, $inside) { 
     &quot;$left -&gt; ( $inside )&quot; 
 } 
 say 42!! 1 !!;      # OUTPUT: «42 -&gt; ( 1 )␤» 
</pre>
 <p>Blocks can be assigned directly to operator names. Use a variable declarator and prefix the operator name with a <span class="code">&amp;</span>-sigil.</p>
 <pre class="code">my &amp;infix:&lt;ieq&gt; = -&gt; |l { [eq] l&gt;&gt;.fc };
say &quot;abc&quot; ieq &quot;Abc&quot;;
# OUTPUT: «True␤»</pre>
 <a name="t17.4.1"></a><h2 id="_language_functions.pod6-Precedence">17.4.1 Precedence</h2>
 <p><span class="indexed"><a id="131" name="is tighter"></a></span><span class="indexed"><a id="132" name="is equiv"></a></span><span class="indexed"><a id="133" name="is looser"></a></span> Operator precedence in Perl 6 is specified relatively to existing operators. The traits <span class="code">is tighter</span>, <span class="code">is equiv</span> and <span class="code">is looser</span> can be provided with an operator, the new operators precedence is related to. More than one trait can be applied.</p>
 <p>For example, <span class="code">infix:&lt;*&gt;</span> has a tighter precedence than <span class="code">infix:&lt;+&gt;</span>, and squeezing one in between works like this:</p>
 <pre class="code">sub infix:&lt;!!&gt;($a, $b) is tighter(&amp;infix:&lt;+&gt;) { 
     2 * ($a + $b) 
 } 
 
 say 1 + 2 * 3 !! 4;     # OUTPUT: «21␤» 
</pre>
 <p>Here, the <span class="code">1 + 2 * 3 !! 4</span> is parsed as <span class="code">1 + ((2 * 3) !! 4)</span>, because the precedence of the new <span class="code">!!</span> operator is between that of <span class="code">+</span> and <span class="code">*</span>.</p>
 <p>The same effect could have been achieved with:</p>
 <pre class="code">sub infix:&lt;!!&gt;($a, $b) is looser(&amp;infix:&lt;*&gt;) { ... }</pre>
 <p>To put a new operator on the same precedence level as an existing operator, use <span class="code">is equiv(&amp;other-operator)</span> instead.</p>
 <a name="t17.4.2"></a><h2 id="_language_functions.pod6-Associativity">17.4.2 Associativity</h2>
 <p>When the same operator appears several times in a row, there are multiple possible interpretations. For example:</p>
 <pre class="code">1 + 2 + 3</pre>
 <p>could be parsed as</p>
 <pre class="code">(1 + 2) + 3         # left associative</pre>
 <p>or as</p>
 <pre class="code">1 + (2 + 3)         # right associative</pre>
 <p>For addition of real numbers, the distinction is somewhat moot, because <span class="code">+</span> is <a href="https://en.wikipedia.org/wiki/Associative_property">mathematically associative</a>.</p>
 <p>But for other operators it matters a great deal. For example, for the exponentiation/power operator, <span class="code">infix:&lt;**&gt; </span>:</p>
 <pre class="code">say 2 ** (2 ** 3);      # OUTPUT: «256␤»
say (2 ** 2) ** 3;      # OUTPUT: «64␤»</pre>
 <p>Perl 6 has the following possible associativity configurations:</p>
 <table>
<tr><th>A</th> <th>Assoc</th> <th>Meaning of $a ! $b ! $c</th></tr>
<tr><td>L</td> <td>left</td> <td>($a ! $b) ! $c</td></tr>
 <tr><td>R</td> <td>right</td> <td>$a ! ($b ! $c)</td></tr>
 <tr><td>N</td> <td>non</td> <td>ILLEGAL</td></tr>
 <tr><td>C</td> <td>chain</td> <td>($a ! $b) and ($b ! $c)</td></tr>
 <tr><td>X</td> <td>list</td> <td>infix:&lt;!&gt;($a; $b; $c)</td></tr>
</table> <p><span class="indexed"><a id="134" name="is assoc (trait)"></a></span> You can specify the associativity of an operator with the <span class="code">is assoc</span> trait, where <span class="code">left</span> is the default associativity.</p>
 <pre class="code">sub infix:&lt;§&gt;(*@a) is assoc&lt;list&gt; { 
     '(' ~ @a.join('|') ~ ')'; 
 } 
 
 say 1 § 2 § 3;      # OUTPUT: «(1|2|3)␤» 
</pre>
 <a name="t17.5"></a><h1 id="_language_functions.pod6-Traits">17.5 Traits</h1>
 <p><i>Traits</i> are subroutines that run at compile time and modify the behavior of a type, variable, routine, attribute, or other language object.</p>
 <p>Examples of traits are:</p>
 <pre class="code">class ChildClass is ParentClass { ... } 
 #                ^^ trait, with argument ParentClass 
 has $.attrib is rw; 
 #            ^^^^^  trait with name 'rw' 
 class SomeClass does AnotherRole { ... } 
 #               ^^^^ trait 
 has $!another-attribute handles &lt;close&gt;; 
 #                       ^^^^^^^ trait 
</pre>
 <p>... and also <span class="code">is tighter</span>, <span class="code">is looser</span>, <span class="code">is equiv</span> and <span class="code">is assoc</span> from the previous section.</p>
 <p>Traits are subs of the form <span class="code">trait_mod&lt;VERB&gt; </span>, where <span class="code">VERB</span> stands for the name like <span class="code">is</span>, <span class="code">does</span> or <span class="code">handles</span>. It receives the modified thing as argument, and the name as a named argument. See <a href="#_type_Sub.pod6-Traits">Sub</a> for details.</p>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine $r, :$doubles!) { 
     $r.wrap({ 
         2 * callsame; 
     }); 
 } 
 
 sub square($x) is doubles { 
     $x * $x; 
 } 
 
 say square 3;       # OUTPUT: «18␤» 
</pre>
 <p>See <a href="#_type_Routine.pod6">type Routine</a> for the documentation of built-in routine traits.</p>
 <a name="t17.6"></a><h1 id="_language_functions.pod6-Re-dispatching">17.6 Re-dispatching</h1>
 <p>There are cases in which a routine might want to call the next method from a chain. This chain could be a list of parent classes in a class hierarchy, or it could be less specific multi candidates from a multi dispatch, or it could be the inner routine from a <span class="code">wrap</span>.</p>
 <p>Fortunately, we have a series of re-dispatching tools that help us to make it easy.</p>
 <a name="t17.6.1"></a><h2 id="_language_functions.pod6-sub_callsame">17.6.1 sub callsame</h2>
 <p><span class="indexed"><a id="135" name="dispatch callsame"></a></span></p>
 <p><span class="code">callsame</span> calls the next matching candidate with the same arguments that were used for the current candidate and returns that candidate's return value.</p>
 <pre class="code">proto a(|) {*} 
 
 multi a(Any $x) { 
     say &quot;Any $x&quot;; 
     return 5; 
 } 
 
 multi a(Int $x) { 
     say &quot;Int $x&quot;; 
     my $res = callsame; 
     say &quot;Back in Int with $res&quot;; 
 } 
 
 a 1;        # OUTPUT: «Int 1␤Any 1␤Back in Int with 5␤» 
</pre>
 <a name="t17.6.2"></a><h2 id="_language_functions.pod6-sub_callwith">17.6.2 sub callwith</h2>
 <p><span class="indexed"><a id="136" name="dispatch callwith"></a></span></p>
 <p><span class="code">callwith</span> calls the next matching candidate with arguments provided by users and returns that candidate's return value.</p>
 <pre class="code">proto a(|) {*} 
 
 multi a(Any $x) { 
     say &quot;Any $x&quot;; 
     return 5; 
 } 
 multi a(Int $x) { 
     say &quot;Int $x&quot;; 
     my $res = callwith($x + 1); 
     say &quot;Back in Int with $res&quot;; 
 } 
 
 a 1;        # OUTPUT: «Int 1␤Any 2␤Back in Int with 5␤» 
</pre>
 <p>Here, <span class="code">a 1</span> calls the most specific <span class="code">Int</span> candidate first, and <span class="code">callwith</span> re-dispatches to the less specific <span class="code">Any</span> candidate. Note that although our parameter <span class="code">$x + 1</span> is an Int, still we call the next candidate in the chain.</p>
 <a name="t17.6.3"></a><h2 id="_language_functions.pod6-sub_nextsame">17.6.3 sub nextsame</h2>
 <p><span class="indexed"><a id="137" name="dispatch nextsame"></a></span></p>
 <p><span class="code">nextsame</span> calls the next matching candidate with the same arguments that were used for the current candidate and <b>never</b> returns.</p>
 <pre class="code">proto a(|) {*} 
 
 multi a(Any $x) { 
     say &quot;Any $x&quot;; 
     return 5; 
 } 
 multi a(Int $x) { 
     say &quot;Int $x&quot;; 
     nextsame; 
     say &quot;never executed because nextsame doesn't return&quot;; 
 } 
 
 a 1;        # OUTPUT: «Int 1␤Any 1␤» 
</pre>
 <a name="t17.6.4"></a><h2 id="_language_functions.pod6-sub_nextwith">17.6.4 sub nextwith</h2>
 <p><span class="indexed"><a id="138" name="dispatch nextwith"></a></span></p>
 <p><span class="code">nextwith</span> calls the next matching candidate with arguments provided by users and <b>never</b> returns.</p>
 <pre class="code">proto a(|) {*} 
 
 multi a(Any $x) { 
     say &quot;Any $x&quot;; 
     return 5; 
 } 
 multi a(Int $x) { 
     say &quot;Int $x&quot;; 
     nextwith($x + 1); 
     say &quot;never executed because nextsame doesn't return&quot;; 
 } 
 
 a 1;        # OUTPUT: «Int 1␤Any 2␤» 
</pre>
 <a name="t17.6.5"></a><h2 id="_language_functions.pod6-sub_samewith">17.6.5 sub samewith</h2>
 <p><span class="indexed"><a id="139" name="dispatch samewith"></a></span></p>
 <p><span class="code">samewith</span> calls current candidate again with arguments provided by users and returns return value of the new instance of current candidate.</p>
 <pre class="code">proto a(|) {*} 
 
 multi a(Int $x) { 
   return 1 unless $x &gt; 1; 
   return $x * samewith($x-1); 
 } 
 
 say (a 10); # OUTPUT: «36288002␤» 
</pre>
 <a name="t17.6.6"></a><h2 id="_language_functions.pod6-sub_nextcallee">17.6.6 sub nextcallee</h2>
 <p><span class="indexed"><a id="140" name="dispatch nextcallee"></a></span></p>
 <p>Redispatch may be required to call a block that is not the current scope what provides <span class="code">nextsame</span> and friends with the problem to referring to the wrong scope. Use <span class="code">nextcallee</span> to capture the right candidate and call it at the desired time.</p>
 <pre class="code">proto pick-winner(|) {*} 
 
 multi pick-winner (Int \s) { 
     my &amp;nextone = nextcallee; 
     Promise.in(π²).then: { nextone s } 
 } 
 multi pick-winner { say &quot;Woot! $^w won&quot; } 
 
 with pick-winner ^5 .pick -&gt; \result { 
     say &quot;And the winner is...&quot;; 
     await result; 
 } 
 
 # OUTPUT: 
 # And the winner is... 
 # Woot! 3 won 
</pre>
 <p>The Int candidate takes the <span class="code">nextcallee</span> and then fires up a Promise to be executed in parallel, after some timeout, and then returns. We can't use <span class="code">nextsame</span> here, because it'd be trying to <span class="code">nextsame</span> the Promise's block instead of our original routine.</p>
 <a name="t17.6.7"></a><h2 id="_language_functions.pod6-wrapped_routines">17.6.7 wrapped routines</h2>
 <p><span class="indexed"><a id="141" name="dispatch wrapped routines"></a></span></p>
 <p>Besides those are mentioned above, re-dispatch is helpful in more situations. One is for dispatching to wrapped routines:</p>
 <pre class="code"># enable wrapping: 
 use soft; 
 
 # function to be wrapped: 
 sub square-root($x) { $x.sqrt } 
 
 &amp;square-root.wrap(sub ($num) { 
    nextsame if $num &gt;= 0; 
    1i * callwith(abs($num)); 
 }); 
 
 say square-root(4);     # OUTPUT: «2␤» 
 say square-root(-4);    # OUTPUT: «0+2i␤» 
</pre>
 <a name="t17.6.8"></a><h2 id="_language_functions.pod6-routines_of_parent_class">17.6.8 routines of parent class</h2>
 <p><span class="indexed"><a id="142" name="dispatch super"></a></span></p>
 <p>Another use case is to re-dispatch to methods from parent classes.</p>
 <pre class="code">class LoggedVersion is Version { 
     method new(|c) { 
         note &quot;New version object created with arguments &quot; ~ c.perl; 
         nextsame; 
     } 
 } 
 
 say LoggedVersion.new('1.0.2'); 
</pre>
 <a name="t17.7"></a><h1 id="_language_functions.pod6-Coercion_Types">17.7 Coercion Types</h1>
 <p>Coercion types force a specific type for routine arguments while allowing the routine itself to accept a wider input. When invoked, the arguments are narrowed automatically to the stricter type, and therefore within the routine the arguments have always the desired type.</p>
 <p>In the case the arguments cannot be converted to the stricter type, a <i>Type Check</i> error is thrown.</p>
 <pre class="code">sub double(Int(Cool) $x) { 
     2 * $x 
 } 
 
 say double '21';    # OUTPUT: «42␤» 
 say double  21;     # OUTPUT: «42␤» 
 say double Any;     # Type check failed in binding $x; expected 'Cool' but got 'Any' 
</pre>
 <p>In the above example, the <a href="#_type_Int.pod6">Int</a> is the target type to which the argument <span class="code">$x</span> will be coerced, and <a href="#_type_Cool.pod6">Cool</a> is the type that the routine accepts as wider input.</p>
 <p>If the accepted wider input type is <a href="#_type_Any.pod6">Any</a>, it is possible to abbreviate the coercion <span class="code">Int(Any)</span> omitting the <span class="code">Any</span> type, thus resulting in <span class="code">Int()</span>.</p>
 <p>The coercion works by looking for a method with the same name as the target type: if such method is found on the argument, it is invoked to convert the latter to the expected narrow type. From the above, it is clear that it is possible to provide coercion among user types just providing the required methods:</p>
 <pre class="code">class Bar { 
    has $.msg; 
 } 
 
 class Foo { 
    has $.msg = &quot;I'm a foo!&quot;; 
 
    # allows coercion from Foo to Bar 
    method Bar { 
        Bar.new(:msg($.msg ~ ' But I am now Bar.')); 
    } 
 } 
 
 # wants a Bar, but accepts Any 
 sub print-bar(Bar() $bar) { 
    say $bar.^name; # OUTPUT: «Bar␤» 
    say $bar.msg;   # OUTPUT: «I'm a foo! But I am now Bar.␤» 
 } 
 
 print-bar Foo.new; 
</pre>
 <p>In the above code, once a <span class="code">Foo</span> instance is passed as argument to <span class="code">print-bar</span>, the <span class="code">Foo.Bar</span> method is called and the result is placed into <span class="code">$bar</span>.</p>
 <p>Coercion types are supposed to work wherever types work, but Rakudo currently (2017.05) only implements them in signatures, for both parameters and return types.</p>
 is the above referencing rakudo 2017.05 still valid?
 is it worth placing an example about return types?
 <a name="t17.8"></a><h1 id="_language_functions.pod6-sub_MAIN">17.8 sub MAIN</h1>
 <p><span class="indexed"><a id="143" name="MAIN"></a></span><span class="indexed"><a id="144" name="command line arguments"></a></span></p>
 <p>The sub with the special name <span class="code">MAIN</span> is executed after all relevant phasers. Its signature is the means by which command line arguments can be parsed. Multi methods are supported and a usage method is automatically generated and displayed if no command line arguments are provided. All command line arguments are also available in <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">@*ARGS</span></a>, which can be mutated before being processed by <span class="code">MAIN</span>.</p>
 <p>Unlike other ordinary functions, any return value provided by <span class="code">MAIN</span> will be ignored by the invoker, even if explicitly set by means of a <span class="code">return</span> statement (that will terminate the <span class="code">MAIN</span> function). The default return code of <span class="code">MAIN</span> is always zero (<span class="code">0</span>, success). In order to provide any return value different from zero, a call to <a href="https://docs.perl6.org/routine/exit">exit</a> has to be performed.</p>
 <pre class="code">#|(optional description for USAGE message)
sub MAIN( Int :$length = 24,
           :file($data) where { .IO.f // die &quot;file not found in $*CWD&quot; } = 'file.dat',
           Bool :v(:$verbose) #`( -verbose, --verbose, -v or --v ) )
{
    say $length if $length.defined;
    say $data   if $data.defined;
    say 'Verbosity ', ($verbose ?? 'on' !! 'off');

    exit 1;
}</pre>
 <p>With <span class="code">touch.dat</span> present, this will work this way</p>
 <pre class="code">$ perl6 Main.p6 
 24 
 file.dat 
 Verbosity off 
</pre>
 <p>Or this way with <span class="code">-v</span> or <span class="code">--verbose</span></p>
 <pre class="code">$ perl6 Main.p6 -v 
 24 
 file.dat 
 Verbosity on 
</pre>
 <p>The <span class="code">:v(:$verbose)</span> is an alias, as explained in <a href="#_type_Signature.pod6-Positional_vs._Named">Signatures</a>. In fact, since this is an alias, both <span class="code">verbose</span> and <span class="code">v</span> can use single or double dashes (<span class="code">-</span> or <span class="code">--</span>).</p>
 <a name="t17.8.1"></a><h2 id="_language_functions.pod6-%*SUB-MAIN-OPTS">17.8.1 <span class="code">%*SUB-MAIN-OPTS</span></h2>
 <p>It's possible to alter how arguments are processed before they're passed to <span class="code">sub MAIN {}</span> by setting options in <span class="code">%*SUB-MAIN-OPTS</span> hash. Due to the nature of dynamic variables, one needs to set up its own <span class="code">%*SUB-MAIN-OPTS</span> hash and fill it with the appropriate settings. For instance:</p>
 <pre class="code">my %*SUB-MAIN-OPTS =
  :named-anywhere,    # allow named variables at any location
  :!foo,              # don't allow foo
;
sub MAIN ($a, $b, :$c, :$d) {
    say &quot;Accepted!&quot;
}</pre>
 <p>Available options are:</p>
 <a name="t17.8.1.1"></a><h3 id="_language_functions.pod6-named-anywhere">17.8.1.1 <span class="code">named-anywhere</span></h3>
 <p>By default, named arguments to the program cannot be given after any positional arguments are specified. However, if <span class="code">%*SUB-MAIN-OPTS&lt;named-anywhere&gt;</span> is set to a truthy value, named arguments can be specified anywhere, even after positional parameter. For example, the above program can be called with:</p>
 <pre class="code">perl6 example.p6 1 --c=2 3 --d=4 
</pre>
 <a name="t17.8.2"></a><h2 id="_language_functions.pod6-Unit-scoped_definition_of_MAIN">17.8.2 <a name="145"></a>Unit-scoped definition of MAIN</h2>
 <p>If the entire script body resides within <span class="code">MAIN</span>, you can use the <span class="code">unit</span> declarator as follows:</p>
 <pre class="code">unit sub MAIN( Int :$length = 24, 
                 :file($data) where { .IO.f // die &quot;file not found in $*CWD&quot; } = 'file.dat', 
                 Bool :v(:$verbose) #`( -verbose, --verbose, -v or --v ) ); 
 
 # rest of script is part of MAIN 
</pre>
 <p>Note that this is only appropriate if you do not need a <span class="code">proto</span> or <span class="code">multi</span> definition.</p>
 <a name="t17.9"></a><h1 id="_language_functions.pod6-sub_USAGE">17.9 sub USAGE</h1>
 <p><span class="indexed"><a id="146" name="USAGE"></a></span><span class="indexed"><a id="147" name="$*USAGE"></a></span></p>
 <p>If no multi candidate of <span class="code">MAIN</span> is found for the given command line parameters, the sub <span class="code">USAGE</span> is called. If no such method is found, the compiler will output a default generated usage message.</p>
 <pre class="code">#|(is it the answer)
multi MAIN(Int $i){ say $i == 42 ?? 'answer' !! 'dunno' }
#|(divide two numbers)
multi MAIN($a, $b){ say $a/$b }

sub USAGE(){
print Q:c:to/EOH/;
Usage: {$*PROGRAM-NAME} [number]

Prints the answer or 'dunno'.
EOH
}</pre>
 <p>The default usage message is available inside <span class="code">sub USAGE</span> via read-only <span class="code">$*USAGE</span> variable. It will be generated based on available <span class="code">sub MAIN</span> candidates and their parameters. You can specify additional extended description for each candidate using <span class="code">#|(...)</span> Pod block to set <a href="#_routine_WHY.pod6"><span class="code">WHY</span></a>.</p>
</div>
<!-- /language/glossary.pod6 --><div class="pod-body"><a id="_language_glossary.pod6"></a><a name="t18"><h1 class="title">18 Glossary</h1></a> <p class="subtitle">Glossary of Perl 6 terminology</p> <a name="t18.1"></a><h1 id="_language_glossary.pod6-Abstract_Class">18.1 Abstract Class <a name="148"></a></h1>
 <p>The generic Computer Science term &quot;abstract class&quot; defines the <a href="#17-Interface">interface</a> or <a href="#17-API">#API</a> of a class. In Perl 6, this is implemented using <a href="#17-Roles">roles</a> with <a href="#17-Stub">stubbed</a> methods.</p>
 <pre class="code">role Canine {
    method bark { ... }          # the ... indicates a stub
}

class Dog does Canine {
    method bark { say &quot;woof&quot; }   # *MUST* be implemented by class
}</pre>
 <a name="t18.2"></a><h1 id="_language_glossary.pod6-Advent_Calendar">18.2 Advent Calendar <a name="149"></a></h1>
 <p>In the context of Perl 6, a yearly set of blog posts for each day from the 1st until the 25th of December, to be found at <a href="https://perl6advent.wordpress.com">https://perl6advent.wordpress.com</a>.</p>
 <a name="t18.3"></a><h1 id="_language_glossary.pod6-Adverb">18.3 Adverb <a name="150"></a></h1>
 <p>Generically, an adverb is a named argument to a function. There are also some specific syntax forms that allow adverbs to be tucked into some convenient places:</p>
 <pre class="code">q:w&quot;foo bar&quot;;   # &quot;:w&quot; is a Quotelike form modifier adverb
m:g/a|b|c/;     # &quot;:g&quot; is also</pre>
 TODO: Add this back in when :rotate on infix operators is supported
 4 +&gt; 5 :rotate # &quot;:rotate&quot; is an operator adverb
    @h{3}:exists;   # &quot;:exists&quot; is also, but is known as a subscript adverb
 <p>Adverbs are usually expressed with colon pair notation, and for this reason colon pair notation is also known as the adverbial pair form:</p>
 <pre class="code">:a(4)          # Same as &quot;a&quot; =&gt; 4</pre>
 <p>Some other forms that use a colon in ways that have adverb-like semantics are called adverbial forms. One special form starts with an integer value, followed by a name (for the key):</p>
 <pre class="code">:20seconds     # same as seconds =&gt; 20</pre>
 <p>Also see <a href="#17-Colon Pair and Colon List">#Colon Pair and Colon List</a>.</p>
 <a name="t18.4"></a><h1 id="_language_glossary.pod6-Adverbial_Pair">18.4 Adverbial Pair <a name="151"></a></h1>
 <p>A generalized form of <span class="code">pair notation</span>. They all start with the colon, like:</p>
 <table>
<tr><th>adverbial pair</th> <th>pair notation</th></tr>
<tr><td>:foo&lt;bar&gt;</td> <td>foo =&gt; 'bar'</td></tr>
 <tr><td>:foo(42)</td> <td>foo =&gt; 42</td></tr>
 <tr><td>:42foo</td> <td>foo =&gt; 42</td></tr>
 <tr><td>:$foo</td> <td>foo =&gt; $foo</td></tr>
 <tr><td>:foo</td> <td>foo =&gt; True</td></tr>
 <tr><td>:!foo</td> <td>foo =&gt; False</td></tr>
</table> <p>Also see <a href="#17-Adverb">#Adverb</a> and <a href="#17-Colon Pair and Colon List">#Colon Pair and Colon List</a>.</p>
 <a name="t18.5"></a><h1 id="_language_glossary.pod6-Allomorph">18.5 Allomorph <a name="152"></a></h1>
 <p>A type that has two related values which may be used depending on the context. For example <a href="#_type_IntStr.pod6">IntStr</a> allomorph <span class="code">is</span> both an <a href="#_type_Int.pod6">Int</a> and a <a href="#_type_Str.pod6">Str</a>, so it will be accepted by anything that expects an <span class="code">Int</span>, a <span class="code">Str</span>, or an <span class="code">IntStr</span>. Keep in mind that certain constructs, such as <a href="#_language_setbagmix.pod6">sets, bags, and mixes</a> care about object identity, and so will not accept an allomorph as equivalent of its components alone.</p>
 <p>The <i>allomorph</i> types <a href="#_type_IntStr.pod6">IntStr</a>, <a href="#_type_NumStr.pod6">NumStr</a>, <a href="#_type_RatStr.pod6">RatStr</a> and <a href="#_type_ComplexStr.pod6">ComplexStr</a> may be created as a result of parsing a quoted string:</p>
 <pre class="code">say &lt;42&gt;.^name;     # OUTPUT: «IntStr␤»
say &lt;42.1e0&gt;.^name; # OUTPUT: «NumStr␤»
say &lt;42.1&gt;.^name;   # OUTPUT: «RatStr␤»</pre>
 <p>Note: angle brackets can also be used to create literals for which you'd normally need to use some operator (e.g. <span class="code">/</span> for <a href="#_type_Rat.pod6">Rat</a> or <span class="code">+</span> for <a href="#_type_Complex.pod6">Complex</a>). This allows you to use such literals in places where expressions are not allowed, for example, as literals in signatures:</p>
 <pre class="code"># Wrong, can't use an operator there: 
 multi foo (1/3) { say &quot;It's one third!&quot; } 
</pre>
 <pre class="code"># Right, a Rat literal: 
 multi foo (&lt;1/3&gt;) { say &quot;It's one third!&quot; } 
</pre>
 <p>If you <i>do</i> want an allomorph and not a literal <a href="#_type_Numeric.pod6">Numeric</a>, then include whitespace around angle brackets:</p>
 <pre class="code">say &lt;42/1&gt;.^name;    # OUTPUT: «Rat␤»
say &lt;42+0i&gt;.^name;   # OUTPUT: «Complex␤»
say &lt; 42+0i &gt;.^name; # OUTPUT: «ComplexStr␤»
say &lt; 42/1 &gt;.^name;  # OUTPUT: «RatStr␤»</pre>
 <a name="t18.6"></a><h1 id="_language_glossary.pod6-Anonymous">18.6 Anonymous <a name="153"></a></h1>
 <p>A subroutine, method or submethod is called <i>anonymous</i> if it can't be called by name.</p>
 <pre class="code"># named subroutine
sub double($x) { 2 * $x };

# anonymous subroutine, stored in a named scalar
my $double = sub ($x) { 2 * $x };</pre>
 <p>Note that it is still allowed to have a name, but you cannot call it by that name:</p>
 <pre class="code">    # anonymous, but knows its own name 
     my $s = anon sub triple($x) { 3 * $x } 
     say $s.name;        # OUTPUT: «triple␤» 
</pre>
 <pre class="code">    say triple(42);     # OUTPUT: «Undeclared routine: triple␤» 
</pre>
 <a name="t18.7"></a><h1 id="_language_glossary.pod6-API">18.7 API <a name="154"></a></h1>
 <p>Application Programming Interface. Ideally, someone using your system or library should be able to do so with knowledge only of the API, but not necessarily knowing anything about the internals or implementation.</p>
 <p>See also <a href="#17-Abstract Class">#Abstract Class</a>.</p>
 <a name="t18.8"></a><h1 id="_language_glossary.pod6-Apocalypse">18.8 Apocalypse <a name="155"></a></h1>
 <p>A document originally written by <a href="#17-TimToady">#TimToady</a>, in which he processed the initial barrage of RFCs that came out of the Perl community. Now only kept as an historical document for reference. See also <a href="#17-Exegesis">#Exegesis</a> and <a href="#17-Synopsis">#Synopsis</a>.</p>
 <a name="t18.9"></a><h1 id="_language_glossary.pod6-Arity">18.9 Arity <a name="156"></a></h1>
 <p>The number of <a href="#_type_Positional.pod6">positional</a> operands expected by an <a href="#17-Operator">operator</a>, subroutine, method or callable block.</p>
 <pre class="code">sub infix:&lt;+&gt;(Foo $a, Foo $b) { $a.Int + $b.Int }  # arity of &quot;+&quot; is 2 
 sub frobnicate($x) { ... }                         # arity of 1 
 sub the-answer() { 42 }                            # arity of 0 
 -&gt; $key, $value { ... }                            # arity of 2 
</pre>
 <p>The arity of a <span class="code">Callable</span> is one of the main selectors in <a href="#17-Multi-Dispatch">multi-dispatch</a>.</p>
 <a name="t18.10"></a><h1 id="_language_glossary.pod6-Autothreading">18.10 Autothreading <a name="157"></a></h1>
 <p>Autothreading is what happens if you pass a <a href="#_type_Junction.pod6">Junction</a> to a subroutine that expects a parameter of type <a href="#_type_Any.pod6">Any</a> or a subtype thereof (such as anything <a href="#_type_Cool.pod6">Cool</a>). The call is then executed for each value of the junction. The result of these calls is assembled in a new junction of the same type as the original junction.</p>
 <pre class="code">sub f($x) { 2 * $x };
say f(1|2|3) == 4;    # OUTPUT: «any(False, True, False)␤»</pre>
 <p>Here <span class="code">f()</span> is a sub with one parameter, and since it has no explicit type, it is implicitly typed as <span class="code">Any</span>. The <span class="code">Junction</span> argument causes the <span class="code">f(1|2|3)</span> call to be internally executed as <span class="code">f(1)|f(2)|f(3)</span>, and the resulting junction is <span class="code">2|4|6</span>. These are then all compared to <span class="code">4</span>, resulting in a junction <span class="code">False|True|False</span>. This process of separating junction arguments into multiple calls to a function is called <i>autothreading</i>.</p>
 <p>If you use the resulting junction in a boolean context, such as with an <span class="code">if</span>, it collapses into a single boolean which is <span class="code">True</span> if any of the values in the junction are True.</p>
 <pre class="code">    if f(1|2|3) == 4 {    # fires because f(2) == 4 is true 
         say 'success'; 
     } 
</pre>
 <a name="t18.11"></a><h1 id="_language_glossary.pod6-Backtracking">18.11 Backtracking <a name="158"></a></h1>
 <p>Backtracking is the default way a regexp is matched. The engine is allowed to explore several ways moving backward in the string characters in order to allow every piece of a regexp to match something. For more information see <a href="#_language_regexes.pod6-Backtracking">Regexp Backtracking section</a>.</p>
 <a name="t18.12"></a><h1 id="_language_glossary.pod6-binder">18.12 binder</h1>
 <p>When you pass an argument list to a function (or any other callable, like a method or a block), the argument list gets bound to the parameters in the signature. The code that does this is called the <i>binder</i>.</p>
 <a name="t18.13"></a><h1 id="_language_glossary.pod6-block">18.13 block <a name="159"></a></h1>
 <a name="t18.14"></a><h1 id="_language_glossary.pod6-bytecode">18.14 bytecode <a name="160"></a></h1>
 <a name="t18.15"></a><h1 id="_language_glossary.pod6-Camelia">18.15 Camelia <a name="161"></a></h1>
 <p>A butterfly image intended primarily to represent Perl 6, The Language.</p>
 <a name="t18.16"></a><h1 id="_language_glossary.pod6-Colon_Pair_and_Colon_List">18.16 Colon Pair and Colon List <a name="162"></a> <a name="163"></a></h1>
 <p>A colon pair is a shorthand syntax used to create or visually present a <a href="#_type_Pair.pod6">Pair</a> object. The two most common forms are:</p>
 <pre class="code">:a(4)          # Same as &quot;a&quot; =&gt; 4,   same as Pair.new(&quot;a&quot;, 4)
:a&lt;4&gt;          # Same as &quot;a&quot; =&gt; &quot;4&quot;, same as Pair.new(&quot;a&quot;, &quot;4&quot;)</pre>
 <p>This is also known as the adverbial pair form. Note: when the part after the colon and before the brackets is not a legal identifier, other semantics apply, not all of which produce Pair objects.</p>
 <p>Two other common forms are:</p>
 <pre class="code">:a             # Same as :a(True)
:!a            # Same as :a(False)</pre>
 <p>A colon list just means that a list that contains only colon pairs, does not need commas, or even spaces:</p>
 <pre class="code">:a(4):c:!d:c   # Same as a =&gt; 4, c =&gt; True, d =&gt; False, c =&gt; True</pre>
 <p>Finally, if there is a variable with the same name as an intended adverbial pair, you don't have to specify the name twice, but just specify the adverb with the appropriate sigil:</p>
 <pre class="code">:$foo          # same as foo =&gt; $foo 
 :@bar          # same as bar =&gt; @bar 
 :%mapper       # same as mapper =&gt; %mapper 
 :&amp;test         # same as test =&gt; &amp;test 
</pre>
 <p>See also <a href="#17-Adverb">#Adverb</a>.</p>
 <a name="t18.17"></a><h1 id="_language_glossary.pod6-Community">18.17 Community <a name="164"></a></h1>
 <p>See <a href="https://perl6.org/community/">https://perl6.org/community/</a> for information about how to participate in the friendly Perl 6 community.</p>
 <a name="t18.18"></a><h1 id="_language_glossary.pod6-Damian_Conway">18.18 Damian Conway</h1>
 <p>Original author of the <a href="#17-Exegesis">#Exegesis</a> (among many other things). See also <a href="https://en.wikipedia.org/wiki/Damian_Conway">https://en.wikipedia.org/wiki/Damian_Conway</a>.</p>
 <a name="t18.19"></a><h1 id="_language_glossary.pod6-diffy">18.19 diffy <a name="165"></a></h1>
 <p>See <a href="#17-Operator">operator</a>. It means the type of the operator result is sufficiently different from its arguments that op= makes little sense</p>
 <a name="t18.20"></a><h1 id="_language_glossary.pod6-Exegesis">18.20 Exegesis <a name="166"></a></h1>
 <p>A document originally written by <a href="#17-TheDamian">#TheDamian</a>, in which he tried to explain the <a href="#17-Apocalypse">Apocalypses</a> to the common (wo)man. Now only kept as an historical document for reference. See also <a href="#17-Synopsis">#Synopsis</a>.</p>
 <a name="t18.21"></a><h1 id="_language_glossary.pod6-fiddly">18.21 fiddly <a name="167"></a></h1>
 <p>Too complicated to apply a meta-op to. See <a href="#17-Operator">operator</a>.</p>
 <a name="t18.22"></a><h1 id="_language_glossary.pod6-Huffmanize">18.22 Huffmanize</h1>
 <p>With reference to <a href="https://en.wikipedia.org/wiki/Huffman_coding">Huffman coding</a>, &quot;huffmanizing&quot; is making things that are commonly used easier, and often shorter, to type. With things that are used less frequently it's both less of a bother to type longer pieces of code and often longer, more descriptive naming is necessary to easily be reminded of what the rarely-used feature does.</p>
 <p>For example, printing output is a common task, while performing thread-safe atomic addition on native atomicity-safe integers is much less so. There's a need to &quot;huffmanize&quot; the task printing and that's why you can do it by just typing three letters <a href="#_routine_put.pod6">put</a>. But there's no need to &quot;huffmanize&quot; the rarely-needed atomic operators, which is why you type the lengthier names, such as <a href="#_routine_atomic-inc-fetch.pod6">atomic-inc-fetch</a>. <a href="#_routine_put.pod6">put</a> is a bit of a vague name, but because it's commonly used, it's easy to learn what it does. <a href="#_routine_atomic-inc-fetch.pod6">atomic-inc-fetch</a>, on the other hand is rarer, and the more descriptive name helps recall its purpose better.</p>
 <a name="t18.23"></a><h1 id="_language_glossary.pod6-iffy">18.23 iffy <a name="168"></a></h1>
 <p>Often used as a boolean value. See <a href="#17-Operator">operator</a>.</p>
 <a name="t18.24"></a><h1 id="_language_glossary.pod6-Instance">18.24 Instance <a name="169"></a></h1>
 <p>An <i>instance</i> of a class is also called an <i>object</i> in some other programming languages. It has storage for attributes and is often the return value of a call to a method called <span class="code">new</span>, or a literal.</p>
 <p>Instances of most types are defined to be <span class="code">True</span> e.g., <span class="code">defined($instance)</span> is <span class="code">True</span>.</p>
 <pre class="code">my Str $str = &quot;hello&quot;;  ## this is with builtin types, e.g. Str
if defined($str) {
    say &quot;Oh, yeah. I'm defined.&quot;;
}
else {
    say &quot;No. Something off? &quot;;
}

## if you wanted objects...
class A {
    # nothing here for now.
}

my $an_instance = A.new;
say $an_instance.defined.perl;# defined($an_instance) works too.</pre>
 <p>To put things another way, a class contains the blueprints of methods and attributes, and an instance carries it into the real world.</p>
 <a name="t18.25"></a><h1 id="_language_glossary.pod6-Interface">18.25 Interface <a name="170"></a></h1>
 <p>An interface is an <a href="#17-Abstract Class">abstract class</a>.</p>
 <a name="t18.26"></a><h1 id="_language_glossary.pod6-Invocant">18.26 Invocant</h1>
 <p>Caller, <i>the one who calls or invokes</i>. The invocant of a method would be the object on which that method is being called, or, in some cases, the class itself. <i>Invocant</i> is used instead of caller because the latter refers to the <i>scope</i>.</p>
 <a name="t18.27"></a><h1 id="_language_glossary.pod6-IRC">18.27 IRC <a name="171"></a></h1>
 <p>Internet Relay Chat. Perl 6 developers and users usually hang out on the <span class="code">#perl6</span> channel of <span class="code">irc.freenode.org</span>. Currently available bots are:</p>
 <a name="t18.27.1"></a><h2 id="_language_glossary.pod6-camelia">18.27.1 camelia <a name="172"></a></h2>
 <p>The <a href="#17-Bot">#Bot</a> on the #perl6 <a href="#17-IRC">#IRC</a> channel that evaluates code, e.g.:</p>
 <pre class="code">[16:28:27]  &lt;lizmat&gt;  m: say &quot;Hello world&quot; 
 [16:28:28]  &lt;+camelia&gt;    rakudo-moar 812a48: OUTPUT«Hello world␤» 
</pre>
 <p>This is a handy tool for showing people if the output is (un)expected.</p>
 <a name="t18.27.2"></a><h2 id="_language_glossary.pod6-dalek">18.27.2 dalek <a name="173"></a></h2>
 <p>The <a href="#17-Bot">#Bot</a> on the #perl6 <a href="#17-IRC">#IRC</a> channel that reports changes made to various Perl 6 related <a href="#17-Repository">repositories</a>.</p>
 <pre class="code">[15:46:40] &lt;+dalek&gt; doc: 2819f25 | lizmat++ | doc/Language/glossary.pod: 
 [15:46:40] &lt;+dalek&gt; doc: Add stubs for stuff inside the glossary already 
 [15:46:40] &lt;+dalek&gt; doc: review: https://github.com/perl6/doc/commit/2819f250 
</pre>
 <a name="t18.27.3"></a><h2 id="_language_glossary.pod6-yoleaux">18.27.3 yoleaux <a name="174"></a></h2>
 <p>The <a href="#17-Bot">#Bot</a> on the #perl6 <a href="#17-IRC">#IRC</a> channel that provides various services to people logged in. Commands to yoleaux (a pun on <a href="https://en.wikipedia.org/wiki/YOLO_(aphorism)">YOLO</a>) start with a period. Some often used commands are:</p>
 <a name="t18.27.3.1"></a><h3 id="_language_glossary.pod6-.tell">18.27.3.1 .tell</h3>
 <p>Leave a message to another user who is currently not logged in. The message will be relayed as soon as the user says anything on the channel.</p>
 <pre class="code">.tell lizmat I've read the glossary 
</pre>
 <a name="t18.27.3.2"></a><h3 id="_language_glossary.pod6-.u">18.27.3.2 .u</h3>
 <p>Look up unicode codepoint information from either a codepoint, or the name of a codepoint.</p>
 <pre class="code">[16:35:44]  &lt;lizmat&gt;   .u empty set 
 [16:35:45]  &lt;yoleaux&gt;  U+2205 EMPTY SET [Sm] (∅) 
 [16:36:29]  &lt;lizmat&gt;   .u ∅ 
 [16:36:30]  &lt;yoleaux&gt;  U+2205 EMPTY SET [Sm] (∅) 
</pre>
 <p>Some <a href="#17-IRC">#IRC</a> clients then easily allow you to copy/paste the codepoint in question, which can be sometimes be easier than other unicode codepoint input methods.</p>
 <a name="t18.28"></a><h1 id="_language_glossary.pod6-IRC_Lingo">18.28 IRC Lingo</h1>
 <p>The following terms are often used on the Perl 6 related <a href="#17-IRC">#IRC</a> channels:</p>
 <a name="t18.28.1"></a><h2 id="_language_glossary.pod6-ALAP">18.28.1 ALAP <a name="175"></a></h2>
 <p>As Late As Possible</p>
 <a name="t18.28.2"></a><h2 id="_language_glossary.pod6-autopun">18.28.2 autopun <a name="176"></a></h2>
 <p>A self-referencing pun, e.g. &quot;Are you ignorant or apathetic?&quot; - &quot;I don't know, and I don't care.&quot;</p>
 <a name="t18.28.3"></a><h2 id="_language_glossary.pod6-backlog">18.28.3 backlog <a name="177"></a></h2>
 <p>That part of a discussion on an <a href="#17-IRC">#IRC</a> channel that you've missed. If it is not or no longer available in your IRC client, you can go to sites such as <a href="http://irc.perl6.org">http://irc.perl6.org</a> to see what has been logged for you.</p>
 <a name="t18.28.4"></a><h2 id="_language_glossary.pod6-Bot">18.28.4 Bot <a name="178"></a></h2>
 <p>A program that does automatic tasks on one or more <a href="#17-IRC">#IRC</a> channels by acting like a regular user (as far as the IRC server is concerned) and performing some tasks that may involve answering to users requests. Examples are <a href="#17-camelia">#camelia</a>, <a href="#17-dalek">#dalek</a> and <a href="#17-yoleaux">#yoleaux</a>.</p>
 <a name="t18.28.5"></a><h2 id="_language_glossary.pod6-DWIM">18.28.5 DWIM <a name="179"></a></h2>
 <p>Do What I Mean. A programming language designer motto.</p>
 <a name="t18.28.6"></a><h2 id="_language_glossary.pod6-flap">18.28.6 flap <a name="180"></a></h2>
 <p>Sometimes a test will fail under some conditions, but not others; when this test passes some test runs and fails others, it's called flapping.</p>
 <a name="t18.28.7"></a><h2 id="_language_glossary.pod6-fossil">18.28.7 fossil <a name="181"></a></h2>
 <p>Something in a generally current document that is no longer true but which has not yet been fixed by correcting or removing it.</p>
 <a name="t18.28.8"></a><h2 id="_language_glossary.pod6-FSVO">18.28.8 FSVO <a name="182"></a></h2>
 <p>For Some Value Of...</p>
 <a name="t18.28.9"></a><h2 id="_language_glossary.pod6-FTFY">18.28.9 FTFY <a name="183"></a></h2>
 <p>Fixed That For You</p>
 <a name="t18.28.10"></a><h2 id="_language_glossary.pod6-IIRC">18.28.10 IIRC <a name="184"></a></h2>
 <p>If I Read (or Remember) Correctly</p>
 <a name="t18.28.11"></a><h2 id="_language_glossary.pod6-IMHO">18.28.11 IMHO <a name="185"></a></h2>
 <p>In My Humble Opinion</p>
 <a name="t18.28.12"></a><h2 id="_language_glossary.pod6-IWBN">18.28.12 IWBN <a name="186"></a></h2>
 <p>It Would Be Nice</p>
 <a name="t18.28.13"></a><h2 id="_language_glossary.pod6-LHF">18.28.13 LHF <a name="187"></a></h2>
 <p>Low Hanging Fruit. Usually used in the context of a (relatively) simple task to be performed by a (relative) newbie.</p>
 <a name="t18.28.14"></a><h2 id="_language_glossary.pod6-LGTM">18.28.14 LGTM <a name="188"></a></h2>
 <p>Looks Good To Me</p>
 <a name="t18.28.15"></a><h2 id="_language_glossary.pod6-LTA">18.28.15 LTA <a name="189"></a></h2>
 <p>Less Than Awesome. Usually used in the context of an error message that is rather non-descriptive or unrelated to the actual error.</p>
 <a name="t18.28.16"></a><h2 id="_language_glossary.pod6-NST">18.28.16 NST <a name="190"></a></h2>
 <p>No Such Thing</p>
 <a name="t18.28.17"></a><h2 id="_language_glossary.pod6-Opt">18.28.17 Opt <a name="191"></a></h2>
 <p>Short for &quot;optimization&quot;, usually in either the context of <a href="#17-Spesh">spesh</a> or JIT.</p>
 <a name="t18.28.18"></a><h2 id="_language_glossary.pod6-PB">18.28.18 PB <a name="192"></a></h2>
 <p>Short for &quot;problem&quot;. As in &quot;that's not the pb&quot;.</p>
 <a name="t18.28.19"></a><h2 id="_language_glossary.pod6-PR">18.28.19 PR <a name="193"></a></h2>
 <p>See <a href="#17-Pull Request">#Pull Request</a>.</p>
 <a name="t18.28.20"></a><h2 id="_language_glossary.pod6-P5">18.28.20 P5 <a name="194"></a></h2>
 <p>Perl 5</p>
 <a name="t18.28.21"></a><h2 id="_language_glossary.pod6-P6">18.28.21 P6 <a name="195"></a></h2>
 <p>Perl 6</p>
 <a name="t18.28.22"></a><h2 id="_language_glossary.pod6-RSN">18.28.22 RSN <a name="196"></a></h2>
 <p>Real Soon Now</p>
 <a name="t18.28.23"></a><h2 id="_language_glossary.pod6-RT">18.28.23 RT <a name="197"></a></h2>
 <p>Request Tracker (<a href="http://rt.perl.org/">http://rt.perl.org/</a>). The place where all the bugs related to <a href="#17-Rakudo">#Rakudo</a> live.</p>
 <a name="t18.28.24"></a><h2 id="_language_glossary.pod6-TIMTOWTDI">18.28.24 TIMTOWTDI <a name="198"></a></h2>
 <p>An alternative form of <a href="#17-TMTOWTDI">#TMTOWTDI</a>, explicitly including the &quot;is&quot; from the contraction &quot;There's&quot;.</p>
 <a name="t18.28.25"></a><h2 id="_language_glossary.pod6-TMI">18.28.25 TMI <a name="199"></a></h2>
 <p>Too Much Information.</p>
 <a name="t18.28.26"></a><h2 id="_language_glossary.pod6-TMTOWTDI">18.28.26 TMTOWTDI <a name="200"></a></h2>
 <p>&quot;There's More Than One Way To Do It&quot;, the Perl motto.</p>
 <a name="t18.28.27"></a><h2 id="_language_glossary.pod6-UGT">18.28.27 UGT <a name="201"></a></h2>
 <p>&quot;Universal Greeting Time&quot; - i.e., it's always &quot;morning&quot;.</p>
 <a name="t18.28.28"></a><h2 id="_language_glossary.pod6-WFM">18.28.28 WFM <a name="202"></a></h2>
 <p>Works For Me</p>
 <a name="t18.28.29"></a><h2 id="_language_glossary.pod6-WIP">18.28.29 WIP <a name="203"></a></h2>
 <p>Work In Progress</p>
 <a name="t18.28.30"></a><h2 id="_language_glossary.pod6-WP">18.28.30 WP <a name="204"></a></h2>
 <p>Wikipedia</p>
 <a name="t18.28.31"></a><h2 id="_language_glossary.pod6-WW">18.28.31 WW <a name="205"></a></h2>
 <p>Short for <span class="code">wrong window</span>. When on <a href="#17-IRC">#IRC</a>, someone types something in a channel that was intended for another channel, or for a private message.</p>
 <a name="t18.29"></a><h1 id="_language_glossary.pod6-Larry_Wall">18.29 Larry Wall</h1>
 <p><a href="#17-Perl">Perl's</a> benevolent dictator for life, among many other things. See also <a href="https://en.wikipedia.org/wiki/Larry_Wall">https://en.wikipedia.org/wiki/Larry_Wall</a>.</p>
 <a name="t18.30"></a><h1 id="_language_glossary.pod6-Lexing">18.30 Lexing <a name="206"></a></h1>
 <a name="t18.31"></a><h1 id="_language_glossary.pod6-Literal">18.31 Literal <a name="207"></a></h1>
 <p>A <i>literal</i> is a piece of code that directly stands for an (often built-in) object and also refers to the object itself.</p>
 <pre class="code">my $x = 2;      # the 2 is a literal
say $x;         # $x is not a literal, but a variable
my $s = &quot;Foo&quot;;  # the &quot;Foo&quot; is a literal, the $s is a variable</pre>
 <a name="t18.32"></a><h1 id="_language_glossary.pod6-lvalue">18.32 lvalue <a name="208"></a></h1>
 <p>An <i>lvalue</i>, or a <i>left value</i>, is anything that can appear on the left hand side of the assignment operator <span class="code">=</span>. It is anything you can assign to.</p>
 <p>Typical lvalues are variables, private and <span class="code">is rw</span> attributes, lists of variables and lvalue subroutines.</p>
 <p>Examples of lvalues:</p>
 <table>
<tr><th>Declaration</th> <th>lvalue</th> <th>Comments</th></tr>
<tr><td>my $x;</td> <td>$x</td> <td></td></tr>
 <tr><td>my ($a, $b);</td> <td>($a, $b)</td> <td></td></tr>
 <tr><td>has $!attribute;</td> <td>$!attribute</td> <td>Only inside classes</td></tr>
 <tr><td>has $.attrib is rw;</td> <td>$.attrib</td> <td></td></tr>
 <tr><td>sub a is rw { $x };</td> <td>a()</td> <td></td></tr>
</table> <p>Examples of things that are not lvalues:</p>
 <table>
<tr><td>3</td> <td>literals</td></tr>
 <tr><td>constant x = 3;</td> <td>constants</td></tr>
 <tr><td>has $.attrib;</td> <td>attributes; you can only assign to $!attrib</td></tr>
 <tr><td>sub f { }; f();</td> <td>&quot;normal&quot; subs are not writable</td></tr>
 <tr><td>sub f($x) { $x = 3 };</td> <td>error - parameters are read-only by default</td></tr>
</table> <p>These are typically called <a href="#17-rvalue">rvalues</a>.</p>
 <a name="t18.33"></a><h1 id="_language_glossary.pod6-Mainline">18.33 Mainline <a name="209"></a></h1>
 <p>The <span class="code">mainline</span> is the program text that is not part of any kind of block.</p>
 <pre class="code">use v6.c;     # mainline
sub f {
              # not in mainline, in sub f
}
f();          # in mainline again</pre>
 <p>You can also have the mainline of any package-like declarator, such as class, <a href="#_language_modules.pod6">module</a>, <a href="#_language_grammars.pod6">grammar</a>, etc. These are typically run just after the class/module/grammar have been compiled (or when loaded from a pre-compiled file).</p>
 <a name="t18.34"></a><h1 id="_language_glossary.pod6-MoarVM">18.34 MoarVM <a name="210"></a></h1>
 <p>MoarVM is short for Metamodel On A Runtime Virtual Machine. It's a virtual machine designed specifically for <a href="#17-NQP">#NQP</a> and its <a href="#_language_mop.pod6">MOP</a>: <a href="#17-6model">#6model</a>. A document about <a href="https://github.com/MoarVM/MoarVM/blob/master/docs/reveal.md">the purpose of MoarVM</a>. MoarVM has some similarities with the Hotspot VM so you may peruse its <a href="http://openjdk.java.net/groups/hotspot/docs/HotSpotGlossary.html">glossary</a> for entries missing from the present one.</p>
 <a name="t18.35"></a><h1 id="_language_glossary.pod6-Multi-Dispatch">18.35 Multi-Dispatch <a name="211"></a><a name="212"></a></h1>
 <p>The process of picking a candidate for calling of a set of <a href="#_type_Method.pod6">methods</a> or <a href="#_type_Sub.pod6">subs</a> that come by the same name but with different arguments. The most narrow candidate wins. In case of an ambiguity, a routine with <span class="code">is default</span> trait will be chosen if one exists, otherwise an exception is thrown.</p>
 <a name="t18.36"></a><h1 id="_language_glossary.pod6-multi-method">18.36 multi-method <a name="213"></a></h1>
 <p>A <a href="#_type_Method.pod6">method</a> that has multiple candidates going by the same name and are subject to <a href="#17-Multi-Dispatch">Multi-Dispatch</a>.</p>
 <a name="t18.37"></a><h1 id="_language_glossary.pod6-NFG">18.37 NFG <a name="214"></a></h1>
 <p>Normal Form Grapheme</p>
 <a name="t18.38"></a><h1 id="_language_glossary.pod6-Niecza">18.38 Niecza <a name="215"></a></h1>
 <p>An implementation of Perl 6 targeting the .NET platform. No longer actively maintained.</p>
 <a name="t18.39"></a><h1 id="_language_glossary.pod6-Not_Quite_Perl">18.39 Not Quite Perl <a name="216"></a></h1>
 <p>See <a href="#17-NQP">#NQP</a>.</p>
 <a name="t18.40"></a><h1 id="_language_glossary.pod6-NQP">18.40 NQP <a name="217"></a></h1>
 <p>NQP is a primitive language for writing subroutines and methods using a subset of the Perl 6 syntax. It's not intended to be a full-fledged programming language, nor does it provide a runtime environment beyond the basic VM primitives. Compilers (such as <a href="#17-Rakudo">#Rakudo</a> typically use NQP to compile action methods that convert a parse tree into its equivalent abstract syntax tree representation.</p>
 <a name="t18.41"></a><h1 id="_language_glossary.pod6-NYI">18.41 NYI <a name="218"></a></h1>
 <p>Not Yet Implemented</p>
 <a name="t18.42"></a><h1 id="_language_glossary.pod6-opcode">18.42 opcode <a name="219"></a></h1>
 <a name="t18.43"></a><h1 id="_language_glossary.pod6-Operator">18.43 Operator <a name="220"></a></h1>
 <p>An expression is made of operators and operands. More precisely it is made of an operator and operands that can be subexpressions or <a href="#17-value">#value</a>s. Operators are an alternative syntax for a <a href="#17-multi-method">#multi-method</a>. With that syntax, what would be the arguments of the function are named operands instead. Operators are classified into <a href="https://design.perl6.org/S02.html#Grammatical_Categories">categories</a> of categories. A category has a precedence, an arity, and can be <a href="#17-fiddly">#fiddly</a>, <a href="#17-iffy">#iffy</a>, <a href="#17-diffy">#diffy</a>. Perl 6 is very creative as to what is an operator, so there are many categories. Operators are made of many tokens, possibly with a subexpression. For example, <span class="code">@a[0]</span> belongs to the postcircumfix category, is broken into the operand <span class="code">@a</span> and the postcircumfix operator <span class="code">[0]</span> where <span class="code">0</span> is the postcircumfixed subexpression.</p>
 <p>The <span class="code">&lt;O(I&lt;...&gt;)&gt; </span> construction gives information about an operator that completes the information provided by its category. Below <span class="code">%conditional</span> is the category, <span class="code">:reducecheck&lt;ternary&gt; </span>, which specifies calling <span class="code">.ternary</span> to post-process the <a href="#17-Parse Tree">parse subtree</a> and <span class="code">:pasttype&lt;if&gt; </span> specifies the NQP <a href="#17-opcode">#opcode</a> generated in the AST from the parse subtree.</p>
 <pre class="code">&lt;O('%conditional, :reducecheck&lt;ternary&gt;, :pasttype&lt;if&gt;')&gt;</pre>
 <a name="t18.44"></a><h1 id="_language_glossary.pod6-Parse_Tree">18.44 Parse Tree <a name="221"></a></h1>
 <a name="t18.45"></a><h1 id="_language_glossary.pod6-Parameter">18.45 Parameter <a name="222"></a></h1>
 <p><a href="#_type_Parameter.pod6">Parameter</a> is a class to define parameters to subroutines, method and a <a href="#_type_Callable.pod6">callable blocks</a>. As opposed to the arguments you specify when calling a subroutine/method/callable block.</p>
 <pre class="code">sub foo($bar) { say $bar }     # $bar is a parameter
foo(42);                       # 42 is an argument</pre>
 <a name="t18.46"></a><h1 id="_language_glossary.pod6-Parrot">18.46 Parrot <a name="223"></a></h1>
 <p>A <a href="#17-Virtual Machine">virtual machine</a> designed to run Perl 6 and other dynamic languages. No longer actively maintained.</p>
 <a name="t18.47"></a><h1 id="_language_glossary.pod6-PAST">18.47 PAST <a name="224"></a></h1>
 <p><a href="#17-Parrot">#Parrot</a> AST.</p>
 <a name="t18.48"></a><h1 id="_language_glossary.pod6-Perl">18.48 Perl <a name="225"></a></h1>
 <p>The Perl programming language in its many forms.</p>
 <a name="t18.49"></a><h1 id="_language_glossary.pod6-PERL">18.49 PERL <a name="226"></a></h1>
 <p>A way to describe <a href="#17-Perl">Perl</a> as a language, considered to be improper by many in the <a href="#_language_community.pod6">Perl Community</a>.</p>
 <a name="t18.50"></a><h1 id="_language_glossary.pod6-POD">18.50 POD <a name="227"></a></h1>
 <p><b>P</b>lain <b>O</b>l' <b>D</b>ocumentation, a documentation format understood by Perl 6. See <a href="https://design.perl6.org/S26.html">S26</a> for details.</p>
 <a name="t18.51"></a><h1 id="_language_glossary.pod6-Pull_Request">18.51 Pull Request <a name="228"></a></h1>
 <p>A feature of <a href="https://github.com">https://github.com</a> that allows you to make patches to be easily applied using the Github user interface. It means you request someone to do a git pull from your <a href="#17-Repository">repository</a> to hers. In GitHub, it can be done automatically through the web interface. PR is its usual acronym.</p>
 <a name="t18.52"></a><h1 id="_language_glossary.pod6-pugs">18.52 pugs <a name="229"></a></h1>
 <p><a href="https://en.wikipedia.org/wiki/Pugs">pugs</a> was one of the first interpreters/compilers written for Perl 6. It was written in Haskell by Audrey Tang.</p>
 <a name="t18.53"></a><h1 id="_language_glossary.pod6-QAST">18.53 QAST <a name="230"></a></h1>
 <p>Successor to <a href="#17-PAST">#PAST</a> ('Q' being the next letter after 'P').</p>
 <a name="t18.54"></a><h1 id="_language_glossary.pod6-Rakudo">18.54 Rakudo <a name="231"></a></h1>
 <p>Rakudo is the name of a Perl 6 implementation that runs on <a href="#17-MoarVM">#MoarVM</a> and the JVM. It is an abbreviation of <span class="code">Rakuda-do</span>, which, when translated from Japanese, means &quot;The Way of the Camel&quot;. Also, in Japanese, &quot;Rakudo&quot; means &quot;Paradise.&quot;</p>
 <a name="t18.55"></a><h1 id="_language_glossary.pod6-Reify">18.55 Reify <a name="232"></a></h1>
 <p>In the English language, <a href="http://www.dictionary.com/browse/reify">reify means</a> &quot;to convert into or regard as a concrete thing.&quot; Its meaning in Perl 6 is very similar, in that conceptual things, like &quot;elements of an infinite list&quot;, get <i>reified</i> when you try to operate on some of them:</p>
 <pre class="code"># A list containing infinite number of un-reified Fibonacci numbers:
my @fibonacci = 1, 1, * + * … ∞;

# We reify 10 of them, looking up the first 10 of them with array index:
say @fibonacci[^10]; # OUTPUT: «(1 1 2 3 5 8 13 21 34 55)␤»

# We reify 5 more: 10 we already reified on previous line, and we need to
# reify 5 more to get the 15th element at index 14. Even though we need only
# the 15th element, the original Seq still has to reify all previous elements:
say @fibonacci[14]; # OUTPUT: «987␤»</pre>
 <p>Above we were reifying a <a href="#_type_Seq.pod6">Seq</a> we created with the <a href="#_language_operators.pod6-index-entry-%E2%80%A6_operators">sequence operator</a>, but other things use the concept as well. For example, an un-reified <a href="#_type_Range.pod6">Range</a> is just the two end points. In some languages, calculating the sum of a huge range is a lengthy and memory-consuming process, but Perl 6 calculates it instantly:</p>
 <pre class="code">say sum 1 .. 9_999_999_999_999; # OUTPUT: «49999999999995000000000000␤»</pre>
 <p>Why? Because the sum can be calculated <i>without</i> reifying the Range; that is, without figuring out all the elements it contains. This is why this feature exists. You can even make your own things reify-on-demand, using <a href="#_syntax_gather%20take.pod6"><span class="code">gather</span>  and  <span class="code">take</span></a>:</p>
 <pre class="code">my $seq = gather {
    say &quot;About to make 1st element&quot;; take 1;
    say &quot;About to make 2nd element&quot;; take 2;
}
say &quot;Let's reify an element!&quot;;
say $seq[0];
say &quot;Let's reify more!&quot;;
say $seq[1];
say &quot;Both are reified now!&quot;;
say $seq[^2];

# OUTPUT:
# Let's reify an element!
# About to make 1st element
# 1
# Let's reify more!
# About to make 2nd element
# 2
# Both are reified now!
# (1 2)</pre>
 <p>Following the output above, you can see the print statements <i>inside</i> the <span class="code">gather</span> got executed only when we reified the individual elements while looking up an element. Also note that the elements got reified just once. When we printed the same elements again on the last line of the example, the messages inside <span class="code">gather</span> was no longer printed. This is because the construct used already-reified elements from the <a href="#_type_Seq.pod6">Seq</a>'s cache.</p>
 <p>Note that above we assigned the <span class="code">gather</span> to a <a href="#_type_Scalar.pod6">Scalar</a> container (the <span class="code">$</span> sigil), not the <a href="#_type_Positional.pod6">Positional</a> one (the <span class="code">@</span> sigil). The reason is that the <span class="code">@</span>-sigiled variables are <i>mostly eager</i>. What this means is they <i>reify the stuff assigned to them</i> right away <i>most of the time</i>. The only time they don't do it is when the items are known to be <a href="#_routine_is-lazy.pod6"><span class="code">is-lazy</span></a>, like our sequence generated with infinity as the end point. Were we to assign the <span class="code">gather</span> to a <span class="code">@</span>-variable, the <span class="code">say</span> statements inside of it would've been printed right away.</p>
 <p>Another way to fully-reify a list, is by calling <a href="#_routine_elems.pod6"><span class="code">.elems</span></a> on it. This is the reason why checking whether a list contains any items is best done by using <span class="code">.Bool</span> method (or just using <span class="code">if @array { … }</span>), since you don't need to reify <i>all</i> the elements to find out if there are <span class="code">any</span> of them.</p>
 <p>There are times where you <i>do</i> want to fully-reify a list before doing something. For example, the <a href="#_type_IO::Handle.pod6-method_lines"><span class="code">IO::Handle.lines</span></a> returns a <a href="#_type_Seq.pod6">Seq</a>. The following code contains a bug; keeping reification in mind, try to spot it:</p>
 <pre class="code">my $fh = &quot;/tmp/bar&quot;.IO.open; 
 my $lines = $fh.lines; 
 close $fh; 
 say $lines[0]; 
</pre>
 <p>We open a <a href="#_type_IO::Handle.pod6">file handle</a>, then assign return of <a href="#_type_IO::Handle.pod6-method_lines"><span class="code">.lines</span></a> to a <a href="#_type_Scalar.pod6">Scalar</a> variable, so the returned <a href="#_type_Seq.pod6">Seq</a> does not get reified right away. We then <a href="#_routine_close.pod6"><span class="code">close</span></a> the file handle, and try to print an element from <span class="code">$lines</span>.</p>
 <p>The bug in the code is by the time we reify the <span class="code">$lines</span> <a href="#_type_Seq.pod6">Seq</a> on the last line, we've <i>already closed</i> the file handle. When the <span class="code">Seq's</span> iterator tries to generate the item we've requested, it results in the error about attempting to read from a closed handle. So, to fix the bug we can either assign to a <span class="code">@</span>-sigiled variable or call <a href="#_routine_elems.pod6"><span class="code">.elems</span></a> on <span class="code">$lines</span> before closing the handle:</p>
 <pre class="code">my $fh = &quot;/tmp/bar&quot;.IO.open; 
 my @lines = $fh.lines; 
 close $fh; 
 say @lines[0]; # no problem! 
</pre>
 <p>Also good:</p>
 <pre class="code">my $fh = &quot;/tmp/bar&quot;.IO.open; 
 my $lines = $fh.lines; 
 say &quot;Read $lines.elems() lines&quot;; #reifying before closing handle 
 close $fh; 
 say $lines[0]; # no problem! 
</pre>
 <a name="t18.56"></a><h1 id="_language_glossary.pod6-Repository">18.56 Repository <a name="233"></a></h1>
 <p>A filesystem under control of a source control management application, usually git, that holds the sources for a project, library or application. This file, for instance, is in <a href="https://github.com/perl6/doc">a GitHub repository</a>. Repositories store not only files, but also history of changes and can be used by the developing or writing team for interaction through issues or comments to code.</p>
 <a name="t18.57"></a><h1 id="_language_glossary.pod6-roast">18.57 roast <a name="234"></a></h1>
 <p>The Perl 6 <a href="#17-test suite">specification tests</a>, which live here: <a href="https://github.com/perl6/roast/">https://github.com/perl6/roast/</a>. Originally developed for <a href="#17-pugs">#pugs</a>, it now serves all Perl 6 implementations. Why roast? It's the <b>r</b>epository <b>o</b>f <b>a</b>ll <b>s</b>pec <b>t</b>ests.</p>
 <a name="t18.58"></a><h1 id="_language_glossary.pod6-Roles">18.58 Roles <a name="235"></a></h1>
 <p>Roles, mix-ins or traits define interfaces and/or implementation of those interfaces as well as instance variables using them, and are mixed-in when declaring classes that follow that interface. <a href="#17-Abstract Class">Abstract classes</a> are particular examples of Roles where the actual implementation is deferred to the class that uses that Role.</p>
 <p>Roles are part of Perl6's <a href="#_language_objects.pod6">object system</a>, and are declared using the keyword <a href="#_syntax_role.pod6">role</a> and used in class declaration via <a href="#_routine_does.pod6">does</a>.</p>
 <a name="t18.59"></a><h1 id="_language_glossary.pod6-rule">18.59 rule <a name="236"></a></h1>
 <p>(Used in regular expressions)</p>
 <a name="t18.60"></a><h1 id="_language_glossary.pod6-rvalue">18.60 rvalue <a name="237"></a></h1>
 <p>A value that can be used on the right hand side of an assignment. See also <a href="#17-lvalue">#lvalue</a>.</p>
 <a name="t18.61"></a><h1 id="_language_glossary.pod6-Semilist">18.61 <a name="238"></a>Semilist</h1>
 <p>A semilist is a <i>semicolon-separated</i> list like this one: <span class="code">1;3;5</span>, and is actually a list of lists, with each component of the semilist being a slice of a particular dimension. <span class="code">@array[1;3;5]</span> would be equivalent to <span class="code">@array[1][3][5]</span>.</p>
 <a name="t18.62"></a><h1 id="_language_glossary.pod6-Sigil">18.62 Sigil <a name="239"></a></h1>
 <p>In Perl, the sigil is the first character of a variable name. It must be either $, @, %, or &amp; respectively for a <a href="#_type_Scalar.pod6">scalar</a>, <a href="#_type_Array.pod6">array</a>, <a href="#_type_Hash.pod6">hash</a>, or <a href="#_type_Code.pod6">code</a> variable. See also Twigil and role. Also sigiled variables allow short conventions for <a href="#17-Variable Interpolation">variable interpolation</a> in a double quoted string, or even postcircumfix expressions starting with such a variable.</p>
 <a name="t18.63"></a><h1 id="_language_glossary.pod6-Sigilless_Variable">18.63 Sigilless Variable <a name="240"></a></h1>
 <a name="t18.64"></a><h1 id="_language_glossary.pod6-Spesh">18.64 Spesh <a name="241"></a></h1>
 <p>A functionality of the <a href="#17-MoarVM">#MoarVM</a> platform that uses run-time gathered data to improve commonly used pieces of <a href="#17-bytecode">#bytecode</a>. It is much like a JIT compiler, except that those usually output machine code rather than bytecode.</p>
 <a name="t18.65"></a><h1 id="_language_glossary.pod6-STD">18.65 STD <a name="242"></a></h1>
 <p>STD.pm is the &quot;standard&quot; Perl 6 grammar definition, see <a href="https://github.com/perl6/std/">https://github.com/perl6/std/</a> that was used to implement Perl 6. STD.pm is no longer really a &quot;specification&quot; in a proscriptive sense: it's more of a guideline or model for Perl 6 implementations to follow.</p>
 <a name="t18.66"></a><h1 id="_language_glossary.pod6-Stub">18.66 Stub <a name="243"></a></h1>
 <a name="t18.67"></a><h1 id="_language_glossary.pod6-Symbol">18.67 Symbol <a name="244"></a></h1>
 <p>Fancy alternative way to denote a name. Generally used in the context of <a href="#_language_modules.pod6">module</a>s linking, be it in the OS level, or at the Perl 6 <a href="#17-Virtual Machine">#Virtual Machine</a> level for modules generated from languages targeting these VMs. The set of imported or exported symbols is called the symbol table.</p>
 <a name="t18.68"></a><h1 id="_language_glossary.pod6-Synopsis">18.68 Synopsis <a name="245"></a></h1>
 <p>The current human-readable description of the Perl 6 language. Still in development. Much more a community effort than the <a href="#17-Apocalypse">Apocalypses</a> and <a href="#17-Exegesis">Exegeses</a> were. The current state of the language is reflected by <a href="#17-roast">#roast</a>, its <a href="#17-test suite">#test suite</a>, not the synopses where speculative material is not always so flagged or more recent additions have not been documented. This is even more true of material that has not been yet implemented.</p>
 <a name="t18.69"></a><h1 id="_language_glossary.pod6-Syntax_Analysis">18.69 Syntax Analysis <a name="246"></a></h1>
 <a name="t18.70"></a><h1 id="_language_glossary.pod6-test_suite">18.70 test suite <a name="247"></a></h1>
 <p>The Perl 6 test suite is <a href="#17-roast">#roast</a></p>
 <a name="t18.71"></a><h1 id="_language_glossary.pod6-ASCII_operator">18.71 ASCII operator <a name="248"></a> <a name="249"></a></h1>
 “Texas” was used in the past but is now discouraged.
Remove the link when “Texas” goes completely out of use.
 <p>The ASCII variant of a non-ASCII Unicode <a href="#17-Operator">operator</a> or <a href="#17-Symbol">symbol</a>. For instance, <span class="code">(elem)</span> corresponds to the <span class="code">∈</span> (&quot;Is this an element of that set?&quot;) operator that comes from set theory. ASCII operators are a workaround to the problem that people don't know how to type Unicode yet. Culturally, while we encourage people to use the Unicode symbols in a vague sort of way, we do not disparage the use of the <a href="#_language_unicode_ascii.pod6">ASCII variants</a>. Well, maybe just a little...</p>
 <a name="t18.72"></a><h1 id="_language_glossary.pod6-TheDamian">18.72 TheDamian</h1>
 <p><a href="#17-IRC">#IRC</a> screen name for <a href="#17-Damian Conway">#Damian Conway</a>, writer of the original <a href="#17-Exegesis">Exegeses</a>.</p>
 <a name="t18.73"></a><h1 id="_language_glossary.pod6-TimToady">18.73 TimToady</h1>
 <p><a href="#17-IRC">#IRC</a> screen name for <a href="#17-Larry Wall">#Larry Wall</a>, creator of Perl. The name comes from the pronunciation of <a href="#17-TIMTOWTDI">#TIMTOWTDI</a> as a word.</p>
 <a name="t18.74"></a><h1 id="_language_glossary.pod6-Thunk">18.74 Thunk <a name="250"></a></h1>
 <p>A piece of code that isn't immediately executed, but doesn't have an independent scope.</p>
 <a name="t18.75"></a><h1 id="_language_glossary.pod6-twine">18.75 twine <a name="251"></a></h1>
 <p>A data structure used to hold a POD string with embedded formatting codes. For example:</p>
 <pre class="code">=begin pod 
 C&lt;foo&gt; 
 =end pod 
 say $=pod[0].contents[0].contents.perl; 
</pre>
 <p>The output will be:</p>
 <pre class="code">[&quot;&quot;, Pod::FormattingCode.new(type =&gt; &quot;C&quot;, meta =&gt; [], config =&gt; {}, contents =&gt; [&quot;foo&quot;]),&quot;&quot;] 
</pre>
 <p>Note the <span class="code">twine</span> is an array with an odd number of elements beginning with a simple string, alternating with formatting code objects and simple strings, and ending with a simple string. (The formatting code objects are inter<span class="code">twine</span>d with the strings.) The strings may be empty (as shown in the example). A twine with no formatting code will contain one simple string.</p>
 <a name="t18.76"></a><h1 id="_language_glossary.pod6-value">18.76 value <a name="252"></a></h1>
 <a name="t18.77"></a><h1 id="_language_glossary.pod6-Value_type">18.77 Value type <a name="253"></a></h1>
 <p>A type is known as a <b>value type</b> if it is immutable and any instance of that type is interchangeable with any other instance &quot;of the same value&quot;—that is, any instance constructed in the same way. An instance of a value type is often <i>called</i> a <b>value</b> (but should not be confused with <a href="#17-lvalue">#lvalue</a>s or <a href="#17-rvalue">#rvalue</a>s).</p>
 <p>For example, numbers are value types, so a number constructed one place in your program with, for instance, the literal <span class="code">3</span> can't be changed in any way—it simply <i>is</i> 3—and any later use of the literal <span class="code">3</span> can safely be pointed at the same place in memory as the first with no ill consequences.</p>
 <p>Classes doing the roles <a href="#_type_Numeric.pod6">Numeric</a> and <a href="#_type_Stringy.pod6">Stringy</a> are among a few examples of built-in value types.</p>
 <p>A value type is created by ensuring that an instance of the value type is immutable (i.e., its attributes cannot be modified after construction) and that its <a href="#_routine_WHICH.pod6"><span class="code">WHICH</span></a> method returns the same thing every time an instance with the same value is constructed (and conversely returns a different thing every time an instance with a different value is constructed).</p>
 <p>The language is free to optimize based on the assumption that equivalent instances of value types are interchangeable, but you should not depend on any such optimization. For instance, if you want <a href="#_routine_clone.pod6"><span class="code">clone</span></a> to return an instance of <span class="code">self</span>, or you want instance construction to be memoized so that re-construction of a previously-constructed value always returns the same instance, you currently must override this behavior yourself.</p>
 <p>(The same would hold true of object finalization, but if your instances need special destruction behavior, you almost certainly do not actually have a value type. Values should be thought of as &quot;timeless&quot; and existing in some ideal form outside of your program's memory, like natural values are.)</p>
 <a name="t18.78"></a><h1 id="_language_glossary.pod6-Variable">18.78 Variable <a name="254"></a></h1>
 <p>A variable is a name for a <a href="#_language_containers.pod6">container</a>.</p>
 <a name="t18.79"></a><h1 id="_language_glossary.pod6-Variable_Interpolation">18.79 Variable Interpolation <a name="255"></a></h1>
 <a name="t18.80"></a><h1 id="_language_glossary.pod6-Virtual_Machine">18.80 Virtual Machine <a name="256"></a></h1>
 <p>A virtual machine is the Perl compiler entity that executes the <a href="#17-bytecode">bytecode</a>. It can optimize the bytecode or generate machine code Just in Time. Examples are <a href="#17-MoarVM">#MoarVM</a>, <a href="#17-Parrot">#Parrot</a> (who are intended to run Perl 6) and more generic virtual machines such as JVM and Javascript.</p>
 <a name="t18.81"></a><h1 id="_language_glossary.pod6-whitespace">18.81 whitespace <a name="257"></a></h1>
 <a name="t18.82"></a><h1 id="_language_glossary.pod6-6model">18.82 6model <a name="258"></a></h1>
</div>
<!-- /language/grammar_tutorial.pod6 --><div class="pod-body"><a id="_language_grammar_tutorial.pod6"></a><a name="t19"><h1 class="title">19 Grammar Tutorial</h1></a> <p class="subtitle">An introduction to grammars</p> <a name="t19.1"></a><h1 id="_language_grammar_tutorial.pod6-Before_We_Start">19.1 Before We Start</h1>
 <a name="t19.1.1"></a><h2 id="_language_grammar_tutorial.pod6-Why_grammars?">19.1.1 Why grammars?</h2>
 <p>Grammars parse strings and return data structures from those strings. Grammars can be used to prepare a program for execution, to determine if a program can run at all (if it's a valid program), to break down a web page into constituent parts, or to identify the different parts of a sentence, among other things.</p>
 <a name="t19.1.2"></a><h2 id="_language_grammar_tutorial.pod6-When_would_I_use_grammars?">19.1.2 When would I use grammars?</h2>
 <p>If you have strings to tame or interpret, grammars provide the tools to do the job.</p>
 <p>The string could be a file that you're looking to break into sections; perhaps a protocol, like SMTP, where you need to specify which &quot;commands&quot; come after what user-supplied data; maybe you're designing your own domain specific language. Grammars can help.</p>
 <a name="t19.1.3"></a><h2 id="_language_grammar_tutorial.pod6-The_broad_concept_of_grammars">19.1.3 The broad concept of grammars</h2>
 <p>Regular expressions (<a href="#_language_regexes.pod6">Regexes</a>) work well for finding patterns in strings. However, for some tasks, like finding multiple patterns at once, or combining patterns, or testing for patterns that may surround strings regular expressions, alone, are not enough.</p>
 <p>When working with HTML, you could define a grammar to recognize HTML tags, both the opening and closing elements, and the text in between. You could then organize these elements into data structures, such as arrays or hashes.</p>
 <a name="t19.2"></a><h1 id="_language_grammar_tutorial.pod6-Getting_More_Technical">19.2 Getting More Technical</h1>
 <a name="t19.2.1"></a><h2 id="_language_grammar_tutorial.pod6-The_conceptual_overview">19.2.1 The conceptual overview</h2>
 <p>Grammars are a special kind of class. You declare and define a grammar exactly as you would any other class, except that you use the <i>grammar</i> keyword instead of <i>class</i>.</p>
 <pre class="code">grammar G { ... } 
</pre>
 <p>Grammars are made up of methods that define a regex, a token, or a rule. These are all varieties of different types of match methods. Once you have a grammar defined, you call it and pass in a string for parsing.</p>
 <pre class="code">my $matchObject = G.parse($string); 
</pre>
 <p>Now, you may be wondering, if I have all these regexes defined that just return their results, how does that help with parsing strings that may be ahead or backwards in a string, or things that need to be combined from many of those regexes... and that's where grammar actions come in.</p>
 <p>For every &quot;method&quot; you match in your grammar, you get an action you can use to act on that match. You also get an overarching action that you can use to tie together all your matches and to build a data structure. This overarching method is called <span class="code">TOP</span> by default.</p>
 <a name="t19.2.2"></a><h2 id="_language_grammar_tutorial.pod6-The_technical_overview">19.2.2 The technical overview</h2>
 <p>As already mentioned, grammars are declared using the <i>grammar</i> keyword and its &quot;methods&quot; are declared with <i>regex</i>, or <i>token</i>, or <i>rule</i>.</p>
 <ul><li><p>Regex methods are slow but thorough, which will look back in the string and really try.</p>
</li></ul> <ul><li><p>Token methods are faster than regex methods and ignore whitespace.</p>
</li></ul> <ul><li><p>Rule methods are the same as token methods except whitespace is not ignored.</p>
</li></ul> <p>When a method (regex, token or rule) matches in the grammar, the string matched is put into a <a href="#_type_Match.pod6">match object</a> and keyed with the same name as the method.</p>
 <pre class="code">grammar G { 
     token TOP { &lt;thingy&gt; .* } 
     token thingy { 'clever_text_keyword' } 
 } 
</pre>
 <p>If you were to use <span class="code">my $match = G.parse($string)</span> and your string started with 'clever_text_keyword', you would get a match object back that contained 'clever_text_keyword' keyed by the name of <span class="code">&lt;thingy&gt;</span> in your match object.</p>
 <p>The <span class="code">TOP</span> method (whether regex, token, or rule) is the overarching pattern that must match everything (by default). If the parsed string doesn't match the TOP regex, your returned match object will be empty (<span class="code">Nil</span>).</p>
 <p>As you can see above, in <span class="code">TOP</span>, the <span class="code">&lt;thingy&gt;</span> token is mentioned. The <span class="code">&lt;thingy&gt;</span> is defined on the next line. That means that <span class="code">'clever_text_keyword'</span> <b>must</b> be the first thing in the string, or the grammar parse will fail and we'll get an empty match. This is great for recognizing a malformed string that should be discarded.</p>
 <a name="t19.3"></a><h1 id="_language_grammar_tutorial.pod6-Learning_By_Example_-_a_REST_Contrivance">19.3 Learning By Example - a REST Contrivance</h1>
 <p>Let's suppose we'd like to parse a URI into the component parts that make up a RESTful request. We want the URIs to work like this:</p>
 <ul><li><p>The first part of the URI will be the &quot;subject&quot;, like a part, or a product, or a person.</p>
</li></ul> <ul><li><p>The second part of the URI will be the &quot;command&quot;, the standard CRUD functions (create, retrieve, update, or delete).</p>
</li></ul> <ul><li><p>The third part of the URI will be arbitrary data, perhaps the specific ID we'll be working with or a long list of data separated by &quot;/&quot;'s.</p>
</li></ul> <ul><li><p>When we get a URI, we'll want 1-3 above to be placed into a data structure that we can easily work with (and later enhance).</p>
</li></ul> <p>So, if we have &quot;/product/update/7/notify&quot;, we would want our grammar to give us a match object that has a <span class="code">subject</span> of &quot;product&quot;, a <span class="code">command</span> of &quot;update&quot;, and <span class="code">data</span> of &quot;7/notify&quot;.</p>
 <p>We'll start by defining a grammar class and some match methods for the subject, command, and data. We'll use the token declarator since we don't care about whitespace.</p>
 <pre class="code">grammar REST { 
     token subject { \w+ } 
     token command { \w+ } 
     token data    { .* } 
 } 
</pre>
 <p>So far, this REST grammar says we want a subject that will be just <i>word</i> characters, a command that will be just <i>word</i> characters, and data that will be everything else left in the string.</p>
 <p>Next, we'll want to arrange these matching tokens within the larger context of the URI. That's what the TOP method allows us to do. We'll add the TOP method and place the names of our tokens within it, together with the rest of the patterns that makes up the overall pattern. Note how we're building a larger regex from our named regexes.</p>
 <pre class="code">grammar REST { 
     token TOP     { '/' &lt;subject&gt; '/' &lt;command&gt; '/' &lt;data&gt; } 
     token subject { \w+ } 
     token command { \w+ } 
     token data    { .* } 
 } 
</pre>
 <p>With this code, we can already get the three parts of our RESTful request:</p>
 <pre class="code">my $match = REST.parse('/product/update/7/notify'); 
 say $match; 
 
 # OUTPUT: «｢/product/update/7/notify｣␤ 
 #          subject =&gt; ｢product｣ 
 #          command =&gt; ｢update｣ 
 #          data =&gt; ｢7/notify｣» 
</pre>
 <p>The data can be accessed directly by using <span class="code">$match&lt;subject&gt;</span> or <span class="code">$match&lt;command&gt;</span> or <span class="code">$match&lt;data&gt;</span> to return the values parsed. They each contain match objects that you can work further with, such as coercing into a string ( <span class="code">$match&lt;command&gt;.Str</span> ).</p>
 <a name="t19.3.1"></a><h2 id="_language_grammar_tutorial.pod6-Adding_some_flexibility">19.3.1 Adding some flexibility</h2>
 <p>So far, the grammar will handle retrieves, deletes and updates. However, a <i>create</i> command doesn't have the third part (the <i>data</i> portion). This means the grammar will fail to match if we try to parse a create URI. To avoid this, we need to make that last <i>data</i> position match optional, along with the '/' preceding it. This is accomplished by adding a question mark to the grouped '/' and <i>data</i> components of the TOP token, to indicate their optional nature, just like a normal regex.</p>
 <p>So, now we have:</p>
 <pre class="code">grammar REST { 
     token TOP     { '/' &lt;subject&gt; '/' &lt;command&gt; [ '/' &lt;data&gt; ]? } 
     token subject { \w+ } 
     token command { \w+ } 
     token data    { .* } 
 } 
 
 my $m = REST.parse('/product/create'); 
 say $m&lt;subject&gt;, $m&lt;command&gt;; 
 
 # OUTPUT: «｢product｣｢create｣␤» 
</pre>
 <p>Next, assume that the URIs will be entered manually by a user and that the user might accidentally put spaces between the '/'s. If we wanted to accommodate for this, we could replace the '/'s in TOP with a token that allowed for spaces.</p>
 <pre class="code">grammar REST { 
     token TOP     { &lt;slash&gt;&lt;subject&gt;&lt;slash&gt;&lt;command&gt;[&lt;slash&gt;&lt;data&gt;]? } 
     token subject { \w+ } 
     token command { \w+ } 
     token data    { .* } 
 
     token slash   { \s* '/' \s* } 
 } 
 
 my $m = REST.parse('/ product / update /7 /notify'); 
 say $m; 
 
 # OUTPUT: «｢/ product / update /7 /notify｣␤ 
 #          slash =&gt; ｢/ ｣ 
 #          subject =&gt; ｢product｣ 
 #          slash =&gt; ｢ / ｣ 
 #          command =&gt; ｢update｣ 
 #          slash =&gt; ｢ /｣ 
 #          data =&gt; ｢7 /notify｣» 
</pre>
 <p>We're getting some extra junk in the match object now, with those slashes. There's techniques to clean that up that we'll get to later.</p>
 <a name="t19.3.2"></a><h2 id="_language_grammar_tutorial.pod6-Adding_some_constraints">19.3.2 Adding some constraints</h2>
 <p>We want our RESTful grammar to allow for CRUD operations only. Anything else we want to fail to parse. That means our &quot;command&quot; above should have one of four values: create, retrieve, update or delete.</p>
 <p>There are several ways to accomplish this. For example, you could change the command method:</p>
 <pre class="code">token command { \w+ } 
 
 # …becomes… 
 
 token command { 'create'|'retrieve'|'update'|'delete' } 
</pre>
 <p>For a URI to parse successfully, the second part of the string between '/'s must be one of those CRUD values, otherwise the parsing fails. Exactly what we want.</p>
 <p>There's another technique that provides greater flexibility and improved readability when options grow large: <i>proto-regexes</i>.</p>
 <p>To utilize these proto-regexes (multimethods, in fact) to limit ourselves to the valid CRUD options, we'll replace <span class="code">token command</span> with the following:</p>
 <pre class="code">proto token command {*} 
 token command:sym&lt;create&gt;   { &lt;sym&gt; } 
 token command:sym&lt;retrieve&gt; { &lt;sym&gt; } 
 token command:sym&lt;update&gt;   { &lt;sym&gt; } 
 token command:sym&lt;delete&gt;   { &lt;sym&gt; } 
</pre>
 <p>The <span class="code">sym</span> keyword is used to create the various proto-regex options. Each option is named (e.g., <span class="code">sym&lt;update&gt;</span>), and for that option's use, a special <span class="code">&lt;sym&gt;</span> token is auto-generated with the same name.</p>
 <p>The <span class="code">&lt;sym&gt;</span> token, as well as other user-defined tokens, may be used in the proto-regex option block to define the specific <i>match condition</i>. Regex tokens are compiled forms and, once defined, cannot subsequently be modified by adverb actions (e.g., <span class="code">:i</span>). Therefore, as it's auto-generated, the special <span class="code">&lt;sym&gt;</span> token is useful only where an exact match of the option name is required.</p>
 <p>If, for one of the proto-regex options, a match condition occurs, then the whole proto's search terminates. The matching data, in the form of a match object, is assigned to the parent proto token. If the special <span class="code">&lt;sym&gt;</span> token was employed and formed all or part of the actual match, then it's preserved as a sub-level in the match object, otherwise it's absent.</p>
 <p>Using proto-regex like this gives us a lot of flexibility. For example, instead of returning <span class="code">&lt;sym&gt;</span>, which in this case is the entire string that was matched, we could instead enter our own string, or do other funny stuff. We could do the same with the <span class="code">token subject</span> method and limit it also to only parsing correctly on valid subjects (like 'part' or 'people', etc.).</p>
 <a name="t19.3.3"></a><h2 id="_language_grammar_tutorial.pod6-Putting_our_RESTful_grammar_together">19.3.3 Putting our RESTful grammar together</h2>
 <p>This is what we have for processing our RESTful URIs, so far:</p>
 <pre class="code">grammar REST 
 { 
     token TOP { &lt;slash&gt;&lt;subject&gt;&lt;slash&gt;&lt;command&gt;[&lt;slash&gt;&lt;data&gt;]? } 
 
     proto token command {*} 
     token command:sym&lt;create&gt;   { &lt;sym&gt; } 
     token command:sym&lt;retrieve&gt; { &lt;sym&gt; } 
     token command:sym&lt;update&gt;   { &lt;sym&gt; } 
     token command:sym&lt;delete&gt;   { &lt;sym&gt; } 
 
     token subject { \w+ } 
     token data    { .* } 
     token slash   { \s* '/' \s* } 
 } 
</pre>
 <p>Let's look at various URIs and see how they work with our grammar.</p>
 <pre class="code">my @uris = ['/product/update/7/notify', 
             '/product/create', 
             '/item/delete/4']; 
 
 for @uris -&gt; $uri { 
     my $m = REST.parse($uri); 
     say &quot;Sub: $m&lt;subject&gt; Cmd: $m&lt;command&gt; Dat: $m&lt;data&gt;&quot;; 
 } 
 
 # OUTPUT: «Sub: product Cmd: update Dat: 7/notify␤ 
 #          Sub: product Cmd: create Dat: ␤ 
 #          Sub: item Cmd: delete Dat: 4␤» 
</pre>
 <p>Note that since <span class="code">&lt;data&gt;</span> matches nothing on the second string, <span class="code">$m&lt;data&gt;</span> will be <span class="code">Nil</span>, then using it in string context in the <span class="code">say</span> function warns.</p>
 <p>With just this part of a grammar, we're getting almost everything we're looking for. The URIs get parsed and we get a data structure with the data.</p>
 <p>The <i>data</i> token returns the entire end of the URI as one string. The 4 is fine. However from the '7/notify', we only want the 7. To get just the 7, we'll use another feature of grammar classes: <i>actions</i>.</p>
 <a name="t19.4"></a><h1 id="_language_grammar_tutorial.pod6-Grammar_Actions">19.4 Grammar Actions</h1>
 <p>Grammar actions are used within grammar classes to do things with matches. Actions are defined in their own classes, distinct from grammar classes.</p>
 <p>You can think of grammar actions as a kind of plug-in expansion module for grammars. A lot of the time you'll be happy using grammars all by their own. But when you need to further process some of those strings, you can plug in the Actions expansion module.</p>
 <p>To work with actions, you use a named parameter called <span class="code">actions</span> which should contain an instance of your actions class. With the code above, if our actions class called REST-actions, we would parse the URI string like this:</p>
 <pre class="code">my $matchObject = REST.parse($uri, actions =&gt; REST-actions.new); 
 
 #   …or if you prefer… 
 
 my $matchObject = REST.parse($uri, :actions(REST-actions.new)); 
</pre>
 <p>If you <i>name your action methods with the same name as your grammar methods</i> (tokens, regexes, rules), then when your grammar methods match, your action method with the same name will get called automatically. The method will also be passed the corresponding match object (represented by the <span class="code">$/</span> variable).</p>
 <p>Let's turn to an example.</p>
 <a name="t19.4.1"></a><h2 id="_language_grammar_tutorial.pod6-Grammars_by_example_with_actions">19.4.1 Grammars by example with actions</h2>
 <p>Here we are back to our grammar.</p>
 <pre class="code">grammar REST 
 { 
     token TOP { &lt;slash&gt;&lt;subject&gt;&lt;slash&gt;&lt;command&gt;[&lt;slash&gt;&lt;data&gt;]? } 
 
     proto token command {*} 
     token command:sym&lt;create&gt;   { &lt;sym&gt; } 
     token command:sym&lt;retrieve&gt; { &lt;sym&gt; } 
     token command:sym&lt;update&gt;   { &lt;sym&gt; } 
     token command:sym&lt;delete&gt;   { &lt;sym&gt; } 
 
     token subject { \w+ } 
     token data    { .* } 
     token slash   { \s* '/' \s* } 
 } 
</pre>
 <p>Recall that we want to further process the data token &quot;7/notify&quot;, to get the 7. To do this, we'll create an action class that has a method with the same name as the named token. In this case, our token is named <span class="code">data</span> so our method is also named <span class="code">data</span>.</p>
 <pre class="code">class REST-actions 
 { 
     method data($/) { $/.split('/') } 
 } 
</pre>
 <p>Now when we pass the URI string through the grammar, the <i>data token match</i> will be passed to the <i>REST-actions' data method</i>. The action method will split the string by the '/' character and the first element of the returned list will be the ID number (7 in the case of &quot;7/notify&quot;).</p>
 <p>But not really; there's a little more.</p>
 <a name="t19.4.2"></a><h2 id="_language_grammar_tutorial.pod6-Keeping_grammars_with_actions_tidy_with_make_and_made">19.4.2 Keeping grammars with actions tidy with <span class="code">make</span> and <span class="code">made</span></h2>
 <p>If the grammar calls the action above on data, the data method will be called, but nothing will show up in the big <span class="code">TOP</span> grammar match result returned to our program. In order to make the action results show up, we need to call <a href="#_routine_make.pod6">make</a> on that result. The result can be many things, including strings, array or hash structures.</p>
 <p>You can imagine that the <span class="code">make</span> places the result in a special contained area for a grammar. Everything that we <span class="code">make</span> can be accessed later by <a href="#_routine_made.pod6">made</a>.</p>
 <p>So instead of the REST-actions class above, we should write:</p>
 <pre class="code">class REST-actions 
 { 
     method data($/) { make $/.split('/') } 
 } 
</pre>
 <p>When we add <span class="code">make</span> to the match split (which returns a list), the action will return a data structure to the grammar that will be stored separately from the <span class="code">data</span> token of the original grammar. This way, we can work with both if we need to.</p>
 <p>If we want to access just the ID of 7 from that long URI, we access the first element of the list returned from the <span class="code">data</span> action that we <span class="code">made</span>:</p>
 <pre class="code">my $uri = '/product/update/7/notify'; 
 
 my $match = REST.parse($uri, actions =&gt; REST-actions.new); 
 
 say $match&lt;data&gt;.made[0];  # OUTPUT: «7␤» 
 say $match&lt;command&gt;.Str;   # OUTPUT: «update␤» 
</pre>
 <p>Here we call <span class="code">made</span> on data, because we want the result of the action that we <span class="code">made</span> (with <span class="code">make</span>) to get the split array. That's lovely! But, wouldn't it be lovelier if we could <span class="code">make</span> a friendlier data structure that contained all of the stuff we want, rather than having to coerce types and remember arrays?</p>
 <p>Just like Grammar's <span class="code">TOP</span>, which matches the entire string, actions have a TOP method as well. We can <span class="code">make</span> all of the individual match components, like <span class="code">data</span> or <span class="code">subject</span> or <span class="code">command</span>, and then we can place them in a data structure that we will <span class="code">make</span> in TOP. When we return the final match object, we can then access this data structure.</p>
 <p>To do this, we add the method <span class="code">TOP</span> to the action class and <span class="code">make</span> whatever data structure we like from the component pieces.</p>
 <p>So, our action class becomes:</p>
 <pre class="code">class REST-actions 
 { 
     method TOP ($/) { 
         make { subject =&gt; $&lt;subject&gt;.Str, 
                command =&gt; $&lt;command&gt;.Str, 
                data    =&gt; $&lt;data&gt;.made } 
     } 
 
     method data($/) { make $/.split('/') } 
 } 
</pre>
 <p>Here in the <span class="code">TOP</span> method, the <span class="code">subject</span> remains the same as the subject we matched in the grammar. Also, <span class="code">command</span> returns the valid <span class="code">&lt;sym&gt;</span> that was matched (create, update, retrieve, or delete). We coerce each into <span class="code">.Str</span>, as well, since we don't need the full match object.</p>
 <p>We want to make sure to use the <span class="code">made</span> method on the <span class="code">$&lt;data&gt;</span> object, since we want to access the split one that we <span class="code">made</span> with <span class="code">make</span> in our action, rather than the proper <span class="code">$&lt;data&gt;</span> object.</p>
 <p>After we <span class="code">make</span> something in the <span class="code">TOP</span> method of a grammar action, we can then access all the custom values by calling the <span class="code">made</span> method on the grammar result object. The code now becomes</p>
 <pre class="code">my $uri = '/product/update/7/notify'; 
 
 my $match = REST.parse($uri, actions =&gt; REST-actions.new); 
 
 my $rest = $match.made; 
 say $rest&lt;data&gt;[0];   # OUTPUT: «7␤» 
 say $rest&lt;command&gt;;   # OUTPUT: «update␤» 
 say $rest&lt;subject&gt;;   # OUTPUT: «product␤» 
</pre>
 <p>If the complete return match object is not needed, you could return only the made data from your action's <span class="code">TOP</span>.</p>
 <pre class="code">my $uri = '/product/update/7/notify'; 
 
 my $rest = REST.parse($uri, actions =&gt; REST-actions.new).made; 
 
 say $rest&lt;data&gt;[0];   # OUTPUT: «7␤» 
 say $rest&lt;command&gt;;   # OUTPUT: «update␤» 
 say $rest&lt;subject&gt;;   # OUTPUT: «product␤» 
</pre>
 <p>Oh, did we forget to get rid of that ugly array element number? Hmm. Let's make something new in the grammar's custom return in <span class="code">TOP</span>... how about we call it <span class="code">subject-id</span> and have it set to element 0 of <span class="code">&lt;data&gt;</span>.</p>
 <pre class="code">class REST-actions 
 { 
     method TOP ($/) { 
         make { subject    =&gt; $&lt;subject&gt;.Str, 
                command    =&gt; $&lt;command&gt;.Str, 
                data       =&gt; $&lt;data&gt;.made, 
                subject-id =&gt; $&lt;data&gt;.made[0] } 
     } 
 
     method data($/) { make $/.split('/') } 
 } 
</pre>
 <p>Now we can do this instead:</p>
 <pre class="code">my $uri = '/product/update/7/notify'; 
 
 my $rest = REST.parse($uri, actions =&gt; REST-actions.new).made; 
 
 say $rest&lt;command&gt;;    # OUTPUT: «update␤» 
 say $rest&lt;subject&gt;;    # OUTPUT: «product␤» 
 say $rest&lt;subject-id&gt;; # OUTPUT: «7␤» 
</pre>
 <p>Here's the final code:</p>
 <pre class="code">grammar REST 
 { 
     token TOP { &lt;slash&gt;&lt;subject&gt;&lt;slash&gt;&lt;command&gt;[&lt;slash&gt;&lt;data&gt;]? } 
 
     proto token command {*} 
     token command:sym&lt;create&gt;   { &lt;sym&gt; } 
     token command:sym&lt;retrieve&gt; { &lt;sym&gt; } 
     token command:sym&lt;update&gt;   { &lt;sym&gt; } 
     token command:sym&lt;delete&gt;   { &lt;sym&gt; } 
 
     token subject { \w+ } 
     token data    { .* } 
     token slash   { \s* '/' \s* } 
 } 
 
 
 class REST-actions 
 { 
     method TOP ($/) { 
         make { subject    =&gt; $&lt;subject&gt;.Str, 
                command    =&gt; $&lt;command&gt;.Str, 
                data       =&gt; $&lt;data&gt;.made, 
                subject-id =&gt; $&lt;data&gt;.made[0] } 
     } 
 
     method data($/) { make $/.split('/') } 
 } 
</pre>
 <a name="t19.4.3"></a><h2 id="_language_grammar_tutorial.pod6-Add_actions_directly">19.4.3 Add actions directly</h2>
 <p>Above we see how to associate grammars with action objects and perform actions on the match object. However, when we want to deal with the match object, that isn't the only way. See the example below:</p>
 <pre class="code">grammar G { 
   rule TOP { &lt;function-define&gt; } 
   rule function-define { 
     'sub' &lt;identifier&gt; 
     { 
       say &quot;func &quot; ~ $&lt;identifier&gt;.made; 
       make $&lt;identifier&gt;.made; 
     } 
     '(' &lt;parameter&gt; ')' '{' '}' 
     { say &quot;end &quot; ~ $/.made; } 
   } 
   token identifier { \w+ { make ~$/; } } 
   token parameter { \w+ { say &quot;param &quot; ~ $/; } } 
 } 
 
 G.parse('sub f ( a ) { }'); 
 # OUTPUT: «func f␤param a␤end f␤» 
</pre>
 <p>This example is a reduced portion of a parser. Let's focus more on the feature it shows.</p>
 <p>First, we can add actions inside the grammar itself, and such actions are performed once the control flow of the regex arrives at them. Note that action object's method will always be performed after the whole regex item matched. Second, it shows what <span class="code">make</span> really does, which is no more than a sugar of <span class="code">$/.made = ...</span>. And this trick introduces a way to pass messages from within a regex item.</p>
 <p>Hopefully this has helped introduce you to the grammars in Perl 6 and shown you how grammars and grammar action classes work together. For more information, check out the more advanced <a href="https://docs.perl6.org/language/grammars">Perl Grammar Guide</a>.</p>
 <p>For more grammar debugging, see <a href="https://github.com/jnthn/grammar-debugger">Grammar::Debugger</a>. This provides breakpoints and color-coded MATCH and FAIL output for each of your grammar tokens.</p>
</div>
<!-- /language/grammars.pod6 --><div class="pod-body"><a id="_language_grammars.pod6"></a><a name="t20"><h1 class="title">20 Grammars</h1></a> <p class="subtitle">Parsing and interpreting text</p> <p>Grammar is a powerful tool used to destructure text and often to return data structures that have been created by interpreting that text.</p>
 <p>For example, Perl 6 is parsed and executed using a Perl 6-style grammar.</p>
 <p>An example that's more practical to the common Perl 6 user is the <a href="https://github.com/moritz/json">JSON::Tiny module</a>, which can deserialize any valid JSON file, however the deserializing code is written in less than 100 lines of simple, extensible code.</p>
 <p>If you didn't like grammar in school, don't let that scare you off grammars. Grammars allow you to group regexes, just as classes allow you to group methods of regular code.</p>
 <a name="t20.1"></a><h1 id="_language_grammars.pod6-Named_Regexes">20.1 <a name="259"></a>Named Regexes</h1>
 <p>The main ingredient of grammars is named <a href="#_language_regexes.pod6">regexes</a>. While the syntax of <a href="#_language_regexes.pod6">Perl 6 Regexes</a> is outside the scope of this document, <i>named</i> regexes have a special syntax, similar to subroutine definitions: <div class="marginale">In fact, named regexes can even take extra arguments, using the same syntax as subroutine parameter lists</div></p>
 <pre class="code">my regex number { \d+ [ \. \d+ ]? } 
</pre>
 <p>In this case, we have to specify that the regex is lexically scoped using the <span class="code">my</span> keyword, because named regexes are normally used within grammars.</p>
 <p>Being named gives us the advantage of being able to easily reuse the regex elsewhere:</p>
 <pre class="code">say so &quot;32.51&quot; ~~ &amp;number;                         # OUTPUT: «True␤» 
 say so &quot;15 + 4.5&quot; ~~ /&lt;number&gt;\s* '+' \s*&lt;number&gt;/ # OUTPUT: «True␤» 
</pre>
 <p><b><span class="code">regex</span></b> isn't the only declarator for named regexes. In fact, it's the least common. Most of the time, the <b><span class="code">token</span></b> or <b><span class="code">rule</span></b> declarators are used. These are both <i>ratcheting</i>, which means that the match engine won't back up and try again if it fails to match something. This will usually do what you want, but isn't appropriate for all cases:</p>
 <pre class="code">my regex works-but-slow { .+ q } 
 my token fails-but-fast { .+ q } 
 my $s = 'Tokens won\'t backtrack, which makes them fail quicker!'; 
 say so $s ~~ &amp;works-but-slow; # OUTPUT: «True␤» 
 say so $s ~~ &amp;fails-but-fast; # OUTPUT: «False␤» 
                               # the entire string get taken by the .+ 
</pre>
 <p>Note that non-backtracking works on terms, that is, as the example below, if you have matched something, then you will never backtrack. But when you fail to match, if there is another candidate introduced by <span class="code">|</span> or <span class="code">||</span>, you will retry to match again.</p>
 <pre class="code">my token tok-a { .* d  }; 
 my token tok-b { .* d | bd }; 
 say so &quot;bd&quot; ~~ &amp;tok-a;        # OUTPUT: «False␤» 
 say so &quot;bd&quot; ~~ &amp;tok-b;        # OUTPUT: «True␤» 
</pre>
 <p>The only difference between the <span class="code">token</span> and <span class="code">rule</span> declarators is that the <span class="code">rule</span> declarator causes <a href="#_language_regexes.pod6-Sigspace"><span class="code">:sigspace</span></a> to go into effect for the Regex:</p>
 <pre class="code">my token non-space-y { 'once' 'upon' 'a' 'time' } 
 my rule space-y { 'once' 'upon' 'a' 'time' } 
 say so 'onceuponatime'    ~~ &amp;non-space-y; # OUTPUT: «True␤» 
 say so 'once upon a time' ~~ &amp;non-space-y; # OUTPUT: «False␤» 
 say so 'onceuponatime'    ~~ &amp;space-y;     # OUTPUT: «False␤» 
 say so 'once upon a time' ~~ &amp;space-y;     # OUTPUT: «True␤» 
</pre>
 <a name="t20.2"></a><h1 id="_language_grammars.pod6-Creating_Grammars">20.2 <a name="260"></a>Creating Grammars</h1>
 <p class="subtitle">Group of named regexes that form a formal grammar</p> <p><a href="#_type_Grammar.pod6">Grammar</a> is the superclass that classes automatically get when they are declared with the <span class="code">grammar</span> keyword instead of <span class="code">class</span>. Grammars should only be used to parse text; if you wish to extract complex data, you can add actions within the grammar, or an <a href="#_language_grammars.pod6-Action_Objects">action object</a> is recommended to be used in conjunction with the grammar.</p>
 <a name="t20.2.1"></a><h2 id="_language_grammars.pod6-Proto_regexes">20.2.1 <a name="261"></a>Proto regexes</h2>
 <p><a href="#_type_Grammar.pod6">Grammar</a>s are composed of rules, tokens and regexes; they are actually methods, since grammars are classes. These methods can share a name and functionality in common, and thus can use <a href="#_syntax_proto.pod6">proto</a>.</p>
 <p>For instance, if you have a lot of alternations, it may become difficult to produce readable code or subclass your grammar. In the Actions class below, the ternary in <span class="code">method TOP</span> is less than ideal and it becomes even worse the more operations we add:</p>
 <pre class="code">grammar Calculator {
    token TOP { [ &lt;add&gt; | &lt;sub&gt; ] }
    rule  add { &lt;num&gt; '+' &lt;num&gt; }
    rule  sub { &lt;num&gt; '-' &lt;num&gt; }
    token num { \d+ }
}

class Calculations {
    method TOP ($/) { make $&lt;add&gt; ?? $&lt;add&gt;.made !! $&lt;sub&gt;.made; }
    method add ($/) { make [+] $&lt;num&gt;; }
    method sub ($/) { make [-] $&lt;num&gt;; }
}

say Calculator.parse('2 + 3', actions =&gt; Calculations).made;

# OUTPUT: «5␤»</pre>
 <p>To make things better, we can use proto regexes that look like <span class="code">:sym&lt;...&gt;</span> adverbs on tokens:</p>
 <pre class="code">grammar Calculator {
    token TOP { &lt;calc-op&gt; }

    proto rule calc-op          {*}
          rule calc-op:sym&lt;add&gt; { &lt;num&gt; '+' &lt;num&gt; }
          rule calc-op:sym&lt;sub&gt; { &lt;num&gt; '-' &lt;num&gt; }

    token num { \d+ }
}

class Calculations {
    method TOP              ($/) { make $&lt;calc-op&gt;.made; }
    method calc-op:sym&lt;add&gt; ($/) { make [+] $&lt;num&gt;; }
    method calc-op:sym&lt;sub&gt; ($/) { make [-] $&lt;num&gt;; }
}

say Calculator.parse('2 + 3', actions =&gt; Calculations).made;

# OUTPUT: «5␤»</pre>
 <p>In the grammar, the alternation has now been replaced with <span class="code">&lt;calc-op&gt;</span>, which is essentially the name of a group of values we'll create. We do so by defining a rule prototype with <span class="code">proto rule calc-op</span>. Each of our previous alternations have been replaced by a new <span class="code">rule calc-op</span> definition and the name of the alternation is attached with <span class="code">:sym&lt;&gt;</span> adverb.</p>
 <p>In the actions class, we now got rid of the ternary operator and simply take the <span class="code">.made</span> value from the <span class="code">$&lt;calc-op&gt;</span> match object. And the actions for individual alternations now follow the same naming pattern as in the grammar: <span class="code">method calc-op:sym&lt;add&gt;</span> and <span class="code">method calc-op:sym&lt;sub&gt;</span>.</p>
 <p>The real beauty of this method can be seen when you subclass that grammar and actions class. Let's say we want to add a multiplication feature to the calculator:</p>
 <pre class="code">grammar BetterCalculator is Calculator { 
     rule calc-op:sym&lt;mult&gt; { &lt;num&gt; '*' &lt;num&gt; } 
 } 
 
 class BetterCalculations is Calculations { 
     method calc-op:sym&lt;mult&gt; ($/) { make [*] $&lt;num&gt; } 
 } 
 
 say BetterCalculator.parse('2 * 3', actions =&gt; BetterCalculations).made; 
 
 # OUTPUT: «6␤» 
</pre>
 <p>All we had to add are additional rule and action to the <span class="code">calc-op</span> group and the thing works—all thanks to proto regexes.</p>
 <a name="t20.2.2"></a><h2 id="_language_grammars.pod6-Special_Tokens">20.2.2 Special Tokens</h2>
 <a name="t20.2.2.1"></a><h3 id="_language_grammars.pod6-TOP">20.2.2.1 <a name="262"></a><span class="code">TOP</span></h3>
 <pre class="code">grammar Foo {
    token TOP { \d+ }
}</pre>
 <p>The <span class="code">TOP</span> token is the default first token attempted to match when parsing with a grammar. Note that if you're parsing with <a href="#_type_Grammar.pod6-method_parse"><span class="code">.parse</span></a> method, <span class="code">token TOP</span> is automatically anchored to the start and end of the string. If you don't want to parse the whole string, look up <a href="#_type_Grammar.pod6-method_subparse"><span class="code">.subparse</span></a>.</p>
 <p>Using <span class="code">rule TOP</span> or <span class="code">regex TOP</span> are also acceptable.</p>
 <p>A different token can be chosen to be matched first using the <span class="code">:rule</span> named argument to <span class="code">.parse</span>, <span class="code">.subparse</span>, or <span class="code">.parsefile</span>. These are all <span class="code">Grammar</span> methods.</p>
 <a name="t20.2.2.2"></a><h3 id="_language_grammars.pod6-ws">20.2.2.2 <a name="263"></a><span class="code">ws</span></h3>
 <p>When <span class="code">rule</span> instead of <span class="code">token</span> is used, any whitespace after an atom is turned into a non-capturing call to <span class="code">ws</span>, written as <span class="code">&lt;.ws&gt;</span> where <span class="code">.</span> means non-capturing. That is to say:</p>
 <pre class="code">rule entry { &lt;key&gt; '=' &lt;value&gt; }</pre>
 <p>Is the same as:</p>
 <pre class="code">token entry { &lt;key&gt; &lt;.ws&gt; '=' &lt;.ws&gt; &lt;value&gt; &lt;.ws&gt; }</pre>
 <p>The default <span class="code">ws</span> matches one or more whitespace characters (<span class="code">\s</span>) or a word boundary (<span class="code">&lt;|w&gt;</span>):</p>
 <pre class="code"># First &lt;.ws&gt; matches word boundary at the start of the line
# and second &lt;.ws&gt; matches the whitespace between 'b' and 'c'
say 'ab   c' ~~ /&lt;.ws&gt; ab &lt;.ws&gt; c /; # OUTPUT: «｢ab   c｣␤»

# Failed match: there is neither any whitespace nor a word
# boundary between 'a' and 'b'
say 'ab' ~~ /. &lt;.ws&gt; b/;             # OUTPUT: «Nil␤»

# Successful match: there is a word boundary between ')' and 'b'
say ')b' ~~ /. &lt;.ws&gt; b/;             # OUTPUT: «｢)b｣␤»</pre>
 <p>You can also redefine the default <span class="code">ws</span> token:</p>
 <pre class="code">grammar Foo {
    rule TOP { \d \d }
}.parse: &quot;4   \n\n 5&quot;; # Succeeds

grammar Bar {
    rule TOP { \d \d }
    token ws { \h*   }
}.parse: &quot;4   \n\n 5&quot;; # Fails</pre>
 <a name="t20.2.2.3"></a><h3 id="_language_grammars.pod6-sym">20.2.2.3 <a name="264"></a><span class="code">sym</span></h3>
 <p>The <span class="code">&lt;sym&gt;</span> token can be used inside proto regexes to match the string value of the <span class="code">:sym</span> adverb for that particular regex:</p>
 <pre class="code">grammar Foo {
    token TOP { &lt;letter&gt;+ }
    proto token letter {*}
    token letter:sym&lt;P&gt; { &lt;sym&gt; }
    token letter:sym&lt;e&gt; { &lt;sym&gt; }
    token letter:sym&lt;r&gt; { &lt;sym&gt; }
    token letter:sym&lt;l&gt; { &lt;sym&gt; }
    token letter:sym&lt;*&gt; {   .   }
}.parse(&quot;I ♥ Perl&quot;, actions =&gt; class {
    method TOP($/) { make $&lt;letter&gt;.grep(*.&lt;sym&gt;).join }
}).made.say; # OUTPUT: «Perl␤»</pre>
 <p>This comes in handy when you're already differentiating the proto regexes with the strings you're going to match, as using <span class="code">&lt;sym&gt;</span> token prevents repetition of those strings.</p>
 <a name="t20.2.2.4"></a><h3 id="_language_grammars.pod6-Always_Succeed_Assertion">20.2.2.4 <a name="265"></a>Always Succeed Assertion</h3>
 <p>The <span class="code">&lt;?&gt;</span> is the <i>always succeed</i> assertion. When used as a grammar token, it can be used to trigger an Action class method. In the following grammar we look for Arabic digits and define a <span class="code">succ</span> token with the always succeed assertion.</p>
 <p>In the action class, we use calls to the <span class="code">succ</span> method to do set up (in this case, we prepare a new element in <span class="code">@!numbers</span>). In the <span class="code">digit</span> method, we convert an Arabic digit into a Devanagari digit and add it to the last element of <span class="code">@!numbers</span>. Thanks to <span class="code">succ</span>, the last element will always be the number for the currently parsed <span class="code">digit</span> digits.</p>
 <pre class="code">grammar Digifier {
    rule TOP {
        [ &lt;.succ&gt; &lt;digit&gt;+ ]+
    }
    token succ   { &lt;?&gt; }
    token digit { &lt;[0..9]&gt; }
}

class Devanagari {
    has @!numbers;
    method digit ($/) { @!numbers[*-1] ~= $/.ord.&amp;[+](2358).chr }
    method succ  ($)  { @!numbers.push: ''     }
    method TOP   ($/) { make @!numbers[^(*-1)] }
}

say Digifier.parse('255 435 777', actions =&gt; Devanagari.new).made;
# OUTPUT: «(२५५ ४३५ ७७७)␤»</pre>
 <a name="t20.2.3"></a><h2 id="_language_grammars.pod6-Methods_in_Grammar">20.2.3 Methods in Grammar</h2>
 <p>It's fine to use methods instead of rules or tokens in a grammar, as long as they return a <a href="#_type_Cursor.pod6">Cursor</a>:</p>
 <pre class="code">grammar DigitMatcher {
    method TOP (:$full-unicode) {
        $full-unicode ?? self.num-full !! self.num-basic;
    }
    token num-full  { \d+ }
    token num-basic { &lt;[0..9]&gt;+ }
}</pre>
 <p>The grammar above will attempt different matches depending on the arguments provided by parse methods:</p>
 <pre class="code">say +DigitMatcher.subparse: '12७१७९०९', args =&gt; \(:full-unicode); 
 # OUTPUT: «12717909␤» 
 
 say +DigitMatcher.subparse: '12७१७९०९', args =&gt; \(:!full-unicode); 
 # OUTPUT: «12␤» 
</pre>
 <a name="t20.3"></a><h1 id="_language_grammars.pod6-Action_Objects">20.3 <a name="266"></a>Action Objects</h1>
 <p>A successful grammar match gives you a parse tree of <a href="#_type_Match.pod6">Match</a> objects, and the deeper that match tree gets, and the more branches in the grammar are, the harder it becomes to navigate the match tree to get the information you are actually interested in.</p>
 <p>To avoid the need for diving deep into a match tree, you can supply an <i>actions</i> object. After each successful parse of a named rule in your grammar, it tries to call a method of the same name as the grammar rule, giving it the newly created <a href="#_type_Match.pod6">Match</a> object as a positional argument. If no such method exists, it is skipped.</p>
 <p>Here is a contrived example of a grammar and actions in action:</p>
 <pre class="code">grammar TestGrammar { 
     token TOP { \d+ } 
 } 
 
 class TestActions { 
     method TOP($/) { 
         $/.make(2 + $/); 
     } 
 } 
 
 my $match = TestGrammar.parse('40', actions =&gt; TestActions.new); 
 say $match;         # OUTPUT: «｢40｣␤» 
 say $match.made;    # OUTPUT: «42␤» 
</pre>
 <p>An instance of <span class="code">TestActions</span> is passed as named argument <span class="code">actions</span> to the <a href="#_routine_parse.pod6">parse</a> call, and when token <span class="code">TOP</span> has matched successfully, it automatically calls method <span class="code">TOP</span>, passing the match object as an argument.</p>
 <p>To make it clear that the argument is a match object, the example uses <span class="code">$/</span> as a parameter name to the action method, though that's just a handy convention, nothing intrinsic. <span class="code">$match</span> would have worked too. (Though using <span class="code">$/</span> does give the advantage of providing <span class="code">$&lt;capture&gt;</span> as a shortcut for <span class="code">$/&lt;capture&gt;</span>).</p>
 <p>A slightly more involved example follows:</p>
 <pre class="code">grammar KeyValuePairs { 
     token TOP { 
         [&lt;pair&gt; \n+]* 
     } 
 
     token ws { 
         \h* 
     } 
 
     rule pair { 
         &lt;key=.identifier&gt; '=' &lt;value=.identifier&gt; 
     } 
     token identifier { 
         \w+ 
     } 
 } 
 
 class KeyValuePairsActions { 
     method pair      ($/) { 
         $/.make: $&lt;key&gt;.made =&gt; $&lt;value&gt;.made 
     } 
     method identifier($/) { 
         # subroutine `make` is the same as calling .make on $/ 
         make ~$/ 
     } 
     method TOP ($match) { 
         # can use any variable name for parameter, not just $/ 
         $match.make: $match&lt;pair&gt;».made 
     } 
 } 
 
 my $actions = KeyValuePairsActions; 
 my $res = KeyValuePairs.parse(q:to/EOI/, :$actions).made; 
     second=b 
     hits=42 
     perl=6 
     EOI 
 
 for @$res -&gt; $p { 
     say &quot;Key: $p.key()\tValue: $p.value()&quot;; 
 } 
</pre>
 <p>This produces the following output:</p>
 <pre class="code">Key: second     Value: b 
 Key: hits       Value: 42 
 Key: perl       Value: 6 
</pre>
 <p>Rule <span class="code">pair</span>, which parsed a pair separated by an equals sign, aliases the two calls to token <span class="code">identifier</span> to separate capture names to make them available more easily and intuitively. The corresponding action method constructs a <a href="#_type_Pair.pod6">Pair</a> object, and uses the <span class="code">.made</span> property of the sub match objects. So it (like the action method <span class="code">TOP</span> too) exploits the fact that action methods for submatches are called before those of the calling/outer regex. So action methods are called in <a href="https://en.wikipedia.org/wiki/Tree_traversal#Post-order">post-order</a>.</p>
 <p>The action method <span class="code">TOP</span> simply collects all the objects that were <span class="code">.made</span> by the multiple matches of the <span class="code">pair</span> rule, and returns them in a list.</p>
 <p>Also note that <span class="code">KeyValuePairsActions</span> was passed as a type object to method <span class="code">parse</span>, which was possible because none of the action methods use attributes (which would only be available in an instance).</p>
 <p>In other cases, action methods might want to keep state in attributes. Then of course you must pass an instance to method parse.</p>
 <p>Note that <span class="code">token</span> <span class="code">ws</span> is special: when <span class="code">:sigspace</span> is enabled (and it is when we are using <span class="code">rule</span>), it replaces certain whitespace sequences. This is why the spaces around the equals sign in <span class="code">rule pair</span> work just fine and why the whitespace before closing <span class="code">}</span> does not gobble up the newlines looked for in <span class="code">token TOP</span>.</p>
</div>
<!-- /language/haskell-to-p6.pod6 --><div class="pod-body"><a id="_language_haskell-to-p6.pod6"></a><a name="t21"><h1 class="title">21 Perl 6 from Haskell - Nutshell</h1></a> <p class="subtitle">Learning Perl 6 from Haskell, in a nutshell: What do I already know?</p> <p>Haskell and Perl 6 are <i>very</i> different languages. This is obvious. However, that does not mean there are not similarities or shared ideas! This page attempts to get a Haskell user up and running with Perl 6. The Haskell user may find that they need not abandon all of their Haskelly thoughts while scripting in Perl 6.</p>
 <p>Note that this should not be mistaken for a beginner tutorial or overview of Perl 6; it is intended as a technical reference for Perl 6 learners with a strong Haskell background.</p>
 <a name="t21.1"></a><h1 id="_language_haskell-to-p6.pod6-Types">21.1 Types</h1>
 <a name="t21.1.1"></a><h2 id="_language_haskell-to-p6.pod6-Types_vs_Values">21.1.1 Types vs Values</h2>
 <p>In Haskell, you have type level programming and then value level programming.</p>
 <pre class="code">plusTwo :: Integer -&gt; Integer   -- Types 
 plusTwo x = x + 2               -- Values 
</pre>
 <p>You do not mix types and values in Haskell like the below</p>
 <pre class="code">plusTwo 2          -- This is valid 
 plusTwo Integer    -- This is not valid 
</pre>
 <p>In Perl 6, types (AKA type objects) live on the same level as values</p>
 <pre class="code">sub plus-two(Int $x --&gt; Int) { $x + 2 } 
 
 plus-two(2);    # This is valid 
 plus-two(Int);  # This is valid 
</pre>
 <p>I will illustrate this unique aspect of Perl 6 with one more example:</p>
 <pre class="code">multi sub is-string(Str $ --&gt; True) {} 
 multi sub is-string(Any $ --&gt; False) {} 
 
 is-string('hello');    #True 
 is-string(4);          #False 
</pre>
 <a name="t21.1.2"></a><h2 id="_language_haskell-to-p6.pod6-Maybe">21.1.2 Maybe</h2>
 <p>In Haskell, you have a Maybe type that allows you to forgo the worry of null types. Let's say you have a hypothetical function that parses a String to an Integer:</p>
 <pre class="code">parseInt :: String -&gt; Maybe Integer 
 
 case parseInt myString of 
   Just x  -&gt; x 
   Nothing -&gt; 0 
</pre>
 <p>In Perl 6, since type objects coexist with regular objects, we have the concept of Defined and Undefined objects. Plain type objects are undefined while instantiated objects are defined.</p>
 <pre class="code">sub parse-int(Str $s --&gt; Int) { ... } 
 
 my $string = {...}; 
 given parse-int($string) { 
   when Int:D { $_ } 
   when Int:U { 0 } 
 } 
</pre>
 <p>So in Perl 6 we have type constraints that indicate the definedness of a type. These are</p>
 <pre class="code">Int:D; # This is a defined Int. 
 Int:U; # This is an undefined Int, AKA a type object 
 Int:_; # This is either defined or undefined. 
</pre>
 <p>If we wanted to be explicit in the above example (probably a good idea), we could add the <span class="code">:_</span> constraint on the return type. This would let the user know that they should account for both defined and undefined return values. We could also use other methods and constructs that specifically test for definedness.</p>
 <pre class="code">sub parse-int(Str $s --&gt; Int:_) { ... } 
 
 # One way to do it 
 my $string = {...}; 
 given parse-int($string) { 
   when Int:D { $_ } 
   when Int:U { 0 } 
 } 
 
 # Another way to do it 
 my Int $number = parse-int($string); 
 if $number.defined { $number } else { 0 } 
 
 
 # A better way 
 with parse-int($string) { $_ } else { 0 } 
 
 # With the defined-or operator 
 parse-int($string) // 0 
</pre>
 <p>The <span class="code">with</span> operator that you see above is like <span class="code">if</span>, except it explicitly tests for definedness and then passes the result to the following block. Similarly, <span class="code">without</span> tests that the object is undefined and also passes the result to the following block.</p>
 <p>For more natural control flow with undefined and defined types, Perl 6 introduces <span class="code">andthen</span> and <span class="code">orelse</span>.</p>
 <pre class="code">sub parse-int(Str $s --&gt; Int:_) { ... } 
 
 my $string = {...}; 
 my $result = parse-int($string) orelse 0; 
 
 sub hello() { say 'hi' } 
 hello() andthen say 'bye'; 
</pre>
 <p>TODO: include a better example for andthen that makes sense. Maybe using promise objects?</p>
 <p>So in practice, Perl 6 does not have the concept of a null type, but rather of defined or undefined types.</p>
 <a name="t21.1.3"></a><h2 id="_language_haskell-to-p6.pod6-Data_Definitions">21.1.3 Data Definitions</h2>
 <p>Perl 6 is fundamentally an Object Oriented language. However, it also gives you the freedom to write in virtually any paradigm you wish. If you only want to pure functions that take an object and return a new object, you can certainly do so.</p>
 <p>Here is a Haskell code example:</p>
 <pre class="code">data Point = Point x y 
 
 moveUp :: Point -&gt; Point 
 moveUp (Point x y) = Point x (y + 1) 
</pre>
 <p>And an equivalent Perl 6 example:</p>
 <pre class="code">class Point { has $.x; has $.y; } 
 
 sub move-up(Point $p --&gt; Point) { 
   Point.new(x =&gt; $p.x, y =&gt; $p.y + 1) 
 } 
</pre>
 <p>The code I illustrated above is an example of a Product Type. If instead you'd like to write a Sum Type, there is not an exact equivalent in Perl 6. The closest thing would be an Enum.</p>
 <pre class="code">data Animal = Dog | Cat | Bird | Horse 
 
 testAnimal :: Animal -&gt; String 
 testAnimal Dog   = &quot;Woof&quot; 
 testAnimal Horse = &quot;Neigh&quot; 
</pre>
 <p>A Perl 6 Enum does not fit the same exact use cases, but it can be used in putting constraints on types.</p>
 <pre class="code">enum Animal &lt; Dog Cat Bird Horse &gt;; 
 
 proto sub test-animal( Animal        ) {*} 
 multi sub test-animal( Dog           ) { 'Woof' } 
 multi sub test-animal( Animal::Horse ) { 'Neigh'  }   # more explicit 
 
 say test-animal Animal::Dog; # more explicit 
 say test-animal Horse; 
</pre>
 <a name="t21.1.4"></a><h2 id="_language_haskell-to-p6.pod6-Type_Aliases_and_Subsets">21.1.4 Type Aliases and Subsets</h2>
 <p>In Haskell, you can alias an existing type to simply increase clarity of intent and re-use existing types.</p>
 <pre class="code">type Name = String 
 
 fullName :: Name -&gt; Name -&gt; Name 
 fullName first last = first ++ last 
</pre>
 <p>The equivalent in Perl 6 is the following.</p>
 <pre class="code">my constant Name = Str; 
 
 sub full-name ( Name \first, Name \last --&gt; Name ) { first ~ last } 
</pre>
 <p>It should be noted that in Perl 6, one can also create a subset of an existing type.</p>
 <pre class="code">subset Name of Str where *.chars &lt; 20; 
 
 sub full-name(Name $first, Name $last) { 
   $first ~ $last 
 } 
 
 full-name(&quot;12345678901234567890111&quot;, &quot;Smith&quot;) # This does not compile, as the first parameter 
                                               # doesn't fit the Name type 
</pre>
 <a name="t21.1.5"></a><h2 id="_language_haskell-to-p6.pod6-Typeclasses">21.1.5 Typeclasses</h2>
 <p>TODO</p>
 <p>explain how Perl 6 roles compare to Haskell typeclasses</p>
 <a name="t21.2"></a><h1 id="_language_haskell-to-p6.pod6-Functions">21.2 Functions</h1>
 <a name="t21.2.1"></a><h2 id="_language_haskell-to-p6.pod6-Definitions_and_Signatures">21.2.1 Definitions and Signatures</h2>
 <p>Matching</p>
 <p>Haskell makes heavy use of pattern matching in function definitions.</p>
 <pre class="code">greeting :: String -&gt; String 
 greeting  &quot;&quot;   = &quot;Hello, World!&quot; 
 greeting &quot;bub&quot; = &quot;Hey bub.&quot; 
 greeting  name = &quot;Hello, &quot; ++ name ++ &quot;!&quot; 
</pre>
 <p>Perl 6 does this as well! You just use the <span class="code">multi</span> keyword to signify that it is a multiple dispatch function.</p>
 <pre class="code">proto greeting ( Str   --&gt; Str ) {*} 
 multi greeting ( &quot;&quot;    --&gt; &quot;Hello, World!&quot; ) {} 
 multi greeting ( &quot;bub&quot; --&gt; &quot;Hey bub.&quot; ) {} 
 multi greeting ( \name ) { &quot;Hello, &quot; ~ name ~ &quot;!&quot; } 
</pre>
 <p>The <span class="code">proto</span> declarator is not necessary, but can sometimes aid in making sure that all multis follow your business rules. Using a variable name in the signature of the proto would provide more information in error messages, and for introspection.</p>
 <pre class="code">proto greeting ( Str \name --&gt; Str ) {*} 
 
 say &amp;greeting.signature;                  # (Str \name --&gt; Str) 
</pre>
 <p>An interesting thing to note in the Perl 6 code above is that passing values like <span class="code">'bub'</span> as a function parameter is just syntax sugar for a <span class="code">where</span> guard.</p>
  <p>Using the example from the &quot;Pattern Matching&quot; section of this page, you can see the guards that are used behind the scenes to constrain our function arguments.</p>
 <pre class="code">multi greeting ( &quot;&quot;    --&gt; &quot;Hello, World!&quot; ) {} 
 multi greeting ( &quot;bub&quot; --&gt; &quot;Hey bub.&quot; ) {} 
 
 # The above is the same as the below 
 
 multi greeting(Str \name where ''    ) {'Hello, World!'} 
 multi greeting(Str \name where 'bub' ) {'Hey bub.'} 
 
 # The above is the same as the below, again. 
 
 multi greeting(Str \name where $_ ~~ ''   ) {'Hello, World!'} 
 multi greeting(Str \name where $_ ~~ 'bub') {'Hey bub.'} 
</pre>
 <p><span class="code">$_</span> is known as the topic variable. It assumes the form of whatever is appropriate. The smart match operator <span class="code">~~</span> figures out the best way to determine if the left matches the right, be it number ranges, strings, etc. Our three examples above go from most sugared (top), to least sugared (bottom).</p>
 <p>The bottom examples above could be wrapped in curly braces, making it more obvious that it is a code block. Note that a where clause may also take an explicit Callable.</p>
 <pre class="code">multi greeting(Str \name where { $_ ~~ '' } ) {'Hello, World!'} 
 
 multi greeting(Str \name where -&gt; $thing { $thing ~~ '' } ) {'Hello, World!'} 
 
 multi greeting ( Str \name where { Bool.pick } --&gt; 'True' ){} 
 
 multi greeting ( Str \name where &amp;some-subroutine ){…} 
</pre>
 <p>If you read the section in this page on subsets, you'll notice that &quot;where&quot; is used in the making of subsets as well as here. The usage of &quot;where&quot; in both areas is exactly the same.</p>
 <p>When using <span class="code">where</span>, note that the order of definition is important, just like in Haskell.</p>
 <pre class="code">multi greeting ( Str \name where '' --&gt; 'Hello, World!' ){} 
 multi greeting ( Str \name where { Bool.pick } --&gt; 'True' ){} 
 multi greeting ( Str \name where 'bub' --&gt; 'Hey, bub.' ){} 
 
 say greeting ''   ; # will never say True 
 say greeting 'bub'; # about 50% of the time it will say True 
</pre>
 <p>Deconstruction</p>
 <p>TODO</p>
 <a name="t21.2.2"></a><h2 id="_language_haskell-to-p6.pod6-Currying">21.2.2 Currying</h2>
 <p>TODO</p>
 <p>.assuming vs currying</p>
 <p>method chaining vs currying</p>
 <a name="t21.2.3"></a><h2 id="_language_haskell-to-p6.pod6-Composing">21.2.3 Composing</h2>
 <p>TODO</p>
 <p>show function composition operator. Maybe explain a more perl6ish way to do this though.</p>
 <a name="t21.3"></a><h1 id="_language_haskell-to-p6.pod6-Case_/_Matching">21.3 Case / Matching</h1>
 <p>Haskell makes heavy use of case matching like the below:</p>
 <pre class="code">case number of 
   2 -&gt; &quot;two&quot; 
   4 -&gt; &quot;four&quot; 
   8 -&gt; &quot;eight&quot; 
   _ -&gt; &quot;don't care&quot; 
</pre>
 <p>In Perl 6 you can achieve this same thing with the given/when structure:</p>
 <pre class="code">my $number = {...}; 
 given $number { 
   when 2  { &quot;two&quot; } 
   when 4  { &quot;four&quot; } 
   when 8  { &quot;eight&quot; } 
   default { &quot;don't care&quot; } 
 } 
</pre>
 <p>Note that the order of the <span class="code">when</span>'s is also significant, just like with the <span class="code">where</span>'s in the guard section of this page.</p>
 <a name="t21.4"></a><h1 id="_language_haskell-to-p6.pod6-Lists">21.4 Lists</h1>
 <p>TODO</p>
 <p>explain difference between perl6 Array, Sequence, List. Explain data shapes in regards to the <span class="code">@</span> sigil. Explain how you can convert an Array to a flattened list of objects with <span class="code">|@</span></p>
 <p>data shapes become quite intuitive, but it takes a bit of practice.</p>
 <a name="t21.4.1"></a><h2 id="_language_haskell-to-p6.pod6-List_Comprehensions">21.4.1 List Comprehensions</h2>
 <p>There are no explicit list comprehensions in Perl6. But rather, you can achieve list comprehensions a couple of different ways.</p>
 <p>Here is a trivial example in Haskell:</p>
 <pre class="code">evens = [ x | x &lt;- [0..100], even x ] 
</pre>
 <p>And now in Perl6 :</p>
 <pre class="code"># using `if` and `for` 
 my @evens = ($_ if $_ %% 2 for 0..100); 
 
 # using gather/take to build a Seq 
 my $evens = gather for 0..100 { take $_ if $_ %% 2 }; 
 
 # using gather/take to build an Array 
 my @evens = gather for 0..100 { take $_ if $_ %% 2 }; 
</pre>
 <p>Since <span class="code">for</span> is always eager it is generally better to use <span class="code">map</span> or <span class="code">grep</span> which will inherit the laziness or eagerness of its list argument.</p>
 <pre class="code">my @evens = map { $_ if $_ %% 2 }, 0..100; 
 
 my @evens = grep { $_ %% 2 }, 0..100; 
 
 # using a Whatever lambda 
 my @evens = grep  * %% 2,  0..100; 
</pre>
 <p>Here is the creation of tuples in Haskell:</p>
 <pre class="code">tuples = [(i,j) | i &lt;- [1,2], 
                   j &lt;- [1..4] ] 
 -- [(1,1),(1,2),(1,3),(1,4),(2,1),(2,2),(2,3),(2,4)] 
</pre>
 <p>And in Perl6:</p>
 <pre class="code">my @tuples = 1,2  X  1..4; 
 # [(1,1), (1,2), (1,3), (1,4), (2,1), (2,2), (2,3), (2,4)] 
</pre>
 <p>See this design document for more information on what kinds of list comprehensions are possible in Perl6: <a href="http://design.perl6.org/S04.html#The_do-once_loop">http://design.perl6.org/S04.html#The_do-once_loop</a>.</p>
 <p>As you can see, when you get into some more advanced Haskell list comprehensions, Perl6 does not translate exactly the same, but it's possible to do the same things, nonetheless.</p>
 <a name="t21.4.2"></a><h2 id="_language_haskell-to-p6.pod6-Fold">21.4.2 Fold</h2>
 <p>Fold in Haskell is called Reduce in Perl 6.</p>
 <pre class="code">mySum = foldl `+` 0 numList 
</pre>
 <pre class="code">my @numbers = {...}; 
 reduce { $^a + $^b }, 0, |@numbers; 
 @numbers.reduce({$^a + $^b}, with =&gt; 0) 
</pre>
 <p>However, in Perl 6, if you want to use an infix operator (+ - / % etc) there is a nice little helper called the Reduction Metaoperator.</p>
 <pre class="code">my @numbers = {...}; 
 [+] @numbers    # This is the same 
 [+] 0, @numbers # as this 
</pre>
 <p>It inserts the operator in between all values in the list and produces a result, just like Fold.</p>
 <p>In Haskell you, you have foldl and foldr. In Perl 6, this difference is determined by the associativity attached to the operator/subroutine.</p>
 <pre class="code">sub two-elem-list ( \a, \b ) { ( a, b ) } 
 
 # you can use a subroutine as an infix operator 
 say 'a' [&amp;two-elem-list] 'b'; # (a b) 
 
 # as the reduction prefix meta operator takes an infix operator, it will work there too; 
 [[&amp;two-elem-list]] 1..5;           # ((((1 2) 3) 4) 5) 
 say (1..5).reduce: &amp;two-elem-list; # ((((1 2) 3) 4) 5) 
 
 # right associative 
 sub right-two-elem-list( \a, \b ) is assoc&lt;right&gt; { ( a, b ) } 
 say (1..5).reduce: &amp;right-two-elem-list; # (1 (2 (3 (4 5)))) 
 
 # XXX there is possibly a bug here as this currently doesn't look at 
 # XXX the associativity of &amp;right-two-elem-list and just always does left assoc 
 say [[&amp;right-two-elem-list]] 1..5; 
 
 # chaining 
 say [&lt;] 1..5;            # True 
 say (1..5).reduce: &amp;[&lt;]; # True 
</pre>
 <a name="t21.4.3"></a><h2 id="_language_haskell-to-p6.pod6-Map">21.4.3 Map</h2>
 <p>TODO</p>
 <a name="t21.4.4"></a><h2 id="_language_haskell-to-p6.pod6-Ranges">21.4.4 Ranges</h2>
 <p>Haskell and Perl 6 both allow you to specify ranges of values.</p>
 <pre class="code">myRange1 = 10..100 
 myRange2 = 1..        -- Infinite 
 myRange3 = 'a'..'h'   -- Letters work too 
</pre>
 <pre class="code">my $range1 = 10..100; 
 my $range2 = 1..*;      # Infinite 
 my $range3 = 'a'..'h';  # Letters work too 
</pre>
 <a name="t21.4.5"></a><h2 id="_language_haskell-to-p6.pod6-Laziness_vs_Eagerness">21.4.5 Laziness vs Eagerness</h2>
 <p>In the examples above, you have the concept of laziness displayed very plainly. Perl 6 has laziness only where it makes the most sense. For example, in the range 10..100, this is eager because it has a definite end. If a list does not have a definite end, then the list should clearly be lazy.</p>
 <pre class="code">(1 .. 100).is-lazy; # False 
 (1 .. Inf).is-lazy; # True 
</pre>
 <p>These are the &quot;sane defaults&quot; that Perl 6 takes pride in. But they are still defaults and can be changed into one or the other.</p>
 <pre class="code">(1 .. 100).lazy.is-lazy;       # True 
 (1 .. 100).lazy.eager.is-lazy; # False 
</pre>
 <a name="t21.5"></a><h1 id="_language_haskell-to-p6.pod6-Contexts_(let-in_/_where)">21.5 Contexts (let-in / where)</h1>
 <p>TODO</p>
 <p>explain how <span class="code">given/when</span> and <span class="code">with/without</span> and <span class="code">for loops</span> open lexical scopes with the argument as the context.</p>
 <p>compare it to let/in and where constructs maybe?</p>
 <a name="t21.6"></a><h1 id="_language_haskell-to-p6.pod6-Parsers">21.6 Parsers</h1>
 <a name="t21.6.1"></a><h2 id="_language_haskell-to-p6.pod6-Parser_Combinators_vs_Grammars">21.6.1 Parser Combinators vs Grammars</h2>
 <p>TODO</p>
</div>
<!-- /language/io-guide.pod6 --><div class="pod-body"><a id="_language_io-guide.pod6"></a><a name="t22"><h1 class="title">22 Input/Output The Definitive Guide</h1></a> <p class="subtitle">Correctly use Perl 6 IO</p> <a name="t22.1"></a><h1 id="_language_io-guide.pod6-The_Basics">22.1 The Basics</h1>
 <p>The vast majority of common IO work is done by the <a href="#_type_IO::Path.pod6">IO::Path</a> type. If you want to read from or write to a file in some form or shape, this is the class you want. It abstracts away the details of file handles (or &quot;file descriptors&quot;) and so you mostly don't even have to think about them.</p>
 <p>Behind the scenes, <a href="#_type_IO::Path.pod6">IO::Path</a> works with <a href="#_type_IO::Handle.pod6">IO::Handle</a>; a class which you can use directly if you need a bit more control than what <a href="#_type_IO::Path.pod6">IO::Path</a> provides. When working with other processes, e.g. via <a href="#_type_Proc.pod6">Proc</a> or <a href="#_type_Proc::Async.pod6">Proc::Async</a> types, you'll also be dealing with a <i>subclass</i> of <a href="#_type_IO::Handle.pod6">IO::Handle</a>: the <a href="#_type_IO::Pipe.pod6">IO::Pipe</a>.</p>
 <p>Lastly, you have the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a>, as well as <a href="#_type_IO::Spec.pod6">IO::Spec</a> and its subclasses, that you'll rarely, if ever, use directly. These classes give you advanced features, such as operating on multiple files as one handle, or low-level path manipulations.</p>
 <p>Along with all these classes, Perl 6 provides several subroutines that let you indirectly work with these classes. These come in handy if you like functional programming style or in Perl 6 one liners.</p>
 <p>While <a href="#_type_IO::Socket.pod6">IO::Socket</a> and its subclasses also have to do with Input and Output, this guide does not cover them.</p>
 <a name="t22.2"></a><h1 id="_language_io-guide.pod6-Navigating_Paths">22.2 Navigating Paths</h1>
 <a name="t22.2.1"></a><h2 id="_language_io-guide.pod6-What's_an_IO::Path_Anyway?">22.2.1 What's an IO::Path Anyway?</h2>
 <p>To represent paths as either files or directories, use <a href="#_type_IO::Path.pod6">IO::Path</a> type. The simplest way to obtain an object of that type is to coerce a <a href="#_type_Str.pod6">Str</a> by calling <a href="#_routine_IO.pod6"><span class="code">.IO</span></a> method on it:</p>
 <pre class="code">say 'my-file.txt'.IO; # OUTPUT: «&quot;my-file.txt&quot;.IO␤»</pre>
 <p>It may seem like something is missing here—there is no volume or absolute path involved—but that information is actually present in the object. You can see it by using <a href="#_routine_perl.pod6"><span class="code">.perl</span></a> method:</p>
 <pre class="code">say 'my-file.txt'.IO.perl;
# OUTPUT: «IO::Path.new(&quot;my-file.txt&quot;, :SPEC(IO::Spec::Unix), :CWD(&quot;/home/camelia&quot;))␤»</pre>
 <p>The two extra attributes—<span class="code">SPEC</span> and <span class="code">CWD</span>—specify what type of operating system semantics the path should use as well as the &quot;current working directory&quot; for the path, i.e. if it's a relative path, then it's relative to that directory.</p>
 <p>This means that regardless of how you made one, an <a href="#_type_IO::Path.pod6">IO::Path</a> object technically always refers to an absolute path. This is why its <a href="#_routine_absolute.pod6"><span class="code">.absolute</span></a> and <a href="#_routine_relative.pod6"><span class="code">.relative</span></a> methods return <a href="#_type_Str.pod6">Str</a> objects and they are the correct way to stringify a path.</p>
 <p>However, don't be in a rush to stringify anything. Pass paths around as <a href="#_type_IO::Path.pod6">IO::Path</a> objects. All the routines that operate on paths can handle them, so there's no need to convert them.</p>
 <a name="t22.2.2"></a><h2 id="_language_io-guide.pod6-Working_with_Files">22.2.2 Working with Files</h2>
 <a name="t22.2.2.1"></a><h3 id="_language_io-guide.pod6-Writing_into_files">22.2.2.1 Writing into files</h3>
 <a name="t22.2.2.1.1"></a><h4 id="_language_io-guide.pod6-Writing_new_content">22.2.2.1.1 Writing new content</h4>
 <p>Let's make some files and write and read data from them! The <a href="#_routine_spurt.pod6"><span class="code">spurt</span></a> and <a href="#_routine_slurp.pod6"><span class="code">slurp</span></a> routines write and read the data in one chunk. Unless you're working with very large files that are difficult to store entirely in memory all at the same time, these two routines are for you.</p>
 <pre class="code">&quot;my-file.txt&quot;.IO.spurt: &quot;I ♥ Perl!&quot;; 
</pre>
 <p>The code above creates a file named <span class="code">my-file.txt</span> in the current directory and then writes text <span class="code">I ♥ Perl!</span> into it. If Perl 6 is your first language, celebrate your accomplishment! Try to open the file you created with some other program to verify what you wrote with your program. If you already know some other language, you may be wondering if this guide missed anything like handling encoding or error conditions.</p>
 <p>However, that is all the code you need. The string will be encoded in <span class="code">utf-8</span> encoding by default and the errors are handled via the <a href="#_type_Failure.pod6">Failure</a> mechanism: these are exceptions you can handle using regular conditionals. In this case, we're letting all potential <a href="#_type_Failure.pod6">Failures</a> get sunk after the call and so any <a href="#_type_Exception.pod6">Exceptions</a> they contain will be thrown.</p>
 <a name="t22.2.2.1.2"></a><h4 id="_language_io-guide.pod6-Appending_content">22.2.2.1.2 Appending content</h4>
 <p>If you wanted to add more content to the file we made in previous section, you could note the <a href="#_routine_spurt.pod6"><span class="code">spurt</span>  documentation</a> mentions <span class="code">:append</span> argument. However, for finer control, let's get ourselves an <a href="#_type_IO::Handle.pod6">IO::Handle</a> to work with:</p>
 <pre class="code">my $fh = 'my-file.txt'.IO.open: :a; 
 $fh.print: &quot;I count: &quot;; 
 $fh.print: &quot;$_ &quot; for ^10; 
 $fh.close; 
</pre>
 <p>The <a href="#_routine_open.pod6"><span class="code">.open</span></a> method call opens our <a href="#_type_IO::Path.pod6">IO::Path</a> and returns an <a href="#_type_IO::Handle.pod6">IO::Handle</a>. We passed <span class="code">:a</span> as argument, to indicate we want to open the file for writing in append mode.</p>
 <p>In the next two lines of code, we use the usual <a href="#_routine_print.pod6"><span class="code">.print</span></a> method on that <a href="#_type_IO::Handle.pod6">IO::Handle</a> to print a line with 11 pieces of text (the <span class="code">'I count: '</span> string and 10 numbers). Note that, once again, <a href="#_type_Failure.pod6">Failure</a> mechanism takes care of all the error checking for us. If the <a href="#_routine_open.pod6"><span class="code">.open</span></a> fails, it returns a <a href="#_type_Failure.pod6">Failure</a>, which will throw when we attempt to call method <a href="#_routine_print.pod6"><span class="code">.print</span></a> on it.</p>
 <p>Finally, we close the <a href="#_type_IO::Handle.pod6">IO::Handle</a> by calling the <a href="#_routine_close.pod6"><span class="code">.close</span></a> method on it. It is <i>important that you do it</i>, especially in large programs or ones that deal with a lot of files, as many systems have limits to how many files a program can have open at the same time. If you don't close your handles, eventually you'll reach that limit and the <a href="#_routine_open.pod6"><span class="code">.open</span></a> call will fail. Note that unlike some other languages, Perl 6 does not use reference counting, so the file handles <b>are NOT closed</b> when the scope they're defined in is left. They will be closed only when they're garbage collected and failing to close the handles may cause your program to reach the file limit <i>before</i> the open handles get a chance to get garbage collected.</p>
 <a name="t22.2.2.2"></a><h3 id="_language_io-guide.pod6-Reading_from_files">22.2.2.2 Reading from files</h3>
 <a name="t22.2.2.2.1"></a><h4 id="_language_io-guide.pod6-Using_IO::Path">22.2.2.2.1 Using IO::Path</h4>
 <p>We've seen in previous sections that writing stuff to files is a single-line of code in Perl 6. Reading from them, is similarly easy:</p>
 <pre class="code">say 'my-file.txt'.IO.slurp;        # OUTPUT: «I ♥ Perl!␤» 
 say 'my-file.txt'.IO.slurp: :bin;  # OUTPUT: «Buf[uint8]:0x&lt;49 20 e2 99 a5 20 50 65 72 6c 21&gt;␤» 
</pre>
 <p>The <a href="#_routine_slurp.pod6"><span class="code">.slurp</span></a> method reads entire contents of the file and returns them as a single <a href="#_type_Str.pod6">Str</a> object, or as a <a href="#_type_Buf.pod6">Buf</a> object, if binary mode was requested, by specifying <span class="code">:bin</span> named argument.</p>
 <p>Since <a href="#_routine_slurp.pod6">slurping</a> loads the entire file into memory, it's not ideal for working with huge files.</p>
 <p>The <a href="#_type_IO::Path.pod6">IO::Path</a> type offers two other handy methods: <a href="#_type_IO::Path.pod6-method_words"><span class="code">.words</span></a> and <a href="#_type_IO::Path.pod6-method_lines"><span class="code">.lines</span></a> that lazily read the file in smaller chunks and return <a href="#_type_Seq.pod6">Seq</a> objects that (by default) don't keep already-consumed values around.</p>
 <p>Here's an example that finds lines in a text file that mention Perl and prints them out. Despite the file itself being too large to fit into available <a href="https://en.wikipedia.org/wiki/Random-access_memory">RAM</a>, the program will not have any issues running, as the contents are processed in small chunks:</p>
 <pre class="code">.say for '500-PetaByte-File.txt'.IO.lines.grep: *.contains: 'Perl'; 
</pre>
 <p>Here's another example that prints the first 100 words from a file, without loading it entirely:</p>
 <pre class="code">.say for '500-PetaByte-File.txt'.IO.words: 100 
</pre>
 <p>Note that we did this by passing a limit argument to <a href="#_type_IO::Path.pod6-method_words"><span class="code">.words</span></a> instead of, say, using <a href="#_language_operators.pod6-index-entry-array_indexing_operator-array_subscript_operator-array_indexing_operator">a list indexing operation</a>. The reason for that is there's still a file handle in use under the hood, and until you fully consume the returned <a href="#_type_Seq.pod6">Seq</a>, the handle will remain open. If nothing references the <a href="#_type_Seq.pod6">Seq</a>, eventually the handle will get closed, during a garbage collection run, but in large programs that work with a lot of files, it's best to ensure all the handles get closed right away. So, you should always ensure the <a href="#_type_Seq.pod6">Seq</a> from <a href="#_type_IO::Path.pod6">IO::Path</a>'s <a href="#_type_IO::Path.pod6-method_words"><span class="code">.words</span></a> and <a href="#_type_IO::Path.pod6-method_lines"><span class="code">.lines</span></a> methods is <a href="#_language_glossary.pod6-index-entry-Reify">fully reified</a>; and the limit argument is there to help you with that.</p>
 <a name="t22.2.2.2.2"></a><h4 id="_language_io-guide.pod6-Using_IO::Handle">22.2.2.2.2 Using IO::Handle</h4>
 <p>Of course, you can read from files using the <a href="#_type_IO::Handle.pod6">IO::Handle</a> type, which gives you a lot finer control over what you're doing:</p>
 <pre class="code">given 'some-file.txt'.IO.open { 
     say .readchars: 8;  # OUTPUT: «I ♥ Perl␤» 
     .seek: 1, SeekFromCurrent; 
     say .readchars: 15;  # OUTPUT: «I ♥ Programming␤» 
     .close 
 } 
</pre>
 <p>The <a href="#_type_IO::Handle.pod6">IO::Handle</a> gives you <a href="#_type_IO::Handle.pod6-method_read">.read</a>, <a href="#_type_IO::Handle.pod6-method_readchars">.readchars</a>, <a href="#_type_IO::Handle.pod6-routine_get">.get</a>, <a href="#_type_IO::Handle.pod6-method_getc">.getc</a>, <a href="#_type_IO::Handle.pod6-routine_words">.words</a>, <a href="#_type_IO::Handle.pod6-routine_lines">.lines</a>, <a href="#_type_IO::Handle.pod6-routine_slurp">.slurp</a>, <a href="#_type_IO::Handle.pod6-method_comb">.comb</a>, <a href="#_type_IO::Handle.pod6-method_split">.split</a>, and <a href="#_type_IO::Handle.pod6-method_Supply">.Supply</a> methods to read data from it. Plenty of options; and the catch is you need to close the handle when you're done with it.</p>
 <p>Unlike some languages, the handle won't get automatically closed when the scope it's defined in is left. Instead, it'll remain open until it's garbage collected. To make the closing business easier, some of the methods let you specify a <span class="code">:close</span> argument, you can also use the <a href="#_language_phasers.pod6-index-entry-will_trait"><span class="code">will leave</span>  trait</a>, or the <span class="code">does auto-close</span> trait provided by the <a href="https://modules.perl6.org/dist/Trait::IO"><span class="code">Trait::IO</span></a> module.</p>
 <a name="t22.3"></a><h1 id="_language_io-guide.pod6-The_Wrong_Way_To_Do_Things">22.3 The Wrong Way To Do Things</h1>
 <p>This section describes how NOT to do Perl 6 IO.</p>
 <a name="t22.3.1"></a><h2 id="_language_io-guide.pod6-Leave_$*SPEC_Alone">22.3.1 Leave $*SPEC Alone</h2>
 <p>You may have heard of <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a> and seen some code or books show its usage for splitting and joining path fragments. Some of the routine names it provides may even look familiar to what you've used in other languages.</p>
 <p>However, unless you're writing your own IO framework, you almost never need to use <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a> directly. <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a> provides low-level stuff and its use will not only make your code tough to read, you'll likely introduce security issues (e.g. null characters)!</p>
 <p>The <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> type is the workhorse of Perl 6 world. It caters to all the path manipulation needs as well as provides shortcut routines that let you avoid dealing with file handles. Use that instead of the <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a> stuff.</p>
 <p>Tip: you can join path parts with <span class="code">/</span> and feed them to <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>'s routines; they'll still do The Right Thing™ with them, regardless of the operating system.</p>
 <pre class="code"># WRONG!! TOO MUCH WORK! 
 my $fh = open $*SPEC.catpath: '', 'foo/bar', $file; 
 my $data = $fh.slurp; 
 $fh.close; 
</pre>
 <pre class="code"># RIGHT! Use IO::Path to do all the dirty work 
 my $data = 'foo/bar'.IO.add($file).slurp; 
</pre>
 <p>However, it's fine to use it for things not otherwise provided by <a href="#_type_IO::Path.pod6">IO::Path</a>. For example, the <a href="#_routine_devnull.pod6"><span class="code">.devnull</span>  method</a>:</p>
 <pre class="code">{ 
     temp $*OUT = open :w, $*SPEC.devnull; 
     say &quot;In space no one can hear you scream!&quot;; 
 } 
 say &quot;Hello&quot;; 
</pre>
 <a name="t22.3.2"></a><h2 id="_language_io-guide.pod6-Stringifying_IO::Path">22.3.2 Stringifying IO::Path</h2>
 <p>Don't use the <span class="code">.Str</span> method to stringify <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> objects, unless you just want to display them somewhere for information purposes or something. The <span class="code">.Str</span> method returns whatever basic path string the <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> was instantiated with. It doesn't consider the value of the <a href="#_type_IO::Path.pod6-attribute_CWD"><span class="code">$.CWD</span>  attribute</a>. For example, this code is broken:</p>
 <pre class="code"># WRONG!! .Str DOES NOT USE $.CWD! 
 my $path = 'foo'.IO; 
 chdir 'bar'; 
 run &lt;tar -cvvf archive.tar&gt;, ~$path; 
</pre>
 <p>The <a href="#_routine_chdir.pod6"><span class="code">chdir</span></a> call changed the value of the current directory, but the <span class="code">$path</span> we created is relative to the directory before that change.</p>
 <p>However, the <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object <i>does</i> know what directory it's relative to. We just need to use <a href="#_routine_absolute.pod6"><span class="code">.absolute</span></a> or <a href="#_routine_relative.pod6"><span class="code">.relative</span></a> to stringify the object. Both routines return a <a href="#_type_Str.pod6"><span class="code">Str</span></a> object; they only differ in whether the result is an absolute or relative path. So, we can fix our code like this:</p>
 <pre class="code"># RIGHT!! .absolute does consider the value of $.CWD! 
 my $path = 'foo'.IO; 
 chdir 'bar'; 
 run &lt;tar -cvvf archive.tar&gt;, $path.absolute; 
 # Also good: 
 run &lt;tar -cvvf archive.tar&gt;, $path.relative; 
</pre>
 <a name="t22.3.3"></a><h2 id="_language_io-guide.pod6-Be_mindful_of_$*CWD">22.3.3 Be mindful of $*CWD</h2>
 <p>While usually out of view, every <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object, by default, uses the current value of <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> to set its <a href="#_type_IO::Path.pod6-attribute_CWD"><span class="code">$.CWD</span>  attribute</a>. This means there are two things to pay attention to.</p>
 <a name="t22.3.3.1"></a><h3 id="_language_io-guide.pod6-temp_the_$*CWD">22.3.3.1 temp the $*CWD</h3>
 <p>This code is a mistake:</p>
 <pre class="code"># WRONG!! 
 my $*CWD = &quot;foo&quot;.IO; 
</pre>
 <p>The <span class="code">my $*CWD</span> made <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> undefined. The <a href="#_routine_IO.pod6"><span class="code">.IO</span></a> coercer then goes ahead and sets the <a href="#_type_IO::Path.pod6-attribute_CWD"><span class="code">$.CWD</span>  attribute</a> of the path it's creating to the stringified version of the undefined <span class="code">$*CWD</span>; an empty string.</p>
 <p>The correct way to perform this operation is use <a href="#_routine_temp.pod6"><span class="code">temp</span></a> instead of <span class="code">my</span>. It'll localize the effect of changes to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a>, just like <span class="code">my</span> would, but it won't make it undefined, so the <a href="#_routine_IO.pod6"><span class="code">.IO</span></a> coercer will still get the correct old value:</p>
 <pre class="code">temp $*CWD = &quot;foo&quot;.IO; 
</pre>
 <p>Better yet, if you want to perform some code in a localized <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a>, use the <a href="#_routine_indir.pod6"><span class="code">indir</span>  routine</a> for that purpose.</p>
</div>
<!-- /language/io.pod6 --><div class="pod-body"><a id="_language_io.pod6"></a><a name="t23"><h1 class="title">23 Input/Output</h1></a> <p class="subtitle">File-related operations</p> <p>Here we present a quick overview of the file-related input/output operations. Details can be found in the documentation for the <a href="#_type_IO.pod6">IO</a> role, as well as the <a href="#_type_IO::Handle.pod6">IO::Handle</a> and <a href="#_type_IO::Path.pod6">IO::Path</a> types.</p>
 <a name="t23.1"></a><h1 id="_language_io.pod6-Reading_from_files">23.1 Reading from files</h1>
 <p>One way to read the contents of a file is to open the file via the <span class="code">open</span> function with the <span class="code">:r</span> (read) file mode option and slurp in the contents:</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :r; 
 my $contents = $fh.slurp-rest; 
 $fh.close; 
</pre>
 <p>Here we explicitly close the file handle using the <span class="code">close</span> method on the <span class="code">IO::Handle</span> object. This is a very traditional way of reading the contents of a file. However, the same can be done more easily and clearly like so:</p>
 <pre class="code">my $contents = &quot;testfile&quot;.IO.slurp; 
 # or in procedural form: 
 $contents = slurp &quot;testfile&quot; 
</pre>
 <p>By adding the <span class="code">IO</span> role to the file name string, we are effectively able to refer to the string as the file object itself and thus slurp in its contents directly. Note that the <span class="code">slurp</span> takes care of opening and closing the file for you.</p>
 <a name="t23.1.1"></a><h2 id="_language_io.pod6-Line_by_line">23.1.1 Line by line</h2>
 <p>Of course, we also have the option to read a file line-by-line. The new line separator (i.e., <span class="code">$*IN.nl-in</span>) will be excluded.</p>
 <pre class="code">for 'huge-csv'.IO.lines -&gt; $line { 
     # Do something with $line 
 } 
 
 # or if you'll be processing later 
 my @lines = 'huge-csv'.IO.lines; 
</pre>
 <a name="t23.2"></a><h1 id="_language_io.pod6-Writing_to_files">23.2 Writing to files</h1>
 <p>To write data to a file, again we have the choice of the traditional method of calling the <span class="code">open</span> function – this time with the <span class="code">:w</span> (write) option -- and printing the data to the file:</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :w; 
 $fh.print(&quot;data and stuff\n&quot;); 
 $fh.close; 
</pre>
 <p>Or equivalently with <span class="code">say</span>, thus the explicit newline is no longer necessary:</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :w; 
 $fh.say(&quot;data and stuff&quot;); 
 $fh.close; 
</pre>
 <p>We can simplify this by using <span class="code">spurt</span> to open the file in write mode, writing the data to the file and closing it again for us:</p>
 <pre class="code">spurt &quot;testfile&quot;, &quot;data and stuff\n&quot;; 
</pre>
 <p>By default all (text) files are written as UTF-8, however if necessary, an explicit encoding can be specified via the <span class="code">:enc</span> option:</p>
 <pre class="code">spurt &quot;testfile&quot;, &quot;latin1 text: äöüß&quot;, enc =&gt; &quot;latin1&quot;; 
</pre>
 <p>To write formatted strings to a file, use the <a href="#_routine_printf.pod6">printf</a> function of <a href="#_type_IO::Handle.pod6">IO::Handle</a>.</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :w; 
 $fh.printf(&quot;formatted data %04d\n&quot;, 42); 
 $fh.close; 
</pre>
 <p>To append to a file, specify the <span class="code">:a</span> option when opening the file handle explicitly,</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :a; 
 $fh.print(&quot;more data\n&quot;); 
 $fh.close; 
</pre>
 <p>or equivalently with <span class="code">say</span>, thus the explicit newline is no longer necessary,</p>
 <pre class="code">my $fh = open &quot;testfile&quot;, :a; 
 $fh.say(&quot;more data&quot;); 
 $fh.close; 
</pre>
 <p>or even simpler with the <span class="code">:append</span> option in the call to <span class="code">spurt</span>:</p>
 <pre class="code">spurt &quot;testfile&quot;, &quot;more data\n&quot;, :append; 
</pre>
 <p>To explicitly write binary data to a file, open it with the <span class="code">:bin</span> option. The input/output operations then will take place using the <span class="code">Buf</span> type instead of the <span class="code">Str</span> type.</p>
 <a name="t23.3"></a><h1 id="_language_io.pod6-Copying_and_renaming_files">23.3 Copying and renaming files</h1>
 <p>Routines <span class="code">copy</span>, <span class="code">rename</span>, and <span class="code">move</span> are available to avoid low-level system commands. See details at <a href="#_routine_copy.pod6">copy</a>, <a href="#_routine_rename.pod6">rename</a>, and <a href="#_routine_move.pod6">move</a>. Some examples:</p>
 <pre class="code">my $filea = 'foo'; 
 my $fileb = 'foo.bak'; 
 my $filec = '/disk1/foo';  # note 'diskN' is assumed to be a physical storage device 
 
 copy $filea, $fileb;              # overwrites $fileb if it exists 
 copy $filea, $fileb, :createonly; # fails if $fileb exists 
 
 rename $filea, 'new-foo';              # overwrites 'new-foo' if it exists 
 rename $filea, 'new-foo', :createonly; # fails if 'new-foo' exists 
 
 # use move when a system-level rename may not work 
 move $fileb, '/disk2/foo';              # overwrites '/disk2/foo' if it exists 
 move $fileb, '/disk2/foo', :createonly; # fails if '/disk2/foo' exists 
</pre>
 <a name="t23.4"></a><h1 id="_language_io.pod6-Checking_files_and_directories">23.4 Checking files and directories</h1>
 <p>Use the <span class="code">e</span> method on an <span class="code">IO::Handle</span> object to test whether the file or directory exists.</p>
 <pre class="code">if &quot;nonexistent_file&quot;.IO.e { 
     say &quot;file exists&quot;; 
 } 
 else { 
     say &quot;file doesn't exist&quot;; 
 } 
</pre>
 <p>It is also possible to use the colon pair syntax to achieve the same thing:</p>
 <pre class="code">if &quot;path/to/file&quot;.IO ~~ :e { 
     say 'file exists'; 
 } 
</pre>
 <pre class="code">my $file = &quot;path/to/file&quot;;
if $file.IO ~~ :e {
    say 'file exists';
}</pre>
 <p>Similarly to the file existence check, one can also check to see if a path is a directory. For instance, assuming that the file <span class="code">testfile</span> and the directory <span class="code">lib</span> exist, we would obtain from the existence test method <span class="code">e</span> the same result, namely that both exist:</p>
 <pre class="code">say &quot;testfile&quot;.IO.e;  # OUTPUT: «True␤» 
 say &quot;lib&quot;.IO.e;       # OUTPUT: «True␤» 
</pre>
 <p>However, since only one of them is a directory, the directory test method <span class="code">d</span> will give a different result:</p>
 <pre class="code">say &quot;testfile&quot;.IO.d;  # OUTPUT: «False␤» 
 say &quot;lib&quot;.IO.d;       # OUTPUT: «True␤» 
</pre>
 <p>Naturally the tables are turned if we check to see if the path is a file via the file test method <span class="code">f</span>:</p>
 <pre class="code">say &quot;testfile&quot;.IO.f;  # OUTPUT: «True␤» 
 say &quot;lib&quot;.IO.f;       # OUTPUT: «False␤» 
</pre>
 <p>There are other methods that can be used to query a file or directory, some useful ones are:</p>
 <pre class="code">my $f = &quot;file&quot;; 
 
 say $f.IO.modified; # return time of last file (or directory) change 
 say $f.IO.accessed; # return last time file (or directory) was read 
 say $f.IO.s;        # return size of file (or directory inode) in bytes 
</pre>
 <p>See more methods and details at <a href="#_type_IO::Path.pod6">IO::Path</a>.</p>
 <a name="t23.5"></a><h1 id="_language_io.pod6-Getting_a_directory_listing">23.5 Getting a directory listing</h1>
 <p>To list the contents of the current directory, use the <span class="code">dir</span> function. It returns a list of <a href="#_type_IO::Path.pod6">IO::Path</a> objects.</p>
 <pre class="code">say dir;          # OUTPUT: «&quot;/path/to/testfile&quot;.IO &quot;/path/to/lib&quot;.IO␤»</pre>
 <p>To list the files and directories in a given directory, simply pass a path as an argument to <span class="code">dir</span>:</p>
 <pre class="code">say dir &quot;/etc/&quot;;  # OUTPUT: «&quot;/etc/ld.so.conf&quot;.IO &quot;/etc/shadow&quot;.IO ....␤»</pre>
 <a name="t23.6"></a><h1 id="_language_io.pod6-Creating_and_removing_directories">23.6 Creating and removing directories</h1>
 <p>To create a new directory, simply call the <span class="code">mkdir</span> function with the directory name as its argument:</p>
 <pre class="code">mkdir &quot;newdir&quot;; 
</pre>
 <p>The function returns the name of the created directory on success and <span class="code">Nil</span> on failure. Thus the standard Perl idiom works as expected:</p>
 <pre class="code">mkdir &quot;newdir&quot; or die &quot;$!&quot;; 
</pre>
 <p>Use <span class="code">rmdir</span> to remove <i>empty</i> directories:</p>
 <pre class="code">rmdir &quot;newdir&quot; or die &quot;$!&quot;; 
</pre>
</div>
<!-- /language/ipc.pod6 --><div class="pod-body"><a id="_language_ipc.pod6"></a><a name="t24"><h1 class="title">24 Inter-Process Communication</h1></a> <p class="subtitle">Programs running other programs and communicating with them</p> <p><span class="indexed"><a id="267" name="IPC"></a></span></p>
 <a name="t24.1"></a><h1 id="_language_ipc.pod6-running">24.1 <a name="268"></a>running</h1>
 <p>Many programs need to be able to run other programs. Running a program in Perl 6 is as easy as:</p>
 <pre class="code">run 'git', 'status';</pre>
 <p>This line runs the program named &quot;git&quot; and passes &quot;git&quot; and &quot;status&quot; to its command-line. It will find the program using the <span class="code">%*ENV&lt;PATH&gt; </span> setting.</p>
 <p>If you would like to run a program by sending a command-line to the shell, there's a tool for that as well. All shell meta characters are interpreted by the shell, including pipes, redirects, environment variable substitutions and so on.</p>
 <pre class="code">shell 'ls -lR | gzip -9 &gt; ls-lR.gz';</pre>
 <p>Caution should be taken when using <span class="code">shell</span> with user input.</p>
 <a name="t24.2"></a><h1 id="_language_ipc.pod6-proc">24.2 <a name="269"></a>proc</h1>
 <p>Both <span class="code">run</span> and <span class="code">shell</span> return a <a href="#_type_Proc.pod6">Proc</a> object, which can be used to communicate with the process in more detail. Please note that unless you close all output pipes, the program will usually not terminate.</p>
 <pre class="code">my $git = run 'git', 'log', '--oneline', :out;
for $git.out.lines -&gt; $line {
    my ($sha, $subject) = $line.split: ' ', 2;
    say &quot;$subject [$sha]&quot;;
}
$git.out.close();</pre>
 <p>If the program fails (exits with a non-zero exit code), it will throw an exception when the returned <a href="#_type_Proc.pod6">Proc</a> object is sunk. You can save it into a variable, even anonymous one, to prevent the sinking:</p>
 <pre class="code">$ = run '/bin/false'; # does not sink the Proc and so does not throw</pre>
 <p>You can tell the <span class="code">Proc</span> object to capture output as a file handle by passing the <span class="code">:out</span> and <span class="code">:err</span> flags. You may also pass input via the <span class="code">:in</span> flag.</p>
 <pre class="code">my $echo = run 'echo', 'Hello, world', :out;
my $cat  = run 'cat', '-n', :in($echo.out), :out;
say $cat.out.get;
$cat.out.close();</pre>
 <p>You may also use <span class="code">Proc</span> to capture the PID, send signals to the application, and check the exitcode.</p>
 <pre class="code">my $crontab = run 'crontab', '-l';
if $crontab.exitcode == 0 {
    say 'crontab -l ran ok';
}
else {
    say 'something went wrong';
}</pre>
 <a name="t24.3"></a><h1 id="_language_ipc.pod6-async">24.3 <a name="270"></a>async</h1>
 <p>When you need more control over the communication with and from another process, you will want to make use of <a href="#_type_Proc::Async.pod6">Proc::Async</a>. This class provides support for asynchronous communication with a program, as well as the ability to send signals to that program.</p>
 <pre class="code"># Get ready to run the program 
 my $log = Proc::Async.new('tail', '-f',  '/var/log/system.log'); 
 $log.stdout.tap(-&gt; $buf { print $buf }); 
 $log.stderr.tap(-&gt; $buf { $*ERR.print($buf) }); 
 
 # Start the program 
 my $done = $log.start; 
 sleep 10; 
 
 # Tell the program to stop 
 $log.kill('QUIT'); 
 
 # Wait for the program to finish 
 await $done; 
</pre>
 <p>Here is a small program that uses the &quot;tail&quot; program to print out the contents of the log named <span class="code">system.log</span> for 10 seconds and then tells the program to stop with a QUIT signal.</p>
 <p>Whereas <span class="code">Proc</span> provides access to output using <span class="code">IO::Handle</span>s, <span class="code">Proc::Async</span> provides access using asynchronous supplies (see <a href="#_type_Supply.pod6">Supply</a>).</p>
 <p>If you want to run a program and do some work while you wait for the original program to finish, the <span class="code">start</span> routine returns a <a href="#_type_Promise.pod6">Promise</a>, which is kept when the program quits.</p>
 <p>Use the <span class="code">write</span> method to pass data into the program.</p>
</div>
<!-- /language/list.pod6 --><div class="pod-body"><a id="_language_list.pod6"></a><a name="t25"><h1 class="title">25 Lists, Sequences, and Arrays</h1></a> <p class="subtitle">Positional data constructs</p> <p>Lists have been a central part of computing since before there were computers, during which time many devils have taken up residence in their details. They were actually one of the hardest parts of Perl 6 to design, but through persistence and patience, Perl 6 has arrived with an elegant system for handling them.</p>
 <a name="t25.1"></a><h1 id="_language_list.pod6-Literal_Lists">25.1 Literal Lists</h1>
 <p>Literal <a href="#_type_List.pod6"><span class="code">List</span> s</a> are created with commas and semicolons <b>not</b> with parentheses, so:</p>
 <pre class="code">1, 2;        # This is two-element list
our $list = (1, 2);      # This is also a List, in parentheses
$list = (1; 2);      # same List (see below)
$list = (1);         # This is not a List, just a 1 in parentheses
$list = (1,);        # This is a one-element List</pre>
 <p>There is one exception, empty lists are created with just parenthesis:</p>
 <pre class="code">();          # This is an empty List 
 (,);         # This is a syntax error 
</pre>
 <p>Note that hanging commas are just fine as long as the beginning and end of a list are clear, so feel free to use them for easy code editing.</p>
 <p>Parentheses can be used to mark the beginning and end of a <span class="code">List</span>, so:</p>
 <pre class="code">(1, 2), (1, 2); # This is a list of two lists.</pre>
 <p><span class="code">List</span>s of <span class="code">List</span>s can also be created by combining comma and semicolon. This is also called multi-dimensional syntax, because it is most often used to index multidimensional arrays.</p>
 <pre class="code">say so (1,2; 3,4) eqv ((1,2), (3,4));
# OUTPUT: «True␤»
say so (1,2; 3,4;) eqv ((1,2), (3,4));
# OUTPUT: «True␤»
say so (&quot;foo&quot;;) eqv (&quot;foo&quot;) eqv ((&quot;foo&quot;)); # not a list
# OUTPUT: «True␤»</pre>
 <p>Unlike a comma, a hanging semicolon does not create a multidimensional list in a literal. However, be aware that this behavior changes in most argument lists, where the exact behavior depends on the function... but will usually be:</p>
 <pre class="code">say('foo';);   # a list with one element and the empty list
# OUTPUT: «(foo)()␤»
say(('foo';)); # no list, just the string &quot;foo&quot;
# OUTPUT: «foo␤»</pre>
 <p>Because the semicolon doubles as a <a href="#_language_control.pod6-statements">statement terminator</a> it will end a literal list when used at the top level, instead creating a statement list. If you want to create a statement list inside parenthesis, use a sigil before the parenthesis:</p>
 <pre class="code">say so (42) eqv $(my $a = 42; $a;);
# OUTPUT: «True␤»
say so (42,42) eqv (my $a = 42; $a;);
# OUTPUT: «True␤»</pre>
 <p>Individual elements can be pulled out of a list using a subscript. The first element of a list is at index number zero:</p>
 <pre class="code">say (1, 2)[0];  # says 1 
 say (1, 2)[1];  # says 2 
 say (1, 2)[2];  # says Nil 
 say (1, 2)[-1]; # Error 
 say ((&lt;a b&gt;,&lt;c d&gt;),(&lt;e f&gt;,&lt;g h&gt;))[1;0;1]; # says &quot;f&quot; 
</pre>
 <a name="t25.2"></a><h1 id="_language_list.pod6-The_@_sigil">25.2 The @ sigil</h1>
 <p>Variables in Perl 6 whose names bear the <span class="code">@</span> sigil are expected to contain some sort of list-like object. Of course, other variables may also contain these objects, but <span class="code">@</span>-sigiled variables always do, and are expected to act the part.</p>
 <p>By default, when you assign a <span class="code">List</span> to an <span class="code">@</span>-sigiled variable, you create an <span class="code">Array</span>. Those are described below. If, instead you want to put an actual <span class="code">List</span> into an <span class="code">@</span>-sigiled variable, you can use binding with <span class="code">:=</span> instead.</p>
 <pre class="code">my @a := 1, 2, 3;</pre>
 <p>One of the ways <span class="code">@</span>-sigiled variables act like lists is by always supporting <a href="#_language_subscripts.pod6">positional subscripting</a>. Anything bound to a <span class="code">@</span>-sigiled value must support the <a href="#_type_Positional.pod6">Positional</a> role which guarantees this:</p>
 <pre class="code">my @a := 1; # Type check failed in binding; expected Positional but got Int</pre>
 <a name="t25.3"></a><h1 id="_language_list.pod6-Reset_a_List_Container">25.3 Reset a List Container</h1>
 <p>To remove all elements from a Positional container assign <a href="#_type_Slip.pod6-Empty"><span class="code">Empty</span></a>, the empty list <span class="code">()</span> or a <span class="code">Slip</span> of the empty list to the container.</p>
 <pre class="code">my @a = 1, 2, 3;
@a = ();
@a = Empty;
@a = |();</pre>
 <a name="t25.4"></a><h1 id="_language_list.pod6-Iteration">25.4 Iteration</h1>
 <p>All lists may be iterated, which means taking each element from the list in order and stopping after the last element:</p>
 <pre class="code">for 1, 2, 3 { .say }  # OUTPUT: «1␤2␤3␤»</pre>
 <a name="t25.4.1"></a><h2 id="_language_list.pod6-Single_Argument_Rule">25.4.1 <a name="271"></a>Single Argument Rule</h2>
 <p>It is the rule by which the set of parameters passed to an iterator such as <span class="code">for</span> is treated as a single argument, instead of several arguments; that is <span class="code">some-iterator( a, b, c, ...)</span> will always be treated as <span class="code">some-iterator( list-or-array(a, b, c))</span> and never as <span class="code">(some-iterator(a))(b)...</span>, that is, iterative application of the iterator to the first argument, then the result to the next argument, and so on. In this example</p>
 <pre class="code">my @list = [ (1, 2, 3), 
              (1, 2, ), 
              [&lt;a b c&gt;, &lt;d e f&gt;], 
              [[1]] ]; 
 
 for @list -&gt; @element { 
   say &quot;{@element} → {@element.^name}&quot;; 
     for @element -&gt; $sub-element { 
       say $sub-element; 
     } 
 } 
 # OUTPUT 
 #1 2 3 → List 
 #1 
 #2 
 #3 
 #1 2 → List 
 #1 
 #2 
 #a b c d e f → Array 
 #(a b c) 
 #(d e f) 
 #1 → Array 
 #1 
</pre>
 <p>Since what <span class="code">for</span> receives is a single argument, it will be treated as a list of elements to iterate over. The rule of thumb is that <a href="https://perl6advent.wordpress.com/2015/12/14/day-15-2015-the-year-of-the-great-list-refactor/">if there's a comma, anything preceding it is an element</a> and the list thus created becomes the <i>single element</i>. That happens in the case of the two arrays separated by a comma which are the third in the <span class="code">Array</span> we are iterating. In general, quoting the article linked above, the single argument rule <i>... makes for behave as the programmer would expect</i>.</p>
 <a name="t25.5"></a><h1 id="_language_list.pod6-Testing_for_Elements">25.5 Testing for Elements</h1>
 <p>To test for elements convert the <span class="code">List</span> or <span class="code">Array</span> to a <a href="#_type_Set.pod6"><span class="code">Set</span></a> or use a Set <a href="#_language_setbagmix.pod6">operator</a>.</p>
 <pre class="code">my @a = &lt;foo bar buzz&gt;;
say @a.Set&lt;bar buzz&gt;; # OUTPUT: «(True True)␤»
say so 'bar' ∈ @a;    # OUTPUT: «True␤»</pre>
 <a name="t25.5.1"></a><h2 id="_language_list.pod6-Sequences">25.5.1 Sequences</h2>
 <p>Not all lists are born full of elements. Some only create as many elements as they are asked for. These are called sequences, which are of type <a href="#_type_Seq.pod6">Seq</a>. As it so happens, loops return <span class="code">Seq</span>s.</p>
 <pre class="code">(loop { 42.say })[2]  # OUTPUT: «42␤42␤42␤»</pre>
 <p>So, it is fine to have infinite lists in Perl 6, just so long as you never ask them for all their elements. In some cases, you may want to avoid asking them how long they are too – Perl 6 will try to return <span class="code">Inf</span> if it knows a sequence is infinite, but it cannot always know.</p>
 TODO link or describe C&lt;...&gt;
 <p>Although the <span class="code">Seq</span> class does provide some positional subscripting, it does not provide the full interface of <span class="code">Positional</span>, so an <span class="code">@</span>-sigiled variable may <b>not</b> be bound to a <span class="code">Seq</span>.</p>
 <pre class="code">my @s := Seq.new(&lt;a b c&gt;); CATCH { default { say .^name, ' ', .Str } }
# OUTPUT «Type check failed in binding to $iter; expected Iterator but got List ($(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))␤  in block &lt;unit&gt; at &lt;tmp&gt; line 1␤␤»</pre>
 <p>This is because the <span class="code">Seq</span> does not keep values around after you have used them. This is useful behavior if you have a very long sequence, as you may want to throw values away after using them, so that your program does not fill up memory. For example, when processing a file of a million lines:</p>
 <pre class="code">for 'filename'.IO.lines -&gt; $line { 
     do-something-with($line); 
 } 
</pre>
 <p>You can be confident that the entire content of the file will not stay around in memory, unless you are explicitly storing the lines somewhere.</p>
 <p>On the other hand, you may want to keep old values around in some cases. It is possible to hide a <span class="code">Seq</span> inside a <span class="code">List</span>, which will still be lazy, but will remember old values. This is done by calling the <span class="code">.list</span> method. Since this <span class="code">List</span> fully supports <span class="code">Positional</span>, you may bind it directly to an <span class="code">@</span>-sigiled variable.</p>
 <pre class="code">my @s := (loop { 42.say }).list;
@s[2]; # says 42 three times
@s[1]; # does not say anything
@s[4]; # says 42 two more times</pre>
 <p>You may also use the <span class="code">.cache</span> method instead of <span class="code">.list</span>, depending on how you want the references handled. See the <a href="#_type_Seq.pod6">page on  <span class="code">Seq</span></a> for details.</p>
 TODO document .iterator
 <a name="t25.5.2"></a><h2 id="_language_list.pod6-Slips">25.5.2 Slips</h2>
 <p>Sometimes you want to insert the elements of a list into another list. This can be done with a special type of list called a <a href="#_type_Slip.pod6">Slip</a>.</p>
 <pre class="code">say (1, (2, 3), 4) eqv (1, 2, 3, 4);         # OUTPUT: «False␤»
say (1, Slip.new(2, 3), 4) eqv (1, 2, 3, 4); # OUTPUT: «True␤»
say (1, slip(2, 3), 4) eqv (1, 2, 3, 4);     # OUTPUT: «True␤»</pre>
 <p>Another way to make a <span class="code">Slip</span> is with the <span class="code">|</span> prefix operator. Note that this has a tighter precedence than the comma, so it only affects a single value, but unlike the above options, it will break <a href="#_type_Scalar.pod6">Scalars</a>.</p>
 <pre class="code">say (1, |(2, 3), 4) eqv (1, 2, 3, 4);        # OUTPUT: «True␤»
say (1, |$(2, 3), 4) eqv (1, 2, 3, 4);       # OUTPUT: «True␤»
say (1, slip($(2, 3)), 4) eqv (1, 2, 3, 4);  # OUTPUT: «False␤»</pre>
 <a name="t25.6"></a><h1 id="_language_list.pod6-Lazy_Lists">25.6 Lazy Lists <a name="272"></a></h1>
 <p>Lists can be lazy, what means that their values are computed on demand and stored for later use. To create a lazy list use <a href="#_language_control.pod6-gather/take">gather/take</a> or the <a href="#_language_operators.pod6-infix_...">sequence operator</a>. You can also write a class that implements the role <a href="#_type_Iterable.pod6">Iterable</a> and returns <span class="code">True</span> on a call to <a href="#_routine_is-lazy.pod6">is-lazy</a>. Please note that some methods like <span class="code">elems</span> cannot be called on a lazy List and will result in a thrown <a href="#_type_Exception.pod6">Exception</a>.</p>
 <pre class="code"># This list is lazy and elements will not be available
# until explicitly requested.

my @l = lazy 1, 11, 121 ... 10**100;
say @l.is-lazy;     # OUTPUT: «True␤»
say @l[];           # OUTPUT: «[...]␤»

# Once all elements have been retrieved, the List
# is no longer considered lazy.

my @no-longer-lazy = eager @l;           # Forcing eager evaluation
say @no-longer-lazy.is-lazy;             # OUTPUT: «False␤»
say @no-longer-lazy[];                   # OUTPUT: (sequence starting with «[1 11 121» ending with a 300 digit number)</pre>
 <p>A common use case for lazy Lists are the processing of infinite sequences of numbers, whose values have not been computed yet and cannot be computed in their entirety. Specific values in the List will only be computed when they are needed.</p>
 <pre class="code">my @l = 1, 2, 4, 8 ... Inf;
say @l[0..16];
# OUTPUT: «(1 2 4 8 16 32 64 128 256 512 1024 2048 4096 8192 16384 32768 65536)␤»</pre>
 <a name="t25.7"></a><h1 id="_language_list.pod6-Immutability">25.7 Immutability</h1>
 <p>The lists we have talked about so far (<span class="code">List</span>, <span class="code">Seq</span> and <span class="code">Slip</span>) are all immutable. This means you cannot remove elements from them, or re-bind existing elements:</p>
 <pre class="code">(1, 2, 3)[0]:delete; # Error Can not remove elements from a List 
 (1, 2, 3)[0] := 0;   # Error Cannot use bind operator with this left-hand side 
 (1, 2, 3)[0] = 0;    # Error Cannot modify an immutable Int 
</pre>
 <p>However, if any of the elements is wrapped in a <a href="#_type_Scalar.pod6"><span class="code">Scalar</span></a> you can still change the value which that <span class="code">Scalar</span> points to:</p>
 <pre class="code">my $a = 2;
(1, $a, 3)[1] = 42;
$a.say;            # OUTPUT: «42␤»</pre>
 <p>...that is, it is only the list structure itself – how many elements there are and each element's identity – that is immutable. The immutability is not contagious past the identity of the element.</p>
 <a name="t25.8"></a><h1 id="_language_list.pod6-List_Contexts">25.8 List Contexts</h1>
 <p>So far we have mostly dealt with lists in neutral contexts. Lists are actually very context sensitive on a syntactical level.</p>
 <a name="t25.8.1"></a><h2 id="_language_list.pod6-List_Assignment_Context">25.8.1 List Assignment Context</h2>
 <p>When a list appears on the right hand side of an assignment into a <span class="code">@</span>-sigiled variable, it is &quot;eagerly&quot; evaluated. This means that a <span class="code">Seq</span> will be iterated until it can produce no more elements. This is one of the places you do not want to put an infinite list, lest your program hang and, eventually, run out of memory:</p>
 <pre class="code">my $i = 3;
my @a = (loop { $i.say; last unless --$i }); # OUTPUT: «3␤2␤1␤»
say &quot;take off!&quot;;</pre>
 <a name="t25.8.2"></a><h2 id="_language_list.pod6-Flattening_&quot;Context&quot;">25.8.2 Flattening &quot;Context&quot;</h2>
 <p>When you have a list that contains sub-lists, but you only want one flat list, you may flatten the list to produce a sequence of values as if all parentheses were removed. This works no matter how many levels deep the parentheses are nested.</p>
 <pre class="code">say (1, (2, (3, 4)), 5).flat eqv (1, 2, 3, 4, 5) # OUTPUT: «True␤»</pre>
 <p>This is not really a syntactical &quot;context&quot; as much as it is a process of iteration, but it has the appearance of a context.</p>
 <p>Note that <a href="#_type_Scalar.pod6"><span class="code">Scalar</span> s</a> around a list will make it immune to flattening:</p>
 <pre class="code">for (1, (2, $(3, 4)), 5).flat { .say } # OUTPUT: «1␤2␤(3 4)␤5␤»</pre>
 <p>...but an <span class="code">@</span>-sigiled variable will spill its elements.</p>
 <pre class="code">my @l := 2, (3, 4);
for (1, @l, 5).flat { .say };      # OUTPUT: «1␤2␤3␤4␤5␤»
my @a = 2, (3, 4);                 # Arrays are special, see below
for (1, @a, 5).flat { .say };      # OUTPUT: «1␤2␤(3 4)␤5␤»</pre>
 <a name="t25.8.3"></a><h2 id="_language_list.pod6-Argument_List_(Capture)_Context">25.8.3 Argument List (Capture) Context</h2>
 <p>When a list appears as arguments to a function or method call, special syntax rules are at play: the list is immediately converted into a <span class="code">Capture</span>. A <span class="code">Capture</span> itself has a List (<span class="code">.list</span>) and a Hash (<span class="code">.hash</span>). Any <span class="code">Pair</span> literals whose keys are not quoted, or which are not parenthesized, never make it into <span class="code">.list</span>. Instead, they are considered to be named arguments and squashed into <span class="code">.hash</span>. See the <a href="#_type_Capture.pod6">page on  <span class="code">Capture</span></a> for the details of this processing.</p>
 <p>Consider the following ways to make a new <span class="code">Array</span> from a <span class="code">List</span>. These ways place the <span class="code">List</span> in an argument list context and because of that, the <span class="code">Array</span> only contains <span class="code">1</span> and <span class="code">2</span> but not the <span class="code">Pair</span> <span class="code">:c(3)</span>, which is ignored.</p>
 <pre class="code">Array.new(1, 2, :c(3));
Array.new: 1, 2, :c(3);
new Array: 1, 2, :c(3);</pre>
 <p>In contrast, these ways do not place the <span class="code">List</span> in argument list context, so all the elements, even the <span class="code">Pair</span> <span class="code">:c(3)</span>, are placed in the <span class="code">Array</span>.</p>
 <pre class="code">Array.new((1, 2, :c(3)));
(1, 2, :c(3)).Array;
my @a = 1, 2, :c(3); Array.new(@a);
my @a = 1, 2, :c(3); Array.new: @a;
my @a = 1, 2, :c(3); new Array: @a;</pre>
 <p>In argument list context the <span class="code">|</span> prefix operator applied to a <span class="code">Positional</span> will always slip list elements as positional arguments to the Capture, while a <span class="code">|</span> prefix operator applied to an <span class="code">Associative</span> will slip pairs in as named parameters:</p>
 <pre class="code">my @a := 2, &quot;c&quot; =&gt; 3;
Array.new(1, |@a, 4);    # Array contains 1, 2, :c(3), 4
my %a = &quot;c&quot; =&gt; 3;
Array.new(1, |%a, 4);    # Array contains 1, 4</pre>
 <a name="t25.8.4"></a><h2 id="_language_list.pod6-Slice_Indexing_Context">25.8.4 Slice Indexing Context</h2>
 <p>From the perspective of the <span class="code">List</span> inside a <a href="#_language_subscripts.pod6-Slices">slice subscript</a>, is only remarkable in that it is unremarkable: because <a href="#_language_subscripts.pod6-Adverbs">adverbs</a> to a slice are attached after the <span class="code">]</span>, the inside of a slice is <b>not</b> an argument list, and no special processing of pair forms happens.</p>
 <p>Most <span class="code">Positional</span> types will enforce an integer coercion on each element of a slice index, so pairs appearing there will generate an error, anyway:</p>
 <pre class="code">(1, 2, 3)[1, 2, :c(3)] # OUTPUT: «Method 'Int' not found for invocant of class 'Pair'␤» 
</pre>
 <p>...however this is entirely up to the type – if it defines an order for pairs, it could consider <span class="code">:c(3)</span> a valid index.</p>
 <p>Indices inside a slice are usually not automatically flattened, but neither are sublists usually coerced to <span class="code">Int</span>. Instead, the list structure is kept intact, causing a nested slice operation that replicates the structure in the result:</p>
 <pre class="code">say (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)[(1, 2), (0, 1)] eqv ((&quot;b&quot;, &quot;c&quot;), (&quot;a&quot;, &quot;b&quot;)) # OUTPUT: «True␤»</pre>
 <p>Slices can be taken also across several dimensions using <i>semilists</i>, which are lists of slices separated by semicolons:</p>
 <pre class="code">my @sliceable = [[ ^10 ], ['a'..'h'], ['Ⅰ'..'Ⅺ']];
say @sliceable[ ^3; 4..6 ]; #OUTPUT: «(4 5 6 e f g Ⅴ Ⅵ Ⅶ)␤»</pre>
 <p>which is selecting the 4 to 6th element from the three first dimensions (<span class="code">^3</span>).</p>
 <a name="t25.8.5"></a><h2 id="_language_list.pod6-Range_as_Slice">25.8.5 Range as Slice</h2>
 <p>A <a href="#_type_Range.pod6"><span class="code">Range</span></a> is a container for a lower and a upper boundary. Generating a slice with a <span class="code">Range</span> will include any index between those bounds, including the bounds. For infinite upper boundaries we agree with mathematicians that <span class="code">Inf</span> equals <span class="code">Inf-1</span>.</p>
 <pre class="code">my @a = 1..5;
say @a[0..2];     # OUTPUT: «(1 2 3)␤»
say @a[0..^2];    # OUTPUT: «(1 2)␤»
say @a[0..*];     # OUTPUT: «(1 2 3 4 5)␤»
say @a[0..^*];    # OUTPUT: «(1 2 3 4 5)␤»
say @a[0..Inf-1]; # OUTPUT: «(1 2 3 4 5)␤»</pre>
 <a name="t25.8.6"></a><h2 id="_language_list.pod6-Array_Constructor_Context">25.8.6 Array Constructor Context</h2>
 <p>Inside an Array Literal, the list of initialization values is not in capture context and is just a normal list. It is, however, eagerly evaluated just as in assignment.</p>
 <pre class="code">say so [ 1, 2, :c(3) ] eqv Array.new((1, 2, :c(3))); # OUTPUT: «True␤»
[while $++ &lt; 2 { 42.say; 43 }].map: *.say;           # OUTPUT: «42␤42␤43␤43␤»
(while $++ &lt; 2 { 42.say; 43 }).map: *.say;           # OUTPUT: «42␤43␤42␤43␤»</pre>
 <p>Which brings us to Arrays...</p>
 <a name="t25.9"></a><h1 id="_language_list.pod6-Arrays">25.9 Arrays</h1>
 <p>Arrays differ from lists in three major ways: Their elements may be typed, they automatically itemize their elements, and they are mutable. Otherwise they are Lists and are accepted wherever lists are.</p>
 <pre class="code">say Array ~~ List     # OUTPUT: «True␤»</pre>
 <p>A fourth, more subtle, way they differ is that when working with Arrays, it can sometimes be harder to maintain laziness or work with infinite sequences.</p>
 <a name="t25.9.1"></a><h2 id="_language_list.pod6-Typing">25.9.1 Typing</h2>
 <p><span class="indexed"><a id="273" name="typed array"></a></span><span class="indexed"><a id="274" name="[ ] (typed array)"></a></span> Arrays may be typed such that their slots perform a typecheck whenever they are assigned to. An Array that only allows <span class="code">Int</span> values to be assigned is of type <span class="code">Array[Int]</span> and one can create one with <span class="code">Array[Int].new</span>. If you intend to use an <span class="code">@</span>-sigiled variable only for this purpose, you may change its type by specifying the type of the elements when declaring it:</p>
 <pre class="code">my Int @a = 1, 2, 3;              # An Array that contains only Ints 
 my @b := Array[Int].new(1, 2, 3); # Same thing, but the variable is not typed 
 say @b eqv @a;                    # says True. 
 my @c = 1, 2, 3;                  # An Array that can contain anything 
 say @b eqv @c;                    # says False because types do not match 
 say @c eqv (1, 2, 3);             # says False because one is a List 
 say @b eq @c;                     # says True, because eq only checks values 
 say @b eq (1, 2, 3);              # says True, because eq only checks values 
 
 @a[0] = 42;                       # fine 
 @a[0] = &quot;foo&quot;;                    # error: Type check failed in assignment 
</pre>
 <p>In the above example we bound a typed Array object to a <span class="code">@</span>-sigil variable for which no type had been specified. The other way around does not work – you may not bind an Array that has the wrong type to a typed <span class="code">@</span>-sigiled variable:</p>
 <pre class="code">my @a := Array[Int].new(1, 2, 3);     # fine 
 @a := Array[Str].new(&quot;a&quot;, &quot;b&quot;);       # fine, can be re-bound 
 my Int @b := Array[Int].new(1, 2, 3); # fine 
 @b := Array.new(1, 2, 3);             # error: Type check failed in binding 
</pre>
 <p>When working with typed arrays, it is important to remember that they are nominally typed. This means the declared type of an array is what matters. Given the following sub declaration:</p>
 <pre class="code">sub mean(Int @a) {
    @a.sum / @a.elems
}</pre>
 <p>Calls that pass an Array[Int] will be successful:</p>
 <pre class="code">my Int @b = 1, 3, 5; 
 say mean(@b);                       # @b is Array[Int] 
 say mean(Array[Int].new(1, 3, 5));  # Anonymous Array[Int] 
 say mean(my Int @ = 1, 3, 5);       # Another anonymous Array[Int] 
</pre>
 <p>However, the following calls will all fail, due to passing an untyped array, even if the array just happens to contain Int values at the point it is passed:</p>
 <pre class="code">my @c = 1, 3, 5; 
 say mean(@c);                       # Fails, passing untyped Array 
 say mean([1, 3, 5]);                # Same 
 say mean(Array.new(1, 3, 5));       # Same again 
</pre>
 <p>Note that in any given compiler, there may be fancy, under-the-hood, ways to bypass the type check on arrays, so when handling untrusted input, it can be good practice to perform additional type checks, where it matters:</p>
 <pre class="code">for @a -&gt; Int $i { $_++.say }; 
</pre>
 <p>However, as long as you stick to normal assignment operations inside a trusted area of code, this will not be a problem, and typecheck errors will happen promptly during assignment to the array, if they cannot be caught at compile time. None of the core functions provided in Perl 6 for operating on lists should ever produce a wonky typed Array.</p>
 <p>Nonexistent elements (when indexed), or elements to which <span class="code">Nil</span> has been assigned, will assume a default value. This default may be adjusted on a variable-by-variable basis with the <span class="code">is default</span> trait. Note that an untyped <span class="code">@</span>-sigiled variable has an element type of <span class="code">Mu</span>, however its default value is an undefined <span class="code">Any</span>:</p>
 <pre class="code">my @a;
@a.of.perl.say;                 # OUTPUT: «Mu␤»
@a.default.perl.say;            # OUTPUT: «Any␤»
@a[0].say;                      # OUTPUT: «(Any)␤»
my Numeric @n is default(Real);
@n.of.perl.say;                 # OUTPUT: «Numeric␤»
@n.default.perl.say;            # OUTPUT: «Real␤»
@n[0].say;                      # OUTPUT: «(Real)␤»</pre>
 <a name="t25.9.2"></a><h2 id="_language_list.pod6-Fixed_Size_Arrays">25.9.2 Fixed Size Arrays</h2>
 <p>To limit the dimensions of an <span class="code">Array</span> provide the dimensions separated by <span class="code">,</span> or <span class="code">;</span> in brackets after the name of the array container. The values of such an <span class="code">Arrays</span> will default to <span class="code">Any</span>. The shape can be accessed at runtime via the <span class="code">shape</span> method.</p>
 <pre class="code">my @a[2,2];
say @a.perl;
# OUTPUT: «Array.new(:shape(2, 2), [Any, Any], [Any, Any])␤»
say @a.shape;
# OUTPUT: «(2 2)␤»</pre>
 <p>Assignment to a fixed size Array will promote a List of Lists to an Array of Arrays.</p>
 <pre class="code">my @a[2;2] = (1,2; 3,4);
@a[1;1] = 42;
say @a.perl;
# OUTPUT: «Array.new(:shape(2, 2), [1, 2], [3, 42])␤»</pre>
 <a name="t25.9.3"></a><h2 id="_language_list.pod6-Itemization">25.9.3 Itemization</h2>
 <p>For most uses, Arrays consist of a number of slots each containing a <span class="code">Scalar</span> of the correct type. Each such <span class="code">Scalar</span>, in turn, contains a value of that type. Perl 6 will automatically type-check values and create Scalars to contain them when Arrays are initialized, assigned to, or constructed.</p>
 <p>This is actually one of the trickiest parts of Perl 6 list handling to get a firm understanding of.</p>
 <p>First, be aware that because itemization in Arrays is assumed, it essentially means that <span class="code">$(…)</span>s are being put around everything that you assign to an array, if you do not put them there yourself. On the other side, Array.perl does not put <span class="code">$</span> to explicitly show scalars, unlike List.perl:</p>
 <pre class="code">((1, 2), $(3, 4)).perl.say; # says &quot;((1, 2), $(3, 4))&quot;
[(1, 2), $(3, 4)].perl.say; # says &quot;[(1, 2), (3, 4)]&quot;
                            # ...but actually means: &quot;[$(1, 2), $(3, 4)]&quot;</pre>
 <p>It was decided all those extra dollar signs and parentheses were more of an eye sore than a benefit to the user. Basically, when you see a square bracket, remember the invisible dollar signs.</p>
 <p>Second, remember that these invisible dollar signs also protect against flattening, so you cannot really flatten the elements inside of an Array with a normal call to <span class="code">flat</span> or <span class="code">.flat</span>.</p>
 <pre class="code">((1, 2), $(3, 4)).flat.perl.say; # OUTPUT: «(1, 2, $(3, 4)).Seq␤»
[(1, 2), $(3, 4)].flat.perl.say; # OUTPUT: «($(1, 2), $(3, 4)).Seq␤»</pre>
 <p>Since the square brackets do not themselves protect against flattening, you can still spill the elements out of an Array into a surrounding list using <span class="code">flat</span>.</p>
 <pre class="code">(0, [(1, 2), $(3, 4)], 5).flat.perl.say; # OUTPUT: «(0, $(1, 2), $(3, 4), 5).Seq␤»</pre>
 <p>...the elements themselves, however, stay in one piece.</p>
 <p>This can irk users of data you provide if you have deeply nested Arrays where they want flat data. Currently they have to deeply map the structure by hand to undo the nesting:</p>
 <pre class="code">say gather [0, [(1, 2), [3, 4]], $(5, 6)].deepmap: *.take; # OUTPUT: «(1 2 3 4 5 6)␤»</pre>
 <p>...future versions of Perl 6 might find a way to make this easier. However, not returning Arrays or itemized lists from functions, when non-itemized lists are sufficient, is something that one should consider as a courtesy to their users:</p>
 <ul><li><p>use Slips when you want to always merge with surrounding lists</p>
</li></ul> <ul><li><p>use non-itemized lists when you want to make it easy for the user to flatten</p>
</li></ul> <ul><li><p>use itemized lists to protect things the user probably will not want flattened</p>
</li></ul> <ul><li><p>use Arrays as non-itemized lists of itemized lists, if appropriate,</p>
</li></ul> <ul><li><p>use Arrays if the user is going to want to mutate the result without copying it first.</p>
</li></ul> <p>The fact that all elements of an array are itemized (in <span class="code">Scalar</span> containers) is more a gentleman's agreement than a universally enforced rule, and it is less well enforced that typechecks in typed arrays. See the section below on binding to Array slots.</p>
 <a name="t25.9.4"></a><h2 id="_language_list.pod6-Literal_Arrays">25.9.4 Literal Arrays</h2>
 <p>Literal Arrays are constructed with a List inside square brackets. The List is eagerly iterated (at compile time if possible) and values in the list are each type-checked and itemized. The square brackets themselves will spill elements into surrounding lists when flattened, but the elements themselves will not spill due to the itemization.</p>
 <a name="t25.9.5"></a><h2 id="_language_list.pod6-Mutability">25.9.5 Mutability</h2>
 <p>Unlike lists, Arrays are mutable. Elements may deleted, added, or changed.</p>
 <pre class="code">my @a = &quot;a&quot;, &quot;b&quot;, &quot;c&quot;;
@a.say;                  # OUTPUT: «[a b c]␤»
@a.pop.say;              # OUTPUT: «c␤»
@a.say;                  # OUTPUT: «[a b]␤»
@a.push(&quot;d&quot;);
@a.say;                  # OUTPUT: «[a b d]␤»
@a[1, 3] = &quot;c&quot;, &quot;c&quot;;
@a.say;                  # OUTPUT: «[a c d c]␤»</pre>
 <a name="t25.9.5.1"></a><h3 id="_language_list.pod6-Assigning">25.9.5.1 Assigning</h3>
 <p>Assignment of a list to an Array is eager. The list will be entirely evaluated, and should not be infinite or the program may hang. Assignment to a slice of an <span class="code">Array</span> is, likewise, eager, but only up to the requested number of elements, which may be finite:</p>
 <pre class="code">my @a;
@a[0, 1, 2] = (loop { 42 });
@a.say;                     # OUTPUT: «[42 42 42]␤»</pre>
 <p>During assignment, each value will be typechecked to ensure it is a permitted type for the <span class="code">Array</span>. Any <span class="code">Scalar</span> will be stripped from each value and a new <span class="code">Scalar</span> will be wrapped around it.</p>
 <a name="t25.9.5.2"></a><h3 id="_language_list.pod6-Binding">25.9.5.2 Binding</h3>
 <p>Individual Array slots may be bound the same way <span class="code">$</span>-sigiled variables are:</p>
 <pre class="code">my $b = &quot;foo&quot;;
my @a = 1, 2, 3;
@a[2] := $b;
@a.say;          # OUTPUT: «[1 2 &quot;foo&quot;]␤»
$b = &quot;bar&quot;;
@a.say;          # OUTPUT: «[1 2 &quot;bar&quot;]␤»</pre>
 <p>...but binding Array slots directly to values is strongly discouraged. If you do, expect surprises with built-in functions. The only time this would be done is if a mutable container that knows the difference between values and Scalar-wrapped values is needed, or for very large Arrays where a native-typed array cannot be used. Such a creature should never be passed back to unsuspecting users.</p>
</div>
<!-- /language/module-packages.pod6 --><div class="pod-body"><a id="_language_module-packages.pod6"></a><a name="t26"><h1 class="title">26 Module Packages</h1></a> <p class="subtitle">Creating module packages for code reuse.</p> <p><i>N.B.</i> &quot;Module&quot; is an overloaded term in Perl 6; this document focuses on use of the <span class="code">module</span> declarator.</p>
 <a name="t26.1"></a><h1 id="_language_module-packages.pod6-What_are_modules?">26.1 What are modules?</h1>
 <p>Modules, like classes and grammars, are a kind of <a href="#_language_packages.pod6">package</a>. Module objects are instances of the <span class="code">ModuleHOW</span> metaclass; this provides certain capabilities useful for creating namespaces, versioning, delegation and data encapsulation (see also <a href="#_syntax_class.pod6">class</a> and <a href="#_syntax_role.pod6">role</a>).</p>
 <p>To create a module, use the <span class="code">module</span> declarator:</p>
 <pre class="code">module M {}
say M.HOW;   # OUTPUT: «Perl6::Metamodel::ModuleHOW.new␤»</pre>
 <p>Here we define a new module named <span class="code">M</span>; introspection with <span class="code">HOW</span> confirms that the metaclass underlying <span class="code">M</span> is <span class="code">Perl6::Metamodel::ModuleHOW</span>.</p>
 <a name="t26.1.1"></a><h2 id="_language_module-packages.pod6-When_to_use_modules">26.1.1 When to use modules</h2>
 <p>Modules are primarily useful for encapsulating code and data that do not belong inside a class or role definition. Module contents (classes, subroutines, variables, etc.) can be exported from a module with the <span class="code">is export</span> trait; these are available in the caller's namespace once the module has been imported with <span class="code">import</span> or <span class="code">use</span>. A module can also selectively expose symbols within its namespace for qualified reference via <span class="code">our</span>.</p>
 <a name="t26.1.2"></a><h2 id="_language_module-packages.pod6-Working_with_modules">26.1.2 Working with modules</h2>
 <p>To illustrate module scoping and export rules, let's begin by defining a simple module <span class="code">M</span>:</p>
 <pre class="code">module M {
  sub greeting ($name = 'Camelia') { &quot;Greetings, $name!&quot; }
  our sub loud-greeting (--&gt; Str)  { greeting().uc       }
  sub friendly-greeting is export  { greeting('friend')  }
}</pre>
 <p>Recall that subroutines are lexically scoped unless otherwise specified (declarator <a href="#_syntax_sub.pod6"><span class="code">sub</span></a> is equivalent to <span class="code">my sub</span>), so <span class="code">greeting</span> in the above example is lexically scoped to the module and inaccessible outside of it. We've also defined <span class="code">loud-greeting</span> with the <span class="code">our</span> declarator, which means that in addition to being lexically scoped it is aliased in the module's symbol table. Finally, <span class="code">friendly-greeting</span> is marked for export; it will be registered in the <i>caller's</i> symbol table when the module is imported:</p>
 <pre class="code">import M;               # import the module 
 say M::loud-greeting;   # OUTPUT: «GREETINGS, CAMELIA!␤» 
 say friendly-greeting;  # OUTPUT: «Greetings, friend!␤» 
</pre>
 <a name="t26.2"></a><h1 id="_language_module-packages.pod6-Modules_on_disk">26.2 Modules on disk</h1>
 <p>While <span class="code">.pm</span> and <span class="code">.pm6</span> files (hereafter: <span class="code">.pm6</span>) are sometimes referred to as &quot;modules&quot;, they are really just normal files that are loaded and compiled when you write <span class="code">need</span>, <span class="code">use</span> or <span class="code">require</span>.</p>
 <p>For a <span class="code">.pm6</span> file to provide a module in the sense that we've been using, it needs to declare one with <span class="code">module</span> as documented above. For example, by placing module <span class="code">M</span> inside <span class="code">Foo.pm6</span>, we can load and use the module as follows:</p>
 <pre class="code">use Foo;                # find Foo.pm6, run need followed by import 
 say M::loud-greeting;   # OUTPUT: «GREETINGS, CAMELIA!␤» 
 say friendly-greeting;  # OUTPUT: «Greetings, friend!␤» 
</pre>
 <p>Note the decoupling between file and module names—a <span class="code">.pm6</span> file can declare zero or more modules with arbitrary identifiers.</p>
 <a name="t26.2.1"></a><h2 id="_language_module-packages.pod6-File_and_module_naming">26.2.1 File and module naming</h2>
 <p>Often we want a <span class="code">.pm6</span> file to provide a <i>single</i> module and nothing more. Here a common convention is for the file basename to match the module name. Returning to <span class="code">Foo.pm6</span>, it is apparent that it only provides a single module, <span class="code">M</span>; in this case, we might want to rename <span class="code">M</span> to <span class="code">Foo</span>. The amended file would then read:</p>
 <pre class="code">module Foo { 
   sub greeting ($name = 'Camelia') { &quot;Greetings, $name!&quot; } 
   our sub loud-greeting (--&gt; Str)  { greeting().uc       } 
   sub friendly-greeting is export  { greeting('friend')  } 
 } 
</pre>
 <p>which can be used more consistently by the caller (note the relationship between the <span class="code">use Foo</span> and <span class="code">Foo::</span>):</p>
 <pre class="code">use Foo; 
 say Foo::loud-greeting;  # OUTPUT: «GREETINGS, CAMELIA!␤» 
 say friendly-greeting;   # OUTPUT: «Greetings, friend!␤» 
</pre>
 <p>If <span class="code">Foo.pm6</span> is placed deeper within the source tree, e.g. at <span class="code">lib/Utils/Foo.pm6</span>, we can elect to name the module <span class="code">Utils::Foo</span> to maintain consistency.</p>
 <a name="t26.2.1.1"></a><h3 id="_language_module-packages.pod6-The_unit_keyword">26.2.1.1 The <span class="code">unit</span> keyword</h3>
 <p>Files that only provide a single module can be written more concisely with the <span class="code">unit</span> keyword; <span class="code">unit module</span> specifies that the rest of the compilation unit is part of the declared module. Here's <span class="code">Foo.pm6</span> rewritten with <span class="code">unit</span>:</p>
 <pre class="code">unit module Foo; 
 
 sub greeting ($name = 'Camelia') { &quot;Greetings, $name!&quot; } 
 our sub loud-greeting (--&gt; Str)  { greeting().uc       } 
 sub friendly-greeting is export  { greeting('friend')  } 
</pre>
 <p>Everything following the unit declaration is part of the <span class="code">Foo</span> module specification.</p>
 <p>(Note that <span class="code">unit</span> can also be used with <span class="code">class</span>, <span class="code">grammar</span> and <span class="code">role</span>.)</p>
 <a name="t26.2.2"></a><h2 id="_language_module-packages.pod6-What_happens_if_I_omit_module?">26.2.2 What happens if I omit <span class="code">module</span>?</h2>
 <p>To better understand what the <span class="code">module</span> declarator is doing in <span class="code">Foo.pm6</span>, let's contrast it with a variant file, <span class="code">Bar.pm6</span>, that omits the declaration. The subroutine definitions below are almost identical (the only difference is in the body of <span class="code">greeting</span>, modified for clarity):</p>
 <pre class="code">sub greeting ($name = 'Camelia') { &quot;Greetings from Bar, $name!&quot; } 
 our sub loud-greeting (--&gt; Str)  { greeting().uc                } 
 sub friendly-greeting is export  { greeting('friend')           } 
</pre>
 <p>As a reminder, here's how we used <span class="code">Foo.pm6</span> before,</p>
 <pre class="code">use Foo; 
 say Foo::loud-greeting;  # OUTPUT: «GREETINGS, CAMELIA!␤» 
 say friendly-greeting;   # OUTPUT: «Greetings, friend!␤» 
</pre>
 <p>and here's <span class="code">Bar.pm6</span>,</p>
 <pre class="code">use Bar; 
 say loud-greeting;       # OUTPUT: «GREETINGS FROM BAR, CAMELIA!␤» 
 say friendly-greeting;   # OUTPUT: «Greetings from Bar, friend!␤» 
</pre>
 <p>Note the use of <span class="code">loud-greeting</span> rather than <span class="code">Bar::loud-greeting</span> as <span class="code">Bar</span> is not a known symbol (we didn't create a <span class="code">module</span> of that name in <span class="code">Bar.pm6</span>). But why is <span class="code">loud-greeting</span> callable even though we didn't mark it for export? The answer is simply that <span class="code">Bar.pm6</span> doesn't create a new package namespace—<span class="code">$?PACKAGE</span> is still set to <span class="code">GLOBAL</span>—so when we declare <span class="code">loud-greeting</span> as <span class="code">our</span>, it is registered in the <span class="code">GLOBAL</span> symbol table.</p>
 <a name="t26.2.2.1"></a><h3 id="_language_module-packages.pod6-Lexical_aliasing_and_safety">26.2.2.1 Lexical aliasing and safety</h3>
 <p>Thankfully, Perl 6 protects us from accidentally clobbering call site definitions (e.g. builtins). Consider the following addition to <span class="code">Bar.pm6</span>:</p>
 <pre class="code">our sub say ($ignored) { print &quot;oh dear\n&quot; }</pre>
 <p>This creates a lexical alias, hiding the <span class="code">say</span> builtin <i>inside</i> <span class="code">Bar.pm6</span> but leaving the caller's <span class="code">say</span> unchanged. Consequently, the following call to <span class="code">say</span> still works as expected:</p>
 <pre class="code">use Bar; 
 say 'Carry on, carry on...';  # OUTPUT: «Carry on, carry on...␤» 
</pre>
</div>
<!-- /language/modules-core.pod6 --><div class="pod-body"><a id="_language_modules-core.pod6"></a><a name="t27"><h1 class="title">27 Core Modules</h1></a> <p class="subtitle">Core modules that may be useful to module authors</p> <p>The Rakudo implementation has a few modules included you may want to use. The following is a list of them, along with links to their source code.</p>
 <a name="t27.0.1"></a><h2 id="_language_modules-core.pod6-CompUnit::*_modules_and_Roles">27.0.1 <span class="code">CompUnit::*</span> modules and Roles <a name="275"></a></h2>
 <p>These modules are mostly used by distribution build tools.</p>
 <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/CompUnit/Repository/Staging.pm6"><span class="code">CompUnit::Repository::Staging</span></a>.</p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/src/core/CompUnit/RepositoryRegistry.pm6"><span class="code">CompUnit::Repository::(FileSystem|Installation|AbsolutePath|Unknown|NQP|Perl6|RepositoryRegistry)</span></a>. The <a href="#_language_variables.pod6-index-entry-%24*REPO"><span class="code">$*REPO</span></a> dynamic variable will be instantiated to <span class="code">CompUnit::Repository::Installation</span> if the program is run from the repository main directory, <span class="code">CompUnit::Repository::FileSystem</span> otherwise.</p>
</li></ul> <a name="t27.0.2"></a><h2 id="_language_modules-core.pod6-NativeCall_modules">27.0.2 <span class="code">NativeCall</span> modules</h2>
 <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/NativeCall.pm6"><span class="code">NativeCall</span></a> Native Calling Interface (<a href="https://docs.perl6.org/language/nativecall.html">docs</a>)</p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/NativeCall/Types.pm6"><span class="code">NativeCall::Types</span></a> Used by <span class="code">NativeCall</span></p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/NativeCall/Compiler/GNU.pm6"><span class="code">NativeCall::Compiler::GNU</span></a> Used by <span class="code">NativeCall</span></p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/NativeCall/Compiler/MSVC.pm6"><span class="code">NativeCall::Compiler::MSVC</span></a> Used by <span class="code">NativeCall</span></p>
</li></ul> <a name="t27.0.3"></a><h2 id="_language_modules-core.pod6-Other_modules">27.0.3 Other modules</h2>
 <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/Pod/To/Text.pm6"><span class="code">Pod::To::Text</span></a> Used by several external modules</p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/Test.pm6"><span class="code">Test</span></a> Test routines (<a href="#_language_testing.pod6">docs</a>)</p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/experimental.pm6"><span class="code">experimental</span></a></p>
</li></ul> <ul><li><p><a href="https://github.com/rakudo/rakudo/blob/master/lib/newline.pm6"><span class="code">newline</span></a></p>
</li></ul></div>
<!-- /language/modules-extra.pod6 --><div class="pod-body"><a id="_language_modules-extra.pod6"></a><a name="t28"><h1 class="title">28 Module Development Utilities</h1></a> <p class="subtitle">What can help you write/test/improve your module(s)</p> <p>Here is a list of modules that you can find in the Perl 6 ecosystem which aim to make the experience of developing Perl 6 modules more fun.</p>
 <a name="t28.1"></a><h1 id="_language_modules-extra.pod6-Module_builder_and_Authoring_tools">28.1 Module builder and Authoring tools</h1>
 <p>Some modules and tools to help you with generating files that are part of a module distribution.</p>
 <ul><li><p><a href="http://modules.perl6.org/dist/App::Assixt">App::Assixt</a> The module developer's assistant</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/App::Mi6">App::Mi6</a> Minimal authoring tool for Perl 6</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/META6">META6</a> Do things with Perl 6 META files</p>
</li></ul> <ul><li><p><a href="https://bitbucket.org/rightfold/module-skeleton">Module::Skeleton</a> Generate a skeleton module</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/p6doc">p6doc</a> Generate documentation end-products</p>
</li></ul> <a name="t28.2"></a><h1 id="_language_modules-extra.pod6-Tests">28.2 Tests</h1>
 <p>Some tests of module quality.</p>
 <ul><li><p><a href="https://modules.perl6.org/dist/Test::META">Test::META</a> Test your META6.json file</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/Test::Output">Test::Output</a> Test the output to STDOUT and STDERR your program generates</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/Proc::Screen">Test::Screen</a> Use <b>GNU screen</b> to test full screen VT applications</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/Test::When">Test::When</a> Control when your tests are run (author testing, online testing, etc.)</p>
</li></ul> <a name="t28.3"></a><h1 id="_language_modules-extra.pod6-NativeCall">28.3 NativeCall</h1>
 <p>Here some modules to help you work with NativeCall.</p>
 <ul><li><p><a href="https://modules.perl6.org/dist/NativeHelpers::Array">NativeHelpers::Array</a> Provides routines to deal with CArray</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/App::GPTrixie">App::GPTrixie</a> Generate NativeCall code from C headers file</p>
</li></ul> <ul><li><p><a href="https://modules.perl6.org/dist/NativeCall::TypeDiag">NativeCall::TypeDiag</a> Provides routines to test your CStruct</p>
</li></ul> <a name="t28.4"></a><h1 id="_language_modules-extra.pod6-Sample_modules">28.4 Sample modules</h1>
 <p>Modules that exist only as minimalist examples, tests for installers, or skeletons.</p>
 <ul><li><p><a href="https://modules.perl6.org/dist/Foo">Foo</a> A module with two distributions of different versions</p>
</li></ul></div>
<!-- /language/modules.pod6 --><div class="pod-body"><a id="_language_modules.pod6"></a><a name="t29"><h1 class="title">29 Modules</h1></a> <p class="subtitle">How to create, use and distribute Perl 6 modules</p> <a name="t29.1"></a><h1 id="_language_modules.pod6-Creating_and_Using_Modules">29.1 Creating and Using Modules</h1>
 <p>A module is usually a source file or set of source files <div class="marginale">Technically a module is a set of  <i>compunits</i>  which are usually files but could come from anywhere as long as there is a  <i>compunit repository</i>  that can provide it. See  <a href="https://design.perl6.org/S11.html">S11</a> .</div> that expose Perl 6 constructs. These are typically packages (<a href="#_language_objects.pod6-Classes">classes</a>, <a href="#_language_objects.pod6-Roles">roles</a>, <a href="#_type_Grammar.pod6">grammars</a>), <a href="#_language_functions.pod6">subroutines</a>, and sometimes <a href="#_language_variables.pod6">variables</a>. In Perl 6 <i>module</i> can also refer to a type of package declared with the <span class="code">module</span> keyword (see <a href="#_language_module-packages.pod6">Module Packages</a> and the examples below) but here we mostly mean &quot;module&quot; as a set of source files in a namespace.</p>
 <a name="t29.1.1"></a><h2 id="_language_modules.pod6-Looking_for_and_installing_modules.">29.1.1 Looking for and installing modules.</h2>
 <p><a href="https://github.com/ugexe/zef"><span class="code">zef</span></a> is the application using for installing modules in Perl 6. Modules are listed in <a href="https://modules.perl6.org">the Perl 6 ecosystem</a> and can be searched there or from the command line using <span class="code">zef search</span></p>
 <pre class="code">    zef search WWW 
</pre>
 <p>will return a list of modules that includes WWW in their name, for instance. Then,</p>
 <pre class="code">    zef install WWW 
</pre>
 <p>will install the module with that particular name, if it is not already installed.</p>
 <a name="t29.1.2"></a><h2 id="_language_modules.pod6-Basic_Structure">29.1.2 Basic Structure</h2>
 <p>Module distributions (in the <i>set of related source files</i> sense) in Perl 6 have the same structure as any distribution in the Perl family of languages: there is a main project directory containing a <span class="code">README</span> and a <span class="code">LICENSE</span> file, a <span class="code">lib</span> directory for the source files, which may be individually referred to as modules and/or may themselves define modules with the <span class="code">module</span> keyword <div class="marginale">As  <a href="https://design.perl6.org/S11.html#Units">synopsis S11</a>  says: Confusing? Yes it is.</div> , a <span class="code">t</span> directory for tests, and possibly a <span class="code">bin</span> directory for executable programs and scripts.</p>
 <p>Source files generally use the <span class="code">.pm6</span> extension, and scripts or executables use the <span class="code">.p6</span>. Test files use the <span class="code">.t</span> extension. Files which contain documentation use the <span class="code">.pod6</span> extension.</p>
 <a name="t29.1.3"></a><h2 id="_language_modules.pod6-Loading_and_Basic_Importing">29.1.3 Loading and Basic Importing</h2>
 <p>Loading a module makes the packages in the same namespace declared within available in the file scope of the loader. Importing from a module makes the symbols exported available in the lexical scope of the importing statement.</p>
 <a name="t29.1.3.1"></a><h3 id="_language_modules.pod6-need">29.1.3.1 <a name="276"></a>need</h3>
 <p><span class="code">need</span> loads a <span class="code">compunit</span> at compile time.</p>
 <pre class="code">need MyModule; 
</pre>
 <p>Any packages in the namespace defined within will also be available.</p>
 <pre class="code"># MyModule.pm6 
 unit module MyModule; 
 
 class MyModule::Class {} 
</pre>
 <p><span class="code">MyModule::Class</span> will be defined when <span class="code">MyModule</span> is loaded.</p>
 class Class { ... } won't get exported automatically on loading...not sure if bug or..
 <a name="t29.1.3.2"></a><h3 id="_language_modules.pod6-use">29.1.3.2 <a name="277"></a>use</h3>
 <p><span class="code">use</span> loads and then imports from a compunit at compile time. It will look for files that end in <span class="code">.pm6</span> (<span class="code">.pm</span> is also supported). See <a href="#_language_modules.pod6-Finding_Modules">here</a> for where the runtime will look for modules.</p>
 <pre class="code">use MyModule; 
</pre>
 <p>It is equivalent to:</p>
 <pre class="code"><a href="#_language_modules.pod6-need">need</a>  MyModule; 
 import MyModule; 
</pre>
 <p>See also <a href="#_language_modules.pod6-Exporting_and_Selective_Importing">Selective Importing</a> to restrict what you import.</p>
 <a name="t29.1.3.3"></a><h3 id="_language_modules.pod6-require">29.1.3.3 <a name="278"></a>require</h3>
 <p><span class="code">require</span> loads a compunit and imports definite symbols at runtime.</p>
 <pre class="code">say &quot;loading MyModule&quot;;
require MyModule;</pre>
 <p>The compunit name can be in a runtime variable if you put it inside an indirect lookup.</p>
 <pre class="code">my $name = 'MyModule';
require ::($name);</pre>
 <p>The symbols provided by the loaded module will not be imported into the current scope. You may use <a href="#_language_packages.pod6-index-entry-::()">dynamic lookup</a> or <a href="#_language_typesystem.pod6-subset">dynamic subsets</a> to use them by providing the fully qualified name of a symbol.</p>
 <p>To import symbols you must define them at compile time. <b>NOTE:</b> <span class="code">require</span> is lexically scoped:</p>
 <pre class="code">sub do-something {
   require MyModule &lt;&amp;something&gt;;
   say ::('MyModule'); # MyModule symbol exists here
   something() # &amp;something will be defined here
}
say ::('MyModule'); # This will NOT contain the MyModule symbol
do-something();
# &amp;something will not be defined here</pre>
 <p>If <span class="code">MyModule</span> doesn't export <span class="code">&amp;something</span> then <span class="code">require</span> will fail.</p>
 <p>A <span class="code">require</span> with compile-time symbol will install a placeholder <span class="code">package</span> that will be updated to the loaded module, class, or package. Note that the placeholder will be kept, <b>even if require failed to load the module.</b> This means that checking if a module loaded like this is wrong:</p>
 <pre class="code"># *** WRONG: ***
try require Foo;
if ::('Foo') ~~ Failure { say &quot;Failed to load Foo!&quot;; }
# *** WRONG: ***</pre>
 <p>As the compile-time installed package causes <span class="code">::('Foo')</span> to never be a <span class="code">Failure</span>. The correct way is:</p>
 <pre class="code"># Use return value to test whether loading succeeded:
(try require Foo) === Nil and say &quot;Failed to load Foo!&quot;;

# Or use a run-time symbol lookup with require, to avoid compile-time
# package installation:
try require ::('Foo');
if ::('Foo') ~~ Failure {
    say &quot;Failed to load Foo!&quot;;
}</pre>
 <a name="t29.1.4"></a><h2 id="_language_modules.pod6-Exporting_and_Selective_Importing">29.1.4 Exporting and Selective Importing</h2>
 <a name="t29.1.4.1"></a><h3 id="_language_modules.pod6-is_export">29.1.4.1 is export</h3>
 <p>Packages, subroutines, variables, constants and enums are exported by marking them with the <a href="#_routine_is export.pod6">is export</a> trait (also note the tags available for indicating authors and versions).</p>
 <pre class="code">unit module MyModule:ver&lt;1.0.3&gt;:auth&lt;John Hancock (jhancock@example.com)&gt;; 
 our $var is export = 3; 
 sub foo is export { ... }; 
 constant FOO is export = &quot;foobar&quot;; 
 enum FooBar is export &lt;one two three&gt;; 
 
 # Packages like classes can be exported too 
 class MyClass is export {}; 
 
 # If a subpackage is in the namespace of the current package 
 # it doesn't need to be explicitly exported 
 class MyModule::MyClass {}; 
</pre>
 <p>As with all traits, if applied to a routine, &quot;is export&quot; should appear after any argument list.</p>
 <pre class="code">sub foo(Str $string) is export { ... } 
</pre>
 <p>You can pass named parameters to <span class="code">is export</span> to group symbols for exporting so that the importer can pick and choose. There are three predefined tags: <span class="code">ALL</span>, <span class="code">DEFAULT</span> and <span class="code">MANDATORY</span>.</p>
 <pre class="code"># lib/MyModule.pm6 
 unit module MyModule; 
 sub bag        is export             { ... } 
 sub pants      is export(:MANDATORY) { ... } # objects with tag ':MANDATORY' are always exported 
 sub sunglasses is export(:day)       { ... } 
 sub torch      is export(:night)     { ... } 
 sub underpants is export(:ALL)       { ... } 
</pre>
 <pre class="code"># main.p6 
 use lib 'lib'; 
 use MyModule;          # bag, pants 
 use MyModule :DEFAULT; # the same 
 use MyModule :day;     # pants, sunglasses 
 use MyModule :night;   # pants, torch 
 use MyModule :ALL;     # bag, pants, sunglasses, torch, underpants 
</pre>
 <p>Note there currently is no way for the user to import a single object if the module author hasn't made provision for that, and it is not an easy task at the moment (see RT #127305). One way the author can provide such access is to give each <span class="code">export</span> trait its own unique tag. (And the tag can be the object name!) Then the user can either (1) import all objects:</p>
 <pre class="code">use Foo :ALL; 
</pre>
 <p>or (2) import one or more objects selectively:</p>
 <pre class="code">use Foo :bar, :s5; 
</pre>
 <p>Notes:</p>
 <p>1. The <span class="code">:MANDATORY</span> tag on an exported sub ensures it will be exported no matter whether the using program adds any tag or not.</p>
 <p>2. All exported subs without an explicit tag are implicitly <span class="code">:DEFAULT</span>.</p>
 <p>3. The space after the module name and before the tag is mandatory.</p>
 <p>4. Multiple import tags may be used (separated by commas). For example:</p>
 <pre class="code"># main.p6 
 use lib 'lib'; 
 use MyModule :day, :night; # pants, sunglasses, torch 
</pre>
 <p>5. Multiple tags may be used in the <span class="code">export</span> trait, but they must all be separated by either commas, or whitespace, but not both.</p>
 <pre class="code">sub foo() is export(:foo :s2 :net) {} 
 sub bar() is export(:bar, :s3, :some) {} 
</pre>
 <a name="t29.1.4.2"></a><h3 id="_language_modules.pod6-UNIT::EXPORT::*">29.1.4.2 UNIT::EXPORT::*</h3>
 <p>Beneath the surface, <span class="code">is export</span> is adding the symbols to a <span class="code">UNIT</span> scoped package in the <span class="code">EXPORT</span> namespace. For example, <span class="code">is export(:FOO)</span> will add the target to the <span class="code">UNIT::EXPORT::FOO</span> package. This is what Perl 6 is really using to decide what to import.</p>
 <pre class="code">unit module MyModule; 
 
 sub foo is export { ... } 
 sub bar is export(:other) { ... } 
</pre>
 <p>Is the same as:</p>
 <pre class="code">unit module MyModule; 
 
 my package EXPORT::DEFAULT { 
     our sub foo { ... } 
 } 
 
 my package EXPORT::other { 
     our sub bar { ... } 
 } 
</pre>
 <p>For most purposes <span class="code">is export</span> is sufficient but the <span class="code">EXPORT</span> packages are useful when you want to produce the exported symbols dynamically. For example:</p>
 <pre class="code"># lib/MyModule.pm6 
 unit module MyModule; 
 
 my package EXPORT::DEFAULT { 
    for &lt;zero one two three four&gt;.kv -&gt; $number, $name { 
       for &lt;sqrt log&gt; -&gt; $func { 
          OUR::{'&amp;' ~ $func ~ '-of-' ~ $name } := sub { $number.&quot;$func&quot;() }; 
       } 
    } 
 } 
 
</pre>
 <pre class="code"># main.p6 
 use MyModule; 
 say sqrt-of-four; # OUTPUT: «2␤» 
 say log-of-zero;  # OUTPUT: «-Inf␤» 
</pre>
 <a name="t29.1.4.3"></a><h3 id="_language_modules.pod6-EXPORT">29.1.4.3 EXPORT <a name="279"></a></h3>
 <p>You can export arbitrary symbols with an <span class="code">EXPORT</span> sub. <span class="code">EXPORT</span> must return a <a href="#_type_Map.pod6">Map</a>, where the keys are the symbol names and the values are the desired values. The names should include the sigil (if any) for the associated type.</p>
 <pre class="code"># lib/MyModule.pm6 
 
 class MyModule::Class { } 
 
 sub EXPORT { 
     %( 
       '$var'      =&gt; 'one', 
       '@array'    =&gt; &lt;one two three&gt;, 
       '%hash'     =&gt; %( one =&gt; 'two', three =&gt; 'four' ), 
       '&amp;doit'     =&gt; sub { say 'Greetings from exported sub' }, 
       'ShortName' =&gt; MyModule::Class 
     ) 
 } 
</pre>
 <pre class="code"># main.p6 
 use lib 'lib'; 
 use MyModule; 
 say $var;          # OUTPUT: «one␤» 
 say @array;        # OUTPUT: «(one two three)␤» 
 say %hash;         # OUTPUT: «{one =&gt; two, three =&gt; four}␤» 
 doit();            # OUTPUT: «Greetings from exported sub␤» 
 say ShortName.new; # OUTPUT: «MyModule::Class.new␤» 
</pre>
 <p>Note, <span class="code">EXPORT</span> can't be declared inside a package because it is part of the compunit rather than the package.</p>
 <p>Whereas <span class="code">UNIT::EXPORT</span> packages deal with the named parameters passed to <span class="code">use</span>, the <span class="code">EXPORT</span> sub handles positional parameters. If you pass positional parameters to <span class="code">use</span> they will be passed to <span class="code">EXPORT</span>. If a positional is passed the module no longer exports default symbols. You may still import them explicitly by passing <span class="code">:DEFAULT</span> to <span class="code">use</span> along with your positional parameters.</p>
 <pre class="code"># lib/MyModule 
 
 class MyModule::Class {} 
 
 sub EXPORT($short_name?) { 
     %( 
       do $short_name =&gt; MyModule::Class if $short_name 
     ) 
 } 
 
 sub always is export(:MANDATORY) { say &quot;works&quot; } 
 
 #import with :ALL or :DEFAULT to get 
 sub shy is export { say &quot;you found me!&quot; } 
</pre>
 <pre class="code"># main.p6 
 use lib 'lib'; 
 use MyModule 'foo'; 
 say foo.new(); # OUTPUT: «MyModule::Class.new␤» 
 
 always();      # OK   - is imported 
 shy();         # FAIL - won't be imported 
</pre>
 <p>You can combine `EXPORT` with type captures for interesting effect. This example creates a `?` postfix which will only work on <a href="#_type_Cool.pod6">Cool</a>s.</p>
 <pre class="code"># lib/MakeQuestionable.pm6 
 sub EXPORT(::Questionable) { 
     my multi postfix:&lt;?&gt;(Questionable $_) { .so }; 
     %( 
       '&amp;postfix:&lt;?&gt;' =&gt; &amp;postfix:&lt;?&gt;, 
     ) 
 } 
</pre>
 <pre class="code">use MakeQuestionable Cool; 
 say ( 0?, 1?, {}?, %( a =&gt; &quot;b&quot; )? ).join(' '); # OUTPUT: «False True False True␤» 
</pre>
 <a name="t29.1.5"></a><h2 id="_language_modules.pod6-Introspection">29.1.5 Introspection</h2>
 <p>To list exported symbols of a module first query the export tags supported by the module.</p>
 <pre class="code">use URI::Escape;
say URI::Escape::EXPORT::.keys;
# OUTPUT: «(DEFAULT ALL)␤»</pre>
 <p>Then use the tag you like and pick the symbol by its name.</p>
 <pre class="code">say URI::Escape::EXPORT::DEFAULT::.keys;
# OUTPUT: «(&amp;uri-escape &amp;uri-unescape &amp;uri_escape &amp;uri_unescape)␤»
my &amp;escape-uri = URI::Escape::EXPORT::DEFAULT::&lt;&amp;uri_escape&gt;;</pre>
 <a name="t29.1.6"></a><h2 id="_language_modules.pod6-Finding_Modules">29.1.6 Finding Modules</h2>
 <p>It is up to the module installer to know where <span class="code">compunit</span> expects modules to be placed. There will be a location provided by the distribution and in the current home directory. In any case, letting the module installer deal with your modules is a safe bet.</p>
 <pre class="code">cd your-module-dir 
 zef --force install . 
</pre>
 <p><span class="indexed"><a id="280" name="use lib"></a></span> A user may have a collection of modules not found in the normal ecosystem, maintained by a module or package manager, but needed regularly. Instead of using the <span class="code">use lib</span> pragma one can use the <span class="code">PERL6LIB</span> environment variable to point to module locations. For example:</p>
 <pre class="code">export PERL6LIB=/path/to/my-modules,/path/to/more/modules 
</pre>
 <p>Note that the comma (',') is used as the directory separator.</p>
 <p>The include path will be searched recursively for any modules when Rakudo is started. Directories that start with a dot are ignored and symlinks are followed.</p>
 <a name="t29.2"></a><h1 id="_language_modules.pod6-Distributing_Modules">29.2 Distributing Modules</h1>
 <p>If you've written a Perl 6 module and would like to share it with the community, we'd be delighted to have it listed in the <a href="https://modules.perl6.org">Perl 6 modules directory</a>. <span class="code">:)</span></p>
 <p>Currently there are two different module ecosystems (module distribution networks) available:</p>
 <ul><li><p><b>CPAN</b> This is the same ecosystem Perl5 is using. Modules are uploaded as <i>.zip</i> or <i>.tar.gz</i> files on <a href="https://pause.perl.org/">PAUSE</a>.</p>
</li></ul> <ul><li><p><b>p6c</b> Up until recently the only ecosystem. It is based on Github repositories which are directly accessed. It has only limited capability for versioning.</p>
</li></ul> <p>The process of sharing your module consists of two steps, preparing the module and uploading the module to one of the ecosystems.</p>
 <a name="t29.2.1"></a><h2 id="_language_modules.pod6-Preparing_the_Module">29.2.1 Preparing the Module</h2>
 <p>For a module to work in any of the ecosystems, it needs to follow a certain structure. Here is how to do that:</p>
 <ul><li><p>Create a project directory named after your module. For example, if your module is <span class="code">Vortex::TotalPerspective</span>, then create a project directory named <span class="code">Vortex-TotalPerspective</span>.</p>
</li></ul> <ul><li><p>Make your project directory look like this:</p>
 <pre class="code">Vortex-TotalPerspective/ 
 ├── lib 
 │   └── Vortex 
 │       └── TotalPerspective.pm6 
 ├── LICENSE 
 ├── META6.json 
 ├── README.md 
 └── t 
     └── basic.t 
 
</pre>
 <p>If your project contains other modules that help the main module do its job, they should go in your lib directory like so:</p>
 <pre class="code">lib 
 └── Vortex 
     ├── TotalPerspective.pm6 
     └── TotalPerspective 
         ├── FairyCake.pm6 
         └── Gargravarr.pm6 
</pre>
</li></ul> <ul><li><p>If you have any additional files (such as templates or a dynamic library) that you wish to have installed so you can access them at runtime, they should be placed in a <span class="code">resources</span> sub-directory of your project.</p>
</li></ul> <ul><li><p>The <span class="code">README.md</span> file is a <a href="https://help.github.com/articles/markdown-basics/">markdown-formatted</a> text file, which will later be automatically rendered as HTML by GitHub.</p>
</li></ul> <ul><li><p>Regarding the <span class="code">LICENSE</span> file, if you have no other preference, you might just use the same one that Rakudo Perl 6 uses. Just copy/paste the raw form of <a href="https://github.com/rakudo/rakudo/blob/master/LICENSE">its license</a> into your own <span class="code">LICENSE</span> file.</p>
</li></ul> <ul><li><p>The license field in META6.json The license field should be one of the standardized names listed here: <a href="https://spdx.org/licenses/">https://spdx.org/licenses/</a>, in the case of the <b>Artistic 2.0</b> license which is what many of our ecosystem modules use, its identifier is <span class="code">Artistic-2.0</span>. Having standardized identifiers make it easy for humans and computers alike to know which license was actually used by looking at the metadata!</p>
</li></ul> <ul><li><p>My license is not on spdx.org or using your own license If you can't find your license on <span class="code">spdx.org</span> or you use your own license, you should put the licenses name in the license field, and under more details here <a href="https://design.perl6.org/S22.html#license">https://design.perl6.org/S22.html#license</a>.</p>
</li></ul> <ul><li><p>If you don't yet have any tests, you can leave out the <span class="code">t</span> directory and <span class="code">basic.t</span> file for now. For more info on how to write tests (for now), you might have a look at how other modules use <span class="code">Test</span>.</p>
</li></ul> <ul><li><p>To document your modules, use <a href="https://design.perl6.org/S26.html">Perl 6 Pod</a> markup inside your modules. Module documentation is most appreciated and will be especially important once the Perl 6 module directory (or some other site) begins rendering Pod docs as HTML for easy browsing. If you have extra docs (in addition to the Pod docs in your module(s)), create a <span class="code">doc</span> directory for them. Follow the same folder structure as the <span class="code">lib</span> directory like so:</p>
 <pre class="code">doc 
 └── Vortex 
     └── TotalPerspective.pod6 
</pre>
</li></ul> <ul><li><pre class="code">Note, described above is a minimal project directory. If your project
contains scripts that you'd like distributed along with your module(s),
put them in a C&lt;bin&gt; directory. If you'd like a graphical logo to
appear next to your module at the module directory, create a
C&lt;logotype&gt; directory and put into it a C&lt;logo_32x32.png&gt; file. At some
point, you might also consider adding C&lt;CONTRIBUTORS&gt;, C&lt;NEWS&gt;,
C&lt;TODO&gt;, or other files.</pre>
</li></ul> <ul><li><pre class="code">Make your X&lt;C&lt;META6.json&gt;|META6.json&gt; file look something like this:</pre>
 <pre class="code">{ 
     &quot;perl&quot; : &quot;6.c&quot;, 
     &quot;name&quot; : &quot;Vortex::TotalPerspective&quot;, 
     &quot;auth&quot; : &quot;github:SomeAuthor&quot;, 
     &quot;api&quot; : &quot;1&quot;, 
     &quot;version&quot; : &quot;0.0.1&quot;, 
     &quot;description&quot; : &quot;Wonderful simulation to get some perspective.&quot;, 
     &quot;authors&quot; : [ &quot; <var class="replaceable">Your Name</var> &quot; ], 
     &quot;license&quot; : &quot;Artistic-2.0&quot;, 
     &quot;provides&quot; : { 
         &quot;Vortex::TotalPerspective&quot; : &quot;lib/Vortex/TotalPerspective.pm6&quot; 
     }, 
     &quot;depends&quot; : [ ], 
     &quot;build-depends&quot; : [ ], 
     &quot;test-depends&quot; : [ ], 
     &quot;resources&quot; : [ ], 
     &quot;tags&quot;: [ 
       &quot;Vortex&quot;, &quot;Total&quot;, &quot;Perspective&quot; 
     ] 
     &quot;source-url&quot; : &quot;git://github.com/ <var class="replaceable">you</var> /Vortex-TotalPerspective.git&quot; 
 } 
</pre>
 <p>For choosing a version numbering scheme, perhaps use &quot;major.minor.patch&quot; (see <a href="https://design.perl6.org/S11.html#Versioning">the spec on versioning</a> for further details).</p>
 <p>The <span class="code">auth</span> section identifies the author in GitHub or other repository hosting site, such as Bitbucket.</p>
 <p>The <span class="code">authors</span> section includes a list of all the module authors. In the case there is only one author, a single element list must be supplied.</p>
 <p>In the <span class="code">provides</span> section, include all the namespaces provided by your distribution and that you wish to be installed, only module files that are explicitly included here will be installed and available with <span class="code">use</span> or <span class="code">require</span> in other programs.</p>
 <p>Set <span class="code">perl</span> version to the minimum perl version your module works with.</p>
 <p>Optionally, you can set an <span class="code">api</span> field. Incrementing this indicates that the interface provided by your module is not backwards compatible with a previous version.</p>
 <p>If you want to adhere to <a href="https://semver.org">Semantic Versioning</a>, you can use the <span class="code">api</span> field. Simply keep the <span class="code">api</span> field to the same value as your major version number. A dependency can then depend on your module by including a <span class="code">:api</span> part, which will ensure backwards incompatible releases will not be pulled in.</p>
 <p>The <span class="code">resources</span> section is optional, but, if present, should contain a list of the files in your <span class="code">resources</span> directory that you wish to be installed, these will be installed with hashed names alongside your library files and their installed location can be determined through the <span class="code">%?RESOURCES</span> Hash indexed on the name provided. <span class="code">tags</span> is also optional, but is used to describe the module in the Perl6 ecosystem.</p>
 <p><span class="code">depends</span>, <span class="code">build-depends</span> and <span class="code">test-depends</span> include different modules that are used in those phases of the of installation. The last two are optional, but convenient.</p>
 <p>The <a href="https://github.com/jonathanstowe/Test-META/">Test::META module</a> can help you check the correctness of the META6.json file.</p>
 <p>There are more fields described in the <a href="https://design.perl6.org/S22.html#META6.json">META design documents</a>, but not all of these are implemented by existing package managers. Hence you should stick to the fields described in the above example block to ensure compatibility with existing package managers.</p>
</li></ul> <ul><li><p>To test your module you can use the following command to install the module directly from the module folder you just created.</p>
 <pre class="code">zef install ./your-module-folder 
</pre>
</li></ul> <a name="t29.2.2"></a><h2 id="_language_modules.pod6-Upload_your_Module_to_CPAN">29.2.2 Upload your Module to CPAN</h2>
 <p>Uploading a module to CPAN is the preferred way of distributing Perl 6 modules.</p>
 <p>it requires having a <a href="https://pause.perl.org/">PAUSE</a> user account. If you don't have an account already go there and apply for an account. The process takes about 5 minutes and some e-mail back and forth.</p>
 <ul><li><p>Create a package of your module:</p>
 <pre class="code">cd your-module-folder 
 tar czf Vortex-TotalPerspective-0.0.1.tar.gz --transform s/^\./Vortex-TotalPerspective-0.0.1/ --exclude-vcs --exclude=.[^/]* 
</pre>
 <p>If you use git you can also use the following command to create a package directly for a given commit.</p>
 <pre class="code">git archive --prefix=Vortex-TotalPerspective-0.0.1/ -o ../Vortex-TotalPerspective-0.0.1.tar.gz HEAD 
</pre>
</li></ul> <ul><li><p>Go to <a href="https://pause.perl.org/">PAUSE</a>, log in and click on <a href="https://pause.perl.org/pause/authenquery?ACTION=add_uri">Upload a file to CPAN</a>.</p>
</li></ul> <ul><li><p>Make sure you select <span class="code">Perl6</span> as the <i>Target Directory</i>. For your first upload, you have to enter the string <span class="code">Perl6</span> in the text field. On subsequent uploads, you can select the <span class="code">Perl6</span> directory from select box above the input field.</p>
</li></ul> <ul><li><p>Select your file and click <i>Upload</i>!</p>
 <p><i>Make sure you have a META6.json file in your dist and that the dist version you're uploading is higher than the currently uploaded version. Those are the most common upload errors.</i></p>
</li></ul> <a name="t29.2.3"></a><h2 id="_language_modules.pod6-Upload_your_Module_to_p6c">29.2.3 Upload your Module to p6c</h2>
 <p>If you want to use the <i>p6c</i> ecosystem you need to use git for your module's version control. The instructions herein assume that you have a <a href="https://github.com">GitHub</a> account so that your module can be shared from its GitHub repository, however another provider such as <a href="https://about.gitlab.com/">GitLab</a> should work as long as it works in a similar way.</p>
 <ul><li><p>Put your project under git version control if you haven't done so already.</p>
</li></ul> <ul><li><p>Once you're happy with your project, create a repository for it on GitHub. See <a href="https://help.github.com/">GitHub's help docs</a> if necessary. Your GitHub repository should be named the same as your project directory. Immediately after creating the GitHub repo, GitHub shows you how to configure your local repository to know about your GitHub repository.</p>
</li></ul> <ul><li><p>Push your project to GitHub.</p>
</li></ul> <ul><li><p>Consider setting up automated testing (see <a href="https://docs.travis-ci.com/user/languages/perl6">https://docs.travis-ci.com/user/languages/perl6</a>).</p>
</li></ul> <ul><li><p>Create a PR on <a href="https://github.com/perl6/ecosystem">ecosystem</a> adding your module to META.list, or ping someone on IRC (#perl6 at freenode) to get help having it added.</p>
</li></ul> <ul><li><p>After the pull request has been accepted, wait for an hour. If your module doesn't show up on <a href="https://modules.perl6.org/">https://modules.perl6.org/</a>, please view the log file at <a href="https://modules.perl6.org/update.log">https://modules.perl6.org/update.log</a> to see if it identifies an error with your module or meta file.</p>
</li></ul> <p><b>That's it! Thanks for contributing to the Perl 6 community!</b></p>
 <p>If you'd like to try out installing your module, use the <span class="indexed"><a id="281" name="">zef</a></span> module installer tool which is included with Rakudo Star Perl 6:</p>
 <pre class="code">zef install Vortex::TotalPerspective 
</pre>
 <p>This will download your module to its own working directory (<span class="code">~/.zef</span>), build it there, and install the module into your local Perl 6 installation directory.</p>
 <p>To use <span class="code">Vortex::TotalPerspective</span> from your scripts, just write <span class="code">use Vortex::TotalPerspective</span>, and your Perl 6 implementation will know where to look for the module file(s).</p>
 <a name="t29.3"></a><h1 id="_language_modules.pod6-Modules_and_Tools_Related_to_Module_Authoring">29.3 Modules and Tools Related to Module Authoring</h1>
 <p>You can find a list of modules and tools that aim to improve the experience of writing/test modules at <a href="#_language_modules-extra.pod6">Modules Extra</a></p>
 <a name="t29.3.1"></a><h2 id="_language_modules.pod6-Contact_Information">29.3.1 Contact Information</h2>
 <p>To discuss module development in general, or if your module would fill a need in the ecosystem, naming, etc., you can use the <a href="irc://irc.freenode.net/#perl6">#perl6 on irc.freenode.net</a> IRC channel.</p>
 <p>To discuss toolchain specific questions, you can use the <a href="irc://irc.freenode.net/#perl6-toolchain">#perl6-toolchain on irc.freenode.net</a> IRC channel. A repository to discuss tooling issues is also available at <a href="https://github.com/perl6/toolchain-bikeshed">https://github.com/perl6/toolchain-bikeshed</a>.</p>
</div>
<!-- /language/mop.pod6 --><div class="pod-body"><a id="_language_mop.pod6"></a><a name="t30"><h1 class="title">30 Meta-Object Protocol</h1></a> <p class="subtitle">Introspection and the Perl 6 Object System</p> <p><span class="indexed"><a id="282" name="MOP"></a></span> <span class="indexed"><a id="283" name="Introspection"></a></span></p>
 <p>Perl 6 is built on a meta object layer. That means that there are objects (the <i>meta objects</i>) that control how various object-oriented constructs (such as classes, roles, methods, attributes, enums, ...) behave.</p>
 <p>To get a feeling for the meta object for <span class="code">class</span>, here is the same example twice: once as normal declarations in Perl 6, and once expressed through the <a href="#_type_Metamodel::ClassHOW.pod6">meta model</a>:</p>
 <pre class="code">class A {
    method x() { say 42 }
}

A.x();</pre>
 <p>corresponds to:</p>
 <pre class="code">constant A := Metamodel::ClassHOW.new_type( name =&gt; 'A' );  # class A {
A.^add_method('x', my method x(A:) { say 42 });             # method x() .. .
A.^compose;                                                 # }

A.x();</pre>
 <p>(except that the declarative form runs at compile time, and the latter form does not).</p>
 <p>The meta object behind an object can be obtained with <span class="code">$obj.HOW</span>, where HOW stands for Higher Order Workings (or, <i>HOW the *%@$ does this work?</i>).</p>
 <p>Here, the calls with <span class="code">.^</span> are calls to the meta object, so <span class="code">A.^compose</span> is a shortcut for <span class="code">A.HOW.compose(A)</span>. The invocant is passed in the parameter list as well, to make it possible to support prototype-style type systems, where there is just one meta object (and not one meta object per type, as standard Perl 6 does it).</p>
 <p>As the example above demonstrates, all object oriented features are available to the user, not just to the compiler. In fact the compiler just uses such calls to meta objects.</p>
 <a name="t30.1"></a><h1 id="_language_mop.pod6-Metamethods">30.1 Metamethods</h1>
 <p>These are introspective macros that resemble method calls.</p>
 <p>Metamethods are generally named with ALLCAPS, and it is considered good style to avoid creating your own methods with ALLCAPS names. This will avoid conflicts with any metamethods that may appear in future versions of the language.</p>
 <a name="t30.1.1"></a><h2 id="_language_mop.pod6-WHAT">30.1.1 <a name="284"></a>WHAT</h2>
 <p>The type object of the type. This is a pseudo-method that can be overloaded without producing error or warning, but will be ignored.</p>
 <p>For example <span class="code">42.WHAT</span> returns the <span class="code">Int</span> type object.</p>
 <a name="t30.1.2"></a><h2 id="_language_mop.pod6-WHICH">30.1.2 <a name="285"></a>WHICH</h2>
 <p>The object's identity value. This can be used for hashing and identity comparison, and is how the <span class="code">===</span> infix operator is implemented.</p>
 <a name="t30.1.3"></a><h2 id="_language_mop.pod6-WHO">30.1.3 <a name="286"></a>WHO</h2>
 <p>The package supporting the object.</p>
 <a name="t30.1.4"></a><h2 id="_language_mop.pod6-WHERE">30.1.4 <a name="287"></a>WHERE</h2>
 <p>The memory address of the object. Note that this is not stable in implementations with moving/compacting garbage collectors. Use <span class="code">WHICH</span> for a stable identity indicator.</p>
 <a name="t30.1.5"></a><h2 id="_language_mop.pod6-HOW">30.1.5 <a name="288"></a>HOW</h2>
 <p>The metaclass object: &quot;Higher Order Workings&quot;.</p>
 <a name="t30.1.6"></a><h2 id="_language_mop.pod6-WHY">30.1.6 <a name="289"></a>WHY</h2>
 <p>The attached Pod value.</p>
 <a name="t30.1.7"></a><h2 id="_language_mop.pod6-DEFINITE">30.1.7 <a name="290"></a>DEFINITE</h2>
 <p>The object has a valid concrete representation. This is a pseudo-method that can be overloaded without producing error or warning, but will be ignored.</p>
 <p>Returns <span class="code">True</span> for instances and <span class="code">False</span> for type objects.</p>
 <a name="t30.1.8"></a><h2 id="_language_mop.pod6-VAR">30.1.8 <a name="291"></a>VAR</h2>
 <p>Returns the underlying <span class="code">Scalar</span> object, if there is one.</p>
 <p>The presence of a <span class="code">Scalar</span> object indicates that the object is &quot;itemized&quot;.</p>
 <pre class="code">.say for (1, 2, 3);           # OUTPUT: «1␤2␤3␤», not itemized
.say for $(1, 2, 3);          # OUTPUT: «(1 2 3)␤», itemized
say (1, 2, 3).VAR ~~ Scalar;  # OUTPUT: «False␤»
say $(1, 2, 3).VAR ~~ Scalar; # OUTPUT: «True␤»</pre>
 <a name="t30.2"></a><h1 id="_language_mop.pod6-Structure_of_the_meta_object_system">30.2 Structure of the meta object system</h1>
 <p><b>Note:</b> this documentation largely reflects the meta object system as implemented by the <a href="http://rakudo.org/">Rakudo Perl 6 compiler</a>, since the <a href="https://design.perl6.org/">design documents</a> are very light on details.</p>
 <p>For each type declarator keyword, such as <span class="code">class</span>, <span class="code">role</span>, <span class="code">enum</span>, <span class="code">module</span>, <span class="code">package</span>, <span class="code">grammar</span> or <span class="code">subset</span>, there is a separate meta class in the <span class="code">Metamodel::</span> namespace. (Rakudo implements them in the <span class="code">Perl6::Metamodel::</span> namespace, and then maps <span class="code">Perl6::Metamodel</span> to <span class="code">Metamodel</span>).</p>
 <p>Many of the these meta classes share common functionality. For example roles, grammars and classes can all contain methods and attributes, as well as being able to do roles. This shared functionality is implemented in roles which are composed into the appropriate meta classes. For example <a href="#_type_Metamodel::RoleContainer.pod6">role Metamodel::RoleContainer</a> implements the functionality that a type can hold roles and <a href="#_type_Metamodel::ClassHOW.pod6">Metamodel::ClassHOW</a>, which is the meta class behind the <span class="code">class</span> keyword, does this role.</p>
 <p>Most meta classes have a <span class="code">compose</span> method that you must call when you're done creating or modifying a meta object. It creates method caches, validates things and so on, and weird behavior ensues if you forget to call it, so don't :-).</p>
 <a name="t30.2.1"></a><h2 id="_language_mop.pod6-Bootstrapping_concerns">30.2.1 Bootstrapping concerns</h2>
 <p>You might wonder how <span class="code">Metamodel::ClassHOW</span> can be a class, when being a class is defined in terms of <span class="code">Metamodel::ClassHOW</span>, or how the roles responsible for role handling can be roles. The answer is <i>by magic</i>.</p>
 <p>Just kidding. Bootstrapping is implementation specific. Rakudo does it by using the object system of the language in which itself is implemented, which happens to be (nearly) a subset of Perl 6: NQP, Not Quite Perl. NQP has a primitive, class-like kind called <span class="code">knowhow</span>, which is used to bootstrap its own classes and roles implementation. <span class="code">knowhow</span> is built on primitives that the virtual machine under NQP provides.</p>
 <p>Since the object model is bootstrapped in terms of lower-level types, introspection can sometimes return low-level types instead of the ones you expect, like an NQP-level routine instead of a normal <a href="#_type_Routine.pod6">Routine</a> object, or a bootstrap-attribute instead of <a href="#_type_Attribute.pod6">Attribute</a>.</p>
 <a name="t30.2.2"></a><h2 id="_language_mop.pod6-Composition_time_and_static_reasoning">30.2.2 Composition time and static reasoning</h2>
 <p>In Perl 6, a type is constructed as it is parsed, so in the beginning, it must be mutable. However if all types were always mutable, all reasoning about them would get invalidated at any modification of a type. For example the list of parent types and thus the result of type checking can change during that time.</p>
 <p>So to get the best of both worlds, there is a time when a type transitions from mutable to immutable. This is called <i>composition</i>, and for syntactically declared types, it happens when the type declaration is fully parsed (so usually when the closing curly brace is parsed).</p>
 <p>If you create types through the meta-object system directly, you must call <span class="code">.^compose</span> on them before they become fully functional.</p>
 <p>Most meta classes also use composition time to calculate some properties like the method resolution order, publish a method cache, and other house-keeping tasks. Meddling with types after they have been composed is sometimes possible, but usually a recipe for disaster. Don't do it.</p>
 <a name="t30.2.3"></a><h2 id="_language_mop.pod6-Power_and_Responsibility">30.2.3 Power and Responsibility</h2>
 <p>The meta object protocol offers much power that regular Perl 6 code intentionally limits, such as calling private methods on classes that don't trust you, peeking into private attributes, and other things that usually simply aren't done.</p>
 <p>Regular Perl 6 code has many safety checks in place; not so the meta model. It is close to the underlying virtual machine, and violating the contracts with the VM can lead to all sorts of strange behaviors that, in normal code, would obviously be bugs.</p>
 <p>So be extra careful and thoughtful when writing meta types.</p>
 <a name="t30.2.4"></a><h2 id="_language_mop.pod6-Power,_Convenience_and_Pitfalls">30.2.4 Power, Convenience and Pitfalls</h2>
 <p>The meta object protocol is designed to be powerful enough to implement the Perl 6 object system. This power occasionally comes at the cost of convenience.</p>
 <p>For example, when you write <span class="code">my $x = 42</span> and then proceed to call methods on <span class="code">$x</span>, most of these methods end up acting on the <a href="#_type_Int.pod6">integer</a> 42, not on the <a href="#_type_Scalar.pod6">scalar container</a> in which it is stored. This is a piece of convenience found in ordinary Perl 6. Many parts of the meta object protocol cannot afford to offer the convenience of automatically ignoring scalar containers, because they are used to implement those scalar containers as well. So if you write <span class="code">my $t = MyType; ... ; $t.^compose</span> you are composing the Scalar that the <span class="code">$</span>-sigiled variable implies, not <span class="code">MyType</span>.</p>
 <p>The consequence is that you need to have a rather detailed understanding of the subtleties of Perl 6 in order to avoid pitfalls when working with the MOP, and can't expect the same &quot;do what I mean&quot; convenience that ordinary Perl 6 code offers.</p>
</div>
<!-- /language/nativecall.pod6 --><div class="pod-body"><a id="_language_nativecall.pod6"></a><a name="t31"><h1 class="title">31 Native Calling Interface</h1></a> <p class="subtitle">Call into dynamic libraries that follow the C calling convention</p> <a name="t31.1"></a><h1 id="_language_nativecall.pod6-Getting_Started">31.1 Getting Started</h1>
 <p><span class="indexed"><a id="292" name="nativecall"></a></span></p>
 <p>The simplest imaginable use of NativeCall would look something like this:</p>
 <pre class="code">use NativeCall;
sub some_argless_function() is native('something') { * }
some_argless_function();</pre>
 <p>The first line imports various traits and types. The next line looks like a relatively ordinary Perl 6 sub declaration—with a twist. We use the &quot;native&quot; trait in order to specify that the sub is actually defined in a native library. The platform-specific extension (e.g., '.so' or '.dll'), as well as any customary prefixes (e.g., 'lib') will be added for you.</p>
 <p>The first time you call &quot;some_argless_function&quot;, the &quot;libsomething&quot; will be loaded and the &quot;some_argless_function&quot; will be located in it. A call will then be made. Subsequent calls will be faster, since the symbol handle is retained.</p>
 <p>Of course, most functions take arguments or return values—but everything else that you can do is just adding to this simple pattern of declaring a Perl 6 sub, naming it after the symbol you want to call and marking it with the &quot;native&quot; trait.</p>
 <a name="t31.2"></a><h1 id="_language_nativecall.pod6-Changing_names">31.2 Changing names</h1>
 <p>Sometimes you want the name of your Perl subroutine to be different from the name used in the library you're loading. Maybe the name is long or has different casing or is otherwise cumbersome within the context of the module you are trying to create.</p>
 <p>NativeCall provides a &quot;symbol&quot; trait for you to specify the name of the native routine in your library that may be different from your Perl subroutine name.</p>
 <pre class="code">unit module Foo; 
 use NativeCall; 
 our sub init() is native('foo') is symbol('FOO_INIT') { * } 
</pre>
 <p>Inside of &quot;libfoo&quot; there is a routine called &quot;FOO_INIT&quot; but, since we're creating a module called Foo and we'd rather call the routine as <span class="code">Foo::init</span>, we use the &quot;symbol&quot; trait to specify the name of the symbol in &quot;libfoo&quot; and call the subroutine whatever we want (&quot;init&quot; in this case).</p>
 <a name="t31.3"></a><h1 id="_language_nativecall.pod6-Passing_and_Returning_Values">31.3 Passing and Returning Values</h1>
 <p>Normal Perl 6 signatures and the <span class="code">returns</span> trait are used in order to convey the type of arguments a native function expects and what it returns. Here is an example.</p>
 <pre class="code">use NativeCall;
sub add(int32, int32) returns int32 is native(&quot;calculator&quot;) { * }</pre>
 <p>Here, we have declared that the function takes two 32-bit integers and returns a 32-bit integer. Here are some of the other types that you may pass (this will likely grow with time).</p>
 <p><span class="indexed"><a id="293" name="int8"></a></span><span class="indexed"><a id="294" name="int16"></a></span><span class="indexed"><a id="295" name="int32"></a></span><span class="indexed"><a id="296" name="int64"></a></span><span class="indexed"><a id="297" name="uint8"></a></span><span class="indexed"><a id="298" name="uint16"></a></span><span class="indexed"><a id="299" name="uint32"></a></span><span class="indexed"><a id="300" name="uint64"></a></span><span class="indexed"><a id="301" name="long"></a></span><span class="indexed"><a id="302" name="longlong"></a></span><span class="indexed"><a id="303" name="ulong"></a></span><span class="indexed"><a id="304" name="ulonglong"></a></span><span class="indexed"><a id="305" name="num32"></a></span><span class="indexed"><a id="306" name="num64"></a></span><span class="indexed"><a id="307" name="Str"></a></span><span class="indexed"><a id="308" name="CArray"></a></span><span class="indexed"><a id="309" name="Pointer"></a></span><span class="indexed"><a id="310" name="bool"></a></span><span class="indexed"><a id="311" name="size_t"></a></span><span class="indexed"><a id="312" name="ssize_t"></a></span></p>
 <table>
<tr><td>int8</td> <td>(int8_t in C, also used for char)</td></tr>
 <tr><td>int16</td> <td>(int16_t in C, also used for short)</td></tr>
 <tr><td>int32</td> <td>(int32_t in C, also used for int)</td></tr>
 <tr><td>int64</td> <td>(int64_t in C)</td></tr>
 <tr><td>uint8</td> <td>(uint8_t in C, also used for unsigned char)</td></tr>
 <tr><td>uint16</td> <td>(uint16_t in C, also used for unsigned short)</td></tr>
 <tr><td>uint32</td> <td>(uint32_t in C, also used for unsigned int)</td></tr>
 <tr><td>uint64</td> <td>(uint64_t in C)</td></tr>
 <tr><td>long</td> <td>(long in C)</td></tr>
 <tr><td>longlong</td> <td>(long long in C, at least 64-bit)</td></tr>
 <tr><td>ulong</td> <td>(unsigned long in C)</td></tr>
 <tr><td>ulonglong</td> <td>(unsigned long long in C, at least 64-bit)</td></tr>
 <tr><td>num32</td> <td>(float in C)</td></tr>
 <tr><td>num64</td> <td>(double in C)</td></tr>
 <tr><td>Str</td> <td>(C string)</td></tr>
 <tr><td>CArray[int32]</td> <td>(int32_t* in C, an array of 32-bit ints)</td></tr>
 <tr><td>Pointer[void]</td> <td>(void* in C, can point to all other types)</td></tr>
 <tr><td>bool</td> <td>(bool from C99)</td></tr>
 <tr><td>size_t</td> <td>(size_t in C)</td></tr>
 <tr><td>ssize_t</td> <td>(ssize_t in C)</td></tr>
</table> <p>Don't use Perl 6 native types like <span class="code">int</span> or <span class="code">num</span>, as they don't have to correspond to the local C equivalent (e.g., Perl 6's <span class="code">int</span> can be 8 bytes but C's <span class="code">int</span> is only 4 bytes).</p>
 <p>Note that the lack of a <span class="code">returns</span> trait is used to indicate void return type. Do <i>not</i> use the 'void' type anywhere except in the Pointer parameterization.</p>
 <p>For strings, there is an additional &quot;encoded&quot; trait to give some extra hints on how to do the marshaling.</p>
 <pre class="code">use NativeCall;
sub message_box(Str is encoded('utf8')) is native('gui') { * }</pre>
 <p>To specify how to marshal string return types, just apply this trait to the routine itself.</p>
 <pre class="code">use NativeCall;
sub input_box() returns Str is encoded('utf8') is native('gui') { * }</pre>
 <p>Note that a NULL string pointer can be passed by passing the Str type object; a NULL return will also be represented by the type object.</p>
 <p>If the C function requires the lifetime of a string to exceed the function call, the argument must be manually encoded and passed as <span class="code">CArray[uint8]</span>:</p>
 <pre class="code">use NativeCall;
# C prototype is void set_foo(const char *)
sub set_foo(CArray[uint8]) is native('foo') { * }
# C prototype is void use_foo(void)
sub use_foo() is native('foo') { * } # will use pointer stored by set_foo()

my $string = &quot;FOO&quot;;
# The lifetime of this variable must be equal to the required lifetime of
# the data passed to the C function.
my $array = CArray[uint8].new($string.encode.list);

set_foo($array);
# ...
use_foo();
# It's fine if $array goes out of scope starting from here.</pre>
 <a name="t31.4"></a><h1 id="_language_nativecall.pod6-Basic_use_of_Pointers">31.4 Basic use of Pointers</h1>
 <p>When the signature of your native function needs a pointer to some native type (<span class="code">int32</span>, <span class="code">uint32</span>, etc.) all you need to do is declare the argument <span class="code">is rw</span> :</p>
 <pre class="code">use NativeCall;
# C prototype is void my_version(int *major, int *minor)
sub my_version(int32 is rw, int32 is rw) is native('foo') { * }
my_version(my int32 $major, my int32 $minor); # Pass a pointer to</pre>
 <p>Sometimes you need to get a pointer (for example, a library handle) back from a C library. You don't care about what it points to - you just need to keep hold of it. The Pointer type provides for this.</p>
 <pre class="code">use NativeCall;
sub Foo_init() returns Pointer is native(&quot;foo&quot;) { * }
sub Foo_free(Pointer) is native(&quot;foo&quot;) { * }</pre>
 <p>This works out OK, but you may fancy working with a type named something better than Pointer. It turns out that any class with the representation &quot;CPointer&quot; can serve this role. This means you can expose libraries that work on handles by writing a class like this:</p>
 <pre class="code">use NativeCall; 
 
 class FooHandle is repr('CPointer') { 
     # Here are the actual NativeCall functions. 
     sub Foo_init() returns FooHandle is native(&quot;foo&quot;) { * } 
     sub Foo_free(FooHandle) is native(&quot;foo&quot;) { * } 
     sub Foo_query(FooHandle, Str) returns int8 is native(&quot;foo&quot;) { * } 
     sub Foo_close(FooHandle) returns int8 is native(&quot;foo&quot;) { * } 
 
     # Here are the methods we use to expose it to the outside world. 
     method new { 
         Foo_init(); 
     } 
 
     method query(Str $stmt) { 
         Foo_query(self, $stmt); 
     } 
 
     method close { 
         Foo_close(self); 
     } 
 
     # Free data when the object is garbage collected. 
     submethod DESTROY { 
         Foo_free(self); 
     } 
 } 
</pre>
 <p>Note that the CPointer representation can do nothing more than hold a C pointer. This means that your class cannot have extra attributes. However, for simple libraries this may be a neat way to expose an object oriented interface to it.</p>
 <p>Of course, you can always have an empty class:</p>
 <pre class="code">class DoorHandle is repr('CPointer') { }</pre>
 <p>And just use the class as you would use Pointer, but with potential for better type safety and more readable code.</p>
 <p>Once again, type objects are used to represent NULL pointers.</p>
 <a name="t31.5"></a><h1 id="_language_nativecall.pod6-Function_Pointers">31.5 Function Pointers</h1>
 <p>C libraries can expose pointers to C functions as return values of functions and as members of Structures like, e.g., structs and unions.</p>
 <p>Example of invoking a function pointer &quot;$fptr&quot; returned by a function &quot;f&quot;, using a signature defining the desired function parameters and return value:</p>
 <pre class="code">sub f() returns Pointer is native('mylib') { * } 
 
 my $fptr    = f(); 
 my &amp;newfunc = nativecast(:(Str, size_t --&gt; int32), $fptr); 
 
 say newfunc(&quot;test&quot;, 4); 
</pre>
 <a name="t31.6"></a><h1 id="_language_nativecall.pod6-Arrays">31.6 Arrays</h1>
 <p>NativeCall has some support for arrays. It is constrained to work with machine-size integers, doubles and strings, sized numeric types, arrays of pointers, arrays of structs, and arrays of arrays.</p>
 <p>Perl 6 arrays, which support amongst other things laziness, are laid out in memory in a radically different way to C arrays. Therefore, the NativeCall library offers a much more primitive CArray type, which you must use if working with C arrays.</p>
 <p>Here is an example of passing a C array.</p>
 <pre class="code">sub RenderBarChart(Str, int32, CArray[Str], CArray[num64]) is native(&quot;chart&quot;) { * } 
 my @titles := CArray[Str].new; 
 @titles[0]  = 'Me'; 
 @titles[1]  = 'You'; 
 @titles[2]  = 'Hagrid'; 
 my @values := CArray[num64].new; 
 @values[0]  = 59.5e0; 
 @values[1]  = 61.2e0; 
 @values[2]  = 180.7e0; 
 RenderBarChart('Weights (kg)', 3, @titles, @values); 
</pre>
 <p>Note that binding was used to <span class="code">@titles</span>, <i>not</i> assignment! If you assign, you are putting the values into a Perl 6 array, and it will not work out. If this all freaks you out, forget you ever knew anything about the <span class="code">@</span> sigil and just use <span class="code">$</span> all the way when using NativeCall.</p>
 <pre class="code">use NativeCall;
my $titles = CArray[Str].new;
$titles[0] = 'Me';
$titles[1] = 'You';
$titles[2] = 'Hagrid';</pre>
 <p>Getting return values for arrays works out just the same.</p>
 <p>Some library APIs may take an array as a buffer that will be populated by the C function and, for instance, return the actual number of items populated:</p>
 <pre class="code">use NativeCall;
sub get_n_ints(CArray[int32], int32) returns int32 is native('ints') { * }</pre>
 <p>In these cases it is important that the CArray has at least the number of elements that are going to be populated before passing it to the native subroutine, otherwise the C function may stomp all over Perl's memory leading to possibly unpredictable behaviour:</p>
 <pre class="code">my $ints = CArray[int32].new; 
 my $number_of_ints = 10; 
 $ints[$number_of_ints - 1] = 0; # extend the array to 10 items 
 
 my $n = get_n_ints($ints, $number_of_ints); 
</pre>
 <p>The memory management of arrays is important to understand. When you create an array yourself, then you can add elements to it as you wish and it will be expanded for you as required. However, this may result in it being moved in memory (assignments to existing elements will never cause this, however). This means you'd best know what you're doing if you twiddle with an array after passing it to a C library.</p>
 <p>By contrast, when a C library returns an array to you, then the memory can not be managed by NativeCall, and it doesn't know where the array ends. Presumably, something in the library API tells you this (for example, you know that when you see a null element, you should read no further). Note that NativeCall can offer you no protection whatsoever here - do the wrong thing, and you will get a segfault or cause memory corruption. This isn't a shortcoming of NativeCall, it's the way the big bad native world works. Scared? Here, have a hug. Good luck!</p>
 <a name="t31.6.1"></a><h2 id="_language_nativecall.pod6-CArray_methods">31.6.1 CArray methods</h2>
 <p>Besides the usual methods available on every Perl 6 instances, <span class="code">CArray</span> provides the following methods that can be used to interact with the array from the Perl 6 point of view:</p>
 <ul><li><p><span class="code">elems</span> provides the number of elements within the array;</p>
</li></ul> <ul><li><p><span class="code">AT-POS</span> provides a specific element at the given position (starting from zero);</p>
</li></ul> <ul><li><p><span class="code">list</span> provides the <a href="#_type_List.pod6">List</a> of elements within the array building it from the native array iterator.</p>
</li></ul> <p>As an example, consider the following simple piece of code:</p>
 <pre class="code">use NativeCall; 
 
 my $native-array = CArray[int32].new( 1, 2, 3, 4, 5 ); 
 say 'Number of elements: ' ~ $native-array.elems; 
 
 # walk the array 
 for $native-array.list -&gt; $elem { 
     say &quot;Current element is: $elem&quot;; 
 } 
 
 # get every element by its index-based position 
 for 0..$native-array.elems - 1 -&gt; $position { 
     say &quot;Element at position $position is &quot; 
           ~ $native-array.AT-POS( $position ); 
 } 
 
</pre>
 <p>that produces the following output</p>
 <pre class="code">  Number of elements: 5 
   Current element is: 1 
   Current element is: 2 
   Current element is: 3 
   Current element is: 4 
   Current element is: 5 
   Element at position 0 is 1 
   Element at position 1 is 2 
   Element at position 2 is 3 
   Element at position 3 is 4 
   Element at position 4 is 5 
</pre>
 <a name="t31.7"></a><h1 id="_language_nativecall.pod6-Structs">31.7 Structs</h1>
 <p>Thanks to representation polymorphism, it's possible to declare a normal looking Perl 6 class that, under the hood, stores its attributes in the same way a C compiler would lay them out in a similar struct definition. All it takes is a quick use of the &quot;repr&quot; trait:</p>
 <pre class="code">class Point is repr('CStruct') {
    has num64 $.x;
    has num64 $.y;
}</pre>
 <p>The attributes can only be of the types that NativeCall knows how to marshal into struct fields. Currently, structs can contain machine-sized integers, doubles, strings, and other NativeCall objects (CArrays, and those using the CPointer and CStruct reprs). Other than that, you can do the usual set of things you would with a class; you could even have some of the attributes come from roles or have them inherited from another class. Of course, methods are completely fine too. Go wild!</p>
 <p>CStruct objects are passed to native functions by reference and native functions must also return CStruct objects by reference. The memory management rules for these references are very much like the rules for arrays, though simpler since a struct is never resized. When you create a struct, the memory is managed for you and when the variable(s) pointing to the instance of a CStruct go away, the memory will be freed when the GC gets to it. When a CStruct-based type is used as the return type of a native function, the memory is not managed for you by the GC.</p>
 <p>NativeCall currently doesn't put object members in containers, so assigning new values to them (with =) doesn't work. Instead, you have to bind new values to the private members:</p>
 <pre class="code">class MyStruct is repr('CStruct') { 
     has CArray[num64] $!arr; 
     has Str $!str; 
     has Point $!point; # Point is a user-defined class 
 
     submethod TWEAK { 
         my $arr := CArray[num64].new; 
         $arr[0] = 0.9e0; 
         $arr[1] = 0.2e0; 
         $!arr := $arr; 
         $!str := 'Perl 6 is fun'; 
         $!point := Point.new; 
     } 
 } 
</pre>
 <p>As you may have predicted by now, a NULL pointer is represented by the type object of the struct type.</p>
 <a name="t31.7.1"></a><h2 id="_language_nativecall.pod6-CUnions">31.7.1 CUnions</h2>
 <p>Likewise, it is possible to declare a Perl 6 class that stores its attributes the same way a C compiler would lay them out in a similar <span class="code">union</span> definition; using the <span class="code">CUnion</span> representation:</p>
 <pre class="code">use NativeCall; 
 
 class MyUnion is repr('CUnion') { 
     has int32 $.flags32; 
     has int64 $.flags64; 
 } 
 
 say nativesizeof(MyUnion.new);  # 8, ie. max(sizeof(MyUnion.flags32), sizeof(MyUnion.flags64)) 
</pre>
 <a name="t31.7.2"></a><h2 id="_language_nativecall.pod6-Embedding_CStructs_and_CUnions">31.7.2 Embedding CStructs and CUnions</h2>
 <p>CStructs and CUnions can be in turn referenced by—or embedded into—a surrounding CStruct and CUnion. To say the former we use <span class="code">has</span> as usual, and to do the latter we use the <span class="code">HAS</span> declarator instead:</p>
 <pre class="code">class MyStruct is repr('CStruct') { 
     has Point $.point;  # referenced 
     has int32 $.flags; 
 } 
 
 say nativesizeof(MyStruct.new);  # 16, ie. sizeof(struct Point *) + sizeof(int32_t) 
 
 class MyStruct2 is repr('CStruct') { 
     HAS Point $.point;  # embedded 
     has int32 $.flags; 
 } 
 
 say nativesizeof(MyStruct2.new);  # 24, ie. sizeof(struct Point) + sizeof(int32_t) 
</pre>
 <a name="t31.7.3"></a><h2 id="_language_nativecall.pod6-Notes_on_Memory_management">31.7.3 Notes on Memory management</h2>
 <p>When allocating a struct for use as a struct, make sure that you allocate your own memory in your C functions. If you're passing a struct into a C function which needs a <span class="code">Str</span>/<span class="code">char*</span> allocated ahead of time, be sure to assign a container for a variable of type <span class="code">Str</span> prior to passing your struct into the function.</p>
 <a name="t31.7.3.1"></a><h3 id="_language_nativecall.pod6-In_your_Perl6_code...">31.7.3.1 In your Perl6 code...</h3>
 <pre class="code">class AStringAndAnInt is repr(&quot;CStruct&quot;) { 
   has Str $.a_string; 
   has int32 $.an_int32; 
 
   submethod TWEAK { 
     $!a_string := Str.new; 
     $!an_int32 = 0; 
   } 
 
   sub init_struct(AStringAndAnInt is rw, Str, int32) is native('simple-struct') { * } 
   method init(:$a_string, :$an_int) { 
     init_struct(self, $a_string, $an_int); 
   } 
 } 
 
</pre>
 <p>In this code we first set up our members, <span class="code">$.a_string</span> and <span class="code">$.an_int32</span>. We then set the container of <span class="code">$.a_string</span> to a new <span class="code">Str</span>. After that we declare our <span class="code">init_struct()</span> function for the <span class="code">init()</span> method to wrap around.</p>
 <a name="t31.7.3.2"></a><h3 id="_language_nativecall.pod6-In_your_C_code...">31.7.3.2 In your C code...</h3>
 <pre class="code">typedef struct a_string_and_an_int32_t_ { 
   char *a_string; 
   int32_t an_int32; 
 } a_string_and_an_int32_t; 
 
</pre>
 <p>Here's the structure. Notice how we've got a <span class="code">char *</span> there.</p>
 <pre class="code">void init_struct(a_string_and_an_int32_t *target, char *str, int32_t int32) { 
   target-&gt;an_int32 = int32; 
   target-&gt;a_string = strdup(str); 
 
   return; 
 } 
 
</pre>
 <p>In this function we initialize the C structure by assigning an integer by value, and passing the string by reference. The function allocates memory that it points &lt;char *a_string&gt; to within the structure as it copies the string. (Note you will also have to manage deallocation of the memory as well to avoid memory leaks.)</p>
 <p># A long time ago in a galaxy far, far away...</p>
 <pre class="code">my $foo = AStringAndAnInt.new; 
 $foo.init(a_string =&gt; &quot;str&quot;, an_int =&gt; 123); 
 
</pre>
 <a name="t31.8"></a><h1 id="_language_nativecall.pod6-Typed_Pointers">31.8 Typed Pointers</h1>
 TODO
 <p>TBD more</p>
 <p>You can type your <span class="code">Pointer</span> by passing the type as a parameter. It works with the native type but also with <span class="code">CArray</span> and <span class="code">CStruct</span> defined types. NativeCall will not implicitly allocate the memory for it even when calling new on them. It's mostly useful in the case of a C routine returning a pointer, or if it's a pointer embedded in a <span class="code">CStruct</span>.</p>
 <p>You have to call <span class="code">.deref</span> on it to access the embedded type.</p>
 <pre class="code">my Pointer[int32] $p; #For a pointer on int32; 
 my Pointer[MyCstruct] $p2 = some_c_routine(); 
 my MyCstruct $mc = $p2.deref; 
 say $mc.field1; 
</pre>
 <p>It's quite common for a native function to return a pointer to an array of elements. Typed pointers can be dereferenced as an array to obtain individual elements.</p>
 <pre class="code">my $n = 5; 
 # returns a pointer to an array of length $n 
 my Pointer[Point] $plot = some_other_c_routine($n); 
 # display the 5 elements in the array 
 for 1 .. $n -&gt; $i { 
     my $x = $plot[$i - 1].x; 
     my $y = $plot[$i - 1].y; 
     say &quot;$i: ($x, $y)&quot;; 
 } 
</pre>
 <p>Pointers can also be updated to reference successive elements in the array:</p>
 <pre class="code">my Pointer[Point] $elem = $plot; 
 # show differences between successive points 
 for 1 ..^ $n { 
     my Point $lo = $elem.deref; 
     ++$elem; # equivalent to $elem = $elem.add(1); 
     my Point $hi = (++$elem).deref; 
     my $dx = $hi.x = $lo.x; 
     my $dy = $hi.y = $lo.y; 
     say &quot;$_: delta ($dx, $dy)&quot;; 
 } 
</pre>
 <a name="t31.9"></a><h1 id="_language_nativecall.pod6-Strings">31.9 Strings</h1>
 <a name="t31.9.1"></a><h2 id="_language_nativecall.pod6-Explicit_memory_management">31.9.1 Explicit memory management</h2>
 <p>Let's say there is some C code that caches strings passed, like so:</p>
 <pre class="code">#include &lt;stdlib.h&gt; 
 
 static char *__VERSION; 
 
 char * 
 get_version() 
 { 
     return __VERSION; 
 } 
 
 char * 
 set_version(char *version) 
 { 
     if (__VERSION != NULL) free(__VERSION); 
     __VERSION = version; 
     return __VERSION; 
 } 
</pre>
 <p>If you were to write bindings for <span class="code">get_version</span> and <span class="code">set_version</span>, they would initially look like this, but will not work as intended:</p>
 <pre class="code">sub get_version(--&gt; Str)     is native('./version') { * } 
 sub set_version(Str --&gt; Str) is native('./version') { * } 
 
 say set_version('1.0.0'); # 1.0.0 
 say get_version;          # Differs on each run 
 say set_version('1.0.1'); # Double free; segfaults 
</pre>
 <p>This code segfaults on the second <span class="code">set_version</span> call because it tries to free the string passed on the first call after the garbage collector had already done so. If the garbage collector shouldn't free a string passed to a native function, use <span class="code">explicitly-manage</span> with it:</p>
 <pre class="code">say set_version(explicitly-manage('1.0.0')); # 1.0.0 
 say get_version;                             # 1.0.0 
 say set_version(explicitly-manage('1.0.1')); # 1.0.1 
 say get_version;                             # 1.0.1 
</pre>
 <p>Bear in mind all memory management for explicitly managed strings must be handled by the C library itself or through the NativeCall API to prevent memory leaks.</p>
 <a name="t31.9.2"></a><h2 id="_language_nativecall.pod6-Buffers_and_blobs">31.9.2 Buffers and blobs</h2>
 TODO
 <p>TBD</p>
 <a name="t31.10"></a><h1 id="_language_nativecall.pod6-Function_arguments">31.10 Function arguments</h1>
 <p>NativeCall also supports native functions that take functions as arguments. One example of this is using function pointers as callbacks in an event-driven system. When binding these functions via NativeCall, one need only provide the equivalent signature as a constraint on the code parameter:</p>
 <pre class="code">use NativeCall;
# void SetCallback(int (*callback)(const char *))
my sub SetCallback(&amp;callback (Str --&gt; int32)) is native('mylib') { * }</pre>
 <p>Note: the native code is responsible for memory management of values passed to Perl 6 callbacks this way. In other words, NativeCall will not free() strings passed to callbacks.</p>
 <a name="t31.11"></a><h1 id="_language_nativecall.pod6-Library_Paths_and_Names">31.11 Library Paths and Names</h1>
 TODO
 <p>TBD more</p>
 <p>The <span class="code">native</span> trait accepts the library name or the full path.</p>
 <pre class="code">use NativeCall;
constant LIBMYSQL = 'mysqlclient';
constant LIBFOO = '/usr/lib/libfoo.so.1';
# and later
sub mysql_affected_rows returns int32 is native(LIBMYSQL) {*};
sub bar is native(LIBFOO) {*}</pre>
 <p>You can also put an incomplete path like './foo' and NativeCall will automatically put the right extension according to the platform specification.</p>
 <p>BE CAREFUL: the <span class="code">native</span> trait and <span class="code">constant</span> are evaluated at compile time. Don't write a constant that depends on a dynamic variable like:</p>
 <pre class="code"># WRONG:
constant LIBMYSQL = %*ENV&lt;P6LIB_MYSQLCLIENT&gt; || 'mysqlclient';</pre>
 <p>This will keep the value given at compile time. A module will be precompiled and <span class="code">LIBMYSQL</span> will keep the value it acquires when the module gets precompiled.</p>
 <a name="t31.11.1"></a><h2 id="_language_nativecall.pod6-ABI/API_Version">31.11.1 ABI/API Version</h2>
 <p>If you write <span class="code">native('foo')</span> NativeCall will search libfoo.so under Unix like system (libfoo.dynlib on OS X, foo.dll on win32). In most modern system it will require you or the user of your module to install the development package because it's recommended to always provide an API/ABI version to a shared library, so libfoo.so ends often being a symbolic link provided only by a development package.</p>
 <p>To avoid that, the <span class="code">native</span> trait allows you to specify the API/ABI version. It can be a full version or just a part of it. (Try to stick to Major version, some BSD code does not care for Minor.)</p>
 <pre class="code">use NativeCall;
sub foo1 is native('foo', v1) {*} # Will try to load libfoo.so.1
sub foo2 is native('foo', v1.2.3) {*} # Will try to load libfoo.so.1.2.3

my List $lib = ('foo', 'v1');
sub foo3 is native($lib) {*}</pre>
 <a name="t31.11.2"></a><h2 id="_language_nativecall.pod6-Routine">31.11.2 Routine</h2>
 <p>The <span class="code">native</span> trait also accepts a <span class="code">Callable</span> as argument, allowing you to provide your own way to handle the way it will find the library file to load.</p>
 <pre class="code">use NativeCall;
sub foo is native(sub {'libfoo.so.42'}) {*}</pre>
 <p>It will only be called at the first invocation of the sub.</p>
 <a name="t31.11.3"></a><h2 id="_language_nativecall.pod6-Calling_into_the_standard_library">31.11.3 Calling into the standard library</h2>
 <p>If you want to call a C function that's already loaded, either from the standard library or from your own program, you can pass the <span class="code">Str</span> type object as the argument to <span class="code">is native</span>, so <span class="code">is native(Str)</span>.</p>
 <p>For example on a UNIX-like operating system, you could use the following code to print the home directory of the current user:</p>
 <pre class="code">use NativeCall;
my class PwStruct is repr('CStruct') {
    has Str $.pw_name;
    has Str $.pw_passwd;
    has uint32 $.pw_uid;
    has uint32 $.pw_gid;
    has Str $.pw_gecos;
    has Str $.pw_dir;
    has Str $.pw_shell;
}
sub getuid()              returns uint32   is native(Str) { * };
sub getpwuid(uint32 $uid) returns PwStruct is native(Str) { * };

say getpwuid(getuid()).pw_dir;</pre>
 <p>Though of course <span class="code">$*HOME</span> is a much easier way :-)</p>
 <a name="t31.12"></a><h1 id="_language_nativecall.pod6-Exported_variables">31.12 Exported variables</h1>
 <p>Variables exported by a library – also named &quot;global&quot; or &quot;extern&quot; variables – can be accessed using <span class="code">cglobal</span>. For example:</p>
 <pre class="code">my $var := cglobal('libc.so.6', 'errno', int32) 
</pre>
 <p>This code binds to <span class="code">$var</span> a new <a href="#_type_Proxy.pod6">Proxy</a> object that redirects all its accesses to the integer variable named &quot;errno&quot; as exported by the &quot;libc.so.6&quot; library.</p>
 <a name="t31.13"></a><h1 id="_language_nativecall.pod6-C++_Support">31.13 C++ Support</h1>
 <p>NativeCall offers support to use classes and methods from C++ as shown in <a href="https://github.com/rakudo/rakudo/blob/master/t/04-nativecall/13-cpp-mangling.t">https://github.com/rakudo/rakudo/blob/master/t/04-nativecall/13-cpp-mangling.t</a> (and its associated C++ file). Note that at the moment it's not as tested and developed as C support.</p>
 <a name="t31.14"></a><h1 id="_language_nativecall.pod6-Helper_Functions">31.14 Helper Functions</h1>
 <p>The <span class="code">NativeCall</span> library exports several subroutines to help you work with data from native libraries.</p>
 <a name="t31.14.1"></a><h2 id="_language_nativecall.pod6-sub_nativecast">31.14.1 sub nativecast</h2>
 <pre class="code">sub nativecast($target-type, $source) is export(:DEFAULT)</pre>
 <p>This will <i>cast</i> the Pointer <span class="code">$source</span> to an object of <span class="code">$target-type</span>. The source pointer will typically have been obtained from a call to a native subroutine that returns a pointer or as a member of a <span class="code">struct</span>, this may be specified as <span class="code">void *</span> in the <span class="code">C</span> library definition for instance, but you may also cast from a pointer to a less specific type to a more specific one.</p>
 <p>As a special case, if a <a href="#_type_Signature.pod6">Signature</a> is supplied as <span class="code">$target-type</span> then a <span class="code">subroutine</span> will be returned which will call the native function pointed to by <span class="code">$source</span> in the same way as a subroutine declared with the <span class="code">native</span> trait. This is described in <a href="#30-Function_Pointers">Function Pointers</a>.</p>
 <a name="t31.14.2"></a><h2 id="_language_nativecall.pod6-sub_cglobal">31.14.2 sub cglobal</h2>
 <pre class="code">sub cglobal($libname, $symbol, $target-type) is export is rw</pre>
 <p>This returns a <a href="#_type_Proxy.pod6">Proxy</a> object that provides access to the <span class="code">extern</span> named <span class="code">$symbol</span> that is exposed by the specified library. The library can be specified in the same ways that they can be to the <span class="code">native</span> trait.</p>
 <a name="t31.14.3"></a><h2 id="_language_nativecall.pod6-sub_nativesizeof">31.14.3 sub nativesizeof</h2>
 <pre class="code">sub nativesizeof($obj) is export(:DEFAULT)</pre>
 <p>This returns the size in bytes of the supplied object, it can be thought of as being equivalent to <span class="code">sizeof</span> in <b>C</b>. The object can be a builtin native type such as <span class="code">int64</span> or <span class="code">num64</span>, a <span class="code">CArray</span> or a class with the <span class="code">repr</span> <span class="code">CStruct</span>, <span class="code">CUnion</span> or <span class="code">CPointer</span>.</p>
 <a name="t31.14.4"></a><h2 id="_language_nativecall.pod6-sub_explicitly-manage">31.14.4 sub explicitly-manage</h2>
 <pre class="code">sub explicitly-manage($str) is export(:DEFAULT)</pre>
 <p>This returns a <span class="code">CStr</span> object for the given <span class="code">Str</span>. If the string returned is passed to a NativeCall subroutine, it will not be freed by the runtime's garbage collector.</p>
 <a name="t31.15"></a><h1 id="_language_nativecall.pod6-Examples">31.15 Examples</h1>
 <p>Some examples can be found <a href="https://github.com/perl6/DBIish/tree/master/examples">in the DBIsh repository</a>.</p>
 <a name="t31.15.1"></a><h2 id="_language_nativecall.pod6-MySQL">31.15.1 MySQL</h2>
 <p>You'll need to install MySQL server locally; on Debian-esque systems it can be installed with something like:</p>
 <pre class="code">sudo apt-get install mysql-server 
</pre>
 <p>Prepare your system along these lines before trying out the examples:</p>
 <pre class="code">$ mysql -u root -p 
 UPDATE mysql.user SET password=password('sa') WHERE user = 'root'; 
 CREATE DATABASE test; 
</pre>
 <a name="t31.15.2"></a><h2 id="_language_nativecall.pod6-Microsoft_Windows">31.15.2 Microsoft Windows</h2>
 <p>Here is an example of a Windows API call:</p>
 <pre class="code">use NativeCall; 
 
 sub MessageBoxA(int32, Str, Str, int32) 
     returns int32 
     is native('user32') 
     { * } 
 
 MessageBoxA(0, &quot;We have NativeCall&quot;, &quot;ohai&quot;, 64); 
</pre>
 <a name="t31.15.3"></a><h2 id="_language_nativecall.pod6-Short_Tutorial_on_calling_a_C_function">31.15.3 Short Tutorial on calling a C function</h2>
 <p>This is an example for calling a standard function and using the returned information in a Perl 6 program.</p>
 <p><span class="code">getaddrinfo</span> is a POSIX standard function for obtaining network information about a network node, e.g., <span class="code">google.com</span>. It is an interesting function to look at because it illustrates a number of the elements of NativeCall.</p>
 <p>The Linux manual provides the following information about the C callable function:</p>
 <pre class="code">int getaddrinfo(const char *node, const char *service, 
        const struct addrinfo *hints, 
        struct addrinfo **res); 
</pre>
 <p>The function returns a response code 0 = error, 1 = success. The data are extracted from a linked list of <span class="code">addrinfo</span> elements, with the first element pointed to by <span class="code">res</span>.</p>
 <p>From the table of NativeCall Types we know that an <span class="code">int</span> is <span class="code">int32</span>. We also know that a <span class="code">char *</span> is one of the forms C for a C <span class="code">Str</span>, which maps simply to Str. But <span class="code">addrinfo</span> is a structure, which means we will need to write our own Type class. However, the function declaration is straightforward:</p>
 <pre class="code">sub getaddrinfo( Str $node, Str $service, Addrinfo $hints, Pointer $res is rw ) 
     returns int32 
     is native(Str) 
     { * } 
</pre>
 <p>Note that $res is to be written by the function, so it must be labeled as rw. Since the library is standard POSIX, the library name can be the Type definition or null.</p>
 <p>We now have to handle structure Addrinfo. The Linux Manual provides this information:</p>
 <pre class="code">struct addrinfo { 
                int              ai_flags; 
                int              ai_family; 
                int              ai_socktype; 
                int              ai_protocol; 
                socklen_t        ai_addrlen; 
                struct sockaddr *ai_addr; 
                char            *ai_canonname; 
                struct addrinfo *ai_next; 
            }; 
</pre>
 <p>The <span class="code">int, char*</span> parts are straightforward. Some research indicates that <span class="code">socklen_t</span> can be architecture dependent, but is an unsigned integer of at least 32 bits. So <span class="code">socklen_t</span> can be mapped to the <span class="code">uint32</span> type.</p>
 <p>The complication is <span class="code">sockaddr</span> which differs depending on whether <span class="code">ai_socktype</span> is undefined, INET, or INET6 (a standard v4 IP address or a v6 address).</p>
 <p>So we create a Perl 6 <span class="code">class</span> to map to the C <span class="code">struct addrinfo</span>; while we're at it, we also create another class for <span class="code">SockAddr</span> which is needed for it.</p>
 <pre class="code">class SockAddr is repr('CStruct') { 
     has int32    $.sa_family; 
     has Str      $.sa_data; 
 } 
 
 class Addrinfo is repr('CStruct') { 
     has int32     $.ai_flags; 
     has int32     $.ai_family; 
     has int32     $.ai_socktype; 
     has int32     $.ai_protocol; 
     has int32     $.ai_addrlen; 
     has SockAddr  $.ai_addr       is rw; 
     has Str       $.ai_cannonname is rw; 
     has Addrinfo  $.ai_next       is rw; 
 
 } 
</pre>
 <p>The <span class="code">is rw</span> on the last three attributes reflects that these were defined in C to be pointers.</p>
 <p>The important thing here for mapping to a C <span class="code">Struct</span> is the structure of the state part of the class, that is the attributes. However, a class can have methods and <span class="code">NativeCall</span> does not 'touch' them for mapping to C. This means that we can add extra methods to the class to unpack the attributes in a more readable manner, e.g.,</p>
 <pre class="code">method flags { 
     do for AddrInfo-Flags.enums { .key if $!ai_flags +&amp; .value } 
 } 
</pre>
 <p>By defining an appropriate <span class="code">enum</span>, <span class="code">flags</span> will return a string of keys rather than a bit packed integer.</p>
 <p>The most useful information in the <span class="code">sockaddr</span> structure is the address of node, which depends on the family of the Socket. So we can add method <span class="code">address</span> to the Perl 6 class that interprets the address depending on the family.</p>
 <p>In order to get a human readable IP address, there is the C funtion <span class="code">inet_ntop</span> which returns a <span class="code">char *</span> given a buffer with the <span class="code">addrinfo</span>.</p>
 <p>Putting all these together, leads to the following program:</p>
 <pre class="code">#!/usr/bin/env perl6 
 
 use v6; 
 use NativeCall; 
 
 constant \INET_ADDRSTRLEN = 16; 
 constant \INET6_ADDRSTRLEN = 46; 
 
 enum AddrInfo-Family ( 
     AF_UNSPEC                   =&gt; 0; 
     AF_INET                     =&gt; 2; 
     AF_INET6                    =&gt; 10; 
 ); 
 
 enum AddrInfo-Socktype ( 
     SOCK_STREAM                 =&gt; 1; 
     SOCK_DGRAM                  =&gt; 2; 
     SOCK_RAW                    =&gt; 3; 
     SOCK_RDM                    =&gt; 4; 
     SOCK_SEQPACKET              =&gt; 5; 
     SOCK_DCCP                   =&gt; 6; 
     SOCK_PACKET                 =&gt; 10; 
 ); 
 
 enum AddrInfo-Flags ( 
     AI_PASSIVE                  =&gt; 0x0001; 
     AI_CANONNAME                =&gt; 0x0002; 
     AI_NUMERICHOST              =&gt; 0x0004; 
     AI_V4MAPPED                 =&gt; 0x0008; 
     AI_ALL                      =&gt; 0x0010; 
     AI_ADDRCONFIG               =&gt; 0x0020; 
     AI_IDN                      =&gt; 0x0040; 
     AI_CANONIDN                 =&gt; 0x0080; 
     AI_IDN_ALLOW_UNASSIGNED     =&gt; 0x0100; 
     AI_IDN_USE_STD3_ASCII_RULES =&gt; 0x0200; 
     AI_NUMERICSERV              =&gt; 0x0400; 
 ); 
 
 sub inet_ntop(int32, Pointer, Blob, int32 --&gt; Str) 
     is native() {} 
 
 class SockAddr is repr('CStruct') { 
     has uint16 $.sa_family; 
 } 
 
 class SockAddr-in is repr('CStruct') { 
     has int16 $.sin_family; 
     has uint16 $.sin_port; 
     has uint32 $.sin_addr; 
 
     method address { 
         my $buf = buf8.allocate(INET_ADDRSTRLEN); 
         inet_ntop(AF_INET, Pointer.new(nativecast(Pointer,self)+4), 
             $buf, INET_ADDRSTRLEN) 
     } 
 } 
 
 class SockAddr-in6 is repr('CStruct') { 
     has uint16 $.sin6_family; 
     has uint16 $.sin6_port; 
     has uint32 $.sin6_flowinfo; 
     has uint64 $.sin6_addr0; 
     has uint64 $.sin6_addr1; 
     has uint32 $.sin6_scope_id; 
 
     method address { 
         my $buf = buf8.allocate(INET6_ADDRSTRLEN); 
         inet_ntop(AF_INET6, Pointer.new(nativecast(Pointer,self)+8), 
             $buf, INET6_ADDRSTRLEN) 
     } 
 } 
 
 class Addrinfo is repr('CStruct') { 
     has int32 $.ai_flags; 
     has int32 $.ai_family; 
     has int32 $.ai_socktype; 
     has int32 $.ai_protocol; 
     has uint32 $.ai_addrNativeCalllen; 
     has SockAddr $.ai_addr is rw; 
     has Str $.ai_cannonname is rw; 
     has Addrinfo $.ai_next is rw; 
 
     method flags { 
         do for AddrInfo-Flags.enums { .key if $!ai_flags +&amp; .value } 
     } 
 
     method family { 
         AddrInfo-Family($!ai_family) 
     } 
 
     method socktype { 
         AddrInfo-Socktype($!ai_socktype) 
     } 
 
     method address { 
         given $.family { 
             when AF_INET { 
                 nativecast(SockAddr-in, $!ai_addr).address 
             } 
             when AF_INET6 { 
                 nativecast(SockAddr-in6, $!ai_addr).address 
             } 
         } 
     } 
 } 
 
 sub getaddrinfo(Str $node, Str $service, Addrinfo $hints, 
                 Pointer $res is rw --&gt; int32) 
     is native() {}; 
 
 sub freeaddrinfo(Pointer) 
     is native() {} 
 
 sub MAIN() { 
     my Addrinfo $hint .= new(:ai_flags(AI_CANONNAME)); 
     my Pointer $res .= new; 
     my $rv = getaddrinfo(&quot;google.com&quot;, Str, $hint, $res); 
     say &quot;return val: $rv&quot;; 
     if ( ! $rv ) { 
         my $addr = nativecast(Addrinfo, $res); 
         while $addr { 
             with $addr { 
                 say &quot;Name: &quot;, $_ with .ai_cannonname; 
                 say .family, ' ', .socktype; 
                 say .address; 
                 $addr = .ai_next; 
             } 
         } 
     } 
     freeaddrinfo($res); 
 } 
</pre>
 <p>This produces the following output:</p>
 <pre class="code">return val: 0 
 Name: google.com 
 AF_INET SOCK_STREAM 
 216.58.219.206 
 AF_INET SOCK_DGRAM 
 216.58.219.206 
 AF_INET SOCK_RAW 
 216.58.219.206 
 AF_INET6 SOCK_STREAM 
 2607:f8b0:4006:800::200e 
 AF_INET6 SOCK_DGRAM 
 2607:f8b0:4006:800::200e 
 AF_INET6 SOCK_RAW 
 2607:f8b0:4006:800::200e 
</pre>
</div>
<!-- /language/objects.pod6 --><div class="pod-body"><a id="_language_objects.pod6"></a><a name="t32"><h1 class="title">32 Object Orientation</h1></a> <p class="subtitle">Object Orientation in Perl 6</p> <p>Perl 6 provides strong support for object oriented programming. Although Perl 6 allows programmers to program in multiple paradigms, object oriented programming is at the heart of the language.</p>
 <p>Perl 6 comes with a wealth of predefined types, which can be classified in two categories: normal and <i>native</i> types.</p>
 <p>Native types are used for low-level types (like <span class="code">uint64</span>). They do not have the same capabilities as objects, though if you call methods on them, they are <i>boxed</i> into normal objects.</p>
 <p>Everything that you can store in a variable is either a native value or an object. That includes literals, types (type objects), code and containers.</p>
 <a name="t32.1"></a><h1 id="_language_objects.pod6-Using_Objects">32.1 Using Objects</h1>
 <p>To call a method on an object, add a dot, followed by the method name:</p>
 <pre class="code">say &quot;abc&quot;.uc; 
 # OUTPUT: «ABC␤» 
</pre>
 <p>This calls the <span class="code">uc</span> method on <span class="code">&quot;abc&quot;</span>, which is an object of type <span class="code">Str</span>. To supply arguments to the method, add arguments inside parentheses after the method.</p>
 <pre class="code">my $formatted-text = &quot;Fourscore and seven years ago...&quot;.indent(8); 
 say $formatted-text; 
 # OUTPUT: «        Fourscore and seven years ago...␤» 
</pre>
 <p><span class="code">$formatted-text</span> now contains the above text, but indented 8 spaces.</p>
 <p>Multiple arguments are separated by commas:</p>
 <pre class="code">my @words = &quot;Abe&quot;, &quot;Lincoln&quot;; 
 @words.push(&quot;said&quot;, $formatted-text.comb(/\w+/)); 
 say @words; 
 # OUTPUT: «[Abe Lincoln said (Fourscore and seven years ago)]␤» 
</pre>
 <p>Multiple arguments can be specified by separating the argument list with a colon:</p>
 <pre class="code">say @words.join: '--'; 
 # OUTPUT: «Abe--Lincoln--said--Fourscore--and--seven--years--ago␤» 
</pre>
 <p>Since you have to put a <span class="code">:</span> after the method if you want to pass arguments without parentheses, a method call without a colon or parentheses is unambiguously a method call without an argument list:</p>
 <pre class="code">say 4.log:   ; # OUTPUT: «1.38629436111989␤» ( natural logarithm of 4 )
say 4.log: +2; # OUTPUT: «2␤» ( base-2 logarithm of 4 )
say 4.log  +2; # OUTPUT: «3.38629436111989␤» ( natural logarithm of 4, plus 2 )</pre>
 <p>Many operations that don't look like method calls (for example, smart matching, or interpolating an object into a string) result in method calls under the hood.</p>
 <p>Methods can return mutable containers, in which case you can assign to the return value of a method call. This is how read-writable attributes to objects are used:</p>
 <pre class="code">$*IN.nl-in = &quot;\r\n&quot;; 
</pre>
 <p>Here, we call method <span class="code">nl-in</span> on the <span class="code">$*IN</span> object, without arguments, and assign to the container it returned with the <a href="="><span class="code">=</span></a> operator.</p>
 <p>All objects support methods from class <a href="#_type_Mu.pod6">Mu</a>, which is the type hierarchy root. All objects derive from <span class="code">Mu</span>.</p>
 <a name="t32.1.1"></a><h2 id="_language_objects.pod6-Type_Objects">32.1.1 Type Objects</h2>
 <p>Types themselves are objects and you can get the <i>type object</i> by writing its name:</p>
 <pre class="code">my $int-type-obj = Int; 
</pre>
 <p>You can ask any object for its type object by calling the <span class="code">WHAT</span> method (which is actually a macro in method form):</p>
 <pre class="code">my $int-type-obj = 1.WHAT; 
</pre>
 <p>Type objects (other than <a href="#_type_Mu.pod6">Mu</a>) can be compared for equality with the <a href="==="><span class="code">===</span></a> identity operator:</p>
 <pre class="code">sub f(Int $x) { 
     if $x.WHAT === Int { 
         say 'you passed an Int'; 
     } 
     else { 
         say 'you passed a subtype of Int'; 
     } 
 } 
</pre>
 <p>Although, in most cases, the <a href="#_routine_isa.pod6"><span class="code">.isa</span></a> method will suffice:</p>
 <pre class="code">sub f($x) { 
     if $x.isa(Int) { 
         ... 
     } 
     ... 
 } 
</pre>
 <p>Subtype checking is done by <a href="#_language_operators.pod6-infix_~~">smart-matching</a>:</p>
 <pre class="code">if $type ~~ Real { 
     say '$type contains Real or a subtype thereof'; 
 } 
</pre>
 <a name="t32.2"></a><h1 id="_language_objects.pod6-Classes">32.2 <a name="313"></a>Classes</h1>
 <p>Classes are declared using the <span class="code">class</span> keyword, typically followed by a name.</p>
 <pre class="code">class Journey { }</pre>
 <p>This declaration results in a type object being created and installed in the current package and current lexical scope under the name <span class="code">Journey</span>. You can also declare classes lexically:</p>
 <pre class="code">my class Journey { }</pre>
 <p>This restricts their visibility to the current lexical scope, which can be useful if the class is an implementation detail nested inside a module or another class.</p>
 <a name="t32.2.1"></a><h2 id="_language_objects.pod6-Attributes">32.2.1 Attributes <a name="314"></a> <a name="315"></a> <a name="316"></a> <a name="317"></a></h2>
 <p>Attributes are variables that exist per instance of a class. They are where the state of an object is stored. In Perl 6, all attributes are private. They are typically declared using the <span class="code">has</span> declarator and the <span class="code">!</span> twigil.</p>
 <pre class="code">class Journey {
    has $!origin;
    has $!destination;
    has @!travelers;
    has $!notes;
}</pre>
 <p>While there is no such thing as a public (or even protected) attribute, there is a way to have accessor methods generated automatically: replace the <span class="code">!</span> twigil with the <span class="code">.</span> twigil (the <span class="code">.</span> should remind you of a method call).</p>
 <pre class="code">class Journey {
    has $.origin;
    has $.destination;
    has @!travelers;
    has $.notes;
}</pre>
 <p>This defaults to providing a read-only accessor. In order to allow changes to the attribute, add the <a href="#_routine_is rw.pod6">is rw</a> trait:</p>
 <pre class="code">class Journey {
    has $.origin;
    has $.destination;
    has @!travelers;
    has $.notes is rw;
}</pre>
 <p>Now, after a <span class="code">Journey</span> object is created, its <span class="code">.origin</span>, <span class="code">.destination</span>, and <span class="code">.notes</span> will all be accessible from outside the class, but only <span class="code">.notes</span> can be modified.</p>
 <p>If an object is instantiated without certain attributes, such as origin or destination, we may not get the desired result. To prevent this, provide default values or make sure that an attribute is set on object creation by marking an attribute with an <a href="#_routine_is required.pod6">is required</a> trait.</p>
 <pre class="code">class Journey {
    # error if origin is not provided
    has $.origin is required;
    # set the destination to Orlando as default (unless that is the origin!)
    has $.destination = self.origin eq 'Orlando' ?? 'Kampala' !! 'Orlando';
    has @!travelers;
    has $.notes is rw;
}</pre>
 <p>Since classes inherit a default constructor from <span class="code">Mu</span> and we have requested that some accessor methods are generated for us, our class is already somewhat functional.</p>
 <pre class="code"># Create a new instance of the class. 
 my $vacation = Journey.new( 
     origin      =&gt; 'Sweden', 
     destination =&gt; 'Switzerland', 
     notes       =&gt; 'Pack hiking gear!' 
 ); 
 
 # Use an accessor; this outputs Sweden. 
 say $vacation.origin; 
 
 # Use an rw accessor to change the value. 
 $vacation.notes = 'Pack hiking gear and sunglasses!'; 
</pre>
 <p>Note that, although the default constructor can initialize read-only attributes, it will only set attributes that have an accessor method. That is, even if you pass <span class="code">travelers =&gt; [&quot;Alex&quot;, &quot;Betty&quot;]</span> to the default constructor, the attribute <span class="code">@!travelers</span> is not initialized.</p>
 <a name="t32.2.2"></a><h2 id="_language_objects.pod6-Methods">32.2.2 Methods</h2>
 <p>Methods are declared with the <span class="code">method</span> keyword inside a class body.</p>
 <pre class="code">class Journey { 
     has $.origin; 
     has $.destination; 
     has @!travelers; 
     has $.notes is rw; 
 
     method add-traveler($name) { 
         if $name ne any(@!travelers) { 
             push @!travelers, $name; 
         } 
         else { 
             warn &quot;$name is already going on the journey!&quot;; 
         } 
     } 
 
     method describe() { 
         &quot;From $!origin to $!destination&quot; 
     } 
 } 
</pre>
 <p>A method can have a signature, just like a subroutine. Attributes can be used in methods and can always be used with the <span class="code">!</span> twigil, even if they are declared with the <span class="code">.</span> twigil. This is because the <span class="code">.</span> twigil declares a <span class="code">!</span> twigil and generates an accessor method.</p>
 <p>Looking at the code above, there is a subtle but important difference between using <span class="code">$!origin</span> and <span class="code">$.origin</span> in the method <span class="code">describe</span>. <span class="code">$!origin</span> is an inexpensive and obvious lookup of the attribute. <span class="code">$.origin</span> is a method call and thus may be overridden in a subclass. Only use <span class="code">$.origin</span> if you want to allow overriding.</p>
 <p>Unlike subroutines, additional named arguments will not produce compile time or runtime errors. That allows chaining of methods via <a href="#_language_functions.pod6-Re-dispatching">Re-dispatching</a>.</p>
 <p>You may write your own accessors to override any or all of the autogenerated ones.</p>
 <pre class="code">my $ⲧ = &quot; &quot; xx 4;
class Journey {
    has $.origin;
    has $.destination;
    has @.travelers;
    has Str $.notes is rw;

    multi method notes() { &quot;$!notes\n&quot; };
    multi method notes( Str $note ) { $!notes ~= &quot;$note\n$ⲧ&quot; };

    method Str { &quot;⤷ $!origin\n$ⲧ&quot; ~ self.notes() ~ &quot;$!destination ⤶\n&quot; };
}

my $trip = Journey.new( :origin&lt;Here&gt;, :destination&lt;There&gt;,
                        travelers =&gt; &lt;þor Freya&gt; );

$trip.notes(&quot;First steps&quot;);
$trip.notes(&quot;Almost there&quot;);
print $trip;

# OUTPUT:
#⤷ Here
#       First steps
#       Almost there
#
#There ⤶</pre>
 <p>The declared multi method <span class="code">notes</span> overrides the auto-generated methods implicit in the declaration of <span class="code">$.notes</span>, using a different signature for reading and writing.</p>
 <p>Method names can be resolved at runtime with the <span class="code">.&quot;&quot;</span> operator.</p>
 <pre class="code">class A { has $.b };
my $name = 'b';
A.new.&quot;$name&quot;().say;
# OUTPUT: «(Any)␤»</pre>
 <p>The syntax used to update <span class="code">$.notes</span> changed in this section with respect to the previous <a href="#31-Attributes">#Attributes</a> section. Instead of an assignment:</p>
 <pre class="code">    $vacation.notes = 'Pack hiking gear and sunglasses!'; 
</pre>
 <p>we now do a method call:</p>
 <pre class="code">    $trip.notes(&quot;First steps&quot;); 
</pre>
 <p>Overriding the default auto-generated accessor means it is no longer available to provide a mutable container on return for an assignment. A method call is the preferred approach to adding computation and logic to the update of an attribute. Many modern languages can update an attribute by overloading assignment with a “setter” method. While Perl 6 can overload the assignment operator for this purpose with a <a href="https://github.com/perl6/roast/blob/master/S12-attributes/mutators.t"><span class="code">Proxy</span></a> object, overloading assignment to set attributes with complex logic is currently discouraged as <a href="https://6guts.wordpress.com/2016/11/25/perl-6-is-biased-towards-mutators-being-really-simple-thats-a-good-thing/">weaker object oriented design</a>.</p>
 <a name="t32.2.3"></a><h2 id="_language_objects.pod6-Class_and_Instance_Methods">32.2.3 Class and Instance Methods</h2>
 <p>A method's signature can have an <i>invocant</i> as its first parameter followed by a colon, which allows for the method to refer to the object it was called on.</p>
 <pre class="code">class Foo {
    method greet($me: $person) {
        say &quot;Hi, I am $me.^name(), nice to meet you, $person&quot;;
    }
}
Foo.new.greet(&quot;Bob&quot;);    # OUTPUT: «Hi, I am Foo, nice to meet you, Bob␤»</pre>
 <p>Providing an invocant in the method signature also allows for defining the method as either as a class method, or as an object method, through the use of <a href="#_type_Signature.pod6-Type_Constraints">type constraints</a>. The <span class="code">::?CLASS</span> variable can be used to provide the class name at compile time, combined with either <span class="code">:U</span> (for class methods) or <span class="code">:D</span> (for instance methods).</p>
 <pre class="code">class Pizza {
    has $!radius = 42;
    has @.ingredients;

    # class method: construct from a list of ingredients
    method from-ingredients(::?CLASS:U $pizza: @ingredients) {
        $pizza.new( ingredients =&gt; @ingredients );
    }

    # instance method
    method get-radius(::?CLASS:D:) { $!radius }
}
my $p = Pizza.from-ingredients: &lt;cheese pepperoni vegetables&gt;;
say $p.ingredients;     # OUTPUT: «[cheese pepperoni vegetables]␤»
say $p.get-radius;      # OUTPUT: «42␤»
say Pizza.get-radius;   # This will fail.
CATCH { default { put .^name ~ &quot;:\n&quot; ~ .Str } };
# OUTPUT: «X::Parameter::InvalidConcreteness:␤
#          Invocant of method 'get-radius' must be
#          an object instance of type 'Pizza',
#          not a type object of type 'Pizza'.
#          Did you forget a '.new'?»</pre>
 <p>A method can be both a class and object method by using the <a href="#_syntax_multi.pod6">multi</a> declarator:</p>
 <pre class="code">class C {
    multi method f(::?CLASS:U:) { say &quot;class method&quot;  }
    multi method f(::?CLASS:D:) { say &quot;object method&quot; }
}
C.f;       # OUTPUT: «class method␤»
C.new.f;   # OUTPUT: «object method␤»</pre>
 <a name="t32.2.4"></a><h2 id="_language_objects.pod6-self">32.2.4 self</h2>
 <p>Inside a method, the term <span class="code">self</span> is available, which is bound to the invocant. <span class="code">self</span> can be used to call further methods on the invocant, including constructors:</p>
 <pre class="code">class Box {
  has $.data;

  method make-new-box-from() {
      self.new: data =&gt; $!data;
  }
}</pre>
 <p><span class="code">self</span> can be used in class or instance methods as well, though beware of trying to invoke one type of method from the other:</p>
 <pre class="code">class C {
    method g()            { 42     }
    method f(::?CLASS:U:) { self.g }
    method d(::?CLASS:D:) { self.f }
}
C.f;        # OUTPUT: «42␤»
C.new.d;    # This will fail.
CATCH { default { put .^name ~ &quot;:\n&quot; ~ .Str } };
# OUTPUT: «X::Parameter::InvalidConcreteness:␤
#          Invocant of method 'f' must be a type object of type 'C',
#          not an object instance of type 'C'.  Did you forget a 'multi'?»</pre>
 <p>Within methods, <span class="code">$.origin</span> works the same as <span class="code">self.origin</span>, however the colon-syntax for method arguments is only supported for method calls using <span class="code">self</span>, not the shortcut.</p>
 <p>Note that if the relevant methods <span class="code">bless</span>, <span class="code">CREATE</span> of <a href="#_type_Mu.pod6">Mu</a> are not overloaded, <span class="code">self</span> will point to the type object in those methods.</p>
 <p>On the other hand, <span class="code">BUILDALL</span> and the submethods <span class="code">BUILD</span> and <span class="code">TWEAK</span> are called on instances, in different stages of initialization. In the latter two submethods, submethods of the same name from subclasses have not yet run, so you should not rely on potentially virtual method calls inside these methods.</p>
 <a name="t32.2.5"></a><h2 id="_language_objects.pod6-Private_Methods">32.2.5 Private Methods</h2>
 <p>Methods with an exclamation mark <span class="code">!</span> before the method name are not callable from anywhere outside the defining class; such methods are private in the sense that they are not visible from outside the class that declares them. Private methods are invoked with an exclamation mark instead of a dot:</p>
 <pre class="code">method !do-something-private($x) {
    ...
}
method public($x) {
    if self.precondition {
        self!do-something-private(2 * $x)
    }
}</pre>
 <p>Private methods are not inherited by subclasses.</p>
 <a name="t32.2.6"></a><h2 id="_language_objects.pod6-Submethods">32.2.6 Submethods</h2>
 <p>Submethods are public methods that are not inherited by subclasses. The name stems from the fact that they are semantically similar to subroutines.</p>
 <p>Submethods are useful for object construction and destruction tasks, as well as for tasks that are so specific to a certain type that subtypes must certainly override them.</p>
 <p>For example, the <a href="#_type_Mu.pod6-method_new">default method new</a> calls submethod <span class="code">BUILD</span> on each class in an <a href="#31-Inheritance">inheritance</a> chain:</p>
 <pre class="code">class Point2D { 
     has $.x; 
     has $.y; 
 
     submethod BUILD(:$!x, :$!y) { 
         say &quot;Initializing Point2D&quot;; 
     } 
 } 
 
 class InvertiblePoint2D is Point2D { 
     submethod BUILD() { 
         say &quot;Initializing InvertiblePoint2D&quot;; 
     } 
     method invert { 
         self.new(x =&gt; - $.x, y =&gt; - $.y); 
     } 
 } 
 
 say InvertiblePoint2D.new(x =&gt; 1, y =&gt; 2); 
 # OUTPUT: «Initializing Point2D␤» 
 # OUTPUT: «Initializing InvertiblePoint2D␤» 
 # OUTPUT: «InvertiblePoint2D.new(x =&gt; 1, y =&gt; 2)␤» 
</pre>
 <p>See also: <a href="#31-Object Construction">#Object Construction</a>.</p>
 <a name="t32.2.7"></a><h2 id="_language_objects.pod6-Inheritance">32.2.7 Inheritance</h2>
 <p>Classes can have <i>parent classes</i>.</p>
 <pre class="code">class Child is Parent1 is Parent2 { } 
</pre>
 <p>If a method is called on the child class, and the child class does not provide that method, the method of that name in one of the parent classes is invoked instead, if it exists. The order in which parent classes are consulted is called the <i>method resolution order</i> (MRO). Perl 6 uses the <a href="https://en.wikipedia.org/wiki/C3_linearization">C3 method resolution order</a>. You can ask a type for its MRO through a call to its meta class:</p>
 <pre class="code">say List.^mro;      # ((List) (Cool) (Any) (Mu))</pre>
 <p>If a class does not specify a parent class, <a href="#_type_Any.pod6">Any</a> is assumed by default. All classes directly or indirectly derive from <a href="#_type_Mu.pod6">Mu</a>, the root of the type hierarchy.</p>
 <p>All calls to public methods are &quot;virtual&quot; in the C++ sense, which means that the actual type of an object determines which method to call, not the declared type:</p>
 <pre class="code">class Parent { 
     method frob { 
         say &quot;the parent class frobs&quot; 
     } 
 } 
 
 class Child is Parent { 
     method frob { 
         say &quot;the child's somewhat more fancy frob is called&quot; 
     } 
 } 
 
 my Parent $test; 
 $test = Child.new; 
 $test.frob;          # calls the frob method of Child rather than Parent 
 # OUTPUT: «the child's somewhat more fancy frob is called␤» 
</pre>
 <a name="t32.2.8"></a><h2 id="_language_objects.pod6-Object_Construction">32.2.8 <a name="318"></a>Object Construction</h2>
 <p>Objects are generally created through method calls, either on the type object or on another object of the same type.</p>
 <p>Class <a href="#_type_Mu.pod6">Mu</a> provides a constructor method called <a href="#_routine_new.pod6">new</a>, which takes named arguments and uses them to initialize public attributes.</p>
 <pre class="code">class Point {
    has $.x;
    has $.y;
}
my $p = Point.new( x =&gt; 5, y =&gt; 2);
#             ^^^ inherited from class Mu
say &quot;x: &quot;, $p.x;
say &quot;y: &quot;, $p.y;
# OUTPUT: «x: 5␤»
# OUTPUT: «y: 2␤»</pre>
 <p><span class="code">Mu.new</span> calls method <a href="#_routine_bless.pod6">bless</a> on its invocant, passing all the named arguments. <span class="code">bless</span> creates the new object and then calls method <span class="code">BUILDALL</span> on it. <span class="code">BUILDALL</span> walks all subclasses in reverse method resolution order (i.e. from <a href="#_type_Mu.pod6">Mu</a> to most derived classes) and in each class checks for the existence of a method named <span class="code">BUILD</span>. If the method exists, the method is called with all the named arguments from the <span class="code">new</span> method. If not, the public attributes from this class are initialized from named arguments of the same name. In either case, if neither <span class="code">BUILD</span> nor the default mechanism has initialized the attribute, default values are applied.</p>
 <p><span class="indexed"><a id="319" name="TWEAK"></a></span> After the <span class="code">BUILD</span> methods have been called, methods named <span class="code">TWEAK</span> are called, if they exist, again with all the named arguments that were passed to <span class="code">new</span>. See an example of its use below.</p>
 <p>Due to the default behavior of <span class="code">BUILDALL</span> and <span class="code">BUILD</span> submethods, named arguments to the constructor <span class="code">new</span> derived from <span class="code">Mu</span> can correspond directly to public attributes of any of the classes in the method resolution order, or to any named parameter of any <span class="code">BUILD</span> submethod.</p>
 <p>This object construction scheme has several implications for customized constructors. First, custom <span class="code">BUILD</span> methods should always be submethods, otherwise they break attribute initialization in subclasses. Second, <span class="code">BUILD</span> submethods can be used to run custom code at object construction time. They can also be used for creating aliases for attribute initialization:</p>
 <pre class="code">class EncodedBuffer { 
     has $.enc; 
     has $.data; 
 
     submethod BUILD(:encoding(:$enc), :$data) { 
         $!enc  :=  $enc; 
         $!data := $data; 
     } 
 } 
 my $b1 = EncodedBuffer.new( encoding =&gt; 'UTF-8', data =&gt; [64, 65] ); 
 my $b2 = EncodedBuffer.new( enc      =&gt; 'UTF-8', data =&gt; [64, 65] ); 
 #  both enc and encoding are allowed now 
</pre>
 <p>Since passing arguments to a routine binds the arguments to the parameters, a separate binding step is unnecessary if the attribute is used as a parameter. Hence the example above could also have been written as:</p>
 <pre class="code">submethod BUILD(:encoding(:$!enc), :$!data) { 
     # nothing to do here anymore, the signature binding 
     # does all the work for us. 
 } 
</pre>
 <p>However, be careful when using this auto-binding of attributes when the attribute may have special type requirements, such as an <span class="code">:$!id</span> that must be a positive integer. Remember, default values will be assigned unless you specifically take care of this attribute, and that default value will be <span class="code">Any</span>, which would cause a type error.</p>
 <p>The third implication is that if you want a constructor that accepts positional arguments, you must write your own <span class="code">new</span> method:</p>
 <pre class="code">class Point {
    has $.x;
    has $.y;
    method new($x, $y) {
        self.bless(:$x, :$y);
    }
}</pre>
 <p>However this is considered poor practice, because it makes correct initialization of objects from subclasses harder.</p>
 <p>Another thing to note is that the name <span class="code">new</span> is not special in Perl 6. It is merely a common convention. You can call <span class="code">bless</span> from any method at all, or use <span class="code">CREATE</span> to fiddle around with low-level workings.</p>
 <p>Another pattern of hooking into object construction is by writing your own method <span class="code">BUILDALL</span>. To make sure that initialization of superclasses works fine, you need to <span class="code">callsame</span> to invoke the parent classes <span class="code">BUILDALL</span>.</p>
 <pre class="code">class MyClass { 
     method BUILDALL(|) { 
         # initial things here 
 
         callsame;   # call the parent classes (or default) BUILDALL 
 
         # you can do final checks here. 
 
         self # return the fully built object 
     } 
 } 
</pre>
 <p>The <span class="code">TWEAK</span> method allows you to check things or modify attributes after object construction:</p>
 <pre class="code">class RectangleWithCachedArea { 
     has ($.x1, $.x2, $.y1, $.y2); 
     has $.area; 
     submethod TWEAK() { 
         $!area = abs( ($!x2 - $!x1) * ( $!y2 - $!y1) ); 
     } 
 } 
 
 say RectangleWithCachedArea.new( x2 =&gt; 5, x1 =&gt; 1, y2 =&gt; 1, y1 =&gt; 0).area; 
 # OUTPUT: «4␤» 
</pre>
 <a name="t32.2.9"></a><h2 id="_language_objects.pod6-Object_Cloning">32.2.9 Object Cloning</h2>
 <p>The cloning is done using <a href="#_routine_clone.pod6">clone</a> method available on all objects, which shallow-clones both public and private attributes. New values for <i>public</i> attributes can be supplied as named arguments.</p>
 <pre class="code">class Foo { 
     has $.foo = 42; 
     has $.bar = 100; 
 } 
 
 my $o1 = Foo.new; 
 my $o2 = $o1.clone: :bar(5000); 
 say $o1; # Foo.new(foo =&gt; 42, bar =&gt; 100) 
 say $o2; # Foo.new(foo =&gt; 42, bar =&gt; 5000) 
</pre>
 <p>See document for <a href="#_routine_clone.pod6">clone</a> for details on how non-scalar attributes get cloned, as well as examples of implementing your own custom clone methods.</p>
 <a name="t32.3"></a><h1 id="_language_objects.pod6-Roles">32.3 <a name="320"></a>Roles</h1>
 <p>Roles are in some ways similar to classes, in that they are a collection of attributes and methods. They differ in that roles are also meant for describing only parts of an object's behavior and in how roles are applied to classes. Or to phrase it differently, classes are meant for managing objects and roles are meant for managing behavior and code reuse.</p>
 <pre class="code">use MONKEY-SEE-NO-EVAL; 
 role Serializable { 
     method serialize() { 
         self.perl; # very primitive serialization 
     } 
     method deserialize($buf) { 
         EVAL $buf; # reverse operation to .perl 
     } 
 } 
 
 class Point does Serializable { 
     has $.x; 
     has $.y; 
 } 
 my $p = Point.new(:x(1), :y(2)); 
 my $serialized = $p.serialize; 
 my $clone-of-p = Point.deserialize($serialized); 
 say $clone-of-p.x; # OUTPUT: «1␤» 
</pre>
 <p>Roles are immutable as soon as the compiler parses the closing curly brace of the role declaration.</p>
 <a name="t32.3.1"></a><h2 id="_language_objects.pod6-Application_of_Role">32.3.1 Application of Role</h2>
 <p>Role application differs significantly from class inheritance. When a role is applied to a class, the methods of that role are copied into the class. If multiple roles are applied to the same class, conflicts (e.g. attributes or non-multi methods of the same name) cause a compile-time error, which can be solved by providing a method of the same name in the class.</p>
 <p>This is much safer than multiple inheritance, where conflicts are never detected by the compiler, but are instead resolved to the superclass that appears earlier in the method resolution order, which might not be what the programmer wanted.</p>
 <p>For example, if you've discovered an efficient method to ride cows, and are trying to market it as a new form of popular transportation, you might have a class <span class="code">Bull</span>, for all the bulls you keep around the house, and a class <span class="code">Automobile</span>, for things that you can drive.</p>
 <pre class="code">class Bull {
    has Bool $.castrated = False;
    method steer {
        # Turn your bull into a steer
        $!castrated = True;
        return self;
    }
}
class Automobile {
    has $.direction;
    method steer($!direction) { }
}
class Taurus is Bull is Automobile { }

my $t = Taurus.new;
say $t.steer;
# OUTPUT: «Taurus.new(castrated =&gt; Bool::True, direction =&gt; Any)␤»</pre>
 <p>With this setup, your poor customers will find themselves unable to turn their Taurus and you won't be able to make more of your product! In this case, it may have been better to use roles:</p>
 <pre class="code">role Bull-Like { 
     has Bool $.castrated = False; 
     method steer { 
         # Turn your bull into a steer 
         $!castrated = True; 
         return self; 
     } 
 } 
 role Steerable { 
     has Real $.direction; 
     method steer(Real $d = 0) { 
         $!direction += $d; 
     } 
 } 
 class Taurus does Bull-Like does Steerable { } 
</pre>
 <p>This code will die with something like:</p>
 <pre class="code">===SORRY!=== 
 Method 'steer' must be resolved by class Taurus because it exists in 
 multiple roles (Steerable, Bull-Like) 
</pre>
 <p>This check will save you a lot of headaches:</p>
 <pre class="code">class Taurus does Bull-Like does Steerable { 
     method steer($direction?) { 
         self.Steerable::steer($direction) 
     } 
 } 
</pre>
 <p>When a role is applied to a second role, the actual application is delayed until the second role is applied to a class, at which point both roles are applied to the class. Thus</p>
 <pre class="code">role R1 {
    # methods here
}
role R2 does R1 {
    # methods here
}
class C does R2 { }</pre>
 <p>produces the same class <span class="code">C</span> as</p>
 <pre class="code">role R1 {
    # methods here
}
role R2 {
    # methods here
}
class C does R1 does R2 { }</pre>
 <a name="t32.3.2"></a><h2 id="_language_objects.pod6-Stubs">32.3.2 Stubs</h2>
 <p>When a role contains a <a href="#_routine_....pod6">stubbed</a> method, a non-stubbed version of a method of the same name must be supplied at the time the role is applied to a class. This allows you to create roles that act as abstract interfaces.</p>
 <pre class="code">role AbstractSerializable { 
     method serialize() { ... }        # literal ... here marks the 
                                       # method as a stub 
 } 
 
 # the following is a compile time error, for example 
 #        Method 'serialize' must be implemented by Point because 
 #        it's required by a role 
 
 class APoint does AbstractSerializable { 
     has $.x; 
     has $.y; 
 } 
 
 # this works: 
 class SPoint does AbstractSerializable { 
     has $.x; 
     has $.y; 
     method serialize() { &quot;p($.x, $.y)&quot; } 
 } 
</pre>
 <p>The implementation of the stubbed method may also be provided by another role.</p>
 <a name="t32.3.3"></a><h2 id="_language_objects.pod6-Inheritance">32.3.3 Inheritance</h2>
 <p>Roles cannot inherit from classes, but they may cause any class which does that role to inherit from another class. So if you write:</p>
 <pre class="code">role A is Exception { } 
 class X::Ouch does A { } 
 X::Ouch.^parents.say # OUTPUT: «((Exception))␤» 
</pre>
 <p>then <span class="code">X::Ouch</span> will inherit directly from Exception, as we can see above by listing its parents.</p>
 <a name="t32.3.4"></a><h2 id="_language_objects.pod6-Pecking_order">32.3.4 Pecking order</h2>
 <p>A method defined directly in a class will always override definitions from applied roles or from inherited classes. If no such definition exists, methods from roles override methods inherited from classes. This happens both when said class was brought in by a role, and also when said class was inherited directly.</p>
 <pre class="code">role M {
  method f { say &quot;I am in role M&quot; }
}

class A {
  method f { say &quot;I am in class A&quot; }
}

class B is A does M {
  method f { say &quot;I am in class B&quot; }
}

class C is A does M { }

B.new.f; # OUTPUT «I am in class B␤»
C.new.f; # OUTPUT «I am in role M␤»</pre>
 <p>Note that each candidate for a multi-method is its own method. In this case, the above only applies if two such candidates have the same signature. Otherwise, there is no conflict, and the candidate is just added to the multi-method.</p>
 <a name="t32.3.5"></a><h2 id="_language_objects.pod6-Automatic_Role_Punning">32.3.5 Automatic Role Punning</h2>
 <p>Any attempt to directly instantiate a role, as well as many other operations on it, will automatically create an instance of a class with the same name as the role, making it possible to transparently use a role as if it were a class.</p>
 <pre class="code">role Point { 
     has $.x; 
     has $.y; 
     method abs { sqrt($.x * $.x + $.y * $.y) } 
 } 
 say Point.new(x =&gt; 6, y =&gt; 8).abs; # OUTPUT «10␤» 
</pre>
 <p>We call this automatic creation of classes <i>punning</i>, and the generated class a <i>pun</i>.</p>
 <a name="t32.3.6"></a><h2 id="_language_objects.pod6-Parameterized_Roles">32.3.6 Parameterized Roles</h2>
 <p><span class="indexed"><a id="321" name="Parameterized Roles"></a></span></p>
 <p>Roles can be parameterized, by giving them a signature in square brackets:</p>
 <pre class="code">role BinaryTree[::Type] { 
     has BinaryTree[Type] $.left; 
     has BinaryTree[Type] $.right; 
     has Type $.node; 
 
     method visit-preorder(&amp;cb) { 
         cb $.node; 
         for $.left, $.right -&gt; $branch { 
             $branch.visit-preorder(&amp;cb) if defined $branch; 
         } 
     } 
     method visit-postorder(&amp;cb) { 
         for $.left, $.right -&gt; $branch { 
             $branch.visit-postorder(&amp;cb) if defined $branch; 
         } 
         cb $.node; 
     } 
     method new-from-list(::?CLASS:U: *@el) { 
         my $middle-index = @el.elems div 2; 
         my @left         = @el[0 .. $middle-index - 1]; 
         my $middle       = @el[$middle-index]; 
         my @right        = @el[$middle-index + 1 .. *]; 
         self.new( 
             node    =&gt; $middle, 
             left    =&gt; @left  ?? self.new-from-list(@left)  !! self, 
             right   =&gt; @right ?? self.new-from-list(@right) !! self, 
         ); 
     } 
 } 
 
 my $t = BinaryTree[Int].new-from-list(4, 5, 6); 
 $t.visit-preorder(&amp;say);    # OUTPUT: «5␤4␤6␤» 
 $t.visit-postorder(&amp;say);   # OUTPUT: «4␤6␤5␤» 
</pre>
 <p>Here the signature consists only of a type capture, but any signature will do:</p>
 <pre class="code">enum Severity &lt;debug info warn error critical&gt;; 
 
 role Logging[$filehandle = $*ERR] { 
     method log(Severity $sev, $message) { 
         $filehandle.print(&quot;[{uc $sev}] $message\n&quot;); 
     } 
 } 
 
 Logging[$*OUT].log(debug, 'here we go'); # OUTPUT: «[DEBUG] here we go␤» 
</pre>
 <p>You can have multiple roles of the same name, but with different signatures; the normal rules of multi dispatch apply for choosing multi candidates.</p>
 <a name="t32.3.7"></a><h2 id="_language_objects.pod6-Mixins_of_Roles">32.3.7 <a name="322"></a>Mixins of Roles</h2>
 <p>Roles can be mixed into objects. A role's given attributes and methods will be added to the methods and attributes the object already has. Multiple mixins and anonymous roles are supported.</p>
 <pre class="code">role R { method Str() {'hidden!'} };
my $i = 2 but R;
sub f(\bound){ put bound };
f($i); # OUTPUT: «hidden!␤»</pre>
 <p>Note that the object got the role mixed in, not the object's class or the container. Thus, @-sigiled containers will require binding to make the role stick. Some operators will return a new value, which effectively strips the mixin from the result.</p>
 <p>Mixins can be used at any point in your object's life.</p>
 <pre class="code"># A counter for Table of Contents
role TOC-Counter {
    has Int @!counters is default(0);
    method Str() { @!counters.join: '.' }
    method inc($level) {
        @!counters[$level - 1]++;
        @!counters.splice($level);
        self
    }
}

my Num $toc-counter = NaN;     # don't do math with Not A Number
say $toc-counter;              # OUTPUT: «NaN␤»
$toc-counter does TOC-Counter; # now we mix the role in
$toc-counter.inc(1).inc(2).inc(2).inc(1).inc(2).inc(2).inc(3).inc(3);
put $toc-counter / 1;          # OUTPUT: «NaN␤» (because that's numerical context)
put $toc-counter;              # OUTPUT: «2.2.2␤» (put will call TOC-Counter::Str)</pre>
 <p>Roles can be anonymous.</p>
 <pre class="code">my %seen of Int is default(0 but role :: { method Str() {'NULL'} });
say %seen&lt;not-there&gt;;          # OUTPUT: «NULL␤»
say %seen&lt;not-there&gt;.defined;  # OUTPUT: «True␤» (0 may be False but is well defined)
say Int.new(%seen&lt;not-there&gt;); # OUTPUT: «0␤»</pre>
 <a name="t32.4"></a><h1 id="_language_objects.pod6-Meta-Object_Programming_and_Introspection">32.4 Meta-Object Programming and Introspection</h1>
 <p>Perl 6 has a meta object system, which means that the behavior of objects, classes, roles, grammars, enums, etc. are themselves controlled by other objects; those objects are called <i>meta objects</i>. Meta objects are, like ordinary objects, instances of classes, in this case we call them <i>meta classes</i>.</p>
 <p>For each object or class you can get the meta object by calling <span class="code">.HOW</span> on it. Note that although this looks like a method call, it works more like a macro.</p>
 <p>So, what can you do with the meta object? For one you can check if two objects have the same meta class by comparing them for equality:</p>
 <pre class="code">say 1.HOW ===   2.HOW;      # OUTPUT: «True␤»
say 1.HOW === Int.HOW;      # OUTPUT: «True␤»
say 1.HOW === Num.HOW;      # OUTPUT: «False␤»</pre>
 <p>Perl 6 uses the word <i>HOW</i>, Higher Order Workings, to refer to the meta object system. Thus it should be no surprise that in Rakudo, the class name of the meta class that controls class behavior is called <span class="code">Perl6::Metamodel::ClassHOW</span>. For each class there is one instance of <span class="code">Perl6::Metamodel::ClassHOW</span>.</p>
 <p>But of course the meta model does much more for you. For example, it allows you to introspect objects and classes. The calling convention for methods on meta objects is to call the method on the meta object and pass in the object of interest as first argument to the object. So to get the name of the class of an object, you could write:</p>
 <pre class="code">my $object = 1;
my $metaobject = 1.HOW;
say $metaobject.name($object);      # OUTPUT: «Int␤»

# or shorter:
say 1.HOW.name(1);                  # OUTPUT: «Int␤»</pre>
 <p>(The motivation is that Perl 6 also wants to allow a more prototype-based object system, where it's not necessary to create a new meta object for every type).</p>
 <p>There's a shortcut to keep from using the same object twice:</p>
 <pre class="code">say 1.^name;                        # OUTPUT: «Int␤»
# same as
say 1.HOW.name(1);                  # OUTPUT: «Int␤»</pre>
 <p>See <a href="#_type_Metamodel::ClassHOW.pod6">Metamodel::ClassHOW</a> for documentation on the meta class of <span class="code">class</span> and also the <a href="#_language_mop.pod6">general documentation on the meta object protocol</a>.</p>
</div>
<!-- /language/operators.pod6 --><div class="pod-body"><a id="_language_operators.pod6"></a><a name="t33"><h1 class="title">33 Operators</h1></a> <p class="subtitle">Common Perl 6 infixes, prefixes, postfixes, and more!</p> <p>See <a href="#_type_Sub.pod6">Sub</a> on how to define operators.</p>
 <a name="t33.1"></a><h1 id="_language_operators.pod6-Operator_Precedence">33.1 Operator Precedence</h1>
 <p>In an expression like <span class="code">1 + 2 * 3</span>, the <span class="code">2 * 3</span> is evaluated first because the infix <span class="code">*</span> has tighter <b>precedence</b> than the <span class="code">+</span>.</p>
 <p>The following table summarizes the precedence levels in Perl 6, from tightest to loosest:</p>
 <table>
<tr><th>A</th> <th>Level</th> <th>Examples</th></tr>
<tr><td>N</td> <td>Terms</td> <td>42 3.14 &quot;eek&quot; qq[&quot;foo&quot;] $x :!verbose @$array</td></tr>
 <tr><td>L</td> <td>Method postfix</td> <td>.meth .+ .? .* .() .[] .{} .&lt;&gt; .«» .:: .= .^ .:</td></tr>
 <tr><td>N</td> <td>Autoincrement</td> <td>++ --</td></tr>
 <tr><td>R</td> <td>Exponentiation</td> <td>**</td></tr>
 <tr><td>L</td> <td>Symbolic unary</td> <td>! + - ~ ? | || +^ ~^ ?^ ^</td></tr>
 <tr><td>L</td> <td>Dotty infix</td> <td>.= .</td></tr>
 <tr><td>L</td> <td>Multiplicative</td> <td>* / % %% +&amp; +&lt; +&gt; ~&amp; ~&lt; ~&gt; ?&amp; div mod gcd lcm</td></tr>
 <tr><td>L</td> <td>Additive</td> <td>+ - +| +^ ~| ~^ ?| ?^</td></tr>
 <tr><td>L</td> <td>Replication</td> <td>x xx</td></tr>
 <tr><td>X</td> <td>Concatenation</td> <td>~</td></tr>
 <tr><td>X</td> <td>Junctive and</td> <td>&amp;</td></tr>
 <tr><td>X</td> <td>Junctive or</td> <td>| ^</td></tr>
 <tr><td>L</td> <td>Named unary</td> <td>temp let</td></tr>
 <tr><td>N</td> <td>Structural infix</td> <td>but does &lt;=&gt; leg cmp .. ..^ ^.. ^..^</td></tr>
 <tr><td>C</td> <td>Chaining infix</td> <td>!= == &lt; &lt;= &gt; &gt;= eq ne lt le gt ge ~~ === eqv !eqv =~=</td></tr>
 <tr><td>X</td> <td>Tight and</td> <td>&amp;&amp;</td></tr>
 <tr><td>X</td> <td>Tight or</td> <td>|| ^^ // min max</td></tr>
 <tr><td>R</td> <td>Conditional</td> <td>?? !! ff fff</td></tr>
 <tr><td>R</td> <td>Item assignment</td> <td>= =&gt; += -= **= xx=</td></tr>
 <tr><td>L</td> <td>Loose unary</td> <td>so not</td></tr>
 <tr><td>X</td> <td>Comma operator</td> <td>, :</td></tr>
 <tr><td>X</td> <td>List infix</td> <td>Z minmax X X~ X* Xeqv ...</td></tr>
 <tr><td>R</td> <td>List prefix</td> <td>print push say die map substr ... [+] [*] any Z=</td></tr>
 <tr><td>X</td> <td>Loose and</td> <td>and andthen notandthen</td></tr>
 <tr><td>X</td> <td>Loose or</td> <td>or xor orelse</td></tr>
 <tr><td>X</td> <td>Sequencer</td> <td>&lt;==, ==&gt;, &lt;&lt;==, ==&gt;&gt;</td></tr>
 <tr><td>N</td> <td>Terminator</td> <td>; {...}, unless, extra ), ], }</td></tr>
</table> <p>Using two <span class="code">!</span> symbols below generically to represent any pair of operators that have the same precedence, the associativities specified above for binary operators are interpreted as follows:</p>
 <table>
<tr><th>A</th> <th>Assoc</th> <th>Meaning of $a ! $b ! $c</th></tr>
<tr><td>L</td> <td>left</td> <td>($a ! $b) ! $c</td></tr>
 <tr><td>R</td> <td>right</td> <td>$a ! ($b ! $c)</td></tr>
 <tr><td>N</td> <td>non</td> <td>ILLEGAL</td></tr>
 <tr><td>C</td> <td>chain</td> <td>($a ! $b) and ($b ! $c)</td></tr>
 <tr><td>X</td> <td>list</td> <td>infix:&lt;!&gt;($a; $b; $c)</td></tr>
</table> <p>For unary operators this is interpreted as:</p>
 <table>
<tr><th>A</th> <th>Assoc</th> <th>Meaning of !$a!</th></tr>
<tr><td>L</td> <td>left</td> <td>(!$a)!</td></tr>
 <tr><td>R</td> <td>right</td> <td>!($a!)</td></tr>
 <tr><td>N</td> <td>non</td> <td>ILLEGAL</td></tr>
</table> <p>In the operator descriptions below, a default associativity of <i>left</i> is assumed.</p>
 <a name="t33.2"></a><h1 id="_language_operators.pod6-Operator_classification">33.2 Operator classification</h1>
 <p><span class="indexed"><a id="323" name="prefix operator"></a></span> <span class="indexed"><a id="324" name="infix operator"></a></span> <span class="indexed"><a id="325" name="postfix operator"></a></span> <span class="indexed"><a id="326" name="circumfix operator"></a></span> <span class="indexed"><a id="327" name="postcircumfix operator"></a></span></p>
 <p>Operators can occur in several positions relative to a term:</p>
 <table>
<tr><td>+term</td> <td>prefix</td></tr>
 <tr><td>term1 + term2</td> <td>infix</td></tr>
 <tr><td>term++</td> <td>postfix</td></tr>
 <tr><td>(term)</td> <td>circumfix</td></tr>
 <tr><td>term1[term2]</td> <td>postcircumfix</td></tr>
</table> <p>Each operator is also available as a subroutine. The name of the routine is formed from the operator category, followed by a colon, then a list quote construct with the symbol(s) that make up the operator:</p>
 <pre class="code">infix:&lt;+&gt;(1, 2);                # same as 1 + 2
circumfix:«[ ]»(&lt;a b c&gt;);       # same as [&lt;a b c&gt;]</pre>
 <p>As a special case, a <i>listop</i> (list operator) can stand either as a term or as a prefix. Subroutine calls are the most common listops. Other cases include meta-reduced infix operators (<span class="code">[+] 1, 2, 3</span>) and the <a href="#32-prefix ...">#prefix ...</a> etc. stub operators.</p>
 <p>Defining custom operators is covered in <a href="#_language_functions.pod6-Defining_Operators">Defining Operators functions</a>.</p>
 <a name="t33.3"></a><h1 id="_language_operators.pod6-Meta_Operators">33.3 Meta Operators</h1>
 <p>Meta operators can be parameterized with other operators or subroutines in the same way as functions can take functions as parameters. To use a subroutine as a parameter, prefix its name with a <span class="code">&amp;</span>. Perl 6 will generate the actual combined operator in the background, allowing the mechanism to be applied to user defined operators. To disambiguate chained meta operators, enclose the inner operator in square brackets. There are quite a few Meta operators with different semantics as explained, next.</p>
 <a name="t33.4"></a><h1 id="_language_operators.pod6-Substitution_Operators">33.4 Substitution Operators</h1>
 <a name="t33.4.1"></a><h2 id="_language_operators.pod6-s///_in-place_substitution">33.4.1 <span class="code">s///</span> in-place substitution</h2>
 <pre class="code">my $str = 'old string';
$str ~~ s/o .+ d/new/;
say $str; # OUTPUT: «new string␤»</pre>
 <p><span class="code">s///</span> operates on the <span class="code">$_</span> topical variable, changing it in place. It uses the given <a href="#_type_Regex.pod6"><span class="code">Regex</span></a> to find portions to replace and changes them to the provided replacement string. Sets <span class="code">$/</span> to the <a href="#_type_Match.pod6"><span class="code">Match</span></a> object or, if multiple matches were made, a <a href="#_type_List.pod6"><span class="code">List</span></a> of <span class="code">Match</span> objects. Returns <span class="code">$/</span>.</p>
 <p>It's common to use this operator with the <span class="code">~~</span> smartmatch operator, as it aliases left hand side to <span class="code">$_</span>, which <span class="code">s///</span> uses.</p>
 <p>Regex captures can be referenced in the replacement part; it takes the same adverbs as the <a href="#_routine_subst.pod6"><span class="code">.subst</span>  method</a>, which go between the <span class="code">s</span> and the opening <span class="code">/</span>, separated with optional whitespace:</p>
 <pre class="code">my $str = 'foo muCKed into the lEn';

# replace second 'o' with 'x'
$str ~~ s:2nd/o/x/;

# replace 'M' or 'L' followed by non-whitespace stuff with 'd'
# and lower-cased version of that stuff:
$str ~~ s :g :i/&lt;[ML]&gt; (\S+)/d{lc $0}/;

say $str; # OUTPUT: «fox ducked into the den␤»</pre>
 <p>You can also use a different delimiter:</p>
 <pre class="code">my $str = 'foober';
$str ~~ s!foo!fox!;
$str ~~ s{b(.)r} = &quot; d$0n&quot;;
say $str; # OUTPUT: «fox den␤»</pre>
 <p>Non-paired characters can simply replace the original slashes. Paired characters, like braces, are used only on the match portion, with the substitution given by assignment (of anything: a string, a routine call, etc.).</p>
 <a name="t33.4.2"></a><h2 id="_language_operators.pod6-S///_non-destructive_substitution">33.4.2 <span class="code">S///</span> non-destructive substitution</h2>
 <pre class="code">say S/o .+ d/new/ with 'old string';      # OUTPUT: «new string␤»
S:g/« (.)/$0.uc()/.say for &lt;foo bar ber&gt;; # OUTPUT: «Foo␤Bar␤Ber␤»</pre>
 <p><span class="code">S///</span> uses the same semantics as the <span class="code">s///</span> operator, except it leaves the original string intact and <i>returns the resultant string</i> instead of <span class="code">$/</span> (<span class="code">$/</span> still being set to the same values as with <span class="code">s///</span>).</p>
 <p><b>Note:</b> since the result is obtained as a return value, using this operator with the <span class="code">~~</span> smartmatch operator is a mistake and will issue a warning. To execute the substitution on a variable that isn't the <span class="code">$_</span> this operator uses, alias it to <span class="code">$_</span> with <span class="code">given</span>, <span class="code">with</span>, or any other way. Alternatively, use the <a href="#_routine_subst.pod6"><span class="code">.subst</span>  method</a>.</p>
 <a name="t33.4.3"></a><h2 id="_language_operators.pod6-tr///_in-place_transliteration">33.4.3 <span class="code">tr///</span> in-place transliteration</h2>
 <pre class="code">my $str = 'old string';
$str ~~ tr/dol/wne/;
say $str; # OUTPUT: «new string␤»</pre>
 <p><span class="code">tr///</span> operates on the <span class="code">$_</span> topical variable and changes it in place. It behaves similar to <a href="#_routine_trans.pod6"><span class="code">Str.trans</span></a> called with a single <a href="#_type_Pair.pod6">Pair</a> argument, where key is the matching part (characters <span class="code">dol</span> in the example above) and value is the replacement part (characters <span class="code">wne</span> in the example above). Accepts the same adverbs as <a href="#_routine_trans.pod6"><span class="code">Str.trans</span></a>. Returns the StrDistance object that measures the distance between original value and the resultant string.</p>
 <pre class="code">my $str = 'old string';
$str ~~ tr:c:d/dol st//;
say $str; # OUTPUT: «ring␤»</pre>
 <a name="t33.4.4"></a><h2 id="_language_operators.pod6-TR///_non-destructive_transliteration">33.4.4 <span class="code">TR///</span> non-destructive transliteration</h2>
 <pre class="code">with 'old string' {
    say TR/dol/wne/; # OUTPUT: «new string␤»
}</pre>
 <p><span class="code">TR///</span> behaves the same as the <span class="code">tr///</span> operator, except that it leaves the <span class="code">$_</span> value untouched and instead returns the resultant string.</p>
 <pre class="code">say TR:d/dol // with 'old string'; # OUTPUT: «string␤»</pre>
 <a name="t33.5"></a><h1 id="_language_operators.pod6-Assignment_Operators">33.5 Assignment Operators</h1>
 <p>Infix operators can be combined with the assignment operator to modify a value and apply the result to a container in one go. Containers will be autovivified if possible. Some examples:</p>
 <pre class="code">my $a = 32;
$a += 10;     # 42
$a -= 2;      # 40

$a = 3;
$a min= 5;    # still 3
$a min= 2;    # 2

my $s = 'a';
$s ~= 'b';    # 'ab'</pre>
 <p>This behavior is automatically extended to include custom-defined infix operators.</p>
 <pre class="code">sub infix:&lt;space-concat&gt; ($a, $b) { $a ~ &quot; &quot; ~ $b };
my $a = 'word1';
$a space-concat= 'word2';     # RESULT: «'word1 word2'»</pre>
 <p>Although not strictly operators, methods can be used in the same fashion.</p>
 <pre class="code">my Real $a = 1/2;
$a = 3.14;
$a .= round;      # RESULT: «3»</pre>
 <a name="t33.6"></a><h1 id="_language_operators.pod6-Negated_Relational_Operators">33.6 Negated Relational Operators <a name="328"></a><a name="329"></a><a name="330"></a></h1>
 <p>The result of a relational operator returning <span class="code">Bool</span> can be negated by prefixing with <span class="code">!</span>. To avoid visual confusion with the <span class="code">!!</span> operator, you may not modify any operator already beginning with <span class="code">!</span>.</p>
 <p>There are shortcuts for <span class="code">!==</span> and <span class="code">!eq</span>, namely <span class="code">!=</span> and <span class="code">ne</span>.</p>
 <pre class="code">my $a = True;
say so $a != True;    # OUTPUT: «False␤»
my $i = 10;

my $release = Date.new(:2015year, :12month, :24day);
my $today = Date.today;
say so $release !before $today;     # OUTPUT: «False␤»</pre>
 <a name="t33.7"></a><h1 id="_language_operators.pod6-Reversed_Operators">33.7 Reversed Operators <a name="331"></a></h1>
 <p>Any infix operator may be called with its two arguments reversed by prefixing with <span class="code">R</span>. Associativity of operands is reversed as well.</p>
 <pre class="code">say 4 R/ 12;        # OUTPUT: «3␤»
say [R/] 2, 4, 16;  # OUTPUT: «2␤»</pre>
 <a name="t33.8"></a><h1 id="_language_operators.pod6-Hyper_Operators">33.8 <a name="332"></a>Hyper Operators</h1>
 <p>Hyper Operators include <span class="code">«</span> and <span class="code">»</span>, with their ASCII variants <span class="code">&lt;&lt;</span> and <span class="code">&gt;&gt;</span>.</p>
 <p>Hyper operators apply a given operator enclosed by <span class="code">«</span> and <span class="code">»</span> to one or two lists, returning the resulting list. The pointy part of <span class="code">«</span> or <span class="code">»</span> has to point to the shorter list. A list with just one element is fine too. If one of the lists is shorter than the other, the operator will cycle over the shorter list until all elements of the longer list are processed.</p>
 <pre class="code">say (1, 2, 3) »*» 2;          # OUTPUT: «(2 4 6)␤»
say (1, 2, 3, 4) »~» &lt;a b&gt;;   # OUTPUT: «(1a 2b 3a 4b)␤»
say (1, 2, 3) »+« (4, 5, 6);  # OUTPUT: «(5 7 9)␤»</pre>
 <p>Assignment meta operators can be hyped.</p>
 <pre class="code">my @a = 1, 2, 3;
say @a »+=» 1;    # OUTPUT: «[2 3 4]␤»</pre>
 <p>Hyper forms of unary operators have the pointy bit point to the operator and the blunt end at the list to be operated on.</p>
 <pre class="code">my @wisdom = True, False, True;
say !« @wisdom;     # OUTPUT: «[False True False]␤»

my @a = 1, 2, 3;
@a»++;              # OUTPUT: «(2, 3, 4)␤»</pre>
 <p>Hyper operators are defined recursively on nested arrays.</p>
 <pre class="code">say -« [[1, 2], 3]; # OUTPUT: «[[-1 -2] -3]␤»</pre>
 <p>Also, methods can be called in an out of order, concurrent fashion. The resulting list is in order. Note that all hyper operators are candidates for autothreading and will cause tears if the methods have side effects. The optimizer has full reign over hyper operators, which is the reason that they cannot be defined by the user.</p>
 <pre class="code">class CarefulClass { method take-care {} }
my CarefulClass @objs;
my @results = @objs».take-care();

my @slops;        # May Contain Nuts
@slops».?this-method-may-not-exist();</pre>
 <p>Hyper operators can work with hashes. The pointy direction indicates if missing keys are to be ignored in the resulting hash. The enclosed operator operates on all values that have keys in both hashes.</p>
 <table>
<tr><td>%foo «+» %bar;</td> <td>intersection of keys</td></tr>
 <tr><td>%foo »+« %bar;</td> <td>union of keys</td></tr>
 <tr><td>%outer »+» %inner;</td> <td>only keys of %inner that exist in %outer will occur in the result</td></tr>
</table> <pre class="code">my %outer = 1, 2, 3 Z=&gt; &lt;a b c&gt;;
my %inner = 1, 2 Z=&gt; &lt;x z&gt;;
say %outer «~» %inner;          # OUTPUT: «{&quot;1&quot; =&gt; &quot;ax&quot;, &quot;2&quot; =&gt; &quot;bz&quot;}␤»</pre>
 <p>Hyper operators can take user defined operators as their operator argument.</p>
 <pre class="code">sub pretty-file-site (Int $size --&gt; Str) {
    # rounding version of infix:&lt;/&gt;(Int, Int)
    sub infix:&lt;r/&gt;(Int \i1, Int \i2) {
        round(i1 / i2, 0.1)
    }

    # we build a vector of fractions of $size and zip that with the fitting prefix
    for $size «[r/]« (2**60, 2**50, 2**40, 2**30, 2**20, 2**10)
              Z      &lt;EB     PB     TB     GB     MB     KB&gt; -&gt; [\v,\suffix] {
        # starting with the biggest suffix, we take the first that is 0.5 of that suffix or bigger
        return v ~ ' ' ~ suffix if v &gt; 0.4
    }
    # this be smaller or equal then 0.4 KB
    return $size.Str;
}

for 60, 50, 40, 30, 20, 10 -&gt; $test {
    my &amp;a = { (2 ** $test) * (1/4, 1/2, 1, 10, 100).pick * (1..10).pick };
    print pretty-file-site(a.Int) xx 2, ' ';
}

# OUTPUT: «10 EB 4 EB 2 PB 5 PB 0.5 PB 4 TB 300 GB 4.5 GB 50 MB 200 MB 9 KB 0.6 MB␤»</pre>
 <p>Whether hyperoperators descend into child lists depends on the <a href="#_language_typesystem.pod6-trait_is_nodal">nodality</a> of the inner operator of a chain. For the hyper method call operator (».), the nodality of the target method is significant.</p>
 <pre class="code">say (&lt;a b&gt;, &lt;c d e&gt;)».elems;        # OUTPUT: «(2 3)␤»
say (&lt;a b&gt;, &lt;c d e&gt;)».&amp;{ .elems };  # OUTPUT: «((1 1) (1 1 1))␤»</pre>
 <p>You can chain hyper operators to destructure a List of Lists.</p>
 <pre class="code">my $neighbors = ((-1, 0), (0, -1), (0, 1), (1, 0));
my $p = (2, 3);
say $neighbors »&gt;&gt;+&lt;&lt;» ($p, *);   # OUTPUT: «((1 3) (2 2) (2 4) (3 3))␤»</pre>
 <a name="t33.9"></a><h1 id="_language_operators.pod6-Reduction_Operators">33.9 Reduction Operators <a name="333"></a><a name="334"></a></h1>
 <p>The reduction metaoperator, <span class="code">[ ]</span>, reduces a list with the given infix operator. It gives the same result as the <a href="#_routine_reduce.pod6">reduce</a> routine - see there for details.</p>
 <pre class="code"># These two are equivalent:
say [+] 1, 2, 3;                # OUTPUT: «6␤»
say reduce &amp;infix:&lt;+&gt;, 1, 2, 3; # OUTPUT: «6␤»</pre>
 <p>No whitespace is allowed between the brackets and the operator. To wrap a function instead of an operator, provide an additional layer of brackets:</p>
 <pre class="code">sub plus { $^a + $^b };
say [[&amp;plus]] 1, 2, 3;          # OUTPUT: «6␤»</pre>
 <p>The argument list is iterated without flattening. This means that you can pass a nested list to the reducing form of a list infix operator:</p>
 <pre class="code">say [X~] (1, 2), &lt;a b&gt;;         # OUTPUT: «1, 2 X~ &lt;a b&gt;␤»</pre>
 <p>By default, only the final result of the reduction is returned. Prefix the wrapped operator with a <span class="code">\</span>, to return a lazy list of all intermediate values instead. This is called a &quot;triangular reduce&quot;. If the non-meta part contains a <span class="code">\</span> already, quote it with <span class="code">[]</span> (e.g. <span class="code">[\[\x]]</span>).</p>
 <pre class="code">my @n = [\~] 1..*;
say @n[^5];         # OUTPUT: «(1 12 123 1234 12345)␤»</pre>
 <a name="t33.10"></a><h1 id="_language_operators.pod6-Cross_Operators">33.10 Cross Operators <a name="335"></a></h1>
 <p>The cross metaoperator, <span class="code">X</span>, will apply a given infix operator in order of cross product to all lists, such that the rightmost operator varies most quickly.</p>
 <pre class="code">1..3 X~ &lt;a b&gt; # RESULT: «&lt;1a, 1b, 2a, 2b, 3a, 3b&gt;␤»</pre>
 <a name="t33.11"></a><h1 id="_language_operators.pod6-Zip_Operators">33.11 Zip Operators <a name="336"></a></h1>
 <p>The zip metaoperator (which is not the same thing as <a href="#32-infix_Z">Z</a>) will apply a given infix operator to pairs taken one left, one right, from its arguments. The resulting list is returned.</p>
 <pre class="code">my @l = &lt;a b c&gt; Z~ 1, 2, 3;     # RESULT: «[a1 b2 c3]␤»</pre>
 <p>If one of the operands runs out of elements prematurely, the zip operator will stop. An infinite list can be used to repeat elements. A list with a final element of <span class="code">*</span> will repeat its 2nd last element indefinitely.</p>
 <pre class="code">my @l = &lt;a b c d&gt; Z~ ':' xx *;  # RESULT: «&lt;a: b: c: d:&gt;»
   @l = &lt;a b c d&gt; Z~ 1, 2, *;   # RESULT: «&lt;a1 b2 c2 d2&gt;»</pre>
 <p>If an infix operator is not given, <span class="code">,</span> (comma operator) will be used by default:</p>
 <pre class="code">my @l = 1 Z 2;  # RESULT: «[(1 2)]»</pre>
 <a name="t33.12"></a><h1 id="_language_operators.pod6-Sequential_Operators">33.12 Sequential Operators <a name="337"></a></h1>
 <p>The sequential metaoperator, <span class="code">S</span>, will suppress any concurrency or reordering done by the optimizer. Most simple infix operators are supported.</p>
 <pre class="code">say so 1 S&amp; 2 S&amp; 3;  # OUTPUT: «True␤»</pre>
 <a name="t33.13"></a><h1 id="_language_operators.pod6-Nesting_of_Meta_Operators">33.13 Nesting of Meta Operators</h1>
 <p>To avoid ambiguity when chaining meta operators, use square brackets to help the compiler understand you.</p>
 <pre class="code">my @a = 1, 2, 3;
my @b = 5, 6, 7;
@a X[+=] @b;
say @a;         # OUTPUT: «[19 20 21]␤»</pre>
 <a name="t33.14"></a><h1 id="_language_operators.pod6-Term_Precedence">33.14 <!--  -->Term Precedence</h1>
 <a name="t33.14.1"></a><h2 id="_language_operators.pod6-term_&lt;_&gt;">33.14.1 term <span class="code">&lt; &gt;</span></h2>
 <p>The <span class="indexed"><a id="338" name="qw quote-words">quote-words</a></span> construct breaks up the contents on whitespace and returns a <a href="#_type_List.pod6">List</a> of the words. If a word looks like a number literal or a <span class="code">Pair</span> literal, it's converted to the appropriate number.</p>
 <pre class="code">say &lt;a b c&gt;[1];   # OUTPUT: «b␤»</pre>
 <a name="t33.14.2"></a><h2 id="_language_operators.pod6-term_(_)">33.14.2 term <span class="code">( )</span></h2>
 <p>The <span class="indexed"><a id="339" name="">grouping operator</a></span>.</p>
 <p>An empty group <span class="code">()</span> creates an <a href="#_type_List.pod6-index-entry-()_empty_list">empty list</a>. Parentheses around non-empty expressions simply structure the expression, but do not have additional semantics.</p>
 <p>In an argument list, putting parenthesis around an argument prevents it from being interpreted as a named argument.</p>
 <pre class="code">multi sub p(:$a!) { say 'named'      }
multi sub p($a)   { say 'positional' }
p a =&gt; 1;           # OUTPUT: «named␤»
p (a =&gt; 1);         # OUTPUT: «positional␤»</pre>
 <a name="t33.14.3"></a><h2 id="_language_operators.pod6-term_{_}">33.14.3 term <span class="code">{ }</span></h2>
 <p><a href="#_type_Block.pod6">Block</a> or <a href="#_type_Hash.pod6">Hash</a> constructor.<span class="indexed"><a id="340" name="block constructor hash constructor"></a></span></p>
 <p>If the content is empty, or contains a single list that starts with a <a href="#_type_Pair.pod6">Pair</a> literal or <span class="code">%</span>-sigiled variable, and the <a href="#_syntax_$_.pod6"><span class="code">$_</span>  variable</a> or placeholder parameters are not used, the constructor returns a <a href="#_type_Hash.pod6">Hash</a>. Otherwise it constructs a <a href="#_type_Block.pod6">Block</a>.</p>
 <p>To force construction of a <a href="#_type_Block.pod6">Block</a>, follow the opening brace with a semicolon. To always ensure you end up with a <a href="#_type_Hash.pod6">Hash</a>, you can use <span class="code">%( )</span> coercer or <a href="#_routine_hash.pod6">hash</a> routine instead:</p>
 <pre class="code">{}.^name.say;        # OUTPUT: «Hash␤»
{;}.^name.say;       # OUTPUT: «Block␤»

{:$_}.^name.say;     # OUTPUT: «Block␤»
%(:$_).^name.say;    # OUTPUT: «Hash␤»
hash(:$_).^name.say; # OUTPUT: «Hash␤»</pre>
 <a name="t33.14.4"></a><h2 id="_language_operators.pod6-circumfix_[_]">33.14.4 circumfix <span class="code">[ ]</span></h2>
 <p>The <span class="indexed"><a id="341" name=""><a href="#_type_Array.pod6">Array</a>  constructor</a></span> returns an itemized <a href="#_type_Array.pod6">Array</a> that does not flatten in list context.</p>
 <a name="t33.15"></a><h1 id="_language_operators.pod6-Method_Postfix_Precedence">33.15 Method Postfix Precedence</h1>
 <a name="t33.15.1"></a><h2 id="_language_operators.pod6-postcircumfix_[_]">33.15.1 postcircumfix <span class="code">[ ]</span></h2>
 <pre class="code">sub postcircumfix:&lt;[ ]&gt;(@container, **@index, 
                         :$k, :$v, :$kv, :$p, :$exists, :$delete) 
</pre>
 <p>Universal interface for positional access to zero or more elements of a @container, a.k.a. &quot;<span class="indexed"><a id="342" name="array indexing operator array subscript operator">array indexing operator</a></span>&quot;.</p>
 <pre class="code">my @alphabet = 'a' .. 'z';
say @alphabet[0];                   # OUTPUT: «a␤»
say @alphabet[1];                   # OUTPUT: «b␤»
say @alphabet[*-1];                 # OUTPUT: «z␤»
say @alphabet[100]:exists;          # OUTPUT: «False␤»
say @alphabet[15, 4, 17, 11].join;  # OUTPUT: «perl␤»
say @alphabet[23 .. *].perl;        # OUTPUT: «(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;)␤»

@alphabet[1, 2] = &quot;B&quot;, &quot;C&quot;;
say @alphabet[0..3].perl            # OUTPUT: «(&quot;a&quot;, &quot;B&quot;, &quot;C&quot;, &quot;d&quot;)␤»</pre>
 <p>See <a href="#_language_subscripts.pod6">Subscripts</a>, for a more detailed explanation of this operator's behavior and for how to implement support for it in custom types.</p>
 <a name="t33.15.2"></a><h2 id="_language_operators.pod6-postcircumfix_{_}">33.15.2 postcircumfix <span class="code">{ }</span></h2>
 <pre class="code">sub postcircumfix:&lt;{ }&gt;(%container, **@key, 
                         :$k, :$v, :$kv, :$p, :$exists, :$delete) 
</pre>
 <p>Universal interface for associative access to zero or more elements of a %container, a.k.a. &quot;<span class="indexed"><a id="343" name="hash indexing operator hash subscript operator">hash indexing operator</a></span>&quot;.</p>
 <pre class="code">my %color = kiwi =&gt; &quot;green&quot;, banana =&gt; &quot;yellow&quot;, cherry =&gt; &quot;red&quot;;
say %color{&quot;banana&quot;};                 # OUTPUT: «yellow␤»
say %color{&quot;cherry&quot;, &quot;kiwi&quot;}.perl;    # OUTPUT: «(&quot;red&quot;, &quot;green&quot;)␤»
say %color{&quot;strawberry&quot;}:exists;      # OUTPUT: «False␤»

%color{&quot;banana&quot;, &quot;lime&quot;} = &quot;yellowish&quot;, &quot;green&quot;;
%color{&quot;cherry&quot;}:delete;
say %color;             # OUTPUT: «banana =&gt; yellowish, kiwi =&gt; green, lime =&gt; green␤»</pre>
 <p>See <a href="#_routine_&lt; &gt;.pod6-(Operators)_postcircumfix_&lt;_&gt;"><span class="code">postcircumfix &lt; &gt;</span></a> and <a href="#_routine_« ».pod6-(Operators)_postcircumfix_«_»"><span class="code">postcircumfix « »</span></a> for convenient shortcuts, and <a href="#_language_subscripts.pod6">Subscripts</a> for a more detailed explanation of this operator's behavior and how to implement support for it in custom types.</p>
 <a name="t33.15.3"></a><h2 id="_language_operators.pod6-postcircumfix_&lt;_&gt;">33.15.3 postcircumfix <span class="code">&lt; &gt;</span></h2>
 <p>Shortcut for <a href="#_routine_{ }.pod6-(Operators)_postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> that quotes its argument using the same rules as the <a href="#_routine_&lt; &gt;.pod6-circumfix_&lt;_&gt;">quote-words operator</a> of the same name.</p>
 <pre class="code">my %color = kiwi =&gt; &quot;green&quot;, banana =&gt; &quot;yellow&quot;, cherry =&gt; &quot;red&quot;;
say %color&lt;banana&gt;;               # OUTPUT: «yellow␤»
say %color&lt;cherry kiwi&gt;.perl;     # OUTPUT: «(&quot;red&quot;, &quot;green&quot;)␤»
say %color&lt;strawberry&gt;:exists;    # OUTPUT: «False␤»</pre>
 <p>Technically, not a real operator; it's syntactic sugar that's turned into the <span class="code">{ }</span> postcircumfix operator at compile-time.</p>
 <a name="t33.15.4"></a><h2 id="_language_operators.pod6-postcircumfix_«_»">33.15.4 postcircumfix <span class="code">« »</span></h2>
 <p>Shortcut for <a href="#_routine_{ }.pod6-(Operators)_postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> that quotes its argument using the same rules as the <a href="#_routine_« ».pod6-circumfix_«_»">interpolating quote-words operator</a> of the same name.</p>
 <pre class="code">my %color = kiwi =&gt; &quot;green&quot;, banana =&gt; &quot;yellow&quot;, cherry =&gt; &quot;red&quot;;
my $fruit = &quot;kiwi&quot;;
say %color«cherry &quot;$fruit&quot;».perl;   # OUTPUT: «(&quot;red&quot;, &quot;green&quot;)␤»</pre>
 <p>Technically, not a real operator; it's syntactic sugar that's turned into the <span class="code">{ }</span> postcircumfix operator at compile-time.</p>
 <a name="t33.15.5"></a><h2 id="_language_operators.pod6-postcircumfix_(_)">33.15.5 postcircumfix <span class="code">( )</span></h2>
 <p>The <span class="indexed"><a id="344" name="">call operator</a></span> treats the invocant as a <a href="#_type_Callable.pod6">Callable</a> and invokes it, using the expression between the parentheses as arguments.</p>
 <p>Note that an identifier followed by a pair of parentheses is always parsed as a subroutine call.</p>
 <p>If you want your objects to respond to the call operator, implement a <span class="code">method CALL-ME</span>.</p>
 <a name="t33.15.6"></a><h2 id="_language_operators.pod6-postfix_.">33.15.6 postfix <span class="code">.</span></h2>
 <p>The operator for calling one method, <span class="code">$invocant.method</span>.<span class="indexed"><a id="345" name="method call"></a></span></p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="346" name="postfix .&amp;"></a></span></p>
 <a name="t33.15.7"></a><h2 id="_language_operators.pod6-postfix_.&amp;">33.15.7 postfix <span class="code">.&amp;</span></h2>
 <p>The operator to call a subroutine (with at least one positional argument), such as a method. The invocant will be bound to the first positional argument.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <pre class="code">my sub f($invocant){ &quot;The arg has a value of $invocant&quot; }
42.&amp;f;
# OUTPUT: «The arg has a value of 42␤»

42.&amp;(-&gt; $invocant { &quot;The arg has a value of $invocant&quot; });
# OUTPUT: «The arg has a value of 42␤»</pre>
 <a name="t33.15.8"></a><h2 id="_language_operators.pod6-postfix_.=">33.15.8 postfix <span class="code">.=</span></h2>
 <p>A <span class="indexed"><a id="347" name="">mutating method call</a></span>. <span class="code">$invocant.=method</span> desugars to <span class="code">$invocant = $invocant.method</span>, similar to <a href="&lt;span class=&quot;code&quot;&gt;=&lt;/span&gt;"><span class="code">=</span></a>.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="348" name="postfix .^"></a></span></p>
 <a name="t33.15.9"></a><h2 id="_language_operators.pod6-postfix_.^">33.15.9 postfix <span class="code">.^</span></h2>
 <p>A <span class="indexed"><a id="349" name="">meta-method call</a></span>. <span class="code">$invocant.^method</span> calls <span class="code">method</span> on <span class="code">$invocant</span>'s metaclass. It desugars to <span class="code">$invocant.HOW.method($invocant, ...)</span>. See <a href="#_language_mop.pod6-index-entry-syntax_HOW-HOW">HOW</a> for more information.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="350" name="postfix .?"></a></span></p>
 <a name="t33.15.10"></a><h2 id="_language_operators.pod6-postfix_.?">33.15.10 postfix <span class="code">.?</span></h2>
 <p><span class="indexed"><a id="351" name="">Safe call operator</a></span>. <span class="code">$invocant.?method</span> calls method <span class="code">method</span> on <span class="code">$invocant</span> if it has a method of such name. Otherwise it returns <a href="#_type_Nil.pod6">Nil</a>.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="352" name="postfix .+"></a></span></p>
 <a name="t33.15.11"></a><h2 id="_language_operators.pod6-postfix_.+">33.15.11 postfix <span class="code">.+</span></h2>
 <p><span class="code">$invocant.+method</span> calls all methods called <span class="code">method</span> from <span class="code">$invocant</span>, and returns a <a href="#_type_List.pod6">List</a> of the results. Dies if no such method was found.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="353" name="postfix .*"></a></span></p>
 <a name="t33.15.12"></a><h2 id="_language_operators.pod6-postfix_.*">33.15.12 postfix <span class="code">.*</span></h2>
 <p><span class="code">$invocant.*method</span> calls all methods called <span class="code">method</span> from <span class="code">$invocant</span>, and returns a <a href="#_type_List.pod6">List</a> of the results. If no such method was found, an empty <a href="#_type_List.pod6">List</a> is returned.</p>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler.</p>
 <p><span class="indexed"><a id="354" name="postfix »."></a></span><span class="indexed"><a id="355" name="postfix &gt;&gt;."></a></span></p>
 <a name="t33.15.13"></a><h2 id="_language_operators.pod6-postfix_»._/_postfix_&gt;&gt;.">33.15.13 postfix <span class="code">».</span> / postfix <span class="code">&gt;&gt;.</span></h2>
 <p><span class="indexed"><a id="356" name="">Hyper method call operator</a></span>. Will call a method on all elements of a <span class="code">List</span> out of order and return the list of return values in order.</p>
 <pre class="code">my @a = &lt;a b c&gt;;
my @b = @a».ord;                  # OUTPUT: «[97, 98, 99]␤»
sub foo(Str:D $c){ $c.ord * 2 };  # The first parameter of a method is the invocant.
say @a».&amp;foo;                     # So we can pretend to have a method call with a sub that got a good first positional argument.
say @a».&amp;{ .ord};                 # Blocks have an implicit positional arguments that lands in $_. The latter can be omitted for method calls.</pre>
 <p>Take care to avoid a <a href="#_language_traps.pod6-Using_»_and_map_interchangeably">common mistake</a> of expecting side-effects to occur in order. The following <span class="code">say</span> is <b>not</b> guaranteed to produce the output in order:</p>
 <pre class="code">@a».say;  # WRONG! Could produce a␤b␤c␤ or c␤b␤a␤ or any other order 
</pre>
 <a name="t33.15.14"></a><h2 id="_language_operators.pod6-postfix_.postfix_/_.postcircumfix">33.15.14 postfix <span class="code">.postfix</span> / <span class="code">.postcircumfix</span> <a name="357"></a><a name="358"></a><a name="359"></a></h2>
 <p>In most cases, a dot may be placed before a postfix or postcircumfix:</p>
 <pre class="code">my @a;
@a[1, 2, 3];
@a.[1, 2, 3]; # Same</pre>
 <p>This can be useful for visual clarity or brevity. For example, if an object's attribute is a function, putting a pair of parentheses after the attribute name will become part of the method call. So, either two pairs of parentheses must be used or a dot has to come before the parentheses to separate it from the method call.</p>
 <pre class="code">class Operation {
    has $.symbol;
    has &amp;.function;
}
my $addition = Operation.new(:symbol&lt;+&gt;, :function{ $^a + $^b });
say $addition.function()(1, 2);   # OUTPUT: «3␤»
# OR
say $addition.function.(1, 2);    # OUTPUT: «3␤»</pre>
 <p>If the postfix is an identifier, however, it will be interpreted as a normal method call.</p>
 <pre class="code">1.i # No such method 'i' for invocant of type 'Int' 
</pre>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler. <span class="indexed"><a id="360" name="postfix call"></a></span></p>
 <a name="t33.15.15"></a><h2 id="_language_operators.pod6-postfix_.:&lt;prefix&gt;">33.15.15 postfix <span class="code">.:&lt;prefix&gt;</span></h2>
 <p>A prefix can be called like a method using colonpair notation. For example:</p>
 <pre class="code">my $a = 1;
say ++$a;       # OUTPUT: «2␤»
say $a.:&lt;++&gt;;   # OUTPUT: «3␤»</pre>
 <p>Technically, not a real operator; it's syntax special-cased in the compiler. <span class="indexed"><a id="361" name="prefix call"></a></span></p>
 <a name="t33.15.16"></a><h2 id="_language_operators.pod6-postfix_.::">33.15.16 postfix <span class="code">.::</span></h2>
 <p>A <span class="indexed"><a id="362" name="">class-qualified method call</a></span>, used to call a method as defined in a parent class or role, even after it has been redefined in the child class.</p>
 <pre class="code">class Bar {
    method baz { 42 }
}
class Foo is Bar {
    method baz { &quot;nope&quot; }
}
say Foo.Bar::baz;       # OUTPUT: «42␤»</pre>
 <a name="t33.16"></a><h1 id="_language_operators.pod6-Autoincrement_Precedence">33.16 Autoincrement Precedence</h1>
 <a name="t33.16.1"></a><h2 id="_language_operators.pod6-prefix_++">33.16.1 prefix <a name="363"></a><span class="code">++</span></h2>
 <pre class="code">multi sub prefix:&lt;++&gt;($x is rw) is assoc&lt;non&gt;</pre>
 <p>Increments its argument by one and returns the updated value.<span class="indexed"><a id="364" name="increment operator"></a></span></p>
 <pre class="code">my $x = 3;
say ++$x;   # OUTPUT: «4␤»
say $x;     # OUTPUT: «4␤»</pre>
 <p>It works by calling the <a href="#_routine_succ.pod6">succ</a> method (for <i>successor</i>) on its argument, which gives custom types the freedom to implement their own increment semantics.</p>
 <a name="t33.16.2"></a><h2 id="_language_operators.pod6-prefix_--">33.16.2 prefix <a name="365"></a><span class="code">--</span></h2>
 <pre class="code">multi sub prefix:&lt;--&gt;($x is rw) is assoc&lt;non&gt;</pre>
 <p>Decrements its argument by one and returns the updated value.<span class="indexed"><a id="366" name="decrement operator"></a></span></p>
 <pre class="code">my $x = 3;
say --$x;   # OUTPUT: «2␤»
say $x;     # OUTPUT: «2␤»</pre>
 <p>It works by calling the <a href="#_routine_pred.pod6">pred</a> method (for <i>predecessor</i>) on its argument, which gives custom types the freedom to implement their own decrement semantics.</p>
 <a name="t33.16.3"></a><h2 id="_language_operators.pod6-postfix_++">33.16.3 postfix <a name="367"></a><span class="code">++</span></h2>
 <pre class="code">multi sub postfix:&lt;++&gt;($x is rw) is assoc&lt;non&gt;</pre>
 <p>Increments its argument by one and returns the original value.<span class="indexed"><a id="368" name="increment operator"></a></span></p>
 <pre class="code">my $x = 3;
say $x++;   # OUTPUT: «3␤»
say $x;     # OUTPUT: «4␤»</pre>
 <p>It works by calling the <a href="#_routine_succ.pod6">succ</a> method (for <i>successor</i>) on its argument, which gives custom types the freedom to implement their own increment semantics.</p>
 <p>Note that this does not necessarily return its argument; e.g., for undefined values, it returns 0:</p>
 <pre class="code">my $x;
say $x++;   # OUTPUT: «0␤»
say $x;     # OUTPUT: «1␤»</pre>
 <p>Increment on <a href="#_type_Str.pod6">Str</a> will increment the number part of a string and assign the resulting string to the container. A <span class="code">is rw</span>-container is required.</p>
 <pre class="code">my $filename = &quot;somefile-001.txt&quot;;
say $filename++ for 1..3;
# OUTPUT: «somefile-001.txt␤somefile-002.txt␤somefile-003.txt␤»</pre>
 <a name="t33.16.4"></a><h2 id="_language_operators.pod6-postfix_--">33.16.4 postfix <span class="code">--</span></h2>
 <pre class="code">multi sub postfix:&lt;--&gt;($x is rw) is assoc&lt;non&gt;</pre>
 <p>Decrements its argument by one and returns the original value.<span class="indexed"><a id="369" name="decrement operator"></a></span></p>
 <pre class="code">my $x = 3;
say $x--;   # OUTPUT: «3␤»
say $x;     # OUTPUT: «2␤»</pre>
 <p>It works by calling the <a href="#_routine_pred.pod6">pred</a> method (for <i>predecessor</i>) on its argument, which gives custom types the freedom to implement their own decrement semantics.</p>
 <p>Note that this does not necessarily return its argument;e.g., for undefined values, it returns 0:</p>
 <pre class="code">my $x;
say $x--;   # OUTPUT: «0␤»
say $x;     # OUTPUT: «-1␤»</pre>
 <p>Decrement on <a href="#_type_Str.pod6">Str</a> will decrement the number part of a string and assign the resulting string to the container. A <span class="code">is rw</span>-container is required. Crossing 0 is prohibited and throws <span class="code">X::AdHoc</span>.</p>
 <pre class="code">my $filename = &quot;somefile-003.txt&quot;;
say $filename-- for 1..3;
# OUTPUT: «somefile-003.txt␤somefile-002.txt␤somefile-001.txt␤»</pre>
 <a name="t33.17"></a><h1 id="_language_operators.pod6-Exponentiation_Precedence">33.17 Exponentiation Precedence</h1>
 <a name="t33.17.1"></a><h2 id="_language_operators.pod6-infix_**">33.17.1 infix <span class="code">**</span></h2>
 <pre class="code">multi sub infix:&lt;**&gt;(Any, Any --&gt; Numeric:D) is assoc&lt;right&gt;</pre>
 <p>The <span class="indexed"><a id="370" name="">exponentiation operator</a></span> coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> and calculates the left-hand-side raised to the power of the right-hand side.</p>
 <p>If the right-hand side is a non-negative integer and the left-hand side is an arbitrary precision type (<a href="#_type_Int.pod6">Int</a>, <a href="#_type_FatRat.pod6">FatRat</a>), then the calculation is carried out without loss of precision.</p>
 <a name="t33.18"></a><h1 id="_language_operators.pod6-Symbolic_Unary_Precedence">33.18 Symbolic Unary Precedence</h1>
 <a name="t33.18.1"></a><h2 id="_language_operators.pod6-prefix_?">33.18.1 prefix <span class="code">?</span></h2>
 <pre class="code">multi sub prefix:&lt;?&gt;(Mu --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="371" name="">Boolean context operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Bool.pod6">Bool</a> by calling the <span class="code">Bool</span> method on it. Note that this collapses <a href="#_type_Junction.pod6">Junction</a>s.</p>
 <a name="t33.18.2"></a><h2 id="_language_operators.pod6-prefix_!">33.18.2 prefix <span class="code">!</span></h2>
 <pre class="code">multi sub prefix:&lt;!&gt;(Mu --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="372" name="">Negated boolean context operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Bool.pod6">Bool</a> by calling the <span class="code">Bool</span> method on it, and returns the negation of the result. Note that this collapses <a href="#_type_Junction.pod6">Junction</a>s.</p>
 <a name="t33.18.3"></a><h2 id="_language_operators.pod6-prefix_+">33.18.3 prefix <span class="code">+</span></h2>
 <pre class="code">multi sub prefix:&lt;+&gt;(Any --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="373" name="">Numeric context operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Numeric.pod6">Numeric</a> by calling the <span class="code">Numeric</span> method on it.</p>
 <a name="t33.18.4"></a><h2 id="_language_operators.pod6-prefix_-">33.18.4 prefix <span class="code">-</span></h2>
 <pre class="code">multi sub prefix:&lt;-&gt;(Any --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="374" name="">Negative numeric context operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Numeric.pod6">Numeric</a> by calling the <span class="code">Numeric</span> method on it, and then negates the result.</p>
 <a name="t33.18.5"></a><h2 id="_language_operators.pod6-prefix_~">33.18.5 prefix <span class="code">~</span></h2>
 <pre class="code">multi sub prefix:&lt;~&gt;(Any --&gt; Str:D)</pre>
 <p><span class="indexed"><a id="375" name="">String context operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Str.pod6">Str</a> by calling the <a href="#_type_List.pod6-method_Str">Str</a> method on it.</p>
 <a name="t33.18.6"></a><h2 id="_language_operators.pod6-prefix_|">33.18.6 prefix <span class="code">|</span></h2>
 <p>Flattens objects of type <a href="#_type_Capture.pod6">Capture</a>, <a href="#_type_Pair.pod6">Pair</a>, <a href="#_type_List.pod6">List</a>, <a href="#_type_Map.pod6">Map</a> and <a href="#_type_Hash.pod6">Hash</a> into an argument list.</p>
 <p>Outside of argument lists, it returns a <a href="#_type_Slip.pod6">Slip</a>, which makes it flatten into the outer list. Inside <a href="#_language_list.pod6-Argument_List_(Capture)_Context">argument list</a> <a href="#_type_Positional.pod6"><span class="code">Positional</span> s</a> are turned into positional arguments and <a href="#_type_Associative.pod6"><span class="code">Associative</span> s</a> are turned into named arguments.</p>
 <a name="t33.18.7"></a><h2 id="_language_operators.pod6-prefix_||">33.18.7 prefix <span class="code">||</span></h2>
 <p>TODO</p>
 <a name="t33.18.8"></a><h2 id="_language_operators.pod6-prefix_+^">33.18.8 prefix <span class="code">+^</span></h2>
 <pre class="code">multi sub prefix:&lt;+^&gt;(Any --&gt; Int:D)</pre>
 <p><span class="indexed"><a id="376" name="">Integer bitwise negation operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Int.pod6">Int</a> and does a bitwise negation on the result, assuming <a href="https://en.wikipedia.org/wiki/Two%27s_complement">two's complement</a>.</p>
 <a name="t33.18.9"></a><h2 id="_language_operators.pod6-prefix_~^">33.18.9 prefix <span class="code">~^</span></h2>
 <p>Coerces the argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then flips each bit in that buffer.</p>
 <p>Please note that this has not yet been implemented.</p>
 <a name="t33.18.10"></a><h2 id="_language_operators.pod6-prefix_?^">33.18.10 prefix <span class="code">?^</span></h2>
 <pre class="code">multi sub prefix:&lt;?^&gt;(Mu --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="377" name="">Boolean bitwise negation operator</a></span>.</p>
 <p>Coerces the argument to <a href="#_type_Bool.pod6">Bool</a> and then does a bit flip, which makes it the same as <span class="code">prefix:&lt;!&gt; </span>.</p>
 <a name="t33.18.11"></a><h2 id="_language_operators.pod6-prefix_^">33.18.11 prefix <span class="code">^</span></h2>
 <pre class="code">multi sub prefix:&lt;^&gt;(Any --&gt; Range:D)</pre>
 <p><i>upto</i> operator.<span class="indexed"><a id="378" name="upto operator"></a></span></p>
 <p>Coerces the argument to <a href="#_type_Numeric.pod6">Numeric</a>, and generates a range from 0 up to (but excluding) the argument.</p>
 <pre class="code">say ^5;         # OUTPUT: «0..^5␤»
for ^5 { }      # 5 iterations</pre>
 <a name="t33.19"></a><h1 id="_language_operators.pod6-Dotty_Infix_Precedence">33.19 Dotty Infix Precedence</h1>
 <p>These operators are like their Method Postfix counterparts, but require surrounding whitespace (before and/or after) to distinguish them.</p>
 <a name="t33.19.1"></a><h2 id="_language_operators.pod6-infix_.=">33.19.1 infix <span class="code">.=</span></h2>
 <p>Calls the right-side method on the value in the left-side container, replacing the resulting value in the left-side container.</p>
 <p>In most cases, this behaves identically to the postfix mutator, but the precedence is lower:</p>
 <pre class="code">my $a = -5 
 say ++$a.=abs 
 # OUTPUT: «6␤» 
 say ++$a .= abs 
 # OUTPUT: «Cannot modify an immutable Int␤ 
 #           in block &lt;unit&gt; at &lt;tmp&gt; line 1␤␤» 
</pre>
 <a name="t33.19.2"></a><h2 id="_language_operators.pod6-infix_.">33.19.2 infix <span class="code">.</span></h2>
 <p>Calls the following method (whose name must be alphabetic) on the left-side invocant.</p>
 <p>Note that the infix form of the operator has a slightly lower precedence than postfix <span class="code">.meth</span>.</p>
 <pre class="code">say -5.abs;      # like: -(5.abs)
# OUTPUT: «-5␤»
say -5 . abs;    # like: (-5) . abs
# OUTPUT: «5␤»
say -5 .abs;     # following whitespace is optional
# OUTPUT: «5␤»</pre>
 <a name="t33.20"></a><h1 id="_language_operators.pod6-Multiplicative_Precedence">33.20 Multiplicative Precedence</h1>
 <a name="t33.20.1"></a><h2 id="_language_operators.pod6-infix_*">33.20.1 infix <span class="code">*</span></h2>
 <pre class="code">multi sub infix:&lt;*&gt;(Any, Any --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="379" name="">Multiplication operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> and multiplies them. The result is of the wider type. See <a href="#_type_Numeric.pod6">Numeric</a> for details.</p>
 <a name="t33.20.2"></a><h2 id="_language_operators.pod6-infix_/">33.20.2 infix <span class="code">/</span></h2>
 <pre class="code">multi sub infix:&lt;/&gt;(Any, Any --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="380" name="">Division operator</a></span>.</p>
 <p>Coerces both argument to <a href="#_type_Numeric.pod6">Numeric</a> and divides the left through the right number. Division of <a href="#_type_Int.pod6">Int</a> values returns <a href="#_type_Rat.pod6">Rat</a>, otherwise the &quot;wider type&quot; rule described in <a href="#_type_Numeric.pod6">Numeric</a> holds.</p>
 <a name="t33.20.3"></a><h2 id="_language_operators.pod6-infix_div">33.20.3 infix <span class="code">div</span></h2>
 <pre class="code">multi sub infix:&lt;div&gt;(Int:D, Int:D --&gt; Int:D)</pre>
 <p><span class="indexed"><a id="381" name="">Integer division operator</a></span>. Rounds down.</p>
 <a name="t33.20.4"></a><h2 id="_language_operators.pod6-infix_%">33.20.4 infix <span class="code">%</span></h2>
 <pre class="code">multi sub infix:&lt;%&gt;($x, $y --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="382" name="">Modulo operator</a></span>. Coerces to <a href="#_type_Numeric.pod6">Numeric</a> first.</p>
 <p>Generally the following identity holds:</p>
 <pre class="code">my ($x, $y) = 1,2;
$x % $y == $x - floor($x / $y) * $y</pre>
 <a name="t33.20.5"></a><h2 id="_language_operators.pod6-infix_%%">33.20.5 infix <span class="code">%%</span></h2>
 <pre class="code">multi sub infix:&lt;%%&gt;($a, $b --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="383" name="">Divisibility operator</a></span>. Returns <span class="code">True</span> if <span class="code">$a % $b == 0</span>.</p>
 <a name="t33.20.6"></a><h2 id="_language_operators.pod6-infix_mod">33.20.6 infix <span class="code">mod</span></h2>
 <pre class="code">multi sub infix:&lt;mod&gt;(Int:D $a, Int:D $b --&gt; Int:D)</pre>
 <p><span class="indexed"><a id="384" name="">Integer modulo operator</a></span>. Returns the remainder of an integer modulo operation.</p>
 <a name="t33.20.7"></a><h2 id="_language_operators.pod6-infix_+&amp;">33.20.7 infix <span class="code">+&amp;</span></h2>
 <pre class="code">multi sub infix:&lt;+&amp;&gt;($a, $b --&gt; Int:D)</pre>
 <p>Numeric bitwise <i>AND</i> operator. Coerces both arguments to <a href="#_type_Int.pod6">Int</a> and does a bitwise <i>AND</i> operation assuming two's complement.<span class="indexed"><a id="385" name="Numeric bitwise AND operator"></a></span></p>
 <a name="t33.20.8"></a><h2 id="_language_operators.pod6-infix_+&lt;">33.20.8 infix <span class="code">+&lt;</span></h2>
 <pre class="code">multi sub infix:&lt;&lt; +&lt; &gt;&gt;($a, $b --&gt; Int:D)</pre>
 <p>Integer bit shift to the left.<span class="indexed"><a id="386" name="integer bit shift operator left"></a></span></p>
 <a name="t33.20.9"></a><h2 id="_language_operators.pod6-infix_+&gt;">33.20.9 infix <span class="code">+&gt;</span></h2>
 <pre class="code">multi sub infix:&lt;&lt; +&gt; &gt;&gt;($a, $b --&gt; Int:D)</pre>
 <p>Integer bit shift to the right.<span class="indexed"><a id="387" name="integer bit shift operator right"></a></span></p>
 <a name="t33.20.10"></a><h2 id="_language_operators.pod6-infix_~&amp;">33.20.10 infix <span class="code">~&amp;</span></h2>
 <p>Coerces each argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then performs a numeric bitwise AND on corresponding integers of the two buffers, padding the shorter buffer with zeroes.</p>
 <a name="t33.20.11"></a><h2 id="_language_operators.pod6-infix_~&lt;">33.20.11 infix <span class="code">~&lt;</span></h2>
 <p>Coerces the left argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then performs a numeric bitwise left shift on the bits of the buffer.</p>
 <p>Please note that this has not yet been implemented.</p>
 <a name="t33.20.12"></a><h2 id="_language_operators.pod6-infix_~&gt;">33.20.12 infix <span class="code">~&gt;</span></h2>
 <p>Coerces the left argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then performs a numeric bitwise right shift on the bits of the buffer.</p>
 <p>Please note that this has not yet been implemented.</p>
 <a name="t33.20.13"></a><h2 id="_language_operators.pod6-infix_gcd">33.20.13 infix <span class="code">gcd</span></h2>
 <pre class="code">multi sub infix:&lt;gcd&gt;($a, $b --&gt; Int:D)</pre>
 <p>Coerces both arguments to <a href="#_type_Int.pod6">Int</a> and returns the greatest common divisor.<span class="indexed"><a id="388" name="greatest common divisor operator"></a></span></p>
 <a name="t33.20.14"></a><h2 id="_language_operators.pod6-infix_lcm">33.20.14 infix <span class="code">lcm</span></h2>
 <pre class="code">multi sub infix:&lt;lcm&gt;($a, $b --&gt; Int:D)</pre>
 <p>Coerces both arguments to <a href="#_type_Int.pod6">Int</a> and returns the least common multiple; that is, the smallest integer that is evenly divisible by both arguments.<span class="indexed"><a id="389" name="least common multiple operator"></a></span></p>
 <a name="t33.21"></a><h1 id="_language_operators.pod6-Additive_Precedence">33.21 Additive Precedence</h1>
 <a name="t33.21.1"></a><h2 id="_language_operators.pod6-infix_+">33.21.1 infix <span class="code">+</span></h2>
 <pre class="code">multi sub infix:&lt;+&gt;($a, $b --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="390" name="">Addition operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> and adds them.</p>
 <a name="t33.21.2"></a><h2 id="_language_operators.pod6-infix_-">33.21.2 infix <span class="code">-</span></h2>
 <pre class="code">multi sub infix:&lt;-&gt;($a, $b --&gt; Numeric:D)</pre>
 <p><span class="indexed"><a id="391" name="">Subtraction operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> and subtracts the second from the first.</p>
 <a name="t33.21.3"></a><h2 id="_language_operators.pod6-infix_+|">33.21.3 infix <span class="code">+|</span></h2>
 <pre class="code">multi sub infix:&lt;+|&gt;($a, $b --&gt; Int:D)</pre>
 <p><span class="indexed"><a id="392" name="">Integer bitwise OR operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Int.pod6">Int</a> and does a bitwise <i>OR</i> (inclusive OR) operation.</p>
 <a name="t33.21.4"></a><h2 id="_language_operators.pod6-infix_+^">33.21.4 infix <span class="code">+^</span></h2>
 <pre class="code">multi sub infix:&lt;+^&gt;($a, $b --&gt; Int:D)</pre>
 <p><span class="indexed"><a id="393" name="">Integer bitwise XOR operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Int.pod6">Int</a> and does a bitwise <i>XOR</i> (exclusive OR) operation.</p>
 <a name="t33.21.5"></a><h2 id="_language_operators.pod6-infix_~|">33.21.5 infix <span class="code">~|</span></h2>
 <p>Coerces each argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then performs a numeric bitwise OR on corresponding integers of the two buffers, padding the shorter buffer with zeroes.</p>
 <a name="t33.21.6"></a><h2 id="_language_operators.pod6-infix_~^">33.21.6 infix <span class="code">~^</span></h2>
 <p>Coerces each argument to a non-variable-encoding string buffer type (e.g. <span class="code">buf8</span>, <span class="code">buf16</span>, <span class="code">buf32</span>) and then performs a numeric bitwise XOR on corresponding integers of the two buffers, padding the shorter buffer with zeroes.</p>
 <a name="t33.21.7"></a><h2 id="_language_operators.pod6-infix_?|">33.21.7 infix <span class="code">?|</span></h2>
 <pre class="code">multi sub infix:&lt;?|&gt;($a, $b --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="394" name="">Boolean logical OR operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Bool.pod6">Bool</a> and does a logical <i>OR</i> (inclusive OR) operation.</p>
 <a name="t33.22"></a><h1 id="_language_operators.pod6-Replication_Precedence">33.22 Replication Precedence</h1>
 <a name="t33.22.1"></a><h2 id="_language_operators.pod6-infix_x">33.22.1 infix <span class="code">x</span></h2>
 <pre class="code">sub infix:&lt;x&gt;($a, $b --&gt; Str:D)</pre>
 <p><span class="indexed"><a id="395" name="">String repetition operator</a></span>.</p>
 <p>Repeats the string <span class="code">$a</span> <span class="code">$b</span> times, if necessary coercing <span class="code">$a</span> to <a href="#_type_Str.pod6"><span class="code">Str</span></a> and <span class="code">$b</span> <a href="#_type_Int.pod6"><span class="code">Int</span></a>. Returns an empty string if <span class="code">$b &lt;= 0 </span>.</p>
 <pre class="code">say 'ab' x 3;           # OUTPUT: «ababab␤»
say 42 x 3;             # OUTPUT: «424242␤»

my $a = 'a'.IO;
my $b = 3.5;
say $a x $b;            # OUTPUT: «aaa␤»</pre>
 <a name="t33.22.2"></a><h2 id="_language_operators.pod6-infix_xx">33.22.2 infix <span class="code">xx</span></h2>
 <pre class="code">multi sub infix:&lt;xx&gt;($a, $b --&gt; List:D)</pre>
 <p><span class="indexed"><a id="396" name="">List repetition operator</a></span>.</p>
 <p>Returns a list of <span class="code">$a</span> repeated and evaluated <span class="code">$b</span> times (<span class="code">$b</span> is coerced to <a href="#_type_Int.pod6">Int</a>). If <span class="code">$b &lt;= 0 </span>, the empty list is returned.</p>
 <p>The left-hand side is evaluated for each repetition, so</p>
 <pre class="code">say [1, 2] xx 5;
# OUTPUT: «([1 2] [1 2] [1 2] [1 2] [1 2])␤»</pre>
 <p>returns five distinct arrays (but with the same content each time), and</p>
 <pre class="code">rand xx 3</pre>
 <p>returns three pseudo random numbers that are determined independently.</p>
 <p>The right-hand side can be <span class="code">*</span>, in which case a lazy, infinite list is returned.</p>
 <a name="t33.23"></a><h1 id="_language_operators.pod6-Concatenation">33.23 Concatenation</h1>
 <a name="t33.23.1"></a><h2 id="_language_operators.pod6-infix_~">33.23.1 infix <span class="code">~</span></h2>
 <pre class="code">multi sub infix:&lt;~&gt;(Any,   Any)
multi sub infix:&lt;~&gt;(Str:D, Str:D)
multi sub infix:&lt;~&gt;(Buf:D, Buf:D)</pre>
 <p><span class="indexed"><a id="397" name="">String concatenation operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> and concatenates them. If both arguments are <a href="#_type_Buf.pod6">Buf</a>, a combined buffer is returned.</p>
 <pre class="code">say 'ab' ~ 'c';     # OUTPUT: «abc␤»</pre>
 <a name="t33.23.2"></a><h2 id="_language_operators.pod6-infix_∘">33.23.2 infix <span class="code">∘</span></h2>
 <pre class="code">multi sub infix:&lt;∘&gt;()
multi sub infix:&lt;∘&gt;(&amp;f)
multi sub infix:&lt;∘&gt;(&amp;f, &amp;g --&gt; Block:D)</pre>
 <p><span class="indexed"><a id="398" name="">Function combinator operator</a></span></p>
 <p>The function composition operator <span class="code">infix:&lt;∘&gt;</span> or <span class="code">infix:&lt;o&gt;</span> combines two functions, so that the left function is called with the return value of the right function. If the <a href="#_routine_count.pod6"><span class="code">.count</span></a> of the left function is greater than 1, the return value of the right function will be <a href="#_type_Slip.pod6">slipped</a> into the left function.</p>
 <p>Both <span class="code">.count</span> and <span class="code">.arity</span> of the RHS will be maintained.</p>
 <pre class="code">sub f($p){ say 'f'; $p / 2 }
sub g($p){ say 'g'; $p * 2 }

my &amp;composed = &amp;f ∘ &amp;g;
say composed 2; # OUTPUT: «g␤f␤2␤»
# equivalent to:
say 2.&amp;g.&amp;f;
# or to:
say f g 2;</pre>
 <pre class="code">sub f($a, $b, $c) { [~] $c, $b, $a } 
 sub g($str){ $str.comb } 
 my &amp;composed = &amp;f ∘ &amp;g; 
 say composed 'abc'; # OUTPUT: «cba␤» 
 # equivalent to: 
 say f |g 'abc'; 
</pre>
 <p>The single-arg candidate returns the given argument as is. The zero-arg candidate returns an identity routine that simply returns its argument.</p>
 <pre class="code">my &amp;composed = [∘] &amp;uc;
say composed 'foo'; # OUTPUT: «FOO␤»

my &amp;composed = [∘];
say composed 'foo'; # OUTPUT: «foo␤»</pre>
 <a name="t33.24"></a><h1 id="_language_operators.pod6-Junctive_AND_(all)_Precedence">33.24 Junctive AND (all) Precedence</h1>
 <a name="t33.24.1"></a><h2 id="_language_operators.pod6-infix_&amp;">33.24.1 infix <span class="code">&amp;</span></h2>
 <pre class="code">multi sub infix:&lt;&amp;&gt;($a, $b --&gt; Junction:D) is assoc&lt;list&gt;</pre>
 <p><span class="indexed"><a id="399" name="">All junction operator</a></span>.</p>
 <p>Creates an <i>all</i> <a href="#_type_Junction.pod6">Junction</a> from its arguments. See <a href="#_type_Junction.pod6">Junction</a> for more details.</p>
 <a name="t33.25"></a><h1 id="_language_operators.pod6-Junctive_OR_(any)_Precedence">33.25 Junctive OR (any) Precedence</h1>
 <a name="t33.25.1"></a><h2 id="_language_operators.pod6-infix_|">33.25.1 infix <span class="code">|</span></h2>
 <pre class="code">multi sub infix:&lt;|&gt;($a, $b --&gt; Junction:D) is assoc&lt;list&gt;</pre>
 <p><span class="indexed"><a id="400" name="">Any junction operator</a></span>.</p>
 <p>Creates an <i>any</i> <a href="#_type_Junction.pod6">Junction</a> from its arguments. See <a href="#_type_Junction.pod6">Junction</a> for more details.</p>
 <a name="t33.25.2"></a><h2 id="_language_operators.pod6-infix_^">33.25.2 infix <span class="code">^</span></h2>
 <pre class="code">multi sub infix:&lt;^&gt;($a, $b --&gt; Junction:D) is assoc&lt;list&gt;</pre>
 <p><span class="indexed"><a id="401" name="">One junction operator</a></span>.</p>
 <p>Creates a <i>one</i> <a href="#_type_Junction.pod6">Junction</a> from its arguments. See <a href="#_type_Junction.pod6">Junction</a> for more details.</p>
 <a name="t33.26"></a><h1 id="_language_operators.pod6-Named_Unary_Precedence">33.26 Named Unary Precedence</h1>
 <a name="t33.26.1"></a><h2 id="_language_operators.pod6-prefix_temp">33.26.1 prefix <span class="code">temp</span></h2>
 <pre class="code">sub prefix:&lt;temp&gt;(Mu $a is rw)</pre>
 <p>&quot;temporizes&quot; the variable passed as the argument. The variable begins with the same value as it had in the outer scope, but can be assigned new values in this scope. Upon exiting the scope, the variable will be restored to its original value.</p>
 <pre class="code">my $a = &quot;three&quot;;
say $a; # OUTPUT: «three␤»
{
    temp $a;
    say $a; # OUTPUT: «three␤»
    $a = &quot;four&quot;;
    say $a; # OUTPUT: «four␤»
}
say $a; # OUTPUT: «three␤»</pre>
 <p>You can also assign immediately as part of the call to temp:</p>
 <pre class="code">temp $a = &quot;five&quot;; 
</pre>
 <p>Be warned the <span class="code">temp</span> effects get removed once the block is left. If you were to access the value from, say, within a <a href="#_type_Promise.pod6">Promise</a> after the <span class="code">temp</span> was undone, you'd get the original value, not the <span class="code">temp</span> one:</p>
 <pre class="code">my $v = &quot;original&quot;; 
 { 
     temp $v = &quot;new one&quot;; 
     start { 
         say &quot;[PROMISE] Value before block is left: `$v`&quot;; 
         sleep 1; 
         say &quot;[PROMISE] Block was left while we slept; value is now `$v`&quot;; 
     } 
     sleep ½; 
     say &quot;About to leave the block; value is `$v`&quot;; 
 } 
 say &quot;Left the block; value is now `$v`&quot;; 
 sleep 2; 
 
 # OUTPUT: 
 # [PROMISE] Value before block is left: `new one` 
 # About to leave the block; value is `new one` 
 # Left the block; value is now `original` 
 # [PROMISE] Block was left while we slept; value is now `original` 
</pre>
 <a name="t33.26.2"></a><h2 id="_language_operators.pod6-prefix_let">33.26.2 prefix <span class="code">let</span></h2>
 <pre class="code">sub prefix:&lt;let&gt;(Mu $a is rw)</pre>
 <p>Restores the previous value if the block exits unsuccessfully. A successful exit means the block returned a defined value or a list.</p>
 <pre class="code">my $answer = 42;

{
    let $answer = 84;
    die if not Bool.pick;
    CATCH {
        default { say &quot;it's been reset :(&quot; }
    }
    say &quot;we made it 84 sticks!&quot;;
}

say $answer;</pre>
 <p>In the above case, if the <span class="code">Bool.pick</span> returns true, the answer will stay as 84 because the block returns a defined value (<span class="code">say</span> returns true). Otherwise the <span class="code">die</span> statement will cause the block to exit unsuccessfully, resetting the answer to 42.</p>
 this is duplicated in variables.pod
 <a name="t33.27"></a><h1 id="_language_operators.pod6-Nonchaining_Binary_Precedence">33.27 Nonchaining Binary Precedence</h1>
 <a name="t33.27.1"></a><h2 id="_language_operators.pod6-infix_does">33.27.1 infix <span class="code">does</span></h2>
 <pre class="code">sub infix:&lt;does&gt;(Mu $obj, Mu $role) is assoc&lt;non&gt;</pre>
 <p>Mixes <span class="code">$role</span> into <span class="code">$obj</span> at run time. Requires <span class="code">$obj</span> to be mutable.</p>
 <p>Similar to <a href="#_routine_but.pod6">but</a> operator, the <span class="code">$role</span> can instead be an instantiated object, in which case, the operator will create a role for you automatically. The role will contain a single method named the same as <span class="code">$obj.^name</span> and that returns <span class="code">$obj</span>:</p>
 <pre class="code">my $o = class { method Str { &quot;original&quot; } }.new;
put $o;            # OUTPUT: «original␤»
$o does &quot;modded&quot;;
put $o;            # OUTPUT: «modded␤»</pre>
 <p>If methods of the same name are present already, the last mixed in role takes precedence.</p>
 <a name="t33.27.2"></a><h2 id="_language_operators.pod6-infix_but">33.27.2 infix <span class="code">but</span></h2>
 <pre class="code">multi sub infix:&lt;but&gt;(Mu $obj1, Mu   $role) is assoc&lt;non&gt;
multi sub infix:&lt;but&gt;(Mu $obj1, Mu:D $obj2) is assoc&lt;non&gt;</pre>
 <p>Creates a copy of <span class="code">$obj</span> with <span class="code">$role</span> mixed in. Since <span class="code">$obj</span> is not modified, <span class="code">but</span> can be used to created immutable values with mixins.</p>
 <p>Instead of a role, you can provide an instantiated object. In this case, the operator will create a role for you automatically. The role will contain a single method named the same as <span class="code">$obj.^name</span> and that returns <span class="code">$obj</span>:</p>
 <pre class="code">say 42 but 'forty two'; # OUTPUT: «forty two␤» 
 
 my $s = 12 but class Warbles { method hi { 'hello' } }.new; 
 say $s.Warbles.hi;    # OUTPUT: «hello␤» 
 say $s + 42;          # OUTPUT: «54␤» 
</pre>
 <p>If methods of the same name are present already, the last mixed in role takes precedence. A list of methods can be provided in parentheses separated by comma. In this case conflicts will be reported at runtime.</p>
 <a name="t33.27.3"></a><h2 id="_language_operators.pod6-infix_cmp">33.27.3 infix <span class="code">cmp</span></h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(Any,       Any)
multi sub infix:&lt;cmp&gt;(Real:D,    Real:D)
multi sub infix:&lt;cmp&gt;(Str:D,     Str:D)
multi sub infix:&lt;cmp&gt;(Version:D, Version:D)</pre>
 <p><span class="indexed"><a id="402" name="">Generic, &quot;smart&quot; three-way comparator</a></span>.</p>
 <p>Compares strings with string semantics, numbers with number semantics, <a href="#_type_Pair.pod6">Pair</a> objects first by key and then by value etc.</p>
 <p>if <span class="code">$a eqv $b</span>, then <span class="code">$a cmp $b</span> always returns <span class="code">Order::Same</span>.</p>
 <pre class="code">say (a =&gt; 3) cmp (a =&gt; 4);   # OUTPUT: «Less␤»
say 4        cmp 4.0;        # OUTPUT: «Same␤»
say 'b'      cmp 'a';        # OUTPUT: «More␤»</pre>
 <a name="t33.27.4"></a><h2 id="_language_operators.pod6-infix_leg">33.27.4 infix <span class="code">leg</span></h2>
 <pre class="code">multi sub infix:&lt;leg&gt;(Any,   Any)
multi sub infix:&lt;leg&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="403" name="">String three-way comparator</a></span>. Short for <i>less, equal or greater?</i>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> and then does a lexicographic comparison.</p>
 <pre class="code">say 'a' leg 'b';       # OUTPUT: «Less␤»
say 'a' leg 'a';       # OUTPUT: «Same␤»
say 'b' leg 'a';       # OUTPUT: «More␤»</pre>
 <a name="t33.27.5"></a><h2 id="_language_operators.pod6-infix_&lt;=&gt;">33.27.5 infix <span class="code">&lt;=&gt;</span></h2>
 <pre class="code">multi sub infix:«&lt;=&gt;»($a, $b --&gt; Order:D) is assoc&lt;non&gt;</pre>
 <p><span class="indexed"><a id="404" name="">Numeric three-way comparator</a></span>.<span class="indexed"><a id="405" name="spaceship operator"></a></span></p>
 <p>Coerces both arguments to <a href="#_type_Real.pod6">Real</a> and then does a numeric comparison.</p>
 <a name="t33.27.6"></a><h2 id="_language_operators.pod6-infix_..">33.27.6 infix <span class="code">..</span></h2>
 <pre class="code">multi sub infix:&lt;..&gt;($a, $b --&gt; Range:D) is assoc&lt;non&gt;</pre>
 <p><span class="indexed"><a id="406" name="">Range operator</a></span></p>
 <p>Constructs a <a href="#_type_Range.pod6">Range</a> from the arguments.</p>
 <a name="t33.27.7"></a><h2 id="_language_operators.pod6-infix_..^">33.27.7 infix <span class="code">..^</span></h2>
 <pre class="code">multi sub infix:&lt;..^&gt;($a, $b --&gt; Range:D) is assoc&lt;non&gt;</pre>
 <p><span class="indexed"><a id="407" name="">Right-open range operator</a></span>.</p>
 <p>Constructs a <a href="#_type_Range.pod6">Range</a> from the arguments, excluding the end point.</p>
 <a name="t33.27.8"></a><h2 id="_language_operators.pod6-infix_^..">33.27.8 infix <span class="code">^..</span></h2>
 <pre class="code">multi sub infix:&lt;^..&gt;($a, $b --&gt; Range:D) is assoc&lt;non&gt;</pre>
 <p><span class="indexed"><a id="408" name="">Left-open range operator</a></span>.</p>
 <p>Constructs a <a href="#_type_Range.pod6">Range</a> from the arguments, excluding the start point.</p>
 <a name="t33.27.9"></a><h2 id="_language_operators.pod6-infix_^..^">33.27.9 infix <span class="code">^..^</span></h2>
 <pre class="code">multi sub infix:&lt;^..^&gt;($a, $b --&gt; Range:D) is assoc&lt;non&gt;</pre>
 <p><span class="indexed"><a id="409" name="">Open range operator</a></span></p>
 <p>Constructs a <a href="#_type_Range.pod6">Range</a> from the arguments, excluding both start and end point.</p>
 <a name="t33.28"></a><h1 id="_language_operators.pod6-Chaining_Binary_Precedence">33.28 Chaining Binary Precedence</h1>
 <a name="t33.28.1"></a><h2 id="_language_operators.pod6-infix_==">33.28.1 infix <span class="code">==</span></h2>
 <pre class="code">multi sub infix:&lt;==&gt;(Any, Any)
multi sub infix:&lt;==&gt;(Int:D, Int:D)
multi sub infix:&lt;==&gt;(Num:D, Num:D)
multi sub infix:&lt;==&gt;(Rational:D, Rational:D)
multi sub infix:&lt;==&gt;(Real:D, Real:D)
multi sub infix:&lt;==&gt;(Complex:D, Complex:D)
multi sub infix:&lt;==&gt;(Numeric:D, Numeric:D)</pre>
 <p><span class="indexed"><a id="410" name="">Numeric equality operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> (if necessary); returns <span class="code">True</span> if they are equal.</p>
 <a name="t33.28.2"></a><h2 id="_language_operators.pod6-infix_!=">33.28.2 infix <span class="code">!=</span></h2>
 <pre class="code">sub infix:&lt;!=&gt;(Mu, Mu --&gt; Bool:D)</pre>
 <p><span class="indexed"><a id="411" name="">Numeric inequality operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Numeric.pod6">Numeric</a> (if necessary); returns <span class="code">True</span> if they are distinct.</p>
 <p>Is an alias to <span class="code">!==</span>.</p>
 <a name="t33.28.3"></a><h2 id="_language_operators.pod6-infix_≠">33.28.3 infix <span class="code">≠</span></h2>
 <p>Numeric inequality operator.</p>
 <p>Equivalent to <a href="!=">!=</a>, at codepoint U+2260 (NOT EQUAL TO).</p>
 <a name="t33.28.4"></a><h2 id="_language_operators.pod6-infix_&lt;">33.28.4 infix <span class="code">&lt;</span></h2>
 <pre class="code">multi sub infix:«&lt;»(Int:D, Int:D)
multi sub infix:«&lt;»(Num:D, Num:D)
multi sub infix:«&lt;»(Real:D, Real:D)</pre>
 <p><span class="indexed"><a id="412" name="">Numeric less than operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Real.pod6">Real</a> (if necessary); returns <span class="code">True</span> if the first argument is smaller than the second.</p>
 <a name="t33.28.5"></a><h2 id="_language_operators.pod6-infix_&lt;=">33.28.5 infix <span class="code">&lt;=</span></h2>
 <pre class="code">multi sub infix:«&lt;=»(Int:D, Int:D)
multi sub infix:«&lt;=»(Num:D, Num:D)
multi sub infix:«&lt;=»(Real:D, Real:D)</pre>
 <p><span class="indexed"><a id="413" name="">Numeric less than or equal to operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Real.pod6">Real</a> (if necessary); returns <span class="code">True</span> if the first argument is smaller than or equal to the second.</p>
 <a name="t33.28.6"></a><h2 id="_language_operators.pod6-infix_≤">33.28.6 infix <span class="code">≤</span></h2>
 <p>Numeric less than or equal to operator.</p>
 <p>Equivalent to <a href="&amp;lt;=">&lt;=</a>, at codepoint U+2264 (LESS-THAN OR EQUAL TO).</p>
 <a name="t33.28.7"></a><h2 id="_language_operators.pod6-infix_&gt;">33.28.7 infix <span class="code">&gt;</span></h2>
 <pre class="code">multi sub infix:«&gt;»(Int:D, Int:D)
multi sub infix:«&gt;»(Num:D, Num:D)
multi sub infix:«&gt;»(Real:D, Real:D)</pre>
 <p><span class="indexed"><a id="414" name="">Numeric greater than operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Real.pod6">Real</a> (if necessary); returns <span class="code">True</span> if the first argument is larger than the second.</p>
 <a name="t33.28.8"></a><h2 id="_language_operators.pod6-infix_&gt;=">33.28.8 infix <span class="code">&gt;=</span></h2>
 <pre class="code">multi sub infix:«&gt;=»(Int:D, Int:D)
multi sub infix:«&gt;=»(Num:D, Num:D)
multi sub infix:«&gt;=»(Real:D, Real:D)</pre>
 <p><span class="indexed"><a id="415" name="">Numeric greater than or equal to operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Real.pod6">Real</a> (if necessary); returns <span class="code">True</span> if the first argument is larger than or equal to the second.</p>
 <a name="t33.28.9"></a><h2 id="_language_operators.pod6-infix_≥">33.28.9 infix <span class="code">≥</span></h2>
 <p>Numeric greater than or equal to operator.</p>
 <p>Equivalent to <a href="&amp;gt;=">&gt;=</a>, at codepoint U+2265 (GREATER-THAN OR EQUAL TO).</p>
 <a name="t33.28.10"></a><h2 id="_language_operators.pod6-infix_eq">33.28.10 infix <span class="code">eq</span></h2>
 <pre class="code">multi sub infix:&lt;eq&gt;(Any,   Any)
multi sub infix:&lt;eq&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="416" name="">String equality operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">True</span> if both are equal.</p>
 <p>Mnemonic: <i>equal</i></p>
 <a name="t33.28.11"></a><h2 id="_language_operators.pod6-infix_ne">33.28.11 infix <span class="code">ne</span></h2>
 <pre class="code">multi sub infix:&lt;ne&gt;(Mu,    Mu)
multi sub infix:&lt;ne&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="417" name="">String inequality operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">False</span> if both are equal.</p>
 <p>Mnemonic: <i>not equal</i></p>
 <a name="t33.28.12"></a><h2 id="_language_operators.pod6-infix_gt">33.28.12 infix <span class="code">gt</span></h2>
 <pre class="code">multi sub infix:&lt;gt&gt;(Mu,    Mu)
multi sub infix:&lt;gt&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="418" name="">String greater than operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">True</span> if the first is larger than the second, as determined by lexicographic comparison.</p>
 <p>Mnemonic: <i>greater than</i></p>
 <a name="t33.28.13"></a><h2 id="_language_operators.pod6-infix_ge">33.28.13 infix <span class="code">ge</span></h2>
 <pre class="code">multi sub infix:&lt;ge&gt;(Mu,    Mu)
multi sub infix:&lt;ge&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="419" name="">String greater than or equal to operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">True</span> if the first is equal to or larger than the second, as determined by lexicographic comparison.</p>
 <p>Mnemonic: <i>greater or equal</i></p>
 <a name="t33.28.14"></a><h2 id="_language_operators.pod6-infix_lt">33.28.14 infix <span class="code">lt</span></h2>
 <pre class="code">multi sub infix:&lt;lt&gt;(Mu,    Mu)
multi sub infix:&lt;lt&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="420" name="">String less than operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">True</span> if the first is smaller than the second, as determined by lexicographic comparison.</p>
 <p>Mnemonic: <i>less than</i></p>
 <a name="t33.28.15"></a><h2 id="_language_operators.pod6-infix_le">33.28.15 infix <span class="code">le</span></h2>
 <pre class="code">multi sub infix:&lt;le&gt;(Mu,    Mu)
multi sub infix:&lt;le&gt;(Str:D, Str:D)</pre>
 <p><span class="indexed"><a id="421" name="">String less than or equal to operator</a></span>.</p>
 <p>Coerces both arguments to <a href="#_type_Str.pod6">Str</a> (if necessary); returns <span class="code">True</span> if the first is equal to or smaller than the second, as determined by lexicographic comparison.</p>
 <p>Mnemonic: <i>less or equal</i></p>
 <a name="t33.28.16"></a><h2 id="_language_operators.pod6-infix_before">33.28.16 infix <span class="code">before</span></h2>
 <pre class="code">multi sub infix:&lt;before&gt;(Any,       Any)
multi sub infix:&lt;before&gt;(Real:D,    Real:D)
multi sub infix:&lt;before&gt;(Str:D,     Str:D)
multi sub infix:&lt;before&gt;(Version:D, Version:D)</pre>
 <p>Generic ordering, uses the same semantics as <a href="#32-infix cmp">cmp</a>. Returns <span class="code">True</span> if the first argument is smaller than the second.</p>
 <a name="t33.28.17"></a><h2 id="_language_operators.pod6-infix_after">33.28.17 infix <span class="code">after</span></h2>
 <pre class="code">multi sub infix:&lt;after&gt;(Any,       Any)
multi sub infix:&lt;after&gt;(Real:D,    Real:D)
multi sub infix:&lt;after&gt;(Str:D,     Str:D)
multi sub infix:&lt;after&gt;(Version:D, Version:D)</pre>
 <p>Generic ordering, uses the same semantics as <a href="#32-infix cmp">cmp</a>. Returns <span class="code">True</span> if the first argument is larger than the second.</p>
 <a name="t33.28.18"></a><h2 id="_language_operators.pod6-infix_eqv">33.28.18 infix <span class="code">eqv</span></h2>
 <pre class="code">sub infix:&lt;eqv&gt;(Any, Any)</pre>
 <p><span class="indexed"><a id="422" name="">Equivalence operator</a></span>. Returns <span class="code">True</span> if the two arguments are structurally the same, i.e. from the same type and (recursively) contain equivalent values.</p>
 <pre class="code">say [1, 2, 3] eqv [1, 2, 3];    # OUTPUT: «True␤»
say Any eqv Any;                # OUTPUT: «True␤»
say 1 eqv 2;                    # OUTPUT: «False␤»
say 1 eqv 1.0;                  # OUTPUT: «False␤»</pre>
 <p>Lazy <a href="#_type_Iterable.pod6"><span class="code">Iterables</span></a> cannot be compared, as they're assumed to be infinite. However, the operator will do its best and return <span class="code">False</span> if the two lazy <span class="code">Iterables</span> are of different types or if only one <span class="code">Iterable</span> is lazy.</p>
 <pre class="code">say (1…∞) eqv (1…∞).List; # Both lazy, but different types;   OUTPUT: «False␤»
say (1…∞) eqv (1…3);      # Same types, but only one is lazy; OUTPUT: «False␤»
(try say (1…∞) eqv (1…∞)) # Both lazy and of the same type. Cannot compare; throws.
    orelse say $!.^name;  # OUTPUT: «X::Cannot::Lazy␤»</pre>
 <p>The default <span class="code">eqv</span> operator even works with arbitrary objects. E.g., <span class="code">eqv</span> will consider two instances of the same object as being structurally equivalent:</p>
 <pre class="code">my class A {
    has $.a;
}
say A.new(a =&gt; 5) eqv A.new(a =&gt; 5);  # OUTPUT: «True␤»</pre>
 <p>Although the above example works as intended, the <span class="code">eqv</span> code might fall back to a slower code path in order to do its job. One way to avoid this is to implement an appropriate infix <span class="code">eqv</span> operator:</p>
 <pre class="code">my class A {
    has $.a;
}
multi infix:&lt;eqv&gt;(A $l, A $r) { $l.a eqv $r.a }
say A.new(a =&gt; 5) eqv A.new(a =&gt; 5);            # OUTPUT: «True␤»</pre>
 <a name="t33.28.19"></a><h2 id="_language_operators.pod6-infix_===">33.28.19 infix <span class="code">===</span></h2>
 <pre class="code">sub infix:&lt;===&gt;(Any, Any)</pre>
 <p><span class="indexed"><a id="423" name="">Value identity operator</a></span>. Returns <span class="code">True</span> if both arguments are the same object.</p>
 <pre class="code">my class A { };
my $a = A.new;
say $a === $a;              # OUTPUT: «True␤»
say A.new === A.new;        # OUTPUT: «False␤»
say A === A;                # OUTPUT: «True␤»</pre>
 <p>For value types, <span class="code">===</span> behaves like <span class="code">eqv</span>:</p>
 <pre class="code">say 'a' === 'a';            # OUTPUT: «True␤»
say 'a' === 'b';            # OUTPUT: «False␤»

# different types
say 1 === 1.0;              # OUTPUT: «False␤»</pre>
 <p><span class="code">===</span> uses the <a href="#_routine_WHICH.pod6">WHICH</a> method to obtain the object identity, so all value types must override method <span class="code">WHICH</span>.</p>
 <a name="t33.28.20"></a><h2 id="_language_operators.pod6-infix_=:=">33.28.20 infix <span class="code">=:=</span></h2>
 <pre class="code">multi sub infix:&lt;=:=&gt;(Mu \a, Mu \b)</pre>
 <p><span class="indexed"><a id="424" name="">Container identity operator</a></span>. Returns <span class="code">True</span> if both arguments are bound to the same container. If it returns <span class="code">True</span>, it generally means that modifying one will also modify the other.</p>
 <pre class="code">my ($a, $b) = (1, 3);
say $a =:= $b;      # OUTPUT: «False␤»
$b = 2;
say $a;             # OUTPUT: «1␤»
$b := $a;
say $a =:= $b;      # OUTPUT: «True␤»
$a = 5;
say $b;             # OUTPUT: «5␤»</pre>
 <a name="t33.28.21"></a><h2 id="_language_operators.pod6-infix_~~">33.28.21 infix <span class="code">~~</span></h2>
 <p><span class="indexed"><a id="425" name="smartmatch operator"></a></span> The <span class="indexed"><a id="426" name="">smart-match operator</a></span>. Aliases the left-hand side to <span class="code">$_</span>, then evaluates the right-hand side and calls <span class="code">.ACCEPTS($_)</span> on it. The semantics are left to the type of the right-hand side operand.</p>
 <p>Here is a partial list of some of the built-in smart-matching functionality. For full details, see <a href="#_routine_ACCEPTS.pod6">ACCEPTS</a> documentation for the type on the right-hand side of the operator.</p>
 <table>
<tr><th>Right-hand side</th> <th>Comparison semantics</th></tr>
<tr><td>Mu:U</td> <td>type check</td></tr>
 <tr><td>Str</td> <td>string equality</td></tr>
 <tr><td>Numeric</td> <td>numeric equality</td></tr>
 <tr><td>Regex</td> <td>regex match</td></tr>
 <tr><td>Callable</td> <td>boolean result of invocation</td></tr>
 <tr><td>Set/Bag</td> <td>equal element values</td></tr>
 <tr><td>Any:D</td> <td>object identity</td></tr>
</table> <a name="t33.28.22"></a><h2 id="_language_operators.pod6-infix_=~=">33.28.22 infix <span class="code">=~=</span></h2>
 <pre class="code">multi sub infix:&lt;=~=&gt;(Any, Any)
multi sub infix:&lt;=~=&gt;(Int:D, Int:D)
multi sub infix:&lt;=~=&gt;(Num:D, Num:D)
multi sub infix:&lt;=~=&gt;(Rational:D, Rational:D)
multi sub infix:&lt;=~=&gt;(Real:D, Real:D)
multi sub infix:&lt;=~=&gt;(Complex:D, Complex:D)
multi sub infix:&lt;=~=&gt;(Numeric:D, Numeric:D)</pre>
 <p>The approximately-equal operator <span class="indexed"><a id="427" name="infix  ≅"><span class="code">≅</span></a></span>, whose ASCII variant is <span class="code">=~=</span>. Calculates the relative difference between the left-hand and right-hand sides and returns <span class="code">True</span> if the difference is less than $*TOLERANCE (which defaults to 1e-15). However, if either side is zero then it checks that the absolute difference between the sides is less than $*TOLERANCE. Note that this operator is not arithmetically symmetrical (doesn't do ± Δ):</p>
 <pre class="code">my $x = 1;
say ($x + $*TOLERANCE) =~= $x;   # OUTPUT: «False␤»
say ($x - $*TOLERANCE) =~= $x;   # OUTPUT: «True␤»</pre>
 <p>The tolerance is supposed to be modifiable via an adverb:</p>
 RT #128210
 <pre class="code">my ($x, $y) = 42, 42.1; 
 say $x =~= $y :tolerance(.1); 
</pre>
 <p>However, this is not yet implemented. The same effect can be achieved by assigning to $*TOLERANCE.</p>
 <pre class="code">{
    my $*TOLERANCE = .1;
    say 11 =~= 10;        # OUTPUT: «True␤»
}</pre>
 <p>Note that setting $*TOLERANCE = 0 will cause all comparisons to fail.</p>
 <pre class="code">{
    my $*TOLERANCE = 0;
    say 1 =~= 1;          # OUTPUT: «False␤»
}</pre>
 <a name="t33.29"></a><h1 id="_language_operators.pod6-Tight_AND_Precedence">33.29 Tight AND Precedence</h1>
 <a name="t33.29.1"></a><h2 id="_language_operators.pod6-infix_&amp;&amp;">33.29.1 infix <span class="code">&amp;&amp;</span></h2>
 <p>Returns the first argument that evaluates to <span class="code">False</span> in boolean context, otherwise returns the last argument.</p>
 <p>Note that this short-circuits, i.e. if one of the arguments evaluates to a false value, the arguments to the right are never evaluated.</p>
 <pre class="code">sub a { 1 }
sub b { 0 }
sub c { die &quot;never called&quot; };
say a() &amp;&amp; b() &amp;&amp; c();      # OUTPUT: «0␤»</pre>
 <a name="t33.30"></a><h1 id="_language_operators.pod6-Tight_OR_Precedence">33.30 Tight OR Precedence</h1>
 <a name="t33.30.1"></a><h2 id="_language_operators.pod6-infix_||">33.30.1 infix <span class="code">||</span></h2>
 <p>Returns the first argument that evaluates to <span class="code">True</span> in boolean context, otherwise returns the last argument.</p>
 <p>Note that this short-circuits; i.e., if one of the arguments evaluates to a true value, the remaining arguments are not evaluated.</p>
 <pre class="code">sub a { 0 }
sub b { 1 }
sub c { die &quot;never called&quot; };
say a() || b() || c();      # OUTPUT: «1␤»</pre>
 <a name="t33.30.2"></a><h2 id="_language_operators.pod6-infix_^^">33.30.2 infix <span class="code">^^</span></h2>
 <p><span class="indexed"><a id="428" name="">Short-circuit exclusive-or</a></span>. Returns the true argument if there is one (and only one). Returns the last argument if all arguments are false. Returns <span class="code">Nil</span> when more than one argument is true.</p>
 <p>This operator short-circuits in the sense that it does not evaluate any arguments after a 2nd true result.</p>
 <pre class="code">say 0 ^^ 42;                             # OUTPUT: «42␤»
say '' ^^ 0;                             # OUTPUT: «0␤»
say 0 ^^ 42 ^^ 1 ^^ die &quot;never called&quot;;  # OUTPUT: «␤»</pre>
 <p>Note that the semantics of this operator may not be what you assume: infix <span class="code">^^</span> flips to the first true value it finds and then flips to Nil <i>forever</i> after the second, no matter how many more true values there are. (In other words, it has &quot;find the one true value&quot; semantics, not &quot;boolean parity&quot; semantics.)</p>
 <a name="t33.30.3"></a><h2 id="_language_operators.pod6-infix_//">33.30.3 infix <span class="code">//</span></h2>
 <p>The <span class="indexed"><a id="429" name="defined-or operator">defined-or operator</a></span> or <span class="indexed"><a id="430" name="//">infix //</a></span> returns the first defined operand, or else the last operand. Short-circuits.</p>
 <pre class="code">say Any // 0 // 42;         # OUTPUT: «0␤»</pre>
 <a name="t33.30.4"></a><h2 id="_language_operators.pod6-infix_min">33.30.4 infix <span class="code">min</span></h2>
 <p>Returns the smallest of the arguments, as determined by <a href="#_routine_cmp.pod6">cmp</a> semantics.</p>
 <pre class="code">my $foo = 42;
$foo min= 0   # read as: $foo decreases to 0</pre>
 <a name="t33.30.5"></a><h2 id="_language_operators.pod6-infix_max">33.30.5 infix <span class="code">max</span></h2>
 <p>Returns the largest of the arguments, as determined by <a href="#_routine_cmp.pod6">cmp</a> semantics.</p>
 <pre class="code">my $foo = -42;
$foo max= 0   # read as: $foo increases to 0</pre>
 <a name="t33.30.6"></a><h2 id="_language_operators.pod6-infix_minmax">33.30.6 infix <span class="code">minmax</span></h2>
 <p>Returns the <a href="#_type_Range.pod6">Range</a> starting from the lowest to the highest of the values, as determined by the <a href="#_routine_cmp.pod6">cmp</a> semantics. For instance:</p>
 <pre class="code"># numeric comparison 
 10 minmax 3;     # 3..10 
 
 # string comparison 
 '10' minmax '3'; # &quot;10&quot;..&quot;3&quot; 
 'z' minmax 'k';  # &quot;k&quot;..&quot;z&quot; 
</pre>
 <p>If the lowest and highest values coincide, the operator returns a <a href="#_type_Range.pod6">Range</a> made by the same value:</p>
 <pre class="code">1 minmax 1;  # 1..1 
</pre>
 <p>When applied to <a href="#_type_List.pod6">List</a>s, the operator evaluates the lowest and highest values among all available values:</p>
 <pre class="code">(10,20,30) minmax (0,11,22,33);       # 0..33 
 ('a','b','z') minmax ('c','d','w');   # &quot;a&quot;..&quot;z&quot; 
</pre>
 <p>Similarly, when applied to <a href="#_type_Hash.pod6">Hash</a>es, it performs a <a href="#_routine_cmp.pod6">cmp</a> way comparison:</p>
 <pre class="code">my %winner = points =&gt; 30, misses =&gt; 10; 
 my %loser = points =&gt; 20, misses =&gt; 10; 
 %winner cmp %loser;      # More 
 %winner minmax %loser; 
 # ${:misses(10), :points(20)}..${:misses(10), :points(30)} 
</pre>
 <a name="t33.31"></a><h1 id="_language_operators.pod6-Conditional_Operator_Precedence">33.31 Conditional Operator Precedence</h1>
 <a name="t33.31.1"></a><h2 id="_language_operators.pod6-infix_??_!!">33.31.1 infix <span class="code">?? !!</span></h2>
 <p>Also called <span class="indexed"><a id="431" name="?? !!">Ternary operator</a></span> or Conditional operator.</p>
 <p><span class="code">$condition ?? $true !! $false</span> evaluates and returns the expression from the <span class="code">$true</span> branch if <span class="code">$condition</span> is a true value. Otherwise it evaluates and returns the <span class="code">$false</span> branch.</p>
 <a name="t33.31.2"></a><h2 id="_language_operators.pod6-infix_ff">33.31.2 infix <span class="code">ff</span></h2>
 <pre class="code">sub infix:&lt;ff&gt;(Mu $a, Mu $b)</pre>
 <p>Also called the <span class="indexed"><a id="432" name="ff">flipflop operator</a></span>.</p>
 <p>Compares both arguments to <span class="code">$_</span> (that is, <span class="code">$_ ~~ $a</span> and <span class="code">$_ ~~ $b</span>). Evaluates to <span class="code">False</span> until the left-hand smartmatch is <span class="code">True</span>, at which point it evaluates to <span class="code">True</span> until the right-hand smartmatch is <span class="code">True</span>.</p>
 <p>In effect, the left-hand argument is the &quot;start&quot; condition and the right-hand is the &quot;stop&quot; condition. This construct is typically used to pick up only a certain section of lines. For example:</p>
 <pre class="code">my $excerpt = q:to/END/; 
 Here's some unimportant text. 
 =begin code 
     This code block is what we're after. 
     We'll use 'ff' to get it. 
 =end code 
 More unimportant text. 
 END 
 
 my @codelines = gather for $excerpt.lines { 
     take $_ if  <b>&quot;=begin code&quot; ff &quot;=end code&quot;</b> 
 } 
 
 # this will print four lines, starting with &quot;=begin code&quot; and ending with 
 # &quot;=end code&quot; 
 say @codelines.join(&quot;\n&quot;); 
</pre>
 <p>After matching the start condition, the operator will then match the same <span class="code">$_</span> to the stop condition and act accordingly if successful. In this example, only the first element is printed:</p>
 <pre class="code">for &lt;AB C D B E F&gt; {
    say $_ if /A/ ff /B/;  # OUTPUT: «AB␤»
}</pre>
 <p>If you only want to test against a start condition and have no stop condition, <span class="code">*</span> can be used as the &quot;stop&quot; condition.</p>
 <pre class="code">for &lt;A B C D E&gt; {
    say $_ if /C/ ff *;    # OUTPUT: «C␤D␤E␤»
}</pre>
 <p>For the sed-like version, which does <i>not</i> try <span class="code">$_</span> on the stop condition after succeeding on the start condition, see <a href="&lt;span class=&quot;code&quot;&gt;fff&lt;/span&gt;"><span class="code">fff</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.3"></a><h2 id="_language_operators.pod6-infix_^ff">33.31.3 infix <span class="code">^ff</span></h2>
 <pre class="code">sub infix:&lt;^ff&gt;(Mu $a, Mu $b)</pre>
 <p>Works like <a href="&lt;span class=&quot;code&quot;&gt;ff&lt;/span&gt;"><span class="code">ff</span></a>, except it does not return <span class="code">True</span> for items matching the start condition (including items also matching the stop condition).</p>
 <p>A comparison:</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ ff /C/ for @list;    # OUTPUT: «A␤B␤C␤»
say $_ if /A/ ^ff /C/ for @list;   # OUTPUT: «B␤C␤»</pre>
 <p>The sed-like version can be found in <a href="#_routine_^fff.pod6"><span class="code">^fff</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.4"></a><h2 id="_language_operators.pod6-infix_ff^">33.31.4 infix <span class="code">ff^</span></h2>
 <pre class="code">sub infix:&lt;ff^&gt;(Mu $a, Mu $b)</pre>
 <p>Works like <a href="&lt;span class=&quot;code&quot;&gt;ff&lt;/span&gt;"><span class="code">ff</span></a>, except it does not return <span class="code">True</span> for items matching the stop condition (including items that first matched the start condition).</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ ff /C/ for @list;    # OUTPUT: «A␤B␤C␤»
say $_ if /A/ ff^ /C/ for @list;   # OUTPUT: «A␤B␤»</pre>
 <p>The sed-like version can be found in <a href="&lt;span class=&quot;code&quot;&gt;fff^&lt;/span&gt;"><span class="code">fff^</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.5"></a><h2 id="_language_operators.pod6-infix_^ff^">33.31.5 infix <span class="code">^ff^</span></h2>
 <pre class="code">sub infix:&lt;^ff^&gt;(Mu $a, Mu $b)</pre>
 <p>Works like <a href="&lt;span class=&quot;code&quot;&gt;ff&lt;/span&gt;"><span class="code">ff</span></a>, except it does not return <span class="code">True</span> for items matching either the stop or start condition (or both).</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ ff /C/ for @list;    # OUTPUT: «A␤B␤C␤»
say $_ if /A/ ^ff^ /C/ for @list;  # OUTPUT: «B␤»</pre>
 <p>The sed-like version can be found in <a href="#_routine_^fff^.pod6"><span class="code">^fff^</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.6"></a><h2 id="_language_operators.pod6-infix_fff">33.31.6 infix <span class="code">fff</span></h2>
 <pre class="code">sub infix:&lt;fff&gt;(Mu $a, Mu $b)</pre>
 <p>Performs a sed-like flipflop operation, wherein it returns <span class="code">False</span> until the left argument smartmatches against <span class="code">$_</span>, then returns <span class="code">True</span> until the right argument smartmatches against <span class="code">$_</span>.</p>
 <p>Works similarly to <a href="&lt;span class=&quot;code&quot;&gt;ff&lt;/span&gt;"><span class="code">ff</span></a>, except that it only tries one argument per invocation. That is, if <span class="code">$_</span> smartmatches the left argument, <span class="code">fff</span> will <b>not</b> then try to match that same <span class="code">$_</span> against the right argument.</p>
 <pre class="code">for &lt;AB C D B E F&gt; {
    say $_ if /A/ fff /B/;         # OUTPUT: «AB␤C␤D␤B␤»
}</pre>
 <p>The non-sed-like flipflop (which after successfully matching the left argument against <span class="code">$_</span> will try that same <span class="code">$_</span> against the right argument and act accordingly). See <a href="&lt;span class=&quot;code&quot;&gt;ff&lt;/span&gt;"><span class="code">ff</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.7"></a><h2 id="_language_operators.pod6-infix_^fff">33.31.7 infix <span class="code">^fff</span></h2>
 <pre class="code">sub infix:&lt;^fff&gt;(Mu $a, Mu $b)</pre>
 <p>Like <a href="&lt;span class=&quot;code&quot;&gt;fff&lt;/span&gt;"><span class="code">fff</span></a>, except it does not return true for matches to the left argument.</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ fff /C/ for @list;   # OUTPUT: «A␤B␤C␤»
say $_ if /A/ ^fff /C/ for @list;  # OUTPUT: «B␤C␤»</pre>
 <p>For the non-sed version, see <a href="#_routine_^ff.pod6"><span class="code">^ff</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.8"></a><h2 id="_language_operators.pod6-infix_fff^">33.31.8 infix <span class="code">fff^</span></h2>
 <pre class="code">sub infix:&lt;fff^&gt;(Mu $a, Mu $b)</pre>
 <p>Like <a href="&lt;span class=&quot;code&quot;&gt;fff&lt;/span&gt;"><span class="code">fff</span></a>, except it does not return true for matches to the right argument.</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ fff /C/ for @list;   # OUTPUT: «A␤B␤C␤»
say $_ if /A/ fff^ /C/ for @list;  # OUTPUT: «A␤B␤»</pre>
 <p>For the non-sed version, see <a href="&lt;span class=&quot;code&quot;&gt;ff^&lt;/span&gt;"><span class="code">ff^</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.31.9"></a><h2 id="_language_operators.pod6-infix_^fff^">33.31.9 infix <span class="code">^fff^</span></h2>
 <pre class="code">sub infix:&lt;^fff^&gt;(Mu $a, Mu $b)</pre>
 <p>Like <a href="&lt;span class=&quot;code&quot;&gt;fff&lt;/span&gt;"><span class="code">fff</span></a>, except it does not return true for matches to either the left or right argument.</p>
 <pre class="code">my @list = &lt;A B C&gt;;
say $_ if /A/ fff /C/ for @list;   # OUTPUT: «A␤B␤C␤»
say $_ if /A/ ^fff^ /C/ for @list; # OUTPUT: «B␤»</pre>
 <p>For the non-sed version, see <a href="#_routine_^ff^.pod6"><span class="code">^ff^</span></a>.</p>
 <p>This operator cannot be overloaded, as it's handled specially by the compiler.</p>
 <a name="t33.32"></a><h1 id="_language_operators.pod6-Item_Assignment_Precedence">33.32 Item Assignment Precedence</h1>
 <a name="t33.32.1"></a><h2 id="_language_operators.pod6-infix_=">33.32.1 infix <span class="code">=</span></h2>
 <pre class="code">sub infix:&lt;=&gt;(Mu $a is rw, Mu $b) 
</pre>
 <p>Called the <i>item assignment operator</i>, it Places the value of the right-hand side into the container on the left-hand side. Its exact semantics are left to the container type on the left-hand side.</p>
 <p>(Note that item assignment and list assignment have different precedence levels, and the syntax of the left-hand side decides whether an equal sign <span class="code">=</span> is parsed as item assignment or list assignment operator).</p>
 <a name="t33.32.2"></a><h2 id="_language_operators.pod6-infix_=&gt;">33.32.2 infix <span class="code">=&gt;</span></h2>
 <pre class="code">sub infix:«=&gt;»($key, Mu $value --&gt; Pair:D)</pre>
 <p><a href="#_type_Pair.pod6">Pair</a> constructor.<span class="indexed"><a id="433" name="pair constructor"></a></span></p>
 <p>Constructs a <a href="#_type_Pair.pod6">Pair</a> object with the left-hand side as the key and the right-hand side as the value.</p>
 <p>Note that the <span class="code">=&gt; </span> operator is syntactically special-cased, in that it allows unquoted identifier on the left-hand side.</p>
 <pre class="code">my $p = a =&gt; 1;
say $p.key;         # OUTPUT: «a␤»
say $p.value;       # OUTPUT: «1␤»</pre>
 <p>A <a href="#_type_Pair.pod6">Pair</a> within an argument list with an unquoted identifier on the left is interpreted as a named argument.</p>
 <p>See <a href="#_language_terms.pod6-Pair">the Terms language documentation</a> for more ways to create <span class="code">Pair</span> objects.</p>
 <a name="t33.33"></a><h1 id="_language_operators.pod6-Loose_Unary_Precedence">33.33 Loose Unary Precedence</h1>
 <a name="t33.33.1"></a><h2 id="_language_operators.pod6-prefix_not">33.33.1 prefix <span class="code">not</span></h2>
 <pre class="code">multi sub prefix:&lt;not&gt;(Mu $x --&gt; Bool:D)</pre>
 <p>Evaluates its argument in boolean context (and thus collapses <a href="#_type_Junction.pod6">Junction</a>s), and negates the result. Please note that <span class="code">not</span> is easy to misuse. See <a href="#_language_traps.pod6-Loose_boolean_operators">traps</a>.</p>
 <a name="t33.33.2"></a><h2 id="_language_operators.pod6-prefix_so">33.33.2 prefix <span class="code">so</span></h2>
 <pre class="code">multi sub prefix:&lt;so&gt;(Mu $x --&gt; Bool:D)</pre>
 <p>Evaluates its argument in boolean context (and thus collapses <a href="#_type_Junction.pod6">Junction</a>s), and returns the result.</p>
 <a name="t33.34"></a><h1 id="_language_operators.pod6-Comma_Operator_Precedence">33.34 Comma Operator Precedence</h1>
 <a name="t33.34.1"></a><h2 id="_language_operators.pod6-infix_,">33.34.1 infix <span class="code">,</span></h2>
 <pre class="code">sub infix:&lt;,&gt;(*@a --&gt; List:D) is assoc&lt;list&gt;</pre>
 <p>Constructs a <a href="#_type_List.pod6">List</a> from its arguments. Also used syntactically as the separator of arguments in calls.</p>
 <a name="t33.34.2"></a><h2 id="_language_operators.pod6-infix_:">33.34.2 infix <span class="code">:</span></h2>
 <p>Used as an argument separator just like infix <span class="code">,</span> and marks the argument to its left as the invocant. That turns what would otherwise be a function call into a method call.</p>
 <pre class="code">substr('abc': 1);       # same as 'abc'.substr(1)</pre>
 <p>Infix <span class="code">:</span> is only allowed after the first argument of a non-method call. In other positions, it's a syntax error.</p>
 <a name="t33.35"></a><h1 id="_language_operators.pod6-List_Infix_Precedence">33.35 List Infix Precedence</h1>
 <a name="t33.35.1"></a><h2 id="_language_operators.pod6-infix_Z">33.35.1 infix <span class="code">Z</span></h2>
 <pre class="code">sub infix:&lt;Z&gt;(**@lists --&gt; Seq:D) is assoc&lt;chain&gt;</pre>
 <p><span class="indexed"><a id="434" name="">Zip operator</a></span>.</p>
 <p>Interleaves the lists passed to <span class="code">Z</span> like a zipper, stopping as soon as the first input list is exhausted. The returned <span class="code">Seq</span> contains a nested list with values for all <span class="code">Z</span> operators in a chain.</p>
 <pre class="code">say (1, 2 Z &lt;a b c&gt; Z &lt;+ -&gt;).perl;  # OUTPUT: «((1, &quot;a&quot;, &quot;+&quot;), (2, &quot;b&quot;, &quot;-&quot;)).Seq␤»
for &lt;a b c&gt; Z &lt;1 2 3&gt; -&gt; [$l, $r] {
    say &quot;$l:$r&quot;
}
# OUTPUT: «a:1␤b:2␤c:3␤»</pre>
 <p>The <span class="code">Z</span> operator also exists as a meta operator, in which case the inner lists are replaced by the value from applying the operator to the list:</p>
 <pre class="code">say 100, 200 Z+ 42, 23;             # OUTPUT: «(142 223)␤»
say 1..3 Z~ &lt;a b c&gt; Z~ 'x' xx 3;    # OUTPUT: «(1ax 2bx 3cx)␤»</pre>
 <a name="t33.35.2"></a><h2 id="_language_operators.pod6-infix_X">33.35.2 infix <span class="code">X</span></h2>
 <pre class="code">sub infix:&lt;X&gt;(**@lists --&gt; List:D)</pre>
 <p>Creates a cross product from all the lists, order so that the rightmost elements vary most rapidly:<span class="indexed"><a id="435" name="cross product operator"></a></span></p>
 <pre class="code">1..3 X &lt;a b c&gt; X 9
# produces ((1 a 9) (1 b 9) (1 c 9)
#           (2 a 9) (2 b 9) (2 c 9)
#           (3 a 9) (3 b 9) (3 c 9))</pre>
 <p>The <span class="code">X</span> operator also exists as a meta operator, in which case the inner lists are replaced by the value from applying the operator to the list:</p>
 <pre class="code">1..3 X~ &lt;a b c&gt; X~ 9
# produces (1a9 1b9 1c9 2a9 2b9 2c9 3a9 3b9 3c9)</pre>
 <a name="t33.35.3"></a><h2 id="_language_operators.pod6-infix_...">33.35.3 infix <span class="code">...</span> <a name="436"></a><a name="437"></a><a name="438"></a><a name="439"></a><a name="440"></a></h2>
 <pre class="code">multi sub infix:&lt;...&gt;(**@) is assoc&lt;list&gt;
multi sub infix:&lt;...^&gt;(**@) is assoc&lt;list&gt;</pre>
 <p>The <span class="indexed"><a id="441" name="">sequence operator</a></span> will produce generic sequences on demand.</p>
 <p>The left hand side will always include initial elements; it may include a generator too. The right hand side will have an endpoint, which can be <span class="code">Inf</span> or <span class="code">*</span> for &quot;infinite&quot; lists (whose elements are only produced on demand), an expression which will end the sequence when <span class="code">True</span>, or other elements such as <a href="#_type_Junctions.pod6">Junctions</a>.</p>
 <p>The sequence operator invokes the generator with as many arguments as necessary. The arguments are taken from the initial elements and the already generated elements. The default generator is <span class="code">*.</span><a href="#_routine_succ.pod6">succ</a> or <span class="code">*.</span><a href="#_routine_pred.pod6">pred</a>, depending on how the end points compare:</p>
 <pre class="code">say 1 ... 4;        # OUTPUT: «(1 2 3 4)␤»
say 4 ... 1;        # OUTPUT: «(4 3 2 1)␤»
say 'a' ... 'e';    # OUTPUT: «(a b c d e)␤»
say 'e' ... 'a';    # OUTPUT: «(e d c b a)␤»</pre>
 <p>An endpoint of <span class="code">*</span> (<a href="#_type_Whatever.pod6">Whatever</a>), <span class="code">Inf</span> or <span class="code">∞</span> generates on demand an infinite sequence, with a default generator of *.succ</p>
 <pre class="code">say (1 ... *)[^5];  # OUTPUT: «(1 2 3 4 5)␤»</pre>
 <p>Custom generators need to be the last argument before the '...' operator. This one takes two arguments, and generates the Fibonacci numbers</p>
 <pre class="code">say (1, 1, -&gt; $a, $b { $a + $b } ... *)[^8];    # OUTPUT: «(1 1 2 3 5 8 13 21)␤»
# same but shorter
say (1, 1, * + * ... *)[^8];                    # OUTPUT: «(1 1 2 3 5 8 13 21)␤»</pre>
 <p>Of course the generator can also take only one argument.</p>
 <pre class="code">say 5, { $_ * 2 } ... 40;                       # OUTPUT: «5 10 20 40␤»</pre>
 <p>There must be at least as many initial elements as arguments to the generator.</p>
 <p>Without a generator and with more than one initial element and all initial elements numeric, the sequence operator tries to deduce the generator. It knows about arithmetic and geometric sequences.</p>
 <pre class="code">say 2, 4, 6 ... 12;     # OUTPUT: «(2 4 6 8 10 12)␤»
say 1, 2, 4 ... 32;     # OUTPUT: «(1 2 4 8 16 32)␤»</pre>
 <p>If the endpoint is not <span class="code">*</span>, it's smart-matched against each generated element and the sequence is terminated when the smart-match succeeded. For the <span class="code">...</span> operator, the final element is included, for the <span class="code">...^</span> operator it's excluded.</p>
 <p>This allows you to write</p>
 <pre class="code">say 1, 1, * + * ...^ *&gt;= 100;</pre>
 <p>To generate all Fibonacci numbers up to but excluding 100.</p>
 <p>The <span class="code">...</span> operators consider the initial values as &quot;generated elements&quot; as well, so the are also checked against the endpoint:</p>
 <pre class="code">my $end = 4;
say 1, 2, 4, 8, 16 ... $end;
# OUTPUT: «(1 2 4)␤»</pre>
 <a name="t33.36"></a><h1 id="_language_operators.pod6-List_Prefix_Precedence">33.36 List Prefix Precedence</h1>
 <a name="t33.36.1"></a><h2 id="_language_operators.pod6-infix_=">33.36.1 infix <span class="code">=</span></h2>
 <p><span class="indexed"><a id="442" name="">List assignment operator</a></span>. Its exact semantics are left to the container type on the left-hand side. See <a href="#_type_Array.pod6">Array</a> and <a href="#_type_Hash.pod6">Hash</a> for common cases.</p>
 <p>The distinction between item assignment and list assignment is determined by the parser depending on the syntax of the left-hand side.</p>
 <a name="t33.36.2"></a><h2 id="_language_operators.pod6-infix_:=">33.36.2 infix <span class="code">:=</span></h2>
 <p><span class="indexed"><a id="443" name="">Binding operator</a></span>. Whereas <span class="code">$x = $y</span> puts the value in <span class="code">$y</span> into <span class="code">$x</span>, <span class="code">$x := $y</span> makes <span class="code">$x</span> and <span class="code">$y</span> the same thing.</p>
 <pre class="code">my $a = 42;
my $b = $a;
$b++;
say $a;</pre>
 <p>This will output 42, because <span class="code">$a</span> and <span class="code">$b</span> both contained the number <span class="code">42</span>, but the <a href="#_language_containers.pod6-Binding">containers</a> were different.</p>
 <pre class="code">my $a = 42;
my $b := $a;
$b++;
say $a;</pre>
 <p>This will output 43, since <span class="code">$b</span> and <span class="code">$a</span> both represented the same object.</p>
 <p>If type constrains on variables or containers are present a type check will be performed at runtime. On failure <span class="code">X::TypeCheck::BindingType</span> will be thrown.</p>
 <p>Please note that <span class="code">:=</span> is a compile time construct. As such it can not be referred to at runtime and thus can't be used as an argument to meta operators.</p>
 <a name="t33.36.3"></a><h2 id="_language_operators.pod6-infix_::=">33.36.3 infix <span class="code">::=</span></h2>
 <p><span class="indexed"><a id="444" name="">Read-only binding operator</a></span>, not yet implemented in Rakudo. See <a href=":="><span class="code">infix :=</span></a>.</p>
 <a name="t33.36.4"></a><h2 id="_language_operators.pod6-listop_...">33.36.4 listop <span class="code">...</span></h2>
 <p><span class="indexed"><a id="445" name="stub operator"></a></span> The <i>yada, yada, yada</i> operator or <i>stub</i> operator. If it's the only statement in a routine or type, it marks that routine or type as a stub (which is significant in the context of pre-declaring types and composing roles).</p>
 <p>If the <span class="code">...</span> statement is executed, it calls <a href="#_routine_fail.pod6">fail</a>, with the default message <span class="code">stub code executed</span>.</p>
 <a name="t33.36.5"></a><h2 id="_language_operators.pod6-listop_!!!">33.36.5 listop <span class="code">!!!</span></h2>
 <p><span class="indexed"><a id="446" name="">Fatal stub operator</a></span>.</p>
 <p>If it's the only statement in a routine or type, it marks that routine or type as a stub (which is significant in the context of pre-declaring types and composing roles).</p>
 <p>If the <span class="code">!!!</span> statement is executed, it calls <a href="#_routine_die.pod6">die</a>, with the default message <span class="code">stub code executed</span>.</p>
 <a name="t33.36.6"></a><h2 id="_language_operators.pod6-listop_???">33.36.6 listop <span class="code">???</span></h2>
 <p><span class="indexed"><a id="447" name="">Admonitory stub operator</a></span>.</p>
 <p>If it's the only statement in a routine or type, it marks that routine or type as a stub (which is significant in the context of pre-declaring types and composing roles).</p>
 <p>If the <span class="code">???</span> statement is executed, it calls <a href="#_routine_warn.pod6">warn</a>, with the default message <span class="code">stub code executed</span>.</p>
 <a name="t33.36.7"></a><h2 id="_language_operators.pod6-Reduction_operators">33.36.7 Reduction operators</h2>
 <p>Any infix operator (except for non-associating operators) can be surrounded by square brackets in term position to create a list operator that reduces using that operation.</p>
 <pre class="code">say [+] 1, 2, 3;      # 1 + 2 + 3 = 6
my @a = (5, 6);
say [*] @a;           # 5 * 6 = 30</pre>
 <p>Reduction operators have the same associativity as the operators they are based on.</p>
 <pre class="code">say [-] 4, 3, 2;      # 4-3-2 = (4-3)-2 = -1
say [**] 4, 3, 2;     # 4**3**2 = 4**(3**2) = 262144</pre>
 <a name="t33.37"></a><h1 id="_language_operators.pod6-Loose_AND_precedence">33.37 Loose AND precedence</h1>
 <a name="t33.37.1"></a><h2 id="_language_operators.pod6-infix_and">33.37.1 infix <span class="code">and</span></h2>
 <p>Same as <a href="#32-infix &amp;amp;&amp;amp;">#infix &amp;&amp;</a>, except with looser precedence.</p>
 <p>Short-circuits so that it returns the first operand that evaluates to <span class="code">False</span>, otherwise returns the last operand. Note that <span class="code">and</span> is easy to misuse. See <a href="#_language_traps.pod6-Loose_boolean_operators">traps</a>.</p>
 <a name="t33.37.2"></a><h2 id="_language_operators.pod6-infix_andthen">33.37.2 infix <span class="code">andthen</span> <a name="448"></a></h2>
 <p>The <span class="code">andthen</span> operator returns <a href="#_type_Slip.pod6-index-entry-Empty-Empty"><span class="code">Empty</span></a> upon encountering the first <a href="#_routine_defined.pod6">undefined</a> argument, otherwise the last argument. Last argument is returned as-is, without being checked for definedness at all. Short-circuits. The result of the left side is bound to <span class="code">$_</span> for the right side, or passed as arguments if the right side is a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>, whose <a href="#_routine_count.pod6">count</a> must be <span class="code">0</span> or <span class="code">1</span>.</p>
 <p>A handy use of this operator is to alias a routine's return value to <span class="code">$_</span> and to do additional manipulation with it, such as printing or returning it to caller. Since the <span class="code">andthen</span> operator short-circuits, statements on the right-hand side won't get executed, unless left-hand side is defined (tip: <a href="#_type_Failure.pod6">Failures</a> are never defined, so you can handle them with this operator).</p>
 <pre class="code">sub load-data {
    rand  &gt; .5 or return; # simulated load data failure; return Nil
    (rand &gt; .3 ?? 'error' !! 'good data') xx 10 # our loaded data
}
load-data.first: /good/ andthen say &quot;$_ is good&quot;;
# OUTPUT: «(good data is good)␤»

load-data() andthen .return; # return loaded data, if it's defined
die &quot;Failed to load data!!&quot;;</pre>
 <p>The above example will print <span class="code">good data is good</span> only if the subroutine returned any items that match <span class="code">/good/</span> and will die unless loading data returned a defined value. The aliasing behaviour lets us pipe the values across the operator.</p>
 <p>The <span class="code">andthen</span> operator is a close relative of <a href="#_syntax_with orwith without.pod6"><span class="code">with</span>  statement modifier</a>, and some compilers compile <span class="code">with</span> to <span class="code">andthen</span>, meaning these two lines have equivalent behaviour:</p>
 <pre class="code">.say with 42;
42 andthen .say;</pre>
 <a name="t33.37.3"></a><h2 id="_language_operators.pod6-infix_notandthen">33.37.3 infix <span class="code">notandthen</span></h2>
 <p>The <span class="indexed"><a id="449" name="">notandthen</a></span> operator returns <a href="#_type_Slip.pod6-index-entry-Empty-Empty"><span class="code">Empty</span></a> upon encountering the first <a href="#_routine_defined.pod6">defined</a> argument, otherwise the last argument. Last argument is returned as-is, without being checked for definedness at all. Short-circuits. The result of the left side is bound to <span class="code">$_</span> for the right side, or passed as arguments if the right side is a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>, whose <a href="#_routine_count.pod6">count</a> must be <span class="code">0</span> or <span class="code">1</span>.</p>
 <p>At first glance, <a href="#_routine_notandthen.pod6">notandthen</a> might appear to be the same thing as the <a href="#_routine_orelse.pod6">orelse</a> operator. The difference is subtle: <a href="#_routine_notandthen.pod6">notandthen</a> returns <a href="#_type_Slip.pod6-index-entry-Empty-Empty"><span class="code">Empty</span></a> when it encounters a <a href="#_routine_defined.pod6">defined</a> item (that isn't the last item), whereas <a href="#_routine_orelse.pod6">orelse</a> returns that item. In other words, <a href="#_routine_notandthen.pod6">notandthen</a> is a means to act when items aren't defined, whereas <a href="#_routine_orelse.pod6">orelse</a> is a means to obtain the first defined item:</p>
 <pre class="code">sub all-sensors-down     { [notandthen] |@_, True             } 
 sub first-working-sensor { [orelse]     |@_, 'default sensor' } 
 
 all-sensors-down Nil, Nil, Nil 
   and say 'OMG! All sensors are down!'; # OUTPUT:«OMG! All sensors are down!␤» 
 say first-working-sensor Nil, Nil, Nil; # OUTPUT:«default sensor␤» 
 
 all-sensors-down Nil, 42, Nil 
   and say 'OMG! All sensors are down!'; # No output 
 say first-working-sensor Nil, 42, Nil;  # OUTPUT:«42␤» 
</pre>
 <p>The <span class="code">andthen</span> operator is a close relative of <a href="#_syntax_with orwith without.pod6"><span class="code">without</span>  statement modifier</a>, and some compilers compile <span class="code">without</span> to <span class="code">notandthen</span>, meaning these two lines have equivalent behaviour:</p>
 <pre class="code">sub good-things { fail } 
 
 'boo'.say without good-things; 
 good-things() notandthen 'boo'.say; 
</pre>
 <a name="t33.38"></a><h1 id="_language_operators.pod6-Loose_OR_Precedence">33.38 Loose OR Precedence</h1>
 <a name="t33.38.1"></a><h2 id="_language_operators.pod6-infix_or">33.38.1 infix <span class="code">or</span></h2>
 <p>Same as <a href="#32-infix || ">infix  <span class="code">||</span></a>, except with looser precedence.</p>
 <p>Returns the first argument that evaluates to <span class="code">True</span> in boolean context, or otherwise the last argument, it short-circuits. Please note that <span class="code">or</span> is easy to misuse. See <a href="#_language_traps.pod6-Loose_boolean_operators">traps</a>.</p>
 <a name="t33.38.2"></a><h2 id="_language_operators.pod6-infix_orelse">33.38.2 <a name="450"></a>infix  <span class="code">orelse</span></h2>
 <p>The <span class="code">orelse</span> operator is similar to <span class="code">infix //</span>, except with looser precedence and <span class="code">$_</span> aliasing.</p>
 <p>Returns the first defined argument, or else the last argument. Last argument is returned as-is, without being checked for definedness at all. Short-circuits. The result of the left side is bound to <span class="code">$_</span> for the right side, or passed as an argument if the right side is a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>, whose <a href="#_routine_count.pod6">count</a> must be <span class="code">0</span> or <span class="code">1</span>.</p>
 <p>This operator is useful for handling <a href="#_type_Failure.pod6">Failures</a> returned by routines since the expected value is usually <a href="#_routine_defined.pod6">defined</a> and <a href="#_type_Failure.pod6">Failure</a> never is:</p>
 <pre class="code">sub meows { ++$ &lt; 4 ?? fail 'out of meows!' !! '🐱' }

sub meows-processor1 { meows() orelse .return } # return handled Failure
sub meows-processor2 { meows() orelse fail $_ } # return re-armed Failure
sub meows-processor3 {
    # Use non-Failure output, or else print a message that stuff's wrong
    meows() andthen .say orelse ‘something's wrong’.say;
}

say &quot;{.^name}, {.handled}&quot;  # OUTPUT: «Failure, True␤»
    given meows-processor1;
say &quot;{.^name}, {.handled}&quot;  # OUTPUT: «Failure, False␤»
    given meows-processor2;
meows-processor3;           # OUTPUT: «something's wrong␤»
meows-processor3;           # OUTPUT: «🐱␤»</pre>
 <a name="t33.38.3"></a><h2 id="_language_operators.pod6-infix_xor">33.38.3 infix <span class="code">xor</span></h2>
 <p>Same as <a href="#32-infix ^^">infix  <span class="code">^^</span></a>, except with looser precedence.</p>
 <p>Returns the operand that evaluates to <span class="code">True</span> in boolean context, if and only if the other operand evaluates to <span class="code">False</span> in boolean context. If both operands evaluate to <span class="code">False</span>, returns the last argument. If both operands evaluate to <span class="code">True</span>, returns <span class="code">Nil</span>.</p>
 <p>When chaining, returns the operand that evaluates to <span class="code">True</span>, if and only if there is one such operand. If more than one operand is true, it short-circuits after evaluating the second and returns <span class="code">Nil</span>. If all operands are false, returns the last one.</p>
 <a name="t33.39"></a><h1 id="_language_operators.pod6-Sequencer_Precedence">33.39 Sequencer Precedence</h1>
 <a name="t33.39.1"></a><h2 id="_language_operators.pod6-infix_==&gt;">33.39.1 infix <span class="code">==&gt;</span></h2>
 <p>This <span class="indexed"><a id="451" name="">feed</a></span> operator takes the result from the left and passes it to the next (right) routine as the last parameter.</p>
 <p>The precedence is very loose so you will need to use parentheses to assign the result or you can even just use another feed operator! In the case of routines/methods that take a single argument or where the first argument is a block, it's often required that you call with parentheses (though this is not required for the very last routine/method).</p>
 <p>This &quot;traditional&quot; structure, read bottom-to-top, with the last two lines creating the data structure that is going to be processed</p>
 <pre class="code">my @fractions = &lt;TWO THREE FOUR FIVE SEVEN&gt; »~» &quot; &quot; X~ &lt;FIFTHS SIXTHS EIGHTHS&gt;;
my @result = map { .uniparse },                    # (3) Converts to unicode
    grep { .uniparse },                            # (2) Checks if it parses
    map( {&quot;VULGAR FRACTION &quot; ~ $^þ }, @fractions); # (1) Adds string to input

# @result is [⅖ ⅗ ⅜ ⅘ ⅚ ⅝ ⅞]</pre>
 <p>Now we use the feed operator (left-to-right) with parentheses, read top-to-bottom</p>
 <pre class="code">my @result = (
    &lt;TWO THREE FOUR FIVE SEVEN&gt; »~» &quot; &quot; X~ &lt;FIFTHS SIXTHS EIGHTHS&gt; # (1) Input
    ==&gt; map( {&quot;VULGAR FRACTION &quot; ~ $^þ } )                         # (2) Converts to Unicode name
    ==&gt; grep({ .uniparse })                                        # (3) Filters only real names
    ==&gt; map( { .uniparse} );                                       # (4) Converts to unicode
);</pre>
 <p>For illustration, method chaining equivalent, read top-to-bottom, using the same sequence as above</p>
 <pre class="code">my @result = ( &lt;TWO THREE FOUR FIVE SEVEN&gt; »~» &quot; &quot; X~ &lt;FIFTHS SIXTHS EIGHTHS&gt;)
    .map( {&quot;VULGAR FRACTION &quot; ~ $^þ } )
    .grep({ .uniparse })
    .map({ .uniparse });</pre>
 <p>Although in this particular case the result is the same, the feed operator <span class="code">==&gt;</span> more clearly shows intent with arrow pointing the data flow. To assign without the need of parentheses use another feed operator</p>
 <pre class="code">my @result;
&lt;people of earth&gt;
    ==&gt; map({ .tc })
    ==&gt; grep /&lt;[PE]&gt;/
    ==&gt; sort()
    ==&gt; @result;</pre>
 <p>It can be useful to capture a partial result, however, unlike the leftward feed operator, it does require parentheses or a semicolon</p>
 <pre class="code">my @result;
&lt;people of earth&gt;
    ==&gt; map({ .tc })
    ==&gt; my @caps; @caps   # also could wrap in parentheses instead
    ==&gt; grep /&lt;[PE]&gt;/
    ==&gt; sort()
    ==&gt; @result;</pre>
 <p>The feed operator lets you construct method-chaining-like patterns out of routines and the results of methods on unrelated data. In method-chaining, you are restricted to the methods available on the data or the result of previous method call. With feed operators, that restriction is gone. The resulting code could also be seen to be more readable than a series of method calls broken over multiple lines.</p>
 <p>Note: In the future, this operator will see some change as it gains the ability to run list operations in parallel. It will enforce that the <b>left</b> operand is enclosable as a closure (that can be cloned and run in a subthread).</p>
 <a name="t33.39.2"></a><h2 id="_language_operators.pod6-infix_&lt;==">33.39.2 infix <span class="code">&lt;==</span></h2>
 <p>This <span class="indexed"><a id="452" name="">leftward feed</a></span> operator takes the result from the right and passes it to the previous (left) routine as the last parameter. This elucidates the right-to-left dataflow for a series of list manipulating functions.</p>
 <pre class="code"># Traditional structure, read bottom-to-top
my @result =
    sort                   # (4) Sort, result is &lt;Earth People&gt;
    grep { /&lt;[PE]&gt;/ },     # (3) Look for P or E
    map { .tc },           # (2) Capitalize the words
    &lt;people of earth&gt;;     # (1) Start with the input

# Feed (right-to-left) with parentheses, read bottom-to-top
my @result = (
    sort()                 # (4) Sort, result is &lt;Earth People&gt;
    &lt;== grep({ /&lt;[PE]&gt;/ }) # (3) Look for P or E
    &lt;== map({ .tc })       # (2) Capitalize the words
    &lt;== &lt;people of earth&gt;  # (1) Start with the input
);

# To assign without parentheses, use another feed operator
my @result
    &lt;== sort()              # (4) Sort, result is &lt;Earth People&gt;
    &lt;== grep({ /&lt;[PE]&gt;/ })  # (3) Look for P or E
    &lt;== map({ .tc })        # (2) Capitalize the words
    &lt;== &lt;people of earth&gt;;  # (1) Start with the input

# It can be useful to capture a partial result
my @result
    &lt;== sort()
    &lt;== grep({ /&lt;[PE]&gt;/ })
    &lt;== my @caps            # unlike ==&gt;, there's no need for additional statement
    &lt;== map({ .tc })
    &lt;== &lt;people of earth&gt;;</pre>
 <p>Unlike the rightward feed operator, the result is not closely mappable to method-chaining. However, compared to the traditional structure above where each argument is separated by a line, the resulting code is more demonstrative than commas. The leftward feed operator also allows you to &quot;break into&quot; the statement and capture an intermediary result which can be extremely useful for debugging or to take that result and create another variation on the final result.</p>
 <p>Note: In the future, this operator will see some change as it gains the ability to run list operations in parallel. It will enforce that the <b>right</b> operand is enclosable as a closure (that can be cloned and run in a subthread).</p>
</div>
<!-- /language/packages.pod6 --><div class="pod-body"><a id="_language_packages.pod6"></a><a name="t34"><h1 class="title">34 Packages</h1></a> <p class="subtitle">Organizing and referencing namespaced program elements</p> * Take a lot of stuff from S02 for this
* Document 'import'

 <p>Packages are nested namespaces of named program elements. <a href="#_language_module-packages.pod6">Modules</a>, classes, grammars, and others are types of packages. Like files in a directory, you can generally refer to named elements with their short-name if they are local, or with a longer name to disambiguate.</p>
 <a name="t34.1"></a><h1 id="_language_packages.pod6-Names">34.1 Names</h1>
 <p>A <i>name</i> is anything that is a legal part of a variable name (not counting the sigil). This includes:</p>
 <pre class="code">$foo                # simple identifiers 
 $Foo::Bar::baz      # compound identifiers separated by :: 
 $Foo::($bar)::baz   # compound identifiers that perform interpolations 
 $42                 # numeric names 
 $!                  # certain punctuation variables 
</pre>
 <p><span class="indexed"><a id="453" name=":: package"></a></span> <span class="code">::</span> is used to separate nested package names.</p>
 <a name="t34.1.1"></a><h2 id="_language_packages.pod6-Package-qualified_names">34.1.1 Package-qualified names</h2>
 <p>Ordinary package-qualified names look like:</p>
 <pre class="code">$Foo::Bar::baz      # the $baz variable in package Foo::Bar</pre>
 <p>Sometimes it's clearer to keep the sigil with the variable name, so an alternate way to write this is:</p>
 <pre class="code">Foo::Bar::&lt;$baz&gt;</pre>
 <p>This is resolved at compile time because the variable name is a constant.</p>
 <p>If the name part before <span class="code">::</span> is null, it means the package is unspecified and must be searched for. Generally this means that an initial <span class="code">::</span> following the main sigil is a no-op on names that are known at compile time, though <span class="code">::()</span> can also be used to introduce an interpolation. Also, in the absence of another sigil, <span class="code">::</span> can serve as its own sigil indicating intentional use of a not-yet-declared package name.</p>
 <a name="t34.2"></a><h1 id="_language_packages.pod6-Pseudo-packages">34.2 Pseudo-packages</h1>
 <p><span class="indexed"><a id="454" name="MY (package)"></a></span><span class="indexed"><a id="455" name="OUR (package)"></a></span><span class="indexed"><a id="456" name="CORE (package)"></a></span><span class="indexed"><a id="457" name="GLOBAL (package)"></a></span><span class="indexed"><a id="458" name="PROCESS (package)"></a></span><span class="indexed"><a id="459" name="COMPILING(package)"></a></span> The following pseudo-package names are reserved at the front of a name:</p>
 <table>
<tr><td>MY</td> <td>Symbols in the current lexical scope (aka $?SCOPE)</td></tr>
 <tr><td>OUR</td> <td>Symbols in the current package (aka $?PACKAGE)</td></tr>
 <tr><td>CORE</td> <td>Outermost lexical scope, definition of standard Perl</td></tr>
 <tr><td>GLOBAL</td> <td>Interpreter-wide package symbols, really UNIT::GLOBAL</td></tr>
 <tr><td>PROCESS</td> <td>Process-related globals (superglobals). The last place dynamic variable</td></tr>
 <tr><td></td> <td>lookup will look.</td></tr>
 <tr><td>COMPILING</td> <td>Lexical symbols in the scope being compiled</td></tr>
</table> <p><span class="indexed"><a id="460" name="CALLER (package)"></a></span><span class="indexed"><a id="461" name="CALLERS (package)"></a></span><span class="indexed"><a id="462" name="DYNAMIC (package)"></a></span><span class="indexed"><a id="463" name="OUTER (package)"></a></span><span class="indexed"><a id="464" name="OUTERS (package)"></a></span><span class="indexed"><a id="465" name="LEXICAL (package)"></a></span><span class="indexed"><a id="466" name="UNIT (package)"></a></span><span class="indexed"><a id="467" name="SETTING (package)"></a></span><span class="indexed"><a id="468" name="PARENT (package)"></a></span><span class="indexed"><a id="469" name="CLIENT (package)"></a></span> The following relative names are also reserved but may be used anywhere in a name:</p>
 <table>
<tr><td>CALLER</td> <td>Contextual symbols in the immediate caller's lexical scope</td></tr>
 <tr><td>CALLERS</td> <td>Contextual symbols in any caller's lexical scope</td></tr>
 <tr><td>DYNAMIC</td> <td>Contextual symbols in my or any caller's lexical scope</td></tr>
 <tr><td>OUTER</td> <td>Symbols in the next outer lexical scope</td></tr>
 <tr><td>OUTERS</td> <td>Symbols in any outer lexical scope</td></tr>
 <tr><td>LEXICAL</td> <td>Contextual symbols in my or any outer's lexical scope</td></tr>
 <tr><td>UNIT</td> <td>Symbols in the outermost lexical scope of compilation unit</td></tr>
 <tr><td>SETTING</td> <td>Lexical symbols in the unit's DSL (usually CORE)</td></tr>
 <tr><td>PARENT</td> <td>Symbols in this package's parent package (or lexical scope)</td></tr>
 <tr><td>CLIENT</td> <td>The nearest CALLER that comes from a different package</td></tr>
</table> <p>The file's scope is known as <span class="code">UNIT</span>, but there are one or more lexical scopes outside of that corresponding to the linguistic setting (often known as the prelude in other cultures). Hence, the <span class="code">SETTING</span> scope is equivalent to <span class="code">UNIT::OUTERS</span>. For a standard Perl program <span class="code">SETTING</span> is the same as <span class="code">CORE</span>, but various startup options (such as <span class="code">-n</span> or <span class="code">-p</span>) can put you into a domain specific language, in which case <span class="code">CORE</span> remains the scope of the standard language, while <span class="code">SETTING</span> represents the scope defining the DSL that functions as the setting of the current file. When used as a search term in the middle of a name, <span class="code">SETTING</span> includes all its outer scopes up to <span class="code">CORE</span>. To get <i>only</i> the setting's outermost scope, use <span class="code">UNIT::OUTER</span> instead.</p>
 <a name="t34.3"></a><h1 id="_language_packages.pod6-Looking_up_names">34.3 Looking up names</h1>
 <a name="t34.3.1"></a><h2 id="_language_packages.pod6-Interpolating_into_names">34.3.1 Interpolating into names</h2>
 <p><span class="indexed"><a id="470" name="::()"></a></span> You may interpolate a string into a package or variable name using <span class="code">::($expr)</span> where you'd ordinarily put a package or variable name. The string is allowed to contain additional instances of <span class="code">::</span>, which will be interpreted as package nesting. You may only interpolate entire names, since the construct starts with <span class="code">::</span>, and either ends immediately or is continued with another <span class="code">::</span> outside the parentheses. Most symbolic references are done with this notation:</p>
 <pre class="code">$foo = &quot;Bar&quot;; 
 $foobar = &quot;Foo::Bar&quot;; 
 $::($foo)           # lexically-scoped $Bar 
 $::(&quot;MY::$foo&quot;)     # lexically-scoped $Bar 
 $::(&quot;OUR::$foo&quot;)    # package-scoped $Bar 
 $::(&quot;GLOBAL::$foo&quot;) # global $Bar 
 $::(&quot;PROCESS::$foo&quot;)# process $Bar 
 $::(&quot;PARENT::$foo&quot;) # current package's parent's $Bar 
 $::($foobar)        # $Foo::Bar 
 $::($foobar)::baz   # $Foo::Bar::baz 
 $::($foo)::Bar::baz # $Bar::Bar::baz 
 $::($foobar)baz     # ILLEGAL at compile time (no operator baz) 
</pre>
 <p>An initial <span class="code">::</span> doesn't imply global. Here as part of the interpolation syntax it doesn't even imply package. After the interpolation of the <span class="code">::()</span> component, the indirect name is looked up exactly as if it had been there in the original source code, with priority given first to leading pseudo-package names, then to names in the lexical scope (searching scopes outwards, ending at <span class="code">CORE</span>). The current package is searched last.</p>
 <p>Use the <span class="code">MY</span> pseudopackage to limit the lookup to the current lexical scope, and <span class="code">OUR</span> to limit the scopes to the current package scope.</p>
 <p>In the same vein, class and method names can be interpolated too.</p>
 <pre class="code">role with-method {
    method a-method { return &quot;in-a-method of &quot; ~ $?CLASS.^name  };
}

class a-class does with-method {
    method another-method { return 'in-another-method' };
}

class b-class does with-method {};

my $what-class='a-class';

say ::($what-class).a-method;
$what-class = 'b-class';
say ::($what-class).a-method;

my $what-method='a-method';
say a-class.&quot;$what-method&quot;();
$what-method='another-method';
say a-class.&quot;$what-method&quot;();</pre>
 <p><span class="indexed"><a id="471" name="::($c).m"></a></span> <span class="indexed"><a id="472" name="A.&quot;$m&quot;()"></a></span></p>
 <a name="t34.3.2"></a><h2 id="_language_packages.pod6-Direct_lookup">34.3.2 Direct lookup</h2>
 <p>To do direct lookup in a package's symbol table without scanning, treat the package name as a hash:</p>
 <pre class="code">Foo::Bar::{'&amp;baz'}  # same as &amp;Foo::Bar::baz 
 PROCESS::&lt;$IN&gt;      # Same as $*IN 
 Foo::&lt;::Bar&gt;&lt;::Baz&gt; # same as Foo::Bar::Baz 
</pre>
 <p>Unlike <span class="code">::()</span> symbolic references, this does not parse the argument for <span class="code">::</span>, nor does it initiate a namespace scan from that initial point. In addition, for constant subscripts, it is guaranteed to resolve the symbol at compile time.</p>
 <p>The null pseudo-package is the same search list as an ordinary name search. That is, the following are all identical in meaning:</p>
 <pre class="code">$foo 
 $::{'foo'} 
 ::{'$foo'} 
 $::&lt;foo&gt; 
 ::&lt;$foo&gt; 
</pre>
 <p>Each of them scans lexical scopes outward, and then the current package scope (though the package scope is then disallowed when &quot;strict&quot; is in effect).</p>
 <p>As a result of these rules, you can write any arbitrary variable name as either of:</p>
 <pre class="code">$::{'!@#$#@'} 
 ::{'$!@#$#@'} 
</pre>
 <p>You can also use the <span class="code">::&lt;&gt; </span> form as long as there are no spaces in the name.</p>
 <a name="t34.3.3"></a><h2 id="_language_packages.pod6-Package_lookup">34.3.3 Package lookup</h2>
 <p>Subscript the package object itself as a hash object, the key of which is the variable name, including any sigil. The package object can be derived from a type name by use of the <span class="code">::</span> postfix:</p>
 <pre class="code">MyType::&lt;$foo&gt; 
</pre>
 <a name="t34.3.4"></a><h2 id="_language_packages.pod6-Class_member_lookup">34.3.4 Class member lookup</h2>
 <p>Methods—including auto-generated methods, such as public attributes' accessors—are stored in the class meta object and can be looked up through by the <a href="#_routine_lookup.pod6">lookup</a> method.</p>
 <pre class="code">Str.^lookup('chars') 
</pre>
 <a name="t34.4"></a><h1 id="_language_packages.pod6-Globals">34.4 Globals</h1>
 <p>Interpreter globals live in the <span class="code">GLOBAL</span> package. The user's program starts in the <span class="code">GLOBAL</span> package, so &quot;our&quot; declarations in the mainline code go into that package by default. Process-wide variables live in the <span class="code">PROCESS</span> package. Most predefined globals such as <span class="code">$*UID</span> and <span class="code">$*PID</span> are actually process globals.</p>
 <a name="t34.5"></a><h1 id="_language_packages.pod6-Version">34.5 Version</h1>
 <p><span class="indexed"><a id="473" name=".^ver package"></a></span> Any package may have a <a href="#_type_Version.pod6">Version</a> object attached to it. This object can be accessed via <span class="code">$?PACKAGE.^ver</span> or from outside the package <span class="code">Fully::Qualified::Name.^ver</span>.</p>
</div>
<!-- /language/performance.pod6 --><div class="pod-body"><a id="_language_performance.pod6"></a><a name="t35"><h1 class="title">35 Performance</h1></a> <p class="subtitle">Measuring and improving run-time or compile-time performance</p> <p>This page is about <a href="https://en.wikipedia.org/wiki/Computer_performance">computer performance</a> in the context of Perl 6.</p>
 <a name="t35.1"></a><h1 id="_language_performance.pod6-First,_profile_your_code">35.1 First, profile your code</h1>
 <p><b>Make sure you're not wasting time on the wrong code</b>: start by identifying your <a href="https://en.wikiquote.org/wiki/Donald_Knuth">&quot;critical 3%&quot;</a> by &quot;profiling&quot; your code's performance. The rest of this document shows you how to do that.</p>
 <a name="t35.1.1"></a><h2 id="_language_performance.pod6-Time_with_now_-_INIT_now">35.1.1 Time with <span class="code">now - INIT now</span></h2>
 <p>Expressions of the form <span class="code">now - INIT now</span>, where <span class="code">INIT</span> is a <a href="#_language_phasers.pod6">phase in the running of a Perl 6 program</a>, provide a great idiom for timing code snippets.</p>
 <p>Use the <span class="code">m: your code goes here</span> <a href="#_language_glossary.pod6-camelia">#perl6 channel evalbot</a> to write lines like:</p>
 <pre class="code">m: say now - INIT now 
 rakudo-moar abc1234: OUTPUT«0.0018558␤» 
</pre>
 <p>The <span class="code">now</span> to the left of <span class="code">INIT</span> runs 0.0018558 seconds <i>later</i> than the <span class="code">now</span> to the right of the <span class="code">INIT</span> because the latter occurs during <a href="#_language_phasers.pod6-INIT">the INIT phase</a>.</p>
 <a name="t35.1.2"></a><h2 id="_language_performance.pod6-Profile_locally">35.1.2 Profile locally</h2>
 <p>When using the <a href="http://moarvm.org">MoarVM</a> backend, the <a href="http://rakudo.org">Rakudo</a> compiler's <span class="code">--profile</span> command line option writes the profile data to an HTML file. If the profile data is too big, it could take a long time for a browser to open the file. In that case, output to a file with a <span class="code">.json</span> extension using the <span class="code">--profile-filename</span> option, then open the file with the <a href="https://github.com/tadzik/p6profiler-qt">Qt viewer</a>.</p>
 <p>To deal with even larger profiles, output to a file with a <span class="code">.sql</span> extension. This will write the profile data as a series of SQL statements, suitable for opening in SQLite.</p>
 <pre class="code"># create a profile 
 perl6 --profile --profile-filename=demo.sql -e 'say (^20).combinations(3).elems' 
 
 # create a SQLite database 
 sqlite3 demo.sqlite 
 
 # load the profile data 
 sqlite&gt; .read demo.sql 
 
 # the query below is equivalent to the default view of the &quot;Routines&quot; tab in the HTML profile 
 sqlite&gt; select 
       case when r.name = &quot;&quot; then &quot;&lt;anon&gt;&quot; else r.name end as name, 
       r.file, 
       r.line, 
       sum(entries) as entries, 
       sum(case when rec_depth = 0 then inclusive_time else 0 end) as inclusive_time, 
       sum(exclusive_time) as exclusive_time 
     from 
       calls c, 
       routines r 
     where 
       c.id = r.id 
     group by 
       c.id 
     order by 
       inclusive_time desc 
     limit 30; 
</pre>
 <p>To learn how to interpret the profile info, use the <span class="code">prof-m: your code goes here</span> evalbot (explained above) and ask questions on the channel.</p>
 <a name="t35.1.3"></a><h2 id="_language_performance.pod6-Profile_compiling">35.1.3 Profile compiling</h2>
 <p>If you want to profile the time and memory it takes to compile your code, use Rakudo's <span class="code">--profile-compile</span> or <span class="code">--profile-stage</span> options.</p>
 <a name="t35.1.4"></a><h2 id="_language_performance.pod6-Create_or_view_benchmarks">35.1.4 Create or view benchmarks</h2>
 <p>Use <a href="https://github.com/japhb/perl6-bench">perl6-bench</a>.</p>
 <p>If you run perl6-bench for multiple compilers (typically, versions of Perl 5, Perl 6, or NQP), results for each are visually overlaid on the same graphs, to provide for quick and easy comparison.</p>
 <a name="t35.1.5"></a><h2 id="_language_performance.pod6-Share_problems">35.1.5 Share problems</h2>
 <p>Once you've used the above techniques to identify the code to improve, you can then begin to address (and share) the problem with others:</p>
 <ul><li><p>For each problem, distill it down to a one-liner or the gist and either provide performance numbers or make the snippet small enough that it can be profiled using <span class="code">prof-m: your code or gist URL goes here</span>.</p>
</li></ul> <ul><li><p>Think about the minimum speed increase (or ram reduction or whatever) you need/want, and think about the cost associated with achieving that goal. What's the improvement worth in terms of people's time and energy?</p>
</li></ul> <ul><li><p>Let others know if your Perl 6 use-case is in a production setting or just for fun.</p>
</li></ul> <a name="t35.2"></a><h1 id="_language_performance.pod6-Solve_problems">35.2 Solve problems</h1>
 <p>This bears repeating: <b>make sure you're not wasting time on the wrong code</b>. Start by identifying the <a href="https://en.wikiquote.org/wiki/Donald_Knuth">&quot;critical 3%&quot;</a> of your code.</p>
 <a name="t35.2.1"></a><h2 id="_language_performance.pod6-Line_by_line">35.2.1 Line by line</h2>
 <p>A quick, fun, productive way to try improve code line-by-line is to collaborate with others using the <a href="#_language_glossary.pod6-IRC">#perl6</a> evalbot <a href="#_language_glossary.pod6-camelia">camelia</a>.</p>
 <a name="t35.2.2"></a><h2 id="_language_performance.pod6-Routine_by_routine">35.2.2 Routine by routine</h2>
 <p>With multidispatch, you can drop in new variants of routines &quot;alongside&quot; existing ones:</p>
 <pre class="code"># existing code generically matches a two arg foo call:
multi sub foo(Any $a, Any $b) { ... }

# new variant takes over for a foo(&quot;quux&quot;, 42) call:
multi sub foo(&quot;quux&quot;, Int $b) { ... }</pre>
 <p>The call overhead of having multiple <span class="code">foo</span> definitions is generally insignificant (though see discussion of <span class="code">where</span> below), so if your new definition handles its particular case more efficiently than the previously existing set of definitions, then you probably just made your code that much more efficient for that case.</p>
 <a name="t35.2.3"></a><h2 id="_language_performance.pod6-Speed_up_type-checks_and_call_resolution">35.2.3 Speed up type-checks and call resolution</h2>
 <p>Most <a href="#_type_Signature.pod6-Type_Constraints"><span class="code">where</span>  clauses</a> – and thus most <a href="https://design.perl6.org/S12.html#Types_and_Subtypes">subsets</a> – force dynamic (run-time) type checking and call resolution for any call it <i>might</i> match. This is slower, or at least later, than compile-time.</p>
 <p>Method calls are generally resolved as late as possible (dynamically at run-time), whereas sub calls are generally resolved statically at compile-time.</p>
 <a name="t35.2.4"></a><h2 id="_language_performance.pod6-Choose_better_algorithms">35.2.4 Choose better algorithms</h2>
 <p>One of the most reliable techniques for making large performance improvements, regardless of language or compiler, is to pick a more appropriate algorithm.</p>
 <p>A classic example is <a href="https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm">Boyer-Moore</a>. To match a small string in a large string, one obvious way to do it is to compare the first character of the two strings and then, if they match, compare the second characters, or, if they don't match, compare the first character of the small string with the second character in the large string, and so on. In contrast, the Boyer-Moore algorithm starts by comparing the *last* character of the small string with the correspondingly positioned character in the large string. For most strings, the Boyer-Moore algorithm is close to N times faster algorithmically, where N is the length of the small string.</p>
 <p>The next couple sections discuss two broad categories for algorithmic improvement that are especially easy to accomplish in Perl 6. For more on this general topic, read the wikipedia page on <a href="https://en.wikipedia.org/wiki/Algorithmic_efficiency">algorithmic efficiency</a>, especially the 'See also' section near the end.</p>
 <a name="t35.2.4.1"></a><h3 id="_language_performance.pod6-Change_sequential/blocking_code_to_parallel/non-blocking">35.2.4.1 Change sequential/blocking code to parallel/non-blocking</h3>
 <p>This is another very important class of algorithmic improvement.</p>
 <p>See the slides for <a href="http://jnthn.net/papers/2015-yapcasia-concurrency.pdf#page=17">Parallelism, Concurrency, and Asynchrony in Perl 6</a> and/or <a href="https://www.youtube.com/watch?v=JpqnNCx7wVY&amp;list=PLRuESFRW2Fa77XObvk7-BYVFwobZHdXdK&amp;index=8">the matching video</a>.</p>
 <a name="t35.2.5"></a><h2 id="_language_performance.pod6-Use_existing_high_performance_code">35.2.5 Use existing high performance code</h2>
 <p>There are plenty of high performance C libraries that you can use within Perl 6 and <a href="#_language_nativecall.pod6">NativeCall</a> makes it easy to create wrappers for them. There's experimental support for C++ libraries, too.</p>
 <p>If you want to <a href="http://stackoverflow.com/a/27206428/1077672">use Perl 5 modules in Perl 6</a>, mix in Perl 6 types and the <a href="#_language_mop.pod6">Meta-Object Protocol</a>.</p>
 <p>More generally, Perl 6 is designed to smoothly interoperate with other languages and there are a number of <a href="https://modules.perl6.org/#q=inline">modules aimed at facilitating the use of libs from other langs</a>.</p>
 <a name="t35.2.6"></a><h2 id="_language_performance.pod6-Make_the_Rakudo_compiler_generate_faster_code">35.2.6 Make the Rakudo compiler generate faster code</h2>
 <p>To date, the focus for the compiler has been correctness, not how fast it generates code or how fast or lean the code it generates runs. But that's expected to change, eventually... You can talk to compiler devs on the freenode IRC channels #perl6 and #moarvm about what to expect. Better still, you can contribute yourself:</p>
 <ul><li><p>Rakudo is largely written in Perl 6. So if you can write Perl 6, then you can hack on the compiler, including optimizing any of the large body of existing high-level code that impacts the speed of your code (and everyone else's).</p>
</li></ul> <ul><li><p>Most of the rest of the compiler is written in a small language called <a href="https://github.com/perl6/nqp">NQP</a> that's basically a subset of Perl 6. If you can write Perl 6, you can fairly easily learn to use and improve the mid-level NQP code too, at least from a pure language point of view. To dig into NQP and Rakudo's guts, start with <a href="http://edumentab.github.io/rakudo-and-nqp-internals-course/">NQP and internals course</a>.</p>
</li></ul> <ul><li><p>If low-level C hacking is your idea of fun, checkout <a href="http://moarvm.org">MoarVM</a> and visit the freenode IRC channel #moarvm (<a href="https://irclog.perlgeek.de/moarvm/">logs</a>).</p>
</li></ul> <a name="t35.2.7"></a><h2 id="_language_performance.pod6-Still_need_more_ideas?">35.2.7 Still need more ideas?</h2>
 <p>Some known current Rakudo performance weaknesses not yet covered in this page include the use of gather/take, junctions, regexes and string handling in general.</p>
 <p>If you think some topic needs more coverage on this page, please submit a PR or tell someone your idea. Thanks. :)</p>
 <a name="t35.3"></a><h1 id="_language_performance.pod6-Not_getting_the_results_you_need/want?">35.3 Not getting the results you need/want?</h1>
 <p>If you've tried everything on this page to no avail, please consider discussing things with a compiler dev on #perl6, so we can learn from your use-case and what you've found out about it so far.</p>
 <p>Once a dev knows of your plight, allow enough time for an informed response (a few days or weeks, depending on the exact nature of your problem and potential solutions).</p>
 <p>If <i>that</i> hasn't worked out, please consider filing an issue about your experience at <a href="https://github.com/perl6/user-experience/issues">our user experience repo</a> before moving on.</p>
 <p>Thanks. :)</p>
</div>
<!-- /language/phasers.pod6 --><div class="pod-body"><a id="_language_phasers.pod6"></a><a name="t36"><h1 class="title">36 Phasers</h1></a> <p class="subtitle">Program execution phases and corresponding phaser blocks</p> <p>The lifetime (execution timeline) of a program is broken up into phases. A <i>phaser</i> is a block of code called during a specific execution phase.</p>
 <a name="t36.1"></a><h1 id="_language_phasers.pod6-Phasers">36.1 Phasers</h1>
 <p>A phaser block is just a trait of the closure containing it, and is automatically called at the appropriate moment. These auto-called blocks are known as <i>phasers</i>, since they generally mark the transition from one phase of computing to another. For instance, a <span class="code">CHECK</span> block is called at the end of compiling a compilation unit. Other kinds of phasers can be installed as well; these are automatically called at various times as appropriate, and some of them respond to various control exceptions and exit values.</p>
 <p>Here is a summary:</p>
 <pre class="code">  BEGIN {...} #  * at compile time, ASAP, only ever runs once 
   CHECK {...} #  * at compile time, ALAP, only ever runs once 
    INIT {...} #  * at run time, ASAP, only ever runs once 
     END {...} #  at run time, ALAP, only ever runs once 
 
   ENTER {...} #  * at every block entry time, repeats on loop blocks. 
   LEAVE {...} #  at every block exit time (even stack unwinds from exceptions) 
    KEEP {...} #  at every successful block exit, part of LEAVE queue 
    UNDO {...} #  at every unsuccessful block exit, part of LEAVE queue 
 
   FIRST {...} #  at loop initialization time, before any ENTER 
    NEXT {...} #  at loop continuation time, before any LEAVE 
    LAST {...} #  at loop termination time, after any LEAVE 
 
     PRE {...} #  assert precondition at every block entry, before ENTER 
    POST {...} #  assert postcondition at every block exit, after LEAVE 
 
   CATCH {...} #  catch exceptions, before LEAVE 
 CONTROL {...} #  catch control exceptions, before LEAVE 
 
    LAST {...} #  supply tapped by whenever-block is done, runs very last 
    QUIT {...} #  catch async exceptions within a whenever-block, runs very last 
 
 COMPOSE {...} #  when a role is composed into a class 
 CLOSE   {...} #  appears in a supply block, called when the supply is closed 
</pre>
 <p>Phasers marked with a <span class="code">*</span> have a run-time value, and if evaluated earlier than their surrounding expression, they simply save their result for use in the expression later when the rest of the expression is evaluated:</p>
 <pre class="code">my $compiletime = BEGIN { now };
our $random = ENTER { rand };</pre>
 <p>As with other statement prefixes, these value-producing constructs may be placed in front of either a block or a statement:</p>
 <pre class="code">my $compiletime = BEGIN now;
our $random = ENTER rand;</pre>
 <p>Most of these phasers will take either a block or a function reference. The statement form can be particularly useful to expose a lexically scoped declaration to the surrounding lexical scope without &quot;trapping&quot; it inside a block.</p>
 <p>These declare the same variables with the same scope as the preceding example, but run the statements as a whole at the indicated time:</p>
 <pre class="code">BEGIN my $compiletime = now;
ENTER our $random = rand;</pre>
 <p>(Note, however, that the value of a variable calculated at compile time may not persist under run-time cloning of any surrounding closure.)</p>
 <p>Most of the non-value-producing phasers may also be so used:</p>
 <pre class="code">END say my $accumulator;</pre>
 <p>Note, however, that</p>
 <pre class="code">END say my $accumulator = 0;</pre>
 <p>sets the variable to 0 at <span class="code">END</span> time, since that is when the &quot;my&quot; declaration is actually executed. Only argumentless phasers may use the statement form. This means that <span class="code">CATCH</span> and <span class="code">CONTROL</span> always require a block, since they take an argument that sets <span class="code">$_</span> to the current topic, so that the innards are able to behave as a switch statement. (If bare statements were allowed, the temporary binding of <span class="code">$_</span> would leak out past the end of the <span class="code">CATCH</span> or <span class="code">CONTROL</span>, with unpredictable and quite possibly dire consequences. Exception handlers are supposed to reduce uncertainty, not increase it.)</p>
 <p><span class="indexed"><a id="474" name="Phasers  will trait"></a></span> Some of these phasers also have corresponding traits that can be set on variables. These have the advantage of passing the variable in question into the closure as its topic:</p>
 <pre class="code">our $h will enter { .rememberit() } will undo { .forgetit() };</pre>
 <p>Only phasers that can occur multiple times within a block are eligible for this per-variable form.</p>
 <p>The topic of the block outside a phaser is still available as <span class="code">OUTER::&lt;$_&gt; </span>. Whether the return value is modifiable may be a policy of the phaser in question. In particular, the return value should not be modified within a <span class="code">POST</span> phaser, but a <span class="code">LEAVE</span> phaser could be more liberal.</p>
 <p>Any phaser defined in the lexical scope of a method is a closure that closes over <span class="code">self</span> as well as normal lexicals. (Or equivalently, an implementation may simply turn all such phasers into submethods whose primed invocant is the current object.)</p>
 <p>When multiple phasers are scheduled to run at the same moment, the general tiebreaking principle is that initializing phasers execute in order declared, while finalizing phasers execute in the opposite order, because setup and teardown usually want to happen in the opposite order from each other.</p>
 <a name="t36.1.1"></a><h2 id="_language_phasers.pod6-Execution_Order">36.1.1 Execution Order</h2>
 <p>Compilation Begins</p>
 <pre class="code">      BEGIN {...} #  at compile time, ASAP, only ever runs once 
       CHECK {...} #  at compile time, ALAP, only ever runs once 
     COMPOSE {...} #  when a role is composed into a class 
</pre>
 <p>Execution Begins</p>
 <pre class="code">       INIT {...} #  at run time, ASAP, only ever runs once 
</pre>
 <p>Before block execution begins</p>
 <pre class="code">        PRE {...} #  assert precondition at every block entry, before ENTER 
</pre>
 <p>Loop execution begins</p>
 <pre class="code">      FIRST {...} #  at loop initialization time, before any ENTER 
</pre>
 <p>Block execution begins</p>
 <pre class="code">      ENTER {...} #  at every block entry time, repeats on loop blocks. 
</pre>
 <p>Exception maybe happens</p>
 <pre class="code">      CATCH {...} #  catch exceptions, before LEAVE 
     CONTROL {...} #  catch control exceptions, before LEAVE 
</pre>
 <p>End of loop, either continuing or finished</p>
 <pre class="code">       NEXT {...} #  at loop continuation time, before any LEAVE 
        LAST {...} #  at loop termination time, after any LEAVE 
</pre>
 <p>End of block</p>
 <pre class="code">      LEAVE {...} #  at every block exit time (even stack unwinds from exceptions) 
        KEEP {...} #  at every successful block exit, part of LEAVE queue 
        UNDO {...} #  at every unsuccessful block exit, part of LEAVE queue 
</pre>
 <p>Postcondition for block</p>
 <pre class="code">       POST {...} #  assert postcondition at every block exit, after LEAVE 
</pre>
 <p>Async whenever-block is complete</p>
 <pre class="code">       LAST {...} #  if ended normally with done, runs once after block 
        QUIT {...} #  catch async exceptions 
</pre>
 <p>Program terminating</p>
 <pre class="code">        END {...} #  at run time, ALAP, only ever runs once 
</pre>
 <a name="t36.2"></a><h1 id="_language_phasers.pod6-Program_Execution_Phasers">36.2 Program Execution Phasers</h1>
 <a name="t36.2.1"></a><h2 id="_language_phasers.pod6-BEGIN">36.2.1 <a name="475"></a>BEGIN</h2>
 <p>Runs at compile time, as soon as possible, only runs once.</p>
 <p>Can have a return value that is provided even in later phases.</p>
 <a name="t36.2.2"></a><h2 id="_language_phasers.pod6-CHECK">36.2.2 <a name="476"></a>CHECK</h2>
 <p>Runs at compile time, As late as possible, only runs once.</p>
 <p>Can have a return value that is provided even in later phases.</p>
 <p>Code that is generated at run time can still fire off <span class="code">CHECK</span> and <span class="code">INIT</span> phasers, though of course those phasers can't do things that would require travel back in time. You need a wormhole for that.</p>
 <a name="t36.2.3"></a><h2 id="_language_phasers.pod6-INIT">36.2.3 <a name="477"></a>INIT</h2>
 <p>Runs after compilation during main execution, as soon as possible, only runs once.</p>
 <p>Can have a return value that is provided even in later phases.</p>
 <p>When phasers are in different modules, the <span class="code">INIT</span> and <span class="code">END</span> phasers are treated as if declared at <span class="code">use</span> time in the using module. (It is erroneous to depend on this order if the module is used more than once, however, since the phasers are only installed the first time they're noticed.)</p>
 <p>Code that is generated at run time can still fire off <span class="code">CHECK</span> and <span class="code">INIT</span> phasers, though of course those phasers can't do things that would require travel back in time. You need a wormhole for that.</p>
 <p>An <span class="code">INIT</span> only runs once for all copies of a cloned closure.</p>
 <a name="t36.2.4"></a><h2 id="_language_phasers.pod6-END">36.2.4 <a name="478"></a>END</h2>
 <p>Runs after compilation during main execution, as late as possible, only runs once.</p>
 <p>When phasers are in different modules, the <span class="code">INIT</span> and <span class="code">END</span> phasers are treated as if declared at <span class="code">use</span> time in the using module. (It is erroneous to depend on this order if the module is used more than once, however, since the phasers are only installed the first time they're noticed.)</p>
 <a name="t36.2.5"></a><h2 id="_language_phasers.pod6-CLOSE">36.2.5 <a name="479"></a>CLOSE</h2>
 <p>Appears in a supply block. Called when the supply is closed.</p>
 <a name="t36.3"></a><h1 id="_language_phasers.pod6-Block_Phasers">36.3 Block Phasers</h1>
 <p>Execution in the context of a block has its own phases.</p>
 <p>Block-leaving phasers wait until the call stack is actually unwound to run. Unwinding happens only after some exception handler decides to handle the exception that way. That is, just because an exception is thrown past a stack frame does not mean we have officially left the block yet, since the exception might be resumable. In any case, exception handlers are specified to run within the dynamic scope of the failing code, whether or not the exception is resumable. The stack is unwound and the phasers are called only if an exception is not resumed.</p>
 <p>These can occur multiple times within the block. So they aren't really traits, exactly--they add themselves onto a list stored in the actual trait. If you examine the <span class="code">ENTER</span> trait of a block, you'll find that it's really a list of phasers rather than a single phaser.</p>
 <p>All of these phaser blocks can see any previously declared lexical variables, even if those variables have not been elaborated yet when the closure is invoked (in which case the variables evaluate to an undefined value.)</p>
 <a name="t36.3.1"></a><h2 id="_language_phasers.pod6-ENTER">36.3.1 <a name="480"></a>ENTER</h2>
 <p>Runs at every block entry time, repeats on loop blocks.</p>
 <p>Can have a return value that is provided even in later phases.</p>
 <p>An exception thrown from an <span class="code">ENTER</span> phaser will abort the <span class="code">ENTER</span> queue, but one thrown from a <span class="code">LEAVE</span> phaser will not.</p>
 <a name="t36.3.2"></a><h2 id="_language_phasers.pod6-LEAVE">36.3.2 <a name="481"></a>LEAVE</h2>
 <p>Runs at every block exit time (even stack unwinds from exceptions), except when the program exits abruptly (e.g. with <a href="#_routine_exit.pod6"><span class="code">exit</span></a>).</p>
 <p><span class="code">LEAVE</span> phasers for a given block are necessarily evaluated after any <span class="code">CATCH</span> and <span class="code">CONTROL</span> phasers. This includes the <span class="code">LEAVE</span> variants, <span class="code">KEEP</span> and <span class="code">UNDO</span>. <span class="code">POST</span> phasers are evaluated after everything else, to guarantee that even <span class="code">LEAVE</span> phasers can't violate postconditions.</p>
 <p>An exception thrown from an <span class="code">ENTER</span> phaser will abort the <span class="code">ENTER</span> queue, but one thrown from a <span class="code">LEAVE</span> phaser will not.</p>
 <p>If a <span class="code">POST</span> fails or any kind of <span class="code">LEAVE</span> block throws an exception while the stack is unwinding, the unwinding continues and collects exceptions to be handled. When the unwinding is completed all new exceptions are thrown from that point.</p>
 <pre class="code">sub answer() {
    LEAVE say „I say after the return value.“;

    42 # this is the return value
}</pre>
 <p><b>Note:</b> be mindful of <span class="code">LEAVE</span> phasers directly in blocks of routines, as they will get executed even when an attempt to call the routine with wrong arguments is made:</p>
 <pre class="code">sub foo (Int) {
    say &quot;Hello!&quot;;
    LEAVE say &quot;oh noes!&quot;
}
try foo rand; # OUTPUT: «oh noes!␤»</pre>
 <p>Although the subroutine's body did not get run, because the sub expects an <a href="#_type_Int.pod6">Int</a> and <a href="#_routine_rand.pod6"><span class="code">rand</span></a> returned a <a href="#_type_Num.pod6">Num</a>, its block was entered and left (when param binding failed), and so the <span class="code">LEAVE</span> phaser <i>was</i> run.</p>
 <a name="t36.3.3"></a><h2 id="_language_phasers.pod6-KEEP">36.3.3 <a name="482"></a>KEEP</h2>
 <p>Runs at every successful block exit, as part of the LEAVE queue (shares the same order of execution).</p>
 <p>For phasers such as <span class="code">KEEP</span> and <span class="code">POST</span> that are run when exiting a scope normally, the return value (if any) from that scope is available as the current topic within the phaser.</p>
 <a name="t36.3.4"></a><h2 id="_language_phasers.pod6-UNDO">36.3.4 <a name="483"></a>UNDO</h2>
 <p>Runs at every unsuccessful block exit, as part of the LEAVE queue (shares the same order of execution).</p>
 <a name="t36.3.5"></a><h2 id="_language_phasers.pod6-PRE">36.3.5 <a name="484"></a>PRE</h2>
 <p>Asserts a precondition at every block entry. Runs before the ENTER phase.</p>
 <p><span class="code">PRE</span> phasers fire off before any <span class="code">ENTER</span> or <span class="code">FIRST</span>.</p>
 <p>The exceptions thrown by failing <span class="code">PRE</span> and <span class="code">POST</span> phasers cannot be caught by a <span class="code">CATCH</span> in the same block, which implies that <span class="code">POST</span> phaser are not run if a <span class="code">PRE</span> phaser fails.</p>
 <a name="t36.3.6"></a><h2 id="_language_phasers.pod6-POST">36.3.6 <a name="485"></a>POST</h2>
 <p>Asserts a postcondition at every block entry. Runs after the LEAVE phase.</p>
 <p>For phasers such as <span class="code">KEEP</span> and <span class="code">POST</span> that are run when exiting a scope normally, the return value (if any) from that scope is available as the current topic within the phaser.</p>
 <p>The <span class="code">POST</span> block can be defined in one of two ways. Either the corresponding <span class="code">POST</span> is defined as a separate phaser, in which case <span class="code">PRE</span> and <span class="code">POST</span> share no lexical scope. Alternately, any <span class="code">PRE</span> phaser may define its corresponding <span class="code">POST</span> as an embedded phaser block that closes over the lexical scope of the <span class="code">PRE</span>.</p>
 <p>If a <span class="code">POST</span> fails or any kind of <span class="code">LEAVE</span> block throws an exception while the stack is unwinding, the unwinding continues and collects exceptions to be handled. When the unwinding is completed all new exceptions are thrown from that point.</p>
 <p>The exceptions thrown by failing <span class="code">PRE</span> and <span class="code">POST</span> phasers cannot be caught by a <span class="code">CATCH</span> in the same block, which implies that <span class="code">POST</span> phaser are not run if a <span class="code">PRE</span> phaser fails.</p>
 <a name="t36.4"></a><h1 id="_language_phasers.pod6-Loop_Phasers">36.4 Loop Phasers</h1>
 <p><span class="code">FIRST</span>, <span class="code">NEXT</span>, and <span class="code">LAST</span> are meaningful only within the lexical scope of a loop, and may occur only at the top level of such a loop block.</p>
 <a name="t36.4.1"></a><h2 id="_language_phasers.pod6-FIRST">36.4.1 <a name="486"></a>FIRST</h2>
 <p>Runs at loop initialization, before ENTER.</p>
 <a name="t36.4.2"></a><h2 id="_language_phasers.pod6-NEXT">36.4.2 <a name="487"></a>NEXT</h2>
 <p>Runs when loop is continued (either through <span class="code">next</span> or because you got to the bottom of the loop and are looping back around), before LEAVE.</p>
 <p>A <span class="code">NEXT</span> executes only if the end of the loop block is reached normally, or an explicit <span class="code">next</span> is executed. In distinction to <span class="code">LEAVE</span> phasers, a <span class="code">NEXT</span> phaser is not executed if the loop block is exited via any exception other than the control exception thrown by <span class="code">next</span>. In particular, a <span class="code">last</span> bypasses evaluation of <span class="code">NEXT</span> phasers.</p>
 <a name="t36.4.3"></a><h2 id="_language_phasers.pod6-LAST">36.4.3 <a name="488"></a>LAST</h2>
 <p>Runs when loop is aborted (either through <span class="code">last</span>, or <span class="code">return</span>, or because you got to the bottom of the loop and are done), after LEAVE.</p>
 <a name="t36.5"></a><h1 id="_language_phasers.pod6-Exception_Handling_Phasers">36.5 Exception Handling Phasers</h1>
 <a name="t36.5.1"></a><h2 id="_language_phasers.pod6-CATCH">36.5.1 <a name="489"></a>CATCH</h2>
 <p>Runs when an exception is raised by the current block, before the LEAVE phase.</p>
 <a name="t36.5.2"></a><h2 id="_language_phasers.pod6-CONTROL">36.5.2 <a name="490"></a>CONTROL</h2>
 <p>Runs when a control exception is raised by the current block, before the LEAVE phase. It is raised by <span class="code">return</span>, <span class="code">fail</span>, <span class="code">redo</span>, <span class="code">next</span>, <span class="code">last</span>, <span class="code">take</span>, <span class="code">warn</span>, <span class="code">proceed</span> and <span class="code">succeed</span>.</p>
 <pre class="code">say elems gather {
    CONTROL {
        when CX::Warn { say &quot;WARNING!!! $_&quot;; .resume }
        when CX::Take { say &quot;Don't take my stuff&quot;; .resume }
    }
    warn 'people take stuff here';
    take 'keys';
}
# OUTPUT:
# WARNING!!! people take stuff here
# Don't take my stuff
# 0</pre>
 # NYI
# =head1 Object Phasers
#
# =head2 X&lt;COMPOSE|Phasers, COMPOSE&gt;
#
# Runs when a role is composed into a class.

 <a name="t36.6"></a><h1 id="_language_phasers.pod6-Asynchronous_Phasers">36.6 Asynchronous Phasers</h1>
 <a name="t36.6.1"></a><h2 id="_language_phasers.pod6-LAST">36.6.1 <a name="491"></a>LAST</h2>
 <p>Runs when a <a href="#_type_Supply.pod6">Supply</a> finishes with a call to <span class="code">done</span> or when a <span class="code">supply</span> block exits normally. It runs completely after the <span class="code">whenever</span> block it is placed within finishes.</p>
 <p>This phaser reuses the name <span class="code">LAST</span>, but works differently from the <span class="code">LAST</span> loop phaser. This phaser is similar to setting the <span class="code">done</span> routine while tapping a supply with <span class="code">tap</span>.</p>
 <a name="t36.6.2"></a><h2 id="_language_phasers.pod6-QUIT">36.6.2 <a name="492"></a>QUIT</h2>
 <p>Runs when a <a href="#_type_Supply.pod6">Supply</a> terminates early with an exception. It runs after the <span class="code">whenever</span> block it is placed within finishes.</p>
 <p>This phaser is similar to setting the <span class="code">quit</span> routine while tapping a Supply with <span class="code">tap</span>.</p>
 <a name="t36.7"></a><h1 id="_language_phasers.pod6-DOC_phasers">36.7 DOC phasers</h1>
 <a name="t36.7.1"></a><h2 id="_language_phasers.pod6-DOC">36.7.1 <a name="493"></a>DOC</h2>
 <p>The phasers <span class="code">BEGIN</span>, <span class="code">CHECK</span> and <span class="code">INIT</span> are run only in documentation mode when prefixed with the <span class="code">DOC</span> keyword. The compiler is in documentation when run with <span class="code">--doc</span>.</p>
 <pre class="code">DOC INIT { say 'init'  }  # prints 'init' at initialization time when in documentation mode.</pre>
</div>
<!-- /language/pod.pod6 --><div class="pod-body"><a id="_language_pod.pod6"></a><a name="t37"><h1 class="title">37 Perl 6 Pod</h1></a> <p class="subtitle">An easy-to-use markup language</p> <p>Perl 6 Pod is an easy-to-use markup language. Pod can be used for writing language documentation, for documenting programs and modules, as well as for other types of document composition.</p>
 <p>Every Pod document has to begin with <span class="code">=begin pod</span> and end with <span class="code">=end pod</span>. Everything between these two delimiters will be processed and used to generate documentation.</p>
 <pre class="code">=begin pod 
 
 A very simple Perl 6 Pod document 
 
 =end pod 
</pre>
 <a name="t37.1"></a><h1 id="_language_pod.pod6-Block_Structure">37.1 Block Structure</h1>
 <p>A Pod document may consist of multiple Pod blocks. There are four ways to define a block (delimited, paragraph, abbreviated, and declarator); the first three yield the same result but the fourth differs. You can use whichever form is most convenient for your particular documentation task.</p>
 <a name="t37.1.1"></a><h2 id="_language_pod.pod6-Delimited_blocks">37.1.1 Delimited blocks</h2>
 <p>Delimited blocks are bounded by <span class="code">=begin</span> and <span class="code">=end</span> markers, both of which are followed by a valid Perl 6 identifier, which is the <span class="code">typename</span> of the block. Typenames that are entirely lowercase (for example: <span class="code">=begin head1</span>) or entirely uppercase (for example: <span class="code">=begin SYNOPSIS</span>) are reserved.</p>
 <pre class="code">=begin head1 
 Top Level Heading 
 =end head1 
</pre>
 <a name="t37.1.1.1"></a><h3 id="_language_pod.pod6-Configuration_information">37.1.1.1 Configuration information</h3>
 <p>After the typename, the rest of the <span class="code">=begin</span> marker line is treated as configuration information for the block. This information is used in different ways by different types of blocks, but is always specified using Perl6-ish option pairs. That is, any of:</p>
 <table>
<tr><th>Value is...</th> <th>Specify with...</th> <th>Or with...</th> <th>Or with...</th></tr>
<tr><td>List</td> <td>:key[$e1, $e2, ...]</td> <td>:key($e1, $e2, ...)</td> <td></td></tr>
 <tr><td>Hash</td> <td>:key{$k1=&gt;$v1, $k2=&gt;$v2}</td> <td></td> <td></td></tr>
 <tr><td>Boolean (true)</td> <td>:key</td> <td>:key(True)</td> <td>:key[True]</td></tr>
 <tr><td>Boolean (false)</td> <td>:!key</td> <td>:key(False)</td> <td>:key[False]</td></tr>
 <tr><td>String</td> <td>:key&lt;str&gt;</td> <td>:key('str')</td> <td>:key(&quot;str&quot;)</td></tr>
 <tr><td>Int</td> <td>:key(42)</td> <td>:key[42]</td> <td></td></tr>
 <tr><td>Number</td> <td>:key(2.3)</td> <td>:key[2.3]</td> <td></td></tr>
</table> <p>Where '$e1, $e2, ...' are list elements of type String, Int, Number, or Boolean. Lists may have mixed element types. Note that one-element lists are converted to the type of their element (String, Int, Number, or Boolean). Also note that &quot;bigints&quot; can be used if required.</p>
 <p>For hashes, '$k1, $k2, ...' are keys of type Str and '$v1, $2, ...' are values of type String, Int, Number, or Boolean.</p>
 <p>Strings are delimited by single or double quotes. Whitespace is insignificant outside of strings. Hash keys need not be quote-delimited unless they contain significant whitespace.</p>
 <p>All option keys and values must, of course, be constants since Pod is a specification language, not a programming language. Specifically, option values cannot be closures. See Synopsis 2 for details of the various Perl 6 pair notations.</p>
 <p>The configuration section may be extended over subsequent lines by starting those lines with an <span class="code">=</span> in the first (virtual) column followed by a whitespace character. (NOTE: This feature is not yet implemented. All configuration information currently must be provided on the same line as the <span class="code">=begin</span> marker line.)</p>
 <a name="t37.1.2"></a><h2 id="_language_pod.pod6-Paragraph_blocks">37.1.2 Paragraph blocks</h2>
 <p>Paragraph blocks begin by a <span class="code">=for</span> marker and end by the next Pod directive or the first blank line. The <span class="code">=for</span> marker is followed by the typename of the block.</p>
 <pre class="code">=for head1 
 Top Level Heading 
</pre>
 <a name="t37.1.3"></a><h2 id="_language_pod.pod6-Abbreviated_blocks">37.1.3 Abbreviated blocks</h2>
 <p>Abbreviated blocks begin by an <span class="code">'='</span> sign, which is followed immediately by the typename of the block. The block ends at the next Pod directive or the first blank line.</p>
 <pre class="code">=head1 Top Level Heading 
</pre>
 <a name="t37.1.4"></a><h2 id="_language_pod.pod6-Declarator_blocks">37.1.4 Declarator blocks</h2>
 <p>Declarator blocks differ from the others by not having a specific type, instead they are attached to some source code.</p>
 <p>Declarator blocks are introduced by a special comment: either <span class="code">#=</span> or <span class="code">#|</span>, which must be immediately followed by either a space or an opening bracket. If followed by a space, the block is terminated by the end of line; if followed by one or more opening brackets, the block is terminated by the matching sequence of closing brackets.</p>
 <p>Blocks starting with <span class="code">#|</span> are attached to the code after them, and blocks starting with <span class="code">#=</span> are attached to the code before them.</p>
 <p>Since declarator blocks are attached to source code, they can be used to document classes, roles, subroutines etc.</p>
 <p>The <span class="code">WHY</span> method can be used on these classes, roles, subroutines etc. to return the attached Pod value.</p>
 <pre class="code">#| Base class for magicians 
 class Magician { 
   has Int $.level; 
   has Str @.spells; 
 } 
 
 #| Fight mechanics 
 sub duel(Magician $a, Magician $b) { 
 } 
 #= Magicians only, no mortals. 
 
 say Magician.WHY; # OUTPUT: «Base class for magicians␤» 
 say &amp;duel.WHY.leading; # OUTPUT: «Fight mechanics␤» 
 say &amp;duel.WHY.trailing; # OUTPUT: «Magicians only, no mortals.␤» 
</pre>
 <a name="t37.2"></a><h1 id="_language_pod.pod6-Block_types">37.2 Block types</h1>
 <p>Pod offers a wide range of standard block types.</p>
 <a name="t37.2.1"></a><h2 id="_language_pod.pod6-Headings">37.2.1 Headings</h2>
 <p>Headings can be defined using <span class="code">=headN</span>, where N is greater than zero (e.g., <span class="code">=head1</span>, <span class="code">=head2</span>, …).</p>
 <pre class="code">=head1 A Top Level Heading 
 
 =head2 A Second Level Heading 
 
 =head3 A Third Level Heading 
</pre>
 <a name="t37.2.2"></a><h2 id="_language_pod.pod6-Ordinary_paragraphs">37.2.2 Ordinary paragraphs</h2>
 <p>An ordinary paragraph consists of text that is to be formatted into a document at the current level of nesting, with whitespace squeezed, lines filled, and any special inline mark-up applied.</p>
 <p>Ordinary paragraphs consist of one or more consecutive lines of text, each of which starts with a non-whitespace character. The paragraph is terminated by the first blank line or block directive.</p>
 <p>For example:</p>
 <pre class="code">=head1 This is a heading block 
 
 This is an ordinary paragraph. 
 Its text  will   be     squeezed     and 
 short lines filled. It is terminated by 
 the first blank line. 
 
 This is another ordinary paragraph. 
 Its     text    will  also be squeezed and 
 short lines filled. It is terminated by 
 the trailing directive on the next line. 
 
 =head2 This is another heading block 
 
 This is yet another ordinary paragraph, 
 at the first virtual column set by the 
 previous directive 
</pre>
 <p>Ordinary paragraphs do not require an explicit marker or delimiters.</p>
 <p>Alternatively, there is also an explicit <span class="code">=para</span> marker that can be used to explicitly mark a paragraph.</p>
 <pre class="code">=para 
 This is an ordinary paragraph. 
 Its text  will   be     squeezed     and 
 short lines filled. 
</pre>
 <p>In addition, the longer <span class="code">=begin para</span> and <span class="code">=end para</span> form can be used.</p>
 <p>For example:</p>
 <pre class="code">=begin para 
 This is an ordinary paragraph. 
 Its text  will   be     squeezed     and 
 short lines filled. 
 
 This is still part of the same paragraph, 
 which continues until an... 
 =end para 
</pre>
 <p>As demonstrated by the previous example, within a delimited <span class="code">=begin para</span> and <span class="code">=end para</span> block, any blank lines are preserved.</p>
 <a name="t37.2.3"></a><h2 id="_language_pod.pod6-Code_blocks">37.2.3 Code blocks</h2>
 <p>Code blocks are used to specify source code, which should be rendered without re-justification, without whitespace-squeezing, and without recognizing any inline formatting codes. Typically these blocks are used to show examples of code, mark-up, or other textual specifications, and are rendered using a fixed-width font.</p>
 <p>A code block may be implicitly specified as one or more lines of text, each of which starts with a whitespace character. The implicit code block is then terminated by a blank line.</p>
 <p>For example:</p>
 <pre class="code">This ordinary paragraph introduces a code block: 
 
     my $name = 'John Doe'; 
     say $name; 
</pre>
 <p>Code blocks can also be explicitly defined by enclosing them in <span class="code">=begin code</span> and <span class="code">=end code</span></p>
 <pre class="code">    =begin code 
     my $name = 'John Doe'; 
     say $name; 
     =end code 
</pre>
 <a name="t37.2.4"></a><h2 id="_language_pod.pod6-I/O_blocks">37.2.4 I/O blocks</h2>
 <p>Pod provides blocks for specifying the input and output of programs.</p>
 <p>The <span class="code">=input</span> block is used to specify pre-formatted keyboard input, which should be rendered without re-justification or squeezing of whitespace.</p>
 <p>The <span class="code">=output</span> block is used to specify pre-formatted terminal or file output, which should also be rendered without re-justification or whitespace-squeezing.</p>
 <a name="t37.2.5"></a><h2 id="_language_pod.pod6-Lists">37.2.5 Lists</h2>
 <a name="t37.2.5.1"></a><h3 id="_language_pod.pod6-Unordered_Lists">37.2.5.1 Unordered Lists</h3>
 <p>Lists in Pod are specified as a series of <span class="code">=item</span> blocks.</p>
 <p>For example:</p>
 <pre class="code">The three suspects are: 
 
 =item  Happy 
 =item  Sleepy 
 =item  Grumpy 
</pre>
 <p>The three suspects are:</p>
 <ul><li><p>Happy</p>
</li></ul> <ul><li><p>Sleepy</p>
</li></ul> <ul><li><p>Grumpy</p>
</li></ul> <a name="t37.2.5.2"></a><h3 id="_language_pod.pod6-Definition_Lists">37.2.5.2 Definition Lists</h3>
 <p>Lists that define terms or commands use <span class="code">=defn</span>, equivalent to the <span class="code">DL</span> lists in HTML</p>
 <pre class="code">=defn Happy 
 When you're not blue. 
 
 =defn blue 
 When you're not happy. 
</pre>
 <p>Would be rendered this way:</p>
 <p>Happy When you're not blue.</p>
 <p>Blue When you're not happy.</p>
 <p>Which, for the time being, might be a simple HTML paragraph, but might change in the future.</p>
 <a name="t37.2.5.3"></a><h3 id="_language_pod.pod6-Multi-level_Lists">37.2.5.3 Multi-level Lists</h3>
 <p>Lists may be multi-level, with items at each level specified using the <span class="code">=item1</span>, <span class="code">=item2</span>, <span class="code">=item3</span>, etc. blocks.</p>
 <p>Note that <span class="code">=item</span> is just an abbreviation for <span class="code">=item1</span>.</p>
 <p>For example:</p>
 <pre class="code">=item1  Animal 
 =item2     Vertebrate 
 =item2     Invertebrate 
 
 =item1  Phase 
 =item2     Solid 
 =item2     Liquid 
 =item2     Gas 
</pre>
 <ul><li><p>Animal</p>
</li></ul> <ul><li><ul><li><p>Vertebrate</p>
</li></ul></li></ul> <ul><li><ul><li><p>Invertebrate</p>
</li></ul></li></ul> <ul><li><p>Phase</p>
</li></ul> <ul><li><ul><li><p>Solid</p>
</li></ul></li></ul> <ul><li><ul><li><p>Liquid</p>
</li></ul></li></ul> <ul><li><ul><li><p>Gas</p>
</li></ul></li></ul> <a name="t37.2.5.4"></a><h3 id="_language_pod.pod6-Multi-paragraph_Lists">37.2.5.4 Multi-paragraph Lists</h3>
 <p>Using the delimited form of the <span class="code">=item</span> block (<span class="code">=begin item</span> and <span class="code">=end item</span>), we can specify items that contain multiple paragraphs.</p>
 <p>For example:</p>
 <pre class="code">Let's consider two common proverbs: 
 
 =begin item 
 I&lt;The rain in Spain falls mainly on the plain.&gt; 
 
 This is a common myth and an unconscionable slur on the Spanish 
 people, the majority of whom are extremely attractive. 
 =end item 
 
 =begin item 
 I&lt;The early bird gets the worm.&gt; 
 
 In deciding whether to become an early riser, it is worth 
 considering whether you would actually enjoy annelids 
 for breakfast. 
 =end item 
 
 As you can see, folk wisdom is often of dubious value. 
</pre>
 <p>Let's consider two common proverbs:</p>
 <ul><li><p><i>The rain in Spain falls mainly on the plain.</i></p>
 <p>This is a common myth and an unconscionable slur on the Spanish people, the majority of whom are extremely attractive.</p>
</li></ul> <ul><li><p><i>The early bird gets the worm.</i></p>
 <p>In deciding whether to become an early riser, it is worth considering whether you would actually enjoy annelids for breakfast.</p>
</li></ul> <p>As you can see, folk wisdom is often of dubious value.</p>
 <a name="t37.2.6"></a><h2 id="_language_pod.pod6-Tables">37.2.6 Tables</h2>
 <p>Check out this page for documentation related to <a href="https://docs.perl6.org/language/tables">Tables</a> <!-- Eventually copy everything from tables.pod6 and put it here --></p>
 <a name="t37.2.7"></a><h2 id="_language_pod.pod6-Pod_comments">37.2.7 Pod comments</h2>
 <p>Pod comments are comments that Pod renderers ignore.</p>
 <p>Comments are useful for meta-documentation (documenting the documentation):</p>
 <pre class="code">=comment Add more here about the algorithm 
</pre>
 <a name="t37.2.8"></a><h2 id="_language_pod.pod6-Semantic_blocks">37.2.8 Semantic blocks</h2>
 <p>All uppercase block typenames are reserved for specifying standard documentation, publishing, source components, or meta-information.</p>
 <pre class="code">=NAME 
 =AUTHOR 
 =VERSION 
 =TITLE 
 =SUBTITLE 
</pre>
 <a name="t37.3"></a><h1 id="_language_pod.pod6-Formatting_Codes">37.3 Formatting Codes</h1>
 <p>Formatting codes provide a way to add inline mark-up to a piece of text.</p>
 <p>All Pod formatting codes consist of a single capital letter followed immediately by a set of angle brackets.</p>
 <p>Formatting codes may nest other formatting codes.</p>
 <a name="t37.3.1"></a><h2 id="_language_pod.pod6-Bold">37.3.1 Bold</h2>
 <p>To format a text in bold enclose it in <span class="code">B&lt; &gt;</span></p>
 <pre class="code">Perl 6 is B&lt;awesome&gt; 
</pre>
 <p>Perl 6 is <b>awesome</b></p>
 <a name="t37.3.2"></a><h2 id="_language_pod.pod6-Italic">37.3.2 Italic</h2>
 <p>To format a text in italic enclose it in <span class="code">I&lt; &gt;</span></p>
 <pre class="code">Perl 6 is I&lt;awesome&gt; 
</pre>
 <p>Perl 6 is <i>awesome</i></p>
 <a name="t37.3.3"></a><h2 id="_language_pod.pod6-Underlined">37.3.3 Underlined</h2>
 <p>To underline a text enclose it in <span class="code">U&lt; &gt;</span></p>
 <pre class="code">Perl 6 is U&lt;awesome&gt; 
</pre>
 <p><!-- If used will bust Pod::To::BigPage --></p>
 <a name="t37.3.4"></a><h2 id="_language_pod.pod6-Code">37.3.4 Code</h2>
 <p>To flag text as Code and treat it verbatim enclose it in <span class="code">C&lt; &gt;</span></p>
 <pre class="code">C&lt;my $var = 1; say $var;&gt; 
</pre>
 <p><span class="code">my $var = 1; say $var;</span></p>
 <a name="t37.3.5"></a><h2 id="_language_pod.pod6-Links">37.3.5 Links</h2>
 <p>To create a link enclose it in <span class="code">L&lt; &gt;</span></p>
 <pre class="code">Perl 6 homepage L&lt;https://perl6.org&gt; 
 L&lt;Perl 6 homepage|https://perl6.org&gt; 
</pre>
 <p>Perl 6 homepage <a href="https://perl6.org">https://perl6.org</a></p>
 <p><a href="https://perl6.org">Perl 6 homepage</a></p>
 <p>To create a link to a section in the same document:</p>
 <pre class="code">Comments L&lt;#Comments&gt; 
</pre>
 <p>Comments <a href="#36-Comments">#Comments</a></p>
 <a name="t37.3.6"></a><h2 id="_language_pod.pod6-Comments">37.3.6 Comments</h2>
 <p>A comment is text that is never rendered.</p>
 <p>To create a comment enclose it in <span class="code">Z&lt; &gt;</span></p>
 <pre class="code">Perl 6 is awesome Z&lt;Of course it is!&gt; 
</pre>
 <p>Perl 6 is awesome <!-- Of course it is! --></p>
 <a name="t37.3.7"></a><h2 id="_language_pod.pod6-Notes">37.3.7 Notes</h2>
 <p>Notes are rendered as footnotes.</p>
 <p>To create a note enclose it in <span class="code">N&lt; &gt;</span></p>
 <pre class="code">Perl 6 is multi-paradigmatic N&lt;Supporting Procedural, Object Oriented, and Functional programming&gt; 
</pre>
 <p><!-- Perl 6 is multi-paradigmatic  <div class="marginale">Supporting Procedural, Object Oriented, and Functional programming</div>   --></p>
 <a name="t37.3.8"></a><h2 id="_language_pod.pod6-Keyboard_input">37.3.8 Keyboard input</h2>
 <p>To flag text as keyboard input enclose it in <span class="code">K&lt; &gt;</span></p>
 <pre class="code">Enter your name K&lt;John Doe&gt; 
</pre>
 <p><!-- If used will bust Pod::To::BigPage --></p>
 <a name="t37.3.9"></a><h2 id="_language_pod.pod6-Terminal_Output">37.3.9 Terminal Output</h2>
 <p>To flag text as terminal output enclose it in <span class="code">T&lt; &gt;</span></p>
 <pre class="code">Hello T&lt;John Doe&gt; 
</pre>
 <p><!-- If used will bust Pod::To::BigPage --></p>
 <a name="t37.3.10"></a><h2 id="_language_pod.pod6-Unicode">37.3.10 Unicode</h2>
 <p>To include Unicode code points or HTML5 character references in a Pod document, enclose them in <span class="code">E&lt; &gt;</span></p>
 <p><span class="code">E&lt; &gt;</span> can enclose a number, that number is treated as the decimal Unicode value for the desired code point. It can also enclose explicit binary, octal, decimal, or hexadecimal numbers using the Perl 6 notations for explicitly based numbers.</p>
 <pre class="code">Perl 6 makes considerable use of the E&lt;171&gt; and E&lt;187&gt; characters. 
 
 Perl 6 makes considerable use of the E&lt;laquo&gt; and E&lt;raquo&gt; characters. 
 
 Perl 6 makes considerable use of the E&lt;0b10101011&gt; and E&lt;0b10111011&gt; characters. 
 
 Perl 6 makes considerable use of the E&lt;0o253&gt; and E&lt;0o273&gt; characters. 
 
 Perl 6 makes considerable use of the E&lt;0d171&gt; and E&lt;0d187&gt; characters. 
 
 Perl 6 makes considerable use of the E&lt;0xAB&gt; and E&lt;0xBB&gt; characters. 
</pre>
 <p>Perl 6 makes considerable use of the « and » characters.</p>
 <a name="t37.4"></a><h1 id="_language_pod.pod6-Rendering_Pod">37.4 Rendering Pod</h1>
 <a name="t37.4.1"></a><h2 id="_language_pod.pod6-HTML">37.4.1 HTML</h2>
 <p>In order to generate HTML from Pod, you need the <span class="code">Pod::To::HTML</span> module.</p>
 <p>If it is not already installed, install it by running the following command: <span class="code">zef install Pod::To::HTML</span></p>
 <p>Using the terminal run the following command:</p>
 <pre class="code">perl6 --doc=HTML input.pod6 &gt; output.html 
</pre>
 <a name="t37.4.2"></a><h2 id="_language_pod.pod6-Markdown">37.4.2 Markdown</h2>
 <p>In order to generate Markdown from Pod, you need the <span class="code">Pod::To::Markdown</span> module.</p>
 <p>If it is not already installed, install it by running the following command: <span class="code">zef install Pod::To::Markdown</span></p>
 <p>Using the terminal run the following command:</p>
 <pre class="code">perl6 --doc=Markdown input.pod6 &gt; output.md 
</pre>
 <a name="t37.4.3"></a><h2 id="_language_pod.pod6-Text">37.4.3 Text</h2>
 <p>In order to generate Text from Pod, you can use the default <span class="code">Pod::To::Text</span> module.</p>
 <p>Using the terminal, run the following command:</p>
 <pre class="code">perl6 --doc=Text input.pod6 &gt; output.txt 
</pre>
 <p>You can omit the <span class="code">=Text</span> portion:</p>
 <pre class="code">perl6 --doc input.pod6 &gt; output.txt 
</pre>
 <p>You can even embed Pod directly in your program and add the traditional Unix command line &quot;--man&quot; option to your program with a multi MAIN subroutine like this:</p>
 <pre class="code">multi MAIN(Bool :$man) 
 { 
     run $*EXECUTABLE, '--doc', $*PROGRAM; 
 } 
</pre>
 <p>Now <span class="code">myprogram --man</span> will output your Pod rendered as a man page.</p>
 <a name="t37.5"></a><h1 id="_language_pod.pod6-Accessing_Pod">37.5 Accessing Pod</h1>
 <p>In order to access Pod documentation from within a Perl 6 program it is required to use the special <span class="code">=</span> twigil, as documented in the <a href="#_language_variables.pod6-The_=_Twigil">variables section</a>.</p>
 <p>The <span class="code">=</span> twigil provides the introspection over the Pod structure, providing a <a href="#_type_Pod::Block.pod6">Pod::Block</a> tree root from which it is possible to access the whole structure of the Pod document.</p>
 <p>As an example, the following piece of code introspects its own Pod documentation:</p>
 <pre class="code">=begin pod 
 
 =head1 This is an head1 title 
 
 This is a paragraph. 
 
 =head2 Subsection 
 
 Here some text for the subsection. 
 
 =end pod 
 
 for $=pod -&gt; $pod-item { 
     for $pod-item.contents -&gt; $pod-block { 
       $pod-block.perl.say; 
     } 
 } 
</pre>
 <p>producing the following output:</p>
 <pre class="code">Pod::Heading.new(level =&gt; 1, config =&gt; {}, contents =&gt; [Pod::Block::Para.new(config =&gt; {}, contents =&gt; [&quot;This is an head1 title&quot;])]); 
 Pod::Block::Para.new(config =&gt; {}, contents =&gt; [&quot;This is a paragraph.&quot;]); 
 Pod::Heading.new(level =&gt; 2, config =&gt; {}, contents =&gt; [Pod::Block::Para.new(config =&gt; {}, contents =&gt; [&quot;Subsection&quot;])]); 
 Pod::Block::Para.new(config =&gt; {}, contents =&gt; [&quot;Here some text for the subsection.&quot;]); 
</pre>
</div>
<!-- /language/pragmas.pod6 --><div class="pod-body"><a id="_language_pragmas.pod6"></a><a name="t38"><h1 class="title">38 Pragmas</h1></a> <p class="subtitle">Special modules for special use</p> <p>In Perl 6, <b>pragmas</b> are core modules used to either identify a specific version of Perl 6 to be used or to modify its normal behavior in some way. They are &quot;use&quot;ed in your code just as normal modules:</p>
 <pre class="code">use v6.c; 
</pre>
 <p>Following is a list of pragmas with a short description of each pragma's purpose or a link to more details about its use. (Note: Pragmas marked &quot;[NYI]&quot; are not yet implemented, and those marked &quot;[TBD]&quot; are to be defined later.)</p>
 The following should be a table but formatting in tables is
not yet rendered properly.
 <ul><li><p><span class="indexed"><a id="494" name="MONKEY-GUTS"><b>MONKEY-GUTS</b></a></span></p>
</li></ul> <p>This pragma is not currently part of any Perl 6 specification, but is present in Rakudo as a synonym to <span class="code">use nqp</span> (see below).</p>
 <ul><li><p><span class="indexed"><a id="495" name="MONKEY-SEE-NO-EVAL"><b>MONKEY-SEE-NO-EVAL</b></a></span> <a href="#_routine_EVAL.pod6">EVAL</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="496" name="MONKEY-TYPING"><b>MONKEY-TYPING</b></a></span> <a href="#_syntax_augment.pod6">augment</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="497" name="experimental"><b>experimental</b></a></span> allows use of experimental features</p>
</li></ul> <ul><li><p><span class="indexed"><a id="498" name="fatal"><b>fatal</b></a></span></p>
</li></ul> <p>A lexical pragma that makes <a href="#_type_Failure.pod6">Failures</a> returned from routines fatal. For example, prefix <span class="code">+</span> on a <a href="#_type_Str.pod6">Str</a> coerces it to <a href="#_type_Numeric.pod6">Numeric</a>, but will return a <a href="#_type_Failure.pod6">Failure</a> if the string contains non-numeric characters. Saving that <a href="#_type_Failure.pod6">Failure</a> in a variable prevents it from being sunk, and so the first code block below reaches the <span class="code">say $x.^name;</span> line and prints <span class="code">Failure</span> in output.</p>
 <p>In the second block, the <span class="code">use fatal</span> pragma is enabled, so the <span class="code">say</span> line is never reached because the <a href="#_type_Exception.pod6">Exception</a> contained in the <a href="#_type_Failure.pod6">Failure</a> returned from prefix <span class="code">+</span> gets thrown and the <span class="code">CATCH</span> block gets run, printing the <span class="code">Caught...</span> line. Note that both blocks are the same program and <span class="code">use fatal</span> only affects the lexical block it was used in:</p>
 <pre class="code">{
    my $x = +&quot;a&quot;;
    say $x.^name;
    CATCH { default { say &quot;Caught {.^name}&quot; } }
} # OUTPUT: «Failure␤»

{
    use fatal;
    my $x = +&quot;a&quot;;
    say $x.^name;
    CATCH { default { say &quot;Caught {.^name}&quot; } }
} # OUTPUT: «Caught X::Str::Numeric␤»</pre>
 <p>Inside of a <a href="#_language_exceptions.pod6-index-entry-try_blocks-try"><span class="code">try</span>  blocks</a>, the <span class="code">fatal</span> pragma is enabled by default, and you can <i>disable</i> it with <span class="code">no fatal</span>:</p>
 <pre class="code">try {
    my $x = +&quot;a&quot;;
    say $x.^name;
    CATCH { default { say &quot;Caught {.^name}&quot; } }
} # OUTPUT: «Caught X::Str::Numeric␤»

try {
    no fatal;
    my $x = +&quot;a&quot;;
    say $x.^name;
    CATCH { default { say &quot;Caught {.^name}&quot; } }
} # OUTPUT: «Failure␤»</pre>
 <ul><li><p><span class="indexed"><a id="499" name="internals"><b>internals</b></a></span> [NYI]</p>
</li></ul> <ul><li><p><span class="indexed"><a id="500" name="invocant"><b>invocant</b></a></span> [NYI]</p>
</li></ul> <ul><li><p><span class="indexed"><a id="501" name="lib"><b>lib</b></a></span> <a href="#_language_modules.pod6-Finding_Modules">Finding Modules</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="502" name="newline"><b>newline</b></a></span></p>
</li></ul> <p>Set the value of the <a href="#_language_variables.pod6-Compile-time_variables">$?NL</a> constant in the scope it is called. Possible values are <span class="code">:lf</span> (which is the default, indicating Line Feed), <span class="code">:crlf</span> (indicating Carriage Return, Line Feed) and <span class="code">:cr</span> (indicating Carriage Return).</p>
 <ul><li><p><span class="indexed"><a id="503" name="nqp"><b>nqp</b></a></span></p>
</li></ul> <p>Use at your own risk.</p>
 <p>This is a Rakudo-specific pragma. With it, Rakudo provides access to the <a href="https://github.com/perl6/nqp/blob/master/docs/ops.markdown">nqp opcodes</a> in a top level namespace:</p>
 <pre class="code">use nqp;
nqp::say(&quot;hello world&quot;);</pre>
 <p>This uses the underlying nqp <span class="code">say</span> opcode instead of the Perl 6 routine. This pragma may make your code rely on a particular version of nqp, and since that code is not part of the Perl 6 specification, it's not guaranteed to be stable. You may find a large number of usages in the Rakudo core, which are used to make the core functionality as fast as possible. Future optimizations in the code generation of Rakudo may obsolete these usages.</p>
 <ul><li><p><span class="indexed"><a id="504" name="parameters"><b>parameters</b></a></span> [NYI]</p>
</li></ul> <ul><li><p><span class="indexed"><a id="505" name="precompilation"><b>precompilation</b></a></span></p>
</li></ul> <p>The default allows precompilation of source code, specifically if used in a module. If for whatever reason you do not want the code (of your module) to be precompiled, you can use <span class="code">no precompilation</span>. This will prevent the entire compilation unit (usually a file) from being precompiled.</p>
 <ul><li><p><span class="indexed"><a id="506" name="soft"><b>soft</b></a></span> <a href="#_language_functions.pod6-Re-dispatching">Re-dispatching</a>, <a href="#_language_functions.pod6-index-entry-use_soft_(pragma)">inlining</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="507" name="strict"><b>strict</b></a></span></p>
</li></ul> <p><span class="code">strict</span> is the default behavior, and requires that you declare variables before using them. You can relax this restriction with <span class="code">no</span>.</p>
 <pre class="code">no strict; $x = 42; # OK 
</pre>
 <ul><li><p><span class="indexed"><a id="508" name="trace"><b>trace</b></a></span></p>
</li></ul> <p>When <span class="code">use trace</span> is activated, any line of code executing will be written to STDERR. You can use <span class="code">no trace</span> to switch off the feature, so this only happens for certain sections of code.</p>
 <ul><li><p><span class="indexed"><a id="509" name="v6"><b>v6</b></a></span> <a href="#_language_testing.pod6-Writing_tests">Writing Tests</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="510" name="variables"><b>variables</b></a></span> <a href="#_language_variables.pod6-Default_Defined_Variables_Pragma">Defined Variables Pragma</a></p>
</li></ul> <ul><li><p><span class="indexed"><a id="511" name="worries"><b>worries</b></a></span></p>
</li></ul> <p>Lexically controls whether compile-time warnings generated by the compiler get shown. Enabled by default.</p>
 <pre class="code">$ perl6 -e 'say :foo&lt;&gt;.Pair' 
 Potential difficulties: 
   Pair with &lt;&gt; really means an empty list, not null string; use :foo('') to represent the null string, 
     or :foo() to represent the empty list more accurately 
   at -e:1 
   ------&gt; say :foo&lt;&gt;⏏.Pair 
 foo =&gt; Nil 
 
 $ perl6 -e 'no worries; say :foo&lt;&gt;.Pair' 
 foo =&gt; Nil 
</pre>
 <ul><li><p>Other pragma under discussion</p>
</li></ul> <p>The following pragma's have been discussed in the past, but will most likely never see any functionality implemented for them:</p>
 <p>MONKEY-BARS, MONKEY-BRAINS, MONKEY-BUSINESS, MONKEY-SHINE, MONKEY-TRAP, MONKEY-WRENCH</p>
</div>
<!-- /language/py-nutshell.pod6 --><div class="pod-body"><a id="_language_py-nutshell.pod6"></a><a name="t39"><h1 class="title">39 Perl 6 from Python - Nutshell</h1></a> <p class="subtitle">Learning Perl 6 from Python, in a nutshell.</p> <p>This page is an attempt to provide a way to learn Perl 6 for folks coming from a Python background. We discuss the equivalent syntax in Perl 6 for a number of Python constructs and idioms.</p>
 <a name="t39.1"></a><h1 id="_language_py-nutshell.pod6-Basic_Syntax">39.1 Basic Syntax</h1>
 <a name="t39.1.1"></a><h2 id="_language_py-nutshell.pod6-Hello,_world">39.1.1 Hello, world</h2>
 <p>Let's start with printing &quot;Hello, world!&quot;. <a href="#_routine_put.pod6">put</a> in Perl 6 is the equivalent of <a href="#_routine_print.pod6">print</a> in Python. Like Python 2, parentheses are optional. A return is added to the end of the line.</p>
 <p>Python 2</p>
 <pre class="code">print &quot;Hello, world!&quot; 
</pre>
 <p>Python 3</p>
 <pre class="code">print(&quot;Hello, world!&quot;) 
</pre>
 <p>Perl 6</p>
 <pre class="code">put &quot;Hello, world!&quot;</pre>
 <p>There is also <a href="#_routine_say.pod6">say</a>, which behaves similarly, but will call the <a href="#_routine_gist.pod6">gist</a> method of its argument.</p>
 <p>Perl 6</p>
 <pre class="code">my $hello; ...;
say &quot;Hello, world!&quot;;  # also prints &quot;Hello, world&quot;
say $hello;           # same as: put $hello.gist</pre>
 <p>In Python, <span class="code">'</span> and <span class="code">&quot;</span> are interchangeable. In Perl 6, both may be used for quoting, but double quotes (<span class="code">&quot;</span>) signify that interpolation should be performed. For instance, variables that start with a <span class="code">$</span>, and expressions contained in curly braces are interpolated.</p>
 <p>Perl 6</p>
 <pre class="code">my $planet = 'earth';
say &quot;Hello, $planet&quot;;   # Hello, earth
say 'Hello, $planet';   # Hello, $planet
say &quot;Hello, planet number { 1 + 2 }&quot;; # Hello, planet number 3</pre>
 <a name="t39.1.2"></a><h2 id="_language_py-nutshell.pod6-Statement_Separators">39.1.2 Statement Separators</h2>
 <p>In Python, a newline signifies the end of a statement. There are a few exceptions: A backslash before a newline continues a statement across lines. Also if there is an unmatched opening parentheses, bracket, or curly brace, the statement continues across lines, until the matching braces are closed.</p>
 <p>In Perl 6, a semicolon signifies the end of a statement. The semicolon may be omitted if it is the last statement of a block. The semicolon may also be omitted if there is a closing curly brace followed by a newline.</p>
 <p>Python</p>
 <pre class="code">print 1 + 2 + \ 
     3 + 4 
 print ( 1 + 
     2 ) 
</pre>
 <p>Perl 6</p>
 <pre class="code">say 1 + 2 +
    3 + 4;
if True { say 1 + 2 }</pre>
 <a name="t39.1.3"></a><h2 id="_language_py-nutshell.pod6-Blocks">39.1.3 Blocks</h2>
 <p>In Python, indentation is used to indicate a block. Perl 6 uses curly braces.</p>
 <p>Python</p>
 <pre class="code">if 1 == 2: 
     print &quot;Wait, what?&quot; 
 else: 
     print &quot;1 is not 2.&quot; 
</pre>
 <p>Perl 6</p>
 <pre class="code">if 1 == 2 {
    say &quot;Wait, what?&quot;
} else {
    say &quot;1 is not 2.&quot;
}</pre>
 <p>Parentheses are optional in both languages in expressions in conditionals, as shown above.</p>
 <a name="t39.1.4"></a><h2 id="_language_py-nutshell.pod6-Variables">39.1.4 Variables</h2>
 <p>In Python, variables are declared and initialized at the same time:</p>
 <pre class="code">foo = 12 
 bar = 19 
</pre>
 <p>In Perl 6, <span class="code">my</span> declares a lexical variable. A variable can be initialized with <span class="code">=</span>. i.e. these can be written as two statements or one.</p>
 <pre class="code">my $foo;       # declare
$foo = 12;     # initialize
my $bar = 19;  # both at once</pre>
 <p>Also, as you may have noticed, variables in Perl 6 usually start with sigils -- symbols indicating the type of their container. Variables starting with a <span class="code">$</span> hold scalars. Variables starting with an <span class="code">@</span> hold arrays, and variables starting with a <span class="code">%</span> hold a hash (dict). Immutable variables can be sigil-less, if they are declared with a <span class="code">\</span>.</p>
 <p>Python</p>
 <pre class="code">s = 10 
 l = [1, 2, 3] 
 d = { a : 12, b : 99 } 
 
 print s 
 print l[2] 
 print d['a'] 
 # 10, 2, 12 
</pre>
 <p>Perl 6</p>
 <pre class="code">my $s = 10;
my @l = 1, 2, 3;
my %d = a =&gt; 12, b =&gt; 99;
my \x = 99;

say $s;
say @l[1];
say %d&lt;a&gt;;  # or %d{'a'}
say x;
# 10, 2, 12, 99</pre>
 <a name="t39.1.5"></a><h2 id="_language_py-nutshell.pod6-Scope">39.1.5 Scope</h2>
 <p>In Python, functions and classes create a new scope, but no other block constructor (e.g. loops, conditionals) creates a scope. In Python 2, list comprehensions do not create a new scope, but in Python 3, they do.</p>
 <p>In Perl 6, every block creates a lexical scope.</p>
 <p>Python</p>
 <pre class="code">if True: 
     x = 10 
 print x 
 # x is now 10 
</pre>
 <p>Perl 6</p>
 <pre class="code">if True { 
     my $x = 10 
 } 
 say $x 
 # error, $x is not declared in this scope 
</pre>
 <pre class="code">my $x; 
 if True { 
     $x = 10 
 } 
 say $x 
 # ok, x is 10 
</pre>
 <p>Python</p>
 <pre class="code">x = 10 
 for x in 1, 2, 3: 
    pass 
 print x 
 # x is 3 
</pre>
 <p>Perl 6</p>
 <pre class="code">my \x = 10;
for 1, 2, 3 -&gt; \x {
    # do nothing
    }
say x;
# x is 10</pre>
 <p>Lambdas in Python can be written as blocks or pointy blocks in Perl 6.</p>
 <p>Python</p>
 <pre class="code">l = lambda i: i + 12 
</pre>
 <p>Perl 6</p>
 <pre class="code">my $l = -&gt; $i { $i + 12 } 
</pre>
 <p>Another Perl 6 idiom for constructing lambdas is the Whatever star, <span class="code">*</span>.</p>
 <p>Perl 6</p>
 <pre class="code">my $l = * + 12    # same as above</pre>
 <p>A <span class="code">*</span> in an expression will become a placeholder for the argument, and transform the expression into a lambda at compile time. Each <span class="code">*</span> in an expression is a separate positional parameter.</p>
 <p>See the section below for more constructs regarding subroutines and blocks.</p>
 <p>Another example (from the Python <a href="https://docs.python.org/3/faq/programming.html#why-do-lambdas-defined-in-a-loop-with-different-values-all-return-the-same-result">FAQ</a>):</p>
 <p>Python</p>
 <pre class="code">squares = [] 
 for x in range(5): 
     squares.append(lambda: x ** 2) 
 print squares[2]() 
 print squares[4]() 
 # both 16 since there is only one x 
</pre>
 <p>Perl 6</p>
 <pre class="code">my \squares = [];
for ^5 -&gt; \x {
    squares.append({ x² });
}
say squares[2]();
say squares[4]();
# 4, 16 since each loop iteration has a lexically scoped x,</pre>
 <p>Note that <span class="code">^N</span> is like <span class="code">range(N)</span>. Similarly, <span class="code">N..^M</span> works like <span class="code">range(N, M)</span> (a list from N to M - 1). <span class="code">N..M</span> is a list from N to M. The <span class="code">^</span> before or after the <span class="code">..</span> indicates that the beginning or ending endpoint of the list (or both) should be excluded.</p>
 <p>Also, <span class="code">x²</span> is a cute way of writing <span class="code">$x ** 2</span> (which also works fine); the unicode superscript 2 squares a number. Many of the other unicode operators work as you would expect (exponents, fractions, π), but every unicode operator or symbol that can be used in Perl 6 has an ASCII equivalent.</p>
 <a name="t39.1.6"></a><h2 id="_language_py-nutshell.pod6-Control_Flow">39.1.6 Control Flow</h2>
 <p>Python has <span class="code">for</span> loops and <span class="code">while</span> loops:</p>
 <pre class="code">for i in 1, 2: 
     print i 
 j = 1 
 while j &lt; 3: 
     print j 
     j += 1 
</pre>
 <p># 1, 2, 1, 2</p>
 <p>Perl 6 also has <span class="code">for</span> loops and <span class="code">while</span> loops:</p>
 <pre class="code">for 1, 2 -&gt; $i {
    say $i
}
my $j = 1;
while $j &lt; 3 {
    say $j;
    $j += 1
}</pre>
 <p>(Perl 6 also has a few more looping constructs: <span class="code">repeat, until</span>, <span class="code">repeat, while</span>, <span class="code">until</span>, and <span class="code">loop</span>.)</p>
 <p><span class="code">last</span> leaves a loop in Perl 6, and is analogous to <span class="code">break</span> in Python. <span class="code">continue</span> in Python is <span class="code">next</span> in Perl 6.</p>
 <p>Python</p>
 <pre class="code">for i in range(10): 
     if i == 3: 
         continue 
     if i == 5: 
         break 
     print i 
</pre>
 <p>Perl 6</p>
 <pre class="code">for ^10 -&gt; $i {
    next if $i == 3;
    last if $i == 5;
    say $i;
}</pre>
 <p>Using <span class="code">if</span> as a statement modifier (as above) is acceptable in Perl 6, even outside of a list comprehension.</p>
 <p>The <span class="code">yield</span> statement in Python which produces a <span class="code">generator</span> is like a <span class="code">gather</span>, <span class="code">take</span> construct in Perl 6. These both print 1, 2, 3.</p>
 <p>Python</p>
 <pre class="code">def count(): 
     for i in 1, 2, 3: 
         yield i 
 
 for c in count(): 
     print c 
</pre>
 <p>Perl 6</p>
 <pre class="code">sub count {
    gather {
        for 1, 2, 3 -&gt; $i {
            take $i
        }
    }
}

for count() -&gt; $c {
    say $c;
}</pre>
 <a name="t39.1.7"></a><h2 id="_language_py-nutshell.pod6-Lambdas,_Functions_and_Subroutines">39.1.7 Lambdas, Functions and Subroutines</h2>
 <p>Declaring a function (subroutine) with <span class="code">def</span> in Python is accomplished with <span class="code">sub</span> in Perl 6.</p>
 <pre class="code">def add(a, b): 
     return a + b 
 
 sub add(\a, \b) { 
     return a + b 
 } 
</pre>
 <p>The <span class="code">return</span> is optional; the value of the last expression is used as the return value:</p>
 <pre class="code">sub add(\a, \b) { 
     a + b 
 } 
</pre>
 <pre class="code"># using variables with sigils 
 sub add($a, $b) { 
     $a + $b 
 } 
</pre>
 <p>Python 2 functions can be called with positional arguments or keyword arguments. These are determined by the caller. In Python 3, some arguments may be &quot;keyword only&quot;. In Perl 6, positional and named arguments are determined by the signature of the routine.</p>
 <p>Python</p>
 <pre class="code">def speak(word, times): 
     for i in range(times): 
         print word 
 speak('hi', 2) 
 speak(word='hi', times=2) 
</pre>
 <p>Perl 6</p>
 <p>Positional parameters:</p>
 <pre class="code">sub speak($word, $times) {
  say $word for ^$times
}
speak('hi', 2);</pre>
 <p>Named parameters start with a colon:</p>
 <pre class="code">sub speak(:$word, :$times) {
  say $word for ^$times
}
speak(word =&gt; 'hi', times =&gt; 2);
speak(:word&lt;hi&gt;, :times&lt;2&gt;);      # Alternative, more idiomatic</pre>
 <p>Perl 6 supports multiple dispatch, so several signatures could be made available by declaring a routine as a <span class="code">multi</span>.</p>
 <pre class="code">multi sub speak($word, $times) {
  say $word for ^$times
}
multi sub speak(:$word, :$times) {
    speak($word, $times);
}
speak('hi', 2);
speak(:word&lt;hi&gt;, :times&lt;2&gt;);</pre>
 <p>Named parameters can be sent using a variety of formats:</p>
 <pre class="code">sub hello {...};
# all the same
hello(name =&gt; 'world'); # fat arrow syntax
hello(:name('world'));  # pair constructor
hello :name&lt;world&gt;;     # &lt;&gt; quotes words and makes a list
my $name = 'world';
hello(:$name);          # lexical var with the same name</pre>
 <p>Creating an anonymous function can be done with <span class="code">sub</span>, with a block or with a pointy block.</p>
 <p>Python</p>
 <pre class="code">square = lambda x: x ** 2 
</pre>
 <p>Perl 6</p>
 <pre class="code">my $square = sub ($x) { $x ** 2 };  # anonymous sub
my $square = -&gt; $x { $x ** 2 };     # pointy block
my $square = { $^x ** 2 };          # placeholder variable
my $square = { $_ ** 2 };           # topic variable</pre>
 <p>Placeholder variables are lexicographically ordered to form positional parameters. i.e. these are the same:</p>
 <pre class="code">my $power = { $^x ** $^y };
my $power = -&gt; $x, $y { $x ** $y };</pre>
 <a name="t39.1.8"></a><h2 id="_language_py-nutshell.pod6-List_Comprehensions">39.1.8 List Comprehensions</h2>
 <p>Postfix statement modifiers and blocks can be combined to make list comprehensions.</p>
 <p>Python</p>
 <pre class="code">print [ i * 2 for i in 3, 9 ]                      # OUTPUT: «[6, 18]␤» 
</pre>
 <p>Perl 6</p>
 <pre class="code">say ( $_ * 2 for 3, 9 );                           # OUTPUT: «(6 18)␤»
say ( { $^i * 2 } for 3, 9 );                      # OUTPUT: «(6 18)␤»
say ( -&gt; \i { i * 2 } for 3, 9 );                  # OUTPUT: «(6 18)␤»</pre>
 <p>Conditionals can be applied, but the <span class="code">if</span> comes first, unlike in Python where the if comes second.</p>
 <pre class="code">print [ x * 2 for x in 1, 2, 3 if x &gt; 1 ]          # OUTPUT: «[4, 6]␤» 
</pre>
 <p>vs</p>
 <pre class="code">say ( $_ * 2 if $_ &gt; 1 for 1, 2, 3 );              # OUTPUT: «(4 6)␤»</pre>
 <p>For nested loops, the cross product operator <span class="code">X</span> will help:</p>
 <pre class="code">print [ i + j for i in 3,9 for j in 2,10 ]         # OUTPUT: «[5, 13, 11, 19]␤» 
</pre>
 <p>becomes either of these:</p>
 <pre class="code">say ( { $_[0] + $_[1] } for (3,9) X (2,10) );      # OUTPUT: «(5 13 11 19)␤»
say ( -&gt; (\i, \j) { i + j } for (3,9) X (2,10) );  # OUTPUT: «(5 13 11 19)␤»</pre>
 <p>Using <span class="code">map</span> (which is just like Python's <span class="code">map</span>) and <span class="code">grep</span> (which is like Python's <span class="code">filter</span>) is an alternative.</p>
 <a name="t39.1.9"></a><h2 id="_language_py-nutshell.pod6-Classes_and_Objects">39.1.9 Classes and Objects</h2>
 <p>Here's an example from the Python <a href="https://docs.python.org/3/tutorial/classes.html#class-and-instance-variables">docs</a>. First, &quot;instance variables&quot;, aka attributes in Perl 6:</p>
 <p>Python:</p>
 <pre class="code">class Dog: 
     def __init__(self, name): 
         self.name = name 
</pre>
 <p>Perl 6:</p>
 <pre class="code">class Dog {
    has $.name;
}</pre>
 <p>Constructors by default take named arguments in Perl 6, and use the method <span class="code">new</span>.</p>
 <p>Python</p>
 <pre class="code">d = Dog('Fido') 
 e = Dog('Buddy') 
 print d.name 
 print e.name 
</pre>
 <p>Perl 6</p>
 <pre class="code">class Dog {}; ...;
my $d = Dog.new(:name&lt;Fido&gt;);
my $e = Dog.new(:name&lt;Buddy&gt;);
say $d.name;
say $e.name;</pre>
 <p>Class attributes in Perl 6 can be declared in a few ways. One way is to just declare a lexical variable and a method for accessing it.</p>
 <p>Python:</p>
 <pre class="code">class Dog: 
     kind = 'canine'                # class attribute 
     def __init__(self, name): 
         self.name = name           # instance attribute 
 d = Dog('Fido') 
 e = Dog('Buddy') 
 print d.kind 
 print e.kind 
 print d.name 
 print e.name 
</pre>
 <p>Perl 6:</p>
 <pre class="code">class Dog {
    my $kind = 'canine';           # class attribute
    method kind { $kind }
    has $.name;                    # instance attribute
}

my $d = Dog.new(:name&lt;Fido&gt;);
my $e = Dog.new(:name&lt;Buddy&gt;);
say $d.kind;
say $e.kind;
say $d.name;
say $e.name;</pre>
 <p>To mutate attributes, in Perl 6 you&quot;ll want to use <span class="code">is rw</span>:</p>
 <p>Python:</p>
 <pre class="code">class Dog: 
     def __init__(self, name): 
         self.name = name 
 d = Dog() 
 d.name = 'rover' 
</pre>
 <p>Perl 6:</p>
 <pre class="code">class Dog {
    has $.name is rw;
}
my $d = Dog.new;
$d.name = 'rover';</pre>
 <p>Inheritance is done using <span class="code">is</span>:</p>
 <p>Python</p>
 <pre class="code">class Animal: 
     def jump(self): 
         print (&quot;I am jumping&quot;) 
 
 class Dog(Animal): 
     pass 
 
 d = Dog() 
 d.jump() 
</pre>
 <p>Perl 6</p>
 <pre class="code">class Animal {
    method jump {
        say &quot;I am jumping&quot;
    }
}

class Dog is Animal {
}

my $d = Dog.new;
$d.jump;</pre>
 <p>Multiple inheritance is possible by using <span class="code">is</span> multiple times, or with <span class="code">also</span>.</p>
 <p>Python</p>
 <pre class="code">class Dog(Animal, Friend, Pet): 
     pass 
</pre>
 <p>Perl 6</p>
 <pre class="code">class Animal {}; class Friend {}; class Pet {};
...;
class Dog is Animal is Friend is Pet {};</pre>
 <p>or</p>
 <pre class="code">class Animal {}; class Friend {}; class Pet {};
...;
class Dog is Animal {
    also is Friend;
    also is Pet;
    ...
}</pre>
 <a name="t39.1.10"></a><h2 id="_language_py-nutshell.pod6-Decorators">39.1.10 Decorators <a name="512"></a> <a name="513"></a></h2>
 <p>Decorators in Python are a way of wrapping a function in another one. In Perl 6, this is done with <span class="code">wrap</span>.</p>
 <p>Python</p>
 <pre class="code">def greeter(f): 
     def new(): 
         print 'hello' 
         f() 
     return new 
 
 @greeter 
 def world(): 
     print 'world' 
 
 world(); 
</pre>
 <p>Perl 6</p>
 <pre class="code">sub world {
    say 'world'
}

&amp;world.wrap(sub () {
    say 'hello';
    callsame;
});

world;</pre>
 <p>An alternative would be to use a trait:</p>
 <pre class="code"># declare the trait 'greeter'
multi sub trait_mod:&lt;is&gt;(Routine $r, :$greeter) {
    $r.wrap(sub {
        say 'hello';
        callsame;
    })
}

sub world is greeter {
    say 'world';
}

world;</pre>
 <a name="t39.1.11"></a><h2 id="_language_py-nutshell.pod6-Context_Managers">39.1.11 Context Managers <a name="514"></a> <a name="515"></a></h2>
 <p>Context managers in Python declare actions that happen when entering or exiting a scope.</p>
 <p>Here's a python context manager that prints the strings 'hello', 'world', and 'bye':</p>
 <pre class="code">class hello: 
     def __exit__(self, type, value, traceback): 
         print 'bye' 
     def __enter__(self): 
         print 'hello' 
 
 with hello(): 
     print 'world' 
</pre>
 <p>For enter and exit events, passing a block as an argument would be one option:</p>
 <pre class="code">sub hello(Block $b) {
    say 'hello';
    $b();
    say 'bye';
}

hello {
    say 'world';
}</pre>
 <p>A related idea is '<a href="#_language_phasers.pod6">Phasers</a>' which may be set up to run on entering or leaving a block.</p>
 <pre class="code">{
    LEAVE say 'bye';
    ENTER say 'hello';
    say 'world';
}</pre>
 <a name="t39.1.12"></a><h2 id="_language_py-nutshell.pod6-Input">39.1.12 Input <a name="516"></a> <a name="517"></a></h2>
 <p>See the <a href="#_routine_prompt.pod6">prompt</a> function.</p>
</div>
<!-- /language/quoting.pod6 --><div class="pod-body"><a id="_language_quoting.pod6"></a><a name="t40"><h1 class="title">40 Quoting Constructs</h1></a> <p class="subtitle">Writing strings, word lists, and regexes in Perl 6</p> <a name="t40.1"></a><h1 id="_language_quoting.pod6-The_Q_Lang">40.1 The Q Lang</h1>
 <p>Strings are usually represented in Perl 6 code using some form of quoting construct. The most minimalistic of these is <span class="code">Q</span>, usable via the shortcut <span class="code">｢…｣</span>, or via <span class="code">Q</span> followed by any pair of delimiters surrounding your text. Most of the time, though, the most you'll need is <span class="code">'…'</span> or <span class="code">&quot;…&quot;</span>, described in more detail in the following sections.</p>
 <a name="t40.1.1"></a><h2 id="_language_quoting.pod6-Literal_strings:_Q">40.1.1 <a name="518"></a>Literal strings: Q</h2>
 <pre class="code"><b>Q[</b> A literal string <b>]</b> 
 <b>｢</b> More plainly. <b>｣</b> 
 <b>Q ^</b> Almost any non-word character can be a delimiter! <b>^</b> 
 <b>Q ｢｢</b> Delimiters can be repeated/nested if they are adjacent. <b>｣｣</b> 
</pre>
 <p>Delimiters can be nested, but in the plain <span class="code">Q</span> form, backslash escapes aren't allowed. In other words, basic <span class="code">Q</span> strings are as literal as possible.</p>
 <p>Some delimiters are not allowed immediately after <span class="code">Q</span>, <span class="code">q</span>, or <span class="code">qq</span>. Any characters that are allowed in <a href="#_language_syntax.pod6-Identifiers">identifiers</a> are not allowed to be used, since in such a case, the quoting construct together with such characters are interpreted as an identifier. In addition, <span class="code">( )</span> is not allowed because that is interpreted as a function call. If you still wish to use those characters as delimiters, separate them from <span class="code">Q</span>, <span class="code">q</span>, or <span class="code">qq</span> with a space. Please note that some natural languages use a left delimiting quote on the right side of a string. <span class="code">Q</span> will not support those as it relies on unicode properties to tell left and right delimiters apart.</p>
 <pre class="code"><b>Q'</b> this will not work! <b>'</b> 
 <b>Q(</b> this won't work either! <b>)</b> 
</pre>
 <p>The examples above will produce an error. However, this will work</p>
 <pre class="code"><b>Q (</b> this is fine, because of space after Q <b>)</b> 
 <b>Q '</b> and so is this <b>'</b> 
 Q&lt;Make sure you  <b>&lt;</b> match <b>&gt;</b>  opening and closing delimiters&gt; 
 Q{This is still a closing curly brace →  <b>\</b> } 
</pre>
 <p>These examples produce:</p>
 <pre class="code">this is fine, because of space after Q 
 and so is this 
 Make sure you &lt;match&gt; opening and closing delimiters 
 This is still a closing curly brace → \ 
</pre>
 <p><span class="indexed"><a id="519" name=":x (quoting adverb)"></a></span><span class="indexed"><a id="520" name=":exec (quoting adverb)"></a></span><span class="indexed"><a id="521" name=":w (quoting adverb)"></a></span><span class="indexed"><a id="522" name=":words (quoting adverb)"></a></span><span class="indexed"><a id="523" name=":ww (quoting adverb)"></a></span><span class="indexed"><a id="524" name=":quotewords (quoting adverb)"></a></span><span class="indexed"><a id="525" name=":q (quoting adverb)"></a></span><span class="indexed"><a id="526" name=":single (quoting adverb)"></a></span><span class="indexed"><a id="527" name=":qq (quoting adverb)"></a></span><span class="indexed"><a id="528" name=":double (quoting adverb)"></a></span><span class="indexed"><a id="529" name=":s (quoting adverb)"></a></span><span class="indexed"><a id="530" name=":scalar (quoting adverb)"></a></span><span class="indexed"><a id="531" name=":a (quoting adverb)"></a></span><span class="indexed"><a id="532" name=":array (quoting adverb)"></a></span><span class="indexed"><a id="533" name=":h (quoting adverb)"></a></span><span class="indexed"><a id="534" name=":hash (quoting adverb)"></a></span><span class="indexed"><a id="535" name=":f (quoting adverb)"></a></span><span class="indexed"><a id="536" name=":function (quoting adverb)"></a></span><span class="indexed"><a id="537" name=":c (quoting adverb)"></a></span><span class="indexed"><a id="538" name=":closure (quoting adverb)"></a></span><span class="indexed"><a id="539" name=":b (quoting adverb)"></a></span><span class="indexed"><a id="540" name=":backslash (quoting adverb)"></a></span><span class="indexed"><a id="541" name=":to (quoting adverb)"></a></span><span class="indexed"><a id="542" name=":heredoc (quoting adverb)"></a></span><span class="indexed"><a id="543" name=":v (quoting adverb)"></a></span><span class="indexed"><a id="544" name=":val (quoting adverb)"></a></span></p>
 <p>The behaviour of quoting constructs can be modified with adverbs, as explained in detail in later sections.</p>
 <table>
<tr><td>Short</td> <td>Long</td> <td>Meaning</td></tr>
 <tr><td>:x</td> <td>:exec</td> <td>Execute as command and return results</td></tr>
 <tr><td>:w</td> <td>:words</td> <td>Split result on words (no quote protection)</td></tr>
 <tr><td>:ww</td> <td>:quotewords</td> <td>Split result on words (with quote protection)</td></tr>
 <tr><td>:q</td> <td>:single</td> <td>Interpolate \\, \qq[...] and escaping the delimiter with \</td></tr>
 <tr><td>:qq</td> <td>:double</td> <td>Interpolate with :s, :a, :h, :f, :c, :b</td></tr>
 <tr><td>:s</td> <td>:scalar</td> <td>Interpolate $ vars</td></tr>
 <tr><td>:a</td> <td>:array</td> <td>Interpolate @ vars</td></tr>
 <tr><td>:h</td> <td>:hash</td> <td>Interpolate % vars</td></tr>
 <tr><td>:f</td> <td>:function</td> <td>Interpolate &amp; calls</td></tr>
 <tr><td>:c</td> <td>:closure</td> <td>Interpolate {...} expressions</td></tr>
 <tr><td>:b</td> <td>:backslash</td> <td>Enable backslash escapes (\n, \qq, \$foo, etc)</td></tr>
 <tr><td>:to</td> <td>:heredoc</td> <td>Parse result as heredoc terminator</td></tr>
 <tr><td>:v</td> <td>:val</td> <td>Convert to allomorph if possible</td></tr>
</table> <a name="t40.1.2"></a><h2 id="_language_quoting.pod6-Escaping:_q">40.1.2 <a name="545"></a>Escaping: q</h2>
 <pre class="code">'Very plain'; 
 q[This back\slash stays]; 
 q[This back\\slash stays]; # Identical output 
 q{This is not a closing curly brace → \}, but this is → }; 
 Q :q $There are no backslashes here, only lots of \$\$\$&gt;!$; 
 '(Just kidding. There\'s no money in that string)'; 
 'No $interpolation {here}!'; 
 Q:q!Just a literal &quot;\n&quot; here!; 
</pre>
 <p>The <span class="code">q</span> form allows for escaping characters that would otherwise end the string using a backslash. The backslash itself can be escaped, too, as in the third example above. The usual form is <span class="code">'…'</span> or <span class="code">q</span> followed by a delimiter, but it's also available as an adverb on <span class="code">Q</span>, as in the fifth and last example above.</p>
 <p>These examples produce:</p>
 <pre class="code">Very plain 
 This back\slash stays 
 This back\slash stays 
 This is not a closing curly brace → } but this is → 
 There are no backslashes here, only lots of $$$! 
 (Just kidding. There's no money in that string) 
 No $interpolation {here}! 
 Just a literal &quot;\n&quot; here 
</pre>
 <p>The <span class="code">\qq[...]</span> escape sequence enables <a href="#_language_quoting.pod6-Interpolation:_qq"><span class="code">qq</span>  interpolation</a> for a portion of the string. Using this escape sequence is handy when you have HTML markup in your strings, to avoid interpretation of angle brackets as hash keys:</p>
 <pre class="code">my $var = 'foo';
say '&lt;code&gt;$var&lt;/code&gt; is &lt;var&gt;\qq[$var.uc()]&lt;/var&gt;';
# OUTPUT: «&lt;code&gt;$var&lt;/code&gt; is &lt;var&gt;FOO&lt;/var&gt;␤»</pre>
 <a name="t40.1.3"></a><h2 id="_language_quoting.pod6-Interpolation:_qq">40.1.3 <a name="546"></a>Interpolation: qq</h2>
 <pre class="code">my $color = 'blue'; 
 <a href="#_routine_say.pod6">say</a>   <b>&quot;</b> My favorite color is  <b>$color</b> ! <b>&quot;</b> 
 
 My favorite color is blue! 
</pre>
 <p><span class="indexed"><a id="547" name="\ (quoting)"></a></span> The <span class="code">qq</span> form – usually written using double quotes – allows for interpolation of backslash sequences and variables, i.e., variables can be written within the string so that the content of the variable is inserted into the string. It is also possible to escape variables within a <span class="code">qq</span>-quoted string:</p>
 <pre class="code">say  <b>&quot;</b> The  <b>\</b> $color variable contains the value '$color' <b>&quot;</b> ; 
 
 The $color variable contains the value 'blue' 
</pre>
 <p>Another feature of <span class="code">qq</span> is the ability to interpolate Perl 6 code from within the string, using curly braces:</p>
 <pre class="code">my ($x, $y, $z) = 4, 3.5, 3; 
 say &quot;This room is  <b>$x</b>  m by  <b>$y</b>  m by  <b>$z</b>  m.&quot;; 
 say &quot;Therefore its volume should be  <b>{ $x * $y * $z }</b>  m³!&quot;; 
 
 This room is 4 m by 3.5 m by 3 m. 
 Therefore its volume should be 42 m³! 
</pre>
 <p>By default, only variables with the <span class="code">$</span> sigil are interpolated normally. This way, when you write <span class="code">&quot;documentation@perl6.org&quot;</span>, you aren't interpolating the <span class="code">@perl6</span> variable. If that's what you want to do, append a <span class="code">[]</span> to the variable name:</p>
 <pre class="code">my @neighbors = &quot;Felix&quot;, &quot;Danielle&quot;, &quot;Lucinda&quot;; 
 say &quot;@neighbors <b>[]</b>  and I try our best to coexist peacefully.&quot; 
 
 Felix Danielle Lucinda and I try our best to coexist peacefully. 
</pre>
 <p>Often a method call is more appropriate. These are allowed within <span class="code">qq</span> quotes as long as they have parentheses after the call. Thus the following code will work:</p>
 <pre class="code">say &quot;@neighbors <b>. <a href="#_routine_join.pod6">join</a> (', ')</b>  and I try our best to coexist peacefully.&quot; 
 
 Felix, Danielle, Lucinda and I try our best to coexist peacefully. 
</pre>
 <p>However, <span class="code">&quot;@example.com&quot;</span> produces <span class="code">@example.com</span>.</p>
 <p>To call a subroutine use the <span class="code">&amp;</span>-sigil. <span class="indexed"><a id="548" name="&amp; (interpolation)"></a></span></p>
 <pre class="code">say &quot;abc&amp;uc(&quot;def&quot;)ghi&quot;;
# OUTPUT: «abcDEFghi␤»</pre>
 <p>Postcircumfix operators and therefore <a href="#_language_subscripts.pod6">subscripts</a> are interpolated as well.</p>
 <pre class="code">my %h = :1st; say &quot;abc%h&lt;st&gt;ghi&quot;;
# OUTPUT: «abc1ghi␤»</pre>
 <p>To enter unicode sequences use <span class="code">\x</span> or <span class="code">\x[]</span> with the hex-code of the character or a list of characters.</p>
 <pre class="code">my $s = &quot;I \x2665 Perl 6!&quot;;
say $s;
# OUTPUT: «I ♥ Perl 6!␤»

$s = &quot;I really \x[2661,2665,2764,1f495] Perl 6!&quot;;
say $s;
# OUTPUT: «I really ♡♥❤💕 Perl 6!␤»</pre>
 <p>You can also use <a href="#_language_unicode.pod6-Entering_Unicode_Codepoints_and_Codepoint_Sequences">unicode names</a> , <a href="#_language_unicode.pod6-Named_Sequences">named sequences</a> and <a href="#_language_unicode.pod6-Name_Aliases">name aliases</a> with <a href="#_language_unicode.pod6-Entering_Unicode_Codepoints_and_Codepoint_Sequences">\c[]</a>.</p>
 <pre class="code">my $s = &quot;Camelia \c[BROKEN HEART] my \c[HEAVY BLACK HEART]!&quot;;
say $s;
# OUTPUT: «Camelia 💔 my ❤!␤»</pre>
 <p>Interpolation of undefined values will raise a control exception that can be caught in the current block with <a href="#_language_phasers.pod6-CONTROL">CONTROL</a>.</p>
 <pre class="code">sub niler {Nil}; 
 my Str $a = niler; 
 say(&quot;$a.html&quot;, &quot;sometext&quot;); 
 say &quot;alive&quot;; # this line is dead code 
 CONTROL { .die }; 
</pre>
 <a name="t40.1.4"></a><h2 id="_language_quoting.pod6-Word_quoting:_qw">40.1.4 Word quoting: qw <a name="549"></a></h2>
 <pre class="code"><b>qw|</b> ! @ # $ % ^ &amp; * \| &lt; &gt;  <b>|</b>  eqv '! @ # $ % ^ &amp; * | &lt; &gt;'.words.list 
 <b>q:w {</b>  [ ] \{ \}  <b>}</b>  eqv ('[', ']', '{', '}') 
 <b>Q:w |</b>  [ ] { }  <b>|</b>  eqv ('[', ']', '{', '}') 
</pre>
 <p>The <span class="code">:w</span> form, usually written as <span class="code">qw</span>, splits the string into &quot;words&quot;. In this context, words are defined as sequences of non-whitespace characters separated by whitespace. The <span class="code">q:w</span> and <span class="code">qw</span> forms inherit the interpolation and escape semantics of the <span class="code">q</span> and single quote string delimiters, whereas <span class="code">Qw</span> and <span class="code">Q:w</span> inherit the non-escaping semantics of the <span class="code">Q</span> quoter.</p>
 <p>This form is used in preference to using many quotation marks and commas for lists of strings. For example, where you could write:</p>
 <pre class="code">my @directions = 'left', 'right,', 'up', 'down';</pre>
 <p>It's easier to write and to read this:</p>
 <pre class="code">my @directions = qw|left right up down|;</pre>
 <a name="t40.1.5"></a><h2 id="_language_quoting.pod6-Word_quoting:_&lt;_&gt;">40.1.5 Word quoting: &lt; &gt; <a name="550"></a></h2>
 <pre class="code">say  <b>&lt;</b> a b c <b>&gt;</b>   <a href="#_routine_eqv.pod6">eqv</a>  ('a', 'b', 'c');   # OUTPUT: «True␤» 
 say  <b>&lt;</b> a b 42 <b>&gt;</b>   <a href="#_routine_eqv.pod6">eqv</a>  ('a', 'b', '42'); # OUTPUT: «False␤», the 42 become an IntStr allomorph 
 say &lt; 42 &gt; ~~ Int; # OUTPUT: «True␤» 
 say &lt; 42 &gt; ~~ Str; # OUTPUT: «True␤» 
</pre>
 <p>The angle brackets quoting is like <span class="code">qw</span>, but with extra feature that lets you construct <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorphs</a> or literals of certain numbers:</p>
 <pre class="code">say &lt;42 4/2 1e6 1+1i abc&gt;.perl;
# OUTPUT: «(IntStr.new(42, &quot;42&quot;), RatStr.new(2.0, &quot;4/2&quot;), NumStr.new(1000000e0, &quot;1e6&quot;), ComplexStr.new(&lt;1+1i&gt;, &quot;1+1i&quot;), &quot;abc&quot;)␤»</pre>
 <p>To construct a <a href="#_type_Rat.pod6"><span class="code">Rat</span></a> or <a href="#_type_Complex.pod6"><span class="code">Complex</span></a> literal, use angle brackets around the number, without any extra spaces:</p>
 <pre class="code">say &lt;42/10&gt;.^name;   # OUTPUT: «Rat␤»
say &lt;1+42i&gt;.^name;   # OUTPUT: «Complex␤»
say &lt; 42/10 &gt;.^name; # OUTPUT: «RatStr␤»
say &lt; 1+42i &gt;.^name; # OUTPUT: «ComplexStr␤»</pre>
 <p>Compared to <span class="code">42/10</span> and <span class="code">1+42i</span>, there's no division (or addition) operation involved. This is useful for literals in routine signatures, for example:</p>
 <pre class="code">sub close-enough-π (&lt;355/113&gt;) { 
     say &quot;Your π is close enough!&quot; 
 } 
 close-enough-π 710/226; # OUTPUT: «Your π is close enough!␤» 
 
 # WRONG: can't do this, since it's a division operation 
 
 sub compilation-failure (355/113) {} 
</pre>
 <a name="t40.1.6"></a><h2 id="_language_quoting.pod6-Word_quoting_with_quote_protection:_qww">40.1.6 <a name="551"></a>Word quoting with quote protection: qww</h2>
 <p>The <span class="code">qw</span> form of word quoting will treat quote characters literally, leaving them in the resulting words:</p>
 <pre class="code">say qw{&quot;a b&quot; c}.perl; # OUTPUT: «(&quot;\&quot;a&quot;, &quot;b\&quot;&quot;, &quot;c&quot;)␤»</pre>
 <p>Thus, if you wish to preserve quoted sub-strings as single items in the resulting words you need to use the <span class="code">qww</span> variant:</p>
 <pre class="code">say qww{&quot;a b&quot; c}.perl; # OUTPUT: «(&quot;a b&quot;, &quot;c&quot;)␤»</pre>
 <a name="t40.1.7"></a><h2 id="_language_quoting.pod6-Word_quoting_with_interpolation:_qqw">40.1.7 <a name="552"></a>Word quoting with interpolation: qqw</h2>
 <p>The <span class="code">qw</span> form of word quoting doesn't interpolate variables:</p>
 <pre class="code">my $a = 42; say qw{$a b c};  # OUTPUT: «$a b c␤»</pre>
 <p>Thus, if you wish for variables to be interpolated within the quoted string, you need to use the <span class="code">qqw</span> variant:</p>
 <pre class="code">my $a = 42;
my @list = qqw{$a b c};
say @list;                # OUTPUT: «[42 b c]␤»</pre>
 <p>Note that variable interpolation happens before word splitting:</p>
 <pre class="code">my $a = &quot;a b&quot;;
my @list = qqw{$a c};
.say for @list; # OUTPUT: «a␤b␤c␤»</pre>
 <a name="t40.1.8"></a><h2 id="_language_quoting.pod6-Word_quoting_with_interpolation_and_quote_protection:_qqww">40.1.8 <a name="553"></a>Word quoting with interpolation and quote protection: qqww</h2>
 <p>The <span class="code">qqw</span> form of word quoting will treat quote characters literally, leaving them in the resulting words:</p>
 <pre class="code">my $a = 42; say qqw{&quot;$a b&quot; c}.perl;  # OUTPUT: «(&quot;\&quot;42&quot;, &quot;b\&quot;&quot;, &quot;c&quot;)␤»</pre>
 <p>Thus, if you wish to preserve quoted sub-strings as single items in the resulting words you need to use the <span class="code">qqww</span> variant:</p>
 <pre class="code">my $a = 42; say qqww{&quot;$a b&quot; c}.perl; # OUTPUT: «(&quot;42 b&quot;, &quot;c&quot;)␤»</pre>
 <p>Quote protection happens before interpolation, and interpolation happens before word splitting, so quotes coming from inside interpolated variables are just literal quote characters:</p>
 <pre class="code">my $a = &quot;1 2&quot;;
say qqww{&quot;$a&quot; $a}.perl; # OUTPUT: «(&quot;1 2&quot;, &quot;1&quot;, &quot;2&quot;)␤»
my $b = &quot;1 \&quot;2 3\&quot;&quot;;
say qqww{&quot;$b&quot; $b}.perl; # OUTPUT: «(&quot;1 \&quot;2 3\&quot;&quot;, &quot;1&quot;, &quot;\&quot;2&quot;, &quot;3\&quot;&quot;)␤»</pre>
 <a name="t40.1.9"></a><h2 id="_language_quoting.pod6-Word_quoting_with_interpolation_and_quote_protection:_«_»">40.1.9 <a name="554"></a>Word quoting with interpolation and quote protection: « »</h2>
 <p>This style of quoting is like <span class="code">qqww</span>, but with the added benefit of constructing <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorphs</a> (making it functionally equivalent to <a href="#39-index-entry-:val_(quoting_adverb)">qq:ww:v</a>). The ASCII equivalent to <span class="code">« »</span> are double angle brackets <span class="code">&lt;&lt; &gt;&gt;</span>.</p>
 <pre class="code"># Allomorph Construction
my $a = 42; say «  $a b c    ».perl;  # OUTPUT: «(IntStr.new(42, &quot;42&quot;), &quot;b&quot;, &quot;c&quot;)␤»
my $a = 42; say &lt;&lt; $a b c   &gt;&gt;.perl;  # OUTPUT: «(IntStr.new(42, &quot;42&quot;), &quot;b&quot;, &quot;c&quot;)␤»

# Quote Protection
my $a = 42; say «  &quot;$a b&quot; c  ».perl;  # OUTPUT: «(&quot;42 b&quot;, &quot;c&quot;)␤»
my $a = 42; say &lt;&lt; &quot;$a b&quot; c &gt;&gt;.perl;  # OUTPUT: «(&quot;42 b&quot;, &quot;c&quot;)␤»</pre>
 <a name="t40.1.10"></a><h2 id="_language_quoting.pod6-Shell_quoting:_qx">40.1.10 <a name="555"></a>Shell quoting: qx</h2>
 <p>To run a string as an external program, not only is it possible to pass the string to the <span class="code">shell</span> or <span class="code">run</span> functions but one can also perform shell quoting. There are some subtleties to consider, however. <span class="code">qx</span> quotes <i>don't</i> interpolate variables. Thus</p>
 <pre class="code">my $world = &quot;there&quot;;
say qx{echo &quot;hello $world&quot;}</pre>
 <p>prints simply <span class="code">hello</span>. Nevertheless, if you have declared an environment variable before calling <span class="code">perl6</span>, this will be available within <span class="code">qx</span>, for instance</p>
 <pre class="code">WORLD=&quot;there&quot; perl6 
 &gt; say qx{echo &quot;hello $WORLD&quot;} 
</pre>
 <p>will now print <span class="code">hello there</span>.</p>
 <p>The result of calling <span class="code">qx</span> is returned, so this information can be assigned to a variable for later use:</p>
 <pre class="code">my $output = qx{echo &quot;hello!&quot;};
say $output;    # OUTPUT: «hello!␤»</pre>
 <p>See also <a href="#_routine_shell.pod6">shell</a>, <a href="#_routine_run.pod6">run</a> and <a href="#_type_Proc::Async.pod6">Proc::Async</a> for other ways to execute external commands.</p>
 <a name="t40.1.11"></a><h2 id="_language_quoting.pod6-Shell_quoting_with_interpolation:_qqx">40.1.11 <a name="556"></a>Shell quoting with interpolation: qqx</h2>
 <p>If one wishes to use the content of a Perl 6 variable within an external command, then the <span class="code">qqx</span> shell quoting construct should be used:</p>
 <pre class="code">my $world = &quot;there&quot;;
say qqx{echo &quot;hello $world&quot;};  # OUTPUT: «hello there␤»</pre>
 <p>Again, the output of the external command can be kept in a variable:</p>
 <pre class="code">my $word = &quot;cool&quot;;
my $option = &quot;-i&quot;;
my $file = &quot;/usr/share/dict/words&quot;;
my $output = qqx{grep $option $word $file};
# runs the command: grep -i cool /usr/share/dict/words
say $output;      # OUTPUT: «Cooley␤Cooley's␤Coolidge␤Coolidge's␤cool␤...»</pre>
 <p>See also <a href="#_routine_run.pod6">run</a> and <a href="#_type_Proc::Async.pod6">Proc::Async</a> for better ways to execute external commands.</p>
 <a name="t40.1.12"></a><h2 id="_language_quoting.pod6-Heredocs:_:to">40.1.12 <a name="557"></a>Heredocs: :to</h2>
 <p>A convenient way to write multi-line string literals are <i>heredocs</i>, which let you choose the delimiter yourself:</p>
 <pre class="code">say q:to/END/; 
 Here is 
 some multi-line 
 string 
 END 
</pre>
 <p>The contents of the heredoc always begin on the next line, so you can (and should) finish the line.</p>
 <pre class="code">my $escaped = my-escaping-function(q:to/TERMINATOR/, language =&gt; 'html'); 
 Here are the contents of the heredoc. 
 Potentially multiple lines. 
 TERMINATOR 
</pre>
 <p>If the terminator is indented, that amount of indention is removed from the string literals. Therefore this heredoc</p>
 <pre class="code">say q:to/END/; 
     Here is 
     some multi line 
         string 
     END 
</pre>
 <p>produces this output:</p>
 <pre class="code">Here is 
 some multi line 
     string 
 
 
</pre>
 <p>Heredocs include the newline from before the terminator.</p>
 <p>To allow interpolation of variables use the <span class="code">qq</span> form, but you will then have to escape meta characters <span class="code">{\</span> as well as <span class="code">$</span> if it is not the sigil for a defined variable. For example:</p>
 <pre class="code">my $f = 'db.7.3.8';
my $s = qq:to/END/;
option \{
    file &quot;$f&quot;;
};
END
say $s;</pre>
 <p>would produce:</p>
 <pre class="code">option { 
     file &quot;db.7.3.8&quot;; 
 }; 
</pre>
 <p>You can begin multiple Heredocs in the same line.</p>
 <pre class="code">my ($first, $second) = qq:to/END1/, qq:to/END2/; 
   FIRST 
   MULTILINE 
   STRING 
   END1 
    SECOND 
    MULTILINE 
    STRING 
    END2 
</pre>
 <a name="t40.1.13"></a><h2 id="_language_quoting.pod6-Unquoting">40.1.13 Unquoting</h2>
 <p>Literal strings permit interpolation of embedded quoting constructs by using the escape sequences such as these:</p>
 <pre class="code">my $animal=&quot;quaggas&quot;;
say 'These animals look like \qq[$animal]'; # OUTPUT: «These animals look like quaggas␤»
say 'These animals are \qqw[$animal or zebras]'; # OUTPUT: «These animals are quaggas or zebras␤»</pre>
 <p>In this example, <span class="code">\qq</span> will do double-quoting interpolation, and <span class="code">\qqw</span> word quoting with interpolation. Escaping any other quoting construct as above will act in the same way, allowing interpolation in literal strings.</p>
 <a name="t40.2"></a><h1 id="_language_quoting.pod6-Regexes">40.2 Regexes</h1>
 <p>For information about quoting as applied in regexes see the <a href="#_language_regexes.pod6">regular expression documentation</a>.</p>
</div>
<!-- /language/rb-nutshell.pod6 --><div class="pod-body"><a id="_language_rb-nutshell.pod6"></a><a name="t41"><h1 class="title">41 Perl 6 from Ruby - Nutshell</h1></a> <p class="subtitle">Learning Perl 6 from Ruby, in a nutshell: What do I already know?</p> <p>This page attempts to index the high-level differences in syntax and semantics between Ruby and Perl 6. Whatever works in Ruby and must be written differently in Perl 6 should be listed here (whereas many Perl 6 features and idioms won't be).</p>
 <p>Hence this should not be mistaken for a beginner tutorial or overview of Perl 6; it is intended as a technical reference for Perl 6 learners with a strong Ruby background.</p>
 <a name="t41.1"></a><h1 id="_language_rb-nutshell.pod6-Basic_Syntax">41.1 Basic Syntax</h1>
 <a name="t41.1.1"></a><h2 id="_language_rb-nutshell.pod6-Statement_Ending_Semi-Colons">41.1.1 Statement Ending Semi-Colons</h2>
 <p>Ruby detects the end of most statements with a newline (and a few exceptions), as long as the expression is complete. It is common break up a long expression by leaving an operator dangling at the end of a line to ensure that the parsing will continue:</p>
 <pre class="code">foo +     # In Ruby a trailing operator means parsing should continue 
   bar + 
   baz 
</pre>
 <p>In Perl 6 you must explicitly terminate statements with a <span class="code">;</span>, which allows for better feedback and more flexibility in breaking up long lines. Two exceptions not needing an explicit <span class="code">;</span> are the last statement in a block, and after the closing curly brace of the block itself (if there is nothing else on that line):</p>
 <pre class="code">my $x;
...;
if 5 &lt; $x &lt; 10 {
  say &quot;Yep!&quot;;
  $x = 17         # No ; required before closing }
}                 # No ; required after closing } because of the newline
say &quot;Done!&quot;;      # The ; is not required here if nothing follows</pre>
 <a name="t41.1.2"></a><h2 id="_language_rb-nutshell.pod6-Whitespace">41.1.2 Whitespace</h2>
 <p>Ruby allows a surprising amount of flexibility in the use of whitespace, even with strict mode and warnings turned on:</p>
 <pre class="code"># unidiomatic but valid Ruby 
 puts&quot;Hello &quot;+ 
 (people [ i] 
     . name 
     ) . upcase+&quot;!&quot;if$greeted[i]&lt;1 
</pre>
 <p>Perl 6 also endorses programmer freedom and creativity, but balanced syntactic flexibility against its design goal of having a consistent, deterministic, extensible grammar that supports single-pass parsing and helpful error messages, integrates features like custom operators cleanly, and doesn't lead programmers to accidentally misstate their intent. Also, the practice of &quot;code golf&quot; is slightly de-emphasized; Perl 6 is designed to be more concise in concepts than in keystrokes.</p>
 <p>As a result, there are various places in the syntax where whitespace is optional in Ruby, but is either mandatory or forbidden in Perl 6. Many of those restrictions are unlikely to concern much real-life Perl code (e.g. whitespace being disallowed between an array variable and its square braces), but there are a few that will unfortunately conflict with some Ruby hackers' habitual coding styles:</p>
 <ul><li><p><i>No space allowed before the opening parenthesis of an argument list.</i></p>
 <pre class="code">foo (3, 4, 1); # Not right in Ruby or Perl 6 (in Perl 6 this would 
                # try to pass a single argument of type List to foo) 
</pre>
 <pre class="code">foo(3, 4, 1);  # Ruby and Perl 6
foo 3, 4, 1;   # Ruby and Perl 6 - alternative parentheses-less style</pre>
</li></ul> <ul><li><p><i>Space is  <b>required</b>  immediately after keywords</i></p>
</li></ul> <pre class="code">if(a &lt; 0); ...; end         # OK in Ruby 
</pre>
 <pre class="code">my $a; ...; 
 if ($a &lt; 0) { ... }         # Perl 6 
 if $a &lt; 0 { ... }           # Perl 6, more idiomatic 
</pre>
 <pre class="code">while(x &gt; 5); ...; end      # OK in Ruby 
</pre>
 <pre class="code">my $x; ...; 
 while ($x &gt; 5) { ... }      # Perl 6 
 while $x &gt; 5 { ... }        # Perl 6, more idiomatic 
</pre>
 <ul><li><p><i>No space allowed before a postfix/postcircumfix operator (including array/hash subscripts).</i></p>
 <pre class="code">seen [ :fish ] = 1    # Ruby, not idiomatic but allowed
%seen&lt; fish &gt; = 1;    # Perl 6, no space allowed after 'seen'</pre>
</li></ul> <ul><li><p><i>Space required before an infix operator if it would conflict with an existing postfix/postcircumfix operator.</i></p>
 <pre class="code">n&lt;1     # Ruby (in Perl 6 this would conflict with postcircumfix &lt; &gt;)
$n &lt; 1; # Perl 6</pre>
</li></ul> <a name="t41.1.3"></a><h2 id="_language_rb-nutshell.pod6-._Method_calls,_.send">41.1.3 <span class="code">.</span> Method calls, <span class="code">.send</span></h2>
 <p>Method call syntax uses a dot just like Ruby:</p>
 <pre class="code">person.name    # Ruby 
</pre>
 <pre class="code">my $person; ...; 
 $person.name   # Perl 6 
</pre>
 <p>To call a method whose name is not known until runtime:</p>
 <pre class="code">object.send(methodname, args);  # Ruby 
</pre>
 <pre class="code">my $object; my Str $methodname; my @args; ...; 
 $object.&quot;$methodname&quot;(@args);   # Perl 6 
</pre>
 <p>If you leave out the quotes, then Perl 6 expects <span class="code">$methodname</span> to contain a <span class="code">Method</span> object, rather than the simple string name of the method.</p>
 <a name="t41.1.4"></a><h2 id="_language_rb-nutshell.pod6-Variables,_Sigils,_Scope,_and_Common_Types">41.1.4 Variables, Sigils, Scope, and Common Types</h2>
 <p>In Ruby, variables use sigils primarily to indicate scope. <span class="code">$</span> for global scope, <span class="code">@@</span> for class scope, <span class="code">@</span> for instance scope, and no sigil for local variables (including parameters). The <span class="code">&amp;</span> sigil is also used to indicate method references. Symbols are prefixed with <span class="code">:</span>, but they are not variable and so not really sigils.</p>
 <p>In Perl 6 sigils are primarily used to indicate a role that the contained value implements, indicating the type (or at least the interface) of the value. The sigils are invariant, no matter how the variable is being used - you can think of them as part of the variable's name.</p>
 <p>The scope of a variable is instead indicated by the declaration itself (<span class="code">my</span>, <span class="code">has</span>, <span class="code">our</span>, etc).</p>
 <a name="t41.1.4.1"></a><h3 id="_language_rb-nutshell.pod6-Variable_Scope">41.1.4.1 Variable Scope</h3>
 <p>For local variables, Ruby uses implicit variable declaration upon assignment and limited to the current block. In Ruby the content of an <span class="code">if</span> or <span class="code">while</span> built-in construct is not a block or scope.</p>
 <p>Perl 6 uses explicit scope indicators, and never creates variables implicitly. Every place you see <span class="code">{ ... }</span> is a scope, including the body of a conditional or loop. The commonly used scope declarations:</p>
 <pre class="code">foo = 7        # Ruby, variable scope is defined by first assignment and 
                # extends to the end of the current block 
</pre>
 <pre class="code">my  $foo = 7;   # Perl 6, lexical scoped to the current block 
 our $foo = 7;   # Perl 6, package scoped 
 has $!foo = 7;  # Perl 6, instance scoped (attribute) 
</pre>
 <a name="t41.1.4.2"></a><h3 id="_language_rb-nutshell.pod6-$_Scalar">41.1.4.2 <span class="code">$</span> Scalar</h3>
 <p>The <span class="code">$</span> sigil is always used with &quot;scalar&quot; variables (e.g. <span class="code">$name</span>). These are single-value containers.</p>
 <p>This is the most general-purpose variable type, with no restrictions on its contents. Note that you can still address/use its contents, like <span class="code">$x[1]</span>, <span class="code">$x{&quot;foo&quot;}</span>, and <span class="code">$f(&quot;foo&quot;)</span>.</p>
 <a name="t41.1.4.3"></a><h3 id="_language_rb-nutshell.pod6-@_Array">41.1.4.3 <span class="code">@</span> Array</h3>
 <p>The <span class="code">@</span> sigil is always used with &quot;array&quot; variables (e.g. <span class="code">@months</span>, <span class="code">@months[2]</span>, <span class="code">@months[2, 4]</span> for an array slice). Variables using the <span class="code">@</span> sigil can only contain things that do the <span class="code">Positional</span> role, indicating positional indexing and slicing capabilities.</p>
 <ul><li><p><i>Indexing</i></p>
 <pre class="code">puts months[2]; # Ruby
say @months[2]; # Perl 6</pre>
</li></ul> <ul><li><p><i>Value-slicing</i></p>
 <pre class="code">puts months[8..11].join(',') # Ruby
say @months[8..11].join(',') # Perl 6</pre>
</li></ul> <a name="t41.1.4.4"></a><h3 id="_language_rb-nutshell.pod6-%_Hash">41.1.4.4 <span class="code">%</span> Hash</h3>
 <p>The <span class="code">%</span> sigil is always used with &quot;hash&quot; variables (e.g. <span class="code">%calories</span>, <span class="code">%calories&lt;apple&gt;</span>, <span class="code">%calories&lt;pear plum&gt;</span>). Variables using the <span class="code">%</span> sigil can only contain things that do the <span class="code">Associative</span> role.</p>
 <p>Ruby uses square brackets to access values for both Arrays and Hashes. Perl 6 uses curly braces for hashes instead. The angle-brackets version is available which always autoquotes its contents (strings without quotes):</p>
 <p>Adverbs can be used to control the type of slice.</p>
 <ul><li><p><i>Indexing</i></p>
 <pre class="code">puts calories[&quot;apple&quot;]  # Ruby
say %calories{&quot;apple&quot;}; # Perl 6

puts calories[&quot;apple&quot;]  # Ruby
puts calories[:apple]   # Ruby, symbols for keys are common
say %calories&lt;apple&gt;;   # Perl 6 - angle brackets instead of single-quotes
say %calories«&quot;$key&quot;»;  # Perl 6 - double angles interpolate as double-quotes</pre>
</li></ul> <ul><li><p><i>Value-slicing</i></p>
 <pre class="code">puts calories.values_at('pear', 'plum').join(',') # Ruby
puts calories.values_at(%w(pear plum)).join(',')  # Ruby, pretty?
say %calories{'pear', 'plum'}.join(',');          # Perl 6
say %calories&lt;pear plum&gt;.join(',');               # Perl 6 (prettier)
my $keys = 'pear plum';
say %calories«$keys».join(','); # Perl 6, interpolated split</pre>
</li></ul> <ul><li><p><i>Key/value-slicing</i></p>
 <pre class="code">say calories.slice('pear', 'plum').join(','); # Ruby, with ActiveRecord
say %calories{'pear', 'plum'}:kv.join(',');   # Perl 6 - use :kv adverb
say %calories&lt;pear plum&gt;:kv.join(',');        # Perl 6 (prettier version)</pre>
</li></ul> <a name="t41.1.4.5"></a><h3 id="_language_rb-nutshell.pod6-&amp;_Sub">41.1.4.5 <span class="code">&amp;</span> Sub</h3>
 <p>The <span class="code">&amp;</span> sigil is used very similarly to Ruby's <span class="code">&amp;</span> to refer to the function object of a named subroutine/operator without invoking it, i.e. to use the name as a &quot;noun&quot; instead of a &quot;verb&quot;. Variables using the <span class="code">&amp;</span> sigil can only contain things that do the <span class="code">Callable</span> role.</p>
 <pre class="code">add = -&gt; n, m { n + m } # Ruby lambda for an addition function 
 add.(2, 3)              # =&gt; 5, Ruby invocation of a lambda 
 add.call(2, 3)          # =&gt; 5, Ruby invocation of a lambda 
</pre>
 <pre class="code">my &amp;add = -&gt; $n, $m { $n + $m }; # Perl 6 addition function 
 &amp;add(2, 3);                      # =&gt; 5, you can keep the sigil 
 add(2, 3);                       # =&gt; 5, and it works without it 
</pre>
 <pre class="code">foo_method = &amp;foo;     # Ruby 
</pre>
 <pre class="code">sub foo { ... }; 
 my &amp;foo_method = &amp;foo; # Perl 6 
</pre>
 <pre class="code">some_func(&amp;say) # Ruby pass a function reference 
</pre>
 <pre class="code">sub some_func { ... }; 
 some_func(&amp;say) # Perl 6 passes function references the same way 
</pre>
 <p>Often in Ruby we pass a block as the last parameter, which is especially used for DSLs. This can be an implicit parameter called by <span class="code">yield</span>, or an explicit block prefixed with <span class="code">&amp;</span>. In Perl 6 a <span class="code">Callable</span> parameter is always listed and called by the variable name (instead of yield), and there are a variety of ways of invoking the function.</p>
 <pre class="code"># Ruby, declare a method and call the implicit block argument 
 def f 
   yield 2 
 end 
 
 # Ruby, invoke f, pass it a block with 1 argument 
 f do |n| 
   puts &quot;Hi #{n}&quot; 
 end 
</pre>
 <pre class="code"># Perl 6, declare a method with an explicit block argument 
 sub f(&amp;g:($)) { 
   g(2) 
 } 
 
 # Perl 6, invoke f, pass it a block with 1 argument 
 # There are several other ways to do this 
 f(-&gt; $n { say &quot;Hi {$n}&quot; }); # Explicit argument 
 f -&gt; $n { say &quot;Hi {$n}&quot; };  # Explicit argument, no parenthesis 
 
 # Additionally, if 'f' is a method on instance 'obj' you can use C&lt;:&gt; 
 # instead of parenthesis 
 my $obj; ...; 
 $obj.f(-&gt; $n { say &quot;Hi {$n}&quot; });  # Explicit argument 
 $obj.f: -&gt; $n { say &quot;Hi {$n}&quot; };  # Explicit argument, no parenthesis 
</pre>
 <a name="t41.1.4.6"></a><h3 id="_language_rb-nutshell.pod6-*_Slurpy_params_/_argument_expansion">41.1.4.6 <span class="code">*</span> Slurpy params / argument expansion</h3>
 <p>In Ruby you can declare an argument to slurp the remainder of the passed parameters into an array using a <span class="code">*</span> prefix. It works the same way in Perl 6:</p>
 <pre class="code">def foo(*args); puts &quot;I got #{args.length} args!&quot;; end # Ruby 
</pre>
 <pre class="code">sub foo(*@args) { say &quot;I got #{@args.elems} args!&quot; }   # Perl 6 
</pre>
 <p>You might want to expand an array into a set of arguments. In Perl 6 this is also done using <span class="code">*</span>:</p>
 <pre class="code">args = %w(a b c)         # Ruby 
 foo(*args) 
</pre>
 <pre class="code">sub foo($q, $r, $s) { ... }; 
 my @args = &lt;a b c&gt;;       # Perl 6 
 foo(@*args); 
</pre>
 <p>Perl 6 has many more advanced ways of passing parameters and receiving arguments, see <a href="#_language_functions.pod6-Signatures">Signatures</a> and <a href="#_type_Capture.pod6">Captures</a>.</p>
 <a name="t41.1.5"></a><h2 id="_language_rb-nutshell.pod6-Twigils">41.1.5 Twigils</h2>
 <p>Perl 6 additionally uses &quot;twigils&quot;, which are further indicators about the variable and go between the sigil and the rest of the variable name. Examples:</p>
 <pre class="code">$foo     # Scalar with no twigil 
 $!foo    # Private instance variable 
 $.foo    # Instance variable accessor 
 $*foo    # Dynamically scoped variable 
 $^foo    # A positional (placeholder) parameter to a block 
 $:foo    # A named parameter 
 $=foo    # POD (documentation) variables 
 $?FILE   # Current source filename. The ? twigil indicates a compile-time value 
 $~foo    # Sublanguage seen by parser, uncommon 
</pre>
 <p>Though each of these examples use the <span class="code">$</span> sigil, most could use <span class="code">@</span> (Positional) or <span class="code">%</span> (Associative).</p>
 <a name="t41.1.6"></a><h2 id="_language_rb-nutshell.pod6-:_Symbols">41.1.6 <span class="code">:</span> Symbols</h2>
 <p>Perl 6 generally uses strings in the places where Ruby uses symbols. A primary example of this is in hash keys.</p>
 <pre class="code">address[:joe][:street] # Typical Ruby nested hash with symbol keys 
</pre>
 <pre class="code">my %address; ...; 
 %address&lt;joe&gt;&lt;street&gt;  # Typical Perl 6 nested hash with string keys 
</pre>
 <p>Perl 6 has <i>colon-pair</i> syntax, which can sometimes look like Ruby symbols.</p>
 <pre class="code">:age            # Ruby symbol 
</pre>
 <pre class="code"># All of these are equivalent for Perl 6 
 :age            ;# Perl 6 pair with implicit True value 
 :age(True)      ;# Perl 6 pair with explicit True value 
 age =&gt; True     ;# Perl 6 pair using arrow notation 
 &quot;age&quot; =&gt; True   ;# Perl 6 pair using arrow notation and explicit quotes 
</pre>
 <p>You could probably get away with using a colon-pair without an explicit value and pretend that it is a Ruby symbol a lot of the time, but it isn't idiomatic Perl 6.</p>
 <a name="t41.2"></a><h1 id="_language_rb-nutshell.pod6-Operators">41.2 Operators</h1>
 <p>Many operators have a similar usage in both Ruby and Perl 6:</p>
 <ul><li><p><span class="code">,</span> List Separator</p>
</li></ul> <ul><li><p><span class="code">+</span> Numeric Addition</p>
</li></ul> <ul><li><p><span class="code">-</span> Numeric Subtraction</p>
</li></ul> <ul><li><p><span class="code">*</span> Numeric Multiplication</p>
</li></ul> <ul><li><p><span class="code">/</span> Numeric Division</p>
</li></ul> <ul><li><p><span class="code">%</span> Numeric Modulus</p>
</li></ul> <ul><li><p><span class="code">**</span> Numeric Exponentiation</p>
</li></ul> <ul><li><p><span class="code">! &amp;&amp; ||</span> Booleans, high-precedence</p>
</li></ul> <ul><li><p><span class="code">not and or</span> Booleans, low-precedence</p>
</li></ul> <p>You may use <span class="code">$x++</span> instead of <span class="code">x += 1</span> as a shortcut for incrementing a variable. This can be used as a pre-increment <span class="code">++$x</span> (increment, return new value) or post-increment <span class="code">$x++</span> (increment, return old value).</p>
 <p>You may use <span class="code">$x--</span> instead of <span class="code">x -= 1</span> as a shortcut for decrementing a variable. This can be used as a pre-decrement <span class="code">--$x</span> (decrement, return new value) or post-decrement <span class="code">$x--</span> (decrement, return old value).</p>
 <a name="t41.2.1"></a><h2 id="_language_rb-nutshell.pod6-==_!=_&lt;_&gt;_&lt;=_&gt;=_Comparisons">41.2.1 <span class="code">== != &lt; &gt; &lt;= &gt;=</span> Comparisons</h2>
 <p>Comparisons in Perl 6 are separated between numeric and string to avoid common errors.</p>
 <ul><li><p><span class="code">== != &lt; &gt; &lt;= &gt;=</span> Comparisons</p>
</li></ul> <ul><li><p><span class="code">eq ne lt gt le ge</span> String comparisons</p>
</li></ul> <p>For example, using <span class="code">==</span> tries to convert the values to numbers, and <span class="code">eq</span> tries to convert the values to strings.</p>
 <a name="t41.2.2"></a><h2 id="_language_rb-nutshell.pod6-&lt;=&gt;_Three-way_comparisons">41.2.2 <span class="code">&lt;=&gt;</span> Three-way comparisons</h2>
 <p>In Ruby, the <span class="code">&lt;=&gt;</span> operator returns -1, 0, or 1. In Perl 6, they return <span class="code">Order::Less</span>, <span class="code">Order::Same</span>, or <span class="code">Order::More</span>.</p>
 <p><span class="code">&lt;=&gt;</span> forces numeric context for the comparison.</p>
 <p><span class="code">leg</span> (&quot;Less, Equal, or Greater?&quot;) forces string context for the comparison.</p>
 <p><span class="code">cmp</span> does either <span class="code">&lt;=&gt;</span> or <span class="code">leg</span>, depending on the existing type of its arguments.</p>
 <a name="t41.2.3"></a><h2 id="_language_rb-nutshell.pod6-~~_Smart-match_operator">41.2.3 <span class="code">~~</span> Smart-match operator</h2>
 <p>This is a very common matching operator which is similar to <span class="code">===</span> in Ruby. Here are some examples:</p>
 <pre class="code">my $foo; ...;
say &quot;match!&quot; if $foo ~~ /bar/;       # Regex match
say &quot;match!&quot; if $foo ~~ &quot;bar&quot;;       # String match
say &quot;match!&quot; if $foo ~~ :(Int, Str); # Signature match (destructure)</pre>
 <p>An equivalent in Ruby would be</p>
 <pre class="code">$foo = 'bar'; 
 puts &quot;match 1!&quot; if /bar/ === $foo;       # Regex match 
 puts &quot;match 2!&quot; if $foo === &quot;bar&quot;;       # String match 
 puts &quot;match 3!&quot; if String === $foo;      # Class match 
</pre>
 <p>Please note that, in this case, <span class="code">===</span> is not symmetric; in the first and last case, the variable has to be in the right hand side. There is no equivalent to the signature class in Ruby, either.</p>
 <p>See <a href="https://design.perl6.org/S03.html#Smart_matching">S03/Smart matching</a> for more information on this feature.</p>
 <a name="t41.2.4"></a><h2 id="_language_rb-nutshell.pod6-&amp;_|_^_Numeric_Bitwise_ops">41.2.4 <span class="code">&amp; | ^</span> Numeric Bitwise ops</h2>
 <a name="t41.2.5"></a><h2 id="_language_rb-nutshell.pod6-&amp;_|_^_Boolean_ops">41.2.5 <span class="code">&amp; | ^</span> Boolean ops</h2>
 <p>In Perl 6, these single-character ops have been removed, and replaced by two-character ops which coerce their arguments to the needed context.</p>
 <pre class="code"># Infix ops (two arguments; one on each side of the op) 
 +&amp;  +|  +^  And Or Xor: Numeric 
 ~&amp;  ~|  ~^  And Or Xor: String 
 ?&amp;  ?|  ?^  And Or Xor: Boolean 
 
 # Prefix ops (one argument, after the op) 
 +^  Not: Numeric 
 ~^  Not: String 
 ?^  Not: Boolean (same as the ! op) 
</pre>
 <a name="t41.2.6"></a><h2 id="_language_rb-nutshell.pod6-&amp;._Conditional_chaining_operator">41.2.6 <span class="code">&amp;.</span> Conditional chaining operator</h2>
 <p>Ruby uses the <span class="code">&amp;.</span> operator to chain methods without raising an error if one invocation returns nil. In Perl 6 use <span class="code">.?</span> for the same purpose.</p>
 <a name="t41.2.7"></a><h2 id="_language_rb-nutshell.pod6-&lt;&lt;_&gt;&gt;_Numeric_shift_left,_right_ops,_shovel_operator">41.2.7 <span class="code">&lt;&lt; &gt;&gt;</span> Numeric shift left, right ops, shovel operator</h2>
 <p>Replaced by <span class="code">+&lt;</span> and <span class="code">+&gt;</span> .</p>
 <pre class="code">puts 42 &lt;&lt; 3  # Ruby 
</pre>
 <pre class="code">say  42 +&lt; 3; # Perl 6 
</pre>
 <p>Note that Ruby often uses the <span class="code">&lt;&lt;</span> operator as the &quot;shovel operator&quot;, which is similar to <span class="code">.push</span>. This usage isn't common in Perl 6.</p>
 <a name="t41.2.8"></a><h2 id="_language_rb-nutshell.pod6-=&gt;_and_:_Key-Value_Separators">41.2.8 <span class="code">=&gt;</span> and <span class="code">:</span> Key-Value Separators</h2>
 <p>In Ruby, <span class="code">=&gt;</span> is used in the context of key/value pairs for Hash literal declaration and parameter passing. <span class="code">:</span> is used as a shorthand when the left side is a symbol.</p>
 <p>In Perl 6, <span class="code">=&gt;</span> is the Pair operator, which is quite different in principle, but works the same in many situations.</p>
 <p>If you are using <span class="code">=&gt;</span> in a hash literal, then the usage is very similar:</p>
 <pre class="code">hash = { &quot;AAA&quot; =&gt; 1, &quot;BBB&quot; =&gt; 2 }  # Ruby, though symbol keys are more common 
</pre>
 <pre class="code">my %hash = ( AAA =&gt; 1, BBB =&gt; 2 ); # Perl 6, uses ()'s though {} usually work 
</pre>
 <a name="t41.2.9"></a><h2 id="_language_rb-nutshell.pod6-?_:_Ternary_operator">41.2.9 <span class="code">? :</span> Ternary operator</h2>
 <p>In Perl 6, this is spelled with two question marks instead of one question mark, and two exclamation points instead of one colon. This deviation from the common ternary operators disambiguates several situations and makes the false-case stand out more.</p>
 <pre class="code">result     = (  score &gt; 60 )  ? 'Pass'  : 'Fail'; # Ruby 
</pre>
 <pre class="code">my $score; ...; 
 my $result = ( $score &gt; 60 ) ?? 'Pass' !! 'Fail'; # Perl 6 
</pre>
 <a name="t41.2.10"></a><h2 id="_language_rb-nutshell.pod6-+_String_Concatenation">41.2.10 <span class="code">+</span> String Concatenation</h2>
 <p>Replaced by the tilde. Mnemonic: think of &quot;stitching&quot; together the two strings with needle and thread.</p>
 <pre class="code">$food = 'grape' + 'fruit'  # Ruby 
</pre>
 <pre class="code">my $food = 'grape' ~ 'fruit'; # Perl 6 
</pre>
 <a name="t41.2.11"></a><h2 id="_language_rb-nutshell.pod6-String_interpolation">41.2.11 String interpolation</h2>
 <p>In Ruby, <span class="code">&quot;#{foo}s&quot;</span> deliminates a block embedded in a double-quoted string. In Perl 6 drop the <span class="code">#</span> prefix: <span class="code">&quot;{$foo}s&quot;</span>. As in Ruby, you can place arbitrary code into the embedded block and it will be rendered in string context.</p>
 <p>Simple variables can be interpolated into a double-quoted string without using the block syntax:</p>
 <pre class="code"># Ruby 
 name = &quot;Bob&quot; 
 puts &quot;Hello! My name is #{name}!&quot; 
</pre>
 <pre class="code"># Perl 6 
 my $name = &quot;Bob&quot;; 
 say &quot;Hello! My name is $name!&quot; 
</pre>
 <p>The result of an embedded block in Ruby uses <span class="code">.to_s</span> to get string context. Perl 6 uses <span class="code">.Str</span>, or <span class="code">.gist</span> for the same affect.</p>
 <a name="t41.3"></a><h1 id="_language_rb-nutshell.pod6-Compound_Statements">41.3 Compound Statements</h1>
 <a name="t41.3.1"></a><h2 id="_language_rb-nutshell.pod6-Conditionals">41.3.1 Conditionals</h2>
 <a name="t41.3.1.1"></a><h3 id="_language_rb-nutshell.pod6-if_elsif_else_unless">41.3.1.1 <span class="code">if</span> <span class="code">elsif</span> <span class="code">else</span> <span class="code">unless</span></h3>
 <p>This work very similarly between Ruby and Perl 6, but Perl 6 uses <span class="code">{ }</span> to clearly delineate the blocks.</p>
 <pre class="code"># Ruby 
 if x &gt; 5 
     puts &quot;Bigger!&quot; 
 elsif x == 5 
     puts &quot;The same!&quot; 
 else 
     puts &quot;Smaller!&quot; 
 end 
</pre>
 <pre class="code"># Perl 6 
 my $x; ...; 
 if $x &gt; 5 { 
     say &quot;Bigger!&quot; 
 } elsif $x == 5 { 
     say &quot;The same!&quot; 
 } else { 
     say &quot;Smaller!&quot; 
 } 
</pre>
 <p>Binding the conditional expression to a variable is a little different:</p>
 <pre class="code">if x = dostuff(); ...; end   # Ruby 
</pre>
 <pre class="code">sub dostuff() {...}; 
 if dostuff() -&gt; $x {...}     # Perl 6, block-assignment uses arrow 
</pre>
 <p>The <span class="code">unless</span> conditional only allows for a single block in Perl 6; it does not allow for an <span class="code">elsif</span> or <span class="code">else</span> clause.</p>
 <a name="t41.3.1.2"></a><h3 id="_language_rb-nutshell.pod6-case-when">41.3.1.2 <span class="code">case</span>-<span class="code">when</span></h3>
 <p>The Perl 6 <span class="code">given</span>-<span class="code">when</span> construct is like a chain of <span class="code">if</span>-<span class="code">elsif</span>-<span class="code">else</span> statements or like the <span class="code">case</span>-<span class="code">when</span> construct in Ruby. A big difference is that Ruby uses the <span class="code">==</span> comparison for each condition, but Perl 6 uses the more general smart-match <span class="code">~~</span> operator.</p>
 <p>It has the general structure:</p>
 <pre class="code">given EXPR { 
     when EXPR { ... } 
     when EXPR { ... } 
     default { ... } 
 } 
</pre>
 <p>In its simplest form, the construct is as follows:</p>
 <pre class="code">my $value; ...;
given $value {
    when &quot;a match&quot; {
        # do-something();
    }
    when &quot;another match&quot; {
        # do-something-else();
    }
    default {
        # do-default-thing();
    }
}</pre>
 <p>This is simple in the sense that a scalar value is matched in the <span class="code">when</span> statements. More generally, the matches are actually smart-matches on the input value such that lookups using more complex entities such as regexps can be used instead of scalar values.</p>
 <a name="t41.3.2"></a><h2 id="_language_rb-nutshell.pod6-Loops">41.3.2 Loops</h2>
 <a name="t41.3.2.1"></a><h3 id="_language_rb-nutshell.pod6-while_until">41.3.2.1 <span class="code">while</span> <span class="code">until</span></h3>
 <p>Mostly unchanged; parentheses around the conditions are optional, but if used, must not immediately follow the keyword, or it will be taken as a function call instead. Binding the conditional expression to a variable is also a little different:</p>
 <pre class="code">while x = dostuff(); ...; end    # Ruby 
</pre>
 <pre class="code">sub dostuff {...}; ...; 
 while dostuff() -&gt; $x {...}      # Perl 6 
</pre>
 <a name="t41.3.2.2"></a><h3 id="_language_rb-nutshell.pod6-for_.each">41.3.2.2 <span class="code">for</span> <span class="code">.each</span></h3>
 <p><span class="code">for</span> loops are rare in Ruby, instead we typically use <span class="code">.each</span> on an enumerable. The most direct translation to Perl 6 would be to use <span class="code">.map</span> for both <span class="code">.each</span> and <span class="code">.map</span>, but we typically use a <span class="code">for</span> loop directly.</p>
 <pre class="code"># Ruby for loop 
 for n in 0..5 
     puts &quot;n: #{n}&quot; 
 end 
 
 # Ruby, more common usage of .each 
 (0..5).each do |n| 
     puts &quot;n: #{n}&quot; 
 end 
</pre>
 <pre class="code"># Perl 6 
 for 0..5 -&gt; $n { 
     say &quot;n: $n&quot;; 
 } 
 
 # Perl 6, misusing .map 
 (0..5).map: -&gt; $n { 
     say &quot;n: $n&quot;; 
 } 
</pre>
 <p>In Ruby, the iteration variable for <span class="code">.each</span> is a copy of the list element, and modifying it does nothing to the original list. Note that it is a copy of the REFERENCE, so you can still change the values to which it refers.</p>
 <p>In Perl 6, that alias is read-only (for safety) and thus behaves exactly like Ruby, unless you change <span class="code">-&gt;</span> to <span class="code">&lt;-&gt;</span>.</p>
 <pre class="code">cars.each { |car| ... }    # Ruby; read-only reference 
</pre>
 <pre class="code">my @cars; ...; 
 for @cars  -&gt; $car   {...} # Perl 6; read-only 
 for @cars &lt;-&gt; $car   {...} # Perl 6; read-write 
</pre>
 <a name="t41.3.3"></a><h2 id="_language_rb-nutshell.pod6-Flow_Interruption_statements">41.3.3 Flow Interruption statements</h2>
 <p>Same as Ruby:</p>
 <ul><li><p><span class="code">next</span></p>
</li></ul> <ul><li><p><span class="code">redo</span></p>
</li></ul> <ul><li><ul><li><p><span class="code">break</span></p>
</li></ul></li></ul> <p>This is <span class="code">last</span> in Perl 6.</p>
 <a name="t41.4"></a><h1 id="_language_rb-nutshell.pod6-Regular_Expressions_(_Regex_/_Regexp_)">41.4 Regular Expressions ( Regex / Regexp )</h1>
 <p>Regular expressions in Perl 6 are significantly different, and more powerful, than in Ruby. By default whitespace is ignored and all characters must be escaped, for example. Regexes can be easily combined and declared in ways to build efficient grammars.</p>
 <p>There are many powerful features of Perl 6 regexes, especially defining entire grammars using the same syntax. See <a href="#_language_regexes.pod6">Regexes</a> and <a href="#_language_grammars.pod6">Grammars</a>.</p>
 <a name="t41.4.1"></a><h2 id="_language_rb-nutshell.pod6-.match_method_and_=~_operator">41.4.1 <span class="code">.match</span> method and <span class="code">=~</span> operator</h2>
 <p>In Ruby, regex matches can be done against a variable using the <span class="code">=~</span> regexp match operator or the <span class="code">.match</span> method. In Perl 6, the <span class="code">~~</span> smartmatch op is used instead, or the <span class="code">.match</span> method.</p>
 <pre class="code">next if line   =~ /static/   # Ruby 
 next if line  !~  /dynamic/; # Ruby 
 next if line.match(/static/) # Ruby 
</pre>
 <pre class="code">my $line; ...; 
 next if $line  ~~ /static/;    # Perl 6 
 next if $line !~~ /dynamic/ ;  # Perl 6 
 next if $line.match(/static/); # Perl 6 
</pre>
 <p>Alternately, the <span class="code">.match</span> and <span class="code">.subst</span> methods can be used. Note that <span class="code">.subst</span> is non-mutating. See <a href="https://design.perl6.org/S05.html#Substitution">S05/Substitution</a>.</p>
 <a name="t41.4.2"></a><h2 id="_language_rb-nutshell.pod6-.sub_and_.sub!">41.4.2 <span class="code">.sub</span> and <span class="code">.sub!</span></h2>
 <p>In Perl 6 you typically use the <span class="code">s///</span> operator to do regex substitution.</p>
 <pre class="code">fixed = line.sub(/foo/, 'bar')        # Ruby, non-mutating 
</pre>
 <pre class="code">my $line; ...; 
 my $fixed = $line.subst(/foo/, 'bar') # Perl 6, non-mutating 
</pre>
 <pre class="code">line.sub!(/foo/, 'bar')   # Ruby, mutating 
</pre>
 <pre class="code">my $line; ...; 
 $line ~~ s/foo/bar/;      # Perl 6, mutating 
</pre>
 <a name="t41.4.3"></a><h2 id="_language_rb-nutshell.pod6-Regex_options">41.4.3 Regex options</h2>
 <p>Move any options from the end of the regex to the beginning. This may require you to add the optional <span class="code">m</span> on a plain match like <span class="code">/abc/</span>.</p>
 <pre class="code">next if $line =~    /static/i # Ruby 
</pre>
 <pre class="code">my $line; ...; 
 next if $line ~~ m:i/static/; # Perl 6 
</pre>
 <a name="t41.4.4"></a><h2 id="_language_rb-nutshell.pod6-Whitespace_is_ignored,_most_things_must_be_quoted">41.4.4 Whitespace is ignored, most things must be quoted</h2>
 <p>In order to aid in readability and reusability, whitespace is not significant in Perl 6 regexes.</p>
 <pre class="code">/this is a test/ # Ruby, boring string 
 /this.*/         # Ruby, possibly interesting string 
</pre>
 <pre class="code">/ this &quot; &quot; is &quot; &quot; a &quot; &quot; test /; # Perl 6, each space is quoted 
 / &quot;this is a test&quot; /;           # Perl 6, quoting the whole string 
 / this .* /;                    # Perl 6, possibly interesting string 
</pre>
 <a name="t41.4.5"></a><h2 id="_language_rb-nutshell.pod6-Special_matchers_generally_fall_under_the_&lt;&gt;_syntax">41.4.5 Special matchers generally fall under the &lt;&gt; syntax</h2>
 <p>There are many cases of special matching syntax that Perl 6 regexes support. They won't all be listed here, but often instead of being surrounded by <span class="code">()</span>, the assertions will be surrounded by <span class="code">&lt;&gt;</span>.</p>
 <p>For character classes, this means that:</p>
 <ul><li><p><span class="code">[abc]</span> becomes <span class="code">&lt;[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[^abc]</span> becomes <span class="code">&lt;-[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[a-zA-Z]</span> becomes <span class="code">&lt;[a..zA..Z]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[[:upper:]]</span> becomes <span class="code">&lt;:upper&gt;</span></p>
</li></ul> <ul><li><p><span class="code">[abc[:upper:]]</span> becomes <span class="code">&lt;[abc]+:Upper&gt;</span></p>
</li></ul> <p>For look-around assertions:</p>
 <ul><li><p><span class="code">(?=[abc])</span> becomes <span class="code">&lt;?[abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?=ar?bitrary* pattern)</span> becomes <span class="code">&lt;before ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?!=[abc])</span> becomes <span class="code">&lt;![abc]&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?!=ar?bitrary* pattern)</span> becomes <span class="code">&lt;!before ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?&lt;=ar?bitrary* pattern)</span> becomes <span class="code">&lt;after ar?bitrary* pattern&gt;</span></p>
</li></ul> <ul><li><p><span class="code">(?&lt;!ar?bitrary* pattern)</span> becomes <span class="code">&lt;!after ar?bitrary* pattern&gt;</span></p>
</li></ul> <p>(Unrelated to &lt;&gt; syntax, the &quot;lookaround&quot; <span class="code">/foo\Kbar/</span> becomes <span class="code">/foo &lt;( bar )&gt; /</span></p>
 <ul><li><p><span class="code">(?(?{condition))yes-pattern|no-pattern)</span> becomes <span class="code">[ &lt;?{condition}&gt; yes-pattern | no-pattern ]</span></p>
</li></ul> <a name="t41.4.6"></a><h2 id="_language_rb-nutshell.pod6-Longest_token_matching_(LTM)_displaces_alternation">41.4.6 Longest token matching (LTM) displaces alternation</h2>
 <p>In Perl 6 regexes, <span class="code">|</span> does Longest Token Match (LTM), which decides which alternation wins an ambiguous match based off of a set of rules, rather than about which was written first in the regex.</p>
 <p>To avoid the new logic, change any <span class="code">|</span> in your Ruby regex to a <span class="code">||</span>.</p>
 <a name="t41.5"></a><h1 id="_language_rb-nutshell.pod6-File-related_operations">41.5 File-related operations</h1>
 <a name="t41.5.1"></a><h2 id="_language_rb-nutshell.pod6-Reading_the_lines_of_a_text_file_into_an_array">41.5.1 Reading the lines of a text file into an array</h2>
 <p>Both Ruby and Perl 6 make it easy to read all of the lines in a file into a single variable, and in both cases each line has the newline removed.</p>
 <pre class="code">lines = File.readlines(&quot;file&quot;)   # Ruby 
</pre>
 <pre class="code">my @lines = &quot;file&quot;.IO.lines;     # Perl 6, create an IO object from a string 
</pre>
 <a name="t41.5.2"></a><h2 id="_language_rb-nutshell.pod6-Iterating_over_the_lines_of_a_text_file">41.5.2 Iterating over the lines of a text file</h2>
 <p>Reading the entire file into memory isn't recommended. The <span class="code">.lines</span> method in Perl 6 returns a lazy sequence, but assigning to an array forces the file to be read. It is better to iterate over the results:</p>
 <pre class="code"># Ruby 
 File.foreach(&quot;file&quot;) do |line| 
     puts line 
 end 
</pre>
 <pre class="code"># Perl 6 
 for &quot;file&quot;.IO.lines -&gt; $line { 
     say $line 
 } 
</pre>
 <a name="t41.6"></a><h1 id="_language_rb-nutshell.pod6-Object_Orientation">41.6 Object Orientation</h1>
 <a name="t41.6.1"></a><h2 id="_language_rb-nutshell.pod6-Basic_classes,_methods,_attributes">41.6.1 Basic classes, methods, attributes</h2>
 <p>Classes are defined similarly between Ruby and Perl 6, using the <span class="code">class</span> keyword. Ruby uses <span class="code">def</span> for methods, whereas Perl 6 uses <span class="code">method</span>.</p>
 <pre class="code"># Ruby 
 class Foo 
     def greet(name) 
         puts &quot;Hi #{name}!&quot; 
     end 
 end 
</pre>
 <pre class="code"># Perl 6 
 class Foo { 
     method greet($name) { 
         say &quot;Hi $name!&quot; 
     } 
 } 
</pre>
 <p>In Ruby you can use an attribute without declaring it beforehand, and you can tell it is an attribute because of the <span class="code">@</span> sigil. You can also easily create accessors using <span class="code">attr_accessor</span> and its variants. In Perl 6 you use a <span class="code">has</span> declaration and a variety of sigils. You can use the <span class="code">!</span> twigil for private attributes or <span class="code">.</span> to create an accessor.</p>
 <pre class="code"># Ruby 
 class Person 
     attr_accessor :age    # Declare .age as an accessor method for @age 
     def initialize 
         @name = 'default' # Assign default value to private instance var 
     end 
 end 
</pre>
 <pre class="code"># Perl 6 
 class Person { 
     has $.age;              # Declare $!age and accessor methods 
     has $!name = 'default'; # Assign default value to private instance var 
 } 
</pre>
 <p>Creating a new instance of the class uses the <span class="code">.new</span> method. In Ruby you must manually assign instance variables as needed inside <span class="code">initialize</span>. In Perl 6 you get a default constructor that accepts key/value pairs of accessor attributes, and can do further setup in the <span class="code">BUILD</span> method. Like with Ruby, you can override <span class="code">new</span> itself for more advanced functionality, but this is rare.</p>
 <pre class="code"># Ruby 
 class Person 
     attr_accessor :name, :age 
     def initialize(attrs) 
         @name = attrs[:name] || 'Jill' 
         @age  = attrs[:age] || 42 
         @birth_year = Time.now.year - @age 
     end 
 end 
 p = Person.new( name: 'Jack', age: 23 ) 
</pre>
 <pre class="code"># Perl 6 
 class Person { 
     has $.name = 'Jill'; 
     has $.age  = 42; 
     has $!birth_year; 
     method BUILD { 
         $!birth_year = now.Date.year - $.age; 
     } 
 } 
 my $p = Person.new( name =&gt; 'Jack', age =&gt; 23 ) 
</pre>
 <a name="t41.6.2"></a><h2 id="_language_rb-nutshell.pod6-Private_Methods">41.6.2 Private Methods</h2>
 <p>Private methods in Perl 6 are declared with a <span class="code">!</span> prefixed in their name, and are invoked with a <span class="code">!</span> instead of a <span class="code">.</span>.</p>
 <pre class="code"># Ruby 
 class Foo 
     def visible 
         puts &quot;I can be seen!&quot; 
         hidden 
     end 
 
     private 
     def hidden 
         puts &quot;I cannot easily be called!&quot; 
     end 
 end 
</pre>
 <pre class="code"># Perl 6 
 class Foo { 
     method visible { 
         say &quot;I can be seen!&quot;; 
         self!hidden; 
     } 
 
     method !hidden { 
         say &quot;I cannot easily be called!&quot;; 
     } 
 } 
</pre>
 <p>An important note is that in Ruby child objects can see parent private methods (so they are more like &quot;protected&quot; methods in other languages). In Perl 6 child objects cannot call parent private methods.</p>
 <a name="t41.6.3"></a><h2 id="_language_rb-nutshell.pod6-Going_Meta">41.6.3 Going Meta</h2>
 <p>Here are a few examples of meta-programming. Note that Perl 6 separates the meta-methods from the regular methods with a carat.</p>
 <pre class="code"># Ruby 
 person = Person.new 
 person.class 
 person.methods 
 person.instance_variables 
</pre>
 <pre class="code"># Perl 6 
 class Person {}; 
 ... 
 my $person = Person.new; 
 $person.^name;             # Perl 6, returns Person (class) 
 $person.^methods;          # Perl 6, using .^ syntax to access meta-methods 
 $person.^attributes; 
</pre>
 <p>Like Ruby, in Perl 6, everything is an object, but not all operations are equivalent to <span class="code">.send</span>. Many operators are global functions that use typed multi-dispatch (function signatures with types) to decide which implementation to use.</p>
 <pre class="code">5.send(:+, 3)    # =&gt; 8, Ruby 
</pre>
 <pre class="code">&amp;[+](5, 3)       # =&gt; 8, Perl 6, reference to infix addition operator 
 &amp;[+].^candidates # Perl 6, lists all signatures for the + operator 
</pre>
 <p>See <a href="#_language_mop.pod6">Meta-Object Protocol</a> for lots of further details.</p>
 <a name="t41.7"></a><h1 id="_language_rb-nutshell.pod6-Environment_variables">41.7 Environment variables</h1>
 <a name="t41.7.1"></a><h2 id="_language_rb-nutshell.pod6-Perl_module_library_path">41.7.1 Perl module library path</h2>
 <p>In Ruby, one of the environment variables to specify extra search paths for modules is <span class="code">RUBYLIB</span>.</p>
 <pre class="code">$ RUBYLIB=&quot;/some/module/lib&quot; ruby program.rb 
</pre>
 <p>In Perl 6 this is similar, you merely needs to change the name. As you probably guessed, you just need to use <span class="code">PERL6LIB</span>:</p>
 <pre class="code">$ PERL6LIB=&quot;/some/module/lib&quot; perl6 program.p6 
</pre>
 <p>As with Ruby, if you don't specify <span class="code">PERL6LIB</span>, you need to specify the library path within the program via the <span class="code">use lib</span> pragma:</p>
 <pre class="code"># Ruby and Perl 6 
 use lib '/some/module/lib'; 
</pre>
 <a name="t41.8"></a><h1 id="_language_rb-nutshell.pod6-Misc.">41.8 Misc.</h1>
 <a name="t41.8.1"></a><h2 id="_language_rb-nutshell.pod6-Importing_specific_functions_from_a_module">41.8.1 Importing specific functions from a module</h2>
 <p>In Ruby there is no built-in way to selectively import/export methods from a module.</p>
 <p>In Perl 6 you specifies the functions which are to be exported by using the <span class="code">is export</span> role on the relevant subs and <i>all</i> subs with this role are then exported. Hence, the following module <span class="code">Bar</span> exports the subs <span class="code">foo</span> and <span class="code">bar</span> but not <span class="code">baz</span>:</p>
 <pre class="code">unit module Bar; # remainder of the file is in module Bar { ... } 
</pre>
 <pre class="code">sub foo($a) is export { say &quot;foo $a&quot; } 
 sub bar($b) is export { say &quot;bar $b&quot; } 
 sub baz($z) { say &quot;baz $z&quot; } 
</pre>
 <p>To use this module, simply <span class="code">use Bar</span> and the functions <span class="code">foo</span> and <span class="code">bar</span> will be available</p>
 <pre class="code">use Bar; 
 foo(1);    #=&gt; &quot;foo 1&quot; 
 bar(2);    #=&gt; &quot;bar 2&quot; 
</pre>
 <p>If you tries to use <span class="code">baz</span> an &quot;Undeclared routine&quot; error is raised at compile time.</p>
 <p>Some modules allow for selectively importing functions, which would look like:</p>
 <pre class="code">use Bar &lt;foo&gt;; # Import only foo 
 foo(1);        #=&gt; &quot;foo 1&quot; 
 bar(2);        # Error! 
</pre>
 <a name="t41.8.2"></a><h2 id="_language_rb-nutshell.pod6-OptionParser,_parsing_command-line_flags">41.8.2 <span class="code">OptionParser</span>, parsing command-line flags</h2>
 <p>Command line argument switch parsing in Perl 6 is done by the parameter list of the <span class="code">MAIN</span> subroutine.</p>
 <pre class="code"># Ruby 
 require 'optparse' 
 options = {} 
 OptionParser.new do |opts| 
     opts.banner = 'Usage: example.rb --length=abc' 
     opts.on(&quot;--length&quot;, &quot;Set the file&quot;) do |length| 
         raise &quot;Length must be &gt; 0&quot; unless length.to_i &gt; 0 
         options[:length] = length 
     end 
     opts.on(&quot;--filename&quot;, &quot;Set the file&quot;) do |filename| 
         options[:file] = filename 
     end 
     opts.on(&quot;--verbose&quot;, &quot;Increase verbosity&quot;) do |verbose| 
         options[:verbose] = true 
     end 
 end.parse! 
 
 puts options[:length] 
 puts options[:filename] 
 puts 'Verbosity ', (options[:verbose] ? 'on' : 'off') 
</pre>
 <pre class="code">ruby example.rb --filename=foo --length=42 --verbose 
     42 
     foo 
     Verbosity on 
 
 ruby example.rb --length=abc 
     Length must be &gt; 0 
</pre>
 <pre class="code"># Perl 6 
 sub MAIN ( Int :$length where * &gt; 0, :$filename = 'file.dat', Bool :$verbose ) { 
     say $length; 
     say $filename; 
     say 'Verbosity ', ($verbose ?? 'on' !! 'off'); 
 } 
</pre>
 <pre class="code">perl6 example.p6 --file=foo --length=42 --verbose 
     42 
     foo 
     Verbosity on 
 perl6 example.p6 --length=abc 
     Usage: 
       example.p6 [--length=&lt;Int&gt;] [--file=&lt;Any&gt;] [--verbose] 
</pre>
 <p>Note that Perl 6 auto-generates a full usage message on error in command-line parsing.</p>
 <a name="t41.9"></a><h1 id="_language_rb-nutshell.pod6-RubyGems,_External_Libraries">41.9 RubyGems, External Libraries</h1>
 <p>See <a href="https://modules.perl6.org/">https://modules.perl6.org/</a>, where a growing number of Perl 6 libraries are available along with the tools to manage them.</p>
 <p>If the module that you were using has not been converted to Perl 6, and no alternative is listed in this document, then its use under Perl 6 may not have been addressed yet.</p>
 <p>You can experiment with <a href="https://github.com/awwaiid/Inline-Ruby/">Inline::Ruby</a> to call existing Ruby code from your Perl 6 programs. This uses an embedded instance of the <span class="code">ruby</span> interpreter to run Ruby code called from your Perl 6 script. Note that this is an EXPERIMENTAL library. You can similarly call other language's libraries with Inline::Perl5, Inline::Python, and others.</p>
</div>
<!-- /language/regexes.pod6 --><div class="pod-body"><a id="_language_regexes.pod6"></a><a name="t42"><h1 class="title">42 Regexes</h1></a> <p class="subtitle">Pattern matching against strings</p> <p><span class="indexed"><a id="558" name="Regular Expressions"></a></span></p>
 <p>Regular expressions, <i>regexes</i> for short, are a sequence of characters that describe a pattern of text. Pattern matching is the process of matching those patterns to actual text.</p>
 <a name="t42.1"></a><h1 id="_language_regexes.pod6-Lexical_conventions">42.1 <a name="559"></a>Lexical conventions</h1>
 <p>Perl 6 has special syntax for writing regexes:</p>
 <pre class="code">m/abc/;         # a regex that is immediately matched against $_
rx/abc/;        # a Regex object
/abc/;          # a Regex object</pre>
 <p>For the first two examples, delimiters other than the slash can be used:</p>
 <pre class="code">m{abc};
rx{abc};</pre>
 <p>Note that neither the colon <span class="code">:</span> nor round parentheses can be delimiters; the colon is forbidden because it clashes with adverbs, such as <span class="code">rx:i/abc/</span> (case insensitive regexes), and round parentheses indicate a function call instead.</p>
 <p>Whitespace in regexes is generally ignored (except with the <span class="code">:s</span> or, completely, <span class="code">:sigspace</span> adverb).</p>
 <p>Comments work within a regular expression:</p>
 <pre class="code">/ word #`(match lexical &quot;word&quot;) /</pre>
 <a name="t42.2"></a><h1 id="_language_regexes.pod6-Literals">42.2 Literals</h1>
 <p>The simplest case for a regex is a match against a string literal:</p>
 <pre class="code">if 'properly' ~~ m/ perl / {
    say &quot;'properly' contains 'perl'&quot;;
}</pre>
 <p>Alphanumeric characters and the underscore <span class="code">_</span> are matched literally. All other characters must either be escaped with a backslash (for example, <span class="code">\:</span> to match a colon), or be within quotes:</p>
 <pre class="code">/ 'two words' /;     # matches 'two words' including the blank
/ &quot;a:b&quot;       /;     # matches 'a:b' including the colon
/ '#' /;             # matches a hash character</pre>
 <p>Strings are searched left to right, so it's enough if only part of the string matches the regex:</p>
 <pre class="code">if 'abcdef' ~~ / de / {
    say ~$/;            # OUTPUT: «de␤»
    say $/.prematch;    # OUTPUT: «abc␤»
    say $/.postmatch;   # OUTPUT: «f␤»
    say $/.from;        # OUTPUT: «3␤»
    say $/.to;          # OUTPUT: «5␤»
};</pre>
 <p>Match results are stored in the <span class="code">$/</span> variable and are also returned from the match. The result is of <a href="#_type_Match.pod6">type Match</a> if the match was successful; otherwise it's <a href="#_type_Nil.pod6">Nil</a>.</p>
 <a name="t42.3"></a><h1 id="_language_regexes.pod6-Wildcards_and_character_classes">42.3 Wildcards and character classes</h1>
 <a name="t42.3.1"></a><h2 id="_language_regexes.pod6-The_dot_matches_any_character:_.">42.3.1 <a name="560"></a>The dot matches any character:  <span class="code">.</span></h2>
 <p>An unescaped dot <span class="code">.</span> in a regex matches any single character.</p>
 <p>So, these all match:</p>
 <pre class="code">'perl' ~~ /per./;       # matches the whole string
'perl' ~~ / per . /;    # the same; whitespace is ignored
'perl' ~~ / pe.l /;     # the . matches the r
'speller' ~~ / pe.l/;   # the . matches the first l</pre>
 <p>This doesn't match:</p>
 <pre class="code">'perl' ~~ /. per /;</pre>
 <p>because there's no character to match before <span class="code">per</span> in the target string.</p>
 <p>Note that <span class="code">.</span> now does match <b>any</b> single character, that is, it matches <span class="code">\n</span>. So the text below match:</p>
 <pre class="code">my $text = qq:to/END/
  Although I am a
  multi-line text,
  now can be matched
  with /.*/.
  END
  ;

say $text ~~ / .* /;
# OUTPUT «｢Although I am a␤multi-line text,␤now can be matched␤with /.*/␤｣»</pre>
 <a name="t42.3.2"></a><h2 id="_language_regexes.pod6-Backslashed,_predefined_character_classes">42.3.2 Backslashed, predefined character classes</h2>
 <p>There are predefined character classes of the form <span class="code">\w</span>. Its negation is written with an upper-case letter, <span class="code">\W</span>.</p>
 <ul><li><p><span class="indexed"><a id="561" name="regex \d regex \D"><span class="code">\d</span>  and  <span class="code">\D</span></a></span></p>
</li></ul> <p><span class="code">\d</span> matches a single digit (Unicode property <span class="code">N</span>) and <span class="code">\D</span> matches a single character that is not a digit.</p>
 <pre class="code">'ab42' ~~ /\d/ and say ~$/;     # OUTPUT: «4␤»
'ab42' ~~ /\D/ and say ~$/;     # OUTPUT: «a␤»</pre>
 <p>Note that not only the Arabic digits (commonly used in the Latin alphabet) match <span class="code">\d</span>, but also digits from other scripts.</p>
 <p>Examples for digits are:</p>
 <pre class="code">U+0035 5 DIGIT FIVE 
 U+0BEB ௫ TAMIL DIGIT FIVE 
 U+0E53 ๓ THAI DIGIT THREE 
 U+17E5 ៥ KHMER DIGIT FIVE 
</pre>
 <ul><li><p><span class="indexed"><a id="562" name="regex \h regex \H"><span class="code">\h</span>  and  <span class="code">\H</span></a></span></p>
</li></ul> <p><span class="code">\h</span> matches a single horizontal whitespace character. <span class="code">\H</span> matches a single character that is not a horizontal whitespace character.</p>
 <p>Examples for horizontal whitespace characters are</p>
 <pre class="code">U+0020 SPACE 
 U+00A0 NO-BREAK SPACE 
 U+0009 CHARACTER TABULATION 
 U+2001 EM QUAD 
</pre>
 <p>Vertical whitespace like newline characters are explicitly excluded; those can be matched with <span class="code">\v</span>, and <span class="code">\s</span> matches any kind of whitespace.</p>
 <ul><li><p><span class="indexed"><a id="563" name="regex \n regex \N"><span class="code">\n</span>  and  <span class="code">\N</span></a></span></p>
</li></ul> <p><span class="code">\n</span> matches a single, logical newline character. What is considered as a <i>single newline character</i> is defined via the compile time variable <a href="#_language_variables.pod6--index-entry-%24%3FNL">$?NL</a>, and the <a href="#_language_pragmas.pod6">newline pragma</a>. Therefore <span class="code">\n</span> is supposed to be able to either match a Unix-like newline &quot;\n&quot; or a Microsoft Windows style one &quot;\r\n&quot;.</p>
 <p><span class="code">\N</span> matches a single character that's not a logical newline.</p>
 <ul><li><p><span class="indexed"><a id="564" name="regex \s regex \S"><span class="code">\s</span>  and  <span class="code">\S</span></a></span></p>
</li></ul> <p><span class="code">\s</span> matches a single whitespace character. <span class="code">\S</span> matches a single character that is not whitespace.</p>
 <pre class="code">if 'contains a word starting with &quot;w&quot;' ~~ / w \S+ / {
    say ~$/;        # OUTPUT: «word␤»
}</pre>
 <ul><li><p><span class="indexed"><a id="565" name="regex \t regex \T"><span class="code">\t</span>  and  <span class="code">\T</span></a></span></p>
</li></ul> <p><span class="code">\t</span> matches a single tab/tabulation character, <span class="code">U+0009</span>. (Note that exotic tabs like the <span class="code">U+000B VERTICAL TABULATION</span> character are not included here). <span class="code">\T</span> matches a single character that is not a tab.</p>
 <ul><li><p><span class="indexed"><a id="566" name="regex \v regex \V"><span class="code">\v</span>  and  <span class="code">\V</span></a></span></p>
</li></ul> <p><span class="code">\v</span> matches a single vertical whitespace character. <span class="code">\V</span> matches a single character that is not vertical whitespace.</p>
 <p>Examples for vertical whitespace characters:</p>
 <pre class="code">U+000A LINE FEED 
 U+000B VERTICAL TABULATION 
 U+000C FORM FEED 
 U+000D CARRIAGE RETURN 
 U+0085 NEXT LINE 
 U+2028 LINE SEPARATOR 
 U+2029 PARAGRAPH SEPARATOR 
</pre>
 <p>Use <span class="code">\s</span> to match any kind of whitespace, not just vertical whitespace.</p>
 <ul><li><p><span class="indexed"><a id="567" name="regex \w regex \W"><span class="code">\w</span>  and  <span class="code">\W</span></a></span></p>
</li></ul> <p><span class="code">\w</span> matches a single word character; i.e., a letter (Unicode category L), a digit or an underscore. <span class="code">\W</span> matches a single character that isn't a word character.</p>
 <p>Examples of word characters:</p>
 <pre class="code">0041 A LATIN CAPITAL LETTER A 
 0031 1 DIGIT ONE 
 03B4 δ GREEK SMALL LETTER DELTA 
 03F3 ϳ GREEK LETTER YOT 
 0409 Љ CYRILLIC CAPITAL LETTER LJE 
</pre>
 <p>Predefined subrules:</p>
 <pre class="code">&lt;alpha&gt;   &lt;:L&gt;     Alphabetic characters 
 &lt;digit&gt;   \d       Decimal digits 
 &lt;xdigit&gt;           Hexadecimal digit [0-9A-Fa-f] 
 &lt;alnum&gt;   \w       'alpha' plus 'digit' 
 &lt;punct&gt;            Punctuation and Symbols (only Punct beyond ASCII) 
 &lt;graph&gt;            'alnum' plus 'punct' 
 &lt;space&gt;   \s       Whitespace 
 &lt;cntrl&gt;            Control characters 
 &lt;print&gt;            'graph' plus 'space', but no 'cntrl' 
 &lt;blank&gt;   \h       Horizontal whitespace 
 &lt;lower&gt;   &lt;:Ll&gt;    Lowercase characters 
 &lt;upper&gt;   &lt;:Lu&gt;    Uppercase characters 
 &lt;?same&gt;            Matches between two identical characters 
 &lt;?wb&gt;              Word Boundary (zero-width assertion, ? suppress capture) 
 &lt;?ww&gt;              Within Word (zero-width assertion, ? suppress capture) 
</pre>
 <a name="t42.3.3"></a><h2 id="_language_regexes.pod6-Unicode_properties">42.3.3 <a name="568"></a>Unicode properties</h2>
 <p>The character classes mentioned so far are mostly for convenience; another approach is to use Unicode character properties. These come in the form <span class="code">&lt;:property&gt;</span>, where <span class="code">property</span> can be a short or long Unicode General Category name. These use pair syntax.</p>
 <p>To match against a Unicode Property:</p>
 <pre class="code">&quot;a&quot;.uniprop('Script');                 # OUTPUT: «Latin␤»
&quot;a&quot; ~~ / &lt;:Script&lt;Latin&gt;&gt; /;           # OUTPUT: «｢a｣␤»
&quot;a&quot;.uniprop('Block');                  # OUTPUT: «Basic Latin␤»
&quot;a&quot; ~~ / &lt;:Block('Basic Latin')&gt; /;    # OUTPUT: «｢a｣␤»</pre>
 <p>Unicode General Categories:</p>
 <table>
<tr><th>Short</th> <th>Long</th></tr>
<tr><td>L</td> <td>Letter</td></tr>
 <tr><td>LC</td> <td>Cased_Letter</td></tr>
 <tr><td>Lu</td> <td>Uppercase_Letter</td></tr>
 <tr><td>Ll</td> <td>Lowercase_Letter</td></tr>
 <tr><td>Lt</td> <td>Titlecase_Letter</td></tr>
 <tr><td>Lm</td> <td>Modifier_Letter</td></tr>
 <tr><td>Lo</td> <td>Other_Letter</td></tr>
 <tr><td>M</td> <td>Mark</td></tr>
 <tr><td>Mn</td> <td>Nonspacing_Mark</td></tr>
 <tr><td>Mc</td> <td>Spacing_Mark</td></tr>
 <tr><td>Me</td> <td>Enclosing_Mark</td></tr>
 <tr><td>N</td> <td>Number</td></tr>
 <tr><td>Nd</td> <td>Decimal_Number (also Digit)</td></tr>
 <tr><td>Nl</td> <td>Letter_Number</td></tr>
 <tr><td>No</td> <td>Other_Number</td></tr>
 <tr><td>P</td> <td>Punctuation (also punct)</td></tr>
 <tr><td>Pc</td> <td>Connector_Punctuation</td></tr>
 <tr><td>Pd</td> <td>Dash_Punctuation</td></tr>
 <tr><td>Ps</td> <td>Open_Punctuation</td></tr>
 <tr><td>Pe</td> <td>Close_Punctuation</td></tr>
 <tr><td>Pi</td> <td>Initial_Punctuation (may behave like Ps or Pe depending on usage)</td></tr>
 <tr><td>Pf</td> <td>Final_Punctuation (may behave like Ps or Pe depending on usage)</td></tr>
 <tr><td>Po</td> <td>Other_Punctuation</td></tr>
 <tr><td>S</td> <td>Symbol</td></tr>
 <tr><td>Sm</td> <td>Math_Symbol</td></tr>
 <tr><td>Sc</td> <td>Currency_Symbol</td></tr>
 <tr><td>Sk</td> <td>Modifier_Symbol</td></tr>
 <tr><td>So</td> <td>Other_Symbol</td></tr>
 <tr><td>Z</td> <td>Separator</td></tr>
 <tr><td>Zs</td> <td>Space_Separator</td></tr>
 <tr><td>Zl</td> <td>Line_Separator</td></tr>
 <tr><td>Zp</td> <td>Paragraph_Separator</td></tr>
 <tr><td>C</td> <td>Other</td></tr>
 <tr><td>Cc</td> <td>Control (also cntrl)</td></tr>
 <tr><td>Cf</td> <td>Format</td></tr>
 <tr><td>Cs</td> <td>Surrogate</td></tr>
 <tr><td>Co</td> <td>Private_Use</td></tr>
 <tr><td>Cn</td> <td>Unassigned</td></tr>
</table> <p>For example, <span class="code">&lt;:Lu&gt;</span> matches a single, upper-case letter.</p>
 <p>Its negation is this: <span class="code">&lt;:!property&gt;</span>. So, <span class="code">&lt;:!Lu&gt;</span> matches a single character that isn't an upper-case letter.</p>
 <p>Categories can be used together, with an infix operator:</p>
 <table>
<tr><th>Operator</th> <th>Meaning</th></tr>
<tr><td>+</td> <td>set union</td></tr>
 <tr><td>|</td> <td>set union</td></tr>
 <tr><td>&amp;</td> <td>set intersection</td></tr>
 <tr><td>-</td> <td>set difference (first minus second)</td></tr>
 <tr><td>^</td> <td>symmetric set intersection / XOR</td></tr>
</table> <p>To match either a lower-case letter or a number, write <span class="code">&lt;:Ll+:N&gt;</span> or <span class="code">&lt;:Ll+:Number&gt;</span> or <span class="code">&lt;+ :Lowercase_Letter + :Number&gt;</span>.</p>
 <p>It's also possible to group categories and sets of categories with parentheses; for example:</p>
 <pre class="code">'perl6' ~~ m{\w+(&lt;:Ll+:N&gt;)}  # OUTPUT: «0 =&gt; ｢6｣␤»</pre>
 <a name="t42.3.4"></a><h2 id="_language_regexes.pod6-Enumerated_character_classes_and_ranges">42.3.4 <a name="569"></a>Enumerated character classes and ranges</h2>
 <p>Sometimes the pre-existing wildcards and character classes are not enough. Fortunately, defining your own is fairly simple. Within <span class="code">&lt;[ ]&gt;</span>, you can put any number of single characters and ranges of characters (expressed with two dots between the end points), with or without whitespace.</p>
 <pre class="code">&quot;abacabadabacaba&quot; ~~ / &lt;[ a .. c 1 2 3 ]&gt; /;
# Unicode hex codepoint range
&quot;ÀÁÂÃÄÅÆ&quot; ~~ / &lt;[ \x[00C0] .. \x[00C6] ]&gt; /;
# Unicode named codepoint range
&quot;αβγ&quot; ~~ /&lt;[\c[GREEK SMALL LETTER ALPHA]..\c[GREEK SMALL LETTER GAMMA]]&gt;/;</pre>
 <p>Within the <span class="code">&lt; &gt;</span> you can use <span class="code">+</span> and <span class="code">-</span> to add or remove multiple range definitions and even mix in some of the unicode categories above. You can also write the backslashed forms for character classes between the <span class="code">[ ]</span>.</p>
 <pre class="code">/ &lt;[\d] - [13579]&gt; /;
# starts with \d and removes odd ASCII digits, but not quite the same as
/ &lt;[02468]&gt; /;
# because the first one also contains &quot;weird&quot; unicodey digits</pre>
 <p>To negate a character class, put a <span class="code">-</span> after the opening angle:</p>
 <pre class="code">say 'no quotes' ~~ /  &lt;-[ &quot; ]&gt; + /;  # matches characters except &quot;</pre>
 <p>A common pattern for parsing quote-delimited strings involves negated character classes:</p>
 <pre class="code">say '&quot;in quotes&quot;' ~~ / '&quot;' &lt;-[ &quot; ]&gt; * '&quot;'/;</pre>
 <p>This first matches a quote, then any characters that aren't quotes, and then a quote again. The meaning of <span class="code">*</span> and <span class="code">+</span> in the examples above are explained in <a href="#41-Quantifiers">section Quantifier</a>.</p>
 <p>Just as you can use the <span class="code">-</span> for both set difference and negation of a single value, you can also explicitly put a <span class="code">+</span> in front:</p>
 <pre class="code">/ &lt;+[123]&gt; /  # same as &lt;[123]&gt;</pre>
 <a name="t42.4"></a><h1 id="_language_regexes.pod6-Quantifiers">42.4 Quantifiers</h1>
 <p>A quantifier makes the preceding atom match a variable number of times. For example, <span class="code">a+</span> matches one or more <span class="code">a</span> characters.</p>
 <p>Quantifiers bind tighter than concatenation, so <span class="code">ab+</span> matches one <span class="code">a</span> followed by one or more <span class="code">b</span>s. This is different for quotes, so <span class="code">'ab'+</span> matches the strings <span class="code">ab</span>, <span class="code">abab</span>, <span class="code">ababab</span> etc.</p>
 <a name="t42.4.1"></a><h2 id="_language_regexes.pod6-One_or_more:_+">42.4.1 <a name="570"></a>One or more:  <span class="code">+</span></h2>
 <p>The <span class="code">+</span> quantifier makes the preceding atom match one or more times, with no upper limit.</p>
 <p>For example, to match strings of the form <span class="code">key=value</span>, you can write a regex like this:</p>
 <pre class="code">/ \w+ '=' \w+ /</pre>
 <a name="t42.4.2"></a><h2 id="_language_regexes.pod6-Zero_or_more:_*">42.4.2 <a name="571"></a>Zero or more:  <span class="code">*</span></h2>
 <p>The <span class="code">*</span> quantifier makes the preceding atom match zero or more times, with no upper limit.</p>
 <p>For example, to allow optional whitespace between <span class="code">a</span> and <span class="code">b</span> you can write</p>
 <pre class="code">/ a \s* b /</pre>
 <a name="t42.4.3"></a><h2 id="_language_regexes.pod6-Zero_or_one:_?">42.4.3 <a name="572"></a>Zero or one:  <span class="code">?</span></h2>
 <p>The <span class="code">?</span> quantifier makes the preceding atom match zero or once.</p>
 <p>From example, to match <span class="code">dog</span> or <span class="code">dogs</span>, you can write:</p>
 <pre class="code">/ dogs? /</pre>
 <a name="t42.4.4"></a><h2 id="_language_regexes.pod6-General_quantifier:_**_min..max">42.4.4 <a name="573"></a>General quantifier:  <span class="code">** min..max</span></h2>
 <p>To quantify an atom an arbitrary number of times, use <span class="code">**</span> quantifier. The quantifier takes a single <a href="#_type_Int.pod6">Int</a> or a <a href="#_type_Range.pod6">Range</a> on the right hand side that specifies the number of times to match. If <a href="#_type_Range.pod6">Range</a> is specified, the end-points specify the minimum and maximum number of times to match.</p>
 <pre class="code">say 'abcdefg' ~~ /\w ** 4/;      # OUTPUT: «｢abcd｣␤» 
 say 'a'       ~~ /\w **  2..5/;  # OUTPUT: «Nil␤» 
 say 'abc'     ~~ /\w **  2..5/;  # OUTPUT: «｢abc｣␤» 
 say 'abcdefg' ~~ /\w **  2..5/;  # OUTPUT: «｢abcde｣␤» 
 say 'abcdefg' ~~ /\w ** 2^..^5/; # OUTPUT: «｢abcd｣␤» 
 say 'abcdefg' ~~ /\w ** ^3/;     # OUTPUT: «｢ab｣␤» 
 say 'abcdefg' ~~ /\w ** 1..*/;   # OUTPUT: «｢abcdefg｣␤» 
</pre>
 <p>Only basic literal syntax for the right hand side of the quantifier is supported, to avoid ambiguities with other regex constructs. If you need to use a more complex expression; for example, a <a href="#_type_Range.pod6">Range</a> made from variables—enclose the <a href="#_type_Range.pod6">Range</a> into curly braces:</p>
 <pre class="code">my $start = 3; 
 say 'abcdefg' ~~ /\w ** {$start .. $start+2}/; # OUTPUT: «｢abcde｣␤» 
 say 'abcdefg' ~~ /\w ** {π.Int}/;              # OUTPUT: «｢abc｣␤» 
</pre>
 <p>Negative values are treated like zero:</p>
 <pre class="code">say 'abcdefg' ~~ /\w ** {-Inf}/;     # OUTPUT: «｢｣␤» 
 say 'abcdefg' ~~ /\w ** {-42}/;      # OUTPUT: «｢｣␤» 
 say 'abcdefg' ~~ /\w ** {-10..-42}/; # OUTPUT: «｢｣␤» 
 say 'abcdefg' ~~ /\w ** {-42..-10}/; # OUTPUT: «｢｣␤» 
</pre>
 <p>If then, the resultant value is <span class="code">Inf</span> or <span class="code">NaN</span> or the resultant <a href="#_type_Range.pod6">Range</a> is empty, non-Numeric, contains <span class="code">NaN</span> end-points, or has minimum effective end-point as <span class="code">Inf</span>, the <span class="code">X::Syntax::Regex::QuantifierValue</span> exception will be thrown:</p>
 <pre class="code">(try say 'abcdefg' ~~ /\w ** {42..10}/  ) 
     orelse say ($!.^name, $!.empty-range); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
 (try say 'abcdefg' ~~ /\w ** {Inf..Inf}/) 
     orelse say ($!.^name, $!.inf); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
 (try say 'abcdefg' ~~ /\w ** {NaN..42}/ ) 
     orelse say ($!.^name, $!.non-numeric-range); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
 (try say 'abcdefg' ~~ /\w ** {&quot;a&quot;..&quot;c&quot;}/) 
     orelse say ($!.^name, $!.non-numeric-range); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
 (try say 'abcdefg' ~~ /\w ** {Inf}/) 
     orelse say ($!.^name, $!.inf); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
 (try say 'abcdefg' ~~ /\w ** {NaN}/) 
     orelse say ($!.^name, $!.non-numeric); 
     # OUTPUT: «(X::Syntax::Regex::QuantifierValue True)␤» 
</pre>
 <a name="t42.4.5"></a><h2 id="_language_regexes.pod6-Modified_quantifier:_%,_%%">42.4.5 <a name="574"></a>Modified quantifier:  <span class="code">%</span> ,  <span class="code">%%</span></h2>
 <p>To more easily match things like comma separated values, you can tack on a <span class="code">%</span> modifier to any of the above quantifiers to specify a separator that must occur between each of the matches. For example, <span class="code">a+ % ','</span> will match <span class="code">a</span> or <span class="code">a,a</span> or <span class="code">a,a,a</span>, etc. To also match trailing delimiters ( <span class="code">a,</span> or <span class="code">a,a,</span> ), you can use <span class="code">%%</span> instead of <span class="code">%</span>.</p>
 <p>The quantifier interacts with `%` and controls the number of overall repetitions that can match successfully, so <span class="code">a* % ','</span> also matches the empty string. If you want match words delimited by commas, you might need to nest an ordinary and a modified quantifier:</p>
 <pre class="code">say so 'abc,def' ~~ / ^ [\w+] ** 1 % ',' $ /;  # Output: «False» 
 say so 'abc,def' ~~ / ^ [\w+] ** 2 % ',' $ /;  # Output: «True» 
</pre>
 <a name="t42.4.6"></a><h2 id="_language_regexes.pod6-Preventing_backtracking:_:">42.4.6 <a name="575"></a>Preventing backtracking:  <span class="code">:</span></h2>
 <p>You can prevent backtracking in regexes by attaching a <span class="code">:</span> modifier to the quantifier:</p>
 <pre class="code">say so 'abababa' ~~ /a .* aba/;    # OUTPUT: «True␤» 
 say so 'abababa' ~~ /a .*: aba/;   # OUTPUT: «False␤» 
</pre>
 <a name="t42.4.7"></a><h2 id="_language_regexes.pod6-Greedy_versus_frugal_quantifiers:_?">42.4.7 <a name="576"></a>Greedy versus frugal quantifiers:  <span class="code">?</span></h2>
 <p>By default, quantifiers request a greedy match:</p>
 <pre class="code">'abababa' ~~ /a .* a/ &amp;&amp; say ~$/;   # OUTPUT: «abababa␤» 
</pre>
 <p>You can attach a <span class="code">?</span> modifier to the quantifier to enable frugal matching:</p>
 <pre class="code">'abababa' ~~ /a .*? a/ &amp;&amp; say ~$/;   # OUTPUT: «aba␤» 
</pre>
 <p>You can also enable frugal matching for general quantifiers:</p>
 <pre class="code">say '/foo/o/bar/' ~~ /\/.**?{1..10}\//;  # OUTPUT: «｢/foo/｣␤»
say '/foo/o/bar/' ~~ /\/.**!{1..10}\//;  # OUTPUT: «｢/foo/o/bar/｣␤»</pre>
 <p>Greedy matching can be explicitly requested with the <span class="code">!</span> modifier.</p>
 <a name="t42.5"></a><h1 id="_language_regexes.pod6-Alternation:_||">42.5 <a name="577"></a>Alternation:  <span class="code">||</span></h1>
 <p>To match one of several possible alternatives, separate them by <span class="code">||</span>; the first matching alternative wins.</p>
 <p>For example, <span class="code">ini</span> files have the following form:</p>
 <pre class="code">[section] 
 key = value 
</pre>
 <p>Hence, if you parse a single line of an <span class="code">ini</span> file, it can be either a section or a key-value pair and the regex would be (to a first approximation):</p>
 <pre class="code">/ '[' \w+ ']' || \S+ \s* '=' \s* \S* /</pre>
 <p>That is, either a word surrounded by square brackets, or a string of non-whitespace characters, followed by zero or more spaces, followed by the equals sign <span class="code">=</span>, followed again by optional whitespace, followed by another string of non-whitespace characters.</p>
 <a name="t42.6"></a><h1 id="_language_regexes.pod6-Longest_Alternation:_|">42.6 <a name="578"></a>Longest Alternation:  <span class="code">|</span></h1>
 <p>In short, in regex branches separated by <span class="code">|</span>, the longest token match wins, independent of the textual ordering in the regex. However, what <span class="code">|</span> really does is more than that. It does not decide which branch wins after finishing the whole match, but follows the <a href="https://design.perl6.org/S05.html#Longest-token_matching">longest-token matching (LTM) strategy</a>.</p>
 <p>Briefly, what <span class="code">|</span> does is this:</p>
 <ul><li><p>First, select the branch which has the longest declarative prefix.</p>
</li></ul> <pre class="code">say &quot;abc&quot; ~~ /ab | a.* /;                 # Output: ⌜abc⌟
say &quot;abc&quot; ~~ /ab | a {} .* /;             # Output: ⌜ab⌟
say &quot;if else&quot; ~~ / if | if &lt;.ws&gt; else /;  # Output: ｢if｣
say &quot;if else&quot; ~~ / if | if \s+   else /;  # Output: ｢if else｣</pre>
 <p>As is shown above, <span class="code">a.*</span> is a declarative prefix, while <span class="code">a {} .*</span> terminates at <span class="code">{}</span>, then its declarative prefix is <span class="code">a</span>. Note that non-declarative atoms terminate declarative prefix. This is quite important if you want to apply <span class="code">|</span> in a <span class="code">rule</span>, which automatically enables <span class="code">:s</span>, and <span class="code">&lt;.ws&gt;</span> accidentally terminates declarative prefix.</p>
 <ul><li><p>If it's a tie, select the match with the highest specificity.</p>
</li></ul> <pre class="code">say &quot;abc&quot; ~~ /a. | ab { print &quot;win&quot; } /;  # Output: win｢ab｣</pre>
 <p>When two alternatives match at the same length, the tie is broken by specificity. That is, <span class="code">ab</span>, as an exact match, counts as closer than <span class="code">a.</span>, which uses character classes.</p>
 <ul><li><p>If it's still a tie, use additional tie-breakers.</p>
</li></ul> <pre class="code">say &quot;abc&quot; ~~ /a\w| a. { print &quot;lose&quot; } /; # Output: ⌜ab⌟</pre>
 <p>If the tie breaker above doesn't work, then the textually earlier alternative takes precedence.</p>
 <p>For more details, see <a href="https://design.perl6.org/S05.html#Longest-token_matching">the LTM strategy</a>.</p>
 <a name="t42.6.1"></a><h2 id="_language_regexes.pod6-Quoted_lists_are_LTM_matches">42.6.1 Quoted lists are LTM matches</h2>
 <p>Using a quoted list in a regex is equivalent to specifying the longest-match alternation of the list's elements. So, the following match:</p>
 <pre class="code">say 'food' ~~ /&lt; f fo foo food &gt;/;      # OUTPUT: «｢food｣␤»</pre>
 <p>is equivalent to:</p>
 <pre class="code">say 'food' ~~ / f | fo | foo | food /;  # OUTPUT: «｢food｣␤»</pre>
 <p>Note that the space after the first <span class="code">&lt;</span> is significant here: <span class="code">&lt;food&gt;</span> calls the named rule <span class="code">food</span> while <span class="code">&lt; food &gt;</span> and <span class="code">&lt; food&gt;</span> specify quoted lists with a single element, <span class="code">'food'</span>.</p>
 <p>Arrays can also be interpolated into a regex to achieve the same effect:</p>
 <pre class="code">my @increasingly-edible = &lt;f fo foo food&gt;;
say 'food' ~~ /@increasingly-edible/;   # OUTPUT: «｢food｣␤»</pre>
 <p>This is documented further under <a href="#41-Regex_Interpolation">Regex Interpolation</a>, below.</p>
 <a name="t42.7"></a><h1 id="_language_regexes.pod6-Conjunction:_&amp;&amp;">42.7 <a name="579"></a>Conjunction:  <span class="code">&amp;&amp;</span></h1>
 <p>Matches successfully if all <span class="code">&amp;&amp;</span>-delimited segments match the same substring of the target string. The segments are evaluated left to right.</p>
 <p>This can be useful for augmenting an existing regex. For example if you have a regex <span class="code">quoted</span> that matches a quoted string, then <span class="code">/ &lt;quoted&gt; &amp;&amp; &lt;-[x]&gt;* /</span> matches a quoted string that does not contain the character <span class="code">x</span>.</p>
 <p>Note that you cannot easily obtain the same behavior with a lookahead, that is, a regex doesn't consume characters, because a lookahead doesn't stop looking when the quoted string stops matching.</p>
 <pre class="code">say 'abc' ~~ / &lt;?before a&gt; &amp;&amp; . /;    # OUTPUT: «Nil␤» 
 say 'abc' ~~ / &lt;?before a&gt; . &amp;&amp; . /;  # OUTPUT: «｢a｣␤» 
 say 'abc' ~~ / &lt;?before a&gt; . /;       # OUTPUT: «｢a｣␤» 
 say 'abc' ~~ / &lt;?before a&gt; .. /;      # OUTPUT: «｢ab｣␤» 
</pre>
 <a name="t42.8"></a><h1 id="_language_regexes.pod6-Conjunction:_&amp;">42.8 <a name="580"></a>Conjunction:  <span class="code">&amp;</span></h1>
 <p>Much like <span class="code">&amp;&amp;</span> in a regex, it matches successfully if all segments separated by <span class="code">&amp;</span> match the same part of the target string.</p>
 <p><span class="code">&amp;</span> (unlike <span class="code">&amp;&amp;</span>) is considered declarative, and notionally all the segments can be evaluated in parallel, or in any order the compiler chooses.</p>
 <a name="t42.9"></a><h1 id="_language_regexes.pod6-Anchors">42.9 Anchors</h1>
 <p>The regex engine tries to find a match inside a string by searching from left to right.</p>
 <pre class="code">say so 'properly use perl' ~~ / perl/;   # OUTPUT: «True␤»
#          ^^^^</pre>
 <p>But sometimes this is not what you want. Instead, you may only want to match a whole string, or a whole line, or exactly one or several whole words. <i>Anchors</i> or <i>assertions</i> can help with this.</p>
 <p>Assertions need to match successfully in order for the whole regex to match but they do not use up characters while matching.</p>
 <a name="t42.9.1"></a><h2 id="_language_regexes.pod6-^,_Start_of_String_and_$,_End_of_String">42.9.1 <a name="581"></a><span class="code">^</span> , Start of String and  <span class="code">$</span> , End of String</h2>
 <p>The <span class="code">^</span> assertion only matches at the start of the string:</p>
 <pre class="code">say so 'properly' ~~ /  perl/;    # OUTPUT: «True␤»
say so 'properly' ~~ /^ perl/;    # OUTPUT: «False␤»
say so 'perly'    ~~ /^ perl/;    # OUTPUT: «True␤»
say so 'perl'     ~~ /^ perl/;    # OUTPUT: «True␤»</pre>
 <p>The <span class="code">$</span> assertion only matches at the end of the string:</p>
 <pre class="code">say so 'use perl' ~~ /  perl  /;   # OUTPUT: «True␤»
say so 'use perl' ~~ /  perl $/;   # OUTPUT: «True␤»
say so 'perly'    ~~ /  perl $/;   # OUTPUT: «False␤»</pre>
 <p>You can combine both assertions:</p>
 <pre class="code">say so 'use perl' ~~ /^ perl $/;   # OUTPUT: «False␤»
say so 'perl'     ~~ /^ perl $/;   # OUTPUT: «True␤»</pre>
 <p>Keep in mind that <span class="code">^</span> matches the start of a <b>string</b>, not the start of a <b>line</b>. Likewise, <span class="code">$</span> matches the end of a <b>string</b>, not the end of a <b>line</b>.</p>
 <p>The following is a multi-line string:</p>
 <pre class="code">my $str = chomp q:to/EOS/;
   Keep it secret
   and keep it safe
   EOS

# 'safe' is at the end of the string
say so $str ~~ /safe   $/;   # OUTPUT: «True␤»

# 'secret' is at the end of a line, not the string
say so $str ~~ /secret $/;   # OUTPUT: «False␤»

# 'Keep' is at the start of the string
say so $str ~~ /^Keep   /;   # OUTPUT: «True␤»

# 'and' is at the start of a line -- not the string
say so $str ~~ /^and    /;   # OUTPUT: «False␤»</pre>
 <a name="t42.9.2"></a><h2 id="_language_regexes.pod6-^^,_Start_of_Line_and_$$,_End_of_Line">42.9.2 <a name="582"></a><span class="code">^^</span> , Start of Line and  <span class="code">$$</span> , End of Line</h2>
 <p>The <span class="code">^^</span> assertion matches at the start of a logical line. That is, either at the start of the string, or after a newline character. However, it does not match at the end of the string, even if it ends with a newline character.</p>
 <p><span class="code">$$</span> matches only at the end of a logical line, that is, before a newline character, or at the end of the string when the last character is not a newline character.</p>
 <p>(To understand the following example, it's important to know that the <span class="code">q:to/EOS/...EOS</span> <a href="#_language_quoting.pod6-Heredocs:_:to">heredoc</a> syntax removes leading indention to the same level as the <span class="code">EOS</span> marker, so that the first, second and last lines have no leading space and the third and fourth lines have two leading spaces each).</p>
 <pre class="code">my $str = q:to/EOS/; 
     There was a young man of Japan 
     Whose limericks never would scan. 
       When asked why this was, 
       He replied &quot;It's because I always try to fit 
     as many syllables into the last line as ever I possibly can.&quot; 
     EOS 
 
 # 'There' is at the start of string 
 say so $str ~~ /^^ There/;        # OUTPUT: «True␤» 
 
 # 'limericks' is not at the start of a line 
 say so $str ~~ /^^ limericks/;    # OUTPUT: «False␤» 
 
 # 'as' is at start of the last line 
 say so $str ~~ /^^ as/;            # OUTPUT: «True␤» 
 
 # there are blanks between start of line and the &quot;When&quot; 
 say so $str ~~ /^^ When/;         # OUTPUT: «False␤» 
 
 # 'Japan' is at end of first line 
 say so $str ~~ / Japan $$/;       # OUTPUT: «True␤» 
 
 # there's a . between &quot;scan&quot; and the end of line 
 say so $str ~~ / scan $$/;        # OUTPUT: «False␤» 
 
 # matched at the last line 
 say so $str ~~ / '.&quot;' $$/;        # OUTPUT: «True␤» 
</pre>
 <a name="t42.9.3"></a><h2 id="_language_regexes.pod6-&lt;|w&gt;_and_&lt;!|w&gt;,_word_boundary">42.9.3 <a name="583"></a><span class="code">&lt;|w&gt;</span>  and  <span class="code">&lt;!|w&gt;</span> , word boundary</h2>
 <p>To match any word boundary, use <span class="code">&lt;|w&gt;</span>. This is similar to other languages' <span class="indexed"><a id="584" name="regex deprecated \b"><span class="code">\b</span></a></span>.</p>
 <p>To match not a word boundary, use &lt;!|w&gt;. This is similar to other languages' <span class="indexed"><a id="585" name="regex deprecated  \B "><span class="code">\B</span></a></span>.</p>
 <p>These are both zero width assertions.</p>
 <pre class="code">say &quot;two-words&quot; ~~ / &quot;two&quot;&lt;|w&gt;&quot;-&quot;&lt;|w&gt;&quot;words&quot; /;    # OUTPUT: «｢two-words｣␤»
say &quot;two-words&quot; ~~ / &quot;two&quot;&lt;!|w&gt;&quot;-&quot;&lt;!|w&gt;&quot;words&quot; /;  # OUTPUT: «Nil␤»</pre>
 <a name="t42.9.4"></a><h2 id="_language_regexes.pod6-&lt;&lt;_and_&gt;&gt;,_left_and_right_word_boundary">42.9.4 <span class="code">&lt;&lt;</span> and <span class="code">&gt;&gt;</span>, left and right word boundary</h2>
 <p><span class="indexed"><a id="586" name="regex  &lt;&lt;  regex  &gt;&gt;  regex  «  regex  »"></a></span></p>
 <p><span class="code">&lt;&lt;</span> matches a left word boundary. It matches positions where there is a non-word character (i.e., <span class="code">\W</span> character) at the left (or the start of the string) and a word character to the right.</p>
 <p><span class="code">&gt;&gt;</span> matches a right word boundary. It matches positions where there is a word character at the left and a non-word character at the right (or the end of the string).</p>
 <p>These are both zero width assertions.</p>
 <pre class="code">my $str = 'The quick brown fox';
say so ' ' ~~ /\W/;               # OUTPUT: «True␤»
say so $str ~~ /br/;              # OUTPUT: «True␤»
say so $str ~~ /&lt;&lt; br/;           # OUTPUT: «True␤»
say so $str ~~ /br &gt;&gt;/;           # OUTPUT: «False␤»
say so $str ~~ /own/;             # OUTPUT: «True␤»
say so $str ~~ /&lt;&lt; own/;          # OUTPUT: «False␤»
say so $str ~~ /own &gt;&gt;/;          # OUTPUT: «True␤»
say so $str ~~ /&lt;&lt; The/;          # OUTPUT: «True␤»
say so $str ~~ /fox &gt;&gt;/;          # OUTPUT: «True␤»</pre>
 <p>You can also use the variants <span class="code">«</span> and <span class="code">»</span> :</p>
 <pre class="code">my $str = 'The quick brown fox';
say so $str ~~ /« own/;          # OUTPUT: «False␤»
say so $str ~~ /own »/;          # OUTPUT: «True␤»</pre>
 <p>To see the difference between <span class="code">&lt;|w&gt;</span> and <span class="code">«</span>, <span class="code">»</span>:</p>
 <pre class="code">say &quot;stuff here!!!&quot;.subst(:g, /&gt;&gt;/, '|');   # OUTPUT: «stuff| here|!!!␤»
say &quot;stuff here!!!&quot;.subst(:g, /&lt;&lt;/, '|');   # OUTPUT: «|stuff |here!!!␤»
say &quot;stuff here!!!&quot;.subst(:g, /&lt;|w&gt;/, '|'); # OUTPUT: «|stuff| |here|!!!␤»</pre>
 <a name="t42.9.5"></a><h2 id="_language_regexes.pod6-Lookahead_assertions_&lt;?before_pattern&gt;">42.9.5 <a name="587"></a>Lookahead assertions  <span class="code">&lt;?before pattern&gt;</span></h2>
 <p>To check that a pattern appears before another pattern, use a lookahead assertion via the <span class="code">before</span> assertion. This has the form:</p>
 <pre class="code">&lt;?before pattern&gt;</pre>
 <p>Thus, to search for the string <span class="code">foo</span> which is immediately followed by the string <span class="code">bar</span>, use the following regexp:</p>
 <pre class="code">rx{ foo &lt;?before bar&gt; }</pre>
 <p>For example:</p>
 <pre class="code">say &quot;foobar&quot; ~~ rx{ foo &lt;?before bar&gt; };  # OUTPUT: «foo␤»</pre>
 <p>However, if you want to search for a pattern which is <b>not</b> immediately followed by some pattern, then you need to use a negative lookahead assertion, this has the form:</p>
 <pre class="code">&lt;!before pattern&gt;</pre>
 <p>Hence, all occurrences of <span class="code">foo</span> which <i>is not</i> before <span class="code">bar</span> would match with</p>
 <pre class="code">say &quot;foobar&quot; ~~ rx{ foo &lt;!before bar&gt; }   # OUTPUT: «Nil␤»</pre>
 <p>Lookahead assertions can be used also with other patterns, like characters ranges, interpolated variables, subscripts and so on. In such cases it does suffice to use a <span class="code">?</span> (or a <span class="code">!</span> for the negate form). For instance, the following lines all produce the very same result:</p>
 <pre class="code">say 'abcdefg' ~~ rx{ abc &lt;?before def&gt; };        # OUTPUT: ｢abc｣ 
 say 'abcdefg' ~~ rx{ abc &lt;?[ d..f ]&gt; };          # OUTPUT: ｢abc｣ 
 my @ending_letters = &lt;d e f&gt;; 
 say 'abcdefg' ~~ rx{ abc &lt;?@ending_letters&gt; };   # OUTPUT: ｢abc｣ 
</pre>
 <a name="t42.9.6"></a><h2 id="_language_regexes.pod6-Lookbehind_assertions_&lt;?after_pattern&gt;">42.9.6 <a name="588"></a>Lookbehind assertions  <span class="code">&lt;?after pattern&gt;</span></h2>
 <p>To check that a pattern appears after another pattern, use a lookbehind assertion via the <span class="code">after</span> assertion. This has the form:</p>
 <pre class="code">&lt;?after pattern&gt;</pre>
 <p>Therefore, to search for the string <span class="code">bar</span> immediately preceded by the string <span class="code">foo</span>, use the following regexp:</p>
 <pre class="code">rx{ &lt;?after foo&gt; bar }</pre>
 <p>For example:</p>
 <pre class="code">say &quot;foobar&quot; ~~ rx{ &lt;?after foo&gt; bar };   # OUTPUT: «bar␤»</pre>
 <p>However, if you want to search for a pattern which is <b>not</b> immediately preceded by some pattern, then you need to use a negative lookbehind assertion, this has the form:</p>
 <pre class="code">&lt;!after pattern&gt;</pre>
 <p>Hence all occurrences of <span class="code">bar</span> which <i>do not</i> have <span class="code">foo</span> before them would be matched by</p>
 <pre class="code">say &quot;foobar&quot; ~~ rx{ &lt;!after foo&gt; bar }    # OUTPUT: «Nil␤»</pre>
 <a name="t42.10"></a><h1 id="_language_regexes.pod6-Grouping_and_Capturing">42.10 Grouping and Capturing</h1>
 <p>In regular (non-regex) Perl 6, you can use parentheses to group things together, usually to override operator precedence:</p>
 <pre class="code">say 1 + 4 * 2;     # OUTPUT: «9␤», parsed as 1 + (4 * 2)
say (1 + 4) * 2;   # OUTPUT: «10␤»</pre>
 <p>The same grouping facility is available in regexes:</p>
 <pre class="code">/ a || b c /;      # matches 'a' or 'bc'
/ ( a || b ) c /;  # matches 'ac' or 'bc'</pre>
 <p>The same grouping applies to quantifiers:</p>
 <pre class="code">/ a b+ /;          # matches an 'a' followed by one or more 'b's
/ (a b)+ /;        # matches one or more sequences of 'ab'
/ (a || b)+ /;     # matches a string of 'a's and 'b's, except empty string</pre>
 <p>An unquantified capture produces a <a href="#_type_Match.pod6">Match</a> object. When a capture is quantified (except with the <span class="code">?</span> quantifier) the capture becomes a list of <a href="#_type_Match.pod6">Match</a> objects instead.</p>
 <a name="t42.10.1"></a><h2 id="_language_regexes.pod6-Capturing">42.10.1 <a name="589"></a>Capturing</h2>
 <p>The round parentheses don't just group, they also <i>capture</i>; that is, they make the string matched within the group available as a variable, and also as an element of the resulting <a href="#_type_Match.pod6">Match</a> object:</p>
 <pre class="code">my $str =  'number 42';
if $str ~~ /'number ' (\d+) / {
    say &quot;The number is $0&quot;;         # OUTPUT: The number is 42
    # or
    say &quot;The number is $/[0]&quot;;      # OUTPUT: The number is 42
}</pre>
 <p>Pairs of parentheses are numbered left to right, starting from zero.</p>
 <pre class="code">if 'abc' ~~ /(a) b (c)/ {
    say &quot;0: $0; 1: $1&quot;;             # OUTPUT: «0: a; 1: c␤»
}</pre>
 <p>The <span class="code">$0</span> and <span class="code">$1</span> etc. syntax is shorthand. These captures are canonically available from the match object <span class="code">$/</span> by using it as a list, so <span class="code">$0</span> is actually syntactic sugar for <span class="code">$/[0]</span>.</p>
 <p>Coercing the match object to a list gives an easy way to programmatically access all elements:</p>
 <pre class="code">if 'abc' ~~ /(a) b (c)/ {
    say $/.list.join: ', '  # OUTPUT: «a, c␤»
}</pre>
 <a name="t42.10.2"></a><h2 id="_language_regexes.pod6-Non-capturing_grouping">42.10.2 <a name="590"></a>Non-capturing grouping</h2>
 <p>The parentheses in regexes perform a double role: they group the regex elements inside and they capture what is matched by the sub-regex inside.</p>
 <p>To get only the grouping behavior, you can use square brackets <span class="code">[ ... ]</span> instead.</p>
 <pre class="code">if 'abc' ~~ / [a||b] (c) / {
    say ~$0;                # OUTPUT: «c␤»
}</pre>
 <p>If you do not need the captures, using non-capturing <span class="code">[ ... ]</span> groups provides the following benefits:</p>
 <ul><li><p>they more cleanly communicate the regex intent;</p>
</li></ul> <ul><li><p>they make it easier to count the capturing groups that do mean;</p>
</li></ul> <ul><li><p>they make matching a bit faster.</p>
</li></ul> <a name="t42.10.3"></a><h2 id="_language_regexes.pod6-Capture_numbers">42.10.3 Capture numbers</h2>
 <p>It is stated above that captures are numbered from left to right. While true in principle, this is also over simplification.</p>
 <p>The following rules are listed for the sake of completeness. When you find yourself using them regularly, it's worth considering named captures (and possibly subrules) instead.</p>
 <p>Alternations reset the capture count:</p>
 <pre class="code">/ (x) (y)  || (a) (.) (.) /
# $0  $1      $0  $1  $2</pre>
 <p>Example:</p>
 <pre class="code">if 'abc' ~~ /(x)(y) || (a)(.)(.)/ {
    say ~$1;        # OUTPUT: «b␤»
}</pre>
 <p>If two (or more) alternations have a different number of captures, the one with the most captures determines the index of the next capture:</p>
 <pre class="code">if 'abcd' ~~ / a [ b (.) || (x) (y) ] (.) / {
    #                 $0     $0  $1    $2
    say ~$2;            # OUTPUT: «d␤»
}</pre>
 <p>Captures can be nested, in which case they are numbered per level</p>
 <pre class="code">if 'abc' ~~ / ( a (.) (.) ) / {
    say &quot;Outer: $0&quot;;                # OUTPUT: Outer: abc
    say &quot;Inner: $0[0] and $0[1]&quot;;   # OUTPUT: Inner: b and c
}</pre>
 <p>If you need to refer to a capture from within another capture, store it in a variable first:</p>
 <pre class="code"># !!WRONG!! The $0 refers to a capture *inside* the second capture
say &quot;11&quot; ~~ /(\d) ($0)/; # OUTPUT: «Nil␤»

# CORRECT: $0 is saved into a variable outside the second capture
# before it is used inside (the `{}` is needed to update the current match)
say &quot;11&quot; ~~ /(\d) {} :my $c = $0; ($c)/;
# OUTPUT: «｢11｣␤ 0 =&gt; ｢1｣␤ 1 =&gt; ｢1｣␤»</pre>
 <a name="t42.10.4"></a><h2 id="_language_regexes.pod6-Named_captures">42.10.4 <a name="591"></a>Named captures</h2>
 <p>Instead of numbering captures, you can also give them names. The generic, and slightly verbose, way of naming captures is like this:</p>
 <pre class="code">if 'abc' ~~ / $&lt;myname&gt; = [ \w+ ] / {
    say ~$&lt;myname&gt;      # OUTPUT: «abc␤»
}</pre>
 <p>The access to the named capture, <span class="code">$&lt;myname&gt;</span>, is a shorthand for indexing the match object as a hash, in other words: <span class="code">$/{ 'myname' }</span> or <span class="code">$/&lt;myname&gt;</span>.</p>
 <p>Named captures can also be nested using regular capture group syntax:</p>
 <pre class="code">if 'abc-abc-abc' ~~ / $&lt;string&gt;=( [ $&lt;part&gt;=[abc] ]* % '-' ) / {
    say ~$&lt;string&gt;;          # OUTPUT: «abc-abc-abc␤»
    say ~$&lt;string&gt;&lt;part&gt;;    # OUTPUT: «abc abc abc␤»
    say ~$&lt;string&gt;&lt;part&gt;[0]; # OUTPUT: «abc␤»
}</pre>
 <p>Coercing the match object to a hash gives you easy programmatic access to all named captures:</p>
 <pre class="code">if 'count=23' ~~ / $&lt;variable&gt;=\w+ '=' $&lt;value&gt;=\w+ / {
    my %h = $/.hash;
    say %h.keys.sort.join: ', ';        # OUTPUT: «value, variable␤»
    say %h.values.sort.join: ', ';      # OUTPUT: «23, count␤»
    for %h.kv -&gt; $k, $v {
        say &quot;Found value '$v' with key '$k'&quot;;
        # outputs two lines:
        #   Found value 'count' with key 'variable'
        #   Found value '23' with key 'value'
    }
}</pre>
 <p>A more convenient way to get named captures is discussed in the <a href="#41-Subrules">Subrules</a> section.</p>
 <a name="t42.10.5"></a><h2 id="_language_regexes.pod6-Capture_markers:_&lt;(_)&gt;">42.10.5 <a name="592"></a>Capture markers:  <span class="code">&lt;( )&gt;</span></h2>
 <p>A <span class="code">&lt;(</span> token indicates the start of the match's overall capture, while the corresponding <span class="code">)&gt;</span> token indicates its endpoint. The <span class="code">&lt;(</span> is similar to other languages <span class="indexed"><a id="593" name="regex deprecated \K">\K</a></span> to discard any matches found before the <span class="code">\K</span>.</p>
 <pre class="code">say 'abc' ~~ / a &lt;( b )&gt; c/;            # OUTPUT: «｢b｣␤»
say 'abc' ~~ / &lt;(a &lt;( b )&gt; c)&gt;/;        # OUTPUT: «｢bc｣␤»</pre>
 <p>As the example above, you can see <span class="code">&lt;(</span> sets the start point and <span class="code">)&gt;</span> sets the endpoint; since they are actually independent each other, the inner-most start point wins (the one attache to <span class="code">b</span>) and the outer-most end wins (the one attached to <span class="code">c</span>).</p>
 <a name="t42.11"></a><h1 id="_language_regexes.pod6-Substitution">42.11 Substitution</h1>
 <p>Regular expressions can also be used to substitute one piece of text for another. You can use this for anything, from correcting a spelling error (e.g., replacing 'Perl Jam' with 'Pearl Jam'), to reformatting an ISO8601 date from <span class="code">yyyy-mm-ddThh:mm:ssZ</span> to <span class="code">mm-dd-yy h:m {AM,PM}</span> and beyond.</p>
 <p>Just like the search-and-replace editor's dialog box, the <span class="code">s/ / /</span> operator has two sides, a left and right side. The left side is where your matching expression goes, and the right side is what you want to replace it with.</p>
 <a name="t42.11.1"></a><h2 id="_language_regexes.pod6-Lexical_conventions">42.11.1 <a name="594"></a>Lexical conventions</h2>
 <p>Substitutions are written similarly to matching, but the substitution operator has both an area for the regex to match, and the text to substitute:</p>
 <pre class="code">s/replace/with/;           # a substitution that is applied to $_ 
 $str ~~ s/replace/with/;   # a substitution applied to a scalar 
</pre>
 <p>The substitution operator allows delimiters other than the slash:</p>
 <pre class="code">s|replace|with|;
s!replace!with!;
s,replace,with,;</pre>
 <p>Note that neither the colon <span class="code">:</span> nor balancing delimiters such as <span class="code">{}</span> or <span class="code">()</span> can be substitution delimiters. Colons clash with adverbs such as <span class="code">s:i/Foo/bar/</span> and the other delimiters are used for other purposes.</p>
 <p>If you use balancing brackets, the substitution works like this instead:</p>
 <pre class="code">s[replace] = 'with';</pre>
 <p>The right-hand side is now a (not quoted) Perl 6 expression, in which <span class="code">$/</span> is available as the current match:</p>
 <pre class="code">$_ = 'some 11 words 21';
s:g[ \d+ ] =  2 * $/;
.say;                    # OUTPUT: «some 22 words 42␤»</pre>
 <p>Like the <span class="code">m//</span> operator, whitespace is ignored in the regex part of a substitution. Comments, as in Perl 6 in general, start with the hash character <span class="code">#</span> and go to the end of the current line.</p>
 <a name="t42.11.2"></a><h2 id="_language_regexes.pod6-Replacing_string_literals">42.11.2 Replacing string literals</h2>
 <p>The simplest thing to replace is a string literal. The string you want to replace goes on the left-hand side of the substitution operator, and the string you want to replace it with goes on the right-hand side; for example:</p>
 <pre class="code">$_ = 'The Replacements';
s/Replace/Entrap/;
.say;                    # OUTPUT: «The Entrapments␤»</pre>
 <p>Alphanumeric characters and the underscore are literal matches, just as in its cousin the <span class="code">m//</span> operator. All other characters must be escaped with a backslash <span class="code">\</span> or included in quotes:</p>
 <pre class="code">$_ = 'Space: 1999';
s/Space\:/Party like it's/;
.say                        # OUTPUT: «Party like it's 1999␤»</pre>
 <p>Note that the matching restrictions only apply to the left-hand side of the substitution expression.</p>
 <p>By default, substitutions are only done on the first match:</p>
 <pre class="code">$_ = 'There can be twly two';
s/tw/on/;                     # replace 'tw' with 'on' once
.say;                         # OUTPUT: «There can be only two␤»</pre>
 <a name="t42.11.3"></a><h2 id="_language_regexes.pod6-Wildcards_and_character_classes">42.11.3 Wildcards and character classes</h2>
 <p>Anything that can go into the <span class="code">m//</span> operator can go into the left-hand side of the substitution operator, including wildcards and character classes. This is handy when the text you're matching isn't static, such as trying to match a number in the middle of a string:</p>
 <pre class="code">$_ = &quot;Blake's 9&quot;;
s/\d+/7/;         # replace any sequence of digits with '7'
.say;             # OUTPUT: «Blake's 7␤»</pre>
 <p>Of course, you can use any of the <span class="code">+</span>, <span class="code">*</span> and <span class="code">?</span> modifiers, and they'll behave just as they would in the <span class="code">m//</span> operator's context.</p>
 <a name="t42.11.4"></a><h2 id="_language_regexes.pod6-Capturing_Groups">42.11.4 Capturing Groups</h2>
 <p>Just as in the match operator, capturing groups are allowed on the left-hand side, and the matched contents populate the <span class="code">$0</span>..<span class="code">$n</span> variables and the <span class="code">$/</span> object:</p>
 <pre class="code">$_ = '2016-01-23 18:09:00';
s/ (\d+)\-(\d+)\-(\d+) /today/;   # replace YYYY-MM-DD with 'today'
.say;                             # OUTPUT: «today 18:09:00␤»
&quot;$1-$2-$0&quot;.say;                   # OUTPUT: «01-23-2016␤»
&quot;$/[1]-$/[2]-$/[0]&quot;.say;          # OUTPUT: «01-23-2016␤»</pre>
 <p>Any of these variables <span class="code">$0</span>, <span class="code">$1</span>, <span class="code">$/</span> can be used on the right-hand side of the operator as well, so you can manipulate what you've just matched. This way you can separate out the <span class="code">YYYY</span>, <span class="code">MM</span> and <span class="code">DD</span> parts of a date and reformat them into <span class="code">MM-DD-YYYY</span> order:</p>
 <pre class="code">$_ = '2016-01-23 18:09:00';
s/ (\d+)\-(\d+)\-(\d+) /$1-$2-$0/;    # transform YYYY-MM-DD to MM-DD-YYYY
.say;                                 # OUTPUT: «01-23-2016 18:09:00␤»</pre>
 <p>Named capture can be used too:</p>
 <pre class="code">$_ = '2016-01-23 18:09:00';
s/ $&lt;y&gt;=(\d+)\-$&lt;m&gt;=(\d+)\-$&lt;d&gt;=(\d+) /$&lt;m&gt;-$&lt;d&gt;-$&lt;y&gt;/;
.say;                                 # OUTPUT: «01-23-2016 18:09:00␤»</pre>
 <p>Since the right-hand side is effectively a regular Perl 6 interpolated string, you can reformat the time from <span class="code">HH:MM</span> to <span class="code">h:MM {AM,PM}</span> like so:</p>
 <pre class="code">$_ = '18:38';
s/(\d+)\:(\d+)/{$0 % 12}\:$1 {$0 &lt; 12 ?? 'AM' !! 'PM'}/;
.say;                                 # OUTPUT: «6:38 PM␤»</pre>
 <p>Using the modulo <span class="code">%</span> operator above keeps the sample code under 80 characters, but is otherwise the same as <span class="code">$0 &lt; 12 ?? $0 !! $0 - 12 </span>. When combined with the power of the Parser Expression Grammars that <b>really</b> underlies what you're seeing here, you can use &quot;regular expressions&quot; to parse pretty much any text out there.</p>
 <a name="t42.11.5"></a><h2 id="_language_regexes.pod6-Common_adverbs">42.11.5 Common adverbs</h2>
 <p>The full list of adverbs that you can apply to regular expressions can be found elsewhere in this document (<a href="#41-Adverbs">section Adverbs</a>), but the most common are probably <span class="code">:g</span> and <span class="code">:i</span>.</p>
 <ul><li><p>Global adverb <span class="code">:g</span></p>
</li></ul> <p>Ordinarily, matches are only made once in a given string, but adding the <span class="code">:g</span> modifier overrides that behavior, so that substitutions are made everywhere possible. Substitutions are non-recursive; for example:</p>
 <pre class="code">$_ = q{I can say &quot;banana&quot; but I don't know when to stop};
s:g/na/nana,/;    # substitute 'nana,' for 'na'
.say;             # OUTPUT: «I can say &quot;banana,nana,&quot; but I don't ...␤»</pre>
 <p>Here, <span class="code">na</span> was found twice in the original string and each time there was a substitution. The substitution only applied to the original string, though. The resulting string was not impacted.</p>
 <ul><li><p>Insensitive adverb <span class="code">:i</span></p>
</li></ul> <p>Ordinarily, matches are case-sensitive. <span class="code">s/foo/bar/</span> will only match <span class="code">'foo'</span> and not <span class="code">'Foo'</span>. If the adverb <span class="code">:i</span> is used, though, matches become case-insensitive.</p>
 <pre class="code">$_ = 'Fruit';
s/fruit/vegetable/;
.say;                          # OUTPUT: «Fruit␤»

s:i/fruit/vegetable/;
.say;                          # OUTPUT: «vegetable␤»</pre>
 <p>For more information on what these adverbs are actually doing, refer to the <a href="#41-Adverbs">section Adverbs</a> section of this document.</p>
 <p>These are just a few of the transformations you can apply with the substitution operator. Some of the simpler uses in the real world include removing personal data from log files, editing MySQL timestamps into PostgreSQL format, changing copyright information in HTML files and sanitizing form fields in a web application.</p>
 <p>As an aside, novices to regular expressions often get overwhelmed and think that their regular expression needs to match every piece of data in the line, including what they want to match. Write just enough to match the data you're looking for, no more, no less.</p>
 <a name="t42.12"></a><h1 id="_language_regexes.pod6-Tilde_for_nesting_structures">42.12 <a name="595"></a>Tilde for nesting structures</h1>
 <p>The <span class="code">~</span> operator is a helper for matching nested subrules with a specific terminator as the goal. It is designed to be placed between an opening and closing bracket, like so:</p>
 <pre class="code">/ '(' ~ ')' &lt;expression&gt; /</pre>
 <p>However, it mostly ignores the left argument, and operates on the next two atoms (which may be quantified). Its operation on those next two atoms is to &quot;twiddle&quot; them so that they are actually matched in reverse order. Hence the expression above, at first blush, is merely shorthand for:</p>
 <pre class="code">/ '(' &lt;expression&gt; ')' /</pre>
 <p>But beyond that, when it rewrites the atoms it also inserts the apparatus that will set up the inner expression to recognize the terminator, and to produce an appropriate error message if the inner expression does not terminate on the required closing atom. So it really does pay attention to the left bracket as well, and it actually rewrites our example to something more like:</p>
 <pre class="code">$&lt;OPEN&gt; = '(' &lt;SETGOAL: ')'&gt; &lt;expression&gt; [ $GOAL || &lt;FAILGOAL&gt; ] 
</pre>
 <p>FAILGOAL is a special method that can be defined by the user and it will be called on parse failure:</p>
 <pre class="code">grammar A { token TOP { '[' ~ ']' \w+  };
            method FAILGOAL($goal) {
                die &quot;Cannot find $goal near position {self.pos}&quot;
            }
}

say A.parse: '[good]';  # OUTPUT: «｢[good]｣␤»
A.parse: '[bad';        # will throw FAILGOAL exception
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::AdHoc: Cannot find ']'  near position 4␤»</pre>
 <p>Note that you can use this construct to set up expectations for a closing construct even when there's no opening bracket:</p>
 <pre class="code">&quot;3)&quot;  ~~ / &lt;?&gt; ~ ')' \d+ /;  # RESULT: «｢3)｣»
&quot;(3)&quot; ~~ / &lt;?&gt; ~ ')' \d+ /;  # RESULT: «｢3)｣»</pre>
 <p>Here &lt;?&gt; returns true on the first null string.</p>
 <p>The order of the regex capture is original:</p>
 <pre class="code">&quot;abc&quot; ~~ /a ~ (c) (b)/;
say $0; # OUTPUT: «｢c｣␤»
say $1; # OUTPUT: «｢b｣␤»</pre>
 <a name="t42.13"></a><h1 id="_language_regexes.pod6-Subrules">42.13 <a name="596"></a>Subrules</h1>
 <p>Just like you can put pieces of code into subroutines, you can also put pieces of regex into named rules.</p>
 <pre class="code">my regex line { \N*\n }
if &quot;abc\ndef&quot; ~~ /&lt;line&gt; def/ {
    say &quot;First line: &quot;, $&lt;line&gt;.chomp;      # OUTPUT: «First line: abc␤»
}</pre>
 <p>A named regex can be declared with <span class="code">my regex named-regex { body here }</span>, and called with <span class="code">&lt;named-regex&gt;</span>. At the same time, calling a named regex installs a named capture with the same name.</p>
 <p>To give the capture a different name from the regex, use the syntax <span class="code">&lt;capture-name=named-regex&gt;</span>. If no capture is desired, a leading dot will suppress it: <span class="code">&lt;.named-regex&gt;</span>.</p>
 <p>Here's more complete code for parsing <span class="code">ini</span> files:</p>
 <pre class="code">my regex header { \s* '[' (\w+) ']' \h* \n+ }
my regex identifier  { \w+ }
my regex kvpair { \s* &lt;key=identifier&gt; '=' &lt;value=identifier&gt; \n+ }
my regex section {
    &lt;header&gt;
    &lt;kvpair&gt;*
}

my $contents = q:to/EOI/;
    [passwords]
        jack=password1
        joy=muchmoresecure123
    [quotas]
        jack=123
        joy=42
EOI

my %config;
if $contents ~~ /&lt;section&gt;*/ {
    for $&lt;section&gt;.list -&gt; $section {
        my %section;
        for $section&lt;kvpair&gt;.list -&gt; $p {
            %section{ $p&lt;key&gt; } = ~$p&lt;value&gt;;
        }
        %config{ $section&lt;header&gt;[0] } = %section;
    }
}
say %config.perl;

# OUTPUT: «{:passwords(${:jack(&quot;password1&quot;), :joy(&quot;muchmoresecure123&quot;)}),
#           :quotas(${:jack(&quot;123&quot;), :joy(&quot;42&quot;)})}»</pre>
 <p>Named regexes can and should be grouped in <a href="#_language_grammars.pod6">grammars</a>. A list of predefined subrules is listed in <a href="https://design.perl6.org/S05.html#Predefined_Subrules">S05-regex</a> of design documents.</p>
 <a name="t42.14"></a><h1 id="_language_regexes.pod6-Regex_Interpolation">42.14 <a name="597"></a>Regex Interpolation</h1>
 <p>If you want to build a regex using a pattern given at runtime, regex interpolation is what you are looking for.</p>
 <p>There are four ways you can interpolate a string into regex as a pattern. That is using <span class="code">$pattern</span>, <span class="code">$($pattern)</span>, <span class="code">&lt;$pattern&gt;</span> or <span class="code">&lt;{$pattern.method}&gt;</span>.</p>
 <p>If the variable to be interpolated is statically typed as a <span class="code">Str</span> or <span class="code">str</span> (like <span class="code">$pattern0</span> and <span class="code">$pattern2</span> are below) and only interpolated literally (like the first example below), than the compiler can optimize that and it runs much faster.</p>
 <pre class="code">my Str $text = 'camelia';
my Str $pattern0 = 'camelia';
my     $pattern1 = 'ailemac';
my str $pattern2 = '\w+';

say $text ~~ / $pattern0 /;                # OUTPUT: «｢camelia｣␤»
say $text ~~ / $($pattern0) /;             # OUTPUT: «｢camelia｣␤»
say $text ~~ / $($pattern1.flip) /;        # OUTPUT: «｢camelia｣␤»
say 'ailemacxflip' ~~ / $pattern1.flip /;  # OUTPUT: «｢ailemacxflip｣␤»
say '\w+' ~~ / $pattern2 /;                # OUTPUT: «｢\w+｣␤»
say '\w+' ~~ / $($pattern2) /;             # OUTPUT: «｢\w+｣␤»

say $text ~~ / &lt;{$pattern1.flip}&gt; /;       # OUTPUT: «｢camelia｣␤»
# say $text ~~ / &lt;$pattern1.flip&gt; /;       # !!Compile Error!!
say $text ~~ / &lt;$pattern2&gt; /;              # OUTPUT: «｢camelia｣␤»
say $text ~~ / &lt;{$pattern2}&gt; /;            # OUTPUT: «｢camelia｣␤»</pre>
 <p>Note that the first two syntax interpolate the string lexically, while <span class="code">&lt;$pattern&gt;</span> and <span class="code">&lt;{$pattern.method}&gt;</span> causes <a href="#_language_traps.pod6-&lt;{$x}&gt;_vs_$($x):_Implicit_EVAL">implicit EVAL</a>, which is a known trap.</p>
 <p>When an array variable is interpolated into a regex, the regex engine handles it like a <span class="code">|</span> alternative of the regex elements (see the documentation on <a href="#41-Quoted lists are LTM matches">embedded lists</a>, above). The interpolation rules for individual elements are the same as for scalars, so strings and numbers match literally, and <a href="#_type_Regex.pod6">/type/Regex</a> objects match as regexes. Just as with ordinary <span class="code">|</span> interpolation, the longest match succeeds:</p>
 <pre class="code">my @a = '2', 23, rx/a.+/;
say ('b235' ~~ /  b @a /).Str;      # OUTPUT: «b23»</pre>
 <p>The use of hash variables in regexes is preserved.</p>
 <a name="t42.14.1"></a><h2 id="_language_regexes.pod6-Regex_Boolean_condition_check">42.14.1 Regex Boolean condition check</h2>
 <p>The special operator <span class="code">&lt;?{}&gt;</span> allows the evaluation of a boolean expression that can perform a semantic evaluation of the match before the regular expression continues. In other words, it is possible to check in a boolean context a part of a regular expression and therefore invalidate the whole match (or allow it to continue) even if the match succeed from a syntactic point of view.</p>
 <p>In particular the <span class="code">&lt;?{}&gt;</span> operator requires a <span class="code">True</span> value in order to allow the regular expression to match, while its negate form <span class="code">&lt;!{}&gt;</span> requires a <span class="code">False</span> value.</p>
 <p>In order to demonstrate the above operator, please consider the following example that involves a simple IPv4 address matching:</p>
 <pre class="code">my $localhost = '127.0.0.1'; 
 my regex ipv4-octet { \d ** 1..3 &lt;?{ True }&gt; } 
 $localhost ~~ / ^ &lt;ipv4-octet&gt; ** 4 % &quot;.&quot; $ /; 
 say $/&lt;ipv4-octet&gt;;   # OUTPUT: [｢127｣ ｢0｣ ｢0｣ ｢1｣] 
</pre>
 <p>The <span class="code">octet</span> regular expression matches against a number made by one up to three digits. Each match is driven by the result of the <span class="code">&lt;?{}&gt;</span>, that being the fixed value of <span class="code">True</span> means that the regular expression match has to be always considered as good. As a counter-example, using the special constant value <span class="code">False</span> will invalidate the match even if the regular expression matches from a syntactic point of view:</p>
 <pre class="code">my $localhost = '127.0.0.1'; 
 my regex ipv4-octet { \d ** 1..3 &lt;?{ False }&gt; } 
 $localhost ~~ / ^ &lt;ipv4-octet&gt; ** 4 % &quot;.&quot; $ /; 
 say $/&lt;ipv4-octet&gt;;   # OUTPUT: Nil 
</pre>
 <p>From the above examples, it should be clear that it is possible to improve the semantic check, for instance ensuring that each <i>octet</i> is really a valid IPv4 octet:</p>
 <pre class="code">my $localhost = '127.0.0.1'; 
 my regex ipv4-octet { \d ** 1..3 &lt;?{ $/.Int &lt;= 255 &amp;&amp; $/.Int &gt;= 0 }&gt; } 
 $localhost ~~ / ^ &lt;ipv4-octet&gt; ** 4 % &quot;.&quot; $ /; 
 say $/&lt;ipv4-octet&gt;;   # OUTPUT: [｢127｣ ｢0｣ ｢0｣ ｢1｣] 
</pre>
 <p>Please note that it is not required to evaluate the regular expression in-line, but also a regular method can be called to get the boolean value:</p>
 <pre class="code">my $localhost = '127.0.0.1'; 
 sub check-octet ( Int $o ){ $o &lt;= 255 &amp;&amp; $o &gt;= 0 } 
 my regex ipv4-octet { \d ** 1..3 &lt;?{ &amp;check-octet( $/.Int ) }&gt; } 
 $localhost ~~ / ^ &lt;ipv4-octet&gt; ** 4 % &quot;.&quot; $ /; 
 say $/&lt;ipv4-octet&gt;;   # OUTPUT: [｢127｣ ｢0｣ ｢0｣ ｢1｣] 
</pre>
 <p>Of course, being <span class="code">&lt;!{}&gt;</span> the negation form of <span class="code">&lt;?{}&gt;</span> the same boolean evaluation can be rewritten in a negated form:</p>
 <pre class="code">my $localhost = '127.0.0.1'; 
 sub invalid-octet( Int $o ){ $o &lt; 0 || $o &gt; 255 } 
 my regex ipv4-octet { \d ** 1..3 &lt;!{ &amp;invalid-octet( $/.Int ) }&gt; } 
 $localhost ~~ / ^ &lt;ipv4-octet&gt; ** 4 % &quot;.&quot; $ /; 
 say $/&lt;ipv4-octet&gt;;   # OUTPUT: [｢127｣ ｢0｣ ｢0｣ ｢1｣] 
</pre>
 <a name="t42.15"></a><h1 id="_language_regexes.pod6-Adverbs">42.15 Adverbs</h1>
 <p>Adverbs modify how regexes work and provide convenient shortcuts for certain kinds of recurring tasks.</p>
 <p>There are two kinds of adverbs: regex adverbs apply at the point where a regex is defined and matching adverbs apply at the point that a regex matches against a string.</p>
 <p>This distinction often blurs, because matching and declaration are often textually close but using the method form of matching makes the distinction clear.</p>
 <p><span class="code">'abc' ~~ /../</span> is roughly equivalent to <span class="code">'abc'.match(/../)</span>, or even more clearly written in separate lines:</p>
 <pre class="code">my $regex = /../;           # definition
if 'abc'.match($regex) {    # matching
    say &quot;'abc' has at least two characters&quot;;
}</pre>
 <p>Regex adverbs like <span class="code">:i</span> go into the definition line and matching adverbs like <span class="code">:overlap</span> are appended to the match call:</p>
 <pre class="code">my $regex = /:i . a/;
for 'baA'.match($regex, :overlap) -&gt; $m {
    say ~$m;
}
# OUTPUT: «ba␤aA␤»</pre>
 <a name="t42.15.1"></a><h2 id="_language_regexes.pod6-Regex_Adverbs">42.15.1 <a name="598"></a>Regex Adverbs</h2>
 <p>Adverbs that appear at the time of a regex declaration are part of the actual regex and influence how the Perl 6 compiler translates the regex into binary code.</p>
 <p>For example, the <span class="code">:ignorecase</span> (<span class="code">:i</span>) adverb tells the compiler to ignore the distinction between upper case, lower case and title case letters.</p>
 <p>So <span class="code">'a' ~~ /A/</span> is false, but <span class="code">'a' ~~ /:i A/</span> is a successful match.</p>
 <p>Regex adverbs can come before or inside a regex declaration and only affect the part of the regex that comes afterwards, lexically. Note that regex adverbs appearing before the regex must appear after something that introduces the regex to the parser, like 'rx' or 'm' or a bare '/'. This is NOT valid:</p>
 <pre class="code">my $rx1 = :i/a/;      # adverb is before the regex is recognized =&gt; exception 
</pre>
 <p>but these are valid:</p>
 <pre class="code">my $rx1 = rx:i/a/;     # before
my $rx2 = m:i/a/;      # before
my $rx3 = /:i a/;      # inside</pre>
 <p>These two regexes are equivalent:</p>
 <pre class="code">my $rx1 = rx:i/a/;      # before
my $rx2 = rx/:i a/;     # inside</pre>
 <p>Whereas these two are not:</p>
 <pre class="code">my $rx3 = rx/a :i b/;   # matches only the b case insensitively
my $rx4 = rx/:i a b/;   # matches completely case insensitively</pre>
 <p>Brackets and parentheses limit the scope of an adverb:</p>
 <pre class="code">/ (:i a b) c /;         # matches 'ABc' but not 'ABC'
/ [:i a b] c /;         # matches 'ABc' but not 'ABC'</pre>
 <a name="t42.15.1.1"></a><h3 id="_language_regexes.pod6-Ignoremark">42.15.1.1 <a name="599"></a>Ignoremark</h3>
 <p>The <span class="code">:ignoremark</span> or <span class="code">:m</span> adverb instructs the regex engine to only compare base characters, and ignore additional marks such as combining accents:</p>
 <pre class="code">say so 'a' ~~ rx/ä/;                # OUTPUT: «False» 
 say so 'a' ~~ rx:ignoremark /ä/;    # OUTPUT: «True» 
 say so 'ỡ' ~~ rx:ignoremark /o/;    # OUTPUT: «True&gt; 
</pre>
 <a name="t42.15.1.2"></a><h3 id="_language_regexes.pod6-Ratchet">42.15.1.2 <a name="600"></a>Ratchet</h3>
 <p>The <span class="code">:ratchet</span> or <span class="code">:r</span> adverb causes the regex engine to not backtrack (see <a href="#_language_regexes.pod6-Backtracking">backtracking</a>).</p>
 <p>Without this adverb, parts of a regex will try different ways to match a string in order to make it possible for other parts of the regex to match. For example, in <span class="code">'abc' ~~ /\w+ ./</span>, the <span class="code">\w+</span> first eats up the whole string, <span class="code">abc</span> but then the <span class="code">.</span> fails. Thus <span class="code">\w+</span> gives up a character, matching only <span class="code">ab</span>, and the <span class="code">.</span> can successfully match the string <span class="code">c</span>. This process of giving up characters (or in the case of alternations, trying a different branch) is known as backtracking.</p>
 <pre class="code">say so 'abc' ~~ / \w+ . /;        # OUTPUT: «True␤»
say so 'abc' ~~ / :r \w+ . /;     # OUTPUT: «False␤»</pre>
 <p>Ratcheting can be an optimization, because backtracking is costly. But more importantly, it closely corresponds to how humans parse a text. If you have a regex <span class="code">my regex identifier { \w+ }</span> and <span class="code">my regex keyword { if | else | endif }</span>, you intuitively expect the <span class="code">identifier</span> to gobble up a whole word and not have it give up its end to the next rule, if the next rule otherwise fails.</p>
 <p>For example, you don't expect the word <span class="code">motif</span> to be parsed as the identifier <span class="code">mot</span> followed by the keyword <span class="code">if</span>. Instead, you expect <span class="code">motif</span> to be parsed as one identifier; and if the parser expects an <span class="code">if</span> afterwards, best that it should fail than have it parse the input in a way you don't expect.</p>
 <p>Since ratcheting behavior is often desirable in parsers, there's a shortcut to declaring a ratcheting regex:</p>
 <pre class="code">my token thing { .... } 
 # short for 
 my regex thing { :r ... } 
</pre>
 <a name="t42.15.1.3"></a><h3 id="_language_regexes.pod6-Sigspace">42.15.1.3 <a name="601"></a>Sigspace</h3>
 <p>The <b><span class="code">:sigspace</span></b> or <b><span class="code">:s</span></b> adverb makes whitespace significant in a regex.</p>
 <pre class="code">say so &quot;I used Photoshop®&quot;   ~~ m:i/   photo shop /;      # OUTPUT: «True␤» 
 say so &quot;I used a photo shop&quot; ~~ m:i <b>:s</b> / photo shop /;   # OUTPUT: «True␤» 
 say so &quot;I used Photoshop®&quot;   ~~ m:i <b>:s</b> / photo shop /;   # OUTPUT: «False␤» 
</pre>
 <p><span class="code">m:s/ photo shop /</span> acts the same as <span class="code">m/ photo &lt;.ws&gt; shop &lt;.ws&gt; /</span>. By default, <span class="code">&lt;.ws&gt; </span> makes sure that words are separated, so <span class="code">a b</span> and <span class="code">^&amp;</span> will match <span class="code">&lt;.ws&gt; </span> in the middle, but <span class="code">ab</span> won't.</p>
 <p>Where whitespace in a regex turns into <span class="code">&lt;.ws&gt;</span> depends on what comes before the whitespace. In the above example, whitespace in the beginning of a regex doesn't turn into <span class="code">&lt;.ws&gt;</span>, but whitespace after characters does. In general, the rule is that if a term might match something, whitespace after it will turn into <span class="code">&lt;.ws&gt;</span>.</p>
 <p>In addition, if whitespace comes after a term but <i>before</i> a quantifier (<span class="code">+</span>, <span class="code">*</span>, or <span class="code">?</span>), <span class="code">&lt;.ws&gt;</span> will be matched after every match of the term. So, <span class="code">foo +</span> becomes <span class="code">[ foo &lt;.ws&gt; ]+</span>. On the other hand, whitespace <i>after</i> a quantifier acts as normal significant whitespace; e.g., &quot;<span class="code">foo+ </span>&quot; becomes <span class="code">foo+ &lt;.ws&gt;</span>.</p>
 <p>In all, this code:</p>
 <pre class="code">rx :s { 
     ^^ 
     { 
         say &quot;No sigspace after this&quot;; 
     } 
     &lt;.assertion_and_then_ws&gt; 
     characters_with_ws_after+ 
     ws_separated_characters * 
     [ 
     | some &quot;stuff&quot; .. . 
     | $$ 
     ] 
     :my $foo = &quot;no ws after this&quot;; 
     $foo 
 } 
</pre>
 <p>Becomes:</p>
 <pre class="code">rx { 
     ^^  <b>&lt;.ws&gt;</b> 
     { 
         say &quot;No space after this&quot;; 
     } 
     &lt;.assertion_and_then_ws&gt;  <b>&lt;.ws&gt;</b> 
     characters_with_ws_after+  <b>&lt;.ws&gt;</b> 
     [ws_separated_characters  <b>&lt;.ws&gt;</b> ]*  <b>&lt;.ws&gt;</b> 
     [ 
     | some  <b>&lt;.ws&gt;</b>  &quot;stuff&quot;  <b>&lt;.ws&gt;</b>  ..  <b>&lt;.ws&gt;</b>  .  <b>&lt;.ws&gt;</b> 
     | $$  <b>&lt;.ws&gt;</b> 
     ]  <b>&lt;.ws&gt;</b> 
     :my $foo = &quot;no ws after this&quot;; 
     $foo  <b>&lt;.ws&gt;</b> 
 } 
</pre>
 <p>If a regex is declared with the <span class="code">rule</span> keyword, both the <span class="code">:sigspace</span> and <span class="code">:ratchet</span> adverbs are implied.</p>
 <p>Grammars provide an easy way to override what <span class="code">&lt;.ws&gt;</span> matches:</p>
 <pre class="code">grammar Demo {
    token ws {
        &lt;!ww&gt;       # only match when not within a word
        \h*         # only match horizontal whitespace
    }
    rule TOP {      # called by Demo.parse;
        a b '.'
    }
}

# doesn't parse, whitespace required between a and b
say so Demo.parse(&quot;ab.&quot;);                 # OUTPUT: «False␤»
say so Demo.parse(&quot;a b.&quot;);                # OUTPUT: «True␤»
say so Demo.parse(&quot;a\tb .&quot;);              # OUTPUT: «True␤»

# \n is vertical whitespace, so no match
say so Demo.parse(&quot;a\tb\n.&quot;);             # OUTPUT: «False␤»</pre>
 <p>When parsing file formats where some whitespace (for example, vertical whitespace) is significant, it's advisable to override <span class="code">ws</span>.</p>
 <a name="t42.15.1.4"></a><h3 id="_language_regexes.pod6-Perl_5_compatibility_adverb">42.15.1.4 Perl 5 compatibility adverb</h3>
 <p>The <b><span class="code">:Perl5</span></b> or <b><span class="code">:P5</span></b> adverb switch the Regex parsing and matching to the way Perl 5 regexes behave:</p>
 <pre class="code">so 'hello world' ~~ m:Perl5/^hello (world)/;   # OUTPUT: «True␤»
so 'hello world' ~~ m/^hello (world)/;         # OUTPUT: «False␤»
so 'hello world' ~~ m/^ 'hello ' ('world')/;   # OUTPUT: «True␤»</pre>
 <p>The regular behavior is recommended and more idiomatic in Perl 6 of course, but the <b><span class="code">:Perl5</span></b> adverb can be useful when compatibility with Perl5 is required.</p>
 <a name="t42.15.2"></a><h2 id="_language_regexes.pod6-Matching_adverbs">42.15.2 Matching adverbs</h2>
 <p>In contrast to regex adverbs, which are tied to the declaration of a regex, matching adverbs only make sense when matching a string against a regex.</p>
 <p>They can never appear inside a regex, only on the outside – either as part of an <span class="code">m/.../</span> match or as arguments to a match method.</p>
 <a name="t42.15.2.1"></a><h3 id="_language_regexes.pod6-Continue">42.15.2.1 <a name="602"></a>Continue</h3>
 <p>The <span class="code">:continue</span> or short <span class="code">:c</span> adverb takes an argument. The argument is the position where the regex should start to search. By default, it searches from the start of the string, but <span class="code">:c</span> overrides that. If no position is specified for <span class="code">:c</span>, it will default to <span class="code">0</span> unless <span class="code">$/</span> is set, in which case, it defaults to <span class="code">$/.to</span>.</p>
 <pre class="code">given 'a1xa2' {
    say ~m/a./;         # OUTPUT: «a1␤»
    say ~m:c(2)/a./;    # OUTPUT: «a2␤»
}</pre>
 <p><i>Note:</i> unlike <span class="code">:pos</span>, a match with :continue() will attempt to match further in the string, instead of failing:</p>
 <pre class="code">say &quot;abcdefg&quot; ~~ m:c(3)/e.+/; # OUTPUT: «｢efg｣␤»
say &quot;abcdefg&quot; ~~ m:p(3)/e.+/; # OUTPUT: «False␤»</pre>
 <a name="t42.15.2.2"></a><h3 id="_language_regexes.pod6-Exhaustive">42.15.2.2 <a name="603"></a>Exhaustive</h3>
 <p>To find all possible matches of a regex – including overlapping ones – and several ones that start at the same position, use the <span class="code">:exhaustive</span> (short <span class="code">:ex</span>) adverb.</p>
 <pre class="code">given 'abracadabra' {
    for m:exhaustive/ a .* a / -&gt; $match {
        say ' ' x $match.from, ~$match;
    }
}</pre>
 <p>The above code produces this output:</p>
 <pre class="code">abracadabra 
 abracada 
 abraca 
 abra 
    acadabra 
    acada 
    aca 
      adabra 
      ada 
        abra 
</pre>
 <a name="t42.15.2.3"></a><h3 id="_language_regexes.pod6-Global">42.15.2.3 <a name="604"></a>Global</h3>
 <p>Instead of searching for just one match and returning a <a href="#_type_Match.pod6">Match object</a>, search for every non-overlapping match and return them in a <a href="#_type_List.pod6">List</a>. In order to do this, use the <span class="code">:global</span> adverb:</p>
 <pre class="code">given 'several words here' {
    my @matches = m:global/\w+/;
    say @matches.elems;         # OUTPUT: «3␤»
    say ~@matches[2];           # OUTPUT: «here␤»
}</pre>
 <p><span class="code">:g</span> is shorthand for <span class="code">:global</span>.</p>
 <a name="t42.15.2.4"></a><h3 id="_language_regexes.pod6-Pos">42.15.2.4 <a name="605"></a>Pos</h3>
 <p>Anchor the match at a specific position in the string:</p>
 <pre class="code">given 'abcdef' {
    my $match = m:pos(2)/.*/;
    say $match.from;        # OUTPUT: «2␤»
    say ~$match;            # OUTPUT: «cdef␤»
}</pre>
 <p><span class="code">:p</span> is shorthand for <span class="code">:pos</span>.</p>
 <p><i>Note:</i> unlike <span class="code">:continue</span>, a match anchored with :pos() will fail, instead of attempting to match further down the string:</p>
 <pre class="code">say &quot;abcdefg&quot; ~~ m:c(3)/e.+/; # OUTPUT: «｢efg｣␤»
say &quot;abcdefg&quot; ~~ m:p(3)/e.+/; # OUTPUT: «False␤»</pre>
 <a name="t42.15.2.5"></a><h3 id="_language_regexes.pod6-Overlap">42.15.2.5 <a name="606"></a>Overlap</h3>
 <p>To get several matches, including overlapping matches, but only one (the longest) from each starting position, specify the <span class="code">:overlap</span> (short <span class="code">:ov</span>) adverb:</p>
 <pre class="code">given 'abracadabra' {
    for m:overlap/ a .* a / -&gt; $match {
        say ' ' x $match.from, ~$match;
    }
}</pre>
 <p>produces</p>
 <pre class="code">abracadabra 
    acadabra 
      adabra 
        abra 
</pre>
 <a name="t42.15.3"></a><h2 id="_language_regexes.pod6-Substitution_Adverbs">42.15.3 Substitution Adverbs</h2>
 <p>You can apply matching adverbs (such as <span class="code">:global</span>, <span class="code">:pos</span> etc.) to substitutions. In addition, there are adverbs that only make sense for substitutions, because they transfer a property from the matched string to the replacement string.</p>
 <a name="t42.15.3.1"></a><h3 id="_language_regexes.pod6-Samecase">42.15.3.1 <a name="607"></a>Samecase</h3>
 <p>The <span class="code">:samecase</span> or <span class="code">:ii</span> substitution adverb implies the <span class="code">:ignorecase</span> adverb for the regex part of the substitution, and in addition carries the case information to the replacement string:</p>
 <pre class="code">$_ = 'The cat chases the dog'; 
 s:global:samecase[the] = 'a'; 
 say $_;                 # OUTPUT: «A cat chases a dog» 
</pre>
 <p>Here you can see that the first replacement string <span class="code">a</span> got capitalized, because the first string of the matched string was also a capital letter.</p>
 <a name="t42.15.3.2"></a><h3 id="_language_regexes.pod6-Samemark">42.15.3.2 <a name="608"></a>Samemark</h3>
 <p>The <span class="code">:samemark</span> or <span class="code">:mm</span> adverb implies <span class="code">:ignoremark</span> for the regex, and in addition, copies the markings from the matched characters to the replacement string:</p>
 <pre class="code">given 'äộñ' { 
     say S:mm/ a .+ /uia/;           # OUTPUT: «üị̂ã» 
 } 
</pre>
 <a name="t42.15.3.3"></a><h3 id="_language_regexes.pod6-Samespace">42.15.3.3 <a name="609"></a>Samespace</h3>
 <p>The <span class="code">:samespace</span> or <span class="code">:ss</span> substitution modifier implies the <span class="code">:sigspace</span> modifier for the regex, and in addition, copies the whitespace from the matched string to the replacement string:</p>
 <pre class="code">say S:samespace/a ./c d/.perl given &quot;a b&quot;;      # OUTPUT: «&quot;c d&quot;» 
 say S:samespace/a ./c d/.perl given &quot;a\tb&quot;;     # OUTPUT: «&quot;c\td&quot;» 
 say S:samespace/a ./c d/.perl given &quot;a\nb&quot;;     # OUTPUT: «&quot;c\nd&quot;» 
</pre>
 <p>The <span class="code">ss/.../.../</span> syntactic form is a shorthand for <span class="code">s:samespace/.../.../</span>.</p>
 <a name="t42.16"></a><h1 id="_language_regexes.pod6-Best_practices_and_gotchas">42.16 Best practices and gotchas</h1>
 <p>To help with robust regexes and grammars, here are some best practices for code layout and readability, what to actually match, and avoiding common pitfalls.</p>
 <a name="t42.16.1"></a><h2 id="_language_regexes.pod6-Code_layout">42.16.1 Code layout</h2>
 <p>Without the <span class="code">:sigspace</span> adverb, whitespace is not significant in Perl 6 regexes. Use that to your own advantage and insert whitespace where it increases readability. Also, insert comments where necessary.</p>
 <p>Compare the very compact</p>
 <pre class="code">my regex float { &lt;[+-]&gt;?\d*'.'\d+[e&lt;[+-]&gt;?\d+]? }</pre>
 <p>to the more readable</p>
 <pre class="code">my regex float {
     &lt;[+-]&gt;?        # optional sign
     \d*            # leading digits, optional
     '.'
     \d+
     [              # optional exponent
        e &lt;[+-]&gt;?  \d+
     ]?
}</pre>
 <p>As a rule of thumb, use whitespace around atoms and inside groups; put quantifiers directly after the atom; and vertically align opening and closing brackets and parentheses.</p>
 <p>When you use a list of alternations inside a parenthesis or brackets, align the vertical bars:</p>
 <pre class="code">my regex example {
    &lt;preamble&gt;
    [
    || &lt;choice_1&gt;
    || &lt;choice_2&gt;
    || &lt;choice_3&gt;
    ]+
    &lt;postamble&gt;
}</pre>
 <a name="t42.16.2"></a><h2 id="_language_regexes.pod6-Keep_it_small">42.16.2 Keep it small</h2>
 <p>Regexes are often more compact than regular code. Because they do so much with so little, keep regexes short.</p>
 <p>When you can name a part of a regex, it's usually best to put it into a separate, named regex.</p>
 <p>For example, you could take the float regex from earlier:</p>
 <pre class="code">my regex float {
     &lt;[+-]&gt;?        # optional sign
     \d*            # leading digits, optional
     '.'
     \d+
     [              # optional exponent
        e &lt;[+-]&gt;?  \d+
     ]?
}</pre>
 <p>And decompose it into parts:</p>
 <pre class="code">my token sign { &lt;[+-]&gt; }
my token decimal { \d+ }
my token exponent { 'e' &lt;sign&gt;? &lt;decimal&gt; }
my regex float {
    &lt;sign&gt;?
    &lt;decimal&gt;?
    '.'
    &lt;decimal&gt;
    &lt;exponent&gt;?
}</pre>
 <p>That helps, especially when the regex becomes more complicated. For example, you might want to make the decimal point optional in the presence of an exponent.</p>
 <pre class="code">my regex float {
    &lt;sign&gt;?
    [
    || &lt;decimal&gt;?  '.' &lt;decimal&gt; &lt;exponent&gt;?
    || &lt;decimal&gt; &lt;exponent&gt;
    ]
}</pre>
 <a name="t42.16.3"></a><h2 id="_language_regexes.pod6-What_to_match">42.16.3 What to match</h2>
 <p>Often the input data format has no clear-cut specification, or the specification is not known to the programmer. Then, it's good to be liberal in what you expect, but only so long as there are no possible ambiguities.</p>
 <p>For example, in <span class="code">ini</span> files:</p>
 <pre class="code">[section] 
 key=value 
</pre>
 <p>What can be inside the section header? Allowing only a word might be too restrictive. Somebody might write <span class="code">[two words]</span>, or use dashes, etc. Instead of asking what's allowed on the inside, it might be worth asking instead: <i>what's not allowed?</i></p>
 <p>Clearly, closing brackets are not allowed, because <span class="code">[a]b]</span> would be ambiguous. By the same argument, opening brackets should be forbidden. This leaves us with</p>
 <pre class="code">token header { '[' &lt;-[ \[\] ]&gt;+ ']' }</pre>
 <p>which is fine if you are only processing one line. But if you're processing a whole file, suddenly the regex parses</p>
 <pre class="code">[with a 
 newline in between] 
</pre>
 <p>which might not be a good idea. A compromise would be</p>
 <pre class="code">token header { '[' &lt;-[ \[\] \n ]&gt;+ ']' }</pre>
 <p>and then, in the post-processing, strip leading and trailing spaces and tabs from the section header.</p>
 <a name="t42.16.4"></a><h2 id="_language_regexes.pod6-Matching_Whitespace">42.16.4 Matching Whitespace</h2>
 <p>The <span class="code">:sigspace</span> adverb (or using the <span class="code">rule</span> declarator instead of <span class="code">token</span> or <span class="code">regex</span>) is very handy for implicitly parsing whitespace that can appear in many places.</p>
 <p>Going back to the example of parsing <span class="code">ini</span> files, we have</p>
 <pre class="code">my regex kvpair { \s* &lt;key=identifier&gt; '=' &lt;value=identifier&gt; \n+ }</pre>
 <p>which is probably not as liberal as we want it to be, since the user might put spaces around the equals sign. So, then we may try this:</p>
 <pre class="code">my regex kvpair { \s* &lt;key=identifier&gt; \s* '=' \s* &lt;value=identifier&gt; \n+ }</pre>
 <p>But that's looking unwieldy, so we try something else:</p>
 <pre class="code">my rule kvpair { &lt;key=identifier&gt; '=' &lt;value=identifier&gt; \n+ }</pre>
 <p>But wait! The implicit whitespace matching after the value uses up all whitespace, including newline characters, so the <span class="code">\n+</span> doesn't have anything left to match (and <span class="code">rule</span> also disables backtracking, so no luck there).</p>
 <p>Therefore, it's important to redefine your definition of implicit whitespace to whitespace that is not significant in the input format.</p>
 <p>This works by redefining the token <span class="code">ws</span>; however, it only works for <a href="#_language_grammars.pod6">grammars</a>:</p>
 <pre class="code">grammar IniFormat {
    token ws { &lt;!ww&gt; \h* }
    rule header { \s* '[' (\w+) ']' \n+ }
    token identifier  { \w+ }
    rule kvpair { \s* &lt;key=identifier&gt; '=' &lt;value=identifier&gt; \n+ }
    token section {
        &lt;header&gt;
        &lt;kvpair&gt;*
    }

    token TOP {
        &lt;section&gt;*
    }
}

my $contents = q:to/EOI/;
    [passwords]
        jack = password1
        joy = muchmoresecure123
    [quotas]
        jack = 123
        joy = 42
EOI
say so IniFormat.parse($contents);</pre>
 <p>Besides putting all regexes into a grammar and turning them into tokens (because they don't need to backtrack anyway), the interesting new bit is</p>
 <pre class="code">token ws { &lt;!ww&gt; \h* }</pre>
 <p>which gets called for implicit whitespace parsing. It matches when it's not between two word characters (<span class="code">&lt;!ww&gt; </span>, negated &quot;within word&quot; assertion), and zero or more horizontal space characters. The limitation to horizontal whitespace is important, because newlines (which are vertical whitespace) delimit records and shouldn't be matched implicitly.</p>
 <p>Still, there's some whitespace-related trouble lurking. The regex <span class="code">\n+</span> won't match a string like <span class="code">&quot;\n \n&quot;</span>, because there's a blank between the two newlines. To allow such input strings, replace <span class="code">\n+</span> with <span class="code">\n\s*</span>.</p>
 <a name="t42.17"></a><h1 id="_language_regexes.pod6-Backtracking">42.17 Backtracking</h1>
 <p>Perl 6 defaults to <i>backtracking</i> when evaluating regular expressions. Backtracking is a technique that allows the engine to try different matching in order to allow every part of a regular expression to succeed. This is costly, because it requires the engine to usually eat up as much as possible in the first match and then adjust going backwards in order to ensure all regular expression parts have a chance to match.</p>
 <p>In order to better understand backtracking, consider the following example:</p>
 <pre class="code">my $string = 'PostgreSQL is an SQL database!'; 
 say $string ~~ /(.+)(SQL) (.+) $1/; # OUTPUT: ｢PostgreSQL is an SQL｣ 
</pre>
 <p>What happens in the above example is that the string has to be matched against the second occurrence of the word <i>SQL</i>, eating all characters before and leaving out the rest.</p>
 <p>Since it is possible to execute a piece of code within a regular expression, it is also possible to inspect the <a href="#_type_Match.pod6">Match</a> object within the regular expression itself:</p>
 <pre class="code">my $iteration = 0; 
 sub show-captures( Match $m ){ 
     my Str $result_split; 
     say &quot;\n=== Iteration {++$iteration} ===&quot;; 
     for $m.list.kv -&gt; $i, $capture { 
         say &quot;Capture $i = $capture&quot;; 
         $result_split ~= '[' ~ $capture ~ ']'; 
     } 
 
     say $result_split; 
 } 
 
 $string ~~ /(.+)(SQL) (.+) $1 (.+) { show-captures( $/ );  }/; 
</pre>
 <p>The <span class="code">show-captures</span> method will dump all the elements of <span class="code">$/</span> producing the following output:</p>
 <pre class="code">=== Iteration 1 === 
 Capture 0 = Postgre 
 Capture 1 = SQL 
 Capture 2 =  is an 
 [Postgre][SQL][ is an ] 
</pre>
 <p>showing that the string has been split around the second occurrence of <i>SQL</i>, that is the repetition of the first capture (<span class="code">$/[1]</span>).</p>
 <p>With that in place, it is now possible to see how the engine backtracks to find the above match: it does suffice to move the <span class="code">show-captures</span> in the middle of the regular expression, in particular before the repetition of the first capture <span class="code">$1</span> to see it in action:</p>
 <pre class="code">my $iteration = 0; 
 sub show-captures( Match $m ){ 
     my Str $result-split; 
     say &quot;\n=== Iteration {++$iteration} ===&quot;; 
     for $m.list.kv -&gt; $i, $capture { 
         say &quot;Capture $i = $capture&quot;; 
         $result-split ~= '[' ~ $capture ~ ']'; 
     } 
 
     say $result-split; 
 } 
 
 $string ~~ / (.+)(SQL) (.+) { show-captures( $/ );  } $1 /; 
</pre>
 <p>The output will be much more verbose and will show several iterations, with the last one being the <i>winning</i>. The following is an excerpt of the output:</p>
 <pre class="code">=== Iteration 1 === 
 Capture 0 = PostgreSQL is an 
 Capture 1 = SQL 
 Capture 2 =  database! 
 [PostgreSQL is an ][SQL][ database!] 
 
 === Iteration 2 === 
 Capture 0 = PostgreSQL is an 
 Capture 1 = SQL 
 Capture 2 =  database 
 [PostgreSQL is an ][SQL][ database] 
 
 ... 
 
 === Iteration 24 === 
 Capture 0 = Postgre 
 Capture 1 = SQL 
 Capture 2 =  is an 
 [Postgre][SQL][ is an ] 
</pre>
 <p>In the first iteration the <i>SQL</i> part of <i>PostgreSQL</i> is kept within the word: that is not what the regular expression asks for, so there's the need for another iteration. The second iteration will move back, in particular one character back (removing thus the final <i>!</i>) and try to match again, resulting in a fail since again the <i>SQL</i> is still kept within <i>PostgreSQL</i>. After several iterations, the final result is match.</p>
 <p>It is worth noting that the final iteration is number <i>24</i>, and that such number is exactly the distance, in number of chars, from the end of the string to the first <i>SQL</i> occurrence:</p>
 <pre class="code">say $string.chars - $string.index: 'SQL'; # OUTPUT: 23 
</pre>
 <p>Since there are 23 chars from the very end of the string to the very first <i>S</i> of <i>SQL</i> the backtracking engine will need 23 &quot;useless&quot; matches to find the right one, that is will need 24 steps to get the final result.</p>
 <p>Backtracking is a costly machinery, therefore it is possible to disable it in those cases where the matching can be found <i>forward</i> only.</p>
 <p>With regards to the above example, disabling backtracking means the regular expression will not have any chance to match:</p>
 <pre class="code">say $string ~~ /(.+)(SQL) (.+) $1/;      # OUTPUT: ｢PostgreSQL is an SQL｣ 
 say $string ~~ / :r (.+)(SQL) (.+) $1/;  # OUTPUT: Nil 
</pre>
 <p>The fact is that, as shown in the <i>iteration 1</i> output, the first match of the regular expression engine will be <span class="code">PostgreSQL is an </span>, <span class="code">SQL</span>, <span class="code">database</span> that does not leave out any room for matching another occurrence of the word <i>SQL</i> (as <span class="code">$1</span> in the regular expression). Since the engine is not able to get backward and change the path to match, the regular expression fails.</p>
 <p>It is worth noting that disabling backtracking will not prevent the engine to try several ways to match the regular expression. Consider the following slightly changed example:</p>
 <pre class="code">my $string = 'PostgreSQL is an SQL database!'; 
 say $string ~~ / (SQL) (.+) $1 /; # OUTPUT: Nil 
</pre>
 <p>Since there is no specification for a character before the word <i>SQL</i>, the engine will match against the rightmost word <i>SQL</i> an go forward from there. Since there is no repetition of <i>SQL</i> remaining, the match fails. It is possible, again, to inspect what the engine performs introducing a dumping piece of code within the regular expression:</p>
 <pre class="code">my $iteration = 0; 
 sub show-captures( Match $m ){ 
     my Str $result-split; 
     say &quot;\n=== Iteration {++$iteration} ===&quot;; 
     for $m.list.kv -&gt; $i, $capture { 
         say &quot;Capture $i = $capture&quot;; 
         $result-split ~= '[' ~ $capture ~ ']'; 
     } 
 
     say $result-split; 
 } 
 
 $string ~~ / (SQL) (.+) { show-captures( $/ ); } $1 /; 
</pre>
 <p>that produces a rather simple output:</p>
 <pre class="code">=== Iteration 1 === 
 Capture 0 = SQL 
 Capture 1 =  is an SQL database! 
 [SQL][ is an SQL database!] 
 
 === Iteration 2 === 
 Capture 0 = SQL 
 Capture 1 =  database! 
 [SQL][ database!] 
</pre>
 <p>Even using the <a href="#_language_regexes.pod6-ratchet">:r</a> adverb to prevent backtracking will not change things:</p>
 <pre class="code">my $iteration = 0; 
 sub show-captures( Match $m ){ 
     my Str $result-split; 
     say &quot;\n=== Iteration {++$iteration} ===&quot;; 
     for $m.list.kv -&gt; $i, $capture { 
         say &quot;Capture $i = $capture&quot;; 
         $result-split ~= '[' ~ $capture ~ ']'; 
     } 
 
     say $result-split; 
 } 
 
 $string ~~ / :r (SQL) (.+) { show-captures( $/ ); } $1 /; 
</pre>
 <p>and the output will remain the same:</p>
 <pre class="code">=== Iteration 1 === 
 Capture 0 = SQL 
 Capture 1 =  is an SQL database! 
 [SQL][ is an SQL database!] 
 
 === Iteration 2 === 
 Capture 0 = SQL 
 Capture 1 =  database! 
 [SQL][ database!] 
</pre>
 <p>This demonstrate that disabling backtracking does not mean disabling possible multiple iterations of the matching engine, but rather disabling the backward matching tuning.</p>
 <a name="t42.18"></a><h1 id="_language_regexes.pod6-$/_changes_each_time_a_regular_expression_is_matched">42.18 <span class="code">$/</span> changes each time a regular expression is matched</h1>
 <p>It is worth noting that each time a regular expression is used, the <a href="#_type_Match.pod6">Match object</a> returned (i.e., <span class="code">$/</span>) is reset. In other words, <span class="code">$/</span> always refers to the very last regular expression matched:</p>
 <pre class="code">my $answer = 'a lot of Stuff'; 
 say 'Hit a capital letter!' if $answer ~~ / &lt;[A..Z&gt;]&gt; /; 
 say $/;  # OUTPUT: ｢S｣ 
 say 'hit an x!' if $answer ~~ / x /; 
 say $/;  # OUTPUT: Nil 
</pre>
 <p>The reset of <span class="code">$/</span> applies independently from the scope where the regular expression is matched:</p>
 <pre class="code">my $answer = 'a lot of Stuff'; 
 if $answer ~~ / &lt;[A..Z&gt;]&gt; / { 
    say 'Hit a capital letter'; 
    say $/;  # OUTPUT: ｢S｣ 
 } 
 say $/;  # OUTPUT: ｢S｣ 
 
 if True { 
   say 'hit an x!' if $answer ~~ / x /; 
   say $/;  # OUTPUT: Nil 
 } 
 
 say $/;  # OUTPUT: Nil 
</pre>
 <p>The very same concept applies to named captures:</p>
 <pre class="code">my $answer = 'a lot of Stuff'; 
 if $answer ~~ / $&lt;capital&gt;=&lt;[A..Z&gt;]&gt; / { 
    say 'Hit a capital letter'; 
    say $/&lt;capital&gt;; # OUTPUT: ｢S｣ 
 } 
 
 say $/&lt;capital&gt;;    # OUTPUT: ｢S｣ 
 say 'hit an x!' if $answer ~~ / $&lt;x&gt;=x /; 
 say $/&lt;x&gt;;          # OUTPUT: Nil 
 say $/&lt;capital&gt;;    # OUTPUT: Nil 
</pre>
</div>
<!-- /language/setbagmix.pod6 --><div class="pod-body"><a id="_language_setbagmix.pod6"></a><a name="t43"><h1 class="title">43 Sets, Bags, and Mixes</h1></a> <p class="subtitle">Unordered collections of unique and weighted objects in Perl 6</p> <p>Often you want to collect objects in a container but you do not care about the order of these objects. For such cases, Perl 6 provides the <i>unordered</i> collection types <a href="#_type_Set.pod6">Set</a>, <a href="#_type_SetHash.pod6">SetHash</a>, <a href="#_type_Bag.pod6">Bag</a>, <a href="#_type_BagHash.pod6">BagHash</a>, <a href="#_type_Mix.pod6">Mix</a>, and <a href="#_type_MixHash.pod6">MixHash</a>. Being unordered, these containers can be more efficient than <a href="#_type_List.pod6">Lists</a> for looking up elements or dealing with repeated items.</p>
 <p>If you want to get the contained objects (elements) <b>without duplicates</b> and you only care <i>whether</i> an element is in the collection or not, you can use a <a href="#_type_Set.pod6">Set</a> or <a href="#_type_SetHash.pod6">SetHash</a>. If you want to get rid of duplicates but still preserve order, take a look at the <a href="#_routine_unique.pod6">unique</a> routine for <a href="#_type_List.pod6">List</a>.</p>
 =defn  Set or SetHash
Collection of distinct objects
 <p>If you want to keep track of the <b>number of times each object appeared</b>, you can use a <a href="#_type_Bag.pod6">Bag</a> or <a href="#_type_BagHash.pod6">BagHash</a>. In these Baggy containers each element has a weight (an unsigned integer) indicating the number of times the same object has been included in the collection.</p>
 <p>The types <a href="#_type_Mix.pod6">Mix</a> and <a href="#_type_MixHash.pod6">MixHash</a> are similar to <a href="#_type_Bag.pod6">Bag</a> and <a href="#_type_BagHash.pod6">BagHash</a>, but they also allow <b>fractional weights</b>.</p>
 =defn  Bag or BagHash
Collection of distinct objects mapped to integer weights

=defn  Mix or MixHash
Collection of distinct objects mapped to real-number weights
 TODO: Partial type graph showing only QuantHash, Setty, Baggy, Mixy, Set,
      SetHash, Bag, BagHash, Mix, MixHash.
 <p><a href="#_type_Set.pod6">Set</a>, <a href="#_type_Bag.pod6">Bag</a>, and <a href="#_type_Mix.pod6">Mix</a> are <i>immutable</i> types. Use the mutable variants <a href="#_type_SetHash.pod6">SetHash</a>, <a href="#_type_BagHash.pod6">BagHash</a>, and <a href="#_type_MixHash.pod6">MixHash</a> if you want to add or remove elements after the container has been constructed.</p>
 <p>The six collection classes <span class="code">Set</span>, <span class="code">SetHash</span>, <span class="code">Bag</span>, <span class="code">BagHash</span>, <span class="code">Mix</span>, <span class="code">MixHash</span>, all share similar semantics.</p>
 <p>For one thing, as far as they are concerned, identical objects refer to the same element – where identity is determined using the <a href="#_routine_WHICH.pod6">WHICH</a> method (i.e. the same way that the <a href="===">===</a> operator checks identity). For value types like <span class="code">Str</span>, this means having the same value; for reference types like <span class="code">Array</span>, it means referring to the same object instance.</p>
 <p>Secondly, they provide a Hash-like interface where the actual elements of the collection (which can be objects of any type) are the 'keys', and the associated weights are the 'values':</p>
 <table>
<tr><th>type of $a</th> <th>value of $a{$b} if $b is an element</th> <th>value of $a{$b} if $b is not an element</th></tr>
<tr><td>Set / SetHash</td> <td>True</td> <td>False</td></tr>
 <tr><td>Bag / BagHash</td> <td>a positive integer</td> <td>0</td></tr>
 <tr><td>Mix / MixHash</td> <td>a non-zero real number</td> <td>0</td></tr>
</table> <a name="t43.1"></a><h1 id="_language_setbagmix.pod6-Set/Bag_Operators">43.1 Set/Bag Operators</h1>
 TODO: Update this after ab5tract's set/bag/mix operator redesign.
 <p>There are several infixes devoted to performing common operations on <a href="#_type_Set.pod6">Set</a>, such as unions and set differences. Other operations include boolean checks, like whether an object is an element of a <span class="code">Set</span>, or whether one <span class="code">Set</span> is a subset of another <span class="code">Set</span>.</p>
 <p>These infixes can be written using the UTF-8 character that represents the function (like <a href="#_routine_∈.pod6">∈</a>, or <a href="#_routine_∪.pod6">∪</a>), or they can be written with an equivalent ASCII version like <a href="#_routine_(elem).pod6">(elem)</a> or <a href="#_routine_⊖.pod6">(^)</a>.</p>
 <p>Most of the time, explicitly using <span class="code">Set</span> objects with these infixes is unnecessary. All the infix operators will work on any objects of type <a href="#_type_Any.pod6">Any</a> for its arguments (e.g., <a href="#_type_List.pod6">List</a>, <a href="#_type_Array.pod6">Array</a>, <a href="#_type_Mix.pod6">Mix</a>, etc.) and coerce them to <span class="code">Set</span> where needed.</p>
 <p>In some cases, if the type of an argument is a <a href="#_type_Bag.pod6">Bag</a>, the infix operator will behave in a different but analogous way to the way it would behave with only <span class="code">Set</span> arguments.</p>
 <a name="t43.1.1"></a><h2 id="_language_setbagmix.pod6-Operators_that_return_Bool">43.1.1 Operators that return <span class="code">Bool</span></h2>
 <p>Operators below are all precedence &quot;Chaining infix&quot;.</p>
 <a name="t43.1.1.1"></a><h3 id="_language_setbagmix.pod6-infix_(elem)">43.1.1.1 infix (elem)</h3>
 <pre class="code">multi sub infix:&lt;(elem)&gt;($a, Any $b --&gt; Bool)
multi sub infix:&lt;(elem)&gt;($a, Set $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="610" name="">Membership operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> is an <b>element</b> of <span class="code">$b</span>.</p>
 <pre class="code">say 2 (elem) (1, 2, 3).Set;              # OUTPUT: «True␤»
say 4 (elem) (1, 2, 3).Set;              # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.2"></a><h3 id="_language_setbagmix.pod6-infix_∈">43.1.1.2 infix ∈</h3>
 <pre class="code">only sub infix:&lt;∈&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate membership operator.</p>
 <p>Equivalent to <a href="#_routine_(elem).pod6">(elem)</a>, at codepoint U+2208 (ELEMENT OF).</p>
 <a name="t43.1.1.3"></a><h3 id="_language_setbagmix.pod6-infix_∉">43.1.1.3 infix ∉</h3>
 <pre class="code">only sub infix:&lt;∉&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="611" name="">Non-membership operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(elem)</span>, i.e., returns <span class="code">True</span> if <span class="code">$a</span> is not an element of <span class="code">$b</span>, at codepoint U+2209 (NOT AN ELEMENT OF).</p>
 <pre class="code">say 2 !(elem) (1, 2, 3).Set;             # OUTPUT: «False␤»
say 4 !(elem) (1, 2, 3).Set;             # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.4"></a><h3 id="_language_setbagmix.pod6-infix_(cont)">43.1.1.4 infix (cont)</h3>
 <pre class="code">multi sub infix:&lt;(cont)&gt;(Any $a, $b --&gt; Bool)
multi sub infix:&lt;(cont)&gt;(Set $a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="612" name="">Contains operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> <b>contains</b> <span class="code">$b</span> as an element.</p>
 <pre class="code">say (1, 2, 3).Set (cont) 2;              # OUTPUT: «True␤»
say (1, 2, 3).Set (cont) 4;              # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.5"></a><h3 id="_language_setbagmix.pod6-infix_∋">43.1.1.5 infix ∋</h3>
 <pre class="code">only sub infix:&lt;∋&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate contains operator.</p>
 <p>Equivalent to <a href="#_routine_(cont).pod6">(cont)</a>, at codepoint U+220B (CONTAINS AS MEMBER).</p>
 <a name="t43.1.1.6"></a><h3 id="_language_setbagmix.pod6-infix_∌">43.1.1.6 infix ∌</h3>
 <pre class="code">only sub infix:&lt;∌&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="613" name="">Does not contain operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(cont)</span>, i.e., returns <span class="code">True</span> if <span class="code">$a</span> does not contain <span class="code">$b</span>, at codepoint U+220C (DOES NOT CONTAIN AS MEMBER).</p>
 <pre class="code">say (1, 2, 3).Set !(cont) 2;             # OUTPUT: «False␤»
say (1, 2, 3).Set !(cont) 4;             # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.7"></a><h3 id="_language_setbagmix.pod6-infix_(&lt;=)">43.1.1.7 infix (&lt;=)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&lt;=)&gt;&gt;(Any $a, Any $b --&gt; Bool)
multi sub infix:&lt;&lt;(&lt;=)&gt;&gt;(Setty $a, Setty $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="614" name="">Subset of or equal to operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> is a <b>subset</b> or is equal to <span class="code">$b</span>, i.e., if all the elements of <span class="code">$a</span> are elements of <span class="code">$b</span> and <span class="code">$a</span> is a smaller or equal sized set than <span class="code">$b</span>.</p>
 <pre class="code">say (1, 2, 3).Set (&lt;=) (3, 2, 1).Set;    # OUTPUT: «True␤»
say (1, 3).Set (&lt;=) (2, 1).Set;          # OUTPUT: «False␤»
say ∅ (&lt;=) (3, 2, 1).Set;                # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.8"></a><h3 id="_language_setbagmix.pod6-infix_⊆">43.1.1.8 infix ⊆</h3>
 <pre class="code">only sub infix:&lt;⊆&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate subset of or equal to operator.</p>
 <p>Equivalent to <a href="(&amp;lt;=)">(&lt;=)</a>, at codepoint U+2286 (SUBSET OF OR EQUAL TO).</p>
 <a name="t43.1.1.9"></a><h3 id="_language_setbagmix.pod6-infix_⊈">43.1.1.9 infix ⊈</h3>
 <pre class="code">only sub infix:&lt;⊈&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="615" name="">Neither subset of nor equal to operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(&lt;=)</span>, at codepoint U+2288 (NEITHER A SUBSET OF NOR EQUAL TO).</p>
 <pre class="code">say (1, 2, 3).Set !(&lt;=) (3, 2, 1).Set;   # OUTPUT: «False␤»
say (1, 3).Set ⊈ (2, 1).Set;             # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.10"></a><h3 id="_language_setbagmix.pod6-infix_(&lt;)">43.1.1.10 infix (&lt;)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&lt;)&gt;&gt;(Any $a, Any $b --&gt; Bool)
multi sub infix:&lt;&lt;(&lt;)&gt;&gt;(Setty $a, Setty $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="616" name="">Subset of operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> is a <b>strict subset</b> of <span class="code">$b</span>, i.e., that all the elements of <span class="code">$a</span> are elements of <span class="code">$b</span> but <span class="code">$a</span> is a smaller set than <span class="code">$b</span>.</p>
 <pre class="code">say (1, 2, 3).Set (&lt;) (3, 2, 1).Set;     # OUTPUT: «False␤»
say (1, 3).Set (&lt;) (3, 2, 1).Set;        # OUTPUT: «True␤»
say ∅ (&lt;) (3, 2, 1).Set;                 # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.11"></a><h3 id="_language_setbagmix.pod6-infix_⊂">43.1.1.11 infix ⊂</h3>
 <pre class="code">only sub infix:&lt;⊂&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate subset of operator.</p>
 <p>Equivalent to <a href="(&amp;lt;)">(&lt;)</a>, at codepoint U+2282 (SUBSET OF).</p>
 <a name="t43.1.1.12"></a><h3 id="_language_setbagmix.pod6-infix_⊄">43.1.1.12 infix ⊄</h3>
 <pre class="code">only sub infix:&lt;⊄&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="617" name="">Not a subset of operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(&lt;)</span>, at codepoint U+2284 (NOT A SUBSET OF).</p>
 <pre class="code">say (1, 2, 3).Set !(&lt;) (3, 2, 1).Set;    # OUTPUT: «True␤»
say (1, 3).Set ⊄ (3, 2, 1).Set;          # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.13"></a><h3 id="_language_setbagmix.pod6-infix_(&gt;=)">43.1.1.13 infix (&gt;=)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&gt;=)&gt;&gt;(Any $a, Any $b --&gt; Bool)
multi sub infix:&lt;&lt;(&gt;=)&gt;&gt;(Setty $a, Setty $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="618" name="">Superset of or equal to operator</a></span>.</p>
 <p>Like <a href="(&amp;lt;=)">(&lt;=)</a> with reversed arguments. Returns <span class="code">True</span> if <span class="code">$a</span> is a <b>superset</b> of or equal to <span class="code">$b</span>.</p>
 <pre class="code">say (1, 2, 3).Set (&gt;=) (3, 2, 1).Set;    # OUTPUT: «True␤»
say (1, 3).Set (&gt;=) (3, 2, 1).Set;       # OUTPUT: «False␤»
say ∅ (&gt;=) (3, 2, 1).Set;                # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.14"></a><h3 id="_language_setbagmix.pod6-infix_⊇">43.1.1.14 infix ⊇</h3>
 <pre class="code">only sub infix:&lt;⊇&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate superset of or equal to operator.</p>
 <p>Equivalent to <a href="(&amp;gt;=)">(&gt;=)</a>, at codepoint U+2287 (SUPERSET OF OR EQUAL TO).</p>
 <a name="t43.1.1.15"></a><h3 id="_language_setbagmix.pod6-infix_⊉">43.1.1.15 infix ⊉</h3>
 <pre class="code">only sub infix:&lt;⊉&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="619" name="">Neither a superset of nor equal to operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(&gt;=)</span>, at codepoint U+2289 (NEITHER A SUPERSET OF NOR EQUAL TO).</p>
 <pre class="code">say (1, 2, 3).Set !(&gt;=) (3, 2, 1).Set;   # OUTPUT: «False␤»
say (1, 3).Set ⊉ (3, 2, 1).Set;          # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.16"></a><h3 id="_language_setbagmix.pod6-infix_(&gt;)">43.1.1.16 infix (&gt;)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&gt;)&gt;&gt;(Any $a, Any $b --&gt; Bool)
multi sub infix:&lt;&lt;(&gt;)&gt;&gt;(Setty $a, Setty $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="620" name="">Superset of operator</a></span>.</p>
 <p>Like <a href="(&amp;lt;)">(&lt;)</a> with reversed arguments. Returns <span class="code">True</span> if <span class="code">$a</span> is a <b>strict superset</b> of <span class="code">$b</span>.</p>
 <pre class="code">say (1, 2, 3, 4).Set (&gt;) (3, 2, 1).Set;  # OUTPUT: «True␤»
say (1, 3).Set (&gt;) (3, 2, 1).Set;        # OUTPUT: «False␤»
say ∅ (&gt;) (3, 2, 1).Set;                 # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.17"></a><h3 id="_language_setbagmix.pod6-infix_⊃">43.1.1.17 infix ⊃</h3>
 <pre class="code">only sub infix:&lt;⊃&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate superset of operator.</p>
 <p>Equivalent to <a href="(&amp;gt;)">(&gt;)</a>, at codepoint U+2283 (SUPERSET OF).</p>
 <a name="t43.1.1.18"></a><h3 id="_language_setbagmix.pod6-infix_⊅">43.1.1.18 infix ⊅</h3>
 <pre class="code">only sub infix:&lt;⊅&gt;($a, $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="621" name="">Not a superset of operator</a></span>.</p>
 <p>Equivalent to <span class="code">!(&gt;)</span>, at codepoint U+2285 (NOT A SUPERSET OF).</p>
 <pre class="code">say (1, 2, 3, 4).Set !(&gt;) (3, 2, 1).Set; # OUTPUT: «False␤»
say (1, 3).Set ⊅ (3, 2, 1).Set;          # OUTPUT: «True␤»</pre>
 <a name="t43.1.1.19"></a><h3 id="_language_setbagmix.pod6-infix_(&lt;+)">43.1.1.19 infix (&lt;+)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&lt;+)&gt;&gt;(Any $a, Any $b --&gt; Bool)
multi sub infix:&lt;&lt;(&lt;+)&gt;&gt;(Baggy $a, Baggy $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="622" name="">Baggy subset of operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> is a Baggy <b>subset</b> of <span class="code">$b</span>, i.e., if all the elements of <span class="code">$a</span> are in <span class="code">$b</span> and each element of <span class="code">$b</span> is weighed at least as heavily as the element is in <span class="code">$a</span>.</p>
 <pre class="code">say (1, 2, 3).Bag (&lt;+) (3, 2, 1).Bag;    # OUTPUT: «True␤»
say (1, 2, 2, 3).Bag (&lt;+) (3, 2, 1).Bag; # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.20"></a><h3 id="_language_setbagmix.pod6-infix_≼">43.1.1.20 infix ≼</h3>
 <pre class="code">only sub infix:&lt;≼&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate baggy subset of operator.</p>
 <p>Equivalent to <a href="(&amp;lt;+)">(&lt;+)</a>, at codepoint U+227C (PRECEDES OR EQUAL TO).</p>
 <a name="t43.1.1.21"></a><h3 id="_language_setbagmix.pod6-infix_(&gt;+)">43.1.1.21 infix (&gt;+)</h3>
 <pre class="code">multi sub infix:&lt;&lt;(&gt;+)&gt;&gt;(Baggy $a, Baggy $b --&gt; Bool)
multi sub infix:&lt;&lt;(&gt;+)&gt;&gt;(Any $a, Any $b --&gt; Bool)</pre>
 <p><span class="indexed"><a id="623" name="">Baggy superset of operator</a></span>.</p>
 <p>Returns <span class="code">True</span> if <span class="code">$a</span> is a Baggy <b>superset</b> of <span class="code">$b</span>, i.e., if all the elements of <span class="code">$b</span> are in <span class="code">$a</span> and no element of <span class="code">$b</span> is weighted heavier than that element is in <span class="code">$a</span>.</p>
 <pre class="code">say (1, 2, 3).Bag (&gt;+) (3, 2, 1).Bag;    # OUTPUT: «True␤»
say (1, 2, 2, 3).Bag (&gt;+) (3, 2, 1).Bag; # OUTPUT: «True␤»
say (1, 2).Bag (&gt;+) (3, 2, 1).Bag;       # OUTPUT: «False␤»</pre>
 <a name="t43.1.1.22"></a><h3 id="_language_setbagmix.pod6-infix_≽">43.1.1.22 infix ≽</h3>
 <pre class="code">only sub infix:&lt;≽&gt;($a, $b --&gt; Bool)</pre>
 <p>Alternate baggy superset of operator.</p>
 <p>Equivalent to <a href="(&amp;gt;+)">(&gt;+)</a>, at codepoint U+227D (SUCCEEDS OR EQUAL TO).</p>
 <a name="t43.1.2"></a><h2 id="_language_setbagmix.pod6-Operators_that_return_Set_or_Bag">43.1.2 Operators that return <span class="code">Set</span> or <span class="code">Bag</span></h2>
 <a name="t43.1.2.1"></a><h3 id="_language_setbagmix.pod6-infix_(|)">43.1.2.1 infix (|)</h3>
 <pre class="code">only sub infix:&lt;(|)&gt;(**@p)</pre>
 <p><span class="indexed"><a id="624" name="">Union operator</a></span>. It is of precedence &quot;Junctive Or&quot;.</p>
 <p>Returns the <b>union</b> of all its arguments. Generally, this creates a new <span class="code">Set</span> that contains all the elements its arguments contain.</p>
 <pre class="code">&lt;a a b c d&gt; (|) &lt;h g f e d c&gt; (|) &lt;i j&gt; === set &lt;a b c d e f g h i j&gt;</pre>
 <p>If any of its arguments are <span class="code">Baggy</span>, it creates a new <span class="code">Bag</span> that contains all the elements of the arguments, each weighed by the highest weight that appeared for that element.</p>
 <pre class="code">bag(&lt;a a b c a&gt;) (|) bag(&lt;a a b c c&gt;) === bag(&lt;a a a b c c&gt;)</pre>
 <a name="t43.1.2.2"></a><h3 id="_language_setbagmix.pod6-infix_∪">43.1.2.2 infix ∪</h3>
 <pre class="code">only sub infix:&lt;∪&gt;(|p)</pre>
 <p>Alternate union operator. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Equivalent to <a href="(|)">(|)</a>, at codepoint U+222A (UNION).</p>
 <a name="t43.1.2.3"></a><h3 id="_language_setbagmix.pod6-infix_(&amp;)">43.1.2.3 infix (&amp;)</h3>
 <pre class="code">only sub infix:&lt;(&amp;)&gt;(**@p)</pre>
 <p><span class="indexed"><a id="625" name="">Intersection operator</a></span>. It is of precedence &quot;Junctive and&quot;.</p>
 <p>Returns the <b>intersection</b> of all of its arguments. Generally, this creates a new <span class="code">Set</span> that contains only the elements common to all of the arguments.</p>
 <pre class="code">&lt;a b c&gt; (&amp;) &lt;b c d&gt; === set &lt;b c&gt; 
 &lt;a b c d&gt; (&amp;) &lt;b c d e&gt; (&amp;) &lt;c d e f&gt; === set &lt;c d&gt; 
</pre>
 <p>If any of the arguments are <span class="code">Baggy</span>, the result is a new <span class="code">Bag</span> containing the common elements, each weighted by the largest <i>common</i> weight (which is the minimum of the weights of that element over all arguments).</p>
 <pre class="code">bag(&lt;a a b c a&gt;) (&amp;) bag(&lt;a a b c c&gt;) === bag(&lt;a a b c&gt;) 
</pre>
 <a name="t43.1.2.4"></a><h3 id="_language_setbagmix.pod6-infix_∩">43.1.2.4 infix ∩</h3>
 <pre class="code">only sub infix:&lt;∩&gt;(|p)</pre>
 <p>Alternate intersection operator. It is of precedence &quot;Junctive and&quot;.</p>
 <p>Equivalent to <a href="(&amp;amp;)">(&amp;)</a>, at codepoint U+2229 (INTERSECTION).</p>
 <a name="t43.1.2.5"></a><h3 id="_language_setbagmix.pod6-infix_(-)">43.1.2.5 infix (-)</h3>
 <pre class="code">only sub infix:&lt;(-)&gt;(**@p)</pre>
 <p><span class="indexed"><a id="626" name="">Set difference operator</a></span>. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Returns the <b>set difference</b> of all its arguments. Generally, this returns the <span class="code">Set</span> made up of all the elements the first argument has but the rest don't, i.e., of all the elements of the first argument, minus the elements from the other arguments.</p>
 <p>If the first argument is <span class="code">Baggy</span>, this returns a <span class="code">Bag</span> that contains each element of the first argument with its weight subtracted by the weight of that element in each of the other arguments.</p>
 <pre class="code">bag(&lt;a a b c a d&gt;) (-) bag(&lt;a a b c c&gt;) === bag(&lt;a d&gt;) 
 bag(&lt;a a a a c d d d&gt;) (-) bag(&lt;a b d a&gt;) (-) bag(&lt;d c&gt;) === bag(&lt;a a d&gt;) 
</pre>
 <a name="t43.1.2.6"></a><h3 id="_language_setbagmix.pod6-infix_∖">43.1.2.6 infix ∖</h3>
 <pre class="code">only sub infix:&lt;&lt;&quot;\x2216&quot;&gt;&gt;(|p)</pre>
 <p>Alternate set difference operator. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Equivalent to <a href="(-)">(-)</a>.</p>
 <a name="t43.1.2.7"></a><h3 id="_language_setbagmix.pod6-infix_(^)">43.1.2.7 infix (^)</h3>
 <pre class="code">multi sub infix:&lt;(^)&gt;(Any $a, Any $b --&gt; Setty)
multi sub infix:&lt;(^)&gt;(Set $a, Set $b --&gt; Setty)</pre>
 <p><span class="indexed"><a id="627" name="">Symmetric set difference operator</a></span>. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Returns the <b>symmetric set difference</b> of all its arguments, i.e., a <span class="code">Set</span> made up of all the elements that <span class="code">$a</span> has but <span class="code">$b</span> doesn't and all the elements <span class="code">$b</span> has but <span class="code">$a</span> doesn't. Equivalent to <span class="code">($a ∖ $b) ∪ ($b ∖ $a)</span>.</p>
 <a name="t43.1.2.8"></a><h3 id="_language_setbagmix.pod6-infix_⊖">43.1.2.8 infix ⊖</h3>
 <pre class="code">only sub infix:&lt;⊖&gt;($a, $b --&gt; Setty)</pre>
 <p>Alternate symmetric set difference operator. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Equivalent to <a href="(^)">(^)</a>, at codepoint U+2296 (CIRCLED MINUS).</p>
 <a name="t43.1.2.9"></a><h3 id="_language_setbagmix.pod6-infix_(.)">43.1.2.9 infix (.)</h3>
 <pre class="code">only sub infix:&lt;(.)&gt;(**@p)</pre>
 <p><span class="indexed"><a id="628" name="">Baggy multiplication operator</a></span>. It is of precedence &quot;Junctive and&quot;.</p>
 <p>Returns the Baggy <b>multiplication</b> of its arguments, i.e., a <span class="code">Bag</span> that contains each element of the arguments with the weights of the element across the arguments multiplied together to get the new weight.</p>
 <pre class="code">&lt;a b c&gt; (.) &lt;a b c d&gt; === bag &lt;a b c&gt; # Since 1 * 0 == 0, in the case of 'd' 
 bag(&lt;a a b c a d&gt;) (.) bag(&lt;a a b c c&gt;) === (&quot;a&quot;=&gt;6,&quot;c&quot;=&gt;2,&quot;b&quot;=&gt;1).Bag 
</pre>
 <a name="t43.1.2.10"></a><h3 id="_language_setbagmix.pod6-infix_⊍">43.1.2.10 infix ⊍</h3>
 <pre class="code">only sub infix:&lt;⊍&gt;(|p)</pre>
 <p>Alternate baggy multiplication operator. It is of precedence &quot;Junctive and&quot;.</p>
 <p>Equivalent to <a href="(.)">infix (.)</a>, at codepoint U+228D (MULTISET MULTIPLICATION).</p>
 <a name="t43.1.2.11"></a><h3 id="_language_setbagmix.pod6-infix_(+)">43.1.2.11 infix (+)</h3>
 <pre class="code">only sub infix:&lt;(+)&gt;(**@p)</pre>
 <p><span class="indexed"><a id="629" name="">Baggy addition operator</a></span>. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Returns the Baggy <b>addition</b> of its arguments, i.e., a <span class="code">Bag</span> that contains each element of the arguments with the weights of the element across the arguments added together to get the new weight.</p>
 <pre class="code">bag(&lt;a a b c a d&gt;) (+) bag(&lt;a a b c c&gt;) === (&quot;a&quot;=&gt;5,&quot;c&quot;=&gt;3,&quot;b&quot;=&gt;2,&quot;d&quot;=&gt;1).Bag 
</pre>
 <a name="t43.1.2.12"></a><h3 id="_language_setbagmix.pod6-infix_⊎">43.1.2.12 infix ⊎</h3>
 <pre class="code">only sub infix:&lt;⊎&gt;(|p)</pre>
 <p>Alternate baggy addition operator. It is of precedence &quot;Junctive or&quot;.</p>
 <p>Equivalent to <a href="(+)">(+)</a>, at codepoint U+228E (MULTISET UNION).</p>
 <a name="t43.1.3"></a><h2 id="_language_setbagmix.pod6-term_∅">43.1.3 term ∅</h2>
 <p><span class="indexed"><a id="630" name="∅"></a></span></p>
 <p>Equivalent to set(), aka the <span class="indexed"><a id="631" name="">empty set</a></span>, at codepoint U+2205 (EMPTY SET).</p>
</div>
<!-- /language/subscripts.pod6 --><div class="pod-body"><a id="_language_subscripts.pod6"></a><a name="t44"><h1 class="title">44 Subscripts</h1></a> <p class="subtitle">Accessing data structure elements by index or key</p> <p>Often one needs to refer to a specific element (or specific slice of elements) of a collection or data structure. Borrowing from mathematical notation where the components of a vector <i>v</i> would be referred to as <i>v₁, v₂, v₃</i>, this concept is called &quot;subscripting&quot; (or &quot;indexing&quot;) in Perl 6.</p>
 <a name="t44.1"></a><h1 id="_language_subscripts.pod6-Basics">44.1 Basics</h1>
 <p>Perl 6 provides two universal subscripting interfaces:</p>
 <table>
<tr><th></th> <th>elements are identified by</th> <th>interface name</th> <th>supported by</th></tr>
<tr><td>[ ]</td> <td>zero-based indices</td> <td>Positional</td> <td>Array, List, Buf, Match, ...</td></tr>
 <tr><td>{ }</td> <td>string or object keys</td> <td>Associative</td> <td>Hash, Bag, Mix, Match, ...</td></tr>
</table> <ul><li><p><b>Positional</b> subscripting (via <a href="#_language_operators.pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a>) addresses elements of an ordered collection by their position. Index 0 refers to the first element, index 1 to the second, and so on:</p>
 <pre class="code">my @chores = &quot;buy groceries&quot;, &quot;feed dog&quot;, &quot;wash car&quot;;
say @chores[0];  # OUTPUT: «buy groceries␤»
say @chores[1];  # OUTPUT: «feed dog␤»
say @chores[2];  # OUTPUT: «wash car␤»</pre>
</li></ul> <ul><li><p><b>Associative</b> subscripting (via <a href="#_language_operators.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a>), does not require the collection to keep its elements in any particular order - instead, it uses a unique key to address each value. The nature of the keys depends on the collection in question: For example a standard <a href="#_type_Hash.pod6">Hash</a> uses string keys, whereas a <a href="#_type_Mix.pod6">Mix</a> allows arbitrary objects as keys, etc.:</p>
 <pre class="code">my %grade = Zoe =&gt; &quot;C&quot;, Ben =&gt; &quot;B+&quot;;
say %grade{&quot;Zoe&quot;};  # OUTPUT: «C␤»
say %grade{&quot;Ben&quot;};  # OUTPUT: «B+␤»

my $stats = ( Date.today =&gt; 4.18, Date.new(2015,  4,  5) =&gt; 17.253 ).Mix;
say $stats{ Date.new(2015, 4, 4) + 1 };  # OUTPUT: «17.253␤»</pre>
 <p>For passing single-word string keys to <span class="code">{ }</span>, you can also use the <a href="#_language_quoting.pod6-Word_quoting:_qw">angle-bracketed word quoting constructs</a> as if they were postcircumfix operators:</p>
 <pre class="code">my %grade = Zoe =&gt; &quot;C&quot;, Ben =&gt; &quot;B+&quot;;
say %grade&lt;Zoe&gt;;    # OUTPUT: «C␤»
say %grade&lt;Ben&gt;;    # OUTPUT: «B+␤»</pre>
 <p>This is really just syntactic sugar that gets turned into the corresponding <span class="code">{ }</span> form at compile-time:</p>
 <pre class="code">%hash&lt;foo bar&gt;;       # same as %hash{ &lt;foo bar&gt; } 
 %hash«foo &quot;$var&quot;»;    # same as %hash{ «foo &quot;$var&quot;» } 
 %hash&lt;&lt;foo &quot;$var&quot;&gt;&gt;;  # same as %hash{ &lt;&lt;foo &quot;$var&quot;&gt;&gt; } 
</pre>
 <p>You may have noted above that we avoided having to quote <span class="code">Zoe</span> by using the <span class="code">=&gt; </span> operator, but that same operator did not just put invisible quotes around <span class="code">Date.new(2015, 4, 5)</span>, and we were able to find the same element using <span class="code">$stats{ Date.new(2015, 4, 4) + 1 }</span>. This is because <span class="code">=&gt; </span> only puts invisible quotes around single words, and by &quot;word&quot; we mean an identifier/name. The <span class="code">=&gt; </span> operator is there to prevent us from accidentally calling functions or using constants with that name.</p>
 <p>Hash subscripts do not do the same thing as <span class="code">=&gt; </span>. The default <span class="code">Hash</span> has been made to behave the way new users have come to expect from using other languages, and for general ease of use. On a default <span class="code">Hash</span>, subscripts coerce keys into strings, as long as those keys produce something <span class="code">Cool</span>. You can use <span class="code">.perl</span> on a collection to be sure whether the keys are strings or objects:</p>
 <pre class="code">( 1  =&gt; 1 ).perl.say;            # OUTPUT: «1 =&gt; 1␤»
my %h; %h{1}   = 1; say %h.perl; # OUTPUT: «{ &quot;1&quot; =&gt; 1 }␤»
( 1/2 =&gt; 1 ).perl.say;           # OUTPUT: «0.5 =&gt; 1␤»
my %h; %h{1/2} = 1; say %h.perl; # OUTPUT: «{ &quot;0.5&quot; =&gt; 1 }␤»
( pi =&gt; 1 ).perl.say;            # OUTPUT: «:pi(1)␤»
my %h; %h{pi}  = 1; say %h.perl; # OUTPUT: «{ &quot;3.14159265358979&quot; =&gt; 1 }␤»</pre>
 <p>While the invisible quotes around single names is built into <span class="code">=&gt; </span>, string conversion is not built into the curly braces: it is a behavior of the default <span class="code">Hash</span>. Not all types of hashes or collections do so:</p>
 <pre class="code">my %h := MixHash.new;
%h{pi} = 1; %h.perl.say;         # OUTPUT: «(3.14159265358979e0=&gt;1).MixHash␤»</pre>
 <p>(Any name that <span class="code">=&gt; </span> would convert to a string can also be used to build a pair using &quot;adverbial notation&quot; and will appear that way when viewed through <span class="code">.perl</span>, which is why we see <span class="code">:pi(1)</span> above.)</p>
</li></ul> <p>Subscripts can be applied to any expression that returns a subscriptable object, not just to variables:</p>
 <pre class="code">say &quot;__Hello__&quot;.match(/__(.*)__/)[0];   # OUTPUT: «｢Hello｣␤»
say &quot;__Hello__&quot;.match(/__(.*)__/).[0];  # same, in method notation</pre>
 <p>Positional and associative subscripting are not mutually exclusive - for example, <a href="#_type_Match.pod6">Match</a> objects support both (each accessing a different set of data). Also, to make list processing more convenient, class <a href="#_type_Any.pod6">Any</a> provides a fallback implementation for positional subscripts which simply treats the invocant as a list of one element. (But there's no such fallback for associative subscripts, so they throw a run-time error when applied to an object that does not implement support for them.)</p>
 <pre class="code">say 42[0];    # OUTPUT: «42␤» 
 say 42&lt;foo&gt;;  # ERROR: Type Int does not support associative indexing. 
</pre>
 <a name="t44.2"></a><h1 id="_language_subscripts.pod6-Nonexistent_elements">44.2 Nonexistent elements</h1>
 <p>What happens when a <i>nonexistent</i> element is addressed by a subscript, is up to the collection type in question. Standard <a href="#_type_Array.pod6">Array</a> and <a href="#_type_Hash.pod6">Hash</a> collections return the type object of their <a href="#_routine_of.pod6">value type constraint</a> (which, by default, is <a href="#_type_Any.pod6">Any</a>) unless the collection has been declared with the <a href="#_type_Variable.pod6-trait_is_default"><span class="code">is default</span></a> trait in which case the returned value will be whatever the programmer declared it to be:</p>
 <pre class="code"># no default values specified
my @array1;     say @array1[10];                   # OUTPUT: «(Any)␤»
my Int @array2; say @array2[10];                   # OUTPUT: «(Int)␤»

my %hash1;      say %hash1&lt;foo&gt;;                   # OUTPUT: «(Any)␤»
my Int %hash2;  say %hash2&lt;foo&gt;;                   # OUTPUT: «(Int)␤»

# default values specified
my @array3 is default('--');     say @array3[10];  # OUTPUT: «--␤»
my Int @array4 is default(17);   say @array4[10];  # OUTPUT: «17␤»

my %hash3 is default('Empty');   say %hash3&lt;foo&gt;;  # OUTPUT: «Empty␤»
my Int %hash4 is default(4711);  say %hash4&lt;foo&gt;;  # OUTPUT: «4711␤»</pre>
 <p>However, other types of collections may react differently to subscripts that address nonexistent elements:</p>
 <pre class="code">say (0, 10, 20)[3];           # OUTPUT: «Nil␤»
say bag(&lt;a a b b b&gt;)&lt;c&gt;;      # OUTPUT: «0␤»
say array[uint8].new(1, 2)[2] # OUTPUT: «0␤»</pre>
 <p>To silently skip nonexistent elements in a subscripting operation, see <a href="#43-Truncating slices">#Truncating slices</a> and the <a href="#43-:v">#:v</a> adverb.</p>
 <a name="t44.3"></a><h1 id="_language_subscripts.pod6-From_the_end">44.3 From the end</h1>
 <p>Positional indices are counted from the start of the collection, but there's also a notation for addressing elements by their position relative to the end: <span class="code">*-1</span> refers to the last element, <span class="code">*-2</span> to the second-to-last element, and so on.</p>
 <pre class="code">my @alphabet = 'A' .. 'Z';
say @alphabet[*-1];  # OUTPUT: «Z␤»
say @alphabet[*-2];  # OUTPUT: «Y␤»
say @alphabet[*-3];  # OUTPUT: «X␤»</pre>
 <p><b>Note</b>: The asterisk is important. Passing a bare negative integer (e.g. <span class="code">@alphabet[-1]</span>) like you would do in many other programming languages, throws an error in Perl 6.</p>
 <p>What actually happens here, is that an expression like <span class="code">*-1</span> declares a code object via <a href="#_type_Whatever.pod6">Whatever</a>-currying - and the <span class="code">[ ]</span> subscript reacts to being given a code object as an index, by calling it with the length of the collection as argument and using the result value as the actual index. In other words, <span class="code">@alphabet[*-1]</span> becomes <span class="code">@alphabet[@alphabet.elems - 1]</span>.</p>
 <p>This means that you can use arbitrary expressions which depend on the size of the collection:</p>
 <pre class="code">say @array[* div 2];  # select the middlemost element 
 say @array[$i % *];   # wrap around a given index (&quot;modular arithmetic&quot;) 
 say @array[ -&gt; $size { $i % $size } ];  # same as previous 
</pre>
 <a name="t44.4"></a><h1 id="_language_subscripts.pod6-Slices">44.4 Slices</h1>
 <p>When multiple elements of a collection need to be accessed, there's a shortcut to doing multiple separate subscripting operations: Simply specify a <i>list</i> of indices/keys in the subscript, to get back a <i>list</i> of elements - also called a &quot;slice&quot; - in the same order.</p>
 <p>For positional slices, you can mix normal indices with <a href="#43-From the end">from-the-end</a> ones:</p>
 <pre class="code">my @alphabet = 'a' .. 'z';
say @alphabet[15, 4, *-9, 11].perl;  # OUTPUT: «(&quot;p&quot;, &quot;e&quot;, &quot;r&quot;, &quot;l&quot;)␤»</pre>
 <p>In the <span class="code">*-number</span> construct above, <span class="code">*</span> indicates the end of the array as explained above in the <a href="#43-From the end">From the end</a> section. So if you want to take the last N elements of the array, you will have to create a <a href="#_type_Range.pod6">Range</a> that includes it.</p>
 <pre class="code">(5802..5830).map( {.chr} )[*-10..*-5] # OUTPUT:  «(ᚽ ᚾ ᚿ ᛀ ᛁ ᛂ)␤»</pre>
 <p>Using <span class="code">*</span> as the last element of the range will, effectively, return the last elements of the collection.</p>
 <p>For associative slices, the angle-brackets form often comes in handy:</p>
 <pre class="code">my %color = kiwi =&gt; &quot;green&quot;, banana =&gt; &quot;yellow&quot;, cherry =&gt; &quot;red&quot;;
say %color{&quot;cherry&quot;, &quot;kiwi&quot;};  # OUTPUT: «(red green)␤»
say %color&lt;cherry kiwi&gt;;       # OUTPUT: «(red green)␤»
say %color{*};                 # OUTPUT: «(red yellow green)␤»</pre>
 <p>Be aware that slices are controlled by the <i>type</i> of what is passed to (<a href="#43-Multiple dimensions">one dimension of</a>) the subscript, not its length. In particular the <i>type</i> can be any of the following:</p>
 <ul><li><p>a lazy Iterable, that <a href="#43-Truncating slices">truncates</a> in [ ]</p>
</li></ul> <ul><li><p>'*' (whatever-star), that returns the full slice (as if all keys/indices were specified)</p>
</li></ul> <ul><li><p>any other object, that provides a single-element access rather than a slice</p>
</li></ul> <ul><li><p>Callable, whatever is returned by the callable (this can lead to recursion)</p>
</li></ul> <ul><li><p>empty, the full slice known as <a href="#43-Zen slices">Zen slice</a></p>
</li></ul> <ul><li><p>any iterable different from the above ones, normal slice</p>
</li></ul> <p>The notable difference between <span class="code">*</span> and Zen slice (empty) is that the <a href="#_type_Whatever.pod6">Whatever</a> star will cause full <a href="#_language_glossary.pod6-index-entry-Reify">reification</a>, while Zen slice won't. Both versions also <a href="https://perl6advent.wordpress.com/2017/12/02/perl-6-sigils-variables-and-containers/#decont">de-cont</a>.</p>
 <p>So even a one-element list returns a slice, whereas a bare scalar value doesn't:</p>
 <pre class="code">say @alphabet[2,];        # OUTPUT: «(c)␤» 
 say @alphabet[2,].^name;  # OUTPUT: «List␤» 
 
 say @alphabet[2];         # OUTPUT: «c␤» 
 say @alphabet[2].^name;   # OUTPUT: «Str␤» 
</pre>
 <p>(The angle-bracket form for associative subscripts works out because <a href="#_language_quoting.pod6-Word_quoting:_qw">word quoting</a> conveniently returns a <a href="#_type_Str.pod6">Str</a> in case of a single word, but a <a href="#_type_List.pod6">List</a> in case of multiple words.)</p>
 <p>In fact, the list structure of (<a href="#43-Multiple
dimensions">the current dimension of</a>) the subscript is preserved across the slice operation (but the kind of Iterable is not – the result is always just lists.)</p>
 <pre class="code">say @alphabet[0, (1..2, (3,))];       # OUTPUT: «(a ((b c) (d)))␤» 
 say @alphabet[0, (1..2, [3,])];       # OUTPUT: «(a ((b c) (d)))␤» 
 say @alphabet[flat 0, (1..2, (3,))];  # OUTPUT: «(a b c d)␤» 
 say flat @alphabet[0, (1..2, (3,))];  # OUTPUT: «(a b c d)␤» 
</pre>
 <a name="t44.4.1"></a><h2 id="_language_subscripts.pod6-Truncating_slices">44.4.1 Truncating slices</h2>
 <p>Referring to nonexistent elements in a slice subscript causes the output <span class="code">List</span> to contain undefined values (or <a href="#43-Nonexistent elements">whatever else</a> the collection in question chooses to return for nonexistent elements):</p>
 <pre class="code">my  @letters = &lt;a b c d e f&gt;; 
 say @letters[3..7];  # OUTPUT: «(d e f (Any) (Any))␤» 
</pre>
 <p>This behavior, while at first glance may seem unintuitive, is desirable in instances when you want to assign a value at an index in which a value does not currently exist.</p>
 <pre class="code">my  @letters; 
 say @letters; # OUTPUT: «[]␤» 
 
 @letters[^10] = 'a'..'z'; 
 say @letters; # OUTPUT: «[a b c d e f g h i j]␤» 
</pre>
 <p>If you want the resulting slice to only include existing elements, you can silently skip the non-existent elements using the <a href="#43-:v">#:v</a> adverb.</p>
 <pre class="code">my  @letters = &lt;a b c d e f&gt;; 
 say @letters[3..7]:v;  # OUTPUT: «(d e f)␤» 
</pre>
 <p>The behavior when indexing a collection via <a href="#_language_list.pod6-Lazy_Lists">lazy</a> subscripts is different than when indexing with their eager counterparts. When accessing via a lazy subscript, the resulting slice will be truncated.</p>
 <pre class="code">say @letters[lazy 3..7]; # OUTPUT: «(d e f)␤» 
 say @letters[     3..*]; # OUTPUT: «(d e f)␤» 
</pre>
 <p>This behavior exists as a precaution to prevent runaway generation of massive, potentially infinite <span class="code">Lists</span> and the out-of-memory issues that occur as a result.</p>
 <a name="t44.4.2"></a><h2 id="_language_subscripts.pod6-Zen_slices">44.4.2 Zen slices</h2>
 <p>If you write a subscript without specifying any indices/keys at all, it simply returns the subscripted object itself. Since it is empty but returns everything, it is known as a &quot;Zen slice&quot;.</p>
 <p>It is different both from passing a Whatever-star (which, like a normal slice, always returns a List of elements no matter the type of the original object) and from passing an empty list (which returns an empty slice):</p>
 <pre class="code">my %bag := (orange =&gt; 1, apple =&gt; 3).Bag;
say %bag&lt;&gt;;    # OUTPUT: «Bag(apple(3), orange)␤»
say %bag{};    # OUTPUT: «Bag(apple(3), orange)␤»
say %bag{*};   # OUTPUT: «(1 3)␤»
say %bag{()};  # OUTPUT: «()␤»</pre>
 <p>It is usually used to <a href="#_language_quoting.pod6-Interpolation:_qq">interpolate</a> entire arrays / hashes into strings:</p>
 <pre class="code">my @words = &quot;cruel&quot;, &quot;world&quot;;
say &quot;Hello, @words[]!&quot;  # OUTPUT: «Hello, cruel world!␤»</pre>
 <a name="t44.5"></a><h1 id="_language_subscripts.pod6-Multiple_dimensions">44.5 Multiple dimensions</h1>
 <p>Dimensions in subscripts are separated by a semicolon, allowing to mix lists of elements and dimensions.</p>
 <pre class="code">my @twodim = (&lt;a b c&gt;, (1, 2, 3));
say @twodim;
# OUTPUT: «[(a b c) (1 2 3)]␤»

say @twodim[0,1;1]; # 2nd element of both lists
# OUTPUT: «(b 2)␤»</pre>
 <p>Multidimensional subscripts can be used to flatten nested lists.</p>
 <pre class="code">my @toomany = [[&lt;a b&gt;], [1, 2]];
say @toomany;
# OUTPUT: «[[a b] [1 2]]␤»

say @toomany[*;*];
# OUTPUT: «(a b 1 2)␤»</pre>
 <p>You can use <a href="#_type_Whatever.pod6">Whatever</a> to select ranges or &quot;rows&quot; in multidimensional subscripts.</p>
 <pre class="code">my @a = [[1,2], [3,4]];
say @a[*;1]; # 2nd element of each sub list
# OUTPUT: «(2 4)␤»
my @a = (&lt;1 c 6&gt;, &lt;2 a 4&gt;, &lt;5 b 3&gt;);
say @a.sort(*[1]); # sort by 2nd column
# OUTPUT: «((2 a 4) (5 b 3) (1 c 6))␤»</pre>
 <a name="t44.6"></a><h1 id="_language_subscripts.pod6-Modifying_elements">44.6 Modifying elements</h1>
 TODO
 <a name="t44.7"></a><h1 id="_language_subscripts.pod6-Autovivification">44.7 Autovivification</h1>
 <p>Subscripts participate in &quot;autovivification&quot;, i.e. the process by which arrays and hashes automatically spring into existence when needed, so that you can build nested data structures without having to pre-declare the collection type at each level:</p>
 <pre class="code">my $beatles;

$beatles{&quot;White Album&quot;}[0] = &quot;Back in the U.S.S.R.&quot;;  # autovivification!

say $beatles.perl;  # OUTPUT: «${&quot;White Album&quot; =&gt; $[&quot;Back in the U.S.S.R.&quot;]}␤»</pre>
 <p><span class="code">$beatles</span> started out undefined, but became a <a href="#_type_Hash.pod6">Hash</a> object because it was subscripted with <span class="code">{ }</span> in the assignment. Similarly, <span class="code">$beatles{&quot;White Album&quot;}</span> became an <a href="#_type_Array.pod6">Array</a> object due to being subscripted with <span class="code">[ ]</span> in the assignment.</p>
 <p>Note that the subscripting itself does not cause autovivification: It only happens when the result of the subscripting chain is <i>assigned</i> to (or otherwise mutated).</p>
 TODO: Add expanded documentation on autovivification (which affects
               more than just subscripts, i.e. also routines like `push`), at
               /language/datastructures.html, and link to it from here.
 <a name="t44.8"></a><h1 id="_language_subscripts.pod6-Binding">44.8 Binding</h1>
 <p>A subscripting expression may also be used as the left-hand-side of a binding statement. If supported by the subscripted collection's type, this replaces whatever value container would be naturally found at that &quot;slot&quot; of the collection, with the specified container.</p>
 <p>The built-in <a href="#_type_Array.pod6">Array</a> and <a href="#_type_Hash.pod6">Hash</a> types support this in order to allow building complex linked data structures:</p>
 <pre class="code">my @a = 10, 11, 12, 13;
my $x = 1;

@a[2] := $x;  # binding! (@a[2] and $x refer to the same container now.)

$x++; @a[2]++;

say @a;  # OUTPUT: «[10 11 3 13]␤»
say $x;  # OUTPUT: «3␤»</pre>
 TODO: Come up with a more practical/motivational example snippet.
 TODO: Add expanded documentation on building complex data structures
               at /language/datastructures.html, and link to it from here.
 <p>See <a href="#43-method BIND-POS">#method BIND-POS</a> and <a href="#43-method BIND-KEY">#method BIND-KEY</a> for the underlying mechanism.</p>
 <a name="t44.9"></a><h1 id="_language_subscripts.pod6-Adverbs">44.9 Adverbs</h1>
 <p>The return value and possible side-effect of a subscripting operation can be controlled using adverbs; these are defined on the relevant subscript <a href="#_language_operators.pod6-Method_Postfix_Precedence">operators</a>.</p>
 <p>Beware of the relatively loose precedence of operator adverbs, which may require you to add parentheses in compound expressions:</p>
 <pre class="code">    if $foo || %hash&lt;key&gt;:exists { ... }    # WRONG, tries to adverb the || op 
</pre>
 <pre class="code">    if $foo || (%hash&lt;key&gt;:exists) { ... }  # correct 
     if $foo or %hash&lt;key&gt;:exists { ... }    # also correct 
</pre>
 <p>The supported adverbs are:</p>
 <a name="t44.9.1"></a><h2 id="_language_subscripts.pod6-:exists">44.9.1 <a name="632"></a>:exists</h2>
 <p>Return whether or not the requested element exists, instead of returning the element's actual value. This can be used to distinguish between elements with an undefined value, and elements that aren't part of the collection at all:</p>
 <pre class="code">my @foo = Any, 10;
say @foo[0].defined;    # OUTPUT: «False␤»
say @foo[0]:exists;     # OUTPUT: «True␤»
say @foo[2]:exists;     # OUTPUT: «False␤»
say @foo[0, 2]:exists;  # OUTPUT: «(True False)␤»

my %fruit = apple =&gt; Any, orange =&gt; 10;
say %fruit&lt;apple&gt;.defined;       # OUTPUT: «False␤»
say %fruit&lt;apple&gt;:exists;        # OUTPUT: «True␤»
say %fruit&lt;banana&gt;:exists;       # OUTPUT: «False␤»
say %fruit&lt;apple banana&gt;:exists; # OUTPUT: «(True False)␤»</pre>
 <p>May also be negated to test for non-existence:</p>
 <pre class="code">say %fruit&lt;apple banana&gt;:!exists; # OUTPUT: «(False True)␤» 
</pre>
 <p>To check if <i>all</i> elements of a slice exist, use an <a href="#_routine_all.pod6">all</a> junction:</p>
 <pre class="code">if all %fruit&lt;apple orange banana&gt;:exists { ... } 
</pre>
 <p><span class="code">:exists</span> can be combined with the <a href="#43-:delete">#:delete</a> and <a href="#43-:p">#:p</a>/<a href="#43-:kv">#:kv</a> adverbs - in which case the behavior is determined by those adverbs, except that any returned element <i>value</i> is replaced with the corresponding <a href="#_type_Bool.pod6">Bool</a> indicating element <i>existence</i>.</p>
 <p>See <a href="#43-method EXISTS-POS">#method EXISTS-POS</a> and <a href="#43-method EXISTS-KEY">#method EXISTS-KEY</a> for the underlying mechanism.</p>
 <a name="t44.9.2"></a><h2 id="_language_subscripts.pod6-:delete">44.9.2 <a name="633"></a>:delete</h2>
 <p>Delete the element from the collection or, if supported by the collection, creates a hole at the given index, in addition to returning its value.</p>
 <pre class="code">my @tens = 0, 10, 20, 30;
say @tens[3]:delete;     # OUTPUT: «30␤»
say @tens;               # OUTPUT: «[0 10 20]␤»

my %fruit = apple =&gt; 5, orange =&gt; 10, banana =&gt; 4, peach =&gt; 17;
say %fruit&lt;apple&gt;:delete;         # OUTPUT: «5␤»
say %fruit&lt;peach orange&gt;:delete;  # OUTPUT: «(17 10)␤»
say %fruit;                       # OUTPUT: «{banana =&gt; 4}␤»</pre>
 <p>Note that assigning <span class="code">Nil</span> will revert the container at the given index to its default value. It will not create a hole. The created holes can be tested for with <span class="code">:exists</span> but iteration will not skip them and produce undefined values instead.</p>
 <pre class="code">my @a = 1, 2, 3;
@a[1]:delete;
say @a[1]:exists;
# OUTPUT: «False␤»
.say for @a;
# OUTPUT: «1␤(Any)␤3␤»</pre>
 <p>With the negated form of the adverb, the element is not actually deleted. This means you can pass a flag to make it conditional:</p>
 <pre class="code">say %fruit&lt;apple&gt; :delete($flag);  # deletes the element only if $flag is 
                                    # true, but always returns the value. 
</pre>
 <p>Can be combined with the <a href="#43-:exists">#:exists</a> and <a href="#43-:p">#:p</a>/<a href="#43-:kv">#:kv</a>/<a href="#43-:k">#:k</a>/<a href="#43-:v">#:v</a> adverbs - in which case the return value will be determined by those adverbs, but the element will at the same time also be deleted.</p>
 <p>See <a href="#43-method DELETE-POS">#method DELETE-POS</a> and <a href="#43-method DELETE-KEY">#method DELETE-KEY</a> for the underlying mechanism.</p>
 <a name="t44.9.3"></a><h2 id="_language_subscripts.pod6-:p">44.9.3 <a name="634"></a>:p</h2>
 <p>Return both the index/key and the value of the element, in the form of a <a href="#_type_Pair.pod6">Pair</a>, and silently skip nonexistent elements:</p>
 <pre class="code">my  @tens = 0, 10, 20, 30;
say @tens[1]:p;        # OUTPUT: «1 =&gt; 10␤»
say @tens[0, 4, 2]:p;  # OUTPUT: «(0 =&gt; 0 2 =&gt; 20)␤»

my  %month = Jan =&gt; 1, Feb =&gt; 2, Mar =&gt; 3;
say %month&lt;Feb&gt;:p;          # OUTPUT: «Feb =&gt; 2␤»
say %month&lt;Jan Foo Mar&gt;:p;  # OUTPUT: «(Jan =&gt; 1 Mar =&gt; 3)␤»</pre>
 <p>If you <i>don't</i> want to skip nonexistent elements, use the negated form:</p>
 <pre class="code">say %month&lt;Jan Foo Mar&gt;:!p;  # OUTPUT: «(Jan =&gt; 1 Foo =&gt; (Any) Mar =&gt; 3)␤» 
</pre>
 <p>Can be combined with the <a href="#43-:exists">#:exists</a> and <a href="#43-:delete">#:delete</a> adverbs.</p>
 <p>See also the <a href="#_routine_pairs.pod6">pairs</a> routine.</p>
 <a name="t44.9.4"></a><h2 id="_language_subscripts.pod6-:kv">44.9.4 <a name="635"></a>:kv</h2>
 <p>Return both the index/key and the value of the element, in the form of a <a href="#_type_List.pod6">List</a>, and silently skip nonexistent elements. When used on a <a href="#43-Slices">slice</a>, the return value is a single flat list of interleaved keys and values:</p>
 <pre class="code">my  @tens = 0, 10, 20, 30;
say @tens[1]:kv;        # OUTPUT: «(1 10)␤»
say @tens[0, 4, 2]:kv;  # OUTPUT: «(0 0 2 20)␤»

my  %month = Jan =&gt; 1, Feb =&gt; 2, Mar =&gt; 3;
say %month&lt;Feb&gt;:kv;          # OUTPUT: «(Feb 2)␤»
say %month&lt;Jan Foo Mar&gt;:kv;  # OUTPUT: «(Jan 1 Mar 3)␤»</pre>
 <p>If you <i>don't</i> want to skip nonexistent elements, use the negated form:</p>
 <pre class="code">say %month&lt;Jan Foo Mar&gt;:!kv;  # OUTPUT: «(Jan 1 Foo (Any) Mar 3)␤» 
</pre>
 <p>This adverb is commonly used to iterate over slices:</p>
 <pre class="code">for %month&lt;Feb Mar&gt;:kv -&gt; $month, $i { 
     say &quot;$month had {Date.new(2015, $i, 1).days-in-month} days in 2015&quot; 
 } 
</pre>
 <p>Can be combined with the <a href="#43-:exists">#:exists</a> and <a href="#43-:delete">#:delete</a> adverbs.</p>
 <p>See also the <a href="#_routine_kv.pod6">kv</a> routine.</p>
 <a name="t44.9.5"></a><h2 id="_language_subscripts.pod6-:k">44.9.5 <a name="636"></a>:k</h2>
 <p>Return only the index/key of the element, rather than its value, and silently skip nonexistent elements:</p>
 <pre class="code">my @tens = 0, 10, 20, 30;
say @tens[1]:k;        # OUTPUT: «1␤»
say @tens[0, 4, 2]:k;  # OUTPUT: «(0 2)␤»

my %month = Jan =&gt; 1, Feb =&gt; 2, Mar =&gt; 3;
say %month&lt;Feb&gt;:k;          # OUTPUT: «Feb␤»
say %month&lt;Jan Foo Mar&gt;:k;  # OUTPUT: «(Jan Mar)␤»</pre>
 <p>If you <i>don't</i> want to skip nonexistent elements, use the negated form:</p>
 <pre class="code">say %month&lt;Jan Foo Mar&gt;:!k;  # OUTPUT: «(Jan Foo Mar)␤» 
</pre>
 <p>See also the <a href="#_routine_keys.pod6">keys</a> routine.</p>
 <a name="t44.9.6"></a><h2 id="_language_subscripts.pod6-:v">44.9.6 <a name="637"></a>:v</h2>
 <p>Return the bare value of the element (rather than potentially returning a mutable value container), and silently skip nonexistent elements:</p>
 <pre class="code">my @tens = 0, 10, 20, 30; 
 say @tens[1]:v;        # OUTPUT: «10␤» 
 say @tens[0, 4, 2]:v;  # OUTPUT: «(0, 20)␤» 
 @tens[3] = 31;         # OK 
 @tens[3]:v = 31;       # ERROR, Cannot modify an immutable Int (31) 
 
 my %month = Jan =&gt; 1, Feb =&gt; 2, Mar =&gt; 3; 
 say %month&lt;Feb&gt;:v;          # OUTPUT: «2␤» 
 say %month&lt;Jan Foo Mar&gt;:v;  # OUTPUT: «(1 3)␤» 
</pre>
 <p>If you <i>don't</i> want to skip nonexistent elements, use the negated form:</p>
 <pre class="code">say %month&lt;Jan Foo Mar&gt;:!v;  # OUTPUT: «(1 (Any) 3)␤» 
</pre>
 <p>See also the <a href="#_routine_values.pod6">values</a> routine.</p>
 <a name="t44.10"></a><h1 id="_language_subscripts.pod6-Custom_types">44.10 Custom types</h1>
 <p>The subscripting interfaces described on this page are not meant to be exclusive to Perl 6's built-in collection types - you can (and should) reuse them for any custom type that wants to provide access to data by index or key.</p>
 <p>You don't have to manually overload the <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> and <a href="#_routine_{ }.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> operators and re-implement all their magic, to achieve that - instead, you can rely on the fact that their standard implementation dispatches to a well-defined set of low-level methods behind the scenes. For example:</p>
 <table>
<tr><th>when you write:</th> <th>this gets called behind the scenes:</th></tr>
<tr><td>%foo&lt;aa&gt;</td> <td>%foo.AT-KEY(&quot;aa&quot;)</td></tr>
 <tr><td>%foo&lt;aa&gt;:delete</td> <td>%foo.DELETE-KEY(&quot;aa&quot;)</td></tr>
 <tr><td>@foo[3, 4, 5]</td> <td>@foo.AT-POS(3), @foo.AT-POS(4), @foo.AT-POS(5)</td></tr>
 <tr><td>@foo[*-1]</td> <td>@foo.AT-POS(@foo.elems - 1)</td></tr>
</table> <p>So in order to make subscripting work, you only have to implement or delegate those low-level methods (<a href="#43-Methods_to_implement_for_positional_subscripting">detailed below</a>) for your custom type.</p>
 <p>If you do, you should also let your type compose the <a href="#_type_Positional.pod6"><span class="code">Positional</span></a> or <a href="#_type_Associative.pod6"><span class="code">Associative</span></a> role, respectively. This doesn't add any functionality per se, but announces (and may be used to check) that the type implements the corresponding subscripting interface.</p>
 <a name="t44.10.1"></a><h2 id="_language_subscripts.pod6-Custom_type_example">44.10.1 Custom type example</h2>
 TODO: Maybe factor this out into a tutorial page
 <p>Imagine a HTTP::Header type which, despite being a custom class with special behavior, can be indexed like a hash:</p>
 <pre class="code">my $request = HTTP::Request.new(GET =&gt; &quot;perl6.org&quot;); 
 say $request.header.^name;  # OUTPUT: «HTTP::Header␤» 
 
 $request.header&lt;Accept&gt; = &quot;text/plain&quot;; 
 $request.header{'Accept-' X~ &lt;Charset Encoding Language&gt;} = &lt;utf-8 gzip en&gt;; 
 $request.header.push('Accept-Language' =&gt; &quot;fr&quot;);  # like .push on a Hash 
 
 say $request.header&lt;Accept-Language&gt;.perl;  # OUTPUT: «[&quot;en&quot;, &quot;fr&quot;]␤» 
 
 my $rawheader = $request.header.Str;  # stringify according to HTTP spec 
</pre>
 <p>The simplest way to implement this class, would be to give it an attribute of type <a href="#_type_Hash.pod6">Hash</a>, and delegate all subscripting and iterating related functionality to that attribute (using a custom type constraint to make sure users don't insert anything invalid into it):</p>
 <pre class="code">class HTTP::Header does Associative does Iterable { 
     subset StrOrArrayOfStr where Str | ( Array &amp; {.all ~~ Str} ); 
 
     has %!fields of StrOrArrayOfStr 
                  handles &lt;AT-KEY EXISTS-KEY DELETE-KEY push 
                           iterator list kv keys values&gt;; 
 
     method Str { #`[not shown, for brevity] } 
 } 
</pre>
 <p>However, HTTP header field names are supposed to be case-insensitive (and preferred in camel-case). We can accommodate this by taking the <span class="code">*-KEY</span> and <span class="code">push</span> methods out of the <span class="code">handles</span> list, and implementing them separately like this:</p>
 <pre class="code">method AT-KEY     ($key) is rw { %!fields{normalize-key $key}        } 
 method EXISTS-KEY ($key)       { %!fields{normalize-key $key}:exists } 
 method DELETE-KEY ($key)       { %!fields{normalize-key $key}:delete } 
 method push(*@_) { #`[not shown, for brevity] } 
 
 sub normalize-key ($key) { $key.subst(/\w+/, *.tc, :g) } 
</pre>
 <p>Note that subscripting <span class="code">%!fields</span> returns an appropriate rw container, which our <span class="code">AT-KEY</span> can simply pass on.</p>
 <p>However, we may prefer to be less strict about user input and instead take care of sanitizing the field values ourselves. In that case, we can remove the <span class="code">StrOrArrayOfStr</span> type constraint on <span class="code">%!fields</span>, and replace our <span class="code">AT-KEY</span> implementation with one that returns a custom <span class="code">Proxy</span> container which takes care of sanitizing values on assignment:</p>
 <pre class="code">multi method AT-KEY (::?CLASS:D: $key) is rw { 
     my $element := %!fields{normalize-key $key}; 
 
     Proxy.new( 
         FETCH =&gt; method () { $element }, 
 
         STORE =&gt; method ($value) { 
             $element = do given $value».split(/',' \s+/).flat { 
                 when 1  { .[0] }    # a single value is stored as a string 
                 default { .Array }  # multiple values are stored as an array 
             } 
         } 
     ); 
 } 
</pre>
 <p>Note that declaring the method as <span class="code">multi</span> and restricting it to <span class="code">:D</span> (defined invocants) makes sure that the undefined case is passed through to the default implementation provided by <span class="code">Any</span> (which is involved in auto-vivification).</p>
 <a name="t44.10.2"></a><h2 id="_language_subscripts.pod6-Methods_to_implement_for_positional_subscripting">44.10.2 Methods to implement for positional subscripting</h2>
 <p>In order to make index-based subscripting via <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> work for your custom type, you should implement at least <span class="code">elems</span>, <span class="code">AT-POS</span> and <span class="code">EXISTS-POS</span> - and optionally others as detailed below.</p>
 <a name="t44.10.2.1"></a><h3 id="_language_subscripts.pod6-method_elems">44.10.2.1 method elems</h3>
 <pre class="code">multi method elems(::?CLASS:D:)</pre>
 <p>Expected to return a number indicating how many subscriptable elements there are in the object. May be called by users directly, and is also called by <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> when indexing elements from the end, as in <span class="code">@foo[*-1]</span>.</p>
 <p>If not implemented, your type will inherit the default implementation from <span class="code">Any</span> that always returns <span class="code">1</span> for defined invocants - which is most likely not what you want. So if the number of elements cannot be known for your positional type, add an implementation that <a href="#_routine_fail.pod6">fail</a>s or <a href="#_routine_die.pod6">die</a>s, to avoid silently doing the wrong thing.</p>
 <a name="t44.10.2.2"></a><h3 id="_language_subscripts.pod6-method_AT-POS">44.10.2.2 method AT-POS</h3>
 When modifying this section, please also adapt the AT-KEY
         section accordingly as they are very similar.
 <pre class="code">multi method AT-POS (::?CLASS:D: $index)</pre>
 TODO: Cover the case of multi-dim indices (also for all the other
               methods below), after jnthn's ongoing refactor is finished.
 <p>Expected to return the element at position <span class="code">$index</span>. This is what <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> normally calls.</p>
 <p>If you want an element to be mutable (like they are for the built-in <a href="#_type_Array.pod6">Array</a> type), you'll have to make sure to return it in the form of an item container that evaluates to the element's value when read, and updates it when assigned to. (Remember to use <span class="code">return-rw</span> or the <span class="code">is rw</span> routine trait to make that work; see the <a href="#_language_subscripts.pod6-Custom_type_example">example</a>.)</p>
 <a name="t44.10.2.3"></a><h3 id="_language_subscripts.pod6-method_EXISTS-POS">44.10.2.3 method EXISTS-POS</h3>
 When modifying this section, please also adapt the EXISTS-KEY
         section accordingly as they are very similar.
 <pre class="code">multi method EXISTS-POS (::?CLASS:D: $index)</pre>
 <p>Expected to return a Bool indicating whether or not there is an element at position <span class="code">$index</span>. This is what <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> calls when invoked like <span class="code">@foo[42]:exists</span>.</p>
 <p>What &quot;existence&quot; of an element means, is up to your type.</p>
 <p>If you don't implement this, your type will inherit the default implementation from <span class="code">Any</span>, which returns True for 0 and False for any other index - which is probably not what you want. So if checking for element existence cannot be done for your type, add an implementation that <a href="#_routine_fail.pod6">fail</a>s or <a href="#_routine_die.pod6">die</a>s, to avoid silently doing the wrong thing.</p>
 <a name="t44.10.2.4"></a><h3 id="_language_subscripts.pod6-method_DELETE-POS">44.10.2.4 method DELETE-POS</h3>
 When modifying this section, please also adapt the DELETE-KEY
         section accordingly as they are very similar.
 <pre class="code">multi method DELETE-POS (::?CLASS:D: $index)</pre>
 <p>Expected to delete the element at position <span class="code">$index</span>, and return the value it had. This is what <a href="#_routine_[ ].pod6-postcircumfix_[_]"><span class="code">postcircumfix [ ]</span></a> calls when invoked like <span class="code">@foo[42]:delete</span>.</p>
 <p>What &quot;deleting&quot; an element means, is up to your type.</p>
 <p>Implementing this method is optional; if you don't, users trying to delete elements from an object of this type will get an appropriate error message.</p>
 <a name="t44.10.2.5"></a><h3 id="_language_subscripts.pod6-method_ASSIGN-POS">44.10.2.5 method ASSIGN-POS</h3>
 When modifying this section, please also adapt the ASSIGN-KEY
         section accordingly as they are very similar.
 <pre class="code">multi method ASSIGN-POS (::?CLASS:D: $index, $new)</pre>
 <p>Expected to set the element at position <span class="code">$index</span> to the value <span class="code">$new</span>. Implementing this is entirely optional; if you don't, <span class="code">self.AT-POS($index) = $new</span> is used instead, and if you do, you should make sure it has the same effect.</p>
 <p>This is meant as an opt-in performance optimization, so that simple assignments like <span class="code">@numbers[5] = &quot;five&quot;</span> can operate without having to call <span class="code">AT-POS</span> (which would have to create and return a potentially expensive container object).</p>
 <p>Note that implementing <span class="code">ASSIGN-POS</span> does <i>not</i> relieve you from making <span class="code">AT-POS</span> an <span class="code">rw</span> method though, because less trivial assignments/modifications such as <span class="code">@numbers[5]++</span> will still use <span class="code">AT-POS</span>.</p>
 <a name="t44.10.2.6"></a><h3 id="_language_subscripts.pod6-method_BIND-POS">44.10.2.6 method BIND-POS</h3>
 When modifying this section, please also adapt the BIND-KEY
         section accordingly as they are very similar.
 <pre class="code">multi method BIND-POS (::?CLASS:D: $index, \new)</pre>
 <p>Expected to bind the value or container <span class="code">new</span> to the slot at position <span class="code">$index</span>, replacing any container that would be naturally found there. This is what is called when you write:</p>
 <pre class="code">my $x = 10; 
 @numbers[5] := $x; 
</pre>
 <p>The generic <a href="#_type_Array.pod6">Array</a> class supports this in order to allow building complex linked data structures, but for more domain-specific types it may not make sense, so don't feel compelled to implement it. If you don't, users will get an appropriate error message when they try to bind to a positional slot of an object of this type.</p>
 <a name="t44.10.3"></a><h2 id="_language_subscripts.pod6-Methods_to_implement_for_associative_subscripting">44.10.3 Methods to implement for associative subscripting</h2>
 <p>In order to make key-based subscripting via <a href="#_routine_{ }.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> work for your custom type, you should implement at least <span class="code">AT-KEY</span> and <span class="code">EXISTS-KEY</span> - and optionally others as detailed below.</p>
 <a name="t44.10.3.1"></a><h3 id="_language_subscripts.pod6-method_AT-KEY">44.10.3.1 method AT-KEY</h3>
 When modifying this section, please also adapt the AT-POS
         section accordingly as they are very similar.
 <pre class="code">multi method AT-KEY (::?CLASS:D: $key)</pre>
 <p>Expected to return the element associated with <span class="code">$key</span>. This is what <a href="#_routine_{ }.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> normally calls.</p>
 <p>If you want an element to be mutable (like they are for the built-in <a href="#_type_Hash.pod6">Hash</a> type), you'll have to make sure to return it in the form of an item container that evaluates to the element's value when read, and updates it when assigned to. (Remember to use <span class="code">return-rw</span> or the <span class="code">is rw</span> routine trait to make that work; see the <a href="#_language_subscripts.pod6-Custom_type_example">example</a>.)</p>
 <p>On the other hand if you want your collection to be read-only, feel free to return non-container values directly.</p>
 <a name="t44.10.3.2"></a><h3 id="_language_subscripts.pod6-method_EXISTS-KEY">44.10.3.2 method EXISTS-KEY</h3>
 When modifying this section, please also adapt the EXISTS-POS
         section accordingly as they are very similar.
 <pre class="code">multi method EXISTS-KEY (::?CLASS:D: $key)</pre>
 <p>Expected to return a Bool indicating whether or not there is an element associated with <span class="code">$key</span>. This is what <a href="#_routine_{ }.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> calls when invoked like <span class="code">%foo&lt;aa&gt;:exists </span>.</p>
 <p>What &quot;existence&quot; of an element means, is up to your type.</p>
 <p>If you don't implement this, your type will inherit the default implementation from <span class="code">Any</span>, which always returns False - which is probably not what you want. So if checking for element existence cannot be done for your type, add an implementation that <a href="#_routine_fail.pod6">fail</a>s or <a href="#_routine_die.pod6">die</a>s, to avoid silently doing the wrong thing.</p>
 <a name="t44.10.3.3"></a><h3 id="_language_subscripts.pod6-method_DELETE-KEY">44.10.3.3 method DELETE-KEY</h3>
 When modifying this section, please also adapt the DELETE-POS
         section accordingly as they are very similar.
 <pre class="code">multi method DELETE-KEY (::?CLASS:D: $key)</pre>
 <p>Expected to delete the element associated with <span class="code">$key</span>, and return the value it had. This is what <a href="#_routine_{ }.pod6-postcircumfix_{_}"><span class="code">postcircumfix { }</span></a> calls when invoked like <span class="code">%foo&lt;aa&gt;:delete </span>.</p>
 <p>What &quot;deleting&quot; an element means, is up to your type - though it should usually cause <span class="code">EXISTS-KEY</span> to become <span class="code">False</span> for that key.</p>
 <p>Implementing this method is optional; if you don't, users trying to delete elements from an object of this type will get an appropriate error message.</p>
 <a name="t44.10.3.4"></a><h3 id="_language_subscripts.pod6-method_ASSIGN-KEY">44.10.3.4 method ASSIGN-KEY</h3>
 When modifying this section, please also adapt the ASSIGN-POS
         section accordingly as they are very similar.
 <pre class="code">multi method ASSIGN-KEY (::?CLASS:D: $key, $new)</pre>
 <p>Expected to set the element associated with <span class="code">$key</span> to the value <span class="code">$new</span>. Implementing this is entirely optional; if you don't, <span class="code">self.AT-KEY($key) = $new</span> is used instead, and if you do, you should make sure it has the same effect.</p>
 <p>This is meant as an opt-in performance optimization, so that simple assignments <span class="code">%age&lt;Claire&gt; = 29 </span> can operate without having to call <span class="code">AT-KEY</span> (which would have to create and return a potentially expensive container object).</p>
 <p>Note that implementing <span class="code">ASSIGN-KEY</span> does <i>not</i> relieve you from making <span class="code">AT-KEY</span> an <span class="code">rw</span> method though, because less trivial assignments/modifications such as <span class="code">%age&lt;Claire&gt;++ </span> will still use <span class="code">AT-KEY</span>.</p>
 <a name="t44.10.3.5"></a><h3 id="_language_subscripts.pod6-method_BIND-KEY">44.10.3.5 method BIND-KEY</h3>
 When modifying this section, please also adapt the BIND-POS
         section accordingly as they are very similar.
 <pre class="code">multi method BIND-KEY (::?CLASS:D: $key, \new)</pre>
 <p>Expected to bind the value or container <span class="code">new</span> to the slot associated with <span class="code">$key</span>, replacing any container that would be naturally found there. This is what is called when you write:</p>
 <pre class="code">my $x = 10; 
 %age&lt;Claire&gt; := $x; 
</pre>
 <p>The generic <a href="#_type_Hash.pod6">Hash</a> class supports this in order to allow building complex linked data structures, but for more domain-specific types it may not make sense, so don't feel compelled to implement it. If you don't, users will get an appropriate error message when they try to bind to an associative slot of an object of this type.</p>
</div>
<!-- /language/syntax.pod6 --><div class="pod-body"><a id="_language_syntax.pod6"></a><a name="t45"><h1 class="title">45 Syntax</h1></a> <p class="subtitle">General rules of Perl 6 syntax</p> <p>Perl 6 borrows many concepts from human language. Which is not surprising, considering it was designed by a linguist.</p>
 <p>It reuses common elements in different contexts, has the notion of nouns (terms) and verbs (operators), is context-sensitive (in the every day sense, not necessarily in the Computer Science interpretation), so a symbol can have a different meaning depending on whether a noun or a verb is expected.</p>
 <p>It is also self-clocking, so that the parser can detect most of the common errors and give good error messages.</p>
 <a name="t45.1"></a><h1 id="_language_syntax.pod6-Lexical_Conventions">45.1 Lexical Conventions</h1>
 <p>Perl 6 code is Unicode text, current implementations support UTF-8 as the input encoding.</p>
 <p>See also <a href="#_language_unicode_ascii.pod6">Unicode versus ASCII symbols</a>.</p>
 <a name="t45.1.1"></a><h2 id="_language_syntax.pod6-Free_Form">45.1.1 Free Form</h2>
 <p>It is free-form, in the sense that you are mostly free to chose the amount of whitespace you chose, though in some cases, the presence or absence of whitespace carries meaning.</p>
 <p>So you can write</p>
 <pre class="code">if True { 
     say &quot;Hello&quot;; 
 } 
</pre>
 <p>or</p>
 <pre class="code">    if True { 
 say &quot;Hello&quot;; 
         } 
</pre>
 <p>or</p>
 <pre class="code">if True { say &quot;Hello&quot; } 
</pre>
 <p>or even</p>
 <pre class="code">if True {say &quot;Hello&quot;} 
</pre>
 <p>though you can't leave out any of the remaining whitespace.</p>
 <a name="t45.1.2"></a><h2 id="_language_syntax.pod6-Unspace">45.1.2 <a name="638"></a>Unspace <a name="639"></a></h2>
 <p>In many places where the compiler would not allow a space you can use any whitespace that is quoted with a backslash. Unspaces in tokens are not supported. Newlines that are unspaced still count when the compiler produces line numbers. Use cases for unspace are separation of postfix operators and routine argument lists.</p>
 <pre class="code">sub alignment(+@l) { +@l };
sub long-name-alignment(+@l) { +@l };
alignment\         (1,2,3,4).say;
long-name-alignment(3,5)\   .say;
say Inf+Inf\i;</pre>
 <a name="t45.1.3"></a><h2 id="_language_syntax.pod6-Separating_Statements_with_Semicolons">45.1.3 Separating Statements with Semicolons</h2>
 <p>A Perl 6 program is a list of statements, separated by semicolons <span class="code">;</span>.</p>
 <pre class="code">say &quot;Hello&quot;; 
 say &quot;world&quot;; 
</pre>
 <p>A semicolon after the final statement (or after the final statement inside a block) is optional.</p>
 <pre class="code">say &quot;Hello&quot;; 
 say &quot;world&quot; 
</pre>
 <pre class="code">if True { 
     say &quot;Hello&quot; 
 } 
 say &quot;world&quot; 
</pre>
 <a name="t45.1.4"></a><h2 id="_language_syntax.pod6-Implied_Separator_Rule_(for_statements_ending_in_blocks)">45.1.4 Implied Separator Rule (for statements ending in blocks)</h2>
 <p>Complete statements ending in bare blocks can omit the trailing semicolon, if no additional statements on the same line follow the block's closing curly brace <span class="code">}</span>. This is called the &quot;implied separator rule&quot;. For example, you don't need to write a semicolon after an <span class="code">if</span> statement block as seen above, and below.</p>
 <pre class="code">if True { say &quot;Hello&quot; } 
 say &quot;world&quot;; 
</pre>
 <p>However, semicolons are required to separate a block from trailing statements in the same line.</p>
 <pre class="code">if True { say &quot;Hello&quot; }; say &quot;world&quot;; 
 #                     ^^^ this ; is required 
</pre>
 <p>This implied statement separator rule applies in other ways, besides control statements, that could end with a bare block. For example, in combination with the colon <span class="code">:</span> syntax for method calls.</p>
 <pre class="code">my @names = &lt;Foo Bar Baz&gt;; 
 my @upper-case-names = @names.map: { .uc }    # OUTPUT: [FOO BAR BAZ] 
</pre>
 <p>For a series of blocks that are part of the same <span class="code">if</span>/<span class="code">elsif</span>/<span class="code">else</span> (or similar) construct, the implied separator rule only applies at the end of the last block of that series. These three are equivalent:</p>
 <pre class="code">if True { say &quot;Hello&quot; } else { say &quot;Goodbye&quot; }; say &quot;world&quot;; 
 #                                            ^^^ this ; is required 
</pre>
 <pre class="code">if True { say &quot;Hello&quot; } else { say &quot;Goodbye&quot; } # &lt;- implied statement separator 
 say &quot;world&quot;; 
</pre>
 <pre class="code">if True { say &quot;Hello&quot; }   # still in the middle of an if/else statement 
 else    { say &quot;Goodbye&quot; } # &lt;- no semicolon required because it ends in a block 
                           #    without trailing statements in the same line 
 say &quot;world&quot;; 
</pre>
 <a name="t45.1.5"></a><h2 id="_language_syntax.pod6-Comments">45.1.5 Comments</h2>
 <p>Comments are parts of the program text which are only intended for human readers; the Perl 6 compilers do not evaluate them as program text.</p>
 <p>Comments count as whitespace in places where the absence or presence of whitespace disambiguates possible parses.</p>
 <a name="t45.1.5.1"></a><h3 id="_language_syntax.pod6-Single-line_comments">45.1.5.1 Single-line comments</h3>
 <p>The most common form of comments in Perl 6 starts with a single hash character <span class="code">#</span> and goes until the end of the line.</p>
 <pre class="code">if $age &gt; 250 {     # catch obvious outliers 
     # this is another comment! 
     die &quot;That doesn't look right&quot; 
 } 
</pre>
 <a name="t45.1.5.2"></a><h3 id="_language_syntax.pod6-Multi-line_/_embedded_comments">45.1.5.2 Multi-line / embedded comments</h3>
 <p>Multi-line and embedded comments start with a hash character, followed by a backtick, and then some opening bracketing character, and end with the matching closing bracketing character. The content can not only span multiple lines, but can also be embedded inline.</p>
 <pre class="code">if #`( why would I ever write an inline comment here? ) True { 
     say &quot;something stupid&quot;; 
 } 
</pre>
 <p>Brackets inside the comment can be nested, so in <span class="code">#`{ a { b } c }</span>, the comment goes until the very end of the string. You may also use more complex brackets, such as <span class="code">#`{{ double-curly-brace }}</span>, which might help disambiguate from nested brackets.</p>
 <a name="t45.1.5.3"></a><h3 id="_language_syntax.pod6-Pod_comments">45.1.5.3 Pod comments</h3>
 <p>Pod syntax can be used for multi-line comments</p>
 <pre class="code">say &quot;this is code&quot;; 
 
 =begin comment 
 
 Here are several 
 lines 
 of comment 
 
 =end comment 
 
 say 'code again'; 
</pre>
 <a name="t45.1.6"></a><h2 id="_language_syntax.pod6-Identifiers">45.1.6 Identifiers</h2>
 <p>Identifiers are a grammatical building block that occur in several places. An identifier is a primitive name, and must start with an alphabetic character (or an underscore), followed by zero or more word characters (alphabetic, underscore or number). You can also embed dashes <span class="code">-</span> or single quotes <span class="code">'</span> in the middle, but not two in a row, and only if followed immediately by an alphabetic character.</p>
 <pre class="code"># valid identifiers: 
 x 
 something-longer 
 with-numbers1234 
 don't 
 fish-food 
 π 
</pre>
 <pre class="code"># not valid identifiers: 
 with-numbers1234-5 
 42 
 is-prime? 
 fish--food 
</pre>
 <p>Names of constants, types (including classes and modules) and routines (subs and methods) are identifiers, and they also appear in variable names (usually proceeded by a sigil; see <a href="#_language_variables.pod6">variables</a> for more details.)</p>
 <p>Namespaces are provided by <a href="#_language_packages.pod6">packages</a>. By separating identifiers with double colons, the right most name is inserted into existing or automatically created packages.</p>
 <pre class="code">my Int $Foo::Bar::buzz = 42;
say $Foo::Bar::buzz; # OUTPUT: «42␤»</pre>
 <p>Identifiers can contain colon pairs. The entire colon pair becomes part of the name of the identifier.</p>
 <pre class="code">my $foo:bar = 1;
my $foo:bar&lt;2&gt; = 2;
say MY::.keys;
# OUTPUT: «($=pod !UNIT_MARKER EXPORT $_ $! ::?PACKAGE
#          GLOBALish $¢ $=finish $/ $foo:bar $foo:bar&lt;2&gt;
#          $?PACKAGE)␤»</pre>
 <p>Colon pairs in identifiers support interpolation. Please note that resolution of names often happens at compile time, so interpolation values must be known at compile time.</p>
 <pre class="code">constant $c = 42;
my $a:foo&lt;42&gt; = &quot;answer&quot;;
say $a:foo«$c»;
# OUTPUT: «answer␤»</pre>
 <p>Unicode superscript numerals are exponents and not part of an identifier; e.g. <span class="code">$x²</span> does the square of variable <span class="code">$x</span>. Subscript numerals are TBD.</p>
 <a name="t45.1.7"></a><h2 id="_language_syntax.pod6-Term_term:&lt;&gt;">45.1.7 Term term:&lt;&gt;</h2>
 <p>You can use <span class="code">term:&lt;&gt;</span> to introduce new terms.</p>
 <p>This is handy for introducing constants that defy the rules of normal identifiers:</p>
 <pre class="code">use Test; plan 1; constant &amp;term:&lt;👍&gt; = &amp;ok.assuming(True);
👍
# OUTPUT: «1..1␤ok 1 - ␤»</pre>
 <p>But terms don't have to be constant: you can also use them for functions that don't take any arguments, and force the parser to expect an operator after them.</p>
 <p>For instance:</p>
 <pre class="code">sub term:&lt;dice&gt; { (1..6).pick };
say dice + dice;</pre>
 <p>can print any number between 1 and 12.</p>
 <p>If instead we had declared `dice` as a regular `sub dice() { (1...6).pick }`, the expression `dice + dice` would be parsed as `dice(+(dice()))`, resulting in an error because `sub dice` expects zero arguments.</p>
 <a name="t45.2"></a><h1 id="_language_syntax.pod6-Statements_and_Expressions">45.2 Statements and Expressions</h1>
 <p>Perl 6 programs are made of lists of statements. A special case of a statement is an <i>expression</i>, which returns a value. For example <span class="code">if True { say 42 }</span> is syntactically a statement, but not an expression, whereas <span class="code">1 + 2</span> is an expression (and thus also a statement).</p>
 <p>The <span class="code">do</span> prefix turns statements into expressions. So while</p>
 <pre class="code">my $x = if True { 42 };     # Syntax error! 
</pre>
 <p>is an error,</p>
 <pre class="code">my $x = do if True { 42 };</pre>
 <p>assigns the return value of the if statement (here <span class="code">42</span>) to the variable <span class="code">$x</span>.</p>
 <a name="t45.3"></a><h1 id="_language_syntax.pod6-Terms">45.3 Terms</h1>
 <p>Terms are the basic nouns that, optionally together with operators, can form expressions. Examples for terms are variables (<span class="code">$x</span>), barewords such as type names (<span class="code">Int</span>), literals (<span class="code">42</span>), declarations (<span class="code">sub f() { }</span>) and calls (<span class="code">f()</span>).</p>
 <p>For example, in the expression <span class="code">2 * $salary</span>, <span class="code">2</span> and <span class="code">$salary</span> are two terms (an <a href="#_type_Int.pod6">integer</a> literal and a <a href="#_language_variables.pod6">variable</a>).</p>
 <a name="t45.3.1"></a><h2 id="_language_syntax.pod6-Variables">45.3.1 Variables</h2>
 <p>Variables typically start with a special character called the <i>sigil</i>, and are followed by an identifier. Variables must be declared before you can use them.</p>
 <pre class="code"># declaration:
my $number = 21;
# usage:
say $number * 2;</pre>
 <p>See the <a href="#_language_variables.pod6">documentation on variables</a> for more details.</p>
 <a name="t45.3.2"></a><h2 id="_language_syntax.pod6-Barewords_(Constants,_Type_Names)">45.3.2 Barewords (Constants, Type Names)</h2>
 <p>Pre-declared identifiers can be terms on their own. Those are typically type names or constants, but also the term <span class="code">self</span> which refers to an object that a method was called on (see <a href="#_language_objects.pod6">objects</a>), and sigilless variables:</p>
 <pre class="code">say Int;                # OUTPUT: «(Int)␤»
#   ^^^ type name (built in)

constant answer = 42;
say answer;
#   ^^^^^^ constant

class Foo {
    method type-name {
        self.^name;
      # ^^^^ built-in term 'self'
    }
}
say Foo.type-name;     # OUTPUT: «Foo␤»
#   ^^^ type name</pre>
 <a name="t45.3.3"></a><h2 id="_language_syntax.pod6-Packages_and_Qualified_Names">45.3.3 Packages and Qualified Names</h2>
 <p>Named entities, such as variables, constants, classes, modules, subs, etc, are part of a namespace. Nested parts of a name use <span class="code">::</span> to separate the hierarchy. Some examples:</p>
 <pre class="code">$foo                # simple identifiers 
 $Foo::Bar::baz      # compound identifiers separated by :: 
 $Foo::($bar)::baz   # compound identifiers that perform interpolations 
 Foo::Bar::bob(23)   # function invocation given qualified name 
</pre>
 <p>See the <a href="#_language_packages.pod6">documentation on packages</a> for more details.</p>
 <a name="t45.3.4"></a><h2 id="_language_syntax.pod6-Literals">45.3.4 Literals</h2>
 <p>A <a href="https://en.wikipedia.org/wiki/Literal_%28computer_programming%29">literal</a> is a representation of a constant value in source code. Perl 6 has literals for several built-in types, like <a href="#_type_Str.pod6">strings</a>, several numeric types, <a href="#_type_Pair.pod6">pairs</a> and more.</p>
 <a name="t45.3.4.1"></a><h3 id="_language_syntax.pod6-String_literals">45.3.4.1 String literals</h3>
 <p>String literals are surrounded by quotes:</p>
 <pre class="code">say 'a string literal';
say &quot;a string literal\nthat interprets escape sequences&quot;;</pre>
 <p>See <a href="#_language_quoting.pod6">quoting</a> for many more options.</p>
 <a name="t45.3.4.2"></a><h3 id="_language_syntax.pod6-Number_literals">45.3.4.2 <a name="640"></a>Number literals</h3>
 <p>Number literals are generally specified in base ten, unless a prefix like <span class="code">0x</span> (he<b>x</b>adecimal, base 16), <span class="code">0o</span> (<b>o</b>ctal, base 8) or <span class="code">0b</span> (<b>b</b>inary, base 2) or an explicit base in adverbial notation like <span class="code">:16&lt;A0&gt; </span> specifies it otherwise. Unlike other programming languages, leading zeros do <i>not</i> indicate base 8; instead a compile-time warning is issued.</p>
 <p>In all literal formats, you can use underscores to group digits; they don't carry any semantic information; the following literals all evaluate to the same number:</p>
 <pre class="code">1000000 
 1_000_000 
 10_00000 
 100_00_00 
</pre>
 <a name="t45.3.4.2.1"></a><h4 id="_language_syntax.pod6-Int_literals">45.3.4.2.1 Int literals</h4>
 <p>Integers default to signed base-10, but you can use other bases. For details, see <a href="#_type_Int.pod6">Int</a>.</p>
 <pre class="code">-2          # actually not a literal, but unary - operator applied to numeric literal 2 
 12345 
 0xBEEF      # base 16 
 0o755       # base 8 
 :3&lt;1201&gt;    # arbitrary base, here base 3 
</pre>
 <a name="t45.3.4.2.2"></a><h4 id="_language_syntax.pod6-Rat_literals">45.3.4.2.2 Rat literals</h4>
 <p><a href="#_type_Rat.pod6">Rat</a> literals (rationals) are very common, and take the place of decimals or floats in many other languages. Integer division also results in a <span class="code">Rat</span>.</p>
 <pre class="code">1.0 
 3.14159 
 -2.5        # Not actually a literal, but still a Rat 
 :3&lt;21.0012&gt; # Base 3 rational 
 ⅔ 
 2/3         # Not actually a literal, but still a Rat 
</pre>
 <a name="t45.3.4.2.3"></a><h4 id="_language_syntax.pod6-Num_literals">45.3.4.2.3 Num literals</h4>
 <p>Scientific notation with an integer exponent to base ten after an <span class="code">e</span> produces <a href="#_type_Num.pod6">floating point number</a>:</p>
 <pre class="code">1e0 
 6.022e23 
 1e-9 
 -2e48 
 2e2.5       # error 
</pre>
 <a name="t45.3.4.2.4"></a><h4 id="_language_syntax.pod6-Complex_literals">45.3.4.2.4 Complex literals</h4>
 <p><a href="#_type_Complex.pod6">Complex</a> numbers are written either as an imaginary number (which is just a rational number with postfix <span class="code">i</span> appended), or as a sum of a real and an imaginary number:</p>
 <pre class="code">1+2i 
 6.123e5i    # note that this is 6.123e5 * i and not 6.123 * 10 ** (5i) 
</pre>
 <a name="t45.3.4.3"></a><h3 id="_language_syntax.pod6-Pair_literals">45.3.4.3 Pair literals</h3>
 <p><a href="#_type_Pair.pod6">Pairs</a> are made of a key and a value, and there are two basic forms for constructing them: <span class="code">key =&gt; 'value' </span> and <span class="code">:key('value')</span>.</p>
 <a name="t45.3.4.3.1"></a><h4 id="_language_syntax.pod6-Arrow_pairs">45.3.4.3.1 Arrow pairs</h4>
 <p>Arrow pairs can have an expression or an identifier on the left-hand side:</p>
 <pre class="code">identifier =&gt; 42 
 &quot;identifier&quot; =&gt; 42 
 ('a' ~ 'b') =&gt; 1 
</pre>
 <a name="t45.3.4.3.2"></a><h4 id="_language_syntax.pod6-Adverbial_pairs_(colon_pairs)">45.3.4.3.2 Adverbial pairs (colon pairs)</h4>
 <p>Short forms without explicit values:</p>
 <pre class="code">my $thing = 42; 
 :$thing                 # same as  thing =&gt; $thing 
 :thing                  # same as  thing =&gt; True 
 :!thing                 # same as  thing =&gt; False 
</pre>
 <p>The variable form also works with other sigils, like <span class="code">:&amp;callback</span> or <span class="code">:@elements</span>.</p>
 <p>Long forms with explicit values:</p>
 <pre class="code">:thing($value)              # same as  thing =&gt; $value 
 :thing&lt;quoted list&gt;         # same as  thing =&gt; &lt;quoted list&gt; 
 :thing['some', 'values']    # same as  thing =&gt; ['some', 'values'] 
 :thing{a =&gt; 'b'}            # same as  thing =&gt; { a =&gt; 'b' } 
</pre>
 <a name="t45.3.4.4"></a><h3 id="_language_syntax.pod6-Array_literals">45.3.4.4 Array literals</h3>
 <p>A pair of square brackets can surround an expression to form an itemized <a href="#_type_Array.pod6">Array</a> literal; typically there is a comma-delimited list inside:</p>
 <pre class="code">say ['a', 'b', 42].join(' ');   # OUTPUT: «a b 42␤»
#   ^^^^^^^^^^^^^^ Array constructor</pre>
 <p>If the constructor is given a single <a href="#_type_Iterable.pod6">Iterable</a>, it'll clone and flatten it. If you want an <span class="code">Array</span> with just 1 element that is that <span class="code">Iterable</span>, ensure to use a comma after it:</p>
 <pre class="code">my @a = 1, 2;
say [@a].perl;  # OUTPUT: «[1, 2]␤»
say [@a,].perl; # OUTPUT: «[[1, 2],]␤»</pre>
 <p>The <span class="code">Array</span> constructor does not flatten other types of contents. Use the <a href="#_type_Slip.pod6">Slip</a> prefix operator (<span class="code">|</span>) to flatten the needed items:</p>
 <pre class="code">my @a = 1, 2;
say [@a, 3, 4].perl;  # OUTPUT: «[[1, 2], 3, 4]␤»
say [|@a, 3, 4].perl; # OUTPUT: «[1, 2, 3, 4]␤»</pre>
 <a name="t45.3.4.5"></a><h3 id="_language_syntax.pod6-Hash_literals">45.3.4.5 Hash literals</h3>
 <p>A leading associative sigil and pair of parenthesis <span class="code">%( )</span> can surround a <span class="code">List</span> of <span class="code">Pairs</span> to form a <a href="#_type_Hash.pod6">Hash</a> literal; typically there is a comma-delimited <span class="code">List</span> of <span class="code">Pairs</span> inside. If a non-pair is used, it is assumed to be a key and the next element is the value. Most often this is used with simple arrow pairs.</p>
 <pre class="code">say %( a =&gt; 3, b =&gt; 23, :foo, :dog&lt;cat&gt;, &quot;french&quot;, &quot;fries&quot; );
# OUTPUT: «a =&gt; 3, b =&gt; 23, dog =&gt; cat, foo =&gt; True, french =&gt; fries␤»

say %(a =&gt; 73, foo =&gt; &quot;fish&quot;).keys.join(&quot; &quot;);   # OUTPUT: «a foo␤»
#   ^^^^^^^^^^^^^^^^^^^^^^^^^ Hash constructor</pre>
 <p>When assigning to a <span class="code">%</span> sigiled variable on the LHS, the sigil and parenthesis surrounding the RHS <span class="code">Pairs</span> are optional.</p>
 <pre class="code">my %ages = fred =&gt; 23, jean =&gt; 87, ann =&gt; 4;</pre>
 <p>By default, keys in <span class="code">%( )</span> are forced to strings. To compose a hash with non-string keys, use curly brace delimiters with a colon prefix <span class="code">:{ }</span> :</p>
 <pre class="code">my $when = :{ (now) =&gt; &quot;Instant&quot;, (DateTime.now) =&gt; &quot;DateTime&quot; };</pre>
 <p>Note that with objects as keys, you cannot access non-string keys as strings:</p>
 <pre class="code">say :{ -1 =&gt; 41, 0 =&gt; 42, 1 =&gt; 43 }&lt;0&gt;;  # OUTPUT: «(Any)␤»
say :{ -1 =&gt; 41, 0 =&gt; 42, 1 =&gt; 43 }{0};  # OUTPUT: «42␤»</pre>
 <a name="t45.3.4.6"></a><h3 id="_language_syntax.pod6-Regex_literals">45.3.4.6 Regex literals</h3>
 <p>A <a href="#_type_Regex.pod6">Regex</a> is declared with slashes like <span class="code">/foo/</span>. Note that this <span class="code">//</span> syntax is shorthand for the full <span class="code">rx//</span> syntax.</p>
 <pre class="code">/foo/          # Short version 
 rx/foo/        # Longer version 
 Q :regex /foo/ # Even longer version 
 
 my $r = /foo/; # Regexes can be assigned to variables 
</pre>
 <a name="t45.3.4.7"></a><h3 id="_language_syntax.pod6-Signature_literals">45.3.4.7 Signature literals</h3>
 <p>Signatures can be used standalone for pattern matching, in addition to the typical usage in sub and block declarations. A standalone signature is declared starting with a colon:</p>
 <pre class="code">say &quot;match!&quot; if 5, &quot;fish&quot; ~~ :(Int, Str); # OUTPUT: «match!␤»

my $sig = :(Int $a, Str);
say &quot;match!&quot; if (5, &quot;fish&quot;) ~~ $sig; # OUTPUT: «match!␤»

given &quot;foo&quot;, 42 {
  when :(Str, Str) { &quot;This won't match&quot; }
  when :(Str, Int $n where $n &gt; 20) { &quot;This will!&quot; }
}</pre>
 <p>See the <a href="#_type_Signature.pod6">Signatures</a> documentation for more about signatures.</p>
 <a name="t45.3.5"></a><h2 id="_language_syntax.pod6-Declarations">45.3.5 Declarations</h2>
 <a name="t45.3.5.1"></a><h3 id="_language_syntax.pod6-Variable_declaration">45.3.5.1 Variable declaration</h3>
 <pre class="code">my $x;                          # simple lexical variable
my $x = 7;                      # initialize the variable
my Int $x = 7;                  # declare the type
my Int:D $x = 7;                # specify that the value must be defined (not undef)
my Int $x where { $_ &gt; 3 } = 7; # constrain the value based on a function
my Int $x where * &gt; 3 = 7;      # same constraint, but using L&lt;Whatever&gt; short-hand</pre>
 <p>See <a href="#_language_variables.pod6-Variable_Declarators_and_Scope">Variable Declarators and Scope</a> for more details on other scopes (our, has).</p>
 <a name="t45.3.5.2"></a><h3 id="_language_syntax.pod6-Subroutine_declaration">45.3.5.2 Subroutine declaration</h3>
 <pre class="code"># The signature is optional
sub foo { say &quot;Hello!&quot; }

sub say-hello($to-whom) { say &quot;Hello $to-whom!&quot; }</pre>
 <p>You can also assign subroutines to variables.</p>
 <pre class="code">my &amp;f = sub { say &quot;Hello!&quot; } # Un-named sub
my &amp;f = -&gt; { say &quot;Hello!&quot; }  # Lambda style syntax. The &amp; sigil indicates the variable holds a function
my $f = -&gt; { say &quot;Hello!&quot; }  # Functions can also be put into scalars</pre>
 <a name="t45.3.5.3"></a><h3 id="_language_syntax.pod6-Package,_Module,_Class,_Role,_and_Grammar_declaration">45.3.5.3 <a name="641"></a>Package, Module, Class, Role, and Grammar declaration</h3>
 <p>There are several types of package, each declared with a keyword, a name, some optional traits, and a body of subroutines, methods, or rules.</p>
 <pre class="code">package P { }

module M { }

class C { }

role R { }

grammar G { }</pre>
 <p>You can declare a <span class="code">unit</span> package without explicit curly brackets. This must be at the start of the file (preceded only by comments or <span class="code">use</span> statements), and the rest of the file will be taken as being the body of the package.</p>
 <pre class="code">unit module M; 
 # ... stuff goes here instead of in {}'s 
</pre>
 <a name="t45.3.5.4"></a><h3 id="_language_syntax.pod6-Multi-dispatch_declaration">45.3.5.4 Multi-dispatch declaration</h3>
 <p>See also <a href="#_language_functions.pod6-Multi-dispatch">Multi-dispatch</a>.</p>
 <p>Subroutines can be declared with multiple signatures.</p>
 <pre class="code">multi sub foo() { say &quot;Hello!&quot; }
multi sub foo($name) { say &quot;Hello $name!&quot; }</pre>
 <p>Inside of a class, you can also declare multi-dispatch methods.</p>
 <pre class="code">multi method greet { }
multi method greet(Str $name) { }</pre>
 <a name="t45.4"></a><h1 id="_language_syntax.pod6-Subroutine_calls">45.4 Subroutine calls</h1>
 <p>Subroutines are created with the keyword <span class="code">sub</span> followed by an optional name, an optional signature and a code block. Subroutines are lexically scoped, so if a name is specified at the declaration time, the same name can be used in the lexical scope to invoke the subroutine. A subroutine is an instance of type <a href="#_type_Sub.pod6">Sub</a> and can be assigned to any container.</p>
 TODO
 <pre class="code">foo;   # Invoke the function foo with no arguments 
 foo(); # Invoke the function foo with no arguments 
 &amp;f();  # Invoke &amp;f, which contains a function 
 &amp;f.(); # Same as above, needed to make the following work 
 my @functions = ({say 1}, {say 2}, {say 3}); 
 @functions&gt;&gt;.(); # hyper method call operator 
</pre>
 <p>When declared within a class, a subroutine is named &quot;method&quot;: methods are subroutines invoked against an object (i.e., a class instance). Within a method the special variable <span class="code">self</span> contains the object instance (see <a href="#_language_classtut.pod6-Methods">Methods</a>).</p>
 <pre class="code"># Method invocation. Object (instance) is $person, method is set-name-age 
 $person.set-name-age('jane', 98);   # Most common way 
 $person.set-name-age: 'jane', 98;   # Precedence drop 
 set-name-age($person: 'jane', 98);  # Invocant marker 
</pre>
 <p>For more information see <a href="#_language_functions.pod6">functions</a>.</p>
 <a name="t45.4.1"></a><h2 id="_language_syntax.pod6-Precedence_Drop">45.4.1 Precedence Drop</h2>
 <p>In the case of method invocation (i.e., when invoking a subroutine against a class instance) it is possible to apply the <span class="code">precedence drop</span>, identified by a colon <span class="code">:</span> just after the method name and before the argument list. The argument list takes precedence over the method call, that on the other hand &quot;drops&quot; its precedence. In order to better understand consider the following simple example (extra spaces have been added just to align method calls):</p>
 <pre class="code">my $band = 'Foo Fighters'; 
 say $band.substr( 0, 3 ) .substr( 0, 1 ); # F 
 say $band.substr: 0, 3   .substr( 0, 1 ); # Foo 
</pre>
 <p>In the second method call the rightmost <span class="code">substr</span> is applied to &quot;3&quot; and not to the result of the leftmost <span class="code">substr</span>, which on the other hand yields precedence to the rightmost one.</p>
 <a name="t45.5"></a><h1 id="_language_syntax.pod6-Operators">45.5 Operators</h1>
 <p>See <a href="#_language_operators.pod6">Operators</a> for lots of details.</p>
 <p>Operators are functions with a more symbol heavy and composable syntax. Like other functions, operators can be multi-dispatch to allow for context-specific usage.</p>
 <p>There are five types (arrangements) for operators, each taking either one or two arguments.</p>
 <pre class="code">++$x           # prefix, operator comes before single input 
 5 + 3          # infix, operator is between two inputs 
 $x++           # postfix, operator is after single input 
 &lt;the blue sky&gt; # circumfix, operator surrounds single input 
 %foo&lt;bar&gt;      # postcircumfix, operator comes after first input and surrounds second 
</pre>
 <a name="t45.5.1"></a><h2 id="_language_syntax.pod6-Meta_Operators">45.5.1 Meta Operators</h2>
 <p>Operators can be composed. A common example of this is combining an infix (binary) operator with assignment. You can combine assignment with any binary operator.</p>
 <pre class="code">$x += 5     # Adds 5 to $x, same as $x = $x + 5 
 $x min= 3   # Sets $x to the smaller of $x and 3, same as $x = $x min 3 
 $x .= child # Equivalent to $x = $x.child 
</pre>
 <p>Wrap an infix operator in <span class="code">[ ]</span> to create a new reduction operator that works on a single list of inputs, resulting in a single value.</p>
 <pre class="code">say [+] &lt;1 2 3 4 5&gt;;    # OUTPUT: «15␤»
(((1 + 2) + 3) + 4) + 5 # equivalent expanded version</pre>
 <p>Wrap an infix operator in <span class="code">« »</span> (or the ASCII equivalent <span class="code"></span>) to create a new hyper operator that works pairwise on two lists.</p>
 <pre class="code">say &lt;1 2 3&gt; «+» &lt;4 5 6&gt; # OUTPUT: «(5 7 9)␤»</pre>
 <p>The direction of the arrows indicates what to do when the lists are not the same size.</p>
 <pre class="code">@a «+« @b # Result is the size of @b, elements from @a will be re-used 
 @a »+» @b # Result is the size of @a, elements from @b will be re-used 
 @a «+» @b # Result is the size of the biggest input, the smaller one is re-used 
 @a »+« @b # Exception if @a and @b are different sizes 
</pre>
 <p>You can also wrap a unary operator with a hyper operator.</p>
 <pre class="code">say -« &lt;1 2 3&gt; # OUTPUT: «(-1 -2 -3)␤»</pre>
</div>
<!-- /language/tables.pod6 --><div class="pod-body"><a id="_language_tables.pod6"></a><a name="t46"><h1 class="title">46 Pod 6 Tables</h1></a> <p class="subtitle">The Good, the Bad, and the Ugly</p> <p>The official specification for Perl 6 POD tables is located in the Documentation specification here: <a href="https://raw.githubusercontent.com/perl6/specs/master/S26-documentation.pod">Tables</a>. Although Pod 6 specifications are not completely handled properly yet, several projects are ongoing to correct the situation; one such project is ensuring the proper handling of Pod 6 tables.</p>
 <p>As part of that effort, this document explains the current state of Pod 6 tables by example: valid tables, invalid tables, and ugly tables (i.e., valid tables that, because of sloppy construction, may result in something different than the user expects).</p>
 <a name="t46.1"></a><h1 id="_language_tables.pod6-Restrictions">46.1 Restrictions</h1>
 <p>1. The only valid column separators are either visible (' | ' or ' + ') (note at least one space is required before and after the visible column separators) or invisible [two or more contiguous whitespace (WS) characters (e.g., ' ')]. Column separators are not normally recognized as such at the left or right side of a table, but one on the right side may result in one or more empty cells depending upon the number of the cells in other rows. (Note that a pipe or plus character meant as part of cell data will result in an unintended extra column unless the character is escaped with a backslash, e.g., '\|' or '\+'.)</p>
 <p>2. Mixing visible and invisible column separators in the same table is illegal.</p>
 <p>3. The only valid row separator characters are '_', '-', '+', ' ', '|', and '='.</p>
 <p>4. Consecutive interior row-separator lines are illegal.</p>
 <p>5. Leading and trailing row-separator lines generate a warning.</p>
 <p>6. Currently formatting blocks in table cells is ignored and treated as plain text.</p>
 <p>HINT: During development, use of the environment variable <span class="code">RAKUDO_POD6_TABLE_DEBUG</span> will show you how Rakudo interprets your pod tables before they are passed to renderers such as <b>Pod::To::HTML</b>, <b>Pod::To::Text</b>, and <b>Pod::To::Markdown</b>.</p>
 <a name="t46.2"></a><h1 id="_language_tables.pod6-Best_Practices">46.2 Best Practices</h1>
 <p>1. Use of WS for column separators is fragile, and they should only be used for simple tables. The <span class="code">Ugly Tables</span> section below illustrates the problem.</p>
 <p>2. Align table columns and rows carefully. See the examples in later best practices.</p>
 <p>3. Don't use visual borders on the table.</p>
 <p>4. For tables with a heading and single- or multi-line content, use one or more contiguous equal signs ('=') as the row separator after the heading, and use one or more contiguous hyphens ('-') as the row separator in the content portion of the table. For example,</p>
 <ul><li><p>Heading and single- or multi-line content</p>
</li></ul> <pre class="code">=begin table 
  hdr col 0 | hdr col 1 
  ====================== 
  row 0     | row 0 
  col 0     | col 1 
  ---------------------- 
  row 1     | row 1 
  col 0     | col 1 
  ---------------------- 
 =end table 
</pre>
 <ul><li><p>Heading and single-line content</p>
</li></ul> <pre class="code">=begin table 
  hdr col 0   | hdr col 1 
  ====================== 
  row 0 col 0 | row 0 col 1 
  row 1 col 0 | row 1 col 1 
 =end table 
</pre>
 <p>4. For tables with no header and multi-line content, use one or more contiguous hyphens ('-') as the row separator in the content portion of the table. For example,</p>
 <pre class="code">=begin table 
  row 0       | row 0 
  col 0       | col 1 
  ---------------------- 
  row 1 col 0 | row 1 col 1 
 =end table 
</pre>
 <p>5. For tables with many rows and no multi-line content, using no row separators is fine. However, with one or more rows with multi-line content, it is easier to ensure proper results by using a row separator line (visible or invisible) between every content row.</p>
 <p>6. Ensure intentionally empty cells have column separators, otherwise expect a warning about short rows being filled with empty cells. (Tables rows will always have the same number of cells as the row with the most cells. Short rows are padded on the right with empty cells and generate a warning.)</p>
 <p>Note that not following best practices may require more table processing due to additional looping over table rows.</p>
 <a name="t46.3"></a><h1 id="_language_tables.pod6-Good_Tables">46.3 Good Tables</h1>
 <p>Following are examples of valid (Good) tables (taken from the current <a href="https://github.com/perl6/roast">Specification Tests</a>).</p>
 <pre class="code">=begin table 
         The Shoveller   Eddie Stevens     King Arthur's singing shovel 
         Blue Raja       Geoffrey Smith    Master of cutlery 
         Mr Furious      Roy Orson         Ticking time bomb of fury 
         The Bowler      Carol Pinnsler    Haunted bowling ball 
 =end table 
</pre>
 <pre class="code">=table 
     Constants           1 
     Variables           10 
     Subroutines         33 
     Everything else     57 
 
</pre>
 <pre class="code">=for table 
     mouse    | mice 
     horse    | horses 
     elephant | elephants 
 
</pre>
 <pre class="code">=table 
     Animal | Legs |    Eats 
     ======================= 
     Zebra  +   4  + Cookies 
     Human  +   2  +   Pizza 
     Shark  +   0  +    Fish 
 
</pre>
 <pre class="code">=table 
         Superhero     | Secret          | 
                       | Identity        | Superpower 
         ==============|=================|================================ 
         The Shoveller | Eddie Stevens   | King Arthur's singing shovel 
 
</pre>
 <pre class="code">=begin table 
 
                         Secret 
         Superhero       Identity          Superpower 
         =============   ===============   =================== 
         The Shoveller   Eddie Stevens     King Arthur's 
                                           singing shovel 
 
         Blue Raja       Geoffrey Smith    Master of cutlery 
 
         Mr Furious      Roy Orson         Ticking time bomb 
                                           of fury 
 
         The Bowler      Carol Pinnsler    Haunted bowling ball 
 
 =end table 
</pre>
 <pre class="code">=table 
     X | O | 
    ---+---+--- 
       | X | O 
    ---+---+--- 
       |   | X 
 
</pre>
 <pre class="code">=table 
     X   O 
    =========== 
         X   O 
    =========== 
             X 
 
</pre>
 <pre class="code">=begin table 
 
 foo 
 bar 
 
 =end table 
</pre>
 <a name="t46.4"></a><h1 id="_language_tables.pod6-Bad_Tables">46.4 Bad Tables</h1>
 <p>Following are examples of invalid (Bad) tables, and they should trigger an unhandled exception during parsing.</p>
 <ul><li><p>Mixed column separator types in the same row are not allowed:</p>
</li></ul> <pre class="code">=begin table 
 r0c0 +  r0c1 | r0c3 
 =end table 
</pre>
 <ul><li><p>Mixed visual and whitespace column separator types in the same table are not allowed:</p>
</li></ul> <pre class="code">=begin table 
 r0c0 +  r0c1 | r0c3 
 r1c0    r0c1   r0c3 
 =end table 
</pre>
 <ul><li><p>Two consecutive interior row separators are not allowed:</p>
</li></ul> <pre class="code">=begin table 
 r0c0 |  r0c1 
 ============ 
 ============ 
 r1c0 |  r1c1 
 =end table 
</pre>
 <a name="t46.5"></a><h1 id="_language_tables.pod6-Ugly_Tables">46.5 Ugly Tables</h1>
 <p>Following are examples of valid tables that are probably intended to be two columns, but the columns are not aligned well so each will parse as a single-column table.</p>
 <ul><li><p>Unaligned columns with WS column separators:</p>
</li></ul> <p>Notice the second row has the two words separated by only <b>one</b> WS character, while it takes at least <b>two</b> adjacent WS characters to define a column separation. <b>This is a valid table but will be parsed as a single-column table</b>.</p>
 <pre class="code">=begin table 
 r0c0    r0c1 
  r1c0 r0c1 
 =end table 
</pre>
 <ul><li><p>Unaligned columns with visual column separators:</p>
</li></ul> <p>Notice the second row has the two words separated by a visible character ('|') but the character is not recognized as a column separator because it doesn't have an adjacent WS character on both sides of it. Although this is a legal table, the result will not be what the user intended because the first row has two columns while the second row has only one column, and it will thus have an empty second column.</p>
 <pre class="code">=begin table 
 r0c0  |  r0c1 
  r1c0 |r0c1 
 =end table 
</pre>
</div>
<!-- /language/terms.pod6 --><div class="pod-body"><a id="_language_terms.pod6"></a><a name="t47"><h1 class="title">47 Terms</h1></a> <p class="subtitle">Perl 6 Terms</p> <p>Most syntactic constructs in Perl 6 can be categorized in <i>terms</i> and <a href="#_language_operators.pod6">operators</a>.</p>
 <p>Here you can find an overview of different kinds of terms.</p>
 <a name="t47.1"></a><h1 id="_language_terms.pod6-Literals">47.1 Literals</h1>
 <a name="t47.1.1"></a><h2 id="_language_terms.pod6-Int">47.1.1 Int</h2>
 <pre class="code">42 
 12_300_00 
 :16&lt;DEAD_BEEF&gt; 
</pre>
 <p><a href="#_type_Int.pod6">Int</a> literals consist of digits and can contain underscores between any two digits.</p>
 <p>To specify a base other than ten, use the colonpair form <span class="code">:radix&lt;number&gt; </span>.</p>
 <a name="t47.1.2"></a><h2 id="_language_terms.pod6-Rat">47.1.2 Rat</h2>
 <pre class="code">12.34 
 1_200.345_678 
</pre>
 <p><a href="#_type_Rat.pod6">Rat</a> literals (rational numbers) contain two integer parts joined by a dot.</p>
 <p>Note that trailing dots are not allowed, so you have to write <span class="code">1.0</span> instead of <span class="code">1.</span> (this rule is important because there are infix operators starting with a dot, for example the <span class="code">..</span> <a href="#_type_Range.pod6">Range</a> operator).</p>
 <a name="t47.1.3"></a><h2 id="_language_terms.pod6-Num">47.1.3 Num</h2>
 <pre class="code">12.3e-32 
 3e8 
</pre>
 <p><a href="#_type_Num.pod6">Num</a> literals (floating point numbers) consist of <a href="#_type_Rat.pod6">Rat</a> or <a href="#_type_Int.pod6">Int</a> literals followed by an <span class="code">e</span> and a (possibly negative) exponent. <span class="code">3e8</span> constructs a <a href="#_type_Num.pod6">Num</a> with value <span class="code">3 * 10**8</span>.</p>
 <a name="t47.1.4"></a><h2 id="_language_terms.pod6-Str">47.1.4 Str</h2>
 <pre class="code">'a string' 
 'I\'m escaped!' 
 &quot;I don't need to be&quot; 
 &quot;\&quot;But I still can be,\&quot; he said.&quot; 
 q|Other delimiters can be used too!| 
</pre>
 <p>String literals are most often created with <span class="code">'</span> or <span class="code">&quot;</span>, however strings are actually a powerful sub-language of Perl 6. See <a href="#_language_quoting.pod6">Quoting Constructs</a>.</p>
 <a name="t47.1.5"></a><h2 id="_language_terms.pod6-Regex">47.1.5 Regex</h2>
 <pre class="code">/ match some text / 
 rx/slurp \s rest (.*) $/ 
</pre>
 <p>These forms produce regex literals. See <a href="#_language_quoting.pod6">Quoting Constructs</a>.</p>
 <a name="t47.1.6"></a><h2 id="_language_terms.pod6-Pair">47.1.6 Pair</h2>
 <pre class="code">a =&gt; 1 
 'a' =&gt; 'b' 
 :identifier 
 :!identifier 
 :identifier&lt;value&gt; 
 :identifier&lt;value1 value2&gt; 
 :identifier($value) 
 :identifier['val1', 'val2'] 
 :identifier{key1 =&gt; 'val1', key2 =&gt; 'value2'} 
 :valueidentifier 
 :$item 
 :@array 
 :%hash 
 :&amp;callable 
</pre>
 <p><a href="#_type_Pair.pod6">Pair</a> objects can be created either with <span class="code">infix:«=&gt;» </span> (which auto-quotes the left-hand side if it is an identifier), or with the various colon-pair forms. Those almost always start with a colon and then are followed either by an identifier or the name of an already existing variable (whose name without the sigil is used as the key and value of the variable is used as the value of the pair). There is a special form where an integer value is immediately after the colon and the key is immediately after the value.</p>
 <p>In the identifier form of a colon-pair, the optional value can be any circumfix. If it is left blank, the value is <span class="code">Bool::True</span>. The value of the <span class="code">:!identifier</span> form is <span class="code">Bool::False</span>.</p>
 <p>If used in an argument list, all of these forms count as named arguments, with the exception of <span class="code">'quoted string' =&gt; $value </span>.</p>
 <a name="t47.1.7"></a><h2 id="_language_terms.pod6-List">47.1.7 List</h2>
 <pre class="code">() 
 1, 2, 3 
 &lt;a b c&gt; 
 «a b c» 
 qw/a b c/ 
</pre>
 <p><a href="#_type_List.pod6">List</a> literals are: the empty pair of parentheses <span class="code">()</span>, a comma-separated list, or several quoting constructs.</p>
 <a name="t47.1.8"></a><h2 id="_language_terms.pod6-term_*">47.1.8 term *</h2>
 <p>Creates an object of type <span class="code">Whatever</span>. See <a href="#_type_Whatever.pod6">Whatever</a> documentation for more details.</p>
 <a name="t47.2"></a><h1 id="_language_terms.pod6-Identifier_terms">47.2 Identifier terms</h1>
 <p>There are built-in identifier terms in Perl 6, which are listed below. In addition one can add new identifier terms with the syntax:</p>
 <pre class="code">sub term:&lt;forty-two&gt; { 42 };
say forty-two</pre>
 <p>or as constants:</p>
 <pre class="code">constant forty-two = 42;
say forty-two;</pre>
 <a name="t47.2.1"></a><h2 id="_language_terms.pod6-term_self">47.2.1 term self</h2>
 <p>Inside a method, <span class="code">self</span> refers to the invocant (i.e. the object the method was called on). If used in a context where it doesn't make sense, a compile-time exception of type <a href="#_type_X::Syntax::NoSelf.pod6">X::Syntax::NoSelf</a> is thrown.</p>
 <a name="t47.2.2"></a><h2 id="_language_terms.pod6-term_now">47.2.2 term now</h2>
 <p>Returns an <a href="#_type_Instant.pod6">Instant</a> object representing the current time. It includes <a href="https://en.wikipedia.org/wiki/Leap_second">leap seconds</a> and as such a few dozen seconds larger than <a href="#_language_terms.pod6-term_time">time</a>:</p>
 <pre class="code">say (now - time).Int; # OUTPUT: «37␤»</pre>
 <a name="t47.2.3"></a><h2 id="_language_terms.pod6-term_time">47.2.3 term time</h2>
 <p>Returns the current POSIX time as an <a href="#_type_Int.pod6">Int</a>. See <a href="#_language_terms.pod6-term_now">now</a> for high-resolution timestamp that includes <a href="https://en.wikipedia.org/wiki/Leap_second">leap seconds</a>.</p>
 <a name="t47.2.4"></a><h2 id="_language_terms.pod6-term_rand">47.2.4 term rand</h2>
 <p>Returns a pseudo-random <a href="#_type_Num.pod6">Num</a> in the range <span class="code">0..^1</span>.</p>
 <a name="t47.2.5"></a><h2 id="_language_terms.pod6-term_π">47.2.5 term π</h2>
 <p>Returns the number <span class="code">π</span>, i.e., the ratio between circumference and diameter of a circle. The ASCII equivalent of <span class="code">π</span> is <span class="code">pi</span>.</p>
 <a name="t47.2.6"></a><h2 id="_language_terms.pod6-term_pi">47.2.6 term pi</h2>
 <p>Returns the number <span class="code">π</span>, i.e., the ratio between circumference and diameter of a circle. <span class="code">pi</span> is the ASCII equivalent of <span class="code">π</span>.</p>
 <a name="t47.2.7"></a><h2 id="_language_terms.pod6-term_τ">47.2.7 term τ</h2>
 <p>Returns the number <span class="code">τ</span>, i.e., the ratio between circumference and radius of a circle. The ASCII equivalent of <span class="code">τ</span> is <span class="code">tau</span>.</p>
 <a name="t47.2.8"></a><h2 id="_language_terms.pod6-term_tau">47.2.8 term tau</h2>
 <p>Returns the number <span class="code">τ</span>, i.e., the ratio between circumference and radius of a circle. <span class="code">tau</span> is the ASCII equivalent of <span class="code">τ</span>.</p>
 <a name="t47.2.9"></a><h2 id="_language_terms.pod6-term_e">47.2.9 term e</h2>
 <p>Returns Euler's number.</p>
 <a name="t47.2.10"></a><h2 id="_language_terms.pod6-term_i">47.2.10 term i</h2>
 <p>Returns the imaginary unit (for <a href="#_type_Complex.pod6">Complex</a> numbers).</p>
 <a name="t47.3"></a><h1 id="_language_terms.pod6-Variables">47.3 Variables</h1>
 <p>Variables are discussed in the <a href="#_language_variables.pod6">variable language docs</a>.</p>
 <a name="t47.4"></a><h1 id="_language_terms.pod6-Constants">47.4 Constants</h1>
 <p><span class="indexed"><a id="642" name="constant (Terms)"></a></span> Constants are declared with <span class="code">constant</span>, followed by an <a href="#_language_syntax.pod6-Identifiers">identifier</a> and do not require a sigil. The RHS is evaluated at compile time, therefore being possibly too early to make sense.</p>
 <pre class="code">constant SpeedOfLight = 299792458;     # m/s
constant PHI          = 1.61803398875; # The golden ratio is everywhere!
constant POW2 = do { my int @table; @table = 1, 2, 4 ... 2**32; @table };
say POW2[16];
# OUTPUT: «65536␤»</pre>
 <p>Since constants RHS are evaluated at compile time, their usage within modules could lead to unexpected behavior, please see the related <a href="https://docs.perl6.org/language/traps#Constants_are_Compile_Time">traps section</a>.</p>
 <p>Constants are <span class="code">our</span>-scoped by default, but adding <span class="code">my</span> would make them lexical:</p>
 <pre class="code">constant SpeedOfLight = 186200; 
 constant Unit         = 'mi/s'; 
 { 
     my constant SpeedOfLight  = 299_792_458; 
     my constant Unit          = 'm/s'; 
     my constant Source        = 'wikipedia'; 
     say 'Speed of Light is ' ~ SpeedOfLight ~ ' ' ~ Unit; 
 } 
 say 'Speed of Light is ' ~ SpeedOfLight ~ ' ' ~ Unit; 
 # here 'wikipedia' is out of scope ! 
</pre>
 <p>that will produce the following output (note how the constants have been lexically overwritten):</p>
 <pre class="code">Speed of Light is 299792458 m/s 
 Speed of Light is 186200 mi/s 
</pre>
 <p>Referencing a lexical <span class="code">constant</span> outside of the block will produce an <span class="code">Undeclared name</span> compilation error.</p>
</div>
<!-- /language/testing.pod6 --><div class="pod-body"><a id="_language_testing.pod6"></a><a name="t48"><h1 class="title">48 Testing</h1></a> <p class="subtitle">Writing and running tests in Perl 6</p> <p>Testing code is an integral part of software development. Tests provide automated, repeatable verifications of code behaviour, and ensures your code works as expected.</p>
 <p>In Perl 6, the <a href="https://github.com/rakudo/rakudo/blob/master/lib/Test.pm6">Test</a> module provides a testing framework. Perl 6's official spectest suite uses <span class="code">Test</span>.</p>
 <p>The testing functions emit output conforming to the <a href="http://testanything.org">Test Anything Protocol</a>.</p>
 <a name="t48.1"></a><h1 id="_language_testing.pod6-Reference">48.1 Reference</h1>
 <ul><li><p><a href="#_language_testing.pod6-index-entry-plan-plan($count)"><span class="code">plan</span></a> — declare how many tests you expect to run</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-done-testing"><span class="code">done-testing</span></a> — indicate the test suite has finished (used instead of <span class="code">plan</span>)</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-bail-out-bail-out($reason?)"><span class="code">bail-out</span></a> — abort the test suite by exiting (considered a failure)</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-todo-todo($reason,_$count_=_1)"><span class="code">todo</span></a> — mark a given number of tests as TODO</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-skip-skip($reason,_$count_=_1)"><span class="code">skip</span></a> — mark a given number of tests as SKIP</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-skip-rest-skip-rest($reason?)"><span class="code">skip-rest</span></a> — mark all of the remaining tests as SKIP</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-diag-diag($message)"><span class="code">diag</span></a> — display a diagnostic message</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-subtest-subtest(&amp;subtests,_$description?)"><span class="code">subtest</span></a> — declare a subtest</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-pass-flunk-pass($description?),_flunk($description?)"><span class="code">pass</span></a> — proclaim one test as passed</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-pass-flunk-pass($description?),_flunk($description?)"><span class="code">flunk</span></a> — proclaim one test as failed</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-ok_nok-ok($value,_$description?),_nok($condition,_$description?)"><span class="code">ok</span></a> — is truthy</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-ok_nok-ok($value,_$description?),_nok($condition,_$description?)"><span class="code">nok</span></a> — is falsy</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-cmp-ok-cmp-ok($value,_$comparison,_$expected,_$description?)"><span class="code">cmp-ok</span></a> — compare with a value using the given operator</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-is_testing"><span class="code">is</span></a> — is a given value (<span class="code">cmp</span> semantics)</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-is-deeply-is-deeply($value,_$expected,_$description?)"><span class="code">is-deeply</span></a> — is a given value (<span class="code">eqv</span> semantics)</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-isnt-isnt($value,_$expected,_$description?)"><span class="code">isnt</span></a> — is <i>not</i> a given value (<span class="code">cmp</span> semantics)</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-is-approx-is-approx($value,_$expected,_$description?)"><span class="code">is-approx</span></a> — approximately equals to a numerical value</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-like-like($value,_$expected-regex,_$description?)"><span class="code">like</span></a> — matches a given regex</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-unlike-unlike($value,_$expected-regex,_$description?)"><span class="code">unlike</span></a> — does not match a given regex</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-use-ok-use-ok($module)"><span class="code">use-ok</span></a> — a module can be <span class="code">use</span>d</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-isa-ok-isa-ok($value,_$expected-type,_$description?)"><span class="code">isa-ok</span></a> — an object <span class="code">.isa</span> given type</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-does-ok-does-ok($variable,_$role,_$description?)"><span class="code">does-ok</span></a> — an object <span class="code">does</span> a given role</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-can-ok-can-ok($variable,_$method-name,_$description?)"><span class="code">can-ok</span></a> — an object <span class="code">.^can</span> a method</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-dies-ok-dies-ok($code,_$description?)"><span class="code">dies-ok</span></a> — a given block of code dies</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-lives-ok-lives-ok($code,_$description?)"><span class="code">lives-ok</span></a> — a given block of code does not die</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-eval-dies-ok-eval-dies-ok($string,_$description?)"><span class="code">eval-dies-ok</span></a> — a given string of code dies when evaled</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-eval-lives-ok-eval-lives-ok($string,_$description?)"><span class="code">eval-lives-ok</span></a> — a given string of code does not die when evaled</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-throws-like"><span class="code">throws-like</span></a> — a given block of code (or string to be evaled) throws a given exception</p>
</li></ul> <ul><li><p><a href="#_language_testing.pod6-index-entry-fails-like"><span class="code">fails-like</span></a> — a given block of code (or string to be evaled) fails with a given exception</p>
</li></ul> <a name="t48.2"></a><h1 id="_language_testing.pod6-Writing_tests">48.2 Writing tests</h1>
 <p>As with any Perl project, the tests live under the <span class="code">t</span> directory in the project's base directory.</p>
 <p>A typical test file looks something like this:</p>
 <pre class="code">use v6.c; 
 use Test;      # a Standard module included with Rakudo 
 use lib 'lib'; 
 
 plan $num-tests; 
 
 # .... tests 
 
 done-testing;  # optional with 'plan' 
</pre>
 <p>We ensure that we're using Perl 6, via the <span class="code">use v6.c</span> pragma, then we load the <span class="code">Test</span> module and specify where our libraries are. We then specify how many tests we <i>plan</i> to run (such that the testing framework can tell us if more or fewer tests were run than we expected) and when finished with the tests, we use <i>done-testing</i> to tell the framework we are done.</p>
 <a name="t48.2.1"></a><h2 id="_language_testing.pod6-Thread_Safety">48.2.1 Thread Safety</h2>
 <p>Note that routines in <span class="code">Test</span> module are <i>not</i> thread-safe. This means you should not attempt to use the testing routines in multiple threads simultaneously, as the <a href="https://testanything.org/">TAP</a> output might come out of order and confuse the program interpreting it.</p>
 <p>There are no current plans to make it thread safe. If threaded-testing is crucial to you, you may find some suitable <a href="https://modules.perl6.org/search/?q=Test">ecosystem modules</a> to use instead of <span class="code">Test</span> for your testing needs.</p>
 <a name="t48.3"></a><h1 id="_language_testing.pod6-Running_tests">48.3 Running tests</h1>
 <p>Tests can be run individually by specifying the test filename on the command line:</p>
 <pre class="code">$ perl6 t/test-filename.t 
</pre>
 <p>Or via the <a href="http://perldoc.perl.org/prove.html">prove</a> command from Perl 5, where <span class="code">perl6</span> is specified as the executable that runs the tests:</p>
 <pre class="code">$ prove --exec perl6 -r t 
</pre>
 <p>To abort the test suite upon first failure, set the <span class="code">PERL6_TEST_DIE_ON_FAIL</span> environmental variable:</p>
 <pre class="code">$ PERL6_TEST_DIE_ON_FAIL=1 perl6 t/test-filename.t 
</pre>
 <p>The same variable can be used within the test file. Set it before loading the <span class="code">Test</span> module:</p>
 <pre class="code">BEGIN %*ENV&lt;PERL6_TEST_DIE_ON_FAIL&gt; = 1;
use Test;
...</pre>
 <a name="t48.4"></a><h1 id="_language_testing.pod6-Test_plans">48.4 Test plans</h1>
 <ul><li><p><span class="indexed"><a id="643" name="plan">plan($count)</a></span></p>
</li></ul> <p>Specify the count of tests -- usually written at the beginning of a test file.</p>
 <pre class="code">plan 15;   # expect to run 15 tests</pre>
 <p>In <span class="code">subtest</span>s, <span class="code">plan</span> is used to specify the count of tests within the subtest.</p>
 <p>If a <span class="code">plan</span> is used, it's not necessary to specify the end of testing with <span class="code">done-testing</span>.</p>
 <p>You can also provide a <span class="code">:skip-all</span> named argument instead of a test count, to indicate that you want to skip all of the tests. Such a plan will call <a href="#_routine_exit.pod6"><span class="code">exit</span></a>, unless used inside of a <span class="code">subtest</span>.</p>
 <pre class="code">plan :skip-all&lt;These tests are only for Windows&gt; unless $*DISTRO.is-win;
plan 1;
ok dir 'C:/'; # this won't get run on non-Windows</pre>
 <p>If used in a <span class="code">subtest</span>, it will instead <span class="code">return</span> from that <span class="code">subtest</span>'s <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>. For that reason, to be able to use <span class="code">:skip-all</span> inside a <span class="code">subtest</span>, you must use a <span class="code">sub</span> instead of a regular block:</p>
 <pre class="code">plan 2;
subtest &quot;Some Windows tests&quot; =&gt; sub { # &lt;-- note the `sub`; can't use bare block
    plan :skip-all&lt;We aren't on Windows&gt; unless $*DISTRO.is-win;
    plan 1;
    ok dir 'C:/'; # this won't get run on non-Windows
}
ok 42; # this will run everywhere and isn't affected by skip-all inside subtest</pre>
 <p>Note that <span class="code">plan</span> with <span class="code">:skip-all</span> is to avoid performing any tests without marking the test run as failed (i.e. the plan is to not run anything and that's all good). Use <a href="#_language_testing.pod6-index-entry-skip-rest-skip-rest($reason?)"><span class="code">skip-rest</span></a> to skip all further tests, once the run has started (i.e. planned to run some tests, maybe even ran some, but now we're skipping all the rest of them). Use <a href="#_language_testing.pod6-index-entry-bail-out-bail-out($reason?)"><span class="code">bail-out</span></a> to fail the test run without running any further tests (i.e. things are so bad, there's no point in running anything else; we've failed).</p>
 <ul><li><p><span class="indexed"><a id="644" name="">done-testing</a></span></p>
</li></ul> <p>Specify that testing has finished. Use this function when you don't have a <span class="code">plan</span> with the number of tests to run. A <span class="code">plan</span> is not required when using <span class="code">done-testing</span>.</p>
 <p>It's recommended that the <span class="code">done-testing</span> function be removed and replaced with a <span class="code">plan</span> function when all tests are finalized. Use of <span class="code">plan</span> can help detect test failures otherwise not reported because tests were accidentally skipped due to bugs in the tests or bugs in the compiler. For example:</p>
 <pre class="code">sub do-stuff {@};
use Test;
ok .is-prime for do-stuff;
done-testing;

# output:
1..0</pre>
 <p>The above example is where a <span class="code">done-testing</span> fails. <span class="code">do-stuff()</span> returned nothing and tested nothing, even though it should've returned results to test. But the test suite doesn't know how many tests were meant to be run, so it passes.</p>
 <p>Adding <span class="code">plan</span> gives a true picture of the test:</p>
 <pre class="code">sub do-stuff {@};
use Test;
plan 1;
ok .is-prime for do-stuff;

# output:
1..1
# Looks like you planned 1 test, but ran 0</pre>
 <p>Note that leaving the <span class="code">done-testing</span> in place will have no effect on the new test results, but it should be removed for clarity.</p>
 <a name="t48.5"></a><h1 id="_language_testing.pod6-Testing_return_values">48.5 Testing return values</h1>
 <p>The <span class="code">Test</span> module exports various functions that check the return value of a given expression and produce standardized test output.</p>
 <p>In practice, the expression will often be a call to a function or method that you want to unit-test.</p>
 <a name="t48.5.1"></a><h2 id="_language_testing.pod6-By_Bool_value">48.5.1 By <span class="code">Bool</span> value</h2>
 <ul><li><p><span class="indexed"><a id="645" name="ok nok">ok($value, $description?), nok($condition, $description?)</a></span></p>
</li></ul> <p>The <span class="code">ok</span> function marks a test as passed if the given <span class="code">$value</span> evaluates to <span class="code">True</span>. The <span class="code">nok</span> function marks a test as passed if the given value evaluates to <span class="code">False</span>. Both functions accept an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">my $response; my $query; ...;
ok  $response.success, 'HTTP response was successful';
nok $query.error,      'Query completed without error';</pre>
 <p>In principle, you could use <span class="code">ok</span> for every kind of comparison test, by including the comparison in the expression passed to <span class="code">$value</span>:</p>
 <pre class="code">sub factorial($x) { ... };
ok factorial(6) == 720, 'Factorial - small integer';</pre>
 <p>However, where possible it's better to use one of the specialized comparison test functions below, because they can print more helpful diagnostics output in case the comparison fails.</p>
 <a name="t48.5.2"></a><h2 id="_language_testing.pod6-By_string_comparison">48.5.2 By string comparison</h2>
 <p><span class="indexed"><a id="646" name="is testing"></a></span></p>
 <ul><li><p>is($value, $expected, $description?)</p>
</li></ul> <p>Marks a test as passed if <span class="code">$value</span> and <span class="code">$expected</span> compare positively with the <a href="#_routine_eq.pod6">eq operator</a>, unless <span class="code">$expected</span> is a type object, in which case <span class="code">===</span> operator will be used instead; accepts an optional <span class="code">$description</span> of the test.</p>
 <p><b>NOTE:</b> <span class="code">eq</span> operator the <span class="code">is()</span> uses stringifies, which means <span class="code">is()</span> is not a good function for testing more complex things, such as lists: <span class="code">is (1, (2, (3,))), [1, 2, 3]</span> passes the test, even though the operands are vastly different. For those cases, use <a href="#_language_testing.pod6-index-entry-is-deeply-is-deeply($value,_$expected,_$description?)"><span class="code">is-deeply</span>  routine</a></p>
 <pre class="code">my $pdf-document; sub factorial($x) { ... }; ...;
is $pdf-document.author, &quot;Joe&quot;, 'Retrieving the author field';
is factorial(6),         720,   'Factorial - small integer';
my Int $a;
is $a, Int, 'The variable $a is an unassigned Int';</pre>
 <p><b>Note:</b> if <i>only</i> whitespace differs between the values, <span class="code">is()</span> will output failure message differently, to show the whitespace in each values. For example, in the output below, the second test shows the literal <span class="code">\t</span> in the <span class="code">got:</span> line:</p>
 <pre class="code">is &quot;foo\tbar&quot;, &quot;foo\tbaz&quot;;   # expected: 'foo     baz'␤#      got: 'foo   bar'
is &quot;foo\tbar&quot;, &quot;foo    bar&quot;; # expected: &quot;foo    bar&quot;␤#      got: &quot;foo\tbar&quot;</pre>
 <ul><li><p><span class="indexed"><a id="647" name="isnt">isnt($value, $expected, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if <span class="code">$value</span> and <span class="code">$expected</span> are <b>not</b> equal using the same rules as <span class="code">is()</span>. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">isnt pi, 3, 'The constant π is not equal to 3';

my Int $a = 23;
$a = Nil;
isnt $a, Nil, 'Nil should not survive being put in a container';</pre>
 <a name="t48.5.3"></a><h2 id="_language_testing.pod6-By_approximate_numeric_comparison">48.5.3 By approximate numeric comparison</h2>
 <ul><li><p><span class="indexed"><a id="648" name="is-approx">is-approx($value, $expected, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the <span class="code">$value</span> and <span class="code">$expected</span> numerical values are approximately equal to each other. The subroutine can be called in numerous ways that let you test using relative tolerance (<span class="code">$rel-tol</span>) or absolute tolerance (<span class="code">$abs-tol</span>) of different values.</p>
 <p>If no tolerance is set, the function will base the tolerance on the <i>absolute</i> value of <span class="code">$expected</span>: if it's smaller than <span class="code">1e-6</span>, use absolute tolerance of <span class="code">1e-5</span>; if it's larger, use relative tolerance of <span class="code">1e-6</span>.</p>
 <pre class="code">my Numeric ($value, $expected, $abs-tol, $rel-tol) = ...

is-approx $value, $expected;
is-approx $value, $expected, 'test description';

is-approx $value, $expected, $abs-tol;
is-approx $value, $expected, $abs-tol, 'test description';

is-approx $value, $expected, :$rel-tol;
is-approx $value, $expected, :$rel-tol, 'test description';

is-approx $value, $expected, :$abs-tol;
is-approx $value, $expected, :$abs-tol, 'test description';

is-approx $value, $expected, :$abs-tol, :$rel-tol;
is-approx $value, $expected, :$abs-tol, :$rel-tol, 'test description';</pre>
 <a name="t48.5.3.1"></a><h3 id="_language_testing.pod6-Absolute_Tolerance">48.5.3.1 Absolute Tolerance</h3>
 <p>When an absolute tolerance is set, it's used as the actual maximum value by which the <span class="code">$value</span> and <span class="code">$expected</span> can differ. For example:</p>
 <pre class="code">is-approx 3, 4, 2; # success
is-approx 3, 6, 2; # fail

is-approx 300, 302, 2; # success
is-approx 300, 400, 2; # fail
is-approx 300, 600, 2; # fail</pre>
 <p>Regardless of values given, the difference between them cannot be more than <span class="code">2</span>.</p>
 <a name="t48.5.3.2"></a><h3 id="_language_testing.pod6-Relative_Tolerance">48.5.3.2 Relative Tolerance</h3>
 <p>When a relative tolerance is set, the test checks the relative difference between values. Given the same tolerance, the larger the numbers given, the larger the value they can differ by can be.</p>
 <p>For example:</p>
 <pre class="code">is-approx 10, 10.5, :rel-tol&lt;0.1&gt;; # success
is-approx 10, 11.5, :rel-tol&lt;0.1&gt;; # fail

is-approx 100, 105, :rel-tol&lt;0.1&gt;; # success
is-approx 100, 115, :rel-tol&lt;0.1&gt;; # fail</pre>
 <p>Both versions use <span class="code">0.1</span> for relative tolerance, yet the first can differ by about <span class="code">1</span> while the second can differ by about <span class="code">10</span>. The function used to calculate the difference is:</p>
 <pre class="code">              |value - expected| 
 ⁣rel-diff = ──────────────────────── 
            max(|value|, |expected|) 
</pre>
 <p>and the test will fail if <span class="code">rel-diff</span> is higher than <span class="code">$rel-tol</span>.</p>
 <a name="t48.5.3.3"></a><h3 id="_language_testing.pod6-Both_Absolute_and_Relative_Tolerance_Specified">48.5.3.3 Both Absolute and Relative Tolerance Specified</h3>
 <pre class="code">is-approx $value, $expected, :rel-tol&lt;.5&gt;, :abs-tol&lt;10&gt;; 
</pre>
 <p>When both absolute and relative tolerances are specified, each will be tested independently, and the <span class="code">is-approx</span> test will succeed only if both pass.</p>
 <a name="t48.5.4"></a><h2 id="_language_testing.pod6-By_structural_comparison">48.5.4 By structural comparison</h2>
 <ul><li><p><span class="indexed"><a id="649" name="is-deeply">is-deeply($value, $expected, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if <span class="code">$value</span> and <span class="code">$expected</span> are equivalent, using the same semantics as the <a href="#_routine_eqv.pod6">eqv operator</a>. This is the best way to check for equality of (deep) data structures. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">use v6.c; 
 use Test; 
 plan 1; 
 
 sub string-info(Str() $_) { 
     Map.new: ( 
       length  =&gt;  .chars, 
       char-counts =&gt; Bag.new-from-pairs: ( 
           letters =&gt; +.comb(/&lt;:letter&gt;/), 
           digits  =&gt; +.comb(/&lt;:digit&gt;/), 
           other   =&gt; +.comb(/&lt;.-:letter-:digit&gt;/), 
     )) 
 } 
 
 is-deeply string-info('42 Butterflies ♥ Perl'), Map.new(( 
     :21length, 
     char-counts =&gt; Bag.new-from-pairs: ( :15letters, :2digits, :4other, ) 
 )), 'string-info gives right info'; 
</pre>
 <p><b>Note:</b> for <a href="https://github.com/rakudo/rakudo/commit/096bc17cd5">historical reasons</a>, <a href="#_type_Seq.pod6">Seq:D</a> arguments to <span class="code">is-deeply</span> get converted to <a href="#_type_List.pod6">Lists</a>. If you want to ensure strict <span class="code">Seq</span> comparisons, use <a href="#_language_testing.pod6-index-entry-cmp-ok-cmp-ok%28%24value%2C_%24comparison%2C_%24expected%2C_%24description%3F%29"><span class="code">cmp-ok $got, 'eqv', $expected, $desc</span></a> instead.</p>
 <a name="t48.5.5"></a><h2 id="_language_testing.pod6-By_arbitrary_comparison">48.5.5 By arbitrary comparison</h2>
 <ul><li><p><span class="indexed"><a id="650" name="cmp-ok">cmp-ok(Mu $value is raw, $comparison, Mu $expected is raw, $description?)</a></span></p>
</li></ul> <p>Compares <span class="code">$value</span> and <span class="code">$expected</span> with the given <span class="code">$comparison</span> comparator and passes the test if the comparison yields a <span class="code">True</span> value. The <span class="code">$description</span> of the test is optional.</p>
 <p>The <span class="code">$comparison</span> comparator can be either a <a href="#_type_Callable.pod6">Callable</a> or a <a href="#_type_Str.pod6">Str</a> containing an infix operator, such as <span class="code">'=='</span>, a <span class="code">'~~'</span>, or a user-defined infix.</p>
 <pre class="code">cmp-ok 'my spelling is apperling', '~~', /perl/, &quot;bad speller&quot;;</pre>
 <p>Meta operators cannot be given as a string; pass them as a <a href="#_type_Callable.pod6">Callable</a> instead:</p>
 <pre class="code">cmp-ok &lt;a b c&gt;, &amp;[!eqv], &lt;b d e&gt;, 'not equal';</pre>
 <p>A <a href="#_type_Callable.pod6">Callable</a> <span class="code">$comparison</span> lets you use custom comparisons:</p>
 <pre class="code">sub my-comp { $^a / $^b  &lt; rand };
cmp-ok 1, &amp;my-comp, 2, 'the dice giveth and the dice taketh away'

cmp-ok 2, -&gt; $a, $b { $a.is-prime and $b.is-prime and $a &lt; $b }, 7,
    'we got primes, one larger than the other!';</pre>
 <a name="t48.5.6"></a><h2 id="_language_testing.pod6-By_object_type">48.5.6 By object type</h2>
 <ul><li><p><span class="indexed"><a id="651" name="isa-ok">isa-ok($value, $expected-type, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given object <span class="code">$value</span> is, or inherits from, the given <span class="code">$expected-type</span>. For convenience, types may also be specified as a string. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">class Womble {}
class GreatUncleBulgaria is Womble {}
my $womble = GreatUncleBulgaria.new;

isa-ok $womble, Womble, &quot;Great Uncle Bulgaria is a womble&quot;;
isa-ok $womble, 'Womble';     # equivalent</pre>
 <a name="t48.5.7"></a><h2 id="_language_testing.pod6-By_method_name">48.5.7 By method name</h2>
 <ul><li><p><span class="indexed"><a id="652" name="can-ok">can-ok($variable, $method-name, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$variable</span> can run the given <span class="code">$method-name</span>. The function accepts an optional <span class="code">$description</span>. For instance:</p>
 <pre class="code">class Womble {};
my $womble = Womble.new;

# with automatically generated test description
can-ok $womble, 'collect-rubbish';
#  =&gt; An object of type 'Womble' can do the method 'collect-rubbish'

# with human-generated test description
can-ok $womble, 'collect-rubbish', &quot;Wombles can collect rubbish&quot;;
#  =&gt; Wombles can collect rubbish</pre>
 <a name="t48.5.8"></a><h2 id="_language_testing.pod6-By_role">48.5.8 By role</h2>
 <ul><li><p><span class="indexed"><a id="653" name="does-ok">does-ok($variable, $role, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$variable</span> can do the given <span class="code">$role</span>. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code"># create a Womble who can invent
role Invent {
    method brainstorm { say &quot;Aha!&quot; }
}
class Womble {}
class Tobermory is Womble does Invent {}

# ... and later in the tests
use Test;

my $tobermory = Tobermory.new;

# with automatically generated test description
does-ok $tobermory, Invent;
#  =&gt; The object does role Type

does-ok $tobermory, Invent, &quot;Tobermory can invent&quot;;
#  =&gt; Tobermory can invent</pre>
 <a name="t48.5.9"></a><h2 id="_language_testing.pod6-By_regex">48.5.9 By regex</h2>
 <ul><li><p><span class="indexed"><a id="654" name="like">like($value, $expected-regex, $description?)</a></span></p>
</li></ul> <pre class="code">like 'foo', /fo/, 'foo looks like fo';</pre>
 <p>Marks a test as passed if the <span class="code">$value</span>, when coerced to a string, matches the <span class="code">$expected-regex</span>. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <ul><li><p><span class="indexed"><a id="655" name="unlike">unlike($value, $expected-regex, $description?)</a></span></p>
</li></ul> <pre class="code">unlike 'foo', /bar/, 'foo does not look like bar';</pre>
 <p>Marks a test as passed if the <span class="code">$value</span>, when coerced to a string, does <b>not</b> match the <span class="code">$expected-regex</span>. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <a name="t48.6"></a><h1 id="_language_testing.pod6-Testing_modules">48.6 Testing modules</h1>
 <ul><li><p><span class="indexed"><a id="656" name="use-ok">use-ok($module)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$module</span> loads correctly.</p>
 <pre class="code">use-ok 'Full::Qualified::ModuleName';</pre>
 <a name="t48.7"></a><h1 id="_language_testing.pod6-Testing_exceptions">48.7 Testing exceptions</h1>
 <ul><li><p><span class="indexed"><a id="657" name="dies-ok">dies-ok($code, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$code</span> throws an exception.</p>
 <p>The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">sub saruman(Bool :$ents-destroy-isengard) { 
     die &quot;Killed by Wormtongue&quot; if $ents-destroy-isengard; 
 } 
 
 dies-ok { saruman(ents-destroy-isengard =&gt; True) }, &quot;Saruman dies&quot;; 
</pre>
 <ul><li><p><span class="indexed"><a id="658" name="lives-ok">lives-ok($code, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$code</span> <b>does not</b> throw an exception.</p>
 <p>The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">sub frodo(Bool :$destroys-ring) { 
     die &quot;Oops, that wasn't supposed to happen&quot; unless $destroys-ring; 
 } 
 
 lives-ok { frodo(destroys-ring =&gt; True) }, &quot;Frodo survives&quot;; 
</pre>
 <ul><li><p><span class="indexed"><a id="659" name="eval-dies-ok">eval-dies-ok($string, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$string</span> throws an exception when <span class="code">eval</span>ed as code.</p>
 <p>The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">eval-dies-ok q[my $joffrey = &quot;nasty&quot;; 
                die &quot;bye bye Ned&quot; if $joffrey ~~ /nasty/], 
     &quot;Ned Stark dies&quot;; 
</pre>
 <ul><li><p><span class="indexed"><a id="660" name="eval-lives-ok">eval-lives-ok($string, $description?)</a></span></p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$string</span> <b>does not</b> throw an exception when <span class="code">eval</span>ed as code.</p>
 <p>The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">eval-lives-ok q[my $daenerys-burns = False; 
                 die &quot;Oops, Khaleesi now ashes&quot; if $daenerys-burns], 
     &quot;Dany is blood of the dragon&quot;; 
</pre>
 <p><span class="indexed"><a id="661" name="throws-like"></a></span></p>
 <ul><li><p>throws-like($code, $expected-exception, $description?, *%matcher)</p>
</li></ul> <p>Marks a test as passed if the given <span class="code">$code</span> throws the specific exception <span class="code">$expected-exception</span>. The code <span class="code">$code</span> may be specified as something <span class="code">Callable</span> or as a string to be <span class="code">EVAL</span>ed. The exception may be specified as a type object or as a string containing its type name.</p>
 <p>If an exception was thrown, it will also try to match the matcher hash, where the key is the name of the method to be called on the exception, and the value is the value it should have to pass. For example:</p>
 <pre class="code">sub frodo(Bool :$destroys-ring) { fail &quot;Oops. Frodo dies&quot; unless $destroys-ring }; 
 throws-like { frodo }, Exception, message =&gt; /dies/; 
</pre>
 <p>The function accepts an optional <span class="code">$description</span> of the test.</p>
 <p>The routine makes <a href="#_type_Failure.pod6">Failures</a> fatal. If you wish to avoid that, use <a href="#_language_pragmas.pod6-index-entry-fatal-fatal"><span class="code">no fatal</span>  pragma</a> and ensure the tested code does not sink the possible <a href="#_type_Failure.pod6">Failures</a>. If you wish to test that the code returns a <a href="#_type_Failure.pod6">Failure</a> instead of throwing, use <a href="#_language_testing.pod6-index-entry-fails-like"><span class="code">fails-like</span></a> routine instead.</p>
 <pre class="code">sub fails-not-throws { +&quot;a&quot; }
# test passes, even though it's just a Failure and would not always throw:
throws-like { fails-not-throws }, Exception;

# test detects nothing got thrown, because our Failure wasn't sunk or made fatal:
throws-like { no fatal; my $ = fails-not-throws; Nil }, Exception;</pre>
 <p>Please note that you can only use the string form (for <span class="code">EVAL</span>) if you are not referencing any symbols in the surrounding scope. If you are, you should encapsulate your string with a block and an EVAL instead. For instance:</p>
 <pre class="code">throws-like { EVAL q[ fac(&quot;foo&quot;) ] }, X::TypeCheck::Argument;</pre>
 <p><span class="indexed"><a id="662" name="fails-like"></a></span></p>
 <ul><li><p>fails-like($code, $expected-exception, $description?, *%matcher)</p>
</li></ul> <p>Same interface as <a href="#_language_testing.pod6-index-entry-throws-like"><span class="code">throws-like</span></a>, except checks that the code returns a <a href="#_type_Failure.pod6">Failure</a> instead of throwing. If the code does throw or if the returned <a href="#_type_Failure.pod6">Failure</a> has already been <a href="#_routine_handled.pod6">handled</a>, that will be considered as a failed test.</p>
 <pre class="code">fails-like { +&quot;a&quot; }, X::Str::Numeric,
    :message(/'Cannot convert string to number'/),
'converting non-numeric string to number fails';</pre>
 <a name="t48.8"></a><h1 id="_language_testing.pod6-Grouping_tests">48.8 Grouping tests</h1>
 <p>The result of a group of subtests is only <span class="code">ok</span> if all subtests are <span class="code">ok</span>.</p>
 <ul><li><p><span class="indexed"><a id="663" name="subtest">subtest(&amp;subtests, $description?)</a></span></p>
</li></ul> <p>The <span class="code">subtest</span> function executes the given block, consisting of usually more than one test, possibly including a <span class="code">plan</span> or <span class="code">done-testing</span>, and counts as <i>one</i> test in <span class="code">plan</span>, <span class="code">todo</span>, or <span class="code">skip</span> counts. It will pass the test only if <b>all</b> tests in the block pass. The function accepts an optional <span class="code">$description</span> of the test.</p>
 <pre class="code">class Womble {} 
 
 class GreatUncleBulgaria is Womble { 
     has $.location = &quot;Wimbledon Common&quot;; 
     has $.spectacles = True; 
 } 
 
 subtest { 
     my $womble = GreatUncleBulgaria.new; 
 
     isa-ok $womble,            Womble,             &quot;Correct type&quot;; 
     is     $womble.location,   &quot;Wimbledon Common&quot;, &quot;Correct location&quot;; 
     ok     $womble.spectacles,                     &quot;Correct eyewear&quot;; 
 
 }, &quot;Check Great Uncle Bulgaria&quot;; 
</pre>
 <p>You can also place the description as the first positional argument, or use a <span class="code">Pair</span> with description as the key and subtest's code as the value. This can be useful for subtests with large bodies.</p>
 <pre class="code">subtest 'A bunch of tests', { 
     plan 42; 
     ... 
     ... 
 } 
 
 subtest 'Another bunch of tests' =&gt; { 
     plan 72; 
     ... 
     ... 
 } 
</pre>
 <a name="t48.9"></a><h1 id="_language_testing.pod6-Skipping_tests">48.9 Skipping tests</h1>
 <p>Sometimes tests just aren't ready to be run, for instance a feature might not yet be implemented, in which case tests can be marked as <span class="code">todo</span>. Or it could be the case that a given feature only works on a particular platform - in which case one would <span class="code">skip</span> the test on other platforms.</p>
 <ul><li><p><span class="indexed"><a id="664" name="todo">todo($reason, $count = 1)</a></span></p>
</li></ul> <p>Mark <span class="code">$count</span> tests as TODO, giving a <span class="code">$reason</span> as to why. By default only one test will be marked TODO.</p>
 <pre class="code">sub my-custom-pi { 3 };

todo 'not yet precise enough';         # Mark the test as TODO.
is my-custom-pi(), pi, 'my-custom-pi'; # Run the test, but don't report
                                       # failure in test harness.</pre>
 <p>The result from the test code above will be something like:</p>
 <pre class="code">not ok 1 - my-custom-pi# TODO not yet precise enough 
 
 # Failed test 'my-custom-pi' 
 # at test-todo.t line 7 
 # expected: '3.14159265358979' 
 #      got: '3' 
</pre>
 <p>Note that if you <span class="code">todo</span> a <span class="code">subtest</span>, all of the failing tests inside of it will be automatically marked TODO as well and will <i>not</i> count towards your original TODO count.</p>
 <ul><li><p><span class="indexed"><a id="665" name="skip">skip($reason, $count = 1)</a></span></p>
</li></ul> <p>Skip <span class="code">$count</span> tests, giving a <span class="code">$reason</span> as to why. By default only one test will be skipped. Use such functionality when a test (or tests) would die if run.</p>
 <pre class="code">sub num-forward-slashes($arg) { ... } ; 
 
 if $*KERNEL ~~ 'linux' { 
     is num-forward-slashes(&quot;/a/b&quot;),             2; 
     is num-forward-slashes(&quot;/a//b&quot;.IO.cleanup), 2; 
 } 
 else { 
     skip &quot;Can't use forward slashes on Windows&quot;, 2; 
 } 
</pre>
 <p>Note that if you mark a test as skipped, you must also prevent that test from running.</p>
 <ul><li><p><span class="indexed"><a id="666" name="skip-rest">skip-rest($reason?)</a></span></p>
</li></ul> <p>Skip the remaining tests. If the remainder of the tests in the test file would all fail due to some condition, use this function to skip them, providing an optional <span class="code">$reason</span> as to why.</p>
 <pre class="code">my $location; sub womble { ... }; ...; 
 unless $location ~~ &quot;Wimbledon Common&quot; { 
     skip-rest &quot;We can't womble, the remaining tests will fail&quot;; 
     exit; 
 } 
 
 # tests requiring functional wombling 
 ok womble(); 
 # ... 
</pre>
 <p>Note that <span class="code">skip-rest</span> requires a <span class="code">plan</span> to be set, otherwise the <span class="code">skip-rest</span> call will throw an error. Note that <span class="code">skip-rest</span> does not exit the test run. Do it manually, or use conditionals to avoid running any further tests.</p>
 <p>See also <a href="#_language_testing.pod6-index-entry-plan-plan($count)"><span class="code">plan :skip-all('...')</span></a> to avoid running any tests at all and <a href="#_language_testing.pod6-index-entry-bail-out-bail-out($reason?)"><span class="code">bail-out</span></a> to abort the test run and mark it as failed.</p>
 <ul><li><p><span class="indexed"><a id="667" name="bail-out">bail-out($reason?)</a></span></p>
</li></ul> <p>If you already know the tests will fail, you can bail out of the test run using <span class="code">bail-out()</span>:</p>
 <pre class="code">my $has-db-connection; 
 ... 
 $has-db-connection  or bail-out 'Must have database connection for testing'; 
</pre>
 <p>The function aborts the current test run, signaling failure to the harness. Takes an optional reason for bailing out. The subroutine will call <span class="code">exit()</span>, so if you need to do a clean-up, do it before calling <span class="code">bail-out()</span>.</p>
 <p>If you want to abort the test run, but without marking it as failed, see <a href="#_language_testing.pod6-index-entry-skip-rest-skip-rest($reason?)"><span class="code">skip-rest</span></a> or <a href="#_language_testing.pod6-index-entry-plan-plan($count)"><span class="code">plan :skip-all('...')</span></a></p>
 <a name="t48.10"></a><h1 id="_language_testing.pod6-Manual_control">48.10 Manual control</h1>
 <p>If the convenience functionality documented above does not suit your needs, you can use the following functions to manually direct the test harness output.</p>
 <ul><li><p><span class="indexed"><a id="668" name="pass flunk">pass($description?), flunk($description?)</a></span></p>
</li></ul> <p>The <span class="code">pass</span> function marks a test as passed. <span class="code">flunk</span> marks a test as <b>not</b> passed. Both functions accept an optional test <span class="code">$description</span>.</p>
 <pre class="code">pass &quot;Actually, this test has passed&quot;;

flunk &quot;But this one hasn't passed&quot;;</pre>
 <p>Since these subroutines do not provide indication of what value was received and what was expected, they should be used sparingly, such as when evaluating a complex test condition.</p>
 <ul><li><p><span class="indexed"><a id="669" name="diag">diag($message)</a></span></p>
</li></ul> <p>Display diagnostic information in a TAP-compatible manner on the standard error stream. This is usually used when a particular test has failed to provide information that the test itself did not provide. Or it can be used to provide visual markers on how the testing of a test-file is progressing (which can be important when doing stress testing).</p>
 <pre class="code">diag &quot;Yay!  The tests got to here!&quot;;</pre>
</div>
<!-- /language/traps.pod6 --><div class="pod-body"><a id="_language_traps.pod6"></a><a name="t49"><h1 class="title">49 Traps to avoid</h1></a> <p class="subtitle">Traps to avoid when getting started with Perl 6</p> <p>When learning a programming language, possibly with the background of being familiar with another programming language, there are always some things that can surprise you and might cost valuable time in debugging and discovery.</p>
 <p>This document aims to show common misconceptions.</p>
 <p>During the making of Perl 6 great pains were taken to get rid of warts in the syntax. When you whack one wart, though, sometimes another pops up. So a lot of time was spent finding the minimum number of warts or trying to put them where they would rarely be seen. Because of this, Perl 6's warts are in different places than you may expect them to be when coming from another language.</p>
 <a name="t49.1"></a><h1 id="_language_traps.pod6-Variables_and_Constants">49.1 Variables and Constants</h1>
 <a name="t49.1.1"></a><h2 id="_language_traps.pod6-Constants_are_Computed_at_Compile_Time">49.1.1 Constants are Computed at Compile Time</h2>
 <p>Constants are computed at compile time, so if you use them in modules keep in mind that their values will be frozen due to pre-compilation of the module itself:</p>
 <pre class="code"># WRONG (most likely): 
 unit module Something::Or::Other; 
 constant $config-file = &quot;config.txt&quot;.IO.slurp; 
</pre>
 <p>The <span class="code">$config-file</span> will be slurped during pre-compilation and changes to <span class="code">config.txt</span> file won't be re-loaded when you start the script again; only when the module is re-compiled.</p>
 <p>Avoid <a href="#_language_containers.pod6">using a container</a> and prefer <a href="#_language_containers.pod6-Binding">binding a value</a> to a variable that offers a behaviour similar to a constant, but allowing the value to get updated:</p>
 <pre class="code"># Good; file gets updated from 'config.txt' file on each script run: 
 unit module Something::Or::Other; 
 my $config-file := &quot;config.txt&quot;.IO.slurp; 
</pre>
 <a name="t49.2"></a><h1 id="_language_traps.pod6-Objects">49.2 Objects</h1>
 <a name="t49.2.1"></a><h2 id="_language_traps.pod6-Assigning_to_attributes">49.2.1 Assigning to attributes</h2>
 <p>Newcomers often think that, because attributes with accessors are declared as <span class="code">has $.x</span>, they can assign to <span class="code">$.x</span> inside the class. That's not the case.</p>
 <p>For example</p>
 <pre class="code">use v6.c; 
 class Point { 
     has $.x; 
     has $.y; 
     method double { 
         $.x *= 2;   # WRONG 
         $.y *= 2;   # WRONG 
         self; 
     } 
 } 
 
 say Point.new(x =&gt; 1, y =&gt; -2).double.x 
 # OUTPUT: «Cannot assign to an immutable value␤» 
</pre>
 <p>in the first line marked with <span class="code"># WRONG</span>, because <span class="code">$.x</span>, short for <span class="code">$( self.x )</span>, is a call to a read-only accessor.</p>
 <p>The syntax <span class="code">has $.x</span> is short for something like <span class="code">has $!x; method x() { $!x }</span>, so the actual attribute is called <span class="code">$!x</span>, and a read-only accessor method is automatically generated.</p>
 <p>Thus the correct way to write the method <span class="code">double</span> is</p>
 <pre class="code">method double { 
     $!x *= 2; 
     $!y *= 2; 
     self; 
 } 
</pre>
 <p>which operates on the attributes directly.</p>
 <a name="t49.2.2"></a><h2 id="_language_traps.pod6-BUILD_prevents_automatic_attribute_initialization_from_constructor_arguments">49.2.2 <span class="code">BUILD</span> prevents automatic attribute initialization from constructor arguments</h2>
 <p>When you define your own <span class="code">BUILD</span> submethod, you must take care of initializing all attributes by yourself. For example</p>
 <pre class="code">use v6.c; 
 class A { 
     has $.x; 
     has $.y; 
     submethod BUILD { 
         $!y = 18; 
     } 
 } 
 
 say A.new(x =&gt; 42).x;       # OUTPUT: «Any␤» 
</pre>
 <p>leaves <span class="code">$!x</span> uninitialized, because the custom <span class="code">BUILD</span> doesn't initialize it.</p>
 <p><b>Note:</b> Consider using <a href="#_language_objects.pod6-index-entry-TWEAK">TWEAK</a> instead. <a href="#_language_glossary.pod6-Rakudo">Rakudo</a> supports <a href="#_language_objects.pod6-index-entry-TWEAK">TWEAK</a> method since release 2016.11.</p>
 <p>One possible remedy is to explicitly initialize the attribute in <span class="code">BUILD</span>:</p>
 <pre class="code">submethod BUILD(:$x) { 
     $!y = 18; 
     $!x := $x; 
 } 
</pre>
 <p>which can be shortened to:</p>
 <pre class="code">submethod BUILD(:$!x) { 
     $!y = 18; 
 } 
</pre>
 <p>Another, more general approach is to leave <span class="code">BUILD</span> alone, and hook into the <span class="code">BUILDALL</span> mechanism instead:</p>
 <pre class="code">use v6.c; 
 class A { 
     has $.x; 
     has $.y; 
     method BUILDALL(|c) { 
         callsame; 
         $!y = 18; 
         self 
     } 
 } 
 
 say A.new(x =&gt; 42).x;       # OUTPUT: «42␤» 
</pre>
 <p>Remember that <span class="code">BUILDALL</span> is a method, not a submethod. That's because by default, there is only one such method per class hierarchy, whereas <span class="code">BUILD</span> is explicitly called per class. That is the reason why, in order to properly initialize parent objects, it is required to use <span class="code">callsame</span> inside <span class="code">BUILDALL</span>, but not inside <span class="code">BUILD</span> (for more on the subject see <a href="#_language_objects.pod6-Object_Construction">object creation</a>).</p>
 <a name="t49.3"></a><h1 id="_language_traps.pod6-Whitespace">49.3 Whitespace</h1>
 <a name="t49.3.1"></a><h2 id="_language_traps.pod6-Whitespace_in_Regexes_does_not_match_literally">49.3.1 Whitespace in Regexes does not match literally</h2>
 <pre class="code">say 'a b' ~~ /a b/; # OUTPUT: «False␤» 
</pre>
 <p>Whitespace in regexes is, by default, considered an optional filler without semantics, just like in the rest of the Perl 6 language.</p>
 <p>Ways to match whitespace:</p>
 <ul><li><p><span class="code">\s</span> to match any one whitespace, <span class="code">\s+</span> to match at least one</p>
</li></ul> <ul><li><p><span class="code">' '</span> (a blank in quotes) to match a single blank</p>
</li></ul> <ul><li><p><span class="code">\t</span>, <span class="code">\n</span> for specific whitespace (tab, newline)</p>
</li></ul> <ul><li><p><span class="code">\h</span>, <span class="code">\v</span> for horizontal, vertical whitespace</p>
</li></ul> <ul><li><p><span class="code">.ws</span>, a built-in rule for whitespace that oftentimes does what you actually want it to do</p>
</li></ul> <ul><li><p>with <span class="code">m:s/a b/</span> or <span class="code">m:sigspace/a b/</span>, the blank in the regexes matches arbitrary whitespace</p>
</li></ul> <a name="t49.3.2"></a><h2 id="_language_traps.pod6-Ambiguities_in_Parsing">49.3.2 Ambiguities in Parsing</h2>
 <p>While some languages will let you get away with removing as much whitespace between tokens as possible, Perl 6 is less forgiving. The overarching mantra is we discourage code golf, so don't scrimp on whitespace (the more serious underlying reason behind these restrictions is single-pass parsing and ability to parse Perl 6 programs with virtually no <a href="https://en.wikipedia.org/wiki/Backtracking">backtracking</a>).</p>
 <p>The common areas you should watch out for are:</p>
 <a name="t49.3.2.1"></a><h3 id="_language_traps.pod6-Block_vs._Hash_slice_ambiguity">49.3.2.1 Block vs. Hash slice ambiguity</h3>
 <pre class="code"># WRONG; trying to hash-slice a Bool: 
 while ($++ &gt; 5){ .say } 
</pre>
 <pre class="code"># RIGHT: 
 while ($++ &gt; 5) { .say } 
 
 # EVEN BETTER; Perl 6 does not require parentheses there: 
 while $++ &gt; 5 { .say } 
</pre>
 <a name="t49.3.2.2"></a><h3 id="_language_traps.pod6-Reduction_vs._Array_constructor_ambiguity">49.3.2.2 Reduction vs. Array constructor ambiguity</h3>
 <pre class="code"># WRONG; ambiguity with `[&lt;]` meta op: 
 my @a = [[&lt;foo&gt;],]; 
</pre>
 <pre class="code"># RIGHT; reductions cannot have spaces in them, so put one in: 
 my @a = [[ &lt;foo&gt;],]; 
 
 # No ambiguity here, natural spaces between items suffice to resolve it: 
 my @a = [[&lt;foo bar ber&gt;],]; 
</pre>
 <a name="t49.3.2.3"></a><h3 id="_language_traps.pod6-Less_than_vs._Word_quoting/Associative_indexing">49.3.2.3 Less than vs. Word quoting/Associative indexing</h3>
 <pre class="code"># WRONG; trying to index 3 associatively 
 say 3&lt;5&gt;4 
</pre>
 <pre class="code"># RIGHT; prefer some extra whitespace around infix operators 
 say 3 &lt; 5 &gt; 4 
</pre>
 <a name="t49.4"></a><h1 id="_language_traps.pod6-Captures">49.4 Captures</h1>
 <a name="t49.4.1"></a><h2 id="_language_traps.pod6-Containers_versus_values_in_a_Capture">49.4.1 Containers versus values in a Capture</h2>
 <p>Beginners might expect a variable in a <span class="code">Capture</span> to supply its current value when that <span class="code">Capture</span> is later used. For example:</p>
 <pre class="code">my $a = 2; say join &quot;,&quot;, ($a, ++$a);  # OUTPUT: «3,3␤» 
</pre>
 <p>Here the <span class="code">Capture</span> contained the <b>container</b> pointed to by <span class="code">$a</span> and the <b>value</b> of the result of the expression <span class="code">++$a</span>. Since the <span class="code">Capture</span> must be reified before <span class="code">&amp;say</span> can use it, the <span class="code">++$a</span> may happen before <span class="code">&amp;say</span> looks inside the container in <span class="code">$a</span> and so it may already be incremented.</p>
 <p>Instead, use an expression that produces a value when you want a value.</p>
 <pre class="code">my $a = 2; say join &quot;,&quot;, (+$a, ++$a); # OUTPUT: «2,3␤» 
</pre>
 <a name="t49.5"></a><h1 id="_language_traps.pod6-Cool_tricks">49.5 <span class="code">Cool</span> tricks</h1>
 <p>Perl 6 includes a <a href="#_type_Cool.pod6">Cool</a> class, which provides some of the DWIM behaviors we got used to by coercing arguments when necessary. However, DWIM is never perfect.</p>
 <a name="t49.5.1"></a><h2 id="_language_traps.pod6-Strings_are_not_Lists,_so_beware_indexing">49.5.1 Strings are not <span class="code">List</span>s, so beware indexing</h2>
 <p>In Perl 6, <a href="#_type_Str.pod6">strings</a> are not lists of characters. One <a href="#48-Strings_are_not_iterable">cannot iterate</a> over them or index into them as you can with <a href="#_type_List.pod6">lists</a>, despite the name of the <a href="#_type_Str.pod6-routine_index">.index routine</a>.</p>
 <a name="t49.5.2"></a><h2 id="_language_traps.pod6-Lists_become_strings,_so_beware_.index()ing">49.5.2 <span class="code">List</span>s become strings, so beware <span class="code">.index()</span>ing</h2>
 <p><a href="#_type_List.pod6">List</a> inherits from <a href="#_type_Cool.pod6">Cool</a>, which provides access to <a href="#_type_Str.pod6-routine_index">.index</a>. Because of the way <span class="code">.index</span> <a href="#_type_List.pod6-method_Str">coerces</a> a <span class="code">List</span> into a <a href="#_type_Str.pod6">Str</a>, this can sometimes appear to be returning the index of an element in the list, but that is not how the behavior is defined.</p>
 <pre class="code">my @a = &lt;a b c d&gt;; 
 say @a.index(‘a’);    # 0 
 say @a.index('c');    # 4 -- not 2! 
 say @a.index('b c');  # 2 -- not undefined! 
 say @a.index(&lt;a b&gt;);  # 0 -- not undefined! 
</pre>
 <p>These same caveats apply to <a href="#_type_Str.pod6-routine_rindex">.rindex</a>.</p>
 <a name="t49.5.3"></a><h2 id="_language_traps.pod6-Lists_become_strings,_so_beware_.contains()">49.5.3 <span class="code">List</span>s become strings, so beware <span class="code">.contains()</span></h2>
 <p>Similarly, <a href="#_type_List.pod6-(Cool)_method_contains">.contains</a> does not look for elements in the list.</p>
 <pre class="code">my @menu = &lt;hamburger fries milkshake&gt;; 
 say @menu.contains('hamburger');            # True 
 say @menu.contains('hot dog');              # False 
 say @menu.contains('milk');                 # True! 
 say @menu.contains('er fr');                # True! 
 say @menu.contains(&lt;es mi&gt;);                # True! 
</pre>
 <p>If you actually want to check for the presence of an element, use the <a href="#_routine_(cont).pod6">(cont)</a> operator for single elements, and the <a href="#_routine_(%3E%3D).pod6">superset</a> and <a href="#_routine_(%3E).pod6">strict superset</a> operators for multiple elements.</p>
 <pre class="code">my @menu = &lt;hamburger fries milkshake&gt;; 
 say @menu (cont) 'fries';                   # True 
 say @menu (cont) 'milk';                    # False 
 say @menu (&gt;) &lt;hamburger fries&gt;;            # True 
 say @menu (&gt;) &lt;milkshake fries&gt;;            # True (! NB: order doesn't matter) 
</pre>
 <p>If you are doing a lot of element testing, you may be better off using a <a href="#_type_Set.pod6">Set</a>.</p>
 <a name="t49.5.4"></a><h2 id="_language_traps.pod6-Numeric_literals_are_parsed_before_coercion">49.5.4 <span class="code">Numeric</span> literals are parsed before coercion</h2>
 <p>Experienced programmers will probably not be surprised by this, but Numeric literals will be parsed into their numeric value before being coerced into a string, which may create nonintuitive results.</p>
 <pre class="code">say 0xff.contains(55);      # True 
 say 0xff.contains(0xf);     # False 
 say 12_345.contains(&quot;23&quot;);  # True 
 say 12_345.contains(&quot;2_&quot;);  # False 
</pre>
 <a name="t49.5.5"></a><h2 id="_language_traps.pod6-Getting_a_random_item_from_a_List">49.5.5 Getting a random item from a <span class="code">List</span></h2>
 <p>A common task is to retrieve one or more random elements from a collection, but <span class="code">List.rand</span> isn't the way to do that. <a href="#_type_Cool.pod6">Cool</a> provides <a href="#_routine_rand.pod6-class_Cool">rand</a>, but that first coerces the <span class="code">List</span> into the number of items in the list, and returns a random real number between 0 and that value. To get random elements, see <a href="#_routine_pick.pod6">pick</a> and <a href="#_routine_roll.pod6">roll</a>.</p>
 <pre class="code">my @colors = &lt;red orange yellow green blue indigo violet&gt;; 
 say @colors.rand;       # 2.21921955680514 
 say @colors.pick;       # orange 
 say @colors.roll;       # blue 
 say @colors.pick(2);    # yellow violet  (cannot repeat) 
 say @colors.roll(3);    # red green red  (can repeat) 
</pre>
 <a name="t49.6"></a><h1 id="_language_traps.pod6-Arrays">49.6 Arrays</h1>
 <a name="t49.6.1"></a><h2 id="_language_traps.pod6-Referencing_the_last_element_of_an_array">49.6.1 Referencing the last element of an array</h2>
 <p>In some languages one could reference the last element of an array by asking for the &quot;-1th&quot; element of the array, e.g.:</p>
 <pre class="code">my @array = qw{victor alice bob charlie eve}; 
 say @array[-1];    # OUTPUT: «eve␤» 
</pre>
 <p>In Perl 6 it is not possible to use negative subscripts, however the same is achieved by actually using a function, namely <span class="code">*-1</span>. Thus accessing the last element of an array becomes:</p>
 <pre class="code">my @array = qw{victor alice bob charlie eve}; 
 say @array[*-1];   # OUTPUT: «eve␤» 
</pre>
 <p>Yet another way is to utilize the array's tail method:</p>
 <pre class="code">my @array = qw{victor alice bob charlie eve}; 
 say @array.tail;      # OUTPUT: «eve␤» 
 say @array.tail(2);   # OUTPUT: «(charlie eve)␤» 
</pre>
 <a name="t49.6.2"></a><h2 id="_language_traps.pod6-Typed_Array_parameters">49.6.2 Typed Array parameters</h2>
 <p>Quite often new users will happen to write something like:</p>
 <pre class="code">sub foo(Array @a) { ... } 
</pre>
 <p>...before they have gotten far enough in the documentation to realize that this is asking for an Array of Arrays. To say that <span class="code">@a</span> should only accept Arrays, use instead:</p>
 <pre class="code">sub foo(@a where Array) { ... } 
</pre>
 <p>It is also common to expect this to work, when it does not:</p>
 <pre class="code">sub bar(Int @a) { 42.say }; 
 bar([1, 2, 3]);             # expected Positional[Int] but got Array 
</pre>
 <p>The problem here is that [1, 2, 3] is not an <span class="code">Array[Int]</span>, it is a plain old Array that just happens to have Ints in it. To get it to work, the argument must also be an <span class="code">Array[Int]</span>.</p>
 <pre class="code">my Int @b = 1, 2, 3; 
 bar(@b);                    # OUTPUT: «42␤» 
 bar(Array[Int].new(1, 2, 3)); 
</pre>
 <p>This may seem inconvenient, but on the upside it moves the type-check on what is assigned to <span class="code">@b</span> to where the assignment happens, rather than requiring every element to be checked on every call.</p>
 <a name="t49.6.3"></a><h2 id="_language_traps.pod6-Using_«»_quoting_when_you_don't_need_it">49.6.3 Using <span class="code">«»</span> quoting when you don't need it</h2>
 <p>This trap can be seen in different varieties. Here are some of them:</p>
 <pre class="code">my $x = ‘hello’; 
 my $y = ‘foo bar’; 
 
 my %h = $x =&gt; 42, $y =&gt; 99; 
 say %h«$x»;   # ← WRONG; assumption that $x has no whitespace 
 say %h«$y»;   # ← WRONG; this time you can clearly see how wrong it is 
 say %h«&quot;$y&quot;»; # ← KINDA OK; it works but there is no good reason to do that 
 say %h{$y};   # ← RIGHT; this is what should be used 
 
 run «touch $x»;        # ← WRONG; assumption that only one file will be created 
 run «touch $y»;        # ← WRONG; this time you can clearly see how wrong it is 
 run «touch &quot;$y&quot;»;      # ← WRONG; still an error if $y starts with - 
 run «touch -- &quot;$y&quot;»;   # ← KINDA OK; it works but there is no good enough reason to do that 
 run ‘touch’, ‘--’, $y; # ← RIGHT; explicit and *always* correct 
</pre>
 <p>Basically, <span class="code">«»</span> quoting is only safe to use if you remember to <i>always</i> quote your variables. The problem is that it inverts the default behavior to unsafe variant, so just by forgetting some quotes you are risking to introduce either a bug or maybe even a security hole. To stay on the safe side, refrain from using <span class="code">«»</span>.</p>
 <a name="t49.7"></a><h1 id="_language_traps.pod6-Strings">49.7 Strings</h1>
 <a name="t49.7.1"></a><h2 id="_language_traps.pod6-Quotes_and_interpolation">49.7.1 Quotes and interpolation</h2>
 <p>Interpolation in string literals can be too clever for your own good.</p>
 <pre class="code">&quot;$foo&lt;html&gt;&lt;/html&gt;&quot; # Perl 6 understands that as: 
 &quot;$foo{'html'}{'/html'}&quot; 
</pre>
 <pre class="code">&quot;$foo(&quot; ~ @args ~ &quot;)&quot; # Perl 6 understands that as: 
 &quot;$foo(' ~ @args ~ ')&quot; 
</pre>
 <p>You can avoid those problems using non-interpolating single quotes and switching to more liberal interpolation with <span class="code">\qq[]</span> escape sequence:</p>
 <pre class="code">my $a = 1; 
 say '\qq[$a]()$b()'; 
 # OUTPUT: «1()$b()␤» 
</pre>
 <p>Another alternative is to use <span class="code">Q:c</span> quoter, and use code blocks <span class="code">{}</span> for all interpolation:</p>
 <pre class="code">my $a = 1; 
 say Q:c«{$a}()$b()»; 
 # OUTPUT: «1()$b()␤» 
</pre>
 <a name="t49.7.2"></a><h2 id="_language_traps.pod6-Strings_are_not_iterable">49.7.2 Strings are not iterable</h2>
 <p>There are methods that <a href="#_type_Str.pod6">Str</a> inherits from <a href="#_type_Any.pod6">Any</a> that work on iterables like lists. Iterators on strings contain one element that is the whole string. To use list-based methods like <span class="code">sort</span>, <span class="code">reverse</span>, you need to convert the string into a list first.</p>
 <pre class="code">say &quot;cba&quot;.sort;              # OUTPUT: «(cba)␤» 
 say &quot;cba&quot;.comb.sort.join;    # OUTPUT: «abc␤» 
</pre>
 <a name="t49.7.3"></a><h2 id="_language_traps.pod6-.chars_Gets_the_Number_of_Graphemes,_not_Codepoints">49.7.3 <span class="code">.chars</span> Gets the Number of Graphemes, not Codepoints</h2>
 <p>In Perl 6, <a href="#_routine_chars.pod6"><span class="code">.chars</span></a> returns the number of graphemes, or user visible characters. These graphemes could be made up of a letter plus an accent for example. If you need the number of codepoints, you should use <a href="#_routine_codes.pod6"><span class="code">.codes</span></a>. If you need the number of bytes when encoded as UTF8, you should use <span class="code">.encode.bytes</span> to encode the string as UTF8 and then get the number of bytes.</p>
 <pre class="code">say &quot;\c[LATIN SMALL LETTER J WITH CARON, COMBINING DOT BELOW]&quot;; # OUTPUT: «ǰ̣»
say 'ǰ̣'.codes;        # OUTPUT: «2»
say 'ǰ̣'.chars;        # OUTPUT: «1»
say 'ǰ̣'.encode.bytes; # OUTPUT: «4»</pre>
 <p>For more information on how strings work in Perl 6, see the <a href="#_language_unicode.pod6">Unicode page</a>.</p>
 <a name="t49.7.4"></a><h2 id="_language_traps.pod6-All_Text_is_Normalized_By_Default">49.7.4 All Text is Normalized By Default</h2>
 <p>Perl 6 normalizes all text into Unicode NFC form (Normalization Form Canonical). Filenames are the only text not normalized by default. If you are expecting your strings to maintain a byte for byte representation as the original, you need to use <a href="#_language_unicode.pod6-UTF8-C8"><span class="code">UTF8-C8</span></a> when reading or writing to any filehandles.</p>
 <a name="t49.7.5"></a><h2 id="_language_traps.pod6-Allomorphs_Generally_Follow_Numeric_Semantics">49.7.5 Allomorphs Generally Follow Numeric Semantics</h2>
 <p><a href="#_type_Str.pod6">Str</a> <span class="code">&quot;0&quot;</span> is <span class="code">True</span>, while <a href="#_type_Numeric.pod6">Numeric</a> is <span class="code">False</span>. So what's the <a href="#_type_Bool.pod6">Bool</a> value of <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorph</a> <span class="code">&lt;0&gt;</span>?</p>
 <p>In general, allomorphs follow <a href="#_type_Numeric.pod6">Numeric</a> semantics, so the ones that <i>numerically</i> evaluate to zero are <span class="code">False</span>:</p>
 <pre class="code">say so   &lt;0&gt;; # OUTPUT: «False␤»
say so &lt;0e0&gt;; # OUTPUT: «False␤»
say so &lt;0.0&gt;; # OUTPUT: «False␤»</pre>
 <p>To force comparison being done for the <a href="#_type_Stringy.pod6">Stringy</a> part of the allomorph, use <a href="#_routine_~.pod6">prefix  <span class="code">~</span>  operator</a> or the <a href="#_type_Str.pod6">Str</a> method to coerce the allomorph to <a href="#_type_Str.pod6">Str</a>, or use the <a href="#_routine_chars.pod6">chars</a> routine to test whether the allomorph has any length:</p>
 <pre class="code">say so      ~&lt;0&gt;;     # OUTPUT: «True␤»
say so       &lt;0&gt;.Str; # OUTPUT: «True␤»
say so chars &lt;0&gt;;     # OUTPUT: «True␤»</pre>
 <a name="t49.7.6"></a><h2 id="_language_traps.pod6-Case-insensitive_comparison_of_strings">49.7.6 Case-insensitive comparison of strings</h2>
 <p>In order to do case-insensitive comparison, you can use <span class="code">.fc</span> (fold-case). The problem is that people tend to use <span class="code">.lc</span> or <span class="code">.uc</span>, and it does seem to work within the ASCII range, but fails on other characters. This is not just a Perl 6 trap, the same applies to other languages.</p>
 <pre class="code">say ‘groß’.lc eq ‘GROSS’.lc; # ← WRONG; False 
 say ‘groß’.uc eq ‘GROSS’.uc; # ← WRONG; True, but that's just luck 
 say ‘groß’.fc eq ‘GROSS’.fc; # ← RIGHT; True 
</pre>
 <p>If you are working with regexes, then there is no need to use <span class="code">.fc</span> and you can use <span class="code">:i</span> (<span class="code">:ignorecase</span>) adverb instead.</p>
 <a name="t49.8"></a><h1 id="_language_traps.pod6-Pairs">49.8 Pairs</h1>
 <a name="t49.8.1"></a><h2 id="_language_traps.pod6-Constants_on_the_LHS_of_pair_notation">49.8.1 Constants on the LHS of pair notation</h2>
 <p>Consider this code:</p>
 <pre class="code">enum Animals &lt;Dog Cat&gt;; 
 my %h := :{ Dog =&gt; 42 }; 
 say %h{Dog}; # OUTPUT: «(Any)␤» 
</pre>
 <p>The <span class="code">:{ … }</span> syntax is used to create <a href="#_type_Hash.pod6-Non-string_keys_(object_hash)">object hashes</a>. The intentions of someone who wrote that code were to create a hash with Enum objects as keys (and <span class="code">say %h{Dog}</span> attempts to get a value using the Enum object to perform the lookup). However, that's not how pair notation works.</p>
 <p>For example, in <span class="code">Dog =&gt; 42</span> the key will be a <span class="code">Str</span>. That is, it doesn't matter if there is a constant, or an enumeration with the same name. The pair notation will always use the left-hand side as a string literal, as long as it looks like an identifier.</p>
 <p>To avoid this, use <span class="code">(Dog) =&gt; 42</span> or <span class="code">::Dog =&gt; 42</span>.</p>
 <a name="t49.8.2"></a><h2 id="_language_traps.pod6-Scalar_values_within_Pair">49.8.2 Scalar values within <span class="code">Pair</span></h2>
 <p>When dealing with <a href="#_type_Scalar.pod6">Scalar</a> values, the <span class="code">Pair</span> holds the container to the value. This means that it is possible to reflect changes to the <span class="code">Scalar</span> value from outside the <span class="code">Pair</span>:</p>
 <pre class="code">my $v = 'value A'; 
 my $pair = Pair.new( 'a', $v ); 
 $pair.say;  # OUTPUT: a =&gt; value A 
 
 $v = 'value B'; 
 $pair.say; # OUTPUT: a =&gt; value B 
</pre>
 <p>Use the method <a href="#_type_Pair.pod6-method_freeze">freeze</a> to force the removal of the <span class="code">Scalar</span> container from the <span class="code">Pair</span>. For more details see the documentation about <a href="#_type_Pair.pod6">Pair</a>.</p>
 <a name="t49.9"></a><h1 id="_language_traps.pod6-Operators">49.9 Operators</h1>
 <p>Some operators commonly shared among other languages were repurposed in Perl 6 for other, more common, things:</p>
 <a name="t49.9.1"></a><h2 id="_language_traps.pod6-Junctions">49.9.1 Junctions</h2>
 <p>The <span class="code">^</span>, <span class="code">|</span>, and <span class="code">&amp;</span> are <i>not</i> bitwise operators, they create <a href="#_type_Junction.pod6">Junctions</a>. The corresponding bitwise operators in Perl 6 are: <span class="code">+^</span>, <span class="code">+|</span>, <span class="code">+&amp;</span> for integers and <span class="code">?^</span>, <span class="code">?|</span>, <span class="code">?&amp;</span> for booleans.</p>
 <a name="t49.9.2"></a><h2 id="_language_traps.pod6-Exclusive_Sequence_Operator">49.9.2 Exclusive Sequence Operator</h2>
 <p>Lavish use of whitespace helps readability, but keep in mind infix operators cannot have any whitespace in them. One such operator is the sequence operator that excludes right point: <span class="code">...^</span> (or its <a href="#_language_unicode_ascii.pod6">Unicode equivalent</a> <span class="code">…^</span>).</p>
 <pre class="code">say 1... ^5; # OUTPUT: «(1 0 1 2 3 4)␤»
say 1...^5;  # OUTPUT: «(1 2 3 4)␤»</pre>
 <p>If you place whitespace between the ellipsis (<span class="code">…</span>) and the caret (<span class="code">^</span>), it's no longer a single infix operator, but an infix inclusive sequence operator (<span class="code">…</span>) and a prefix <a href="#_type_Range.pod6">Range</a> operator (<span class="code">^</span>). <a href="#_type_Iterable.pod6">Iterables</a> are valid endpoints for the sequence operator, so the result you'll get might not be what you expected.</p>
 <a name="t49.9.3"></a><h2 id="_language_traps.pod6-String_Ranges/Sequences">49.9.3 String Ranges/Sequences</h2>
 <p>In some languages, using strings as range end points, considers the entire string when figuring out what the next string should be; loosely treating the strings as numbers in a large base. Here's Perl 5 version:</p>
 <pre class="code">say join &quot;, &quot;, &quot;az&quot;..&quot;bc&quot;; 
 # OUTPUT: «az, ba, bb, bc␤» 
</pre>
 <p>Such a range in Perl 6 will produce a different result, where <i>each letter</i> will be ranged to a corresponding letter in the end point, producing more complex sequences:</p>
 <pre class="code">say join &quot;, &quot;, &quot;az&quot;..&quot;bc&quot;; 
 #`{ OUTPUT: « 
     az, ay, ax, aw, av, au, at, as, ar, aq, ap, ao, an, am, al, ak, aj, ai, ah, 
     ag, af, ae, ad, ac, bz, by, bx, bw, bv, bu, bt, bs, br, bq, bp, bo, bn, bm, 
     bl, bk, bj, bi, bh, bg, bf, be, bd, bc 
 ␤»} 
</pre>
 <pre class="code">say join &quot;, &quot;, &quot;r2&quot;..&quot;t3&quot;; 
 # OUTPUT: «r2, r3, s2, s3, t2, t3␤» 
</pre>
 <p>To achieve simpler behaviour, similar to the Perl 5 example above, use a sequence operator that calls <span class="code">.succ</span> method on the starting string:</p>
 <pre class="code">say join &quot;, &quot;, (&quot;az&quot;, *.succ ... &quot;bc&quot;); 
 # OUTPUT: «az, ba, bb, bc␤» 
</pre>
 <a name="t49.9.4"></a><h2 id="_language_traps.pod6-Topicalizing_Operators">49.9.4 Topicalizing Operators</h2>
 <p>The smart match operator <span class="code">~~</span> and <span class="code">andthen</span> set the topic <span class="code">$_</span> to their LHS. In conjunction with implicit method calls on the topic this can lead to surprising results.</p>
 <pre class="code">my &amp;method = { note $_; $_ }; 
 $_ = 'object'; 
 say .&amp;method; 
 # OUTPUT: «object␤object␤» 
 say 'topic' ~~ .&amp;method; 
 # OUTPUT: «topic␤True␤» 
</pre>
 <p>In many cases flipping the method call to the LHS will work.</p>
 <pre class="code">my &amp;method = { note $_; $_ }; 
 $_ = 'object'; 
 say .&amp;method; 
 # OUTPUT: «object␤object␤» 
 say .&amp;method ~~ 'topic'; 
 # OUTPUT: «object␤False␤» 
</pre>
 <a name="t49.9.5"></a><h2 id="_language_traps.pod6-Fat_Arrow_and_Constants">49.9.5 Fat Arrow and Constants</h2>
 <p>The fat arrow operator <span class="code">=&gt;</span> will turn words on its left hand side to <span class="code">Str</span> without checking the scope for constants or <span class="code">\</span>-sigiled variables. Use explicit scoping to get what you mean.</p>
 <pre class="code">constant V = 'x'; 
 my %h = V =&gt; 'oi‽', ::V =&gt; 42; 
 say %h.perl 
 # OUTPUT: «{:V(&quot;oi‽&quot;), :x(42)}␤» 
</pre>
 <a name="t49.9.6"></a><h2 id="_language_traps.pod6-Infix_operator_assignment">49.9.6 Infix operator assignment</h2>
 <p>Infix operators, both built in and user defined, can be combined with the assignment operator as this addition example demonstrates:</p>
 <pre class="code">my $x = 10;
$x += 20;
say $x;     # OUTPUT: «30␤»</pre>
 <p>For any given infix operator <span class="code">op</span>, <span class="code">L op= R</span> is equivalent to <span class="code">L = L op R</span> (where <span class="code">L</span> and <span class="code">R</span> are the left and right arguments, respectively). This means that the following code may not behave as expected:</p>
 <pre class="code">my @a = 1, 2, 3;
@a += 10;
say @a;  # OUTPUT: «[13]␤»</pre>
 <p>Coming from a language like C++, this might seem odd. It is important to bear in mind that <span class="code">+=</span> isn't defined as method on the left hand argument (here the <span class="code">@a</span> array) but is simply shorthand for:</p>
 <pre class="code">my @a = 1, 2, 3;
@a = @a + 10;
say @a;  # OUTPUT: «[13]␤»</pre>
 <p>Here <span class="code">@a</span> is assigned the result of adding <span class="code">@a</span> (which has three elements) and <span class="code">10</span>; <span class="code">13</span> is therefore placed in <span class="code">@a</span>.</p>
 <a name="t49.10"></a><h1 id="_language_traps.pod6-Regexes">49.10 Regexes</h1>
 <a name="t49.10.1"></a><h2 id="_language_traps.pod6-&lt;{$x}&gt;_vs_$($x):_Implicit_EVAL">49.10.1 <span class="code">&lt;{$x}&gt;</span> vs <span class="code">$($x)</span>: Implicit EVAL</h2>
 <p>Sometimes you may need to match a generated string in a regex. This can be done using <span class="code">$(…)</span> or <span class="code">&lt;{…}&gt;</span> syntax:</p>
 <pre class="code">my $x = ‘ailemac’; 
 say ‘I ♥ camelia’ ~~ / $($x.flip) /; # OUTPUT: «｢camelia｣␤» 
 say ‘I ♥ camelia’ ~~ / &lt;{$x.flip}&gt; /; # OUTPUT: «｢camelia｣␤» 
</pre>
 <p>However, the latter only works <i>sometimes</i>.</p>
 <p>Internally <span class="code">&lt;{…}&gt;</span> EVAL-s the given string inside an anonymous regex, while <span class="code">$(…)</span> lexically interpolates the given string. So <span class="code">&lt;{…}&gt;</span> immediately breaks with more complicated inputs. For example:</p>
 <pre class="code">my $x = ‘ailemac#’; 
 say ‘I ♥ #camelia’ ~~ / $($x.flip) /; # OUTPUT: «｢#camelia｣␤» 
 #                    ⚠ ↓↓ WRONG ↓↓ ⚠ 
 say ‘I ♥ #camelia’ ~~ / &lt;{$x.flip}&gt; /; 
 # OUTPUT: 
 # ===SORRY!=== 
 # Regex not terminated. 
 # at EVAL_0:1 
 # ------&gt; anon regex { #camelia}⏏&lt;EOL&gt; 
 # Malformed regex 
 # at EVAL_0:1 
 # ------&gt; anon regex { #camelia}⏏&lt;EOL&gt; 
 #     expecting any of: 
 #         infix stopper 
</pre>
 <p>Therefore, try not to use <span class="code">&lt;{}&gt;</span> unless you really need EVAL.</p>
 <p>Note that even though EVAL is normally considered unsafe, in this case it is restricted to a set of safe operations (which is why it works without <a href="#_language_pragmas.pod6-index-entry-MONKEY-SEE-NO-EVAL-MONKEY-SEE-NO-EVAL">MONKEY-SEE-NO-EVAL</a> pragma). In theory, careless use of <span class="code">&lt;{}&gt;</span> will only result in an exception being thrown, and should not introduce security issues.</p>
 <a name="t49.10.2"></a><h2 id="_language_traps.pod6-|_vs_||:_which_branch_will_win">49.10.2 <span class="code">|</span> vs <span class="code">||</span>: which branch will win</h2>
 <p>To match one of several possible alternatives, <span class="code">||</span> or <span class="code">|</span> will be used. But they are so different.</p>
 <p>When there are multiple matching alternations, for those separated by <span class="code">||</span>, the first matching alternation wins; for those separated by <span class="code">|</span>, which to win is decided by LTM strategy. See also: <a href="#_language_regexes.pod6-Alternation:_||">documentation on  <span class="code">||</span></a> and <a href="#_language_regexes.pod6-Longest_Alternation:_|">documentation on  <span class="code">|</span></a>.</p>
 <p>For simple regexes just using <span class="code">||</span> instead of <span class="code">|</span> will get you familiar semantics, but if writing grammars then it's useful to learn about LTM and declarative prefixes and prefer <span class="code">|</span>. And keep yourself away from using them in one regex. When you have to do that, add parentheses and ensure that you know how LTM strategy works to make the code do what you want.</p>
 <p>The trap typically arises when you try to mix both <span class="code">|</span> and <span class="code">||</span> in the same regex:</p>
 <pre class="code">say 42 ~~ / [  0 || 42 ] | 4/; # OUTPUT: «｢4｣␤» 
 say 42 ~~ / [ 42 ||  0 ] | 4/; # OUTPUT: «｢42｣␤» 
</pre>
 <p>The code above may seem like it is producing a wrong result, but the implementation is actually right.</p>
 <a name="t49.10.3"></a><h2 id="_language_traps.pod6-$/_changes_each_time_a_regular_expression_is_matched">49.10.3 <span class="code">$/</span> changes each time a regular expression is matched</h2>
 <p>Each time a regular expression is matched against something, the special variable <span class="code">$/</span> holding the result <a href="#_type_Match.pod6">Match object</a> is changed accordingly to the result of the match (that could also be <span class="code">Nil</span>).</p>
 <p>The <span class="code">$/</span> is changed without any regard to the scope the regular expression is matched within.</p>
 <p>For further information and examples please see the <a href="#_language_regexes.html.pod6-$/_changes_each_time_a_regular_expression_is_matched">related section in the Regular Expressions documentation</a>.</p>
 <a name="t49.10.4"></a><h2 id="_language_traps.pod6-&lt;foo&gt;_vs._&lt;_foo&gt;:_named_rules_vs._quoted_lists">49.10.4 <span class="code">&lt;foo&gt;</span> vs. <span class="code">&lt; foo&gt;</span>: named rules vs. quoted lists</h2>
 <p>Regexes can contain quoted lists; longest token matching is performed on the list's elements as if a <span class="code">|</span> alternation had been specified (see <a href="#_language_regexes.pod6-Quoted_lists_are_LTM_matches">here</a> for further information).</p>
 <p>Within a regex, the following are lists with a single item, <span class="code">'foo'</span>:</p>
 <pre class="code">say 'foo' ~~ /&lt; foo &gt;/;  # OUTPUT: «｢foo｣␤»
say 'foo' ~~ /&lt; foo&gt;/;   # OUTPUT: «｢foo｣␤»</pre>
 <p>but this is a call to the named rule <span class="code">foo</span>:</p>
 <pre class="code">say 'foo' ~~ /&lt;foo&gt;/; 
 # OUTPUT: «No such method 'foo' for invocant of type 'Match'␤ in block &lt;unit&gt; at &lt;unknown file&gt; line 1␤» 
</pre>
 <p>Be wary of the difference; if you intend to use a quoted list, ensure that whitespace follows the initial <span class="code">&lt;</span>.</p>
 <a name="t49.11"></a><h1 id="_language_traps.pod6-Common_Precedence_Mistakes">49.11 Common Precedence Mistakes</h1>
 <a name="t49.11.1"></a><h2 id="_language_traps.pod6-Adverbs_and_Precedence">49.11.1 Adverbs and Precedence</h2>
 <p>Adverbs do have a precedence that may not follow the order of operators that is displayed on your screen. If two operators of equal precedence are followed by an adverb it will pick the first operator it finds in the abstract syntax tree. Use parentheses to help Perl 6 understand what you mean or use operators with looser precedence.</p>
 <pre class="code">my %x = a =&gt; 42; 
 say !%x&lt;b&gt;:exists;            # dies with X::AdHoc 
 say %x&lt;b&gt;:!exists;            # this works 
 say !(%x&lt;b&gt;:exists);          # works too 
 say not %x&lt;b&gt;:exists;         # works as well 
 say True unless %x&lt;b&gt;:exists; # avoid negation altogether 
</pre>
 <a name="t49.11.2"></a><h2 id="_language_traps.pod6-Ranges_and_Precedence">49.11.2 Ranges and Precedence</h2>
 <p>The loose precedence of <span class="code">..</span> can lead to some errors. It is usually best to parenthesize ranges when you want to operate on the entire range.</p>
 <pre class="code">1..3.say;    # says &quot;3&quot; (and warns about useless &quot;..&quot;) 
 (1..3).say;  # says &quot;1..3&quot; 
</pre>
 <a name="t49.11.3"></a><h2 id="_language_traps.pod6-Loose_boolean_operators">49.11.3 Loose boolean operators</h2>
 <p>The precedence of <span class="code">and</span>, <span class="code">or</span>, etc. is looser than routine calls. This can have surprising results for calls to routines that would be operators or statements in other languages like <span class="code">return</span>, <span class="code">last</span> and many others.</p>
 <pre class="code">sub f { 
     return True and False; 
     # this is actually 
     # (return True) and False; 
 } 
 say f; # OUTPUT: «True␤» 
</pre>
 <a name="t49.11.4"></a><h2 id="_language_traps.pod6-Exponentiation_Operator_and_Prefix_Minus">49.11.4 Exponentiation Operator and Prefix Minus</h2>
 <pre class="code">say -1²;   # OUTPUT: «-1␤» 
 say -1**2; # OUTPUT: «-1␤» 
</pre>
 <p>When performing a <a href="http://www.wolframalpha.com/input/?i=-1%C2%B2">regular mathematical calculation</a>, the power takes precedence over the minus; so <span class="code">-1²</span> can be written as <span class="code">-(1²)</span>. Perl 6 matches these rules of mathematics and the precedence of <span class="code">**</span> operator is tighter than that of the prefix <span class="code">-</span>. If you wish to raise a negative number to a power, use parentheses:</p>
 <pre class="code">say (-1)²;   # OUTPUT: «1␤» 
 say (-1)**2; # OUTPUT: «1␤» 
</pre>
 <a name="t49.11.5"></a><h2 id="_language_traps.pod6-but_in_List_Construction">49.11.5 <span class="code">but</span> in List Construction</h2>
 <p>The operator infix:&lt;but&gt; is narrower than the list constructor. When providing a list of roles to mix in, always use parentheses.</p>
 <pre class="code">role R1 { method m {} } 
 role R2 { method n {} } 
 my $a = 1 but R1,R2; # R2 is in sink context 
 say $a.^name; 
 # OUTPUT: «Int+{R1}␤» 
</pre>
 <a name="t49.12"></a><h1 id="_language_traps.pod6-Subroutine_and_method_calls">49.12 Subroutine and method calls</h1>
 <p>Subroutine and method calls can be made using one of two forms:</p>
 <pre class="code">foo(...); # function call form, where ... represent the required arguments 
 foo ...;  # list op form, where ... represent the required arguments 
</pre>
 <p>The function call form can cause problems for the unwary when whitespace is added after the function or method name and before the opening parenthesis.</p>
 <p>First we consider functions with zero or one parameter:</p>
 <pre class="code">sub foo() { say 'no arg' } 
 sub bar($a) { say &quot;one arg: $a&quot; } 
</pre>
 <p>Then execute each with and without a space after the name:</p>
 <pre class="code">foo();    # okay: no arg 
 foo ();   # FAIL: Too many positionals passed; expected 0 arguments but got 1 
 bar($a);  # okay: one arg: 1 
 bar ($a); # okay: one arg: 1 
</pre>
 <p>Now declare a function of two parameters:</p>
 <pre class="code">sub foo($a, $b) { say &quot;two args: $a, $b&quot; } 
</pre>
 <p>Execute it with and without the space after the name:</p>
 <pre class="code">foo($a, $b);  # okay: two args: 1, 2 
 foo ($a, $b); # FAIL: Too few positionals passed; expected 2 arguments but got 1 
</pre>
 <p>The lesson is: &quot;be careful with spaces following sub and method names when using the function call format.&quot; As a general rule, good practice might be to avoid the space after a function name when using the function call format.</p>
 <p>Note that there are clever ways to eliminate the error with the function call format and the space, but that is bordering on hackery and will not be mentioned here. For more information, consult <a href="#_language_functions.pod6-Functions">Functions</a>.</p>
 <p>Finally, note that, currently, when declaring the functions whitespace may be used between a function or method name and the parentheses surrounding the parameter list without problems.</p>
 <a name="t49.12.1"></a><h2 id="_language_traps.pod6-Named_Parameters">49.12.1 Named Parameters</h2>
 <p>Many built-in subroutines and method calls accept named parameters and your own code may accept them as well, but be sure the arguments you pass when calling your routines are actually named parameters:</p>
 <pre class="code">sub foo($a, :$b) { ... } 
 foo(1, 'b' =&gt; 2); # FAIL: Too many positionals passed; expected 1 argument but got 2 
</pre>
 <p>What happened? That second argument is not a named parameter argument, but a <a href="#_type_Pair.pod6">Pair</a> passed as a positional argument. If you want a named parameter it has to look like a name to Perl:</p>
 <pre class="code">foo(1, b =&gt; 2); # okay 
 foo(1, :b(2));  # okay 
 foo(1, :b&lt;it&gt;); # okay 
 
 my $b = 2; 
 foo(1, :b($b)); # okay, but redundant 
 foo(1, :$b);    # okay 
 
 # Or even... 
 my %arg = 'b' =&gt; 2; 
 foo(1, |%arg);  # okay too 
</pre>
 <p>That last one may be confusing, but since it uses the <span class="code">|</span> prefix on a <a href="#_type_Hash.pod6">Hash</a>, it means &quot;treat this hash as holding named arguments.&quot;</p>
 <p>If you really do want to pass them as pairs you should use a <a href="#_type_List.pod6">List</a> or <a href="#_type_Capture.pod6">Capture</a> instead:</p>
 <pre class="code">my $list = ('b' =&gt; 2); # this is a List containing a single Pair 
 foo(|$list, :$b); # okay: we passed the pair 'b' =&gt; 2 to the first argument 
 foo(1, |$list);   # FAIL: Too many positionals passed; expected 1 argument but got 2 
</pre>
 <pre class="code">my $cap = \('b' =&gt; 2); # a Capture with a single positional value 
 foo(|$cap, :$b); # okay: we passed the pair 'b' =&gt; 2 to the first argument 
 foo(1, |$cap);   # FAIL: Too many positionals passed; expected 1 argument but got 2 
</pre>
 <p>A Capture is usually the best option for this as it works exactly like the usual capturing of routine arguments during a regular call.</p>
 <p>The nice thing about the distinction here is that it gives the developer the option of passing pairs as either named or positional arguments, which can be handy in various instances.</p>
 <a name="t49.12.2"></a><h2 id="_language_traps.pod6-Argument_Count_Limit">49.12.2 Argument Count Limit</h2>
 <p>While it is typically unnoticeable, there is a backend-dependent argument count limit. Any code that does flattening of arbitrarily sized arrays into arguments won't work if there are too many elements.</p>
 <pre class="code">my @a = 1 xx 9999; 
 my @b; 
 @b.push: |@a; 
 say @b.elems # OUTPUT: «9999␤» 
</pre>
 <pre class="code">my @a = 1 xx 999999; 
 my @b; 
 @b.push: |@a; # OUTPUT: «Too many arguments in flattening array.␤  in block &lt;unit&gt; at &lt;tmp&gt; line 1␤␤» 
</pre>
 <p>Avoid this trap by rewriting the code so that there is no flattening. In the example above, you can replace <span class="code">push</span> with <span class="code">append</span>. This way, no flattening is required because the array can be passed as is.</p>
 <pre class="code">my @a = 1 xx 999999; 
 my @b; 
 @b.append: @a; 
 say @b.elems # OUTPUT: «999999␤» 
</pre>
 <a name="t49.13"></a><h1 id="_language_traps.pod6-Input_and_Output">49.13 Input and Output</h1>
 <a name="t49.13.1"></a><h2 id="_language_traps.pod6-Closing_Open_File_Handles_and_Pipes">49.13.1 Closing Open File Handles and Pipes</h2>
 <p>Unlike some other languages, Perl 6 does not use reference counting, and so <b>the file handles are NOT closed when they go out of scope</b>. You have to explicitly close them either by using <a href="#_routine_close.pod6">close</a> routine or using the <span class="code">:close</span> argument several of <a href="#_type_IO::Handle.pod6">IO::Handle's</a> methods accept. See <a href="#_type_IO::Handle.pod6-routine_close"><span class="code">IO::Handle.close</span></a> for details.</p>
 <p>The same rules apply to <a href="#_type_IO::Handle.pod6">IO::Handle's</a> subclass <a href="#_type_IO::Pipe.pod6">IO::Pipe</a>, which is what you operate on when reading from a <a href="#_type_Proc.pod6">Proc</a> you get with routines <a href="#_routine_run.pod6">run</a> and <a href="#_routine_shell.pod6">shell</a>.</p>
 <p>The caveat applies to <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type as well, though not as severely. See <a href="#_type_IO::CatHandle.pod6-method_close"><span class="code">IO::CatHandle.close</span></a> for details.</p>
 <a name="t49.13.2"></a><h2 id="_language_traps.pod6-IO::Path_Stringification">49.13.2 IO::Path Stringification</h2>
 <p>Partly for historical reasons and partly by design, an <a href="#_type_IO::Path.pod6">IO::Path</a> object <a href="#_type_IO::Path.pod6-method_Str">stringifies</a> without considering its <a href="#_type_IO::Path.pod6-attribute_CWD"><span class="code">CWD</span>  attribute</a>, which means if you <a href="#_routine_chdir.pod6">chdir</a> and then stringify an <a href="#_type_IO::Path.pod6">IO::Path</a>, or stringify an <a href="#_type_IO::Path.pod6">IO::Path</a> with custom <span class="code">$!CWD</span> attribute, the resultant string won't reference the original filesystem object:</p>
 <pre class="code">with 'foo'.IO { 
     .Str.say;       # OUTPUT: «foo␤» 
     .relative.say;  # OUTPUT: «foo␤» 
 
     chdir &quot;/tmp&quot;; 
     .Str.say;       # OUTPUT: «foo␤» 
     .relative.say   # OUTPUT: «../home/camelia/foo␤» 
 } 
 
 # Deletes ./foo, not /bar/foo 
 unlink IO::Path.new(&quot;foo&quot;, :CWD&lt;/bar&gt;).Str 
</pre>
 <p>The easy way to avoid this issue is to not stringify an <a href="#_type_IO::Path.pod6">IO::Path</a> object at all. Core routines that work with paths can take an <a href="#_type_IO::Path.pod6">IO::Path</a> object, so you don't need to stringify the paths.</p>
 <p>If you do have a case where you need a stringified version of an <a href="#_type_IO::Path.pod6">IO::Path</a>, use <a href="#_routine_absolute.pod6">absolute</a> or <a href="#_routine_relative.pod6">relative</a> methods to stringify it into an absolute or relative path, respectively.</p>
 <p>If you are facing this issue because you use <a href="#_routine_chdir.pod6">chdir</a> in your code, consider rewriting it in a way that does not involve changing the current directory. For example, you can pass <span class="code">cwd</span> named argument to <a href="#_routine_run.pod6">run</a> without having to use <span class="code">chdir</span> around it.</p>
 <a name="t49.13.3"></a><h2 id="_language_traps.pod6-Splitting_the_Input_Data_Into_Lines">49.13.3 Splitting the Input Data Into Lines</h2>
 <p>There is a difference between using <span class="code">.lines</span> on <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">IO::Handle</span></a> and on a <a href="#_type_Str.pod6-routine_lines"><span class="code">Str</span></a>. The trap arises if you start assuming that both split data the same way.</p>
 <pre class="code">say $_.perl for $*IN.lines # .lines called on IO::Handle 
 # OUTPUT: 
 # &quot;foox&quot; 
 # &quot;fooy\rbar&quot; 
 # &quot;fooz&quot; 
</pre>
 <p>As you can see in the example above, there was a line which contained <span class="code">\r</span> (“carriage return” control character). However, the input is split strictly by <span class="code">\n</span>, so <span class="code">\r</span> was kept as part of the string.</p>
 <p>On the other hand, <a href="#_type_Str.pod6-routine_lines"><span class="code">Str.lines</span></a> attempts to be “smart” about processing data from different operating systems. Therefore, it will split by all possible variations of a newline.</p>
 <pre class="code">say $_.perl for $*IN.slurp(:bin).decode.lines # .lines called on a Str 
 # OUTPUT: 
 # &quot;foox&quot; 
 # &quot;fooy&quot; 
 # &quot;bar&quot; 
 # &quot;fooz&quot; 
</pre>
 <p>The rule is quite simple: use <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">IO::Handle.lines</span></a> when working with programmatically generated output, and <a href="#_type_Str.pod6-routine_lines"><span class="code">Str.lines</span></a> when working with user-written texts.</p>
 <p>Use <span class="code">$data.split(“\n”)</span> in cases where you need the behavior of <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">IO::Handle.lines</span></a> but the original <a href="#_type_IO::Handle.pod6">IO::Handle</a> is not available.</p>
 RT#132154
 <p>Note that if you really want to slurp the data first, then you will have to use <span class="code">.IO.slurp(:bin).decode.split(“\n”)</span>. Notice how we use <span class="code">:bin</span> to prevent it from doing the decoding, only to call <span class="code">.decode</span> later anyway. All that is needed because <span class="code">.slurp</span> is assuming that you are working with text and therefore it attempts to be smart about newlines.</p>
 RT#131923
 <p>If you are using <a href="#_type_Proc::Async.pod6">Proc::Async</a>, then there is currently no easy way to make it split data the right way. You can try reading the whole output and then using <a href="#_type_Str.pod6-routine_split"><span class="code">Str.split</span></a> (not viable if you are dealing with large data) or writing your own logic to split the incoming data the way you need. Same applies if your data is null-separated.</p>
 <a name="t49.13.4"></a><h2 id="_language_traps.pod6-Proc::Async_and_print">49.13.4 Proc::Async and <span class="code">print</span></h2>
 <p>When using Proc::Async you should not assume that <span class="code">.print</span> (or any other similar method) is synchronous. The biggest issue of this trap is that you will likely not notice the problem by running the code once, so it may cause a hard-to-detect intermittent fail.</p>
 <p>Here is an example that demonstrates the issue:</p>
 <pre class="code">loop { 
     my $proc = Proc::Async.new: :w, ‘head’, ‘-n’, ‘1’; 
     my $got-something; 
     react { 
         whenever $proc.stdout.lines { $got-something = True } 
         whenever $proc.start        { die ‘FAIL!’ unless $got-something } 
 
         $proc.print: “one\ntwo\nthree\nfour”; 
         $proc.close-stdin; 
     } 
     say $++; 
 } 
</pre>
 <p>And the output it may produce:</p>
 <pre class="code">0 
 1 
 2 
 3 
 An operation first awaited: 
   in block &lt;unit&gt; at print.p6 line 4 
 
 Died with the exception: 
     FAIL! 
       in block  at print.p6 line 6 
</pre>
 <p>Resolving this is easy because <span class="code">.print</span> returns a promise that you can await on. The solution is even more beautiful if you are working in a <a href="#_language_concurrency.pod6-index-entry-react">react</a> block:</p>
 <pre class="code">whenever $proc.print: “one\ntwo\nthree\nfour” { 
     $proc.close-stdin; 
 } 
</pre>
 <a name="t49.13.5"></a><h2 id="_language_traps.pod6-Using_.stdout_without_.lines">49.13.5 Using <span class="code">.stdout</span> without <span class="code">.lines</span></h2>
 <p>Method &lt;.stdout&gt; of <a href="#_type_Proc::Async.pod6">Proc::Async</a> returns a supply that emits <i>chunks</i> of data, not lines. The trap is that sometimes people assume it to give lines right away.</p>
 <pre class="code">my $proc = Proc::Async.new(‘cat’, ‘/usr/share/dict/words’); 
 react { 
     whenever $proc.stdout.head(1) { .say } # ← WRONG (most likely) 
     whenever $proc.start { } 
 } 
</pre>
 <p>The output is clearly not just 1 line:</p>
 <pre class="code">A 
 A's 
 AMD 
 AMD's 
 AOL 
 AOL's 
 Aachen 
 Aachen's 
 Aaliyah 
 Aaliyah's 
 Aaron 
 Aaron's 
 Abbas 
 Abbas's 
 Abbasid 
 Abbasid's 
 Abbott 
 Abbott's 
 Abby 
</pre>
 <p>If you want to work with lines, then use <span class="code">$proc.stdout.lines</span>. If you're after the whole output, then something like this should do the trick: <span class="code">whenever $proc.stdout { $out ~= $_ }</span>.</p>
 <a name="t49.14"></a><h1 id="_language_traps.pod6-Exception_Handling">49.14 Exception Handling</h1>
 <a name="t49.14.1"></a><h2 id="_language_traps.pod6-Sunk_Proc">49.14.1 Sunk <span class="code">Proc</span></h2>
 <p>Some methods return a <a href="#_type_Proc.pod6">Proc</a> object. If it represents a failed process, <span class="code">Proc</span> itself won't be exception-like, but <b>sinking it</b> will cause an <a href="#_type_X::Proc::Unsuccessful.pod6">X::Proc::Unsuccessful</a> exception to be thrown. That means this construct will throw, despite the <span class="code">try</span> in place:</p>
 <pre class="code">try run(&quot;perl6&quot;, &quot;-e&quot;, &quot;exit 42&quot;); 
 say &quot;still alive&quot;; 
 # OUTPUT: «The spawned process exited unsuccessfully (exit code: 42)␤» 
</pre>
 <p>This is because <span class="code">try</span> receives a <span class="code">Proc</span> and returns it, at which point it sinks and throws. Explicitly sinking it inside the <span class="code">try</span> avoids the issue and ensures the exception is thrown inside the <span class="code">try</span>:</p>
 <pre class="code">try sink run(&quot;perl6&quot;, &quot;-e&quot;, &quot;exit 42&quot;); 
 say &quot;still alive&quot;; 
 # OUTPUT: «still alive␤» 
</pre>
 <p>If you're not interested in catching any exceptions, then use an anonymous variable to keep the returned <span class="code">Proc</span> in; this way it'll never sink:</p>
 <pre class="code">$ = run(&quot;perl6&quot;, &quot;-e&quot;, &quot;exit 42&quot;); 
 say &quot;still alive&quot;; 
 # OUTPUT: «still alive␤» 
</pre>
 <a name="t49.15"></a><h1 id="_language_traps.pod6-Using_Shortcuts">49.15 Using Shortcuts</h1>
 <a name="t49.15.1"></a><h2 id="_language_traps.pod6-The_^_twigil">49.15.1 The ^ twigil</h2>
 <p>Using the <span class="code">^</span> twigil can save a fair amount of time and space when writing out small blocks of code. As an example:</p>
 <pre class="code">for 1..8 -&gt; $a, $b { say $a + $b; } 
</pre>
 <p>can be shortened to just</p>
 <pre class="code">for 1..8 { say $^a + $^b; } 
</pre>
 <p>The trouble arises when a person wants to use more complex names for the variables, instead of just one letter. The <span class="code">^</span> twigil is able to have the positional variables be out of order and named whatever you want, but assigns values based on the variable's Unicode ordering. In the above example, we can have <span class="code">$^a</span> and <span class="code">$^b</span> switch places, and those variables will keep their positional values. This is because the Unicode character 'a' comes before the character 'b'. For example:</p>
 <pre class="code"># In order 
 sub f1 { say &quot;$^first $^second&quot;; } 
 f1 &quot;Hello&quot;, &quot;there&quot;;    # OUTPUT: «Hello There␤» 
</pre>
 <pre class="code"># Out of order 
 sub f2 { say &quot;$^second $^first&quot;; } 
 f2 &quot;Hello&quot;, &quot;there&quot;;    # OUTPUT: «there Hello␤» 
</pre>
 <p>Due to the variables allowed to be called anything, this can cause some problems if you are not accustomed to how Perl 6 handles these variables.</p>
 <pre class="code"># BAD NAMING: alphabetically `four` comes first and gets value `1` in it: 
 for 1..4 { say &quot;$^one $^two $^three $^four&quot;; }    # OUTPUT: «2 4 3 1␤» 
 
 # GOOD NAMING: variables' naming makes it clear how they sort alphabetically: 
 for 1..4 { say &quot;$^a $^b $^c $^d&quot;; }               # OUTPUT: «1 2 3 4␤» 
</pre>
 <a name="t49.15.2"></a><h2 id="_language_traps.pod6-Using_»_and_map_interchangeably">49.15.2 Using <span class="code">»</span> and <span class="code">map</span> interchangeably</h2>
 <p>While <a href="#_language_operators.pod6-index-entry-hyper_%3C%3C-hyper_%3E%3E-hyper_%C2%AB-hyper_%C2%BB-Hyper_Operators"><span class="code">»</span></a> may look like a shorter way to write <span class="code">map</span>, they differ in some key aspects.</p>
 <p>First, the <span class="code">»</span> includes a <i>hint</i> to the compiler that it may autothread the execution, thus if you're using it to call a routine that produces side effects, those side effects may be produced out of order (the result of the operator <i>is</i> kept in order, however). Also if the routine being invoked accesses a resource, there's the possibility of a race condition, as multiple invocations may happen simultaneously, from different threads.</p>
 This is an actual output from Rakudo 2015.09
 <pre class="code">&lt;a b c d&gt;».say # OUTPUT: «d␤b␤c␤a␤» 
</pre>
 <p>Second, <span class="code">»</span> checks the <a href="#_routine_is%20nodal.pod6">nodality</a> of the routine being invoked and based on that will use either <a href="#_routine_deepmap.pod6">deepmap</a> or <a href="#_routine_nodemap.pod6">nodemap</a> to map over the list, which can be different from how a <a href="#_routine_map.pod6">map</a> call would map over it:</p>
 <pre class="code">say ((1, 2, 3), [^4], '5')».Numeric;       # OUTPUT: «((1 2 3) [0 1 2 3] 5)␤» 
 say ((1, 2, 3), [^4], '5').map: *.Numeric; # OUTPUT: «(3 4 5)␤» 
</pre>
 <p>The bottom line is that <span class="code">map</span> and <span class="code">»</span> are not interchangeable, but using one instead of the other is OK as long as you understand the differences.</p>
 <a name="t49.15.3"></a><h2 id="_language_traps.pod6-Word_splitting_in_«_»">49.15.3 Word splitting in <span class="code">« »</span></h2>
 <p>Keep in mind that <span class="code">« »</span> performs word splitting similarly to how shells do it, so <a href="http://mywiki.wooledge.org/BashPitfalls">many shell pitfalls</a> apply here as well (especially when using in combination with <span class="code">run</span>):</p>
 <pre class="code">my $file = ‘--my arbitrary filename’;
run ‘touch’, ‘--’, $file;  # RIGHT
run &lt;touch --&gt;, $file;     # RIGHT

run «touch -- &quot;$file&quot;»;    # RIGHT but WRONG if you forget quotes
run «touch -- $file»;      # WRONG; touches ‘--my’, ‘arbitrary’ and ‘filename’
run ‘touch’, $file;        # WRONG; error from `touch`
run «touch &quot;$file&quot;»;       # WRONG; error from `touch`</pre>
 <p>Note that <span class="code">--</span> is required for many programs to disambiguate between command-line arguments and <a href="http://mywiki.wooledge.org/BashPitfalls#Filenames_with_leading_dashes">filenames that begin with hyphens</a>.</p>
 <a name="t49.16"></a><h1 id="_language_traps.pod6-Scope">49.16 Scope</h1>
 <a name="t49.16.1"></a><h2 id="_language_traps.pod6-Using_a_once_block">49.16.1 Using a <span class="code">once</span> block</h2>
 <p>The <span class="code">once</span> block is a block of code that will only run once when its parent block is run. As an example:</p>
 <pre class="code">my $var = 0; 
 for 1..10 { 
     once { $var++; } 
 } 
 say &quot;Variable = $var&quot;;    # OUTPUT: «Variable = 1␤» 
</pre>
 <p>This functionality also applies to other code blocks like <span class="code">sub</span> and <span class="code">while</span>, not just <span class="code">for</span> loops. Problems arise though, when trying to nest <span class="code">once</span> blocks inside of other code blocks:</p>
 <pre class="code">my $var = 0; 
 for 1..10 { 
     do { once { $var++; } } 
 } 
 say &quot;Variable = $var&quot;;    # OUTPUT: «Variable = 10␤» 
</pre>
 <p>In the above example, the <span class="code">once</span> block was nested inside of a code block which was inside of a <span class="code">for</span> loop code block. This causes the <span class="code">once</span> block to run multiple times, because the <span class="code">once</span> block uses state variables to determine whether it has run previously. This means that if the parent code block goes out of scope, then the state variable the <span class="code">once</span> block uses to keep track of if it has run previously, goes out of scope as well. This is why <span class="code">once</span> blocks and <span class="code">state</span> variables can cause some unwanted behaviour when buried within more than one code block.</p>
 <p>If you want to have something that will emulate the functionality of a once block, but still work when buried a few code blocks deep, we can manually build the functionality of a <span class="code">once</span> block. Using the above example, we can change it so that it will only run once, even when inside the <span class="code">do</span> block by changing the scope of the <span class="code">state</span> variable.</p>
 <pre class="code">my $var = 0; 
 for 1..10 { 
     state $run-code = True; 
     do { if ($run-code) { $run-code = False; $var++; } } 
 } 
 say &quot;Variable = $var&quot;;    # OUTPUT: «Variable = 1␤» 
</pre>
 <p>In this example, we essentially manually build a <span class="code">once</span> block by making a <span class="code">state</span> variable called <span class="code">$run-code</span> at the highest level that will be run more than once, then checking to see if <span class="code">$run-code</span> is <span class="code">True</span> using a regular <span class="code">if</span>. If the variable <span class="code">$run-code</span> is <span class="code">True</span>, then make the variable <span class="code">False</span> and continue with the code that should only be completed once.</p>
 <p>The main difference between using a <span class="code">state</span> variable like the above example and using a regular <span class="code">once</span> block is what scope the <span class="code">state</span> variable is in. The scope for the <span class="code">state</span> variable created by the <span class="code">once</span> block, is the same as where you put the block (imagine that the word '<span class="code">once</span>' is replaced with a state variable and an <span class="code">if</span> to look at the variable). The example above using <span class="code">state</span> variables works because the variable is at the highest scope that will be repeated; whereas the example that has a <span class="code">once</span> block inside of a <span class="code">do</span>, made the variable within the <span class="code">do</span> block which is not the highest scope that is repeated.</p>
 <p>Using a <span class="code">once</span> block inside a class method will cause the once state to carry across all instances of that class. For example:</p>
 <pre class="code">class A { 
     method sayit() { once say 'hi' } 
 } 
 my $a = A.new; 
 $a.sayit;      # OUTPUT: «hi␤» 
 my $b = A.new; 
 $b.sayit;      # nothing 
</pre>
 <a name="t49.16.2"></a><h2 id="_language_traps.pod6-LEAVE_phaser_and_exit">49.16.2 <span class="code">LEAVE</span> phaser and <span class="code">exit</span></h2>
 <p>Using <a href="#_language_phasers.pod6-LEAVE"><span class="code">LEAVE</span></a> phaser to perform graceful resource termination is a common pattern, but it does not cover the case when the program is stopped with <a href="#_routine_exit.pod6"><span class="code">exit</span></a>.</p>
 <p>The following nondeterministic example should demonstrate the complications of this trap:</p>
 <pre class="code">my $x = say ‘Opened some resource’; 
 LEAVE say ‘Closing the resource gracefully’ with $x; 
 
 exit 42 if rand &lt; ⅓; # ① ｢exit｣ is bad 
 die ‘Dying because of unhandled exception’ if rand &lt; ½; # ② ｢die｣ is ok 
 # fallthru ③ 
</pre>
 <p>There are three possible results:</p>
 <pre class="code">① 
 Opened some resource 
 
 ② 
 Opened some resource 
 Closing the resource gracefully 
 Dying because of unhandled exception 
   in block &lt;unit&gt; at print.p6 line 5 
 
 ③ 
 Opened some resource 
 Closing the resource gracefully 
</pre>
 <p>A call to <span class="code">exit</span> is part of normal operation for many programs, so beware unintentional combination of <span class="code">LEAVE</span> phasers and <span class="code">exit</span> calls.</p>
 <a name="t49.16.3"></a><h2 id="_language_traps.pod6-LEAVE_phaser_may_run_sooner_than_you_think">49.16.3 <span class="code">LEAVE</span> phaser may run sooner than you think</h2>
 <p>Parameter binding is executed when we're &quot;inside&quot; the routine's block, which means <span class="code">LEAVE</span> phaser would run when we leave that block if parameter binding fails when wrong arguments are given:</p>
 <pre class="code">sub foo(Int) { 
     my $x = 42; 
     LEAVE say $x.Int; # ← WRONG; assumes that $x is set 
 } 
 say foo rand; # OUTPUT: «No such method 'Int' for invocant of type 'Any'␤» 
</pre>
 <p>A simple way to avoid this issue is to declare your sub or method a multi, so the candidate is eliminated during dispatch and the code never gets to binding anything inside the sub, thus never entering the routine's body:</p>
 <pre class="code">multi foo(Int) { 
     my $x = 42; 
     LEAVE say $x.Int; 
 } 
 say foo rand; # OUTPUT: «Cannot resolve caller foo(Num); none of these signatures match: (Int)␤» 
</pre>
 <p>Another alternative is placing the <span class="code">LEAVE</span> into another block (assuming it's appropriate for it to be executed when <i>that</i> block is left, not the routine's body:</p>
 <pre class="code">sub foo(Int) { 
     my $x = 42; 
     { LEAVE say $x.Int; } 
 } 
 say foo rand; # OUTPUT: «Type check failed in binding to parameter '&lt;anon&gt;'; expected Int but got Num (0.7289418947969465e0)␤» 
</pre>
 <p>You can also ensure <span class="code">LEAVE</span> can be executed even if the routine is left due to failed argument binding. In our example, we check <span class="code">$x</span> <a href="#_routine_andthen.pod6">is defined</a> before doing anything with it.</p>
 <pre class="code">sub foo(Int) { 
     my $x = 42; 
     LEAVE $x andthen .Int.say; 
 } 
 say foo rand; # OUTPUT: «Type check failed in binding to parameter '&lt;anon&gt;'; expected Int but got Num (0.8517160389079508e0)␤» 
</pre>
 <a name="t49.17"></a><h1 id="_language_traps.pod6-Grammars">49.17 Grammars</h1>
 <a name="t49.17.1"></a><h2 id="_language_traps.pod6-Using_regexes_within_grammar's_actions.">49.17.1 Using regexes within grammar's actions.</h2>
 <pre class="code">grammar will-fail { 
     token TOP {^ &lt;word&gt; $} 
     token word { \w+ } 
 } 
 
 class will-fail-actions { 
     method TOP ($/) { my $foo = ~$/; say $foo ~~ /foo/;  } 
 } 
</pre>
 <p>Will fail with <span class="code">Cannot assign to a readonly variable ($/) or a value</span> on method <span class="code">TOP</span>. The problem here is that regular expressions also affect <span class="code">$/</span>. Since it is in <span class="code">TOP</span>'s signature, it is a read-only variable, which is what produces the error. You can safely either use another variable in the signature or add `is copy`, this way:</p>
 <pre class="code">method TOP ($/ is copy) { my $foo = ~$/; my $v = $foo ~~ /foo/;  } 
</pre>
 <a name="t49.18"></a><h1 id="_language_traps.pod6-Unfortunate_generalization">49.18 Unfortunate generalization</h1>
 <a name="t49.18.1"></a><h2 id="_language_traps.pod6-:exists_with_more_than_one_key">49.18.1 <span class="code">:exists</span> with more than one key</h2>
 <p>Let's say you have a hash and you want to use <span class="code">:exists</span> on more than one element:</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2; 
 say ‘a exists’ if %h&lt;a&gt;:exists;   # ← OK; True 
 say ‘y exists’ if %h&lt;y&gt;:exists;   # ← OK; False 
 say ‘Huh‽’     if %h&lt;x y&gt;:exists; # ← WRONG; returns a 2-item list 
</pre>
 <p>Did you mean “if <span class="code">any</span> of them exists”, or did you mean that <span class="code">all</span> of them should exist? Use <span class="code">any</span> or <span class="code">all</span> <a href="#_type_Junction.pod6">Junction</a> to clarify:</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2; 
 say ‘x or y’     if any %h&lt;x y&gt;:exists;   # ← RIGHT (any); False 
 say ‘a, x or y’  if any %h&lt;a x y&gt;:exists; # ← RIGHT (any); True 
 say ‘a, x and y’ if all %h&lt;a x y&gt;:exists; # ← RIGHT (all); False 
 say ‘a and b’    if all %h&lt;a b&gt;:exists;   # ← RIGHT (all); True 
</pre>
 <p>The reason why it is always <span class="code">True</span> (without using a junction) is that it returns a list with <a href="#_type_Bool.pod6">Bool</a> values for each requested lookup. Non-empty lists always give <span class="code">True</span> when you <a href="#_type_Bool.pod6">Bool</a>ify them, so the check always succeeds no matter what keys you give it.</p>
 <a name="t49.18.2"></a><h2 id="_language_traps.pod6-Using_[…]_meta-operator_with_a_list_of_lists">49.18.2 Using <span class="code">[…]</span> meta-operator with a list of lists</h2>
 <p>Every now and then, someone gets the idea that they can use <span class="code">[Z]</span> to create the transpose of a list-of-lists:</p>
 <pre class="code">my @matrix = &lt;X Y&gt;, &lt;a b&gt;, &lt;1 2&gt;; 
 my @transpose = [Z] @matrix; # ← WRONG; but so far so good ↙ 
 say @transpose;              # [(X a 1) (Y b 2)] 
</pre>
 <p>And everything works fine, until you get an input @matrix with <i>exactly one</i> row (child list):</p>
 <pre class="code">my @matrix = &lt;X Y&gt;,; 
 my @transpose = [Z] @matrix; # ← WRONG; ↙ 
 say @transpose;              # [(X Y)] – not the expected transpose [(X) (Y)] 
</pre>
 <p>This happens partly because of the <a href="#_language_functions.pod6-Slurpy_Conventions">single argument rule</a>, and there are other cases when this kind of a generalization may not work.</p>
</div>
<!-- /language/typesystem.pod6 --><div class="pod-body"><a id="_language_typesystem.pod6"></a><a name="t50"><h1 class="title">50 Typesystem</h1></a> <p class="subtitle">Introduction to the type system of Perl 6</p> <a name="t50.1"></a><h1 id="_language_typesystem.pod6-Definition_of_a_Perl_6_Type">50.1 Definition of a Perl 6 Type</h1>
 <p>A type defines a new object by creating a type object that provides an interface to create instances of objects or to check values against. Any type object is a subclass of <a href="#_type_Any.pod6">Any</a> or <a href="#_type_Mu.pod6">Mu</a>. Introspection methods are provided via inheritance from those base classes and the introspection postfix <a href="#_language_operators.pod6-postfix_.^">.^</a>. A new type is introduced to the current scope by one of the following type declarators at compile time or with the <a href="#_language_mop.pod6">meta object protocol</a> at runtime. All type names must be unique in their scope.</p>
 <a name="t50.1.1"></a><h2 id="_language_typesystem.pod6-Default_Types">50.1.1 Default Types</h2>
 <p>If no type is provided by the user Perl 6 assumes the type to be <span class="code">Any</span>. This includes <a href="#_language_containers.pod6">containers</a>, base-classes, <a href="#_type_Signature.pod6-Type_Constraints">parameters</a> and return types.</p>
 <pre class="code">my $a = 1;
$a = Nil;
say $a.^name;
# OUTPUT: «Any␤»

class C {};
say C.^parents(:all);
# OUTPUT: «((Any) (Mu))␤»</pre>
 <p>For containers the default type is <span class="code">Any</span> but the default type constraint is <span class="code">Mu</span>. Please note that binding replaces the container, not just the value. The type constraint may change in this case.</p>
 <a name="t50.1.2"></a><h2 id="_language_typesystem.pod6-Type_Objects">50.1.2 Type Objects</h2>
 <p>To test if an object is a type object, use a <a href="#_language_operators.pod6-index-entry-smartmatch_operator">smartmatch</a> against a type constrained with a <a href="#_type_Signature.pod6-Constraining_Defined_and_Undefined_Values">type smiley</a> or <a href="#_language_mop.pod6-index-entry-syntax_DEFINITE-DEFINITE"><span class="code">.DEFINITE</span></a> method:</p>
 <pre class="code">my $a = Int; 
 say $a ~~ Mu:U; 
 # OUTPUT: «True␤» 
 say not $a.DEFINITE; 
 # OUTPUT: «True␤» 
</pre>
 <p><span class="code">.DEFINITE</span> will return <span class="code">True</span> if the invocant is an instance. If it returns <span class="code">False</span>, then the invocant is a type object.</p>
 <a name="t50.1.2.1"></a><h3 id="_language_typesystem.pod6-Undefinedness">50.1.2.1 Undefinedness</h3>
 <p>Undefined objects maintain type information in Perl 6. Type objects are used to represent both undefinedness and the type of the undefined value. To provide a general undefined value use <a href="#_type_Any.pod6">Any</a>. If differentiation from <span class="code">Any</span>, the default type for containers and arguments, is required use <a href="#_type_Mu.pod6">Mu</a>.</p>
 <p>Instances of objects created by <a href="#_type_Mu.pod6-method_CREATE">.CREATE</a> are by convention defined. The method <a href="#_type_Mu.pod6-routine_defined">.defined</a> will return <span class="code">Bool::True</span> to indicate definedness. The exceptions to that rule are <a href="#_type_Nil.pod6">Nil</a> and <a href="#_type_Failure.pod6">Failure</a>. Please note that any object is able to overload <span class="code">.defined</span> and as such can carry additional information. Also, Perl 6 makes a clear distinction between definedness and trueness. Many values are defined even though they carry the meaning of wrongness or emptiness. Such values are <span class="code">0</span>, <a href="#_type_Bool.pod6">Bool::False</a>, <a href="#_language_operators.pod6-term_(_)">()</a> (empty list) and <a href="#_type_Num.pod6-NaN">NaN</a>.</p>
 <p>Values can become undefined at runtime via <a href="#_language_operators.pod6-infix_but">mixin</a>.</p>
 <pre class="code">my Int $i = 1 but role :: { method defined { False } };
say $i // &quot;undefined&quot;;
# OUTPUT: «undefined␤»</pre>
 <p>To test for definedness call <span class="code">.defined</span>, use <a href="#_language_operators.pod6-infix_//">//</a>, <a href="#_language_control.pod6-with,_orwith,_without">with/without</a> and <a href="#_type_Signature.pod6-Constraining_Defined_and_Undefined_Values">signatures</a>.</p>
 <a name="t50.1.2.2"></a><h3 id="_language_typesystem.pod6-Coercion">50.1.2.2 Coercion</h3>
 <p>Turning one type into another is done with coercion methods that have the same name as the target type. This convention is made mandatory by <a href="#_type_Signature.pod6-Coercion_Type">Signatures</a>. The source type has to know how to turn itself into the target type. To allow built-in types to turn themselves into user defined types use <a href="#_language_variables.pod6-The_augment_Declarator">augment</a> or the <a href="#_language_mop.pod6">MOP</a>.</p>
 <pre class="code">class C {
    has $.int;
    method this-is-c { put 'oi' x $!int ~ '‽' }
}

use MONKEY-TYPING;
augment class Int {
    method C { C.new(:int(self))}
}

my $i = 10;
$i.=C;
$i.this-is-c();
# OUTPUT: «oioioioioioioioioioi‽␤»</pre>
 <p>Perl 6 provides methods defined in <a href="#_type_Cool.pod6">Cool</a> to convert to a target type before applying further operations. Most build-in types descend from <span class="code">Cool</span> and as such may provide implicit coercion that may be undesired. It is the responsibility of the user to care about trap-free usage of those methods.</p>
 <pre class="code">my $whatever = &quot;123.6&quot;;
say $whatever.round;
# OUTPUT: «124␤»
say &lt;a b c d&gt;.starts-with(&quot;ab&quot;);
# OUTPUT: «False␤»</pre>
 <a name="t50.2"></a><h1 id="_language_typesystem.pod6-Type_Declarators">50.2 Type Declarators</h1>
 <p>Type declarators introduce a new type into the given scope. Nested scopes can be separated by <span class="code">::</span>. New <a href="#_language_packages.pod6">packages</a> are created automatically if no such scope exists already.</p>
 <pre class="code">class Foo::Bar::C {};
put Foo::Bar::.keys;
# OUTPUT: «C␤»</pre>
 <p><span class="indexed"><a id="670" name="... (forward declaration)"></a></span> <span class="indexed"><a id="671" name="">Forward declarations</a></span> can be provided with a block containing only <span class="code">...</span>. The compiler will check at the end of the current scope if the type is defined.</p>
 <pre class="code">class C {...}
# many lines later
class C { has $.attr }</pre>
 <a name="t50.2.1"></a><h2 id="_language_typesystem.pod6-class">50.2.1 <span class="code">class</span></h2>
 <p>The <span class="code">class</span> declarator creates a compile time construct that is compiled into a type object. The latter is a simple Perl 6 object and provides methods to construct instances by executing initializers and sub methods to fill all attributes declared in a class and any parent class with values. Initializers can be provided with the declaration of attributes or in constructors. It's the responsibility of the <a href="#_type_Metamodel::ClassHOW.pod6">Metamodel::ClassHOW</a> to know how to run them. This is the only magic part of building objects in Perl 6. The default parent type is <span class="code">Any</span> which in turn inherits from <span class="code">Mu</span>. The latter provides the default constructor <span class="code">.new</span>. It's name is by convention and does not carry any special meaning nor is <span class="code">.new</span> treated in any special way.</p>
 <p>For more information how to use classes see the <a href="#_language_classtut.pod6">classtut</a> tutorial.</p>
 <a name="t50.2.1.1"></a><h3 id="_language_typesystem.pod6-Mixins">50.2.1.1 Mixins</h3>
 <p>The type introduced by <span class="code">class</span> can be extended with <a href="#_language_operators.pod6-infix_but">infix:&lt;but&gt;</a> at runtime. The original type is not modified, instead a new type object is returned and can be stored in a container that type checks successful against the original type or the role that is mixed in.</p>
 <pre class="code">class A {}
role R { method m { say 'oi‽' } }
my R $A = A but R;
my $a1 = $A.new;
$a1.m;
say [$A ~~ R, $a1 ~~ R];
# OUTPUT: «oi‽␤[True True]␤»</pre>
 <a name="t50.2.1.2"></a><h3 id="_language_typesystem.pod6-Introspection">50.2.1.2 Introspection</h3>
 <a name="t50.2.1.2.1"></a><h4 id="_language_typesystem.pod6-Metaclass">50.2.1.2.1 Metaclass</h4>
 <p>To test if a given type object is a class test the meta object method <span class="code">.HOW</span> for <a href="#_type_Metamodel::ClassHOW.pod6">Metamodel::ClassHOW</a>.</p>
 <pre class="code">class C {};
say C.HOW ~~ Metamodel::ClassHOW;
# OUTPUT: «True␤»</pre>
 <a name="t50.2.1.3"></a><h3 id="_language_typesystem.pod6-Attributes">50.2.1.3 Attributes</h3>
 <a name="t50.2.1.3.1"></a><h4 id="_language_typesystem.pod6-Private_Attributes">50.2.1.3.1 Private Attributes</h4>
 <p>Private <a href="#_type_Attribute.pod6">attribute</a>s are addressed with any of the twigils <span class="code">$!</span>, <span class="code">@!</span> and <span class="code">%!</span>. They do not have public accessor methods generated automatically. As such they can not be altered from outside the class they are defined in.</p>
 <pre class="code">class C {
    has $!priv;
    submethod BUILD { $!priv = 42 }
};

say (.name, .package, .has_accessor) for C.new.^attributes;
# OUTPUT: «($!priv (C) False)␤»</pre>
 <p><span class="indexed"><a id="672" name="method (declarator)"></a></span></p>
 <a name="t50.2.1.4"></a><h3 id="_language_typesystem.pod6-Methods">50.2.1.4 Methods</h3>
 <p>The <span class="code">method</span> declarator defines objects of type <a href="#_type_Method.pod6">Method</a> and binds them to the provided name in the scope of a class. Methods in a class are <span class="code">has</span> scoped by default. Methods that are <span class="code">our</span> scoped are not added to the method cache by default and as such can not be called with the accessor sigil <span class="code">$.</span>. Call them with their fully qualified name and the invocant as the first argument.</p>
 <a name="t50.2.1.4.1"></a><h4 id="_language_typesystem.pod6-Inheritance_and_Multis">50.2.1.4.1 Inheritance and Multis</h4>
 <p>A normal method in a subclass does not compete with multis of a parent class.</p>
 <pre class="code">class A {
    multi method m(Int $i){ say 'Int' }
    multi method m(int $i){ say 'int' }
}

class B is A {
    method m(Int $i){ say 'B::Int' }
}

my int $i;
B.new.m($i);
# OUTPUT: «B::Int␤»</pre>
 <p><span class="indexed"><a id="673" name="only method"></a></span></p>
 <a name="t50.2.1.4.2"></a><h4 id="_language_typesystem.pod6-Only_Method">50.2.1.4.2 Only Method</h4>
 <p>To explicitly state that a method is not a multi method use the <span class="code">only method</span> declarator.</p>
 <pre class="code">class C { 
     only method m {}; 
     multi method m {}; 
 }; 
 # OUTPUT: «X::Comp::AdHoc: Cannot have a multi candidate for 'm' when an only method is also in the package 'C'␤» 
</pre>
 <a name="t50.2.1.4.3"></a><h4 id="_language_typesystem.pod6-Submethod_BUILD">50.2.1.4.3 Submethod BUILD</h4>
 <p>The <a href="#_type_Submethod.pod6">submethod</a> <span class="code">BUILD</span> is called by <span class="code">.BUILDALL</span> defined in <a href="#_type_Mu.pod6">Mu</a>, which in turn is called by <a href="#_type_Mu.pod6-method_bless">.bless</a>. It is meant to set private and public attributes of a class and receives all names attributes passed into <span class="code">.bless</span>. Since it is called by <span class="code">BUILDALL</span> it is called by the default constructor <a href="#_type_Mu.pod6-method_new">.new</a> defined in <span class="code">Mu</span>. Public accessor methods are not available in <span class="code">BUILD</span> use private attribute notation instead.</p>
 <pre class="code">class C {
    has $.attr;
    submethod BUILD (:$attr = 42) {
        $!attr = $attr
    };
    multi method new($positional) {
        self.bless(:attr($positional), |%_)
   }
};

C.new.say; C.new('answer').say;
# OUTPUT: «C.new(attr =&gt; 42)␤
#          C.new(attr =&gt; &quot;answer&quot;)␤»</pre>
 <a name="t50.2.1.4.4"></a><h4 id="_language_typesystem.pod6-Fallback_method">50.2.1.4.4 Fallback method <a name="674"></a></h4>
 <p>A method with the special name <span class="code">FALLBACK</span> will be called when other means to resolve the name produce no result. The first argument holds the name and all following arguments are forwarded from the original call. Multi methods and <a href="#_type_Signature.pod6-Destructuring_Parameters">sub-signatures</a> are supported.</p>
 <pre class="code">class Magic {
    method FALLBACK ($name, |c(Int, Str)) {
    put &quot;$name called with parameters {c.perl}&quot;  }
};
Magic.new.simsalabim(42, &quot;answer&quot;);

# OUTPUT: «simsalabim called with parameters ⌈\(42, &quot;answer&quot;)⌋␤»</pre>
 <a name="t50.2.1.4.5"></a><h4 id="_language_typesystem.pod6-Reserved_Method_Names">50.2.1.4.5 Reserved Method Names</h4>
 <p><span class="indexed"><a id="675" name="WHAT (reserved method)"></a></span><span class="indexed"><a id="676" name="WHO (reserved method)"></a></span><span class="indexed"><a id="677" name="HOW (reserved method)"></a></span><span class="indexed"><a id="678" name="VAR (reserved method)"></a></span> Some built-in introspection methods are actually special syntax provided by the compiler, namely <span class="code">WHAT</span>, <span class="code">WHO</span>, <span class="code">HOW</span> and <span class="code">VAR</span>. Declaring methods with those names will silently fail. A dynamic call will work, what allows to call methods from foreign objects.</p>
 <pre class="code">class A { 
     method WHAT { &quot;ain't gonna happen&quot; } 
 }; 
 
 say A.new.WHAT;    # OUTPUT: «(A)␤» 
 say A.new.&quot;WHAT&quot;() # OUTPUT: «ain't gonna happen␤» 
</pre>
 <a name="t50.2.1.4.6"></a><h4 id="_language_typesystem.pod6-Methods_in_package_scope">50.2.1.4.6 Methods in package scope</h4>
 <p>Any <span class="code">our</span> scoped method will be visible in the package scope of a class.</p>
 <pre class="code">class C {
    our method packaged {};
    method loose {}
};
say C::.keys
# OUTPUT: «(&amp;packaged)␤»</pre>
 <a name="t50.2.1.4.7"></a><h4 id="_language_typesystem.pod6-Setting_Attributes_with_Namesake_Variables_and_Methods">50.2.1.4.7 Setting Attributes with Namesake Variables and Methods</h4>
 <p>Instead of writing <span class="code">attr =&gt; $attr </span> or <span class="code">:attr($attr)</span>, you can save some typing if the variable (or method call) you're setting the attribute with shares the name with the attribute:</p>
 <pre class="code">class A { has $.i = 42 };
class B {
    has $.i = &quot;answer&quot;;
    method m() { A.new(:$.i) }
};
my $a = B.new.m;
say $a.i; # OUTPUT: «answer␤»</pre>
 <p>Since <span class="code">$.i</span> method call is named <span class="code">i</span> and the attribute is named <span class="code">i</span>, Perl 6 lets us shortcut. The same applies to <span class="code">:$var</span>, <span class="code">:$!private-attribute</span>, <span class="code">:&amp;attr-with-code-in-it</span>, and so on.</p>
 <a name="t50.2.1.4.8"></a><h4 id="_language_typesystem.pod6-trait_is_nodal">50.2.1.4.8 trait <span class="code">is nodal</span></h4>
 <p>Marks a <a href="#_type_List.pod6">List</a> method to indicate to hyperoperator to not descend into inner <a href="#_type_Iterable.pod6">Iterables</a> to call this method. This trait generally isn't something end users would be using, unless they're subclassing or augmenting core <a href="#_type_List.pod6">List</a> type.</p>
 <p>In order to demonstrate the difference consider the following examples, the first using a method (<span class="code">elems</span>) that <span class="code">is nodal</span> and the second using a method (<span class="code">Int</span>) which is not nodal.</p>
 <pre class="code">say ((1.0, &quot;2&quot;, 3e0), [^4], '5')».elems; # OUTPUT: «(3, 4, 1)␤»
say ((1.0, &quot;2&quot;, 3e0), [^4], '5')».Int    # OUTPUT: «((1 2 3) [0 1 2 3] 5)␤»</pre>
 <a name="t50.2.1.5"></a><h3 id="_language_typesystem.pod6-trait_handles">50.2.1.5 trait <a name="679"></a><span class="code">handles</span></h3>
 <p>Defined as:</p>
 <pre class="code">multi sub trait_mod:&lt;handles&gt;(Attribute:D $target, $thunk)</pre>
 <p>The <a href="#_type_Sub.pod6-Traits">trait</a> <span class="code">handles</span> applied to an attribute of a class will delegate all calls to the provided method name to the method with the same name of the attribute. The object referenced by the attribute must be initialized. A type constraint for the object that the call is delegated to can be provided.</p>
 <pre class="code">class A      { method m(){ 'A::m has been called.' } }
class B is A { method m(){ 'B::m has been called.' } }
class C {
    has A $.delegate handles 'm';
    method new($delegate){ self.bless(delegate =&gt; $delegate) }
};
say C.new(B.new).m(); # OUTPUT: «B::m has been called.␤»</pre>
 <p>Instead of a method name, a <span class="code">Pair</span> (for renaming), a list of names or <span class="code">Pair</span>s, a <span class="code">Regex</span> or a <span class="code">Whatever</span> can be provided. In the latter case existing methods, both in the class itself and its inheritance chain, will take precedence. If even local <span class="indexed"><a id="680" name="FALLBACK (trait handles)"><span class="code">FALLBACK</span></a></span>s should be searched use a <span class="code">HyperWhatever</span>.</p>
 <pre class="code">class A {
    method m1(){}
    method m2(){}
}

class C {
    has $.delegate handles &lt;m1 m2&gt; = A.new()
}
C.new.m2;

class D {
    has $.delegate handles /m\d/ = A.new()
}
D.new.m1;

class E {
    has $.delegate handles (em1 =&gt; 'm1') = A.new()
}
E.new.em1;</pre>
 <a name="t50.2.1.6"></a><h3 id="_language_typesystem.pod6-trait_is">50.2.1.6 <a name="681"></a>trait  <span class="code">is</span></h3>
 <p>Defined as:</p>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Mu:U $child, Mu:U $parent)</pre>
 <p>The <a href="#_type_Sub.pod6-Traits">trait</a> <span class="code">is</span> accepts a type object to be added as a parent class of a class in its definition. To allow multiple inheritance the trait can be applied more than once. Adding parents to a class will import their methods into the target class. If the same method name occurs in multiple parents, the first added parent will win.</p>
 <p>If no <span class="code">is</span> trait is provided the default of <a href="#_type_Any.pod6"><span class="code">Any</span></a> will be used as a parent class. This forces all Perl 6 objects to have the same set of basic methods to provide an interface for introspection and coercion to basic types.</p>
 <pre class="code">class A {
    multi method from-a(){ 'A::from-a' }
}
say A.new.^parents(:all).perl;
# OUTPUT: «(Any, Mu)␤»

class B {
    method from-b(){ 'B::from-b ' }
    multi method from-a(){ 'B::from-A' }
}

class C is A is B {}
say C.new.from-a();
# OUTPUT: «A::from-a␤»</pre>
 <a name="t50.2.1.7"></a><h3 id="_language_typesystem.pod6-trait_is_rw">50.2.1.7 trait <a name="682"></a><span class="code">is rw</span></h3>
 <p>Defined as:</p>
 <pre class="code">sub trait_mod:&lt;is&gt;(Mu:U $type, :$rw!)</pre>
 <p>The <a href="#_type_Sub.pod6-Traits">trait</a> <span class="code">is rw</span> on a class will create writable accessor methods on all public attributes of that class.</p>
 <pre class="code">class C is rw {
    has $.a;
};
my $c = C.new.a = 42;
say $c; # OUTPUT: «42␤»</pre>
 <a name="t50.2.1.8"></a><h3 id="_language_typesystem.pod6-trait_is_required">50.2.1.8 trait <span class="code">is required</span></h3>
 <p>Defined as:</p>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Attribute $attr, :$required!)</pre>
 <p>Marks a class or roles attribute as required. If the attribute is not initialized at object construction time throws <span class="code">X::Attribute::Required</span>.</p>
 <pre class="code">class Correct {
    has $.attr is required;
    submethod BUILD (:$attr) { $!attr = $attr }
}
say Correct.new(attr =&gt; 42);
# OUTPUT: «Correct.new(attr =&gt; 42)␤»

class C {
    has $.attr is required;
}
C.new;
CATCH { default { say .^name =&gt; .Str } }
# OUTPUT: «X::Attribute::Required =&gt; The attribute '$!attr' is required, but you did not provide a value for it.␤»</pre>
 <a name="t50.2.1.9"></a><h3 id="_language_typesystem.pod6-trait_hides">50.2.1.9 trait <span class="code">hides</span></h3>
 <p>The trait <span class="code">hides</span> provides inheritance without being subject to <a href="#_language_functions.pod6-Re-dispatching">re-dispatching</a>.</p>
 <pre class="code">class A {
    method m { say 'i am hidden' }
}
class B hides A {
    method m { nextsame }
    method n { self.A::m }
};

B.new.m;
B.new.n;
# OUTPUT: «i am hidden␤»</pre>
 <p>The trait <span class="code">is hidden</span> allows a class to hide itself from <a href="#_language_functions.pod6-Re-dispatching">re-dispatching</a>.</p>
 <pre class="code">class A is hidden {
    method m { say 'i am hidden' }
}
class B is A {
    method m { nextsame }
    method n { self.A::m }
}

B.new.m;
B.new.n;
# OUTPUT: «i am hidden␤»</pre>
 <a name="t50.2.1.10"></a><h3 id="_language_typesystem.pod6-trait_trusts">50.2.1.10 trait <span class="code">trusts</span></h3>
 <p>To allow one class to access the private methods of another class use the trait <span class="code">trusts</span>. A forward declaration of the trusted class may be required.</p>
 <pre class="code">class B {...};
class A {
    trusts B;
    has $!foo;
    method !foo { return-rw $!foo }
    method perl { &quot;A.new(foo =&gt; $!foo)&quot; }
};
class B {
    has A $.a .= new;
    method change { $!a!A::foo = 42; self }
};
say B.new.change;
# OUTPUT: «B.new(a =&gt; A.new(foo =&gt; 42))␤»</pre>
 <a name="t50.2.1.11"></a><h3 id="_language_typesystem.pod6-Augmenting_a_class">50.2.1.11 Augmenting a class</h3>
 <p>To add methods and attributes to a class at compile time use <span class="code">augment</span> in front of a class definition fragment. The compiler will demand the pragmas <span class="code">use MONKEY-TYPING</span> or <span class="code">use MONKEY</span> early in the same scope. Please note that there may be performance implications, hence the pragmas.</p>
 <pre class="code">use MONKEY; augment class Str {
    method mark(Any :$set){
        state $mark //= $set; $mark
    }
};
my $s = &quot;42&quot;;
$s.mark(set =&gt; &quot;answer&quot;);
say $s.mark
# OUTPUT: «answer␤»</pre>
 <p>There are little limitations what can be done inside the class fragment. One of them is the redeclaration of a method or sub into a multi. Using added attributes is not yet implemented. Please note that adding a multi candidate that differs only in its named parameters will add that candidate behind the already defined one and as such it won't be picked by the dispatcher.</p>
 <a name="t50.2.1.12"></a><h3 id="_language_typesystem.pod6-Versioning_and_Authorship">50.2.1.12 Versioning and Authorship</h3>
 <p>Versioning and authorship can be applied via adverbs <span class="indexed"><a id="683" name=":ver&lt;&gt; (class)"><span class="code">:ver&lt;&gt;</span></a></span> and <span class="indexed"><a id="684" name=":auth&lt;&gt; (class)"><span class="code">:auth&lt;&gt;</span></a></span>. Both take a string as argument, for <span class="code">:ver</span> the string is converted to a <a href="#_type_Version.pod6">Version</a> object. To query a class version and author use <span class="code">.^ver</span> and <span class="code">^.auth</span>.</p>
 <pre class="code">class C:ver&lt;4.2.3&gt;:auth&lt;me@here.local&gt; {}
say [C.^ver, C.^auth];
# OUTPUT: «[v4.2.3 me@here.local]␤»</pre>
 <a name="t50.2.2"></a><h2 id="_language_typesystem.pod6-role">50.2.2 <span class="code">role</span></h2>
 <p><span class="indexed"><a id="685" name="declarator role (typesystem)"></a></span> Roles are class fragments, which allow the definition of interfaces that are shared by classes. The <span class="code">role</span> declarator also introduces a type object that can be used for type checks. Roles can be mixed into classes and objects at runtime and compile time. The <span class="code">role</span> declarator returns the created type object thus allowing the definition of anonymous roles and in-place mixins.</p>
 <pre class="code">role Serialize {
    method to-string { self.Str }
    method to-number { self.Num }
}

class A does Serialize {}
class B does Serialize {}

my Serialize @list;
@list.push: A.new;
@list.push: B.new;

say @list».to-string;
# OUTPUT: «[A&lt;57192848&gt; B&lt;57192880&gt;]␤»</pre>
 <p>Use <span class="code">...</span> as the only element of a method body to declare a method to be abstract. Any class getting such a method mixed in has to overload it. If the method is not overloaded before the end of the compilation unit <span class="code">X::Comp::AdHoc</span> will be thrown.</p>
 <pre class="code">EVAL 'role R { method overload-this(){...} }; class A does R {}; ';
CATCH { default { say .^name, ' ', .Str } }
# OUTPUT: «X::Comp::AdHoc Method 'overload-this' must be implemented by A because it is required by roles: R.␤»</pre>
 <a name="t50.2.2.1"></a><h3 id="_language_typesystem.pod6-Auto-punning">50.2.2.1 Auto-punning</h3>
 <p>A role can be used instead of a class to create objects. Since roles can't exist at runtime, a class of the same name is created that will type check successful against the role.</p>
 <pre class="code">role R { method m { say 'oi‽' } };
R.new.^mro.say;
# OUTPUT: «((R) (Any) (Mu))␤»
say R.new.^mro[0].HOW.^name;
# OUTPUT: «Perl6::Metamodel::ClassHOW␤»
say R.new ~~ R;
# OUTPUT: «True␤»</pre>
 <a name="t50.2.2.2"></a><h3 id="_language_typesystem.pod6-trait_does">50.2.2.2 trait <span class="code">does</span></h3>
 <p>The trait <span class="code">does</span> can be applied to roles and classes providing compile time mixins. To refer to a role that is not defined yet, use a forward declaration. The type name of the class with mixed in roles does not reflect the mixin, a type check does. If methods are provided in more than one mixed in role, the method that is defined first takes precedence. A list of roles separated by comma can be provided. In this case conflicts will be reported at compile time.</p>
 <pre class="code">role R2 {...};
role R1 does R2 {};
role R2 {};
class C does R1 {};

say [C ~~ R1, C ~~ R2];
# OUTPUT: «[True True]␤»</pre>
 <p>For runtime mixins see <a href="#_language_operators.pod6-infix_but">but</a> and <a href="#_language_operators.pod6-infix_does">does</a>.</p>
 <a name="t50.2.2.3"></a><h3 id="_language_typesystem.pod6-Parameterized">50.2.2.3 Parameterized</h3>
 <p>Roles can be provided with parameters in-between <span class="code">[]</span> behind a roles name. <span class="indexed"><a id="686" name="Type Capture (role)"></a></span><a href="#_type_Signature.pod6-Type_Captures">Type captures</a> are supported.</p>
 <pre class="code">role R[$d] { has $.a = $d };
class C does R[&quot;default&quot;] { };

my $c = C.new;
say $c;
# OUTPUT: «C.new(a =&gt; &quot;default&quot;)␤»</pre>
 <p>Parameters can have type constraints, <span class="code">where</span> clauses are not supported for types but can be implemented via <span class="code">subset</span>s.</p>
 <pre class="code">class A {};
class B {};
subset A-or-B where * ~~ A|B;
role R[A-or-B ::T] {};
R[A.new].new;</pre>
 <p>Default parameters can be provided.</p>
 <pre class="code">role R[$p = fail(&quot;Please provide a parameter to role R&quot;)] {};
my $i = 1 does R;
CATCH { default { say .^name, ': ', .Str} }
# OUTPUT: «X::AdHoc: Could not instantiate role 'R':␤Please provide a parameter to role R␤»</pre>
 <a name="t50.2.2.4"></a><h3 id="_language_typesystem.pod6-As_Type_Constraints">50.2.2.4 As Type Constraints</h3>
 <p>Roles can be used as type constraints wherever a type is expected. If a role is mixed in with <span class="code">does</span> or <span class="code">but</span>, its type-object is added to the type-object list of the object in question. If a role is used instead of a class (using auto-punning), the auto-generated class' type-object, of the same name as the role, is added to the inheritance chain.</p>
 <pre class="code">role Unitish[$unit = fail('Please provide a SI unit quantifier as a parameter to the role Unitish')] { 
     has $.SI-unit-symbol = $unit; 
     method gist { 
         given self { 
             # ... 
             when * &lt; 1 { return self * 1000 ~ 'm' ~ $.SI-unit-symbol } 
             when * &lt; 1000 { return self ~ $.SI-unit-symbol } 
             when * &lt; 1_000_000 { return self / 1_000 ~ 'k' ~ $.SI-unit-symbol } 
             # ... 
         } 
     } 
 } 
 
 role SI-second   does Unitish[&lt;s&gt;] {} 
 role SI-metre    does Unitish[&lt;m&gt;] {} 
 role SI-kilogram does Unitish[&lt;g&gt;] {} 
 
 sub postfix:&lt;s&gt;(Numeric $num) { ($num) does SI-second } 
 sub postfix:&lt;m&gt;(Numeric $num) { ($num) does SI-metre } 
 sub postfix:&lt;g&gt;(Numeric $num) { ($num) does SI-kilogram } 
 sub postfix:&lt;kg&gt;(Numeric $num){ ($num * 1000) does SI-kilogram } 
 
 constant g = 9.806_65; 
 
 role SI-Newton does Unitish[&lt;N&gt;] {} 
 
 multi sub N(SI-kilogram $kg, SI-metre $m, SI-second $s --&gt; SI-Newton ){ ($kg * ($m / $s²)) does SI-Newton } 
 multi sub N(SI-kilogram $kg --&gt; SI-Newton)                            { ($kg * g) does SI-Newton } 
 
 say [75kg, N(75kg)]; 
 # OUTPUT: «[75kg 735.49875kN]␤» 
 say [(75kg).^name, N(75kg).^name]; 
 # OUTPUT: «[Int+{SI-kilogram} Rat+{SI-Newton}]␤» 
</pre>
 <a name="t50.2.2.5"></a><h3 id="_language_typesystem.pod6-Versioning_and_Authorship">50.2.2.5 Versioning and Authorship</h3>
 <p>Versioning and authorship can be applied via adverbs <span class="indexed"><a id="687" name=":ver&lt;&gt; (role)"><span class="code">:ver&lt;&gt;</span></a></span> and <span class="indexed"><a id="688" name=":auth&lt;&gt; (role)"><span class="code">:auth&lt;&gt;</span></a></span>. Both take a string as argument, for <span class="code">:ver</span> the string is converted to a <a href="#_type_Version.pod6">Version</a> object. To query a role's version and author use <span class="code">.^ver</span> and <span class="code">^.auth</span>.</p>
 <pre class="code">role R:ver&lt;4.2.3&gt;:auth&lt;me@here.local&gt; {}
say [R.^ver, R.^auth];
# OUTPUT: «[v4.2.3 me@here.local]␤»</pre>
 <a name="t50.2.3"></a><h2 id="_language_typesystem.pod6-enum">50.2.3 <span class="code">enum</span></h2>
 <p><span class="indexed"><a id="689" name="Enumeration  Enums  enum"></a></span></p>
 <p>Enumerations provide constant key-value-pairs with an associated type. Any key is of that type and injected as a symbol into the current scope. If the symbol is used, it is treated as a constant expression and the symbol is replaced with the value of the enum-pair. Any Enumeration inherits methods from the role <span class="code">Enumeration</span>. Complex expressions for generating key-value pairs are not supported.</p>
 <p>Stringification of the symbol will provide the key of the enum-pair.</p>
 <pre class="code">enum Names ( name1 =&gt; 1, name2 =&gt; 2 );
say name1, ' ', name2; # OUTPUT: «name1 name2␤»
say name1.value, ' ', name2.value; # OUTPUT: «1 2␤»</pre>
 <p>Comparing symbols will use type information and the value of the enum-pair. As value types <span class="code">Numerical</span> and <span class="code">Str</span> are supported.</p>
 <pre class="code">enum Names ( name1 =&gt; 1, name2 =&gt; 2 );
sub same(Names $a, Names $b){
   $a eqv $b
}

say same(name1, name1); # OUTPUT: «True␤»
say same(name1, name2); # OUTPUT: «False␤»
my $a = name1;
say $a ~~ Names; # OUTPUT: «True␤»
say $a.^name;    # OUTPUT: «Names␤»</pre>
 <p>All keys have to be of the same type.</p>
 <pre class="code">enum Mass ( mg =&gt; 1/1000, g =&gt; 1/1, kg =&gt; 1000/1 );

say Mass.enums;
# OUTPUT: «Map.new((g =&gt; 1, kg =&gt; 1000, mg =&gt; 0.001))␤»</pre>
 <p>If no value is given <span class="code">Int</span> will be assumed as the values type and incremented by one per key starting at zero. As enum key types <span class="code">Int</span>, <span class="code">Num</span>, <span class="code">Rat</span> and <span class="code">Str</span> are supported.</p>
 <pre class="code">enum Numbers &lt;one two three four&gt;;

say Numbers.enums;
# OUTPUT: «Map.new((four =&gt; 3, one =&gt; 0, three =&gt; 2, two =&gt; 1))␤»</pre>
 <p>A different starting value can be provided.</p>
 <pre class="code">enum Numbers «:one(1) two three four»;

say Numbers.enums;
# OUTPUT: «Map.new((four =&gt; 4, one =&gt; 1, three =&gt; 3, two =&gt; 2))␤»</pre>
 <p>Enums can be anonymous. There will be no type created, resulting in a lack of introspectiveness. The returned object is of type <span class="code">Map</span>.</p>
 <pre class="code">my $e = enum &lt;one two three&gt;;
say two;       # OUTPUT: «two␤»
say one.^name; # OUTPUT: «␤»
say $e.^name;  # OUTPUT: «Map␤»</pre>
 <p>There are various methods to get access to keys and values. All of them turn the values into <span class="code">Str</span>, which may not be desirable. By treating the enum as a package, we can get a list of type objects for the keys.</p>
 <pre class="code">enum E(&lt;one two&gt;);
my @keys = E::.values;

say @keys.map: *.perl;
# OUTPUT: «(E::two E::one)␤»</pre>
 <a name="t50.2.3.1"></a><h3 id="_language_typesystem.pod6-Introspection">50.2.3.1 Introspection</h3>
 <a name="t50.2.3.1.1"></a><h4 id="_language_typesystem.pod6-Metaclass">50.2.3.1.1 Metaclass</h4>
 <p>To test if a given type object is an enum test the meta object method <span class="code">.HOW</span> for <a href="#_type_Metamodel::EnumHOW.pod6">Metamodel::EnumHOW</a>.</p>
 <pre class="code">enum E(&lt;a b c&gt;);
say E.HOW ~~ Metamodel::EnumHOW;
# OUTPUT: «True␤»</pre>
 <a name="t50.2.3.2"></a><h3 id="_language_typesystem.pod6-Methods">50.2.3.2 Methods</h3>
 <a name="t50.2.3.2.1"></a><h4 id="_language_typesystem.pod6-method_enums">50.2.3.2.1 method enums</h4>
 <p>Defined as:</p>
 <pre class="code">method enums()</pre>
 <p>Returns the list of enum-pairs. Works both on the enum type and any key.</p>
 <pre class="code">enum Mass ( mg =&gt; 1/1000, g =&gt; 1/1, kg =&gt; 1000/1 );
say Mass.enums, g.enums; # OUTPUT: «{g =&gt; 1, kg =&gt; 1000, mg =&gt; 0.001}{g =&gt; 1, kg =&gt; 1000, mg =&gt; 0.001}␤»</pre>
 <a name="t50.2.3.2.2"></a><h4 id="_language_typesystem.pod6-method_key">50.2.3.2.2 method key</h4>
 <p>Returns the key of an enum-pair.</p>
 <pre class="code">say g.key; # OUTPUT: «g␤» 
</pre>
 <a name="t50.2.3.2.3"></a><h4 id="_language_typesystem.pod6-method_value">50.2.3.2.3 method value</h4>
 <p>Returns the value of an enum-pair.</p>
 <pre class="code">say g.value; # OUTPUT: «1␤» 
</pre>
 <a name="t50.2.3.2.4"></a><h4 id="_language_typesystem.pod6-method_pair">50.2.3.2.4 method pair</h4>
 <p>Defined as:</p>
 <pre class="code">method pair(::?CLASS:D:) 
</pre>
 <p>Returns a <span class="code">Pair</span> of the enum-pair.</p>
 <pre class="code">say g.pair; # OUTPUT: «g =&gt; 1␤» 
</pre>
 <a name="t50.2.3.2.5"></a><h4 id="_language_typesystem.pod6-method_kv">50.2.3.2.5 method kv</h4>
 <p>Defined as:</p>
 <pre class="code">multi method kv(::?CLASS:D:) 
</pre>
 <p>Returns a list with key and value of the enum-pair.</p>
 <pre class="code">say g.kv; # OUTPUT: «(g 1)␤» 
</pre>
 <a name="t50.2.3.3"></a><h3 id="_language_typesystem.pod6-Coercion">50.2.3.3 Coercion</h3>
 <p>If you want to coerce the value of an enum element to its proper enum object, use the coercer with the name of the enum:</p>
 <pre class="code">my enum A (sun =&gt; 42, mon =&gt; 72);
A(72).say;   # OUTPUT: «mon␤»
A(1000).say; # OUTPUT: «(A)␤»</pre>
 <a name="t50.2.4"></a><h2 id="_language_typesystem.pod6-module">50.2.4 <span class="code">module</span></h2>
 <p>TODO</p>
 <a name="t50.2.4.1"></a><h3 id="_language_typesystem.pod6-Versioning_and_Authorship">50.2.4.1 Versioning and Authorship</h3>
 <p>Versioning and authorship can be applied via adverbs <span class="code">:ver&lt;&gt;</span> and <span class="code">:auth&lt;&gt;</span>. Both take a string as argument, for <span class="code">:ver</span> the string is converted to a <a href="#_type_Version.pod6">Version</a> object. To query a modules version and author use <span class="code">.^ver</span> and <span class="code">^.auth</span>.</p>
 <pre class="code">module M:ver&lt;4.2.3&gt;:auth&lt;me@here.local&gt; {}
say [M.^ver, M.^auth];
# OUTPUT: «[v4.2.3 me@here.local]␤»</pre>
 <a name="t50.2.5"></a><h2 id="_language_typesystem.pod6-package">50.2.5 <span class="code">package</span></h2>
 <p>TODO</p>
 <a name="t50.2.6"></a><h2 id="_language_typesystem.pod6-grammar">50.2.6 <span class="code">grammar</span></h2>
 <p>TODO</p>
 <a name="t50.2.6.1"></a><h3 id="_language_typesystem.pod6-Versioning_and_Authorship">50.2.6.1 Versioning and Authorship</h3>
 <p>Versioning and authorship can be applied via adverbs <span class="indexed"><a id="690" name=":ver&lt;&gt; (grammar)"><span class="code">:ver&lt;&gt;</span></a></span> and <span class="indexed"><a id="691" name=":auth&lt;&gt; (grammar)"><span class="code">:auth&lt;&gt;</span></a></span>. Both take a string as argument, for <span class="code">:ver</span> the string is converted to a <a href="#_type_Version.pod6">Version</a> object. To query a grammars version and author use <span class="code">.^ver</span> and <span class="code">^.auth</span>.</p>
 <pre class="code">grammar G:ver&lt;4.2.3&gt;:auth&lt;me@here.local&gt; {}
say [G.^ver, G.^auth];
# OUTPUT: «[v4.2.3 me@here.local]␤»</pre>
 <a name="t50.2.7"></a><h2 id="_language_typesystem.pod6-subset">50.2.7 <span class="code">subset</span></h2>
 <p>A <span class="indexed"><a id="692" name="subset"><span class="code">subset</span></a></span> declares a new type that will re-dispatch to its base type. If a <a href="#_type_Signature.pod6-where"><span class="code">where</span></a> clause is supplied any assignment will be checked against the given code object.</p>
 <pre class="code">subset Positive of Int where * &gt; -1;
my Positive $i = 1;
$i = -42;
CATCH { default { put .^name,': ', .Str } }
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $i; expected Positive but got Int (-42)␤»</pre>
 <p>Subsets can be anonymous, allowing inline placements where a subset is required but a name is neither needed nor desirable.</p>
 <pre class="code">my enum E1 &lt;A B&gt;;
my enum E2 &lt;C D&gt;;
sub g(@a where { .all ~~ subset :: where E1|E2 } ) {
    say @a
}
g([A, C]);
# OUTPUT: «[A C]␤»</pre>
 <p>Subsets can be used to check types dynamically, what can be useful in conjunction with <a href="#_language_modules.pod6-require">require</a>. <span class="indexed"><a id="693" name="dynamic subset"></a></span></p>
 <pre class="code">require ::('YourModule'); 
 subset C where ::('YourModule::C'); 
</pre>
</div>
<!-- /language/unicode.pod6 --><div class="pod-body"><a id="_language_unicode.pod6"></a><a name="t51"><h1 class="title">51 Unicode</h1></a> <p class="subtitle">Unicode Support in Perl 6</p> <p>Perl 6 has a high level of support of Unicode. This document aims to be both an overview as well as describe Unicode features which don't belong in the documentation for routines and methods.</p>
 <p>For an overview on MoarVM's internal representation of strings, see the <a href="https://github.com/MoarVM/MoarVM/blob/master/docs/strings.asciidoc">MoarVM string documentation</a>.</p>
 <a name="t51.1"></a><h1 id="_language_unicode.pod6-File_Handles_and_I/O">51.1 File Handles and I/O</h1>
 <p><span class="indexed"><a id="694" name="Normalization"></a></span></p>
 <a name="t51.1.1"></a><h2 id="_language_unicode.pod6-Normalization">51.1.1 Normalization</h2>
 <p>Perl6 applies normalization by default to all input and output except for file names which are stored as <a href="#50-UTF8-C8"><span class="code">UTF8-C8</span></a>. What does this mean? For example á can be represented 2 ways. Either using one codepoint:</p>
 <pre class="code">á (U+E1 &quot;LATIN SMALL LETTER A WITH ACUTE&quot;) 
</pre>
 <p>Or two codepoints:</p>
 <pre class="code">a +  ́ (U+61 &quot;LATIN SMALL LETTER A&quot; + U+301 &quot;COMBINING ACUTE ACCENT&quot;) 
</pre>
 <p>Perl 6 will turn both these inputs into one codepoint, as is specified for Normalization Form C (<b><span class="indexed"><a id="695" name="">NFC</a></span></b>). In most cases this is useful and means that two inputs that are equivalent are both treated the same. Unicode has a concept of canonical equivalence which allows us to determine the canonical form of a string, allowing us to properly compare strings and manipulate them, without having to worry about the text losing these properties. By default, any text you process or output from Perl 6 will be in this &quot;canonical&quot; form, even when making modifications or concatenations to the string (see below for how to avoid this). For more detailed information about Normalization Form C and canonical equivalence, see the Unicode Foundation's page on <a href="https://unicode.org/reports/tr15/#Canon_Compat_Equivalence">Normalization and Canonical Equivalence</a>.</p>
 <p>One case where we don't default to this, is for the names of files. This is because the names of files must be accessed exactly as the bytes are written on the disk.</p>
 <p>To avoid normalization you can use a special encoding format called <a href="#50-UTF8-C8">UTF8-C8</a>. Using this encoding with any file handle will allow you to read the exact bytes as they are on disk, without normalization. They may look funny when printed out, if you print it out using a UTF8 handle. If you print it out to a handle where the output encoding is UTF8-C8, then it will render as you would normally expect, and be a byte for byte exact copy. More technical details on <a href="#50-UTF8-C8">UTF8-C8</a> on MoarVM below.</p>
 <p><span class="indexed"><a id="696" name="UTF8-C8"></a></span></p>
 <a name="t51.1.2"></a><h2 id="_language_unicode.pod6-UTF8-C8">51.1.2 UTF8-C8</h2>
 <p><span class="indexed"><a id="697" name="">UTF-8 Clean-8</a></span> is an encoder/decoder that primarily works as the UTF-8 one. However, upon encountering a byte sequence that will either not decode as valid UTF-8, or that would not round-trip due to normalization, it will use NFG synthetics to keep track of the original bytes involved. This means that encoding back to UTF-8 Clean-8 will be able to recreate the bytes as they originally existed. The synthetics contain 4 codepoints:</p>
 <ul><li><p>The codepoint 0x10FFFD (which is a private use codepoint)</p>
</li></ul> <ul><li><p>The codepoint 'x'</p>
</li></ul> <ul><li><p>The upper 4 bits of the non-decodable byte as a hex char (0..9A..F)</p>
</li></ul> <ul><li><p>The lower 4 bits as the non-decodable byte as a hex char (0..9A..F)</p>
</li></ul> <p>Under normal UTF-8 encoding, this means the unrepresentable characters will come out as something like `?xFF`.</p>
 <p>UTF-8 Clean-8 is used in places where MoarVM receives strings from the environment, command line arguments, and file system queries.</p>
 <a name="t51.2"></a><h1 id="_language_unicode.pod6-Entering_Unicode_Codepoints_and_Codepoint_Sequences">51.2 Entering Unicode Codepoints and Codepoint Sequences</h1>
 <p>You can enter Unicode codepoints by number (decimal as well as hexadecimal). For example, the character named &quot;latin capital letter ae with macron&quot; has decimal codepoint 482 and hexadecimal codepoint 0x1E2:</p>
 <pre class="code">say &quot;\c[482]&quot;; # OUTPUT: «Ǣ␤»
say &quot;\x1E2&quot;;   # OUTPUT: «Ǣ␤»</pre>
 <p>You can also access Unicode codepoints by name: Rakudo supports all Unicode 9.0 names. <span class="indexed"><a id="698" name="\c[] unicode name"></a></span></p>
 <pre class="code">say &quot;\c[PENGUIN]&quot;; # OUTPUT: «🐧␤»
say &quot;\c[BELL]&quot;;    # OUTPUT: «🔔␤» (U+1F514 BELL)</pre>
 <p>All Unicode codepoint names/named seq/emoji sequences are now case-insensitive: [Starting in 2017.02]</p>
 <pre class="code">say &quot;\c[latin capital letter ae with macron]&quot;; # OUTPUT: «Ǣ␤»
say &quot;\c[latin capital letter E]&quot;;              # OUTPUT: «E␤» (U+0045)</pre>
 <p>You can specify multiple characters by using a comma separated list with <span class="code">\c[]</span>. You can combine numeric and named styles as well:</p>
 <pre class="code">say &quot;\c[482,PENGUIN]&quot;; # OUTPUT: «Ǣ🐧␤»</pre>
 <p>In addition to using <span class="code">\c[]</span> inside interpolated strings, you can also use the <a href="#_routine_uniparse.pod6">uniparse</a>:</p>
 <pre class="code">say &quot;DIGIT ONE&quot;.uniparse;  # OUTPUT: «1␤»
say uniparse(&quot;DIGIT ONE&quot;); # OUTPUT: «1␤»</pre>
 <a name="t51.2.1"></a><h2 id="_language_unicode.pod6-Name_Aliases">51.2.1 Name Aliases</h2>
 <p>By name alias. Name Aliases are used mainly for codepoints without an official name, for abbreviations, or for corrections (Unicode names never change). For full list of them see <a href="http://www.unicode.org/Public/UCD/latest/ucd/NameAliases.txt">here</a>.</p>
 <p>Control codes without any official name:</p>
 <pre class="code">say &quot;\c[ALERT]&quot;;     # Not visible (U+0007 control code (also accessible as \a))
say &quot;\c[LINE FEED]&quot;; # Not visible (U+000A same as &quot;\n&quot;)</pre>
 <p>Corrections:</p>
 <pre class="code">say &quot;\c[LATIN CAPITAL LETTER GHA]&quot;; # OUTPUT: «Ƣ␤»
say &quot;Ƣ&quot;.uniname; # OUTPUT: «LATIN CAPITAL LETTER OI␤»
# This one is a spelling mistake that was corrected in a Name Alias:
say &quot;\c[PRESENTATION FORM FOR VERTICAL RIGHT WHITE LENTICULAR BRACKET]&quot;.uniname;
# OUTPUT: «PRESENTATION FORM FOR VERTICAL RIGHT WHITE LENTICULAR BRAKCET␤»</pre>
 <p>Abbreviations:</p>
 <pre class="code">say &quot;\c[ZWJ]&quot;.uniname;  # OUTPUT: «ZERO WIDTH JOINER␤»
say &quot;\c[NBSP]&quot;.uniname; # OUTPUT: «NO-BREAK SPACE␤»</pre>
 <a name="t51.2.2"></a><h2 id="_language_unicode.pod6-Named_Sequences">51.2.2 Named Sequences</h2>
 <p>You can also use any of the <a href="http://www.unicode.org/Public/UCD/latest/ucd/NamedSequences.txt">Named Sequences</a>, these are not single codepoints, but sequences of them. [Starting in 2017.02]</p>
 <pre class="code">say &quot;\c[LATIN CAPITAL LETTER E WITH VERTICAL LINE BELOW AND ACUTE]&quot;;      # OUTPUT: «É̩␤»
say &quot;\c[LATIN CAPITAL LETTER E WITH VERTICAL LINE BELOW AND ACUTE]&quot;.ords; # OUTPUT: «(201 809)␤»</pre>
 <a name="t51.2.2.1"></a><h3 id="_language_unicode.pod6-Emoji_Sequences">51.2.2.1 Emoji Sequences</h3>
 <p>Rakudo has support for Emoji 4.0 (the latest non-draft release) sequences. For all of them see: <a href="http://www.unicode.org/Public/emoji/4.0/emoji-zwj-sequences.txt">Emoji ZWJ Sequences</a> and <a href="http://www.unicode.org/Public/emoji/4.0/emoji-sequences.txt">Emoji Sequences</a>. Note that any names with commas should have their commas removed, since Perl 6 uses commas to separate different codepoints/sequences inside the same <span class="code">\c</span> sequence.</p>
 <pre class="code">say &quot;\c[woman gesturing OK]&quot;;         # OUTPUT: «🙆‍♀️␤»
say &quot;\c[family: man woman girl boy]&quot;; # OUTPUT: «👨‍👩‍👧‍👦␤»</pre>
</div>
===WARNING: One or more tables evidence bad practice.
==          Set environment variable 'RAKUDO_POD_TABLE_DEBUG' for more details.
<!-- /language/unicode_ascii.pod6 --><div class="pod-body"><a id="_language_unicode_ascii.pod6"></a><a name="t52"><h1 class="title">52 Unicode versus ASCII symbols</h1></a> <p class="subtitle">Unicode symbols and their ASCII equivalents</p> <p>The following Unicode symbols can be used in Perl 6 without needing to load any additional modules. Some of them have equivalents which can be typed with ASCII-only characters. These variants are often composed of more characters than the Unicode versions and so they look bigger.</p>
 <p>Reference is made below to various properties of unicode codepoints. The definitive list can be found here: <a href="http://www.unicode.org/Public/UCD/latest/ucd/PropList.txt">http://www.unicode.org/Public/UCD/latest/ucd/PropList.txt</a>.</p>
 <a name="t52.1"></a><h1 id="_language_unicode_ascii.pod6-Alphabetic_Characters">52.1 Alphabetic Characters</h1>
 <p>Any codepoint that has the <span class="code">Ll</span> (Letter, lowercase), <span class="code">Lu</span> (Letter, uppercase), <span class="code">Lt</span> (Letter, titlecase), <span class="code">Lm</span> (Letter, modifier), or the <span class="code">Lo</span> (Letter, other) property can be used just like any other alphabetic character from the ASCII range.</p>
 <a name="t52.2"></a><h1 id="_language_unicode_ascii.pod6-Numeric_characters">52.2 Numeric characters</h1>
 <p>Any codepoint that has the <span class="code">Nd</span> (Number, decimal digit) property, can be used as a digit in any number. For example:</p>
 <pre class="code">my $var = １９; # U+FF11 U+FF19
say $var + 2;  # OUTPUT: «21␤»</pre>
 <a name="t52.3"></a><h1 id="_language_unicode_ascii.pod6-Numeric_values">52.3 Numeric values</h1>
 <p>Any codepoint that has the <span class="code">No</span> (Number, other) or <span class="code">Nl</span> (Number, letter) property can be used standalone as a numeric value, such as ½ and ⅓. (These aren't decimal digit characters, so can't be combined.) For example:</p>
 <pre class="code">my $var = ⅒ + 2 + Ⅻ; # here ⅒ is No and Rat and Ⅻ is Nl and Int
say $var;            # OUTPUT: «14.1␤»</pre>
 <a name="t52.4"></a><h1 id="_language_unicode_ascii.pod6-Whitespace_characters">52.4 Whitespace characters</h1>
 <p>Besides spaces and tabs you can use any other unicode whitespace character that has the <span class="code">Zs</span> (Separator, space), <span class="code">Zl</span> (Separator, line), or <span class="code">Zp</span> (Separator, paragraph) property.</p>
 <a name="t52.5"></a><h1 id="_language_unicode_ascii.pod6-Other_acceptable_single_codepoints">52.5 Other acceptable single codepoints</h1>
 <p>This list contains the single codepoints [and their ASCII equivalents] that have a special meaning in Perl 6.</p>
 <p><span class="indexed"><a id="699" name="«"></a></span><span class="indexed"><a id="700" name="»"></a></span><span class="indexed"><a id="701" name="×"></a></span><span class="indexed"><a id="702" name="÷"></a></span><span class="indexed"><a id="703" name="≤"></a></span><span class="indexed"><a id="704" name="≥"></a></span><span class="indexed"><a id="705" name="≠"></a></span><span class="indexed"><a id="706" name="−"></a></span><span class="indexed"><a id="707" name="∘"></a></span><span class="indexed"><a id="708" name="≅"></a></span><span class="indexed"><a id="709" name="π"></a></span><span class="indexed"><a id="710" name="τ"></a></span><span class="indexed"><a id="711" name="𝑒"></a></span><span class="indexed"><a id="712" name="∞"></a></span><span class="indexed"><a id="713" name="…"></a></span><span class="indexed"><a id="714" name="‘"></a></span><span class="indexed"><a id="715" name="’"></a></span><span class="indexed"><a id="716" name="‚"></a></span><span class="indexed"><a id="717" name="“"></a></span><span class="indexed"><a id="718" name="”"></a></span><span class="indexed"><a id="719" name="„"></a></span><span class="indexed"><a id="720" name="｢"></a></span><span class="indexed"><a id="721" name="｣"></a></span><span class="indexed"><a id="722" name="⁺"></a></span><span class="indexed"><a id="723" name="⁻"></a></span><span class="indexed"><a id="724" name="¯"></a></span><span class="indexed"><a id="725" name="⁰"></a></span><span class="indexed"><a id="726" name="¹"></a></span><span class="indexed"><a id="727" name="²"></a></span><span class="indexed"><a id="728" name="³"></a></span><span class="indexed"><a id="729" name="⁴"></a></span><span class="indexed"><a id="730" name="⁵"></a></span><span class="indexed"><a id="731" name="⁶"></a></span><span class="indexed"><a id="732" name="⁷"></a></span><span class="indexed"><a id="733" name="⁸"></a></span><span class="indexed"><a id="734" name="⁹"></a></span><span class="indexed"><a id="735" name="∅"></a></span><span class="indexed"><a id="736" name="∈"></a></span><span class="indexed"><a id="737" name="∉"></a></span><span class="indexed"><a id="738" name="∋"></a></span><span class="indexed"><a id="739" name="∌"></a></span><span class="indexed"><a id="740" name="⊆"></a></span><span class="indexed"><a id="741" name="⊈"></a></span><span class="indexed"><a id="742" name="⊂"></a></span><span class="indexed"><a id="743" name="⊄"></a></span><span class="indexed"><a id="744" name="⊇"></a></span><span class="indexed"><a id="745" name="⊉"></a></span><span class="indexed"><a id="746" name="⊃"></a></span><span class="indexed"><a id="747" name="⊅"></a></span><span class="indexed"><a id="748" name="≼"></a></span><span class="indexed"><a id="749" name="≽"></a></span><span class="indexed"><a id="750" name="∪"></a></span><span class="indexed"><a id="751" name="∩"></a></span><span class="indexed"><a id="752" name="∖"></a></span><span class="indexed"><a id="753" name="⊖"></a></span><span class="indexed"><a id="754" name="⊍"></a></span><span class="indexed"><a id="755" name="⊎"></a></span></p>
 <table>
<tr><th>Symbol</th> <th>Codepoint</th> <th>ASCII</th> <th>Remarks</th></tr>
<tr><td>«</td> <td>U+00AB</td> <td>&lt;&lt;</td> <td>as part of «» or .« or regex left word boundary</td></tr>
 <tr><td>»</td> <td>U+00BB</td> <td>&gt;&gt;</td> <td>as part of «» or .» or regex right word boundary</td></tr>
 <tr><td>×</td> <td>U+00D7</td> <td>*</td> <td></td></tr>
 <tr><td>÷</td> <td>U+00F7</td> <td>/</td> <td></td></tr>
 <tr><td>≤</td> <td>U+2264</td> <td>&lt;=</td> <td></td></tr>
 <tr><td>≥</td> <td>U+2265</td> <td>&gt;=</td> <td></td></tr>
 <tr><td>≠</td> <td>U+2260</td> <td>!=</td> <td></td></tr>
 <tr><td>−</td> <td>U+2212</td> <td>-</td> <td></td></tr>
 <tr><td>∘</td> <td>U+2218</td> <td>o</td> <td></td></tr>
 <tr><td>≅</td> <td>U+2245</td> <td>=~=</td> <td></td></tr>
 <tr><td>π</td> <td>U+03C0</td> <td>pi</td> <td>3.14159_26535_89793_238e0</td></tr>
 <tr><td>τ</td> <td>U+03C4</td> <td>tau</td> <td>6.28318_53071_79586_476e0</td></tr>
 <tr><td>𝑒</td> <td>U+1D452</td> <td>e</td> <td>2.71828_18284_59045_235e0</td></tr>
 <tr><td>∞</td> <td>U+221E</td> <td>Inf</td> <td></td></tr>
 <tr><td>…</td> <td>U+2026</td> <td>...</td> <td></td></tr>
 <tr><td>‘</td> <td>U+2018</td> <td>'</td> <td>as part of ‘’ or ’‘</td></tr>
 <tr><td>’</td> <td>U+2019</td> <td>'</td> <td>as part of ‘’ or ‚’ or ’‘</td></tr>
 <tr><td>‚</td> <td>U+201A</td> <td>'</td> <td>as part of ‚‘ or ‚’</td></tr>
 <tr><td>“</td> <td>U+201C</td> <td>&quot;</td> <td>as part of “” or ”“</td></tr>
 <tr><td>”</td> <td>U+201D</td> <td>&quot;</td> <td>as part of “” or ”“ or ””</td></tr>
 <tr><td>„</td> <td>U+201E</td> <td>&quot;</td> <td>as part of „“ or „”</td></tr>
 <tr><td>｢</td> <td>U+FF62</td> <td>Q//</td> <td>as part of ｢｣ (Note: Q// variant cannot be used bare in regexes)</td></tr>
 <tr><td>｣</td> <td>U+FF63</td> <td>Q//</td> <td>as part of ｢｣ (Note: Q// variant cannot be used bare in regexes)</td></tr>
 <tr><td>⁺</td> <td>U+207A</td> <td>|</td> <td>(must use explicit number) as part of exponentiation</td></tr>
 <tr><td>⁻</td> <td>U+207B</td> <td>-</td> <td>(must use explicit number) as part of exponentiation</td></tr>
 <tr><td>¯</td> <td>U+00AF</td> <td>-</td> <td>(must use explicit number) as part of exponentiation (macron is an alternative way of writing a minus)</td></tr>
 <tr><td>⁰</td> <td>U+2070</td> <td>**0</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>¹</td> <td>U+00B9</td> <td>**1</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>²</td> <td>U+00B2</td> <td>**2</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>³</td> <td>U+00B3</td> <td>**3</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁴</td> <td>U+2074</td> <td>**4</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁵</td> <td>U+2075</td> <td>**5</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁶</td> <td>U+2076</td> <td>**6</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁷</td> <td>U+2077</td> <td>**7</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁸</td> <td>U+2078</td> <td>**8</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>⁹</td> <td>U+2079</td> <td>**9</td> <td>can be combined with ⁰..⁹</td></tr>
 <tr><td>∅</td> <td>U+2205</td> <td>set()</td> <td>(empty set)</td></tr>
 <tr><td>∈</td> <td>U+2208</td> <td>(elem)</td> <td></td></tr>
 <tr><td>∉</td> <td>U+2209</td> <td>!(elem)</td> <td></td></tr>
 <tr><td>∋</td> <td>U+220B</td> <td>(cont)</td> <td></td></tr>
 <tr><td>∌</td> <td>U+220C</td> <td>!(cont)</td> <td></td></tr>
 <tr><td>⊆</td> <td>U+2286</td> <td>(&lt;=)</td> <td></td></tr>
 <tr><td>⊈</td> <td>U+2288</td> <td>!(&lt;=)</td> <td></td></tr>
 <tr><td>⊂</td> <td>U+2282</td> <td>(&lt;)</td> <td></td></tr>
 <tr><td>⊄</td> <td>U+2284</td> <td>!(&lt;)</td> <td></td></tr>
 <tr><td>⊇</td> <td>U+2287</td> <td>(&gt;=)</td> <td></td></tr>
 <tr><td>⊉</td> <td>U+2289</td> <td>!(&gt;=)</td> <td></td></tr>
 <tr><td>⊃</td> <td>U+2283</td> <td>(&gt;)</td> <td></td></tr>
 <tr><td>⊅</td> <td>U+2285</td> <td>!(&gt;)</td> <td></td></tr>
 <tr><td>≼</td> <td>U+227C</td> <td>(&lt;+)</td> <td></td></tr>
 <tr><td>≽</td> <td>U+227D</td> <td>(&gt;+)</td> <td></td></tr>
 <tr><td>∪</td> <td>U+222A</td> <td>(|)</td> <td></td></tr>
 <tr><td>∩</td> <td>U+2229</td> <td>(&amp;)</td> <td></td></tr>
 <tr><td>∖</td> <td>U+2216</td> <td>(-)</td> <td></td></tr>
 <tr><td>⊖</td> <td>U+2296</td> <td>(^)</td> <td></td></tr>
 <tr><td>⊍</td> <td>U+228D</td> <td>(.)</td> <td></td></tr>
 <tr><td>⊎</td> <td>U+228E</td> <td>(+)</td> <td></td></tr>
</table> <a name="t52.5.1"></a><h2 id="_language_unicode_ascii.pod6-Atomic_Operators">52.5.1 Atomic Operators</h2>
 <p>The atomic operators have <span class="code">U+269B ⚛ ATOM SYMBOL</span> incorporated into them. Their ASCII equivalents are ordinary subroutines, not operators:</p>
 <pre class="code">my atomicint $x = 42;
$x⚛++;                # Unicode version
atomic-fetch-inc($x); # ASCII version</pre>
 <p>The ASCII alternatives are as follows:</p>
 <p><span class="indexed"><a id="756" name="⚛="></a></span><span class="indexed"><a id="757" name="⚛"></a></span><span class="indexed"><a id="758" name="⚛+="></a></span><span class="indexed"><a id="759" name="⚛-="></a></span><span class="indexed"><a id="760" name="⚛−="></a></span><span class="indexed"><a id="761" name="++⚛"></a></span><span class="indexed"><a id="762" name="⚛++"></a></span><span class="indexed"><a id="763" name="--⚛"></a></span><span class="indexed"><a id="764" name="⚛--"></a></span></p>
 <table>
<tr><th>Symbol</th> <th>ASCII</th> <th>Remarks</th></tr>
<tr><td>⚛=</td> <td>atomic-assign</td> <td></td></tr>
 <tr><td>⚛</td> <td>atomic-fetch</td> <td>this is the prefix:&lt;⚛&gt; operator</td></tr>
 <tr><td>⚛+=</td> <td>atomic-add-fetch</td> <td></td></tr>
 <tr><td>⚛-=</td> <td>atomic-sub-fetch</td> <td></td></tr>
 <tr><td>⚛−=</td> <td>atomic-sub-fetch</td> <td>this operator uses U+2212 minus sign</td></tr>
 <tr><td>++⚛</td> <td>atomic-inc-fetch</td> <td></td></tr>
 <tr><td>⚛++</td> <td>atomic-fetch-inc</td> <td></td></tr>
 <tr><td>--⚛</td> <td>atomic-dec-fetch</td> <td></td></tr>
 <tr><td>⚛--</td> <td>atomic-fetch-dec</td> <td></td></tr>
</table> <a name="t52.6"></a><h1 id="_language_unicode_ascii.pod6-Multiple_codepoints">52.6 Multiple codepoints</h1>
 <p>This list contains multiple-codepoint operators that require special composition for their ASCII equivalents. Note the codepoints are shown space-separated but should be entered as adjacent codepoints when used.</p>
 <p><span class="indexed"><a id="765" name="»=»"></a></span><span class="indexed"><a id="766" name="«=«"></a></span><span class="indexed"><a id="767" name="«=»"></a></span><span class="indexed"><a id="768" name="»=«"></a></span></p>
 <table>
<tr><th>Symbol</th> <th>Codepoints</th> <th>ASCII</th> <th>Since</th> <th>Remarks</th></tr>
<tr><td>»=»</td> <td>U+00BB = U+00BB</td> <td>&gt;&gt;[=]&gt;&gt;</td> <td>v6.c</td> <td>uses ASCII '='</td></tr>
 <tr><td>«=«</td> <td>U+00AB = U+00AB</td> <td>&lt;&lt;[=]&lt;&lt;</td> <td>v6.c</td> <td>uses ASCII '='</td></tr>
 <tr><td>«=»</td> <td>U+00AB = U+00BB</td> <td>&lt;&lt;[=]&gt;&gt;</td> <td>v6.c</td> <td>uses ASCII '='</td></tr>
 <tr><td>»=«</td> <td>U+00BB = U+00AB</td> <td>&gt;&gt;[=]&lt;&lt;</td> <td>v6.c</td> <td>uses ASCII '='</td></tr>
</table></div>
<!-- /language/unicode_entry.pod6 --><div class="pod-body"><a id="_language_unicode_entry.pod6"></a><a name="t53"><h1 class="title">53 Entering Unicode Characters</h1></a> <p class="subtitle">Input methods for unicode characters in editors and the shell</p> <p>Perl 6 allows the use of unicode characters as variable names. Many operators are defined with unicode symbols (in particular the <a href="#_language_setbagmix.pod6-Set%2FBag_Operators">set/bag operators</a>) as well as some quoting constructs. Hence it is good to know how to enter these symbols into editors, the Perl 6 shell and the command line, especially if the symbols aren't available as actual characters on a keyboard.</p>
 <p>General information about entering unicode under various operating systems and environments can be found on the Wikipedia <a href="https://en.wikipedia.org/wiki/Unicode_input">unicode input page</a>.</p>
 <a name="t53.1"></a><h1 id="_language_unicode_entry.pod6-XCompose_(Linux)">53.1 XCompose (Linux)</h1>
 <p>Xorg includes digraph support using a <a href="https://en.wikipedia.org/wiki/Compose_key#GNU.2FLinux"><i>Compose key</i></a> . The default of <span class="code">AltGr + Shift</span> can be remapped to something easier such as <span class="code">Capslock</span>. In <i>GNOME 2</i> and <i>MATE</i> this can be setup under <span class="code">Preferences → Keyboard → Layouts → Options → Position of Compose Key</span>. So, for example, to input <span class="code">»+«</span> you could type <span class="code">CAPSLOCK &gt; &gt; + CAPSLOCK &lt; &lt; </span></p>
 <p><i>XCompose</i> allows customising the digraph sequences using a <span class="code">.XCompose</span> file and <a href="https://github.com/kragen/xcompose/blob/master/dotXCompose">https://github.com/kragen/xcompose/blob/master/dotXCompose</a> is an extremely complete one. In <i>GNOME</i>, <i>XCompose</i> was overridden and replaced with a hardcoded list, but it is possible to restore <i>XCompose</i> by setting <span class="code">GTK_IM_MODULE=xim</span> in your environment. It might be necessary to install a xim bridge as well, such as <span class="code">uim-xim</span>.</p>
 <a name="t53.1.1"></a><h2 id="_language_unicode_entry.pod6-Getting_Compose_working_in_all_Programs">53.1.1 Getting Compose working in all Programs</h2>
 <p>You may have issues using the compose key in all programs. In that case you can try <span class="code">ibus</span>.</p>
 <pre class="code">input_module=xim 
 export GTK_IM_MODULE=$input_module 
 export XMODIFIERS=@im=$input_module 
 export QT_IM_MODULE=$input_module 
</pre>
 <p>If you want this to be for all users you can put this in a file <span class="code">/etc/profile.d/compose.sh</span>, which is the easiest way, since you won't have to deal with how different GUI environments set up their environment variables.</p>
 <p>If you use KDE you can put this file in <span class="code">~/.config/plasma-workspace/env/compose.sh</span> and that should work. Other desktop environments will be different. Look up how to set environment variables in yours or use the system-wide option above.</p>
 <a name="t53.1.2"></a><h2 id="_language_unicode_entry.pod6-ibus">53.1.2 ibus</h2>
 <p>If you have problems entering high codepoint symbols such as <b>🐧</b> using the <span class="code">xim</span> input module, you can instead use ibus. You will have to install the ibus package for your distribution. Then you will have to set it to start on load of your Desktop environment. The command that needs to be run is:</p>
 <pre class="code">ibus-daemon --xim --verbose --daemonize --replace 
</pre>
 <p>Setting <span class="code">--xim</span> should also allow programs not using ibus to still use the xim input method and be backward compatible.</p>
 <a name="t53.1.2.1"></a><h3 id="_language_unicode_entry.pod6-KDE">53.1.2.1 KDE</h3>
 <p>If you are using KDE, open the start menu and type in “Autostart” and click <b>Autostart</b> which should be the first result. In the settings window that opens, click <b>Add program</b>, type in <span class="code">ibus-daemon</span> and click OK. Then go into the Application tab of the window that pops up. In the <span class="code">Command</span> field, enter in the full ibus-daemon command as shown above, with the <span class="code">--desktop</span> option set to <span class="code">--desktop=plasma</span>. Click OK. It should now launch automatically when you log in again.</p>
 <a name="t53.2"></a><h1 id="_language_unicode_entry.pod6-Editors_and_shells">53.2 Editors and shells</h1>
 <a name="t53.2.1"></a><h2 id="_language_unicode_entry.pod6-Vim">53.2.1 Vim</h2>
 <p>In <a href="http://www.vim.org/">Vim</a>, unicode characters are entered (in insert-mode) by pressing first <span class="code">Ctrl-V</span> (also denoted <span class="code">^V</span>), then <span class="code">u</span> and then the hexadecimal value of the unicode character to be entered. For example, the Greek letter λ (lambda) is entered via the key combination:</p>
 <pre class="code">^Vu03BB 
</pre>
 <p>You can also use <span class="code">Ctrl-K</span>/<span class="code">^K</span> along with a digraph to type in some characters. So an alternative to the above using digraphs looks like this:</p>
 <pre class="code">^Kl* 
</pre>
 <p>The list of digraphs Vim provides is documented <a href="http://vimdoc.sourceforge.net/htmldoc/digraph.html">here</a>; you can add your own with the <span class="code">:digraph</span> command.</p>
 <p>Further information about entering special characters in Vim can be found on the Vim Wikia page about <a href="http://vim.wikia.com/wiki/Entering_special_characters">entering special characters</a>.</p>
 <a name="t53.2.1.1"></a><h3 id="_language_unicode_entry.pod6-vim-perl6">53.2.1.1 vim-perl6</h3>
 <p>The <a href="https://github.com/vim-perl/vim-perl6">vim-perl6</a> plugin for Vim can be configured to optionally replace ASCII based ops with their Unicode based equivalents. This will convert the ASCII based ops on the fly while typing them.</p>
 <a name="t53.2.2"></a><h2 id="_language_unicode_entry.pod6-Emacs">53.2.2 Emacs</h2>
 <p>In <a href="http://www.gnu.org/software/emacs/">Emacs</a>, unicode characters are entered by first entering the chord <span class="code">C-x 8 RET</span> at which point the text <span class="code">Unicode (name or hex):</span> appears in the minibuffer. One then enters the unicode code point hexadecimal number followed by the enter key. The unicode character will now appear in the document. Thus, to enter the Greek letter λ (lambda), one uses the following key combination:</p>
 <pre class="code">C-x 8 RET 3bb RET 
</pre>
 <p>Further information about unicode and its entry into Emacs can be found on the <a href="https://www.emacswiki.org/emacs/UnicodeEncoding">Unicode Encoding Emacs wiki page</a>.</p>
 <p>You can also use <a href="https://tools.ietf.org/html/rfc1345">RFC 1345</a> character mnemonics by typing:</p>
 <pre class="code">C-x RET C-\ rfc1345 RET 
</pre>
 <p>Or <span class="code">C-u C-\ rfc1345 RET</span>.</p>
 <p>To type special characters, type <span class="code">&amp;</span> followed by a mnemonic. Emacs will show the possible characters in the echo area. For example, Greek letter λ (lambda) can be entered by typing:</p>
 <pre class="code">&amp;l* 
</pre>
 <p>You can use <span class="code">C-\</span> to toggle <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Select-Input-Method.html">input method</a>.</p>
 <p>Another <a href="https://www.emacswiki.org/emacs/InputMethods">input method</a> you can use to insert special characters is <a href="https://www.emacswiki.org/emacs/TeXInputMethod">TeX</a>. Select it by typing <span class="code">C-u C-\ TeX RET</span>. You can enter a special character by using a prefix such as <span class="code">\</span>. For example, to enter λ, type:</p>
 <pre class="code">\lambda 
</pre>
 <p>To view characters and sequences provided by an input method, run the <span class="code">describe-input-method</span> command:</p>
 <pre class="code">C-h I TeX 
</pre>
 <a name="t53.2.3"></a><h2 id="_language_unicode_entry.pod6-Unix_shell">53.2.3 Unix shell</h2>
 <p>At the bash shell, one enters unicode characters by using entering <span class="code">Ctrl-Shift-u</span>, then the unicode code point value followed by enter. For instance, to enter the character for the element-of operator (∈) use the following key combination (whitespace has been added for clarity):</p>
 <pre class="code">Ctrl-Shift-u 2208 Enter 
</pre>
 <p>This also the method one would use to enter unicode characters into the <span class="code">perl6</span> REPL, if one has started the REPL inside a Unix shell.</p>
 <a name="t53.2.4"></a><h2 id="_language_unicode_entry.pod6-Screen">53.2.4 Screen</h2>
 <p><a href="https://www.gnu.org/software/screen/">GNU Screen</a> does sport a <b>digraph</b> command but with a rather limited digraph table. Thanks to <b>bindkey</b> and <b>exec</b> an external program can be used to insert characters to the current screen window.</p>
 <pre class="code">bindkey ^K exec .! digraphs 
</pre>
 <p>This will bind control-k to the shell command digraphs. You can use <a href="https://github.com/gfldex/digraphs">digraphs</a> if you prefer a Perl 6 friendly digraph table over <a href="https://tools.ietf.org/html/rfc1345">RFC 1345</a> or change it to your needs.</p>
 <a name="t53.3"></a><h1 id="_language_unicode_entry.pod6-Unicode_characters_useful_in_Perl_6">53.3 Unicode characters useful in Perl 6</h1>
 <a name="t53.3.1"></a><h2 id="_language_unicode_entry.pod6-smart_quotes">53.3.1 <a href="https://en.wikipedia.org/wiki/Quotation_mark#Curved_quotes_and_Unicode">smart quotes</a></h2>
 <p>These characters are used in different languages as quotation marks. In Perl 6 they are used as <a href="#_language_quoting.pod6">quoting characters</a></p>
 <p>Constructs such as these are now possible:</p>
 <pre class="code">say ｢What?!｣;
say ”Whoa!“;
say „This works too!”;
say „There are just too many ways“;
say “here: “no problem” at all!”; # You can nest them!</pre>
 <p>This is very useful in shell:</p>
 <pre class="code">perl6 -e 'say ‘hello world’' 
</pre>
 <p>since you can just copy and paste some piece of code and not worry about quotes.</p>
 <a name="t53.3.2"></a><h2 id="_language_unicode_entry.pod6-Guillemets">53.3.2 <a href="https://en.wikipedia.org/wiki/Guillemet">Guillemets</a></h2>
 <p>These characters are used in French and German as quotation marks. In Perl 6 they are used as <a href="#_language_quoting.pod6-Word_quoting_with_interpolation_and_quote_protection:_qqww">interpolation word quotes</a>, <a href="#_language_operators.pod6-Hyper_Operators">hyper operators</a> and as bracket alternative in POD6.</p>
 <table>
<tr><th>symbol</th> <th>unicode code point</th> <th>ascii equivalent</th></tr>
<tr><td>«</td> <td>U+00AB</td> <td>&lt;&lt;</td></tr>
 <tr><td>»</td> <td>U+00BB</td> <td>&gt;&gt;</td></tr>
</table> <p>Thus constructs such as these are now possible:</p>
 <pre class="code">say (1, 2) »+« (3, 4);     # OUTPUT: «(4 6)␤» - element-wise add
[1, 2, 3] »+=» 42;         # add 42 to each element of @array
say «moo»;                 # OUTPUT: «moo␤»

my $baa = &quot;foo bar&quot;;
say «$baa $baa ber».perl;  # OUTPUT: «(&quot;foo&quot;, &quot;bar&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;ber&quot;)␤»</pre>
 <a name="t53.3.3"></a><h2 id="_language_unicode_entry.pod6-Set/bag_operators">53.3.3 Set/bag operators</h2>
 <p>The <a href="#_language_setbagmix.pod6-Set%2FBag_Operators">set/bag operators</a> all have set-theory-related symbols, the unicode code points and their ascii equivalents are listed below. To compose such a character, it is merely necessary to enter the character composition chord (e.g. <span class="code">Ctrl-V u</span> in Vim; <span class="code">Ctrl-Shift-u</span> in Bash) then the unicode code point hexadecimal number.</p>
 <table>
<tr><th>operator</th> <th>unicode code point</th> <th>ascii equivalent</th></tr>
<tr><td>∈</td> <td>U+2208</td> <td>(elem)</td></tr>
 <tr><td>∉</td> <td>U+2209</td> <td>!(elem)</td></tr>
 <tr><td>∋</td> <td>U+220B</td> <td>(cont)</td></tr>
 <tr><td>∌</td> <td>U+220C</td> <td>!(cont)</td></tr>
 <tr><td>⊆</td> <td>U+2286</td> <td>(&lt;=)</td></tr>
 <tr><td>⊈</td> <td>U+2288</td> <td>!(&lt;=)</td></tr>
 <tr><td>⊂</td> <td>U+2282</td> <td>(&lt;)</td></tr>
 <tr><td>⊄</td> <td>U+2284</td> <td>!(&lt;)</td></tr>
 <tr><td>⊇</td> <td>U+2287</td> <td>(&gt;=)</td></tr>
 <tr><td>⊉</td> <td>U+2289</td> <td>!(&gt;=)</td></tr>
 <tr><td>⊃</td> <td>U+2283</td> <td>(&gt;)</td></tr>
 <tr><td>⊅</td> <td>U+2285</td> <td>!(&gt;)</td></tr>
 <tr><td>≼</td> <td>U+227C</td> <td>(&lt;+)</td></tr>
 <tr><td>≽</td> <td>U+227D</td> <td>(&gt;+)</td></tr>
 <tr><td>∪</td> <td>U+222A</td> <td>(|)</td></tr>
 <tr><td>∩</td> <td>U+2229</td> <td>(&amp;)</td></tr>
 <tr><td>∖</td> <td>U+2216</td> <td>(-)</td></tr>
 <tr><td>⊖</td> <td>U+2296</td> <td>(^)</td></tr>
 <tr><td>⊍</td> <td>U+228D</td> <td>(.)</td></tr>
 <tr><td>⊎</td> <td>U+228E</td> <td>(+)</td></tr>
</table> <a name="t53.3.4"></a><h2 id="_language_unicode_entry.pod6-Mathematical_symbols">53.3.4 Mathematical symbols</h2>
 <p>Wikipedia contains a full list of <a href="https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode">mathematical operators and symbols in unicode</a> as well as links to their mathematical meaning.</p>
 <a name="t53.3.5"></a><h2 id="_language_unicode_entry.pod6-Greek_characters">53.3.5 Greek characters</h2>
 <p>Greek characters may be used as variable names. For a list of Greek and Coptic characters and their unicode code points see the <a href="https://en.wikipedia.org/wiki/Greek_alphabet#Greek_in_Unicode">Greek in Unicode Wikipedia article</a>.</p>
 <p>For example, to assign the value 3 to π, enter the following in Vim (whitespace added to the compose sequences for clarity):</p>
 <pre class="code">my $ <b>Ctrl-V u 03C0</b>  = 3;  # same as: my $π = 3; 
 say $ <b>Ctrl-V u 03C0</b> ;     # 3    same as: say $π; 
</pre>
 <a name="t53.3.6"></a><h2 id="_language_unicode_entry.pod6-Superscripts_and_subscripts">53.3.6 Superscripts and subscripts</h2>
 <p>A limited set of <a href="https://en.wikipedia.org/wiki/Superscripts_and_Subscripts">superscripts and subscripts</a> can be created directly in unicode by using the <span class="code">U+207x</span>, <span class="code">U+208x</span> and (less often) the <span class="code">U+209x</span> ranges. However, to produce a value squared (to the power of 2) or cubed (to the power of 3), one needs to use <span class="code">U+00B2</span> and <span class="code">U+00B3</span> since these are defined in the <a href="https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)">Latin1 supplement Unicode block</a>.</p>
 <p>Thus, to write the <a href="https://en.wikipedia.org/wiki/Taylor_series">Taylor series</a> expansion around zero of the function <span class="code">exp(x)</span> one would input into e.g. vim the following:</p>
 <pre class="code">exp(x) = 1 + x + x <b>Ctrl-V u 00B2</b> /2! + x <b>Ctrl-V u 00B3</b> /3! 
 + ... + x <b>Ctrl-V u 207F</b> /n! 
 # which would appear as 
 exp(x) = 1 + x + x²/2! + x³/3! + ... + xⁿ/n! 
</pre>
 <p>Or to specify the elements in a list from <span class="code">1</span> up to <span class="code">k</span>:</p>
 <pre class="code">A <b>Ctrl-V u 2081</b> , A <b>Ctrl-V u 2082</b> , ..., A <b>Ctrl-V u 2096</b> 
 # which would appear as 
 A₁, A₂, ..., Aₖ 
</pre>
</div>
===WARNING: One or more tables evidence bad practice.
==          Set environment variable 'RAKUDO_POD_TABLE_DEBUG' for more details.
<!-- /language/variables.pod6 --><div class="pod-body"><a id="_language_variables.pod6"></a><a name="t54"><h1 class="title">54 Variables</h1></a> <p class="subtitle">Variables in Perl 6</p> <p>Variable names can start with or without a special character called a <i>sigil</i>, followed optionally by a second special character named <i>twigil</i> and then an <a href="#_language_syntax.pod6-Identifiers">identifier</a>. Variables are symbolic names for values or <a href="#_language_containers.pod6">containers</a>. Variable declarations or assignment of values may create a container on the fly.</p>
 <a name="t54.1"></a><h1 id="_language_variables.pod6-Sigils_!%_(sigil)">54.1 Sigils <a name="769"></a><a name="770"></a><a name="771"></a>!% (sigil)<a name="772"></a></h1>
 <p>There are four sigils. The scalar-sigil <span class="code">$</span>, the positional-sigil <span class="code">@</span>, the associative-sigil <span class="code">%</span> and the callable-sigil <span class="code">&amp;</span>.</p>
 <p>Sigils provide a link between syntax, the type system and <a href="#_language_containers.pod6">containers</a>. They provide a shortcut for the most common type constraints when declaring variables and serve as markers for <a href="#_language_quoting.pod6-Interpolation:_qq">string interpolation</a>. The <a href="#_language_containers.pod6-Flattening,_items_and_containers">positional-sigil</a> and the <a href="#_language_containers.pod6-Flattening,_items_and_containers">associative-sigil</a> provide type constraint that enforce a base type <a href="#_language_subscripts.pod6-Custom_types">subscripts</a> require to know what methods to dispatch to. The <a href="#_language_containers.pod6-Callable_containers">callable-sigil</a> does the same for function calls. The latter also tells the compiler where parentheses for calls can be omitted. The positional and associative-sigil also simplify assignment by flattening by default.</p>
 <table>
<tr><th>Sigil</th> <th>Type constraint</th> <th>Default type</th> <th>Assignment</th> <th>Examples</th></tr>
<tr><td>$</td> <td>Mu (no type constraint)</td> <td>Any</td> <td>item</td> <td>Int, Str, Array, Hash</td></tr>
 <tr><td>@</td> <td>Positional</td> <td>Array</td> <td>list</td> <td>List, Array, Range, Buf</td></tr>
 <tr><td>%</td> <td>Associative</td> <td>Hash</td> <td>list</td> <td>Hash, Map, Pair</td></tr>
 <tr><td>&amp;</td> <td>Callable</td> <td>Callable</td> <td>item</td> <td>Sub, Method, Block, Routine</td></tr>
</table> <p>Examples:</p>
 <pre class="code">my $square = 9 ** 2;
my @array  = 1, 2, 3;   # Array variable with three elements
my %hash   = London =&gt; 'UK', Berlin =&gt; 'Germany';</pre>
 <p><span class="indexed"><a id="773" name="is (container type)"></a></span> The container type can be set with <span class="code">is</span> in a declaration.</p>
 <pre class="code">class FailHash is Hash {
    has Bool $!final = False;
    multi method AT-KEY ( ::?CLASS:D: Str:D \key ){
        fail X::OutOfRange.new(:what(&quot;Hash key&quot;), :got(key), :range(self.keys)) if $!final &amp;&amp; !self.EXISTS-KEY(key);
        callsame
    }

    method finalize() {
        $!final = True
    }
}

my %h is FailHash = oranges =&gt; &quot;round&quot;, bananas =&gt; &quot;bendy&quot;;
say %h&lt;oranges&gt;;
# OUTPUT: «round␤»
%h.finalize;
say %h&lt;cherry&gt;;
CATCH { default { put .^name, ': ', .Str } }
# OUTPUT: «X::OutOfRange: Hash key out of range. Is: cherry, should be in (oranges bananas)»</pre>
 <p>For information on variables without sigils, see <a href="#53-Sigilless variables">sigilless variables</a>.</p>
 <a name="t54.1.1"></a><h2 id="_language_variables.pod6-Item_and_List_Assignment">54.1.1 Item and List Assignment</h2>
 <p>There are two types of variable assignment, <i>item assignment</i> and <i>list assignment</i>. Both use the equal sign <span class="code">=</span> as operator. The syntax of the left-hand side determines whether an <span class="code">=</span> means item or list assignment.</p>
 <p>Item assignment places the value from the right-hand side into the variable (container) on the left.</p>
 <p>List assignment leaves the choice of what to do to the variable on the left.</p>
 <p>For example, <a href="#_type_Array.pod6">Array</a> variables (<span class="code">@</span> sigil) empty themselves on list assignment and then put all the values from the right-hand side into themselves.</p>
 <p>The type of assignment (item or list) is decided by the first context seen in the current expression or declarator:</p>
 <pre class="code">my $foo = 5;            # item assignment
say $foo.perl;          # OUTPUT: «5␤»

my @bar = 7, 9;         # list assignment
say @bar.^name;         # OUTPUT: «Array␤»
say @bar.perl;          # OUTPUT: «[7, 9]␤»

(my $baz) = 11, 13;     # list assignment
say $baz.^name;         # OUTPUT: «List␤»
say $baz.perl;          # OUTPUT: «$(11, 13)␤»</pre>
 <p>Thus, the behavior of an assignment contained within a list assignment depends on the expression or declarator that contains it.</p>
 <p>For instance, if the internal assignment is a declarator, item assignment is used, which has tighter precedence than both the comma and the list assignment:</p>
 <pre class="code">my @array;
@array = my $num = 42, &quot;str&quot;;   # item assignment: uses declarator
say @array.perl;                # OUTPUT: «[42, &quot;str&quot;]␤» (an Array)
say $num.perl;                  # OUTPUT: «42␤» (a Num)</pre>
 <p>Similarly, if the internal assignment is an expression that is being used as an initializer for a declarator, the context of the internal expression determines the assignment type:</p>
 <pre class="code">my $num;
my @array = $num = 42, &quot;str&quot;;    # item assignment: uses expression
say @array.perl;                 # OUTPUT: «[42, &quot;str&quot;]␤» (an Array)
say $num.perl;                   # OUTPUT: «42␤» (a Num)

my ( @foo, $bar );
@foo = ($bar) = 42, &quot;str&quot;;       # list assignment: uses parentheses
say @foo.perl;                   # OUTPUT: «[(42, &quot;str&quot;),]␤» (an Array)
say $bar.perl;                   # OUTPUT: «$(42, &quot;str&quot;)␤» (a List)#</pre>
 <p>However, if the internal assignment is neither a declarator nor an expression, but is part of a larger expression, the context of the larger expression determines the assignment type:</p>
 <pre class="code">my ( @array, $num );
@array = $num = 42, &quot;str&quot;;    # list assignment
say @array.perl;              # OUTPUT: «[42, &quot;str&quot;]␤»
say $num.perl;                # OUTPUT: «42␤»</pre>
 <p>The assignment expression is parsed as <span class="code">@array = (($num = 42), &quot;str&quot;)</span>, because item assignment has tighter precedence than the comma.</p>
 <p>See <a href="#_language_operators.pod6">operators</a> for more details on precedence.</p>
 <a name="t54.1.2"></a><h2 id="_language_variables.pod6-Sigilless_variables">54.1.2 Sigilless variables <a name="774"></a></h2>
 <p>Using the <span class="code">\</span> prefix, it's possible to create variables that do not have a sigil:</p>
 <pre class="code">my \degrees = pi / 180;
my \θ       = 15 * degrees;</pre>
 <p>Note that sigilless variable do not have associated <a href="#_language_containers.pod6">containers</a>. This means <span class="code">degrees</span> and <span class="code">θ</span>, above, actually directly represent <span class="code">Num</span>s. To illustrate, try assigning to one after you've defined it:</p>
 <pre class="code">θ = 3; # Dies with the error &quot;Cannot modify an immutable Num&quot; 
</pre>
 <p>Sigilless variables do not enforce context, so they can be used to pass something on as-is:</p>
 <pre class="code">sub logged(&amp;f, |args) {
    say('Calling ' ~ &amp;f.name ~ ' with arguments ' ~ args.perl);
    my \result = f(|args);
    #  ^^^^^^^ not enforcing any context here
    say(&amp;f.name ~ ' returned ' ~ result.perl);
    return |result;
}</pre>
 <p>Sigilless variables can also be used for binding. See <a href="#_language_containers.pod6-Binding">Binding</a> for more information.</p>
 <a name="t54.2"></a><h1 id="_language_variables.pod6-Twigils">54.2 Twigils <a name="775"></a></h1>
 <p>Twigils influence the scoping of a variable; however, they have no influence over whether the primary sigil interpolates. That is, if <span class="code">$a</span> interpolates, so do <span class="code">$^a</span>, <span class="code">$*a</span>, <span class="code">$=a</span>, <span class="code">$?a</span>, <span class="code">$.a</span>, etc. It only depends on the <span class="code">$</span>.</p>
 <table>
<tr><th>Twigil</th> <th>Scope</th></tr>
<tr><td>none</td> <td>Based only on declarator</td></tr>
 <tr><td>*</td> <td>Dynamic</td></tr>
 <tr><td>?</td> <td>Compile-time variable</td></tr>
 <tr><td>!</td> <td>Attribute (class member)</td></tr>
 <tr><td>.</td> <td>Method (not really a variable)</td></tr>
 <tr><td>&lt;</td> <td>Index into match object (not really a variable)</td></tr>
 <tr><td>^</td> <td>Self-declared formal positional parameter</td></tr>
 <tr><td>:</td> <td>Self-declared formal named parameter</td></tr>
 <tr><td>=</td> <td>Pod variables</td></tr>
 <tr><td>~</td> <td>The sublanguage seen by the parser at this lexical spot</td></tr>
</table> <a name="t54.2.1"></a><h2 id="_language_variables.pod6-The_*_Twigil">54.2.1 The <span class="code">*</span> Twigil <a name="776"></a></h2>
 <p>This twigil is used for dynamic variables which are looked up through the caller's, not through the outer, scope. Look at the example below.</p>
 <p><i>Note:</i> So far, if you use rakudo perl6, the example below cannot run correctly in the REPL. Please test it by copy-pasting it into a file, then run the file.</p>
 <pre class="code">my $lexical   = 1; 
 my $*dynamic1 = 10; 
 my $*dynamic2 = 100; 
 
 sub say-all() { 
     say &quot;$lexical, $*dynamic1, $*dynamic2&quot;; 
 } 
 
 say-all();    # OUTPUT: 1, 10, 100 
 
 { 
     my $lexical   = 2; 
     my $*dynamic1 = 11; 
     $*dynamic2    = 101; 
 
     say-all(); # OUTPUT: 1, 11, 101 
 } 
 
 say-all();  # OUTPUT: 1, 10, 101 
</pre>
 <p>The first time <span class="code">&amp;say-all</span> is called, it prints &quot;<span class="code">1, 10, 100</span>&quot; just as one would expect. The second time though, it prints &quot;<span class="code">1, 11, 101</span>&quot;. This is because <span class="code">$lexical</span> isn't looked up in the caller's scope but in the scope <span class="code">&amp;say-all</span> was defined in. The two dynamic variables are looked up in the caller's scope and therefore have the values <span class="code">11</span> and <span class="code">101</span>. The third time <span class="code">&amp;say-all</span> is called <span class="code">$*dynamic1</span> isn't <span class="code">11</span> anymore, but <span class="code">$*dynamic2</span> is still <span class="code">101</span>. This stems from the fact that we declared a new dynamic variable <span class="code">$*dynamic1</span> in the block and did not assign to the old variable as we did with <span class="code">$*dynamic2</span>.</p>
 <p>The dynamic variables differ from other variable types in that referring to an undeclared dynamic variable is not a compile time error but a runtime <a href="#_type_Failure.pod6">failure</a>, so a dynamic variable can be used undeclared as long as it's checked for definedness or used in a boolean context before using it for anything else:</p>
 <pre class="code">sub foo() { 
     $*FOO // 'foo'; 
 } 
 
 say foo; # OUTPUT: «foo␤» 
 
 my $*FOO = 'bar'; 
 
 say foo; # OUTPUT: «bar␤» 
</pre>
 <p>Dynamic variables can have lexical scope when declared with <span class="code">my</span> or package scope when declared with <span class="code">our</span>. Dynamic resolution and resolution through symbol tables introduced with <span class="code">our</span> are two orthogonal issues.</p>
 <a name="t54.2.2"></a><h2 id="_language_variables.pod6-The_?_Twigil">54.2.2 The <span class="code">?</span> Twigil <a name="777"></a></h2>
 <p>Compile-time variables may be addressed via the <span class="code">?</span> twigil. They are known to the compiler and may not be modified after being compiled in. A popular example for this is:</p>
 <pre class="code">say &quot;$?FILE: $?LINE&quot;; # OUTPUT: &quot;hello.pl: 23&quot;
                      # if this is the line 23 of a
                      # file named &quot;hello.pl&quot;</pre>
 <p>For a list of these special variables, see <a href="#_language_variables.pod6-Compile-time_variables">compile-time variables</a>.</p>
 <a name="t54.2.3"></a><h2 id="_language_variables.pod6-The_!_Twigil">54.2.3 The <span class="code">!</span> Twigil <a name="778"></a></h2>
 <p><a href="#_language_objects.pod6-Attributes">Attributes</a> are variables that exist per instance of a class. They may be directly accessed from within the class via <span class="code">!</span>:</p>
 <pre class="code">my class Point {
    has $.x;
    has $.y;

    method Str() {
        &quot;($!x, $!y)&quot;
    }
}</pre>
 <p>Note how the attributes are declared as <span class="code">$.x</span> and <span class="code">$.y</span> but are still accessed via <span class="code">$!x</span> and <span class="code">$!y</span>. This is because in Perl 6 all attributes are private and can be directly accessed within the class by using <span class="code">$!attribute-name</span>. Perl 6 may automatically generate accessor methods for you though. For more details on objects, classes and their attributes see <a href="#_language_objects.pod6">object orientation</a>.</p>
 <a name="t54.2.4"></a><h2 id="_language_variables.pod6-The_._Twigil">54.2.4 The <span class="code">.</span> Twigil <a name="779"></a></h2>
 <p>The <span class="code">.</span> twigil isn't really for variables at all. In fact, something along the lines of</p>
 <pre class="code">my class Point {
    has $.x;
    has $.y;

    method Str() {
        &quot;($.x, $.y)&quot; # note that we use the . instead of ! this time
    }
}</pre>
 <p>just calls the methods <span class="code">x</span> and <span class="code">y</span> on <span class="code">self</span>, which are automatically generated for you because you used the <span class="code">.</span> twigil when the attributes were declared. Note, however, that subclasses may override those methods. If you don't want this to happen, use <span class="code">$!x</span> and <span class="code">$!y</span> instead.</p>
 <p>The fact that the <span class="code">.</span> twigil does a method call implies that the following is also possible:</p>
 <pre class="code">class SaySomething {
    method a() { say &quot;a&quot;; }
    method b() { $.a; }
}

SaySomething.b; # OUTPUT: «a␤»</pre>
 <p>For more details on objects, classes and their attributes and methods see <a href="#_language_objects.pod6">object orientation</a>.</p>
 <a name="t54.2.5"></a><h2 id="_language_variables.pod6-The_^_Twigil">54.2.5 The <span class="code">^</span> Twigil <a name="780"></a></h2>
 <p>The <span class="code">^</span> twigil declares a formal positional parameter to blocks or subroutines. Variables of the form <span class="code">$^variable</span> are a type of placeholder variable. They may be used in bare blocks to declare formal parameters to that block. So the block in the code</p>
 <pre class="code">my @powers-of-three = 1,3,9…100;
say reduce { $^b - $^a }, 0, |@powers-of-three;
# OUTPUT: «61␤»</pre>
 <p>has two formal parameters, namely <span class="code">$a</span> and <span class="code">$b</span>. Note that even though <span class="code">$^b</span> appears before <span class="code">$^a</span> in the code, <span class="code">$^a</span> is still the first formal parameter to that block. This is because the placeholder variables are sorted in Unicode order. If you have self-declared a parameter using <span class="code">$^a</span> once, you may refer to it using only <span class="code">$a</span> thereafter.</p>
 <p>Although it is possible to use nearly any valid identifier as a placeholder variable, it is recommended to use short names or ones that can be trivially understood in the correct order, to avoid surprise on behalf of the reader.</p>
 <p>Normal blocks and subroutines may also make use of placeholder variables but only if they do not have an explicit parameter list.</p>
 <pre class="code">sub say-it    { say $^a; } # valid 
 sub say-it()  { say $^a; } # invalid 
               { say $^a; } # valid 
 -&gt; $x, $y, $x { say $^a; } # invalid 
</pre>
 <p>Placeholder variables cannot have type constraints or a variable name with a single upper-case letter (this is disallowed to enable catching some Perl5-isms).</p>
 <a name="t54.2.6"></a><h2 id="_language_variables.pod6-The_:_Twigil">54.2.6 The <span class="code">:</span> Twigil <a name="781"></a></h2>
 <p>The <span class="code">:</span> twigil declares a formal named parameter to a block or subroutine. Variables declared using this form are a type of placeholder variable too. Therefore the same things that apply to variables declared using the <span class="code">^</span> twigil also apply here (with the exception that they are not positional and therefore not ordered using Unicode order, of course). So this:</p>
 <pre class="code">say { $:add ?? $^a + $^b !! $^a - $^b }( 4, 5 ) :!add
# OUTPUT: «-1␤»</pre>
 <p>See <a href="^">^</a> for more details about placeholder variables.</p>
 <a name="t54.2.7"></a><h2 id="_language_variables.pod6-The_=_Twigil">54.2.7 The <span class="code">=</span> Twigil <a name="782"></a></h2>
 <p>The <span class="code">=</span> twigil is used to access Pod variables. Every Pod block in the current file can be accessed via a Pod object, such as <span class="code">$=data</span>, <span class="code">$=SYNOPSIS</span> or <span class="code">=UserBlock</span>. That is: a variable with the same name of the desired block and a <span class="code">=</span> twigil.</p>
 <pre class="code">  =begin code 
   =begin Foo 
   ... 
   =end Foo 
 
   #after that, $=Foo gives you all Foo-Pod-blocks 
   =end code 
</pre>
 <p>You may access the Pod tree which contains all Pod structures as a hierarchical data structure through <span class="code">$=pod</span>.</p>
 <p>Note that all those <span class="code">$=someBlockName</span> support the <span class="code">Positional</span> and the <span class="code">Associative</span> roles.</p>
 <a name="t54.2.8"></a><h2 id="_language_variables.pod6-The_~_Twigil">54.2.8 The <span class="code">~</span> Twigil <a name="783"></a></h2>
 <p>The <span class="code">~</span> twigil is for referring to sublanguages (called slangs). The following are useful:</p>
 <p><span class="indexed"><a id="784" name="$~MAIN"></a></span><span class="indexed"><a id="785" name="$~Quote"></a></span><span class="indexed"><a id="786" name="$~Quasi"></a></span><span class="indexed"><a id="787" name="$~Regex"></a></span><span class="indexed"><a id="788" name="$~Trans"></a></span><span class="indexed"><a id="789" name="$~P5Regex"></a></span></p>
 <table>
<tr><td>$~MAIN</td> <td>the current main language (e.g. Perl statements)</td></tr>
 <tr><td>$~Quote</td> <td>the current root of quoting language</td></tr>
 <tr><td>$~Quasi</td> <td>the current root of quasiquoting language</td></tr>
 <tr><td>$~Regex</td> <td>the current root of regex language</td></tr>
 <tr><td>$~Trans</td> <td>the current root of transliteration language</td></tr>
 <tr><td>$~P5Regex</td> <td>the current root of the Perl 5 regex language</td></tr>
</table> <p>You <span class="code">augment</span> these languages in your current lexical scope.</p>
 <pre class="code">use MONKEY-TYPING; 
 augment slang Regex {  # derive from $~Regex and then modify $~Regex 
     token backslash:std&lt;\Y&gt; { YY }; 
 } 
</pre>
 <a name="t54.3"></a><h1 id="_language_variables.pod6-Variable_Declarators_and_Scope">54.3 Variable Declarators and Scope</h1>
 <p>Most of the time it's enough to create a new variable using the <span class="code">my</span> keyword:</p>
 <pre class="code">my $amazing-variable = &quot;World&quot;;
say &quot;Hello $amazing-variable!&quot;; # OUTPUT: «Hello World!␤»</pre>
 <p>However, there are many declarators that change the details of scoping beyond what <a href="#53-Twigils">#Twigils</a> can do.</p>
 <table>
<tr><th>Declarator</th> <th>Effect</th></tr>
<tr><td>my</td> <td>Introduces lexically scoped names</td></tr>
 <tr><td>our</td> <td>Introduces package-scoped names</td></tr>
 <tr><td>has</td> <td>Introduces attribute names</td></tr>
 <tr><td>anon</td> <td>Introduces names that are private to the construct</td></tr>
 <tr><td>state</td> <td>Introduces lexically scoped but persistent names</td></tr>
 <tr><td>augment</td> <td>Adds definitions to an existing name</td></tr>
 <tr><td>supersede</td> <td>Replaces definitions of an existing name</td></tr>
</table> <p>There are also two prefixes that resemble declarators but act on predefined variables:</p>
 <table>
<tr><th>Prefix</th> <th>Effect</th></tr>
<tr><td>temp</td> <td>Restores a variable's value at the end of scope</td></tr>
 <tr><td>let</td> <td>Restores a variable's value at the end of scope if the block exits unsuccessfully</td></tr>
</table> <a name="t54.3.1"></a><h2 id="_language_variables.pod6-The_my_Declarator">54.3.1 The <span class="code">my</span> Declarator</h2>
 <p>Declaring a variable with <span class="code">my</span> gives it lexical scope. This means it only exists within the current block. For example:</p>
 <pre class="code">{ 
     my $foo = &quot;bar&quot;; 
     say $foo; # OUTPUT: «&quot;bar&quot;␤» 
 } 
 say $foo; # Exception! &quot;Variable '$foo' is not declared&quot; 
</pre>
 <p>This dies because <span class="code">$foo</span> is only defined as long as we are in the same scope.</p>
 <p>Additionally, lexical scoping means that variables can be temporarily redefined in a new scope:</p>
 <pre class="code">my $location = &quot;outside&quot;;

sub outer-location {
    # Not redefined:
    say $location;
}

outer-location; # OUTPUT: «outside␤»

sub in-building {
    my $location = &quot;inside&quot;;
    say $location;
}

in-building;    # OUTPUT: «inside␤»

outer-location; # OUTPUT: «outside␤»</pre>
 <p>If a variable has been redefined, any code that referenced the outer variable will continue to reference the outer variable. So here, <span class="code">&amp;outer-location</span> still prints the outer <span class="code">$location</span>:</p>
 <pre class="code">sub new-location { 
     my $location = &quot;nowhere&quot;; 
     outer-location; 
 } 
 
 new-location; # OUTPUT: «outside␤» 
</pre>
 <p>To make <span class="code">new-location()</span> print <span class="code">nowhere</span>, make <span class="code">$location</span> a dynamic variable using <a href="#53-The_*_Twigil">the * twigil</a>. This twigil makes the compiler look up the symbol in the calling scope instead of the outer scope after trying the local scope.</p>
 <p><span class="code">my</span> is the default scope for subroutines, so <span class="code">my sub x() {}</span> and <span class="code">sub x() {}</span> do exactly the same thing.</p>
 <a name="t54.3.2"></a><h2 id="_language_variables.pod6-The_our_Declarator">54.3.2 The <span class="code">our</span> Declarator</h2>
 <p><span class="code">our</span> variables work just like <span class="code">my</span> variables, except that they also introduce an alias into the symbol table.</p>
 <pre class="code">module M {
    our $Var;
    # $Var available here
}

# Available as $M::Var here.</pre>
 <a name="t54.3.3"></a><h2 id="_language_variables.pod6-Declaring_a_list_of_variables">54.3.3 Declaring a list of variables</h2>
 <p>The declarators <span class="code">my</span> and <span class="code">our</span> take a list of variables in parentheses as argument to declare more than one variable at a time.</p>
 <pre class="code">my (@a, $s, %h);</pre>
 <p>This can be used in conjunction with <span class="indexed"><a id="790" name="">destructuring assignment</a></span>. Any assignment to such a list will take the number of elements provided in the left list and assign corresponding values from the right list to them. Any missing elements are left will result in undefined values according to the type of the variables.</p>
 <pre class="code">my (Str $a, Str $b, Int $c) = &lt;a b&gt;;
say [$a, $b, $c].perl;
# OUTPUT: «[&quot;a&quot;, &quot;b&quot;, Int]␤»</pre>
 <p>To destructure a list into a single value, create a list literal with one element by using <span class="code">($var,)</span>. When used with a variable declarator, providing parentheses around a single variable is sufficient.</p>
 <pre class="code">sub f { 1,2,3 };
my ($a) = f;
say $a.perl;
# OUTPUT: «1␤»</pre>
 <p>To skip elements in the list use the anonymous state variable <span class="code">$</span>.</p>
 <pre class="code">my ($,$a,$,%h) = ('a', 'b', [1,2,3], {:1th});
say [$a, %h].perl;
# OUTPUT: «[&quot;b&quot;, {:th(1)}]␤»</pre>
 <a name="t54.3.4"></a><h2 id="_language_variables.pod6-The_has_Declarator">54.3.4 The <span class="code">has</span> Declarator</h2>
 <p><span class="code">has</span> scopes attributes to instances of a class or role, and methods to classes or roles. <span class="code">has</span> is implied for methods, so <span class="code">has method x() {}</span> and <span class="code">method x() {}</span> do the same thing.</p>
 <p>See <a href="#_language_objects.pod6">object orientation</a> for more documentation and some examples.</p>
 <a name="t54.3.5"></a><h2 id="_language_variables.pod6-The_anon_Declarator">54.3.5 The <span class="code">anon</span> Declarator</h2>
 <p>The <span class="code">anon</span> declarator prevents a symbol from getting installed in the lexical scope, the method table and everywhere else.</p>
 <p>For example, you can use it to declare subroutines which know their own name, but still aren't installed in a scope:</p>
 <pre class="code">my %operations =
    half   =&gt; anon sub half($x) { $x / 2 },
    square =&gt; anon sub square($x) { $x * $x },
    ;
say %operations&lt;square&gt;.name;       # square
say %operations&lt;square&gt;(8);         # 64</pre>
 <a name="t54.3.6"></a><h2 id="_language_variables.pod6-The_state_Declarator">54.3.6 The <span class="code">state</span> Declarator</h2>
 <p><span class="code">state</span> declares lexically scoped variables, just like <span class="code">my</span>. However, initialization happens exactly once the first time the initialization is encountered in the normal flow of execution. Thus, state variables will retain their value across multiple executions of the enclosing block or routine.</p>
 <p>Therefore, the subroutine</p>
 <pre class="code">sub a {
    state @x;
    state $l = 'A';
    @x.push($l++);
};

say a for 1..6;</pre>
 <p>will continue to increment <span class="code">$l</span> and append it to <span class="code">@x</span> each time it is called. So it will output:</p>
 <pre class="code">[A] 
 [A B] 
 [A B C] 
 [A B C D] 
 [A B C D E] 
 [A B C D E F] 
 
</pre>
 <p>This works per &quot;clone&quot; of the containing code object, as in this example:</p>
 <pre class="code">({ state $i = 1; $i++.say; } xx 3).map: {$_(), $_()}; # says 1 then 2 thrice</pre>
 <p>Note that this is <b>not</b> a thread-safe construct when the same clone of the same block is run by multiple threads. Also remember that methods only have one clone per class, not per object.</p>
 <p>As with <span class="code">my</span>, declaring multiple <span class="code">state</span> variables must be placed in parentheses and for declaring a single variable, parentheses may be omitted.</p>
 <p>Many operators come with implicit binding which can lead to actions at a distance.</p>
 <p>Use <span class="code">.clone</span> or coercion to create a new container that can be bound to.</p>
 <pre class="code">my @a;
my @a-cloned;
sub f() {
    state $i;
    $i++;
    @a\      .push: &quot;k$i&quot; =&gt; $i;
    @a-cloned.push: &quot;k$i&quot; =&gt; $i.clone;
};

f for 1..3;
say @a;        # OUTPUT: «[k1 =&gt; 3 k2 =&gt; 3 k3 =&gt; 3]␤»
say @a-cloned; # OUTPUT: «[k1 =&gt; 1 k2 =&gt; 2 k3 =&gt; 3]␤»</pre>
 <p>State variables are shared between all threads. The result can be unexpected.</p>
 <pre class="code">sub code(){ state $i = 0; say ++$i; $i };
await
    start { loop { last if code() &gt;= 5 } },
    start { loop { last if code() &gt;= 5 } };

# OUTPUT: «1␤2␤3␤4␤4␤3␤5␤»
# OUTPUT: «2␤1␤3␤4␤5␤»
# many other more or less odd variations can be produced</pre>
 <a name="t54.3.6.1"></a><h3 id="_language_variables.pod6-The_$_Variable">54.3.6.1 The <span class="code">$</span> Variable <a name="791"></a><a name="792"></a><a name="793"></a></h3>
 <p>In addition to explicitly declared named state variables, <span class="code">$</span> can be used as an anonymous state variable without an explicit <span class="code">state</span> declaration.</p>
 <pre class="code">say &quot;1-a 2-b 3-c&quot;.subst(:g, /\d/, {&lt;one two three&gt;[$++]});
# OUTPUT: «one-a two-b three-c␤»</pre>
 <p>Furthermore, state variables can be used outside of subroutines. You could, for example, use <span class="code">$</span> in a one-liner to number the lines in a file.</p>
 <pre class="code">perl6 -ne 'say ++$ ~ &quot; $_&quot;' example.txt 
</pre>
 <p>Each reference to <span class="code">$</span> within a lexical scope is in effect a separate variable.</p>
 <pre class="code">perl6 -e '{ say ++$; say $++  } for ^5' 
 # OUTPUT: «1␤0␤2␤1␤3␤2␤4␤3␤5␤4␤» 
</pre>
 <p>If you need to use the value of $ more than once in a scope, it should be copied to a new variable.</p>
 <pre class="code">sub foo() {
    given ++$ {
        when 1 {
            say &quot;one&quot;;
        }
        when 2 {
            say &quot;two&quot;;
        }
        when 3 {
            say &quot;three&quot;;
        }
        default {
            say &quot;many&quot;;
        }
    }
}

foo() for ^3;
# OUTPUT: «one␤two␤three␤»</pre>
 <p>Note that the implicit state declarator is only applied to the variable itself, not the expression that may contain an initializer. If the initializer has to be called exactly once, the <span class="code">state</span> declarator has to be provided.</p>
 <pre class="code">subset DynInt where $ = ::('Int'); # the initializer will be called for each type check 
 subset DynInt where state $ = ::('Int'); # the initializer is called once, this is a proper cache 
</pre>
 <a name="t54.3.6.2"></a><h3 id="_language_variables.pod6-The_@_Variable">54.3.6.2 The <span class="code">@</span> Variable</h3>
 <p>Similar to the <span class="code">$</span> variable, there is also a <a href="#_type_Positional.pod6">Positional</a> anonymous state variable <span class="code">@</span>.</p>
 <pre class="code">sub foo($x) {
    say (@).push($x);
}

foo($_) for ^3;

# OUTPUT: «[0]
#          [0 1]
#          [0 1 2]␤»</pre>
 <p>The <span class="code">@</span> here is parenthesized in order to disambiguate the expression from a class member variable named <span class="code">@.push</span>. Indexed access doesn't require this disambiguation but you will need to copy the value in order to do anything useful with it.</p>
 <pre class="code">sub foo($x) {
    my $v = @;
    $v[$x] = $x;
    say $v;
}

foo($_) for ^3;

# OUTPUT: «[0]
#          [0 1]
#          [0 1 2]␤»</pre>
 <p>As with <span class="code">$</span>, each mention of <span class="code">@</span> in a scope introduces a new anonymous array.</p>
 <a name="t54.3.6.3"></a><h3 id="_language_variables.pod6-The_%_Variable">54.3.6.3 The <span class="code">%</span> Variable</h3>
 <p>In addition, there's an <a href="#_type_Associative.pod6">Associative</a> anonymous state variable <span class="code">%</span>.</p>
 <pre class="code">sub foo($x) {
    say (%).push($x =&gt; $x);
}

foo($_) for ^3;

# OUTPUT: «{0 =&gt; 0}
#          {0 =&gt; 0, 1 =&gt; 1}
#          {0 =&gt; 0, 1 =&gt; 1, 2 =&gt; 2}␤»</pre>
 <p>The same caveat about disambiguation applies. As you may expect, indexed access is also possible (with copying to make it useful).</p>
 <pre class="code">sub foo($x) {
    my $v = %;
    $v{$x} = $x;
    say $v;
}

foo($_) for ^3;

# OUTPUT: «{0 =&gt; 0}
#          {0 =&gt; 0, 1 =&gt; 1}
#          {0 =&gt; 0, 1 =&gt; 1, 2 =&gt; 2}␤»</pre>
 <p>As with the other anonymous state variables, each mention of <span class="code">%</span> within a given scope will effectively introduce a separate variable.</p>
 <a name="t54.3.7"></a><h2 id="_language_variables.pod6-The_augment_Declarator">54.3.7 The <span class="code">augment</span> Declarator</h2>
 <p>With <span class="code">augment</span>, you can add attributes and methods to existing classes and grammars, provided you activated the <span class="code">MONKEY-TYPING</span> pragma first.</p>
 <p>Since classes are usually <span class="code">our</span> scoped, and thus global, this means modifying global state, which is strongly discouraged. For almost all situations, there are better solutions.</p>
 <pre class="code"># don't do this
use MONKEY-TYPING;
augment class Int {
    method is-answer { self == 42 }
}
say 42.is-answer;       # OUTPUT: «True␤»</pre>
 <p>(In this case, the better solution would be to use a <a href="#_language_functions.pod6">function</a>).</p>
 <a name="t54.3.8"></a><h2 id="_language_variables.pod6-The_temp_Prefix">54.3.8 The <span class="code">temp</span> Prefix</h2>
 <p>Like <span class="code">my</span>, <span class="code">temp</span> restores the old value of a variable at the end of its scope. However, <span class="code">temp</span> does not create a new variable.</p>
 <pre class="code">my $in = 0; # temp will &quot;entangle&quot; the global variable with the call stack
            # that keeps the calls at the bottom in order.
sub f(*@c) {
    (temp $in)++;
     &quot;&lt;f&gt;\n&quot;
     ~ @c».indent($in).join(&quot;\n&quot;)
     ~ (+@c ?? &quot;\n&quot; !! &quot;&quot;)
     ~ '&lt;/f&gt;'
};
sub g(*@c) {
    (temp $in)++;
    &quot;&lt;g&gt;\n&quot;
    ~ @c».indent($in).join(&quot;\n&quot;)
    ~ (+@c ?? &quot;\n&quot; !! &quot;&quot;)
    ~ &quot;&lt;/g&gt;&quot;
};
print g(g(f(g()), g(), f()));

# OUTPUT: «&lt;g&gt;
#           &lt;g&gt;
#            &lt;f&gt;
#             &lt;g&gt;
#             &lt;/g&gt;
#            &lt;/f&gt;
#            &lt;g&gt;
#            &lt;/g&gt;
#            &lt;f&gt;
#            &lt;/f&gt;
#           &lt;/g&gt;
#          &lt;/g&gt;␤»</pre>
 <a name="t54.3.9"></a><h2 id="_language_variables.pod6-The_let_Prefix">54.3.9 The <span class="code">let</span> Prefix</h2>
 <p>Restores the previous value if the block exits unsuccessfully. A successful exit means the block returned a defined value or a list.</p>
 <pre class="code">my $answer = 42;

{
    let $answer = 84;
    die if not Bool.pick;
    CATCH {
        default { say &quot;it's been reset :(&quot; }
    }
    say &quot;we made it 84 sticks!&quot;;
}

say $answer;</pre>
 <p>In the above case, if the <span class="code">Bool.pick</span> returns true, the answer will stay as 84 because the block returns a defined value (<span class="code">say</span> returns true). Otherwise the <span class="code">die</span> statement will cause the block to exit unsuccessfully, resetting the answer to 42.</p>
 this is duplicated in operators.pod
 <a name="t54.4"></a><h1 id="_language_variables.pod6-Type_Constraints_and_Initialization">54.4 Type Constraints and Initialization</h1>
 <p>Variables have a type constraint via the <a href="#_language_containers.pod6">container</a> they are bound to, which goes between the declarator and the variable name. The default type constraint is <a href="#_type_Mu.pod6">Mu</a>. You can also use the trait <a href="#_type_Variable.pod6-trait_of">of</a> to set a type constraint.</p>
 <pre class="code">my Int $x = 42;
$x = 'a string';
CATCH { default { put .^name, ': ', .Str } }
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $x; expected Int but got Str (&quot;a string&quot;)␤»</pre>
 <p>If a scalar variable has a type constraint but no initial value, it's initialized with the type object of the default value of the container it's bound to.</p>
 <pre class="code">my Int $x;
say $x.^name;       # OUTPUT: «Int␤»
say $x.defined;     # OUTPUT: «False␤»</pre>
 <p>Scalar variables without an explicit type constraint are typed as <a href="#_type_Mu.pod6">Mu</a> but default to the <a href="#_type_Any.pod6">Any</a> type object.</p>
 <p>Variables with the <span class="code">@</span> sigil are initialized with an empty <a href="#_type_Array.pod6">Array</a>; variables with the <span class="code">%</span> sigil are initialized with an empty <a href="#_type_Hash.pod6">Hash</a>.</p>
 <p>The default value of a variable can be set with the <span class="code">is default</span> trait, and re-applied by assigning <span class="code">Nil</span> to it:</p>
 <pre class="code">my Real $product is default(1);
say $product;                       # OUTPUT: «1␤»
$product *= 5;
say $product;                       # OUTPUT: «5␤»
$product = Nil;
say $product;                       # OUTPUT: «1␤»</pre>
 <a name="t54.4.1"></a><h2 id="_language_variables.pod6-Default_Defined_Variables_Pragma">54.4.1 Default Defined Variables Pragma</h2>
 <p>To force all variables to have a definedness constraint, use the pragma <span class="code">use variables :D</span>. The pragma is lexically scoped and can be switched off with <span class="code">use variables :_</span>.</p>
 <pre class="code">use variables :D; 
 my Int $i; 
 # OUTPUT: «===SORRY!=== Error while compiling &lt;tmp&gt;␤Variable definition of type Int:D (implicit :D by pragma) requires an initializer ... 
 my Int $i = 1; # that works 
 { use variables :_; my Int $i; } # switch it off in this block 
</pre>
 <p>Note that assigning <a href="#_type_Nil.pod6">Nil</a> will revert the variable to its default value. The default value of a defined constraint type is the type appended with <span class="code">:D</span> (e.g. <span class="code">Int:D</span>). That means a definedness constraint is no guarantee of definedness. This only applies to variable initializers, not to <a href="#_type_Signature.pod6">Signature</a>s. or subsequent assignments to a variable.</p>
 <a name="t54.5"></a><h1 id="_language_variables.pod6-Special_Variables">54.5 Special Variables</h1>
 <p>Perl 6 attempts to use long, descriptive names for special variables. There are only three special variables that are extra short.</p>
 <a name="t54.5.1"></a><h2 id="_language_variables.pod6-Pre-defined_lexical_variables">54.5.1 Pre-defined lexical variables</h2>
 <p>There are three special variables that are available in every block:</p>
 <table>
<tr><th>Variable</th> <th>Meaning</th></tr>
<tr><td>$_</td> <td>topic variable</td></tr>
 <tr><td>$/</td> <td>regex match</td></tr>
 <tr><td>$!</td> <td>exceptions</td></tr>
</table> <a name="t54.5.1.1"></a><h3 id="_language_variables.pod6-The_$__Variable">54.5.1.1 The <span class="code">$_</span> Variable</h3>
 <p><span class="code">$_</span> is the topic variable. It's the default parameter for blocks that do not have an explicit signature, so constructs like <span class="code">for @array { ... }</span> and <span class="code">given $var { ... }</span> bind to <span class="code">$_</span> by invoking the block.</p>
 <pre class="code">for &lt;a b c&gt; { say $_ }  # sets $_ to 'a', 'b' and 'c' in turn
say $_ for &lt;a b c&gt;;     # same, even though it's not a block
given 'a'   { say $_ }  # sets $_ to 'a'
say $_ given 'a';       # same, even though it's not a block</pre>
 <p><span class="code">CATCH</span> blocks set <span class="code">$_</span> to the exception that was caught. The <span class="code">~~</span> smart-match operator sets <span class="code">$_</span> on the right-hand side expression to the value of the left-hand side.</p>
 <p>Calling a method on <span class="code">$_</span> can be shortened by leaving off the variable name:</p>
 <pre class="code">.say;                   # same as $_.say</pre>
 <p><span class="code">m/regex/</span> and <span class="code">/regex/</span> regex matches and <span class="code">s/regex/subst/</span> substitutions work on <span class="code">$_</span>:</p>
 <pre class="code">say &quot;Looking for strings with non-alphabetic characters...&quot;;
for &lt;ab:c d$e fgh ij*&gt; {
    .say if m/&lt;-alpha&gt;/;
}

# OUTPUT: «Looking for strings with non-alphabetic characters...
#          ab:c
#          d$e
#          ij*␤»</pre>
 <a name="t54.5.1.2"></a><h3 id="_language_variables.pod6-The_$/_Variable">54.5.1.2 The <span class="code">$/</span> Variable</h3>
 <p><span class="code">$/</span> is the match variable. It stores the result of the last <a href="#_language_regexes.pod6">Regex</a> match and so usually contains objects of type <a href="#_type_Match.pod6">Match</a>.</p>
 <pre class="code">'abc 12' ~~ /\w+/;  # sets $/ to a Match object
say $/.Str;         # OUTPUT: «abc␤»</pre>
 <p>The <span class="code">Grammar.parse</span> method also sets the caller's <span class="code">$/</span> to the resulting <a href="#_type_Match.pod6">Match</a> object. For the following code:</p>
 <pre class="code">use XML::Grammar; # zef install XML 
 XML::Grammar.parse(&quot;&lt;p&gt;some text&lt;/p&gt;&quot;); 
 say $/; 
 
 # OUTPUT: «｢&lt;p&gt;some text&lt;/p&gt;｣ 
 #           root =&gt; ｢&lt;p&gt;some text&lt;/p&gt;｣ 
 #            name =&gt; ｢p｣ 
 #            child =&gt; ｢some text｣ 
 #             text =&gt; ｢some text｣ 
 #             textnode =&gt; ｢some text｣ 
 #           element =&gt; ｢&lt;p&gt;some text&lt;/p&gt;｣ 
 #            name =&gt; ｢p｣ 
 #            child =&gt; ｢some text｣ 
 #             text =&gt; ｢some text｣ 
 #             textnode =&gt; ｢some text｣␤» 
</pre>
 <a name="t54.5.1.2.1"></a><h4 id="_language_variables.pod6-Positional_Attributes">54.5.1.2.1 <a name="794"></a>Positional Attributes</h4>
 <p><span class="code">$/</span> can have positional attributes if the <a href="#_language_regexes.pod6">Regex</a> had capture-groups in it, which are just formed with parentheses.</p>
 <pre class="code">'abbbbbcdddddeffg' ~~ / a (b+) c (d+ef+) g /;
say $/[0]; # OUTPUT: «｢bbbbb｣␤»
say $/[1]; # OUTPUT: «｢dddddeff｣␤»</pre>
 <p>These can also be accessed by the shortcuts <span class="code">$0</span>, <span class="code">$1</span>, <span class="code">$2</span>, etc.</p>
 <pre class="code">say $0; # OUTPUT: «｢bbbbb｣␤»
say $1; # OUTPUT: «｢dddddeff｣␤»</pre>
 <p>To get all of the positional attributes, any of <span class="code">$/.list</span>, <span class="code">@$/</span>, or <span class="code">@()</span> can be used.</p>
 <pre class="code">say @().join; # OUTPUT: «bbbbbdddddeff␤»</pre>
 <a name="t54.5.1.2.2"></a><h4 id="_language_variables.pod6-Named_Attributes">54.5.1.2.2 <a name="795"></a>Named Attributes</h4>
 <p><span class="code">$/</span> can have named attributes if the <a href="#_language_regexes.pod6">Regex</a> had named capture-groups in it, or if the Regex called out to another Regex.</p>
 <pre class="code">'I.... see?' ~~ / \w+ $&lt;punctuation&gt;=[ &lt;-[\w\s]&gt;+ ] \s* $&lt;final-word&gt; = [ \w+ . ] /;
say $/&lt;punctuation&gt;; # OUTPUT: «｢....｣␤»
say $/&lt;final-word&gt;;  # OUTPUT: «｢see?｣␤»</pre>
 <p>These can also be accessed by the shortcut <span class="code">$&lt;named&gt;</span>.</p>
 <pre class="code">say $&lt;punctuation&gt;; # OUTPUT: «｢....｣␤»
say $&lt;final-word&gt;;  # OUTPUT: «｢see?｣␤»</pre>
 <p>To get all of the named attributes, any of <span class="code">$/.hash</span>, <span class="code">%$/</span>, or <span class="code">%()</span> can be used.</p>
 <pre class="code">say %().join;       # OUTPUT: «&quot;punctuation     ....final-word  see?&quot;␤»</pre>
 <a name="t54.5.1.3"></a><h3 id="_language_variables.pod6-The_$!_Variable">54.5.1.3 The <span class="code">$!</span> Variable</h3>
 <p><span class="code">$!</span> is the error variable. If a <span class="code">try</span> block or statement prefix catches an exception, that exception is stored in <span class="code">$!</span>. If no exception was caught, <span class="code">$!</span> is set to the <span class="code">Any</span> type object.</p>
 <p>Note that <span class="code">CATCH</span> blocks <i>do not</i> set <span class="code">$!</span>. Rather they set <span class="code">$_</span> inside the block to the caught exception.</p>
 <a name="t54.5.2"></a><h2 id="_language_variables.pod6-Compile-time_variables">54.5.2 Compile-time variables</h2>
 <p><span class="indexed"><a id="796" name="$?FILE"></a></span><span class="indexed"><a id="797" name="$?LINE"></a></span><span class="indexed"><a id="798" name="::?CLASS"></a></span><span class="indexed"><a id="799" name="&amp;?ROUTINE"></a></span><span class="indexed"><a id="800" name="&amp;?BLOCK"></a></span><span class="indexed"><a id="801" name="%?LANG"></a></span><span class="indexed"><a id="802" name="%?RESOURCES"></a></span></p>
 <p>All compile time variables have a question mark as part of the twigil. Being <i>compile time</i> they cannot be changed at run-time, however they are valuable in order to introspect the program. The most common compile time variables are the following:</p>
 <table>
<tr><td>$?FILE</td> <td>Which file am I in?</td></tr>
 <tr><td>$?LINE</td> <td>Which line am I at?</td></tr>
 <tr><td>::?CLASS</td> <td>Which class am I in?</td></tr>
 <tr><td>%?LANG</td> <td>What is the current set of interwoven languages?</td></tr>
 <tr><td>%?RESOURCES</td> <td>The files associated with the &quot;Distribution&quot; of the current compilation unit.</td></tr>
</table> <a name="t54.5.2.1"></a><h3 id="_language_variables.pod6-Other_compile-time_variables:">54.5.2.1 Other compile-time variables:</h3>
 <p><span class="indexed"><a id="803" name="$?PACKAGE"></a></span><span class="indexed"><a id="804" name="$?MODULE"></a></span><span class="indexed"><a id="805" name="$?CLASS"></a></span><span class="indexed"><a id="806" name="$?ROLE"></a></span> <span class="indexed"><a id="807" name="$?GRAMMAR"></a></span><span class="indexed"><a id="808" name="$?TABSTOP"></a></span><span class="indexed"><a id="809" name="$?NL"></a></span><span class="indexed"><a id="810" name="$?ENC"></a></span></p>
 <p>The following compile time variables allow for a deeper introspection:</p>
 <table>
<tr><td>$?PACKAGE</td> <td>Which package am I in?</td></tr>
 <tr><td>$?MODULE</td> <td>Which module am I in?</td></tr>
 <tr><td>$?CLASS</td> <td>Which class am I in? (as variable)</td></tr>
 <tr><td>$?ROLE</td> <td>Which role am I in? (as variable)</td></tr>
 <tr><td>$?GRAMMAR</td> <td>Which grammar am I in?</td></tr>
 <tr><td>$?TABSTOP</td> <td>How many spaces is a tab in a heredoc or virtual margin?</td></tr>
 <tr><td>$?NL</td> <td>What a vertical newline &quot;\n&quot; means: LF, CR or CRLF</td></tr>
 <tr><td>$?ENC</td> <td>Default encoding of various IO methods, e.g., Str.encode, Buf.decode</td></tr>
</table> <p>With particular regard to the <span class="code">$?NL</span>, see the <a href="#_language_pragmas.pod6">newline pragma</a>.</p>
 <a name="t54.5.2.2"></a><h3 id="_language_variables.pod6-&amp;?ROUTINE">54.5.2.2 <a name="811"></a>&amp;?ROUTINE</h3>
 <p>The compile time variable <span class="code">&amp;?ROUTINE</span> provides introspection about which routine the program is actually within. It returns an instance of <a href="#_type_Sub.pod6">Sub</a> attached to the current routine. It does support the method <span class="code">.name</span> to obtain the name of the called routine, as well as <span class="code">.signature</span> and others method related to <span class="code">Sub</span>:</p>
 <pre class="code">sub awesome-sub { say &amp;?ROUTINE.name }
awesome-sub # OUTPUT: awesome-sub</pre>
 <p>The special variable <span class="code">&amp;?ROUTINE</span> allows also for recursion:</p>
 <pre class="code">my $counter = 10; 
 sub do-work { 
     say 'Calling myself other ' ~ $counter-- ~ ' times'; 
     &amp;?ROUTINE() if ( $counter &gt; 0 ); 
 } 
 do-work; 
</pre>
 <a name="t54.5.2.3"></a><h3 id="_language_variables.pod6-&amp;?BLOCK">54.5.2.3 <a name="812"></a>&amp;?BLOCK</h3>
 <p>The special compile variable <span class="code">?&amp;BLOCK</span> behaves similarly to <span class="code">?&amp;ROUTINE</span> but it allows to introspect a single block of code. It holds a <a href="#_type_Sub.pod6">Sub</a> and allows for recursion within the same block:</p>
 <pre class="code">for '.' { 
     .Str.say when !.IO.d; 
     .IO.dir()».&amp;?BLOCK when .IO.d # lets recurse a little! 
 } 
</pre>
 <a name="t54.5.3"></a><h2 id="_language_variables.pod6-Dynamic_variables">54.5.3 Dynamic variables</h2>
 There should be a better way get this table to be formatted
    properly, but if there's, Rakudo doesn't support it at the moment.
 <p><span class="indexed"><a id="813" name="$*ARGFILES"></a></span><span class="indexed"><a id="814" name="@*ARGS"></a></span><span class="indexed"><a id="815" name="$*IN"></a></span><span class="indexed"><a id="816" name="$*OUT"></a></span><span class="indexed"><a id="817" name="$*ERR"></a></span><span class="indexed"><a id="818" name="%*ENV"></a></span><span class="indexed"><a id="819" name="$*REPO"></a></span><span class="indexed"><a id="820" name="$*TZ"></a></span> <span class="indexed"><a id="821" name="$*CWD"></a></span><span class="indexed"><a id="822" name="$*KERNEL"></a></span><span class="indexed"><a id="823" name="$*DISTRO"></a></span><span class="indexed"><a id="824" name="$*VM"></a></span><span class="indexed"><a id="825" name="$*PERL"></a></span><span class="indexed"><a id="826" name="$*PID"></a></span><span class="indexed"><a id="827" name="$*PROGRAM-NAME"></a></span> <span class="indexed"><a id="828" name="$*PROGRAM"></a></span><span class="indexed"><a id="829" name="$*EXECUTABLE"></a></span><span class="indexed"><a id="830" name="$*EXECUTABLE-NAME"></a></span><span class="indexed"><a id="831" name="$*USER"></a></span><span class="indexed"><a id="832" name="$*GROUP"></a></span> <span class="indexed"><a id="833" name="$*HOME"></a></span><span class="indexed"><a id="834" name="$*SPEC"></a></span><span class="indexed"><a id="835" name="$*TMPDIR"></a></span><span class="indexed"><a id="836" name="$*THREAD"></a></span><span class="indexed"><a id="837" name="$*SCHEDULER"></a></span><span class="indexed"><a id="838" name="$*USAGE"></a></span></p>
 <table>
<tr><td>$*ARGFILES</td> <td>An L&lt;IO::ArgFiles&gt; (an empty subclass of L&lt;IO::CatHandle&gt;) that uses C&lt;@*ARGS&gt; as source files, if it contains any files, or C&lt;$*IN&gt; otherwise. When C&lt;$*IN&gt; is used, its C&lt;:nl-in&gt;, C&lt;:chomp&gt;, C&lt;:encoding&gt;, and C&lt;:bin&gt; will be set on the L&lt;IO::ArgFiles&gt; object.</td></tr>
 <tr><td>@*ARGS</td> <td>Arguments from the command line.</td></tr>
 <tr><td>$*IN</td> <td>Standard input filehandle, AKA stdin</td></tr>
 <tr><td>$*OUT</td> <td>Standard output filehandle, AKA stdout</td></tr>
 <tr><td>$*ERR</td> <td>Standard error filehandle, AKA stderr</td></tr>
 <tr><td>%*ENV</td> <td>Environment variables</td></tr>
 <tr><td>$*REPO</td> <td>A variable holding information about modules installed/loaded</td></tr>
 <tr><td>$*INIT-INSTANT</td> <td>An Instant object representing program startup time. In particular, this is when the core code starts up, so the value of $*INIT-INSTANT may be a few milliseconds earlier than C&lt;INIT now&gt; or even C&lt;BEGIN now&gt; executed in your program.</td></tr>
 <tr><td>$*TZ</td> <td>The system's local timezone offset, as the number of B&lt;seconds&gt; from GMT</td></tr>
 <tr><td>$*CWD</td> <td>The Current Working Directory.</td></tr>
 <tr><td>$*KERNEL</td> <td>Which kernel am I running under?</td></tr>
 <tr><td>$*DISTRO</td> <td>Which OS distribution am I running under? (e.g. C&lt;say &quot;Some sort of Windows&quot; if $*DISTRO.is-win&gt;)</td></tr>
 <tr><td>$*VM</td> <td>Which virtual machine am I running under?</td></tr>
 <tr><td>$*PERL</td> <td>Which Perl am I running under?</td></tr>
 <tr><td>$*PID</td> <td>Process ID of the current process.</td></tr>
 <tr><td>$*PROGRAM-NAME</td> <td>Path to the current executable as it was entered on the command line, or C&lt;-e&gt; if perl was invoked with the -e flag.</td></tr>
 <tr><td>$*PROGRAM</td> <td>Location (in the form of an C&lt;IO::Path&gt; object) of the Perl program being executed.</td></tr>
 <tr><td>&amp;*EXIT</td> <td>Code that will be executed when doing an exit(). Intended to be used in situations where Perl 6 is embedded in another language runtime (such as Inline::Perl6 in Perl 5)</td></tr>
 <tr><td>$*EXECUTABLE</td> <td>Absolute path of the perl executable that is currently running.</td></tr>
 <tr><td>$*EXECUTABLE-NAME</td> <td>The name of the perl executable that is currently running. (e.g. perl6-p, perl6-m, Niecza.exe) Favor $*EXECUTABLE because it's not guaranteed that the perl executable is in PATH.</td></tr>
 <tr><td>$*USAGE</td> <td>Read-only. The default usage message generated from the signatures of MAIN subs available from inside sub MAIN and sub USAGE</td></tr>
 <tr><td>$*USER</td> <td>The user that is running the program. It's an object that evaluates to &quot;username (uid)&quot;. It will evaluate to the username only if treated as a string and the numeric user id if treated as a number.</td></tr>
 <tr><td>$*GROUP</td> <td>The primary group of the user who is running the program. It's an object that evaluates to &quot;groupname (gid)&quot;. It will evaluate to the groupname only if treated as a string and the numeric group id if treated as a number.</td></tr>
 <tr><td>$*HOME</td> <td>An L&lt;IO::Path&gt; object representing the &quot;home directory&quot; of the user that is running the program. Uses C«%*ENV&lt;HOME&gt;» if set. On Windows, uses C«%*ENV&lt;HOMEDRIVE&gt; ~ %*ENV&lt;HOMEPATH&gt;». If the home directory cannot be determined, it will be L&lt;Any&gt;</td></tr>
 <tr><td>$*SPEC</td> <td>The appropriate L&lt;IO::Spec&gt; sub-class for the platform that the program is running on.</td></tr>
 <tr><td>$*TMPDIR</td> <td>An L&lt;IO::Path&gt; object representing the &quot;system temporary directory&quot; as determined by L«C&lt;.tmpdir IO::Spec::* method|/routine/tmpdir&gt;»</td></tr>
 <tr><td>$*TOLERANCE</td> <td>Used by the C&lt;=~=&gt; operator, and any operations that depend on it, to decide if two values are approximately equal. Defaults to 1e-15.</td></tr>
 <tr><td>$*THREAD</td> <td>A L&lt;Thread&gt; object representing the currently executing thread.</td></tr>
 <tr><td>$*SCHEDULER</td> <td>A L&lt;ThreadPoolScheduler&gt; object representing the current default scheduler. (see note below)</td></tr>
 <tr><td>$*SAMPLER</td> <td>The current L&lt;Telemetry::Sampler&gt; used for making snapshots of system state. Only available if L&lt;Telemetry&gt; has been loaded.</td></tr>
</table> <p>Note on usage of $*SCHEDULER:</p>
 <p>For the current Rakudo, by default this imposes a maximum of 16 threads on the methods <span class="code">.hyper</span> and <span class="code">.race</span>. To change the maximum number of threads, either set the environment variable RAKUDO_MAX_THREADS before running perl6 or create a scoped copy with the default changed before using <span class="code">.hyper</span> or <span class="code">.race</span>:</p>
 <pre class="code">my $*SCHEDULER = ThreadPoolScheduler.new( max_threads =&gt; 64 );</pre>
 <p>This behavior is not tested in the spec tests and is subject to change.</p>
 <a name="t54.6"></a><h1 id="_language_variables.pod6-Naming_Conventions">54.6 Naming Conventions</h1>
 <p>It is helpful to know our naming conventions in order to understand what codes do directly. However, there is not yet a conventions list covering anywhere. Still we list several conventions that are widely held.</p>
 <ul><li><p>Subs and methods from the built-ins library try to have single-word names when a good one could be found. In cases where there are two or more words making up a name, they are separated by a &quot;-&quot;.</p>
</li></ul> <ul><li><p>Compounds are treated as a single word, thus <span class="code">substr</span>, <span class="code">subbuf</span>, and <span class="code">deepmap</span> (just like we write &quot;starfish&quot;, not &quot;star fish&quot; in English).</p>
</li></ul> <ul><li><p>Subs and methods that are automatically called for you at special times are written in uppercase. This includes the <span class="code">MAIN</span> sub, the <span class="code">AT-POS</span> and related methods for implementing container types, along with <span class="code">BUILD</span> and <span class="code">DESTROY</span>.</p>
</li></ul> <ul><li><p>Type names are camel case, except for native types, which are lowercase. For the exception, you can remember it by: they are stored in a more compact way, so they names look smaller too.</p>
</li></ul> <ul><li><p>Built-in dynamic variables and compile-time variables are always uppercase, such like <span class="code">$*OUT</span>, <span class="code">$?FILE</span>.</p>
</li></ul> <ul><li><p>Methods from the MOP and other internals use &quot;_&quot; to separate multiple words, such like <span class="code">add_method</span>.</p>
</li></ul></div>
<!-- /Programs/01-debugging.pod6 --><div class="pod-body"><a id="_Programs_01-debugging.pod6"></a><a name="t55"><h1 class="title">55 Debugging</h1></a> <p class="subtitle">Debug Perl 6 programs</p> <p>There are at least two useful debuggers available for Rakudo:</p>
 <ul><li><p><a href="https://modules.perl6.org/repo/Debugger::UI::CommandLine">Debugger::UI::CommandLine</a></p>
</li></ul> <p>A command-line debugger frontend for Rakudo.</p>
 <ul><li><p><a href="https://modules.perl6.org/repo/Grammar::Debugger">Grammar::Debugger</a> (and <span class="code">Grammar::Tracer</span> in the same distribution)</p>
</li></ul> <p>Simple tracing and debugging support for Perl 6 grammars.</p>
 <p>Please see the documentation for these programs for further information.</p>
 <p>Historically others have existed and others are likely to be written in the future, check the <a href="https://modules.perl6.org/">Perl 6 Modules</a> website.</p>
 <p>There are also environment variables that can be set to aid debugging various aspects of your program. See <a href="https://github.com/rakudo/rakudo/wiki/dev-env-vars">Perl 6 Environment Variables</a> and <a href="https://github.com/rakudo/rakudo/wiki/Running-rakudo-from-the-command-line">Running rakudo from the command line</a> for more information.</p>
 <a name="t55.0.1"></a><h2 id="_Programs_01-debugging.pod6-trace_pragma">55.0.1 <span class="code">trace</span> pragma</h2>
 <p>The <span class="code">trace</span> pragma causes the program to print out step-by-step which lines get executed:</p>
 <pre class="code">use trace;
sub foo { say &quot;hi&quot; }
foo;

# OUTPUT:
# 2 (/tmp/script.p6 line 2)
# sub foo { say &quot;hi&quot; }
# 5 (/tmp/script.p6 line 3)
# foo
# 3 (/tmp/script.p6 line 2)
# say &quot;hi&quot;
# hi</pre>
 <a name="t55.0.2"></a><h2 id="_Programs_01-debugging.pod6-Dumper_function_dd">55.0.2 Dumper function <span class="code">dd</span></h2>
 <p><span class="indexed"><a id="839" name="dd"></a></span> <span class="indexed"><a id="840" name="dumper"></a></span></p>
 <p><b>Note:</b> this routine is a Rakudo-specific debugging feature and not standard Perl 6.</p>
 <p>The Tiny Data Dumper: This function takes the input list of variables and <span class="code">note</span>s them (on <span class="code">$*ERR</span>) in an easy to read format, along with the <span class="code">name</span> of the variable. Thus,</p>
 <pre class="code">my $a = 42; 
 my %hash = &quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 2, &quot;c&quot; =&gt; 3; 
 
 dd %hash, $a; 
 #`( OUTPUT: 
     Hash %hash = {:a(1), :b(2), :c(3)} 
     Int $a = 42 
 ) 
</pre>
 <p>to the standard error stream.</p>
 <p>Please note that <span class="code">dd</span> will ignore named parameters. You can use a <span class="code">Capture</span> or <span class="code">Array</span> to force it to dump everything passed to it.</p>
 <pre class="code">dd \((:a(1), :b(2)), :c(3)); 
 dd [(:a(1), :b(2)), :c(3)]; 
</pre>
 <p>If you don't specify any parameters at all, it will just print the type and name of the current subroutine / method to the standard error stream:</p>
 <pre class="code">sub a { dd }; a   # OUTPUT: «sub a()␤» 
</pre>
 <p>This can be handy as a cheap trace function.</p>
 <a name="t55.0.3"></a><h2 id="_Programs_01-debugging.pod6-Using_backtraces">55.0.3 Using backtraces</h2>
 <p>The <a href="#_type_Backtrace.pod6">Backtrace</a> class gets the current call stack, and can return it as a string:</p>
 <pre class="code">my $trace = Backtrace.new;
sub inner { say ~Backtrace.new; }
sub outer { inner; }
outer;

# OUTPUT:
# perl6 /tmp/script.p6
#   in sub inner at /tmp/script.p6 line 2
#   in sub outer at /tmp/script.p6 line 3
#   in block &lt;unit&gt; at /tmp/script.p6 line 4</pre>
</div>
<!-- /Programs/02-reading-docs.pod6 --><div class="pod-body"><a id="_Programs_02-reading-docs.pod6"></a><a name="t56"><h1 class="title">56 Reading the docs</h1></a> <p class="subtitle">p6doc - the Perl 6 pod reader</p> <a name="t56.1"></a><h1 id="_Programs_02-reading-docs.pod6-INTRODUCTION">56.1 <a name="841"></a>INTRODUCTION</h1>
 <p>Program <span class="code">p6doc</span> is a command-line-interface (CLI) program that reads Perl 6 pod from <b>installed</b> modules' source code, in contrast to running <span class="code">perl6 --doc=MODULE programfile</span> which reads Perl 6 pod from the named source file.</p>
 <p>Note that <span class="code">p6doc</span> may not be installed automatically depending upon how you installed Rakudo Perl 6. To install it use <span class="code">zef</span>:</p>
 <pre class="code"> zef install p6doc 
</pre>
 <a name="t56.2"></a><h1 id="_Programs_02-reading-docs.pod6-SYNOPSIS">56.2 SYNOPSIS</h1>
 <pre class="code"> p6doc [switches] [arguments] 
</pre>
 <a name="t56.3"></a><h1 id="_Programs_02-reading-docs.pod6-DESCRIPTION">56.3 DESCRIPTION</h1>
 <p>With no switches or arguments, <span class="code">p6doc</span> lists its help to <span class="code">$*OUT</span> (<span class="code">stdout</span>):</p>
 <pre class="code">You want to maintain the index? 
 To build an index for 'p6doc -f' 
           p6doc build 
 
 To list the index keys 
           p6doc list 
 
 To display module name(s) containing key 
           p6doc lookup 
 
 To show where the index file lives 
           p6doc path-to-index 
 
 What documentation do you want to read? 
 Examples: p6doc Str 
           p6doc Str.split 
           p6doc faq 
           p6doc path/to/file 
 
 You can list some top level documents: 
           p6doc -l 
 
 You can also look up specific method/routine/sub definitions: 
           p6doc -f hyper 
           p6doc -f Array.push 
 
 You can bypass the pager and print straight to stdout: 
           p6doc -n Str 
</pre>
 <p>The text output can be captured and converted to other forms if desired.</p>
 <a name="t56.4"></a><h1 id="_Programs_02-reading-docs.pod6-LIMITATIONS">56.4 LIMITATIONS</h1>
 <p>Currently <span class="code">p6doc</span> can only extract embedded Perl 6 pod from installed module source files (as listed in a distribution's <span class="code">META6.json</span> file). It is planned to add a feature for <span class="code">p6doc</span> (in conjunction with <span class="code">META6.json</span> changes) to extract <b>all</b> Perl 6 pod in files included with the installed distribution.</p>
</div>
<!-- /type/AST.pod6 --><div class="pod-body"><a id="_type_AST.pod6"></a><a name="t57"><h1 class="title">57 class AST</h1></a> <p class="subtitle">Abstract representation of a piece of source code</p> <pre class="code">class AST { }</pre>
 <p>An <span class="code">AST</span> or <i>Abstract Syntax Tree</i> is a partially processed representation of a program. ASTs are return values of the <span class="code">quasi</span> quoting construct, and are typically used within macros to generate code that is inserted in the calling location of the macro.</p>
 <p>There is no API defined for ASTs yet. Hopefully that will emerge as part of the work on macros.</p>
</div>
<!-- /type/Any.pod6 --><div class="pod-body"><a id="_type_Any.pod6"></a><a name="t58"><h1 class="title">58 class Any</h1></a> <p class="subtitle">Thing/object</p> <pre class="code">class Any is Mu {}</pre>
 <p>While <a href="#_type_Mu.pod6">Mu</a> is the root of the Perl 6 class hierarchy, <a href="#_type_Any.pod6">Any</a> is the class that serves as a default base class for new classes, and as the base class for most built-in classes.</p>
 <p>Since Perl 6 intentionally confuses items and single-element lists, most methods in <a href="#_type_Any.pod6">Any</a> are also present on class <a href="#_type_List.pod6">List</a>, and coerce to List or a list-like type.</p>
 <a name="t58.1"></a><h1 id="_type_Any.pod6-Methods">58.1 Methods</h1>
 <a name="t58.1.1"></a><h2 id="_type_Any.pod6-method_ACCEPTS">58.1.1 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(Any:D: Mu $other)</pre>
 <p>Usage:</p>
 <pre class="code">EXPR.ACCEPTS(EXPR); 
</pre>
 <p>Returns <span class="code">True</span> if <span class="code">$other === self</span> (i.e. it checks object identity).</p>
 <p>Many built-in types override this for more specific comparisons</p>
 <a name="t58.1.2"></a><h2 id="_type_Any.pod6-method_any">58.1.2 method any</h2>
 <p>Defined as:</p>
 <pre class="code">method any(--&gt; Junction:D)</pre>
 <p>Interprets the invocant as a list and creates an <a href="#_routine_any.pod6">any</a>-<a href="#_type_Junction.pod6">Junction</a> from it.</p>
 <pre class="code">say so 2 == &lt;1 2 3&gt;.any;        # OUTPUT: «True␤»
say so 5 == &lt;1 2 3&gt;.any;        # OUTPUT: «False␤»</pre>
 <a name="t58.1.3"></a><h2 id="_type_Any.pod6-method_all">58.1.3 method all</h2>
 <p>Defined as:</p>
 <pre class="code">method all(--&gt; Junction:D)</pre>
 <p>Interprets the invocant as a list and creates an <a href="#_routine_all.pod6">all</a>-<a href="#_type_Junction.pod6">Junction</a> from it.</p>
 <pre class="code">say so 1 &lt; &lt;2 3 4&gt;.all;         # OUTPUT: «True␤»
say so 3 &lt; &lt;2 3 4&gt;.all;         # OUTPUT: «False␤»</pre>
 <a name="t58.1.4"></a><h2 id="_type_Any.pod6-method_one">58.1.4 method one</h2>
 <p>Defined as:</p>
 <pre class="code">method one(--&gt; Junction:D)</pre>
 <p>Interprets the invocant as a list and creates a <a href="#_routine_one.pod6">one</a>-<a href="#_type_Junction.pod6">Junction</a> from it.</p>
 <pre class="code">say so 1 == (1, 2, 3).one;      # OUTPUT: «True␤»
say so 1 == (1, 2, 1).one;      # OUTPUT: «False␤»</pre>
 <a name="t58.1.5"></a><h2 id="_type_Any.pod6-method_none">58.1.5 method none</h2>
 <p>Defined as:</p>
 <pre class="code">method none(--&gt; Junction:D)</pre>
 <p>Interprets the invocant as a list and creates a <a href="#_routine_none.pod6">none</a>-<a href="#_type_Junction.pod6">Junction</a> from it.</p>
 <pre class="code">say so 1 == (1, 2, 3).none;     # OUTPUT: «False␤»
say so 4 == (1, 2, 3).none;     # OUTPUT: «True␤»</pre>
 <a name="t58.1.6"></a><h2 id="_type_Any.pod6-method_list">58.1.6 method list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method list(Any:U: --&gt;List)
multi method list(Any:D \SELF: --&gt;List)</pre>
 <p>Applies the infix <a href="#_routine_,.pod6"><span class="code">,</span></a> operator to the invocant and returns the resulting <a href="#_type_List.pod6">List</a>:</p>
 <pre class="code">say 42.list.^name;           # OUTPUT: «List␤»
say 42.list.elems;           # OUTPUT: «1␤»</pre>
 <a name="t58.1.7"></a><h2 id="_type_Any.pod6-method_push">58.1.7 method push</h2>
 <p>Defined as:</p>
 <pre class="code">method push(|values --&gt; Positional:D)</pre>
 <p>The method push is defined for undefined invocants and allows for autovivifying undefined to an empty <a href="#_type_Array.pod6">Array</a>, unless the undefined value implements <a href="#_type_Positional.pod6">Positional</a> already. The argument provided will then be pushed into the newly created Array.</p>
 <pre class="code">my %h;
say %h&lt;a&gt;;     # OUTPUT: «(Any)␤»      &lt;-- Undefined
%h&lt;a&gt;.push(1); # .push on Any
say %h;        # OUTPUT: «{a =&gt; [1]}␤» &lt;-- Note the Array</pre>
 <a name="t58.1.8"></a><h2 id="_type_Any.pod6-routine_reverse">58.1.8 routine reverse</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    reverse(*@list  --&gt; Seq:D)
multi method reverse(List:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> with the same elements in reverse order.</p>
 <p>Note that <span class="code">reverse</span> always refers to reversing elements of a list; to reverse the characters in a string, use <a href="#_routine_flip.pod6">flip</a>.</p>
 <p>Examples:</p>
 <pre class="code">say &lt;hello world!&gt;.reverse;     # OUTPUT: «(world! hello)␤»
say reverse ^10;                # OUTPUT: «(9 8 7 6 5 4 3 2 1 0)␤»</pre>
 <a name="t58.1.9"></a><h2 id="_type_Any.pod6-method_sort">58.1.9 method sort</h2>
 <p>Defined as:</p>
 <pre class="code">multi method sort()
multi method sort(&amp;custom-routine-to-use)</pre>
 <p>Sorts iterables with <a href="#_routine_cmp.pod6">cmp</a> or given code object and returns a new <a href="#_type_Seq.pod6">Seq</a>. Optionally, takes a <a href="#_type_Callable.pod6">Callable</a> as a positional parameter, specifying how to sort.</p>
 <p>Examples:</p>
 <pre class="code">say &lt;b c a&gt;.sort;                           # OUTPUT: «(a b c)␤»
say 'bca'.comb.sort.join;                   # OUTPUT: «abc␤»
say 'bca'.comb.sort({$^b cmp $^a}).join;    # OUTPUT: «cba␤»
say '231'.comb.sort(&amp;infix:«&lt;=&gt;»).join;     # OUTPUT: «123␤»</pre>
 <a name="t58.1.10"></a><h2 id="_type_Any.pod6-method_map">58.1.10 method map</h2>
 <p>Defined as:</p>
 <pre class="code">multi method map(\SELF: &amp;block;; :$label, :$item)</pre>
 <p><span class="code">map</span> will iterate over the invocant and apply the number of positional parameters of the code object from the invocant per call. The returned values of the code object will become elements of the returned <a href="#_type_Seq.pod6">Seq</a>.</p>
 <p>The <span class="code">:$label</span> and <span class="code">:$item</span> are useful only internally, since <span class="code">for</span> loops get converted to <span class="code">map</span>s. The <span class="code">:$label</span> takes an existing <a href="#_type_Label.pod6">Label</a> to label the <span class="code">.map</span>'s loop with and <span class="code">:$item</span> controls whether the iteration will occur over <span class="code">(SELF,)</span> (if <span class="code">:$item</span> is set) or <span class="code">SELF</span>.</p>
 <a name="t58.1.11"></a><h2 id="_type_Any.pod6-method_deepmap">58.1.11 method deepmap</h2>
 <p>Defined as:</p>
 <pre class="code">method deepmap(&amp;block --&gt; List) is nodal</pre>
 <p><span class="code">deepmap</span> will apply <span class="code">&amp;block</span> to each element and return a new <a href="#_type_List.pod6">List</a> with the return values of <span class="code">&amp;block</span>, unless the element does the <a href="#_type_Iterable.pod6">Iterable</a> role. For those elements <a href="#_routine_deepmap.pod6">deepmap</a> will descend recursively into the sublist.</p>
 <pre class="code">say [[1,2,3],[[4,5],6,7]].deepmap(* + 1);
# OUTPUT: «[[2 3 4] [[5 6] 7 8]]␤»</pre>
 <a name="t58.1.12"></a><h2 id="_type_Any.pod6-method_duckmap">58.1.12 method duckmap</h2>
 <p>Defined as:</p>
 <pre class="code">method duckmap(&amp;block) is rw is nodal</pre>
 <p><span class="code">duckmap</span> will apply <span class="code">&amp;block</span> on each element and return a new list with defined return values of the block. For undefined return values, <a href="#_routine_duckmap.pod6">duckmap</a> will try to descend into the element if that element implements <a href="#_type_Iterable.pod6">Iterable</a>.</p>
 <pre class="code">&lt;a b c d e f g&gt;.duckmap(-&gt; $_ where &lt;c d e&gt;.any { .uc }).say;
# OUTPUT: «(a b C D E f g)␤»
(('d', 'e'), 'f').duckmap(-&gt; $_ where &lt;e f&gt;.any { .uc }).say;
# OUTPUT: «((d E) F)␤»</pre>
 <a name="t58.1.13"></a><h2 id="_type_Any.pod6-method_nodemap">58.1.13 method nodemap</h2>
 <p>Defined as:</p>
 <pre class="code">method nodemap(&amp;block --&gt; List) is nodal</pre>
 <p><span class="code">nodemap</span> will apply <span class="code">&amp;block</span> to each element and return a new <a href="#_type_List.pod6">List</a> with the return values of <span class="code">&amp;block</span>. In contrast to <a href="#_routine_deepmap.pod6">deepmap</a> it will <b>not</b> descend recursively into sublists if it finds elements which <a href="#_routine_does.pod6">does</a> the <a href="#_type_Iterable.pod6">Iterable</a> role.</p>
 <pre class="code">say [[1,2,3], [[4,5],6,7], 7].nodemap(*+1);
# OUTPUT: «(4, 4, 8)␤»

say [[2, 3], [4, [5, 6]]]».nodemap(*+1)
# OUTPUT: «((3 4) (5 3))␤»</pre>
 <p>The examples above would have produced the exact same results if we had used <a href="#_routine_map.pod6">map</a> instead of <span class="code">nodemap</span>. The difference between the two lies in the fact that <a href="#_routine_map.pod6">map</a> flattens out <a href="#_type_Slip.pod6">slips</a> while <span class="code">nodemap</span> doesn't.</p>
 <pre class="code">say [[2,3], [[4,5],6,7], 7].nodemap({.elems == 1 ?? $_ !! slip});
# OUTPUT: «(() () 7)␤»
say [[2,3], [[4,5],6,7], 7].map({.elems == 1 ?? $_ !! slip});
# OUTPUT: «(7)␤»</pre>
 <a name="t58.1.14"></a><h2 id="_type_Any.pod6-method_flat">58.1.14 method flat</h2>
 <p>Defined as:</p>
 <pre class="code">method flat(--&gt; Seq:D) is nodal</pre>
 <p>Interprets the invocant as a list, flattens <a href="#_language_containers.pod6">non-containerized</a> <a href="#_type_Iterable.pod6">Iterable</a>s into a flat list, and returns that list. Keep in mind <a href="#_type_Map.pod6">Map</a> and <a href="#_type_Hash.pod6">Hash</a> types are <a href="#_type_Iterable.pod6">Iterable</a> and so will be flattened into lists of pairs.</p>
 <pre class="code">say ((1, 2), (3), %(:42a));      # OUTPUT: «((1 2) 3 {a =&gt; 42})␤»
say ((1, 2), (3), %(:42a)).flat; # OUTPUT: «(1 2 3 a =&gt; 42)␤»</pre>
 <p>Note that <a href="#_type_Array.pod6">Arrays</a> containerize their elements by default, and so <span class="code">flat</span> will not flatten them. You can use <a href="#_language_operators.pod6-index-entry-postfix_».">hyper method call</a> to call <a href="#_routine_List.pod6"><span class="code">.List</span></a> method on all the inner <a href="#_type_Iterable.pod6">Iterables</a> and so de-containerize them, so that <span class="code">flat</span> can flatten them:</p>
 <pre class="code">say [[1, 2, 3], [(4, 5), 6, 7]]      .flat; # OUTPUT: «([1 2 3] [(4 5) 6 7])␤»
say [[1, 2, 3], [(4, 5), 6, 7]]».List.flat; # OUTPUT: «(1 2 3 4 5 6 7)␤»</pre>
 <p>For more fine-tuned options, see <a href="#_routine_deepmap.pod6">deepmap</a>, <a href="#_routine_duckmap.pod6">duckmap</a>, and <a href="#_type_Signature.pod6-Destructuring_Parameters">signature destructuring</a></p>
 <a name="t58.1.15"></a><h2 id="_type_Any.pod6-method_eager">58.1.15 method eager</h2>
 <p>Defined as:</p>
 <pre class="code">method eager(--&gt; Seq:D) is nodal</pre>
 <p>Interprets the invocant as a <a href="#_type_List.pod6">List</a>, evaluates it eagerly, and returns that <a href="#_type_List.pod6">List</a>.</p>
 <pre class="code">my  $range = 1..5;
say $range;         # OUTPUT: «1..5␤»
say $range.eager;   # OUTPUT: «(1 2 3 4 5)␤»</pre>
 <a name="t58.1.16"></a><h2 id="_type_Any.pod6-method_elems">58.1.16 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">method elems(--&gt; Int:D) is nodal</pre>
 <p>Interprets the invocant as a list, and returns the number of elements in the list.</p>
 <pre class="code">say 42.elems;                   # OUTPUT: «1␤»
say &lt;a b c&gt;.elems;              # OUTPUT: «3␤»</pre>
 <a name="t58.1.17"></a><h2 id="_type_Any.pod6-method_end">58.1.17 method end</h2>
 <pre class="code">method end(--&gt; Any:D) is nodal</pre>
 <p>Interprets the invocant as a list, and returns the last index of that list.</p>
 <pre class="code">say 6.end;                      # OUTPUT: «0␤»
say &lt;a b c&gt;.end;                # OUTPUT: «2␤»</pre>
 <a name="t58.1.18"></a><h2 id="_type_Any.pod6-method_pairup">58.1.18 method pairup</h2>
 <p>Defined as:</p>
 <pre class="code">method pairup(--&gt; Seq:D) is nodal</pre>
 <p>Interprets the invocant as a list, and constructs a list of <a href="#_type_Pair.pod6">pairs</a> from it, in the same way that assignment to a <a href="#_type_Hash.pod6">Hash</a> does. That is, it takes two consecutive elements and constructs a pair from them, unless the item in the key position already is a pair (in which case the pair is passed through, and the next list item, if any, is considered to be a key again).</p>
 <pre class="code">say (a =&gt; 1, 'b', 'c').pairup.perl;     # OUTPUT: «(:a(1), :b(&quot;c&quot;)).Seq␤»</pre>
 <a name="t58.1.19"></a><h2 id="_type_Any.pod6-sub_exit">58.1.19 sub exit</h2>
 <p>Defined as:</p>
 <pre class="code">sub exit(Int() $status = 0)</pre>
 <p>Exits the current process with return code <span class="code">$status</span> or zero if no value has been specified. The exit value (<span class="code">$status</span>), when different from zero, has to be opportunely evaluated from the process that catches it (e.g., a shell).</p>
 <p><span class="code">exit</span> does prevent the <a href="#_language_phasers.pod6-LEAVE">LEAVE</a> phaser to be executed.</p>
 <p><span class="code">exit</span> should be used as last resort only to signal the parent process about an exit code different from zero, and should not be used to terminate exceptionally a method or a sub: use <a href="#_language_exceptions.pod6">exceptions</a> instead.</p>
 <p>It is worth noting that the only way to return an exit code different from zero from a <a href="#_routine_MAIN.pod6">Main</a> function is by means of using <span class="code">exit</span>.</p>
 TODO maybe find a better place to document &amp;exit
 <a name="t58.1.20"></a><h2 id="_type_Any.pod6-sub_item">58.1.20 sub item</h2>
 <p><span class="indexed"><a id="842" name="$ (item contextualizer)"></a></span></p>
 <p>Defined as:</p>
 <pre class="code">proto sub item(|) is pure
multi item(\x)
multi item(|c)
multi item(Mu $a)</pre>
 <p>Forces given object to be evaluated in item context and returns the value of it.</p>
 <pre class="code">say item([1,2,3]).perl;              # OUTPUT: «$[1, 2, 3]␤»
say item( %( apple =&gt; 10 ) ).perl;   # OUTPUT: «${:apple(10)}␤»
say item(&quot;abc&quot;).perl;                # OUTPUT: «&quot;abc&quot;␤»</pre>
 <p>You can also use <span class="code">$</span> as item contextualizer.</p>
 <pre class="code">say $[1,2,3].perl;                   # OUTPUT: «$[1, 2, 3]␤»
say $(&quot;abc&quot;).perl;                   # OUTPUT: «&quot;abc&quot;␤»</pre>
 <a name="t58.1.21"></a><h2 id="_type_Any.pod6-method_Array">58.1.21 method Array</h2>
 <p>Defined as:</p>
 <pre class="code">method Array(--&gt; Array:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Array.pod6">Array</a>.</p>
 <a name="t58.1.22"></a><h2 id="_type_Any.pod6-method_List">58.1.22 method List</h2>
 <p>Defined as:</p>
 <pre class="code">method List(--&gt; List:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_List.pod6">List</a>, using the <a href="#_routine_list.pod6">list</a> method.</p>
 <a name="t58.1.23"></a><h2 id="_type_Any.pod6-serial">58.1.23 serial</h2>
 <p>Defined as</p>
 <pre class="code">proto method serial(|) is nodal
multi method serial( --&gt; Any)</pre>
 <p>Returns the self-reference to the instance itself:</p>
 <pre class="code">my $b; # defaults to Any 
 say $b.serial.^name; # OUTPUT: Any 
</pre>
 <a name="t58.1.24"></a><h2 id="_type_Any.pod6-method_Hash">58.1.24 method Hash</h2>
 <p>Defined as:</p>
 <pre class="code">proto method Hash(|) is nodal
multi method Hash( --&gt; Hash:D)</pre>
 <p>Coerce the invocant to <a href="#_type_Hash.pod6">Hash</a> by invoking the method <span class="code">hash</span> on it.</p>
 <a name="t58.1.25"></a><h2 id="_type_Any.pod6-method_hash">58.1.25 method hash</h2>
 <p>Defined as:</p>
 <pre class="code">proto method hash(|) is nodal
multi method hash(Any:U: --&gt; Hash:D)
multi method hash(Any:D: --&gt; Hash:D)</pre>
 <p>Creates a new <a href="#_type_Hash.pod6">Hash</a>, empty in the case the invocant is undefined, or coerces the invocant to an <span class="code">Hash</span> in the case it is defined.</p>
 <pre class="code">my $d; # $d is Any 
 say $d.hash; # OUTPUT: {} 
 $d.append: 'a', 'b'; 
 say $d.hash; # OUTPUT: {a =&gt; b} 
</pre>
 <a name="t58.1.26"></a><h2 id="_type_Any.pod6-method_Slip">58.1.26 method Slip</h2>
 <p>Defined as:</p>
 <pre class="code">method Slip(--&gt; Slip:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Slip.pod6">Slip</a>.</p>
 <a name="t58.1.27"></a><h2 id="_type_Any.pod6-method_Map">58.1.27 method Map</h2>
 <p>Defined as:</p>
 <pre class="code">method Map(--&gt; Map:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Map.pod6">Map</a>.</p>
 <a name="t58.1.28"></a><h2 id="_type_Any.pod6-method_Bag">58.1.28 method Bag</h2>
 <p>Defined as:</p>
 <pre class="code">method Bag(--&gt; Bag:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Bag.pod6">Bag</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.29"></a><h2 id="_type_Any.pod6-method_BagHash">58.1.29 method BagHash</h2>
 <p>Defined as:</p>
 <pre class="code">method BagHash(--&gt; BagHash:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_BagHash.pod6">BagHash</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.30"></a><h2 id="_type_Any.pod6-method_Set">58.1.30 method Set</h2>
 <p>Defined as:</p>
 <pre class="code">method Set(--&gt; Set:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Set.pod6">Set</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.31"></a><h2 id="_type_Any.pod6-method_SetHash">58.1.31 method SetHash</h2>
 <p>Defined as:</p>
 <pre class="code">method SetHash(--&gt; SetHash:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_SetHash.pod6">SetHash</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.32"></a><h2 id="_type_Any.pod6-method_Mix">58.1.32 method Mix</h2>
 <p>Defined as:</p>
 <pre class="code">method Mix(--&gt; Mix:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_Mix.pod6">Mix</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.33"></a><h2 id="_type_Any.pod6-method_MixHash">58.1.33 method MixHash</h2>
 <p>Defined as:</p>
 <pre class="code">method MixHash(--&gt; MixHash:D) is nodal</pre>
 <p>Coerce the invocant to <a href="#_type_MixHash.pod6">MixHash</a>, whereby <a href="#_type_Positional.pod6">Positionals</a> are treated as lists of values.</p>
 <a name="t58.1.34"></a><h2 id="_type_Any.pod6-method_Supply">58.1.34 method Supply</h2>
 <p>Defined as:</p>
 <pre class="code">method Supply(--&gt; Supply:D) is nodal</pre>
 <p>Coerce the invocant first to a <span class="code">list</span> by applying the invocant's <a href="#_routine_list.pod6"><span class="code">.list</span></a> method, and then to a <a href="#_type_Supply.pod6">Supply</a>.</p>
 <a name="t58.1.35"></a><h2 id="_type_Any.pod6-method_min">58.1.35 method min</h2>
 <p>Defined As:</p>
 <pre class="code">multi method min(--&gt; Any:D)
multi method min(&amp;filter --&gt; Any:D)</pre>
 <p>Coerces to <a href="#_type_Iterable.pod6">Iterable</a> and returns the numerically smallest element.</p>
 <p>If a <a href="#_type_Callable.pod6">Callable</a> positional argument is provided, each value is passed into the filter, and its return value is compared instead of the original value. The original value is still the one returned from <span class="code">min</span>.</p>
 <pre class="code">say (1,7,3).min();       # OUTPUT:«1␤»
say (1,7,3).min({1/$_}); # OUTPUT:«7␤»</pre>
 <a name="t58.1.36"></a><h2 id="_type_Any.pod6-method_max">58.1.36 method max</h2>
 <p>Defined As:</p>
 <pre class="code">multi method max(--&gt; Any:D)
multi method max(&amp;filter --&gt; Any:D)</pre>
 <p>Coerces to <a href="#_type_Iterable.pod6">Iterable</a> and returns the numerically largest element.</p>
 <p>If a <a href="#_type_Callable.pod6">Callable</a> positional argument is provided, each value is passed into the filter, and its return value is compared instead of the original value. The original value is still the one returned from <span class="code">max</span>.</p>
 <pre class="code">say (1,7,3).max();       # OUTPUT:«7␤»
say (1,7,3).max({1/$_}); # OUTPUT:«1␤»</pre>
 <a name="t58.1.37"></a><h2 id="_type_Any.pod6-method_minmax">58.1.37 method minmax</h2>
 <p>Defined As:</p>
 <pre class="code">multi method minmax(--&gt; Range:D)
multi method minmax(&amp;filter --&gt; Range:D)</pre>
 <p>Returns a Range from the smallest to the largest element.</p>
 <p>If a <a href="#_type_Callable.pod6">Callable</a> positional argument is provided, each value is passed into the filter, and its return value is compared instead of the original value. The original values are still used in the returned Range.</p>
 <pre class="code">say (1,7,3).minmax();      # OUTPUT:«1..7␤»
say (1,7,3).minmax({-$_}); # OUTPUT:«7..1␤»</pre>
 <a name="t58.1.38"></a><h2 id="_type_Any.pod6-method_minpairs">58.1.38 method minpairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method minpairs(Any:D: --&gt; Seq:D)</pre>
 <p>Calls <a href="#_routine_pairs.pod6"><span class="code">.pairs</span></a> and returns a <a href="#_type_Seq.pod6">Seq</a> with all of the Pairs with minimum values, as judged by the <a href="#_routine_cmp.pod6"><span class="code">cmp</span>  operator</a>:</p>
 <pre class="code">&lt;a b c a b c&gt;.minpairs.perl.put; # OUTPUT: «(0 =&gt; &quot;a&quot;, 3 =&gt; &quot;a&quot;).Seq␤»
%(:42a, :75b).minpairs.perl.put; # OUTPUT: «(:a(42),).Seq␤»</pre>
 <a name="t58.1.39"></a><h2 id="_type_Any.pod6-method_maxpairs">58.1.39 method maxpairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method maxpairs(Any:D: --&gt; Seq:D)</pre>
 <p>Calls <a href="#_routine_pairs.pod6"><span class="code">.pairs</span></a> and returns a <a href="#_type_Seq.pod6">Seq</a> with all of the Pairs with maximum values, as judged by the <a href="#_routine_cmp.pod6"><span class="code">cmp</span>  operator</a>:</p>
 <pre class="code">&lt;a b c a b c&gt;.maxpairs.perl.put; # OUTPUT: «(2 =&gt; &quot;c&quot;, 5 =&gt; &quot;c&quot;).Seq␤»
%(:42a, :75b).maxpairs.perl.put; # OUTPUT: «(:b(75),).Seq␤»</pre>
 <a name="t58.1.40"></a><h2 id="_type_Any.pod6-method_keys">58.1.40 method keys</h2>
 <p>Defined As:</p>
 <pre class="code">multi method keys(Any:U: --&gt; List)
multi method keys(Any:D: --&gt; List)</pre>
 <p>For defined <a href="#_type_Any.pod6">Any</a> returns its <a href="#_routine_keys.pod6">keys</a> after calling <span class="code">list</span> on it, otherwise calls <span class="code">list</span> and returns it.</p>
 <pre class="code">say Any.keys; # OUTPUT: «()␤»</pre>
 <a name="t58.1.41"></a><h2 id="_type_Any.pod6-method_flatmap">58.1.41 method flatmap</h2>
 <p>Defined As:</p>
 <pre class="code">method flatmap(Any:U: &amp;code --&gt; Seq)</pre>
 <p>Coerces the <a href="#_type_Any.pod6">Any</a> to a <span class="code">list</span> by applying the <a href="#_routine_list.pod6"><span class="code">.list</span></a> method and uses <a href="#_type_List.pod6-method_flatmap"><span class="code">List.flatmap</span></a> on it.</p>
 <pre class="code">say Any.flatmap({.reverse}); # OUTPUT: «((Any))␤»</pre>
 <p>In the case of <a href="#_type_Any.pod6">Any</a>, <span class="code">Any.list</span> returns a 1-item list, as is shown.</p>
 <a name="t58.1.42"></a><h2 id="_type_Any.pod6-method_roll">58.1.42 method roll</h2>
 <p>Defined As:</p>
 <pre class="code">multi method roll(--&gt; Any)
multi method roll($n --&gt; Seq)</pre>
 <p>Coerces the invocant <a href="#_type_Any.pod6">Any</a> to a <span class="code">list</span> by applying the <a href="#_routine_list.pod6"><span class="code">.list</span></a> method and uses <a href="#_type_List.pod6-routine_roll"><span class="code">List.roll</span></a> on it.</p>
 <pre class="code">say Any.roll;    # OUTPUT: «(Any)␤»
say Any.roll(5); # OUTPUT: «((Any) (Any) (Any) (Any) (Any))␤»</pre>
 <a name="t58.1.43"></a><h2 id="_type_Any.pod6-method_pick">58.1.43 method pick</h2>
 <p>Defined As:</p>
 <pre class="code">multi method pick(--&gt; Any)
multi method pick($n --&gt; Seq)</pre>
 <p>Coerces the <a href="#_type_Any.pod6">Any</a> to a <span class="code">list</span> by applying the <a href="#_routine_list.pod6"><span class="code">.list</span></a> method and uses <a href="#_type_List.pod6-routine_pick"><span class="code">List.pick</span></a> on it.</p>
 <pre class="code">say Any.pick;    # OUTPUT: «(Any)␤»
say Any.pick(5); # OUTPUT: «((Any))␤»</pre>
 <a name="t58.1.44"></a><h2 id="_type_Any.pod6-method_skip">58.1.44 method skip</h2>
 <p>Defined As:</p>
 <pre class="code">multi method skip(--&gt; Seq)
multi method skip($n --&gt; Seq)</pre>
 <p>Creates a <a href="#_type_Seq.pod6">Seq</a> from 1-item list's iterator and uses <a href="#_type_Seq.pod6-method_skip"><span class="code">Seq.skip</span></a> on it.</p>
 <pre class="code">say Any.skip;      # OUTPUT: «()␤»
say Any.skip(5);   # OUTPUT: «()␤»
say Any.skip(-1);  # OUTPUT: «((Any))␤»
say Any.skip(*-1); # OUTPUT: «((Any))␤»</pre>
 <a name="t58.1.45"></a><h2 id="_type_Any.pod6-method_prepend">58.1.45 method prepend</h2>
 <p>Defined As:</p>
 <pre class="code">multi method prepend(--&gt; Array)
multi method prepend(@values --&gt; Array)</pre>
 <p>Initializes <a href="#_type_Any.pod6">Any</a> variable as empty <a href="#_type_Array.pod6">Array</a> and calls <a href="#_type_Array.pod6-method_prepend"><span class="code">Array.prepend</span></a> on it.</p>
 <pre class="code">my $a;
say $a.prepend; # OUTPUT: «[]␤»
say $a;         # OUTPUT: «[]␤»
my $b;
say $b.prepend(1,2,3); # OUTPUT: «[1 2 3]␤»</pre>
 <a name="t58.1.46"></a><h2 id="_type_Any.pod6-method_unshift">58.1.46 method unshift</h2>
 <p>Defined As:</p>
 <pre class="code">multi method unshift(--&gt; Array)
multi method unshift(@values --&gt; Array)</pre>
 <p>Initializes <a href="#_type_Any.pod6">Any</a> variable as empty <a href="#_type_Array.pod6">Array</a> and calls <a href="#_type_Array.pod6-routine_unshift"><span class="code">Array.unshift</span></a> on it.</p>
 <pre class="code">my $a;
say $a.unshift; # OUTPUT: «[]␤»
say $a;         # OUTPUT: «[]␤»
my $b;
say $b.unshift([1,2,3]); # OUTPUT: «[[1 2 3]]␤»</pre>
 <a name="t58.1.47"></a><h2 id="_type_Any.pod6-method_first">58.1.47 method first</h2>
 <p>Defined As:</p>
 <pre class="code">method first(Mu $matcher?, :$k, :$kv, :$p, :$end)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_first"><span class="code">List.first</span></a> on it.</p>
 <pre class="code">say Any.first; # OUTPUT: «(Any)␤»</pre>
 <a name="t58.1.48"></a><h2 id="_type_Any.pod6-method_unique">58.1.48 method unique</h2>
 <p>Defined As:</p>
 <pre class="code">method unique(:&amp;as, :&amp;with --&gt; Seq:D)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_unique"><span class="code">List.unique</span></a> on it.</p>
 <pre class="code">say Any.unique; # OUTPUT: «((Any))␤»</pre>
 <a name="t58.1.49"></a><h2 id="_type_Any.pod6-method_repeated">58.1.49 method repeated</h2>
 <p>Defined As:</p>
 <pre class="code">method repeated(:&amp;as, :&amp;with --&gt; Seq)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_repeated"><span class="code">List.repeated</span></a> on it.</p>
 <pre class="code">say Any.repeated; # OUTPUT: «()␤»</pre>
 <a name="t58.1.50"></a><h2 id="_type_Any.pod6-method_squish">58.1.50 method squish</h2>
 <p>Defined As:</p>
 <pre class="code">method squish(:&amp;as, :&amp;with --&gt; Seq)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_squish"><span class="code">List.squish</span></a> on it.</p>
 <pre class="code">say Any.squish; # OUTPUT: «((Any))␤»</pre>
 <a name="t58.1.51"></a><h2 id="_type_Any.pod6-method_permutations">58.1.51 method permutations</h2>
 <p>Defined As:</p>
 <pre class="code">method permutations(--&gt; Seq)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_permutations"><span class="code">List.permutations</span></a> on it.</p>
 <pre class="code">say Any.permutations; # OUTPUT: «(((Any)))␤»</pre>
 <a name="t58.1.52"></a><h2 id="_type_Any.pod6-method_categorize">58.1.52 method categorize</h2>
 <p>Defined As:</p>
 <pre class="code">method categorize(&amp;mapper --&gt; Hash:D)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_categorize"><span class="code">List.categorize</span></a> on it.</p>
 <pre class="code">say Any.categorize({ $_ }); # OUTPUT: «{(Any) =&gt; [(Any)]}␤»</pre>
 <a name="t58.1.53"></a><h2 id="_type_Any.pod6-method_classify">58.1.53 method classify</h2>
 <p>Defined As:</p>
 <pre class="code">method classify(&amp;mapper --&gt;Hash:D)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_classify"><span class="code">List.classify</span></a> on it.</p>
 <pre class="code">say Any.classify({ $_ }); # OUTPUT: «{(Any) =&gt; [(Any)]}␤»</pre>
 <a name="t58.1.54"></a><h2 id="_type_Any.pod6-method_produce">58.1.54 method produce</h2>
 <a name="t58.1.55"></a><h2 id="_type_Any.pod6-method_pairs">58.1.55 method pairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method pairs(Any:U:  --&gt;List)
multi method pairs(Any:D:  --&gt;List)</pre>
 <p>Returns an empty <a href="#_type_List.pod6">List</a> if the invocant is undefined, otherwise converts the invocant to a <a href="#_type_List.pod6">List</a> via the <span class="code">list</span> method and calls <a href="#_type_List.pod6-routine_pairs">List.pairs</a> on it:</p>
 <pre class="code">say Any.pairs; # OUTPUT: «()␤»
my $a;
say $a.pairs;  # OUTPUT: «()»
$a = Any.new;
say $a.pairs;  # OUTPUT: «(0 =&gt; Any.new)»</pre>
 <a name="t58.1.56"></a><h2 id="_type_Any.pod6-method_antipairs">58.1.56 method antipairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method antipairs(Any:U:  --&gt;List)
multi method antipairs(Any:D:  --&gt;List)</pre>
 <p>Applies the method <a href="#_type_List.pod6-routine_antipairs">List.antipairs</a> to the invocant, if it is defined, after having invoked <span class="code">list</span> on it. If the invocant is not defined, it returns an empty <a href="#_type_List.pod6">List</a>:</p>
 <pre class="code">my $a;
say $a.antipairs;      # OUTPUT: «()»
$a = Any.new;
say $a.antipairs;      # OUTPUT: «(Any.new =&gt; 0)»</pre>
 <a name="t58.1.57"></a><h2 id="_type_Any.pod6-method_kv">58.1.57 method kv</h2>
 <p>Defined As:</p>
 <pre class="code">multi method kv(Any:U:  --&gt;List)
multi method kv(Any:D:  --&gt;List)</pre>
 <p>Returns an empty <a href="#_type_List.pod6">List</a> if the invocant is not defined, otherwise it does invoke <span class="code">list</span> on the invocant and then returns the result of <a href="#_type_List.pod6-routine_kv">List.kv</a> on the latter:</p>
 <pre class="code">my $a;
say $a.kv;      # OUTPUT: «()»
$a = Any.new;
say $a.kv;      # OUTPUT: «(0 Any.new)»
say Any.kv;     # OUTPUT: «()␤»</pre>
 <a name="t58.1.58"></a><h2 id="_type_Any.pod6-method_toggle">58.1.58 method toggle</h2>
 <p>Defined as:</p>
 <pre class="code">method toggle(Any:D: *@conditions where .all ~~ Callable:D, Bool :$off  --&gt; Seq:D)</pre>
 <p><a href="#_routine_iterator.pod6">Iterates</a> over the invocant, producing a <a href="#_type_Seq.pod6">Seq</a>, toggling whether the received values are propagated to the result on and off, depending on the results of calling <a href="#_type_Callable.pod6">Callables</a> in <span class="code">@conditions</span>:</p>
 <pre class="code">say ^10 .toggle: * &lt; 4, * %% 2, &amp;is-prime; # OUTPUT: «(0 1 2 3 6 7)␤»
say ^10 .toggle: :off, * &gt; 4;              # OUTPUT: «(5 6 7 8 9)␤»</pre>
 <p>Imagine a switch that's either on or off (<span class="code">True</span> or <span class="code">False</span>), and values are produced if it's on. By default, the initial state of that switch is in &quot;on&quot; position, unless <span class="code">:$off</span> is set to a true value, in which case the initial state will be &quot;off&quot;.</p>
 <p>A <a href="#_type_Callable.pod6">Callable</a> from the <a href="#_routine_head.pod6">head</a> of <span class="code">@conditions</span> is taken (if any are available) and it becomes the current tester. Each value from the original sequence is tested by calling the tester <a href="#_type_Callable.pod6">Callable</a> with that value. The state of our imaginary switch is set to the return value from the tester: if it's truthy, set switch to &quot;on&quot;, otherwise set it to &quot;off&quot;.</p>
 <p>Whenever the switch is <i>toggled</i> (i.e. switched from &quot;off&quot; to &quot;on&quot; or from &quot;on&quot; to &quot;off&quot;), the current tester <a href="#_type_Callable.pod6">Callable</a> is replaced by the next <a href="#_type_Callable.pod6">Callable</a> in <span class="code">@conditions</span>, if available, which will be used to test any further values. If no more tester Callables are available, the switch will remain in its current state until the end of iteration.</p>
 <pre class="code"># our original sequence of elements: 
 say list ^10; # OUTPUT: «(0 1 2 3 4 5 6 7 8 9)␤» 
 # toggled result: 
 say ^10 .toggle: * &lt; 4, * %% 2, &amp;is-prime; # OUTPUT: «(0 1 2 3 6 7)␤» 
 
 # First tester Callable is `* &lt; 4` and initial state of switch is &quot;on&quot;. 
 # As we iterate over our original sequence: 
 # 0 =&gt; 0 &lt; 4 === True  switch is on, value gets into result, switch is 
 #                      toggled, so we keep using the same Callable: 
 # 1 =&gt; 1 &lt; 4 === True  same 
 # 2 =&gt; 2 &lt; 4 === True  same 
 # 3 =&gt; 3 &lt; 4 === True  same 
 # 4 =&gt; 4 &lt; 4 === False switch is now off, &quot;4&quot; does not make it into the 
 #                      result. In addition, our switch got toggled, so 
 #                      we're switching to the next tester Callable 
 # 5 =&gt; 5 %% 2 === False  switch is still off, keep trying to find a value 
 # 6 =&gt; 6 %% 2 === True   switch is now on, take &quot;6&quot; into result. The switch 
 #                        toggled, so we'll use the next tester Callable 
 # 7 =&gt; is-prime(7) === True  switch is still on, take value and keep going 
 # 8 =&gt; is-prime(8) === False switch is now off, &quot;8&quot; does not make it into 
 #                            the result. The switch got toggled, but we 
 #                            don't have any more tester Callables, so it 
 #                            will remain off for the rest of the sequence. 
</pre>
 <p>Since the toggle of the switch's state loads the next tester <a href="#_type_Callable.pod6">Callable</a>, setting <span class="code">:$off</span> to a <span class="code">True</span> value affects when first tester is discarded:</p>
 <pre class="code"># our original sequence of elements: 
 say &lt;0 1 2&gt;; # OUTPUT: «(0 1 2)␤» 
 # toggled result: 
 say &lt;0 1 2&gt;.toggle: * &gt; 1; # OUTPUT: «()␤» 
 
 # First tester Callable is `* &gt; 1` and initial state of switch is &quot;on&quot;. 
 # As we iterate over our original sequence: 
 # 0 =&gt; 0 &gt; 1 === False  switch is off, &quot;0&quot; does not make it into result. 
 #                      In addition, switch got toggled, so we change the 
 #                      tester Callable, and since we don't have any more 
 #                      of them, the switch will remain &quot;off&quot; until the end 
</pre>
 <pre class="code"># our original sequence of elements: 
 say &lt;0 1 2&gt;; # OUTPUT: «(0 1 2)␤» 
 # toggled result: 
 say &lt;0 1 2&gt;.toggle: :off, * &gt; 1; # OUTPUT: «(2)␤» 
 
 # First tester Callable is `* &gt; 1` and initial state of switch is &quot;off&quot;. 
 # As we iterate over our original sequence: 
 # 0 =&gt; 0 &gt; 1 === False  switch is off, &quot;0&quot; does not make it into result. 
 #                       The switch did NOT get toggled this time, so we 
 #                       keep using our current tester Callable 
 # 1 =&gt; 1 &gt; 1 === False  same 
 # 2 =&gt; 2 &gt; 1 === True   switch is on, &quot;2&quot; makes it into the result 
</pre>
 <a name="t58.1.59"></a><h2 id="_type_Any.pod6-method_tree">58.1.59 method tree</h2>
 <p>Defined As:</p>
 <pre class="code">method tree(--&gt; Any)</pre>
 <p>Returns the class if it's undefined or if it's not iterable, returns the result of applying the <span class="code">tree</span> method to the elements if it's <a href="#_type_Iterable.pod6">Iterable</a>.</p>
 <pre class="code">say Any.tree; # OUTPUT: «Any␤»</pre>
 <p><span class="code">.tree</span> has different prototypes for <a href="#_type_Iterable.pod6">Iterable</a> elements.</p>
 <pre class="code">my @floors = ( 'A', ('B','C', ('E','F','G')));
say @floors.tree(1).flat.elems; # OUTPUT: «6␤»
say @floors.tree(2).flat.elems; # OUTPUT: «2␤»
say @floors.tree( *.join(&quot;-&quot;), *.join(&quot;—&quot;), *.join(&quot;|&quot; )); # OUTPUT: «A-B—C—E|F|G␤»</pre>
 <p>With a number, it iteratively applies <span class="code">tree</span> to every element in the lower level; the first instance will apply <span class="code">.tree(0)</span> to every element in the array, and likewise for the next example.</p>
 <p>The second prototype applies the <span class="code">Whatever</span> code passed as arguments to every level in turn; the first argument will go to level 1 and so on. <span class="code">tree</span> can, thus, be a great way to process complex all levels of complex, multi-level, data structures.</p>
 <a name="t58.1.60"></a><h2 id="_type_Any.pod6-method_nl-out">58.1.60 method nl-out</h2>
 <p>Defined As:</p>
 <pre class="code">method nl-out(--&gt; Str)</pre>
 <p>Returns Str with the value of &quot;\n&quot;. See <a href="#_type_IO::Handle.pod6-method_nl-out"><span class="code">IO::Handle.nl-out</span></a> for the details.</p>
 <pre class="code">say Any.nl-out; # OUTPUT: «␤␤»</pre>
 <a name="t58.1.61"></a><h2 id="_type_Any.pod6-method_invert">58.1.61 method invert</h2>
 <p>Defined As:</p>
 <pre class="code">method invert(--&gt; List)</pre>
 <p>Returns an empty List.</p>
 <pre class="code">say Any.invert; # OUTPUT: «()␤»</pre>
 <a name="t58.1.62"></a><h2 id="_type_Any.pod6-method_combinations">58.1.62 method combinations</h2>
 <p>Defined As:</p>
 <pre class="code">method combinations(--&gt; Seq)</pre>
 <p>Treats the <span class="code">Any</span> as a 1-item list and uses <a href="#_type_List.pod6-routine_combinations"><span class="code">List.combinations</span></a> on it.</p>
 <pre class="code">say Any.combinations; # OUTPUT: «(() ((Any)))␤»</pre>
 <a name="t58.1.63"></a><h2 id="_type_Any.pod6-method_iterator">58.1.63 method iterator</h2>
 <p>Defined As:</p>
 <pre class="code">method iterator(--&gt; Iterator)</pre>
 <p>Coerces the <span class="code">Any</span> to a <span class="code">list</span> by applying the <span class="code">.list</span> method and uses <a href="#_type_Iterable.pod6-method_iterator"><span class="code">iterator</span></a> on it.</p>
 <pre class="code">my $it = Any.iterator;
say $it.pull-one; # OUTPUT: «(Any)␤»
say $it.pull-one; # OUTPUT: «IterationEnd␤»</pre>
 <a name="t58.1.64"></a><h2 id="_type_Any.pod6-method_grep">58.1.64 method grep</h2>
 <p>Defined As:</p>
 <pre class="code">method grep(Mu $matcher, :$k, :$kv, :$p, :$v --&gt; Seq)</pre>
 <p>Coerces the <span class="code">Any</span> to a <span class="code">list</span> by applying the <span class="code">.list</span> method and uses <a href="#_type_List.pod6-routine_grep"><span class="code">List.grep</span></a> on it.</p>
 <p>Based on <span class="code">$matcher</span> value can be either <span class="code">((Any))</span> or empty List.</p>
 <pre class="code">my $a;
say $a.grep({ True }); # OUTPUT: «((Any))␤»
say $a.grep({ $_ });   # OUTPUT: «()␤»</pre>
 <a name="t58.1.65"></a><h2 id="_type_Any.pod6-method_append">58.1.65 method append</h2>
 <p>Defined As:</p>
 <pre class="code">proto method append(|) is nodal {*}
multi method append(Any:U \SELF: |values --&gt; Array)</pre>
 <p>In the case the instance is not a positional-thing, it instantiate it as a new <a href="#_type_Array.pod6">Array</a>, otherwise clone the current instance. After that, it appends the values passed as arguments to the array obtained calling <a href="#_type_Array.pod6-method_append"><span class="code">Array.append</span></a> on it.</p>
 <pre class="code">my $a;
say $a.append; # OUTPUT: «[]␤»
my $b;
say $b.append((1,2,3)); # OUTPUT: «[1 2 3]␤»</pre>
 <a name="t58.1.66"></a><h2 id="_type_Any.pod6-method_values">58.1.66 method values</h2>
 <p>Defined As:</p>
 <pre class="code">method values(--&gt; List)</pre>
 <p>Returns an empty List.</p>
 <a name="t58.1.67"></a><h2 id="_type_Any.pod6-method_collate">58.1.67 method collate</h2>
 <p>Defined As:</p>
 <pre class="code">method collate(--&gt; Seq)</pre>
 <p>TODO</p>
 <a name="t58.1.68"></a><h2 id="_type_Any.pod6-method_cache">58.1.68 method cache</h2>
 <p>Defined As:</p>
 <pre class="code">method cache(--&gt; List)</pre>
 <p>Provides a <a href="#_type_List.pod6">List</a> representation of the object itself, calling the method <span class="code">list</span> on the instance.</p>
</div>
<!-- /type/Array.pod6 --><div class="pod-body"><a id="_type_Array.pod6"></a><a name="t59"><h1 class="title">59 class Array</h1></a> <p class="subtitle">Sequence of itemized values</p> <pre class="code">class Array is List {}</pre>
 <p>An <span class="code">Array</span> is a <a href="#_type_List.pod6">List</a> which forces all its elements to be scalar containers, which means you can assign to array elements.</p>
 <p><span class="code">Array</span> implements <span class="code">Positional</span> and as such provides support for <a href="#_language_subscripts.pod6">subscripts</a>.</p>
 <a name="t59.1"></a><h1 id="_type_Array.pod6-Methods">59.1 Methods</h1>
 <a name="t59.1.1"></a><h2 id="_type_Array.pod6-method_gist">59.1.1 method gist</h2>
 <p>Exactly the same as <a href="#_type_List.html.pod6-method_gist"><span class="code">List.gist</span></a>, except using square brackets for surrounding delimiters.</p>
 <a name="t59.1.2"></a><h2 id="_type_Array.pod6-routine_pop">59.1.2 routine pop</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    pop(Array:D )
multi method pop(Array:D:)</pre>
 <p>Removes and returns the last item from the array. Fails for an empty array.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b&gt;; # a b
@foo.pop;        # b
pop @foo;        # a
pop @foo;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Cannot::Empty: Cannot pop from an empty Array␤»</pre>
 <a name="t59.1.3"></a><h2 id="_type_Array.pod6-routine_push">59.1.3 routine push</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    push(Array:D, **@values --&gt; Array:D)
multi method push(Array:D: **@values --&gt; Array:D)</pre>
 <p>Adds the <span class="code">@values</span> to the end of the array, and returns the modified list. Throws for lazy arrays.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b c&gt;;
@foo.push: 'd';
say @foo;                   # OUTPUT: «[a b c d]␤»</pre>
 <p>Note that <span class="code">push</span> does not attempt to flatten its argument list. If you pass an array or list as the thing to push, it becomes one additional element:</p>
 <pre class="code">my @a = &lt;a b c&gt;;
my @b = &lt;d e f&gt;;
@a.push: @b;
say @a.elems;               # OUTPUT: «4␤»
say @a[3].join;             # OUTPUT: «def␤»</pre>
 <p>Only if you supply multiple values as separate arguments to <span class="code">push</span> are multiple values added to the array:</p>
 <pre class="code">my @a = '1';
my @b = &lt;a b&gt;;
my @c = &lt;E F&gt;;
@a.push: @b, @c;
say @a.elems;                # OUTPUT: «3␤»</pre>
 <p>See <a href="#58-method append">method append</a> for when you want to append multiple values that are stored in a single array.</p>
 <a name="t59.1.4"></a><h2 id="_type_Array.pod6-method_append">59.1.4 method append</h2>
 <p>Defined as</p>
 <pre class="code">sub append(\array, elems) 
</pre>
 <pre class="code">multi method append(Array:D: \values)
multi method append(Array:D: **@values is raw)</pre>
 <p>Appends the argument list to the array passed as the first argument. This modifies the array in-place. Returns the modified array. Throws for lazy arrays.</p>
 <p>The difference from method <span class="code">push</span> is that with an array or list argument, <span class="code">append</span> appends several elements (one for each array or list element), whereas <span class="code">push</span> appends just one element.</p>
 <p>Example:</p>
 <pre class="code">my @a = &lt;a b c&gt;;
my @b = &lt;d e f&gt;;
@a.append: @b;
say @a.elems;               # OUTPUT: «6␤»
say @a;                     # OUTPUT: «[a b c d e f]␤»</pre>
 <a name="t59.1.5"></a><h2 id="_type_Array.pod6-method_elems">59.1.5 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">method elems(Array:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements in the invocant. Throws <span class="code">X::Cannot::Lazy</span> exception if the invocant <a href="#_routine_is-lazy.pod6">is lazy</a>. For shaped arrays, returns the outer dimension; see <a href="#_routine_shape.pod6">shape</a> if you need information for all dimensions.</p>
 <pre class="code">say [&lt;foo bar ber&gt;] .elems; # OUTPUT: «3␤»
say (my @a[42;3;70]).elems; # OUTPUT: «42␤»

try [-∞...∞].elems;
say $!.^name;               # OUTPUT: «X::Cannot::Lazy␤»</pre>
 <a name="t59.1.6"></a><h2 id="_type_Array.pod6-method_clone">59.1.6 method clone</h2>
 <p>Defined as:</p>
 <pre class="code">method clone(Array:D: --&gt; Array:D)</pre>
 <p>Clones the original <span class="code">Array</span>. Modifications of elements in the clone are not propagated to the original and vice-versa:</p>
 <pre class="code">my @a = &lt;a b c&gt;; my @b = @a.clone;
@b[1] = 42; @a.push: 72;
say @b; # OUTPUT: «[a 42 c]␤»
say @a; # OUTPUT: «[a b c 72]␤»</pre>
 <p>However, note that the reifier <i>is</i> shared between the two Arrays, so both Arrays will have the same elements even when each is randomly-generated on reification and each element will be reified just once, regardless of whether the reification was done by the clone or the original Array. <b>Note:</b> just as reifying an Array from multiple threads is not safe, so is, for example, reifying the clone from one thread while reifying the original from another thread is not safe.</p>
 <pre class="code">my @a = 1, {rand} … ∞; my @b = @a.clone;
say @b[^3]; # OUTPUT: «(1 0.0216426755282736 0.567660896142156)␤»
say @a[^3]; # OUTPUT: «(1 0.0216426755282736 0.567660896142156)␤»</pre>
 <a name="t59.1.7"></a><h2 id="_type_Array.pod6-routine_shift">59.1.7 routine shift</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    shift(Array:D )
multi method shift(Array:D:)</pre>
 <p>Removes and returns the first item from the array. Fails for an empty arrays.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b&gt;;
say @foo.shift;             # OUTPUT: «a␤»
say @foo.shift;             # OUTPUT: «b␤»
say @foo.shift;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Cannot::Empty: Cannot shift from an empty Array␤»</pre>
 <a name="t59.1.8"></a><h2 id="_type_Array.pod6-routine_unshift">59.1.8 routine unshift</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    unshift(Array:D, **@values --&gt; Array:D)
multi method unshift(Array:D: **@values --&gt; Array:D)</pre>
 <p>Adds the <span class="code">@values</span> to the start of the array, and returns the modified array. Fails if <span class="code">@values</span> is infinite.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b c&gt;;
@foo.unshift: 1, 3 ... 11;
say @foo;                   # OUTPUT: «[(1 3 5 7 9 11) a b c]␤»</pre>
 <p>The notes in <a href="#58-method push">the documentation for method push</a> apply, regarding how many elements are added to the array.</p>
 <p><a href="#58-method prepend">#method prepend</a> is the equivalent for adding multiple elements from one list or array.</p>
 <a name="t59.1.9"></a><h2 id="_type_Array.pod6-method_prepend">59.1.9 method prepend</h2>
 <p>Defined as</p>
 <pre class="code">sub prepend(\array, elems) 
</pre>
 <pre class="code">multi method prepend(Array:D: \values)
multi method prepend(Array:D: **@values is raw)</pre>
 <p>Adds the elements from <span class="code">LIST</span> to the front of the array, modifying it in-place.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b c&gt;;
@foo.prepend: 1, 3 ... 11;
say @foo;                   # OUTPUT: «[1 3 5 7 9 11 a b c]␤»</pre>
 <a name="t59.1.10"></a><h2 id="_type_Array.pod6-routine_splice">59.1.10 routine splice</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    splice(@list,   $start = 0, $elems?, *@replacement --&gt; Array)
multi method splice(Array:D: $start = 0, $elems?, *@replacement --&gt; Array)</pre>
 <p>Deletes <span class="code">$elems</span> elements starting from index <span class="code">$start</span> from the <span class="code">Array</span>, returns them and replaces them by <span class="code">@replacement</span>. If <span class="code">$elems</span> is omitted, all the elements starting from index <span class="code">$start</span> are deleted. If both <span class="code">$start</span> and <span class="code">$elems</span> are omitted, all elements are deleted from the <span class="code">Array</span> and returned.</p>
 <p>Each of <span class="code">$start</span> and <span class="code">$elems</span> can be specified as a <a href="#_type_Whatever.pod6">Whatever</a> or as a <a href="#_type_Callable.pod6">Callable</a> that returns an <span class="code">int</span>-compatible value.</p>
 <p>A <span class="code">Whatever</span> <span class="code">$start</span> uses the number of elements of <span class="code">@list</span> (or invocant). A <span class="code">Callable</span> <span class="code">$start</span> is called with one argument—the number of elements in <span class="code">@list</span>—and its return value is used as <span class="code">$start</span>.</p>
 <p>A <span class="code">Whatever</span> <span class="code">$elems</span> deletes from <span class="code">$start</span> to end of <span class="code">@list</span> (same as no <span class="code">$elems</span>). A <span class="code">Callable</span> <span class="code">$elems</span> is called with just one argument—the number of elements in <span class="code">@list</span> minus the value of <span class="code">$start</span>—and its return value is used the value of <span class="code">$elems</span>.</p>
 <p>Example:</p>
 <pre class="code">my @foo = &lt;a b c d e f g&gt;;
say @foo.splice(2, 3, &lt;M N O P&gt;);        # OUTPUT: «[c d e]␤»
say @foo;                                # OUTPUT: «[a b M N O P f g]␤»</pre>
 <a name="t59.1.11"></a><h2 id="_type_Array.pod6-method_shape">59.1.11 method shape</h2>
 <p>Defined as:</p>
 <pre class="code">method shape() { (*,) }</pre>
 <p>Returns the shape of the array as a list.</p>
 <p>Example:</p>
 <pre class="code">my @foo[2;3] = ( &lt; 1 2 3 &gt;, &lt; 4 5 6 &gt; ); # Array with fixed dimensions
say @foo.shape;                          # OUTPUT: «(2 3)␤»
my @bar = ( &lt; 1 2 3 &gt;, &lt; 4 5 6 &gt; );      # Normal array (of arrays)
say @bar.shape;                          # OUTPUT: «(*)␤»</pre>
 <a name="t59.1.12"></a><h2 id="_type_Array.pod6-method_default">59.1.12 method default</h2>
 <p>Defined as:</p>
 <pre class="code">method default</pre>
 <p>Returns the default value of the invocant, i.e. the value which is returned when trying to access an element in the <span class="code">Array</span> which has not been previously initialized or when accessing an element which has explicitly been set to <span class="code">Nil</span>. Unless the <span class="code">Array</span> is declared as having a default value by using the <a href="#_routine_is default (Variable).pod6">is default</a> trait the method returns the type object <span class="code">(Any)</span>.</p>
 <pre class="code">my @a1 = 1, &quot;two&quot;, 2.718;
say @a1.default;                                       # OUTPUT: «(Any)␤»
say @a1[4];                                            # OUTPUT: «(Any)␤»

my @a2 is default(17) = 1, &quot;two&quot;, 3;
say @a2.default;                                       # OUTPUT: «17␤»
say @a2[4];                                            # OUTPUT: «17␤»
@a2[1] = Nil;                                          # (resets element to its default)
say @a2[1];                                            # OUTPUT: «17␤»</pre>
 <a name="t59.1.13"></a><h2 id="_type_Array.pod6-method_of">59.1.13 method of</h2>
 <p>Defined as:</p>
 <pre class="code">method of</pre>
 <p>Returns the type constraint for the values of the invocant. By default, i.e. if no type constraint is given during declaration, the method returns <span class="code">(Mu)</span>.</p>
 <pre class="code">my @a1 = 1, 'two', 3.14159;              # (no type constraint specified)
say @a1.of;                              # OUTPUT: «(Mu)␤»

my Int @a2 = 1, 2, 3;                    # (values must be of type Int)
say @a2.of;                              # OUTPUT: «(Int)␤»
@a2.push: 'd';
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to @a2; expected Int but got Str (&quot;d&quot;)␤»</pre>
 <a name="t59.1.14"></a><h2 id="_type_Array.pod6-routine_dynamic">59.1.14 routine dynamic</h2>
 <p>Defined as:</p>
 <pre class="code">method dynamic(Array:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant has been declared with the <a href="#_routine_is dynamic.pod6">is dynamic</a> trait.</p>
 <pre class="code">my @a;
say @a.dynamic;                          # OUTPUT: «False␤»

my @b is dynamic;
say @b.dynamic;                          # OUTPUT: «True␤»</pre>
 <p>If you declare a variable with the <span class="code">*</span> twigil <span class="code">is dynamic</span> is implied.</p>
 <pre class="code">my @*b;
say @*b.dynamic;                         # OUTPUT: «True␤»</pre>
 <p>Note that in the <a href="#_type_Scalar.pod6">Scalar</a> case you have to use the <span class="code">VAR</span> method in order to get correct information.</p>
 <pre class="code">my $s is dynamic = [1, 2, 3];
say $s.dynamic;                          # OUTPUT: «False␤»  (wrong, don't do this)
say $s.VAR.dynamic;                      # OUTPUT: «True␤»   (correct approach)</pre>
</div>
<!-- /type/Associative.pod6 --><div class="pod-body"><a id="_type_Associative.pod6"></a><a name="t60"><h1 class="title">60 role Associative</h1></a> <p class="subtitle">Object that supports looking up values by key</p> <pre class="code">role Associative { }</pre>
 <p>A common role for types that support name-based lookup through <a href="#_language_operators.pod6-postcircumfix_{_}">postcircumfix:&lt;{ }&gt;</a>, for example <a href="#_type_Hash.pod6">Hash</a> and <a href="#_type_Map.pod6">Map</a>. It is used for type checks in operators that expect to find specific methods to call. See <a href="#_language_subscripts.pod6-Methods_to_implement_for_associative_subscripting">Subscripts</a> for details.</p>
 <p>The <span class="code">%</span> sigil restricts variables to objects that do <span class="code">Associative</span>.</p>
 <p>Associative does not provide any methods.</p>
</div>
<!-- /type/Attribute.pod6 --><div class="pod-body"><a id="_type_Attribute.pod6"></a><a name="t61"><h1 class="title">61 class Attribute</h1></a> <p class="subtitle">Member variable</p> <pre class="code">class Attribute { }</pre>
 <p>In Perl 6 lingo, an <i>attribute</i> refers to a per-instance/object storage slot. An <span class="code">Attribute</span> is used to talk about classes' and roles' attributes on the meta level.</p>
 <p>Normal usage of attributes does not require the user to use class Attribute explicitly.</p>
 <p>The usual way to obtain an object of type <span class="code">Attribute</span> is by introspection:</p>
 <pre class="code">class Useless {
    has @!things;
}
my $a = Useless.^attributes(:local)[0];
say $a.name;            # OUTPUT: «@!things␤»
say $a.package;         # OUTPUT: «(Useless)␤»
say $a.has_accessor;    # OUTPUT: «False␤»

# modifying an attribute from the outside
# this is usually not possible, but since Attribute
# is at the level of the meta class, all is fair game
my $instance = Useless.new;
$a.set_value($instance, [1, 2, 3]);
say $a.get_value($instance);        # OUTPUT: «[1 2 3]␤»</pre>
 <a name="t61.1"></a><h1 id="_type_Attribute.pod6-Traits">61.1 Traits</h1>
 <a name="t61.1.1"></a><h2 id="_type_Attribute.pod6-Trait_is_default">61.1.1 <a name="843"></a>Trait is default</h2>
 <p>An attribute that is assigned <a href="#_type_Nil.pod6">Nil</a> will revert to its default value set with the trait <span class="code">is default</span>.</p>
 <pre class="code">class C {
    has $.a is default(42) is rw = 666
}
my $c = C.new;
say $c;
$c.a = Nil;
say $c;
# OUTPUT: «C.new(a =&gt; 666)␤C.new(a =&gt; 42)␤»</pre>
 <a name="t61.1.2"></a><h2 id="_type_Attribute.pod6-Trait_is_required">61.1.2 <a name="844"></a>Trait is required</h2>
 <p>The trait <span class="code">is required</span> will mark the attribute as to be filled with a value when the object is instantiated. Failing to do so will result in a runtime error.</p>
 <pre class="code">class C {
    has $.a is required
}
my $c = C.new;
CATCH{ default { say .^name, ': ', .Str } }
# OUTPUT: «X::Attribute::Required: The attribute '$!a' is required, but you did not provide a value for it.␤»</pre>
 <a name="t61.1.3"></a><h2 id="_type_Attribute.pod6-trait_is_DEPRECATED">61.1.3 <a name="845"></a>trait is DEPRECATED</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Attribute:D $r, :$DEPRECATED!)</pre>
 <p>Marks an attribute as deprecated, optionally with a message what to use instead.</p>
 <p>TODO: Add example when it's implemented in Rakudo.</p>
 <a name="t61.2"></a><h1 id="_type_Attribute.pod6-Methods">61.2 Methods</h1>
 <a name="t61.2.1"></a><h2 id="_type_Attribute.pod6-method_name">61.2.1 method name</h2>
 <p>Defined as:</p>
 <pre class="code">method name(Attribute:D: --&gt; Str:D)</pre>
 <p>Returns the name of the attribute. Note that this is always the private name, so if an attribute is declared as <span class="code">has $.a</span>, the name returned is <span class="code">$!a</span>.</p>
 <pre class="code">class Foo {
    has @!bar;
}
my $a = Foo.^attributes(:local)[0];
say $a.name;            # OUTPUT: «@!bar␤»</pre>
 <a name="t61.2.2"></a><h2 id="_type_Attribute.pod6-method_package">61.2.2 method package</h2>
 <p>Defined as:</p>
 <pre class="code">method package(Attribute:D: --&gt; Mu:U)</pre>
 <p>Returns the package (class/grammar/role) to which this attribute belongs.</p>
 <pre class="code">class Boo {
    has @!baz;
}
my $a = Boo.^attributes(:local)[0];
say $a.package;         # OUTPUT: «(Boo)␤»</pre>
 <a name="t61.2.3"></a><h2 id="_type_Attribute.pod6-method_has_accessor">61.2.3 method has_accessor</h2>
 <p>Defined as:</p>
 <pre class="code">method has_accessor(Attribute:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the attribute has a public accessor method.</p>
 <pre class="code">class Container {
    has $!private;
    has $.public;
}
my $private = Container.^attributes(:local)[0];
my $public = Container.^attributes(:local)[1];
say $private.has_accessor; # OUTPUT: «False␤»
say $public.has_accessor;  # OUTPUT: «True␤»</pre>
 <a name="t61.2.4"></a><h2 id="_type_Attribute.pod6-method_readonly">61.2.4 method readonly</h2>
 <p>Defined as:</p>
 <pre class="code">method readonly(Attribute:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for readonly attributes, which is the default. Returns <span class="code">False</span> for attributes marked as <span class="code">is rw</span>.</p>
 <pre class="code">class Library {
    has $.address; # Read-only value
    has @.new-books is rw;
}
my $addr = Library.^attributes(:local)[0];
my $new-books = Library.^attributes(:local)[1];
say $addr.readonly;      # OUTPUT: «True␤»
say $new-books.readonly; # OUTPUT: «False␤»</pre>
 <a name="t61.2.5"></a><h2 id="_type_Attribute.pod6-method_type">61.2.5 method type</h2>
 <p>Defined as:</p>
 <pre class="code">method type(Attribute:D: --&gt; Mu)</pre>
 <p>Returns the type constraint of the attribute.</p>
 <pre class="code">class TypeHouse {
    has Int @.array;
    has $!scalar;
    has @.mystery;
}
my @types = TypeHouse.^attributes(:local)[0..2];
for 0..2 { say @types[$_].type }
# OUTPUT: «(Positional[Int])
# (Mu)
# (Positional)␤»</pre>
 <a name="t61.2.6"></a><h2 id="_type_Attribute.pod6-method_get_value">61.2.6 method get_value</h2>
 <p>Defined as:</p>
 <pre class="code">method get_value(Attribute:D: Mu $instance)</pre>
 <p>Returns the value stored in this attribute of object <span class="code">$instance</span>.</p>
 <pre class="code">class Violated {
    has $!private-thing = 5;
}
my $private = Violated.^attributes(:local)[0];
say $private.get_value(Violated.new); # OUTPUT: «5␤»</pre>
 <p>Note that this method violates encapsulation of the object, and should be used with care. Here be dragons.</p>
 <a name="t61.2.7"></a><h2 id="_type_Attribute.pod6-method_set_value">61.2.7 method set_value</h2>
 <p>Defined as:</p>
 <pre class="code">method set_value(Attribute:D: Mu $instance, Mu \new_val)</pre>
 <p>Binds the value <span class="code">new_val</span> to this attribute of object <span class="code">$instance</span>.</p>
 <pre class="code">class A {
    has $!a = 5;
    method speak() { say $!a; }
}
my $attr = A.^attributes(:local)[0];
my $a = A.new;
$a.speak; # OUTPUT: «5␤»
$attr.set_value($a, 42);
$a.speak; # OUTPUT: «42␤»</pre>
 <p>Note that this method violates encapsulation of the object, and should be used with care. Here be dragons.</p>
 <a name="t61.2.8"></a><h2 id="_type_Attribute.pod6-trait_is_required">61.2.8 trait is required</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt; (Attribute $attr, :$required!)</pre>
 <p>Marks an attribute as being required. If a value is not provided during object construction, an exception is thrown.</p>
 <pre class="code">class Foo {
   has $.bar is required;
   has $.baz;
};

Foo.new(bar =&gt; 42); # works
Foo.new(baz =&gt; 42);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Attribute::Required: The attribute '$!bar' is required, but you did not provide a value for it.␤»</pre>
 <p><span class="code">is required</span> doesn't just affect the default constructor, it checks for the attribute at a lower level, so it will work for custom constructors written using <a href="#_routine_bless.pod6">bless</a>.</p>
 <a name="t61.2.9"></a><h2 id="_type_Attribute.pod6-trait_is_rw">61.2.9 trait is rw</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt; (Attribute:D $attr, :$rw!)</pre>
 <p>Marks an attribute as read/write as opposed to the default <span class="code">readonly</span>. The default accessor for the attribute will return a writable value.</p>
 <pre class="code">class Boo {
   has $.bar is rw;
   has $.baz;
};

my $boo = Boo.new;
$boo.bar = 42; # works
$boo.baz = 42;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Any␤»</pre>
</div>
<!-- /type/Backtrace.pod6 --><div class="pod-body"><a id="_type_Backtrace.pod6"></a><a name="t62"><h1 class="title">62 class Backtrace</h1></a> <p class="subtitle">Snapshot of the dynamic call stack</p> <pre class="code">class Backtrace is List {}</pre>
 <p>A backtrace shows the dynamic call stack, usually leading up to a point where an exception was thrown.</p>
 <p>It is a List of <a href="#_type_Backtrace::Frame.pod6">Backtrace::Frame</a> objects. Its default stringification excludes backtrace frames that are deemed unnecessary or confusing, for example routines like <span class="code">&amp;die</span> are hidden by default.</p>
 <a name="t62.1"></a><h1 id="_type_Backtrace.pod6-Methods">62.1 Methods</h1>
 <a name="t62.1.1"></a><h2 id="_type_Backtrace.pod6-method_new">62.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new(--&gt; Backtrace:D)</pre>
 <p>Creates a new backtrace, using its calling location as the origin of the backtrace.</p>
 <pre class="code">my $backtrace = Backtrace.new;</pre>
 <a name="t62.1.2"></a><h2 id="_type_Backtrace.pod6-method_gist">62.1.2 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">multi method gist(Backtrace:D: --&gt; Str:D)</pre>
 <p>Returns string <span class="code">&quot;Backtrace(42 frames)&quot;</span> where the number indicates the number of frames available via <a href="#_routine_list.pod6">list</a> method.</p>
 <a name="t62.1.3"></a><h2 id="_type_Backtrace.pod6-method_Str">62.1.3 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Str(Backtrace:D:)</pre>
 <p>Returns a concise string representation of the backtrace, omitting routines marked as <span class="code">is hidden-from-backtrace</span>, and at the discretion of the implementation, also some routines from the setting.</p>
 <pre class="code">my $backtrace = Backtrace.new;
say $backtrace.Str;</pre>
 <a name="t62.1.4"></a><h2 id="_type_Backtrace.pod6-method_full">62.1.4 method full</h2>
 <p>Defined as:</p>
 <pre class="code">multi method full(Backtrace:D:)</pre>
 <p>Returns a full string representation of the backtrace, including hidden frames, compiler-specific frames and those from the setting.</p>
 <pre class="code">my $backtrace = Backtrace.new;
say $backtrace.full;</pre>
 <a name="t62.1.5"></a><h2 id="_type_Backtrace.pod6-method_list">62.1.5 method list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method list(Backtrace:D:)</pre>
 <p>Returns a list of <a href="#_type_Backtrace::Frame.pod6">Backtrace::Frame</a> objects for this backtrace.</p>
</div>
<!-- /type/Backtrace/Frame.pod6 --><div class="pod-body"><a id="_type_Backtrace_Frame.pod6"></a><a name="t63"><h1 class="title">63 class Backtrace::Frame</h1></a> <p class="subtitle">Single frame of a Backtrace</p> <pre class="code">class Backtrace::Frame { }</pre>
 <p>A single backtrace frame. It identifies a location in the source code.</p>
 <a name="t63.1"></a><h1 id="_type_Backtrace_Frame.pod6-Methods">63.1 Methods</h1>
 <a name="t63.1.1"></a><h2 id="_type_Backtrace_Frame.pod6-method_file">63.1.1 method file</h2>
 <p>Defined as:</p>
 <pre class="code">method file(Backtrace::Frame:D --&gt; Str)</pre>
 <p>Returns the file name.</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.file;</pre>
 <a name="t63.1.2"></a><h2 id="_type_Backtrace_Frame.pod6-method_line">63.1.2 method line</h2>
 <p>Defined as:</p>
 <pre class="code">method line(Backtrace::Frame:D --&gt; Int)</pre>
 <p>Returns the line number (line numbers start to count from 1).</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.line;</pre>
 <a name="t63.1.3"></a><h2 id="_type_Backtrace_Frame.pod6-method_code">63.1.3 method code</h2>
 <p>Defined as:</p>
 <pre class="code">method code(Backtrace::Frame:D)</pre>
 <p>Returns the code object into which <span class="code">.file</span> and <span class="code">.line</span> point, if available.</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.code;</pre>
 <a name="t63.1.4"></a><h2 id="_type_Backtrace_Frame.pod6-method_subname">63.1.4 method subname</h2>
 <p>Defined as:</p>
 <pre class="code">method subname(Backtrace::Frame:D --&gt; Str)</pre>
 <p>Returns the name of the enclosing subroutine.</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.subname;</pre>
 <a name="t63.1.5"></a><h2 id="_type_Backtrace_Frame.pod6-method_is-hidden">63.1.5 method is-hidden</h2>
 <p>Defined as:</p>
 <pre class="code">method is-hidden(Backtrace::Frame:D --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the frame is marked as hidden with the <span class="code">is hidden-from-backtrace</span> trait.</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.is-hidden;</pre>
 <a name="t63.1.6"></a><h2 id="_type_Backtrace_Frame.pod6-method_is-routine">63.1.6 method is-routine</h2>
 <p>Defined as:</p>
 <pre class="code">method is-routine(Backtrace::Frame:D --&gt; Bool:D)</pre>
 <p>Return <span class="code">True</span> if the frame point into a routine (and not into a mere <a href="#_type_Block.pod6">Block</a>).</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.is-routine;</pre>
 <a name="t63.1.7"></a><h2 id="_type_Backtrace_Frame.pod6-method_is-setting">63.1.7 method is-setting</h2>
 <p>Defined as:</p>
 <pre class="code">method is-setting(Backtrace::Frame:D --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the frame is part of a setting.</p>
 <pre class="code">my $bt = Backtrace.new;
my $btf = $bt[0];
say $btf.is-setting; # OUTPUT: «True␤»</pre>
</div>
<!-- /type/Bag.pod6 --><div class="pod-body"><a id="_type_Bag.pod6"></a><a name="t64"><h1 class="title">64 class Bag</h1></a> <p class="subtitle">Immutable collection of distinct objects with integer weights</p> <pre class="code">class Bag does Baggy { }</pre>
 <p>A <span class="code">Bag</span> is an immutable bag/multiset implementing <a href="#_type_Associative.pod6">Associative</a>, meaning a collection of distinct elements in no particular order that each have an integer weight assigned to them signifying how many copies of that element are considered &quot;in the bag&quot;. (For <i>mutable</i> bags, see <a href="#_type_BagHash.pod6">BagHash</a> instead.)</p>
 <p><span class="code">Bag</span>s are often used for performing weighted random selections - see <a href="#_routine_pick.pod6">.pick</a> and <a href="#_routine_roll.pod6">.roll</a>.</p>
 <p>Objects/values of any type are allowed as bag elements. Within a <span class="code">Bag</span>, items that would compare positively with the <a href="===">===</a> operator are considered the same element, with the number of how many there are as its weight. But of course you can also easily get back the expanded list of items (without the order):</p>
 <pre class="code">my $breakfast = bag &lt;spam eggs spam spam bacon spam&gt;; 
 
 say $breakfast.elems;      # OUTPUT: «3␤» 
 say $breakfast.keys.sort;  # OUTPUT: «bacon eggs spam␤» 
 
 say $breakfast.total;      # OUTPUT: «6␤» 
 say $breakfast.kxxv.sort;  # OUTPUT: «bacon eggs spam spam spam spam␤» 
</pre>
 <p><span class="code">Bag</span>s can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, or the <span class="code">&lt; &gt; </span> operator for literal string keys, which returns the corresponding integer weight for keys that are elements of the bag, and <span class="code">0</span> for keys that aren't:</p>
 <pre class="code">my $breakfast = bag &lt;spam eggs spam spam bacon spam&gt;;
say $breakfast&lt;bacon&gt;;    # OUTPUT: «1␤»
say $breakfast&lt;spam&gt;;     # OUTPUT: «4␤»
say $breakfast&lt;sausage&gt;;  # OUTPUT: «0␤»</pre>
 <a name="t64.1"></a><h1 id="_type_Bag.pod6-Creating_Bag_objects">64.1 Creating <span class="code">Bag</span> objects</h1>
 <p><span class="code">Bag</span>s can be composed using the <a href="#63-sub bag">bag</a> subroutine (or <span class="code">Bag.new</span>, for which it is a shorthand). Any positional parameters, regardless of their type, become elements of the bag:</p>
 <pre class="code">my $n = bag &quot;a&quot; =&gt; 0, &quot;b&quot; =&gt; 1, &quot;c&quot; =&gt; 2, &quot;c&quot; =&gt; 2;
say $n.keys.perl;        # OUTPUT: «(:c(2), :b(1), :a(0)).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Pair) (Pair) (Pair))␤»
say $n.values.perl;      # OUTPUT: «(2, 1, 1).Seq␤»</pre>
 <p>Alternatively, the <span class="code">.Bag</span> coercer (or its functional form, <span class="code">Bag()</span>) can be called on an existing object to coerce it to a <span class="code">Bag</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a bag with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the bag, and the (cumulative) values become the associated integer weights:</p>
 <pre class="code">my $n = (&quot;a&quot; =&gt; 0, &quot;b&quot; =&gt; 1, &quot;c&quot; =&gt; 2, &quot;c&quot; =&gt; 2).Bag;
say $n.keys.perl;        # OUTPUT: «(&quot;b&quot;, &quot;c&quot;).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Str))␤»
say $n.values.perl;      # OUTPUT: «(1, 4).Seq␤»</pre>
 <p>Furthermore, you can get a <span class="code">Bag</span> by using bag operators (see next section) on objects of other types such as <a href="#_type_List.pod6">List</a>, which will internally call <span class="code">.Bag</span> on them before performing the operation. Be aware of the tight precedence of those operators though, which may require you to use parentheses around arguments:</p>
 <pre class="code">say (1..5) (+) 4;  # OUTPUT: «bag(1, 2, 3, 4(2), 5)␤»</pre>
 <a name="t64.2"></a><h1 id="_type_Bag.pod6-Operators">64.2 Operators</h1>
 <p>Perl 6 provides common set and bag operators, which can take <span class="code">Bag</span>s (or any other collections) as input, and return result as <span class="code">Bool</span>, <span class="code">Set</span> or <span class="code">Bag</span> values. For example:</p>
 <pre class="code">my ($a, $b) = bag(2, 2, 4), bag(2, 3, 3, 4); 
 
 say $a (&lt;) $b;   # OUTPUT: «False␤» 
 say $a (&lt;+) $b;  # OUTPUT: «False␤» 
 say $a (^) $b;   # OUTPUT: «bag(3(2), 2)␤» 
 say $a (+) $b;   # OUTPUT: «bag(2(3), 4(2), 3(2))␤» 
 
 # Unicode versions: 
 say $a ⊂ $b;  # OUTPUT: «False␤» 
 say $a ≼ $b;  # OUTPUT: «False␤» 
 say $a ⊖ $b;  # OUTPUT: «bag(3(2), 2)␤» 
 say $a ⊎ $b;  # OUTPUT: «bag(2(3), 4(2), 3(2))␤» 
</pre>
 <p>See <a href="#_language_setbagmix.pod6-Set/Bag_Operators">Set/Bag Operators</a> for a complete list of set and bag operators with detailed explanations.</p>
 <a name="t64.3"></a><h1 id="_type_Bag.pod6-Subroutines">64.3 Subroutines</h1>
 <a name="t64.3.1"></a><h2 id="_type_Bag.pod6-sub_bag">64.3.1 sub bag</h2>
 <pre class="code">sub bag(*@args --&gt; Bag)</pre>
 <p>Creates a new <span class="code">Bag</span> from <span class="code">@args</span>.</p>
 <a name="t64.4"></a><h1 id="_type_Bag.pod6-See_Also">64.4 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/BagHash.pod6 --><div class="pod-body"><a id="_type_BagHash.pod6"></a><a name="t65"><h1 class="title">65 class BagHash</h1></a> <p class="subtitle">Mutable collection of distinct objects with integer weights</p> <pre class="code">class BagHash does Baggy { }</pre>
 <p>A <span class="code">BagHash</span> is a mutable bag/multiset, meaning a collection of distinct elements in no particular order that each have an integer weight assigned to them signifying how many copies of that element are considered &quot;in the bag&quot;. (For <i>immutable</i> bags, see <a href="#_type_Bag.pod6">Bag</a> instead.)</p>
 <p>Objects/values of any type are allowed as bag elements. Within a <span class="code">BagHash</span>, items that would compare positively with the <a href="===">===</a> operator are considered the same element, with the number of how many there were as its weight. But of course you can also easily get back the expanded list of items (without the order):</p>
 <pre class="code">my $breakfast = &lt;spam eggs spam spam bacon spam&gt;.BagHash; 
 
 say $breakfast.elems;      # OUTPUT: «3␤» 
 say $breakfast.keys.sort;  # OUTPUT: «bacon eggs spam␤» 
 
 say $breakfast.total;      # OUTPUT: «6␤» 
 say $breakfast.kxxv.sort;  # OUTPUT: «bacon eggs spam spam spam spam␤» 
</pre>
 <p><span class="code">BagHash</span>es can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, which returns the corresponding integer weight for keys that are elements of the bag, and <span class="code">0</span> for keys that aren't. It can also be used to modify weights; setting a weight to <span class="code">0</span> automatically removes that element from the bag, and setting a weight to a positive number adds that element if it didn't already exist:</p>
 <pre class="code">my $breakfast = &lt;spam eggs spam spam bacon spam&gt;.BagHash; 
 say $breakfast&lt;bacon&gt;;     # OUTPUT: «1␤» 
 say $breakfast&lt;spam&gt;;      # OUTPUT: «4␤» 
 say $breakfast&lt;sausage&gt;;   # OUTPUT: «0␤» 
 
 $breakfast&lt;sausage&gt; = 2; 
 $breakfast&lt;bacon&gt;--; 
 say $breakfast.kxxv.sort;  # OUTPUT: «eggs sausage sausage spam spam spam spam␤» 
</pre>
 <a name="t65.1"></a><h1 id="_type_BagHash.pod6-Creating_BagHash_objects">65.1 Creating <span class="code">BagHash</span> objects</h1>
 <p><span class="code">BagHash</span>es can be composed using <span class="code">BagHash.new</span>. Any positional parameters, regardless of their type, become elements of the bag:</p>
 <pre class="code">my $n = BagHash.new: &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;;
say $n.perl;             # OUTPUT: «(&quot;b&quot;=&gt;1,&quot;a&quot;=&gt;1,&quot;c&quot;=&gt;2).BagHash␤»
say $n.keys.perl;        # OUTPUT: «(&quot;b&quot;, &quot;a&quot;, &quot;c&quot;).Seq␤»
say $n.values.perl;      # OUTPUT: «(1, 1, 2).Seq␤»</pre>
 <p>Besides, <span class="code">BagHash.new-from-pairs</span> can create a <span class="code">BagHash</span> with items and their occurrences.</p>
 <pre class="code">my $n = BagHash.new-from-pairs: &quot;a&quot; =&gt; 0, &quot;b&quot; =&gt; 1, &quot;c&quot; =&gt; 2, &quot;c&quot; =&gt; 2;
say $n.perl;             # OUTPUT: «(&quot;b&quot;=&gt;1,&quot;c&quot;=&gt;4).BagHash␤»
say $n.keys.perl;        # OUTPUT: «(&quot;b&quot;, &quot;c&quot;).Seq␤»
say $n.values.perl;      # OUTPUT: «(1, 4).Seq␤»</pre>
 <p>Alternatively, the <span class="code">.BagHash</span> coercer (or its functional form, <span class="code">BagHash()</span>) can be called on an existing object to coerce it to a <span class="code">BagHash</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a bag with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the bag, and the (cumulative) values become the associated integer weights:</p>
 <pre class="code">my $m = (&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;).BagHash;
my $n = (&quot;a&quot; =&gt; 0, &quot;b&quot; =&gt; 1, &quot;c&quot; =&gt; 2, &quot;c&quot; =&gt; 2).BagHash;
say $m.perl;             # OUTPUT: «(&quot;b&quot;=&gt;1,&quot;a&quot;=&gt;1,&quot;c&quot;=&gt;2).BagHash␤»
say $n.perl;             # OUTPUT: «(&quot;b&quot;=&gt;1,&quot;c&quot;=&gt;4).BagHash␤»</pre>
 <a name="t65.2"></a><h1 id="_type_BagHash.pod6-Operators">65.2 Operators</h1>
 <p>Perl 6 provides common set and bag operators, which can take <span class="code">BagHash</span>es (or any other collections) as input, and return result as <span class="code">Bool</span>, <span class="code">Set</span> or <span class="code">Bag</span> values. For example:</p>
 <pre class="code">my ($a, $b) = BagHash.new(2, 2, 4), BagHash.new(2, 3, 3, 4); 
 
 say $a (&lt;) $b;   # OUTPUT: «False␤» 
 say $a (&lt;+) $b;  # OUTPUT: «False␤» 
 say $a (^) $b;   # OUTPUT: «bag(3(2), 2)␤» 
 say $a (+) $b;   # OUTPUT: «bag(2(3), 4(2), 3(2))␤» 
 
 # Unicode versions: 
 say $a ⊂ $b;  # OUTPUT: «False␤» 
 say $a ≼ $b;  # OUTPUT: «False␤» 
 say $a ⊖ $b;  # OUTPUT: «bag(3(2), 2)␤» 
 say $a ⊎ $b;  # OUTPUT: «bag(2(3), 4(2), 3(2))␤» 
</pre>
 <p>See <a href="#_language_setbagmix.pod6-Set/Bag_Operators">Set/Bag Operators</a> for a complete list of set and bag operators with detailed explanations.</p>
 <a name="t65.3"></a><h1 id="_type_BagHash.pod6-See_Also">65.3 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Baggy.pod6 --><div class="pod-body"><a id="_type_Baggy.pod6"></a><a name="t66"><h1 class="title">66 role Baggy</h1></a> <p class="subtitle">Collection of distinct weighted objects</p> <pre class="code">role Baggy does QuantHash { }</pre>
 <p>A role for collections of weighted objects. See <a href="#_type_Bag.pod6">Bag</a>, <a href="#_type_BagHash.pod6">BagHash</a>, and <a href="#_type_Mixy.pod6">Mixy</a>.</p>
 <a name="t66.1"></a><h1 id="_type_Baggy.pod6-Methods">66.1 Methods</h1>
 <a name="t66.1.1"></a><h2 id="_type_Baggy.pod6-method_new-from-pairs">66.1.1 method new-from-pairs</h2>
 <p>Defined as:</p>
 <pre class="code">method new-from-pairs(*@pairs --&gt; Baggy:D)</pre>
 <p>Constructs a Baggy objects from a list of <a href="#_type_Pair.pod6"><span class="code">Pair</span>  objects</a> given as positional arguments:</p>
 <pre class="code">say Mix.new-from-pairs: 'butter' =&gt; 0.22, 'sugar' =&gt; 0.1, 'sugar' =&gt; 0.02;
# OUTPUT: «mix(butter(0.22), sugar(0.12))␤»</pre>
 <p><b>Note:</b> be sure you aren't accidentally passing the Pairs as positional arguments; the quotes around the keys in the above example are significant.</p>
 <a name="t66.1.2"></a><h2 id="_type_Baggy.pod6-method_grab">66.1.2 method grab</h2>
 <p>Defined as:</p>
 <pre class="code">multi method grab(Baggy:D: --&gt; Any)
multi method grab(Baggy:D: $count --&gt; Seq:D)</pre>
 <p>Like <a href="#65-method pick">pick</a>, a <span class="code">grab</span> returns a random selection of elements, weighted by the values corresponding to each key. Unlike <span class="code">pick</span>, it works only on mutable structures, e.g. <a href="#_type_BagHash.pod6">BagHash</a>. Use of <span class="code">grab</span> on an immutable structure results in an <span class="code">X::Immutable</span> exception. If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the <a href="#65-method total">total</a> of the invocant, then <span class="code">total</span> elements from the invocant are returned in a random sequence.</p>
 <p>Grabbing decrements the grabbed key's weight by one (deleting the key when it reaches 0). By definition, the <span class="code">total</span> of the invocant also decreases by one, so the probabilities stay consistent through subsequent <span class="code">grab</span> operations.</p>
 <pre class="code">my $cars = ('Ford' =&gt; 2, 'Rover' =&gt; 3).BagHash;
say $cars.grab;                                   # OUTPUT: «Ford␤»
say $cars.grab(2);                                # OUTPUT: «(Rover Rover)␤»
say $cars.grab(*);                                # OUTPUT: «(Rover Ford)␤»

my $breakfast = ('eggs' =&gt; 2, 'bacon' =&gt; 3).Bag;
say $breakfast.grab;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Immutable: Cannot call 'grab' on an immutable 'Bag'␤»</pre>
 <a name="t66.1.3"></a><h2 id="_type_Baggy.pod6-method_grabpairs">66.1.3 method grabpairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method grabpairs(Baggy:D: --&gt; Any)
multi method grabpairs(Baggy:D: $count --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Pair</span> or a <span class="code">Seq</span> of <span class="code">Pair</span>s depending on the version of the method being invoked. Each <span class="code">Pair</span> returned has an element of the invocant as its key and the elements weight as its value. Unlike <a href="#_routine_pickpairs.pod6">pickpairs</a>, it works only on mutable structures, e.g. <a href="#_type_BagHash.pod6">BagHash</a>. Use of <span class="code">grabpairs</span> on 'an immutable structure results in an <span class="code">X::Immutable</span> exception. If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the number of <a href="#65-method elems">elements</a> of the invocant, then all element/weight <span class="code">Pair</span>s from the invocant are returned in a random sequence.</p>
 <p>What makes <span class="code">grabpairs</span> different from <a href="#65-method pickpairs">pickpairs</a> is that the 'grabbed' elements are in fact removed from the invocant.</p>
 <pre class="code">my $breakfast = (eggs =&gt; 2, bacon =&gt; 3).BagHash;
say $breakfast.grabpairs;                         # OUTPUT: «bacon =&gt; 3␤»
say $breakfast;                                   # OUTPUT: «BagHash.new(eggs(2))␤»
say $breakfast.grabpairs(1);                      # OUTPUT: «(eggs =&gt; 2)␤»
say $breakfast.grabpairs(*);                      # OUTPUT: «()␤»

my $diet = ('eggs' =&gt; 2, 'bacon' =&gt; 3).Bag;
say $diet.grabpairs;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Immutable: Cannot call 'grabpairs' on an immutable 'Bag'␤»</pre>
 <a name="t66.1.4"></a><h2 id="_type_Baggy.pod6-method_pick">66.1.4 method pick</h2>
 <p>Defined as:</p>
 <pre class="code">multi method pick(Baggy:D: --&gt; Any)
multi method pick(Baggy:D: $count --&gt; Seq:D)</pre>
 <p>Like an ordinary list <a href="#_type_List.pod6-routine_pick">pick</a>, but returns keys of the invocant weighted by their values, as if the keys were replicated the number of times indicated by the corresponding value and then list pick used. The underlying metaphor for picking is that you're pulling colored marbles out a bag. (For &quot;picking with replacement&quot; see <a href="#65-method roll">roll</a> instead). If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the <a href="#65-method total">total</a> of the invocant, then <span class="code">total</span> elements from the invocant are returned in a random sequence.</p>
 <p>Note that each <span class="code">pick</span> invocation maintains its own private state and has no effect on subsequent <span class="code">pick</span> invocations.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon bacon bacon&gt;;
say $breakfast.pick;                              # OUTPUT: «eggs␤»
say $breakfast.pick(2);                           # OUTPUT: «(eggs bacon)␤»

say $breakfast.total;                             # OUTPUT: «4␤»
say $breakfast.pick(*);                           # OUTPUT: «(bacon bacon bacon eggs)␤»</pre>
 <a name="t66.1.5"></a><h2 id="_type_Baggy.pod6-method_pickpairs">66.1.5 method pickpairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method pickpairs(Baggy:D: --&gt; Pair:D)
multi method pickpairs(Baggy:D: $count --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Pair</span> or a <span class="code">Seq</span> of <span class="code">Pair</span>s depending on the version of the method being invoked. Each <span class="code">Pair</span> returned has an element of the invocant as its key and the elements weight as its value. The elements are 'picked' without replacement. If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the number of <a href="#65-method elems">elements</a> of the invocant, then all element/weight <span class="code">Pair</span>s from the invocant are returned in a random sequence.</p>
 <p>Note that each <span class="code">pickpairs</span> invocation maintains its own private state and has no effect on subsequent <span class="code">pickpairs</span> invocations.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon bacon bacon&gt;;
say $breakfast.pickpairs;                         # OUTPUT: «eggs =&gt; 1␤»
say $breakfast.pickpairs(1);                      # OUTPUT: «(bacon =&gt; 3)␤»
say $breakfast.pickpairs(*);                      # OUTPUT: «(eggs =&gt; 1 bacon =&gt; 3)␤»</pre>
 <a name="t66.1.6"></a><h2 id="_type_Baggy.pod6-method_roll">66.1.6 method roll</h2>
 <p>Defined as:</p>
 <pre class="code">multi method roll(Baggy:D: --&gt; Any:D)
multi method roll(Baggy:D: $count --&gt; Seq:D)</pre>
 <p>Like an ordinary list <a href="#_type_List.pod6-routine_roll">roll</a>, but returns keys of the invocant weighted by their values, as if the keys were replicated the number of times indicated by the corresponding value and then list roll used. The underlying metaphor for rolling is that you're throwing <span class="code">$count</span> dice that are independent of each other, which (in bag terms) is equivalent to picking a colored marble out your bag and then putting it back, and doing this <span class="code">$count</span> times. In dice terms, the number of marbles corresponds to the number of sides, and the number of marbles of the same color corresponds to the number of sides with the same color. (For &quot;picking without replacement&quot; see <a href="#65-method pick">pick</a> instead).</p>
 <p>If <span class="code">*</span> is passed to <span class="code">$count</span>, returns a lazy, infinite sequence of randomly chosen elements from the invocant.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon bacon bacon&gt;;
say $breakfast.roll;                                  # OUTPUT: «bacon␤»
say $breakfast.roll(3);                               # OUTPUT: «(bacon eggs bacon)␤»

my $random_dishes := $breakfast.roll(*);
say $random_dishes[^5];                               # OUTPUT: «(bacon eggs bacon bacon bacon)␤»</pre>
 <a name="t66.1.7"></a><h2 id="_type_Baggy.pod6-method_pairs">66.1.7 method pairs</h2>
 <p>Defined as:</p>
 <pre class="code">method pairs(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns all elements and their respective weights as a <a href="#_type_Seq.pod6">Seq</a> of <span class="code">Pair</span>s where the key is the element itself and the value is the weight of that element.</p>
 <pre class="code">my $breakfast = bag &lt;bacon eggs bacon&gt;;
my $seq = $breakfast.pairs;
say $seq.sort;                                    # OUTPUT: «(bacon =&gt; 2 eggs =&gt; 1)␤»</pre>
 <a name="t66.1.8"></a><h2 id="_type_Baggy.pod6-method_antipairs">66.1.8 method antipairs</h2>
 <p>Defined as:</p>
 <pre class="code">method antipairs(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns all elements and their respective weights as a <a href="#_type_Seq.pod6">Seq</a> of <a href="#_type_Pair.pod6">Pairs</a>, where the element itself is the value and the weight of that element is the key, i.e. the opposite of method <a href="#65-method pairs">pairs</a>.</p>
 <pre class="code">my $breakfast = bag &lt;bacon eggs bacon&gt;;
my $seq = $breakfast.antipairs;
say $seq.sort;                                    # OUTPUT: «(1 =&gt; eggs 2 =&gt; bacon)␤»</pre>
 <a name="t66.1.9"></a><h2 id="_type_Baggy.pod6-method_invert">66.1.9 method invert</h2>
 <p>Defined as:</p>
 <pre class="code">method invert(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns all elements and their respective weights as a <a href="#_type_Seq.pod6">Seq</a> of <a href="#_type_Pair.pod6">Pairs</a>, where the element itself is the value and the weight of that element is the key, i.e. the opposite of method <a href="#65-method pairs">pairs</a>. Except for some esoteric cases <span class="code">invert</span> on a Baggy type returns the same result as <a href="#65-method_antipairs">antipairs</a>.</p>
 <pre class="code">my $breakfast = bag &lt;bacon eggs bacon&gt;;
my $seq = $breakfast.invert;
say $seq.sort;                                    # OUTPUT: «(1 =&gt; eggs 2 =&gt; bacon)␤»</pre>
 <a name="t66.1.10"></a><h2 id="_type_Baggy.pod6-method_classify-list">66.1.10 method classify-list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method classify-list(&amp;mapper, *@list --&gt; Baggy:D)
multi method classify-list(%mapper, *@list --&gt; Baggy:D)
multi method classify-list(@mapper, *@list --&gt; Baggy:D)</pre>
 <p>Populates a <i>mutable</i> <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> by classifying the possibly-empty <span class="code">@list</span> of values using the given <span class="code">mapper</span>. The <span class="code">@list</span> cannot be lazy.</p>
 <pre class="code">say BagHash.new.classify-list: { $_ %% 2 ?? 'even' !! 'odd' }, ^10;
# OUTPUT: BagHash.new(even(5), odd(5))

my @mapper = &lt;zero one two three four five&gt;;
say MixHash.new.classify-list: @mapper, 1, 2, 3, 4, 4, 6;
# OUTPUT: MixHash.new((Any), two, three, four(2), one)</pre>
 <p>The mapper can be a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> that takes a single argument, an <a href="#_type_Associative.pod6"><span class="code">Associative</span></a>, or an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a>. With <a href="#_type_Associative.pod6"><span class="code">Associative</span></a> and an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> mappers, the values in the <span class="code">@list</span> represent the key and index of the mapper's value respectively. A <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> mapper will be executed once per each item in the <span class="code">@list</span>, with that item as the argument and its return value will be used as the mapper's value.</p>
 <p>The mapper's value is used as the key of the <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> that will be incremented by <span class="code">1</span>. See <a href="#_routine_categorize-list.pod6"><span class="code">.categorize-list</span></a> if you wish to classify an item into multiple categories at once.</p>
 <p><b>Note:</b> unlike the <a href="#_type_Hash.pod6"><span class="code">Hash</span></a>'s <span class="code">.classify-list</span>, returning an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> mapper's value will throw, as <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> types do not support nested classification. For the same reason, <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a>'s <span class="code">.classify-list</span> does not accept <span class="code">:&amp;as</span> parameter.</p>
 <a name="t66.1.11"></a><h2 id="_type_Baggy.pod6-method_categorize-list">66.1.11 method categorize-list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method categorize-list(&amp;mapper, *@list --&gt; Baggy:D)
multi method categorize-list(%mapper, *@list --&gt; Baggy:D)
multi method categorize-list(@mapper, *@list --&gt; Baggy:D)</pre>
 <p>Populates a <i>mutable</i> <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> by categorizing the possibly-empty <span class="code">@list</span> of values using the given <span class="code">mapper</span>. The <span class="code">@list</span> cannot be lazy.</p>
 <pre class="code">say BagHash.new.categorize-list: {
    gather {
        take 'largish' if $_ &gt; 5;
        take .is-prime ?? 'prime' !! 'non-prime';
        take $_ %% 2   ?? 'even'  !! 'odd';
    }
}, ^10;
# OUTPUT: BagHash.new(largish(4), even(5), non-prime(6), prime(4), odd(5))

my %mapper = :sugar&lt;sweet white&gt;, :lemon&lt;sour&gt;, :cake('sweet', 'is a lie');
say MixHash.new.categorize-list: %mapper, &lt;sugar lemon cake&gt;;
# OUTPUT: MixHash.new(is a lie, sour, white, sweet(2))</pre>
 <p>The mapper can be a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> that takes a single argument, an <a href="#_type_Associative.pod6"><span class="code">Associative</span></a>, or an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a>. With <a href="#_type_Associative.pod6"><span class="code">Associative</span></a> and an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> mappers, the values in the <span class="code">@list</span> represent the key and index of the mapper's value respectively. A <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> mapper will be executed once per each item in the <span class="code">@list</span>, with that item as the argument and its return value will be used as the mapper's value.</p>
 <p>The mapper's value is used as a possibly-empty list of keys of the <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> that will be incremented by <span class="code">1</span>.</p>
 <p><b>Note:</b> unlike the <a href="#_type_Hash.pod6"><span class="code">Hash</span></a>'s <span class="code">.categorize-list</span>, returning a list of <a href="#_type_Iterable.pod6"><span class="code">Iterables</span></a> as mapper's value will throw, as <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a> types do not support nested categorization. For the same reason, <a href="#_type_Baggy.pod6"><span class="code">Baggy</span></a>'s <span class="code">.categorize-list</span> does not accept <span class="code">:&amp;as</span> parameter.</p>
 <a name="t66.1.12"></a><h2 id="_type_Baggy.pod6-method_keys">66.1.12 method keys</h2>
 <p>Defined as:</p>
 <pre class="code">method keys(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of all keys in the <span class="code">Baggy</span> object without taking their individual weights into account as opposed to <a href="#65-method kxxv">kxxv</a>.</p>
 <pre class="code">my $breakfast = bag &lt;eggs spam spam spam&gt;;
say $breakfast.keys.sort;                        # OUTPUT: «(eggs spam)␤»

my $n = (&quot;a&quot; =&gt; 5, &quot;b&quot; =&gt; 2).BagHash;
say $n.keys.sort;                                # OUTPUT: «(a b)␤»</pre>
 <a name="t66.1.13"></a><h2 id="_type_Baggy.pod6-method_values">66.1.13 method values</h2>
 <p>Defined as:</p>
 <pre class="code">method values(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of all values, i.e. weights, in the <span class="code">Baggy</span> object.</p>
 <pre class="code">my $breakfast = bag &lt;eggs spam spam spam&gt;;
say $breakfast.values.sort;                      # OUTPUT: «(1 3)␤»

my $n = (&quot;a&quot; =&gt; 5, &quot;b&quot; =&gt; 2, &quot;a&quot; =&gt; 1).BagHash;
say $n.values.sort;                              # OUTPUT: «(2 6)␤»</pre>
 <a name="t66.1.14"></a><h2 id="_type_Baggy.pod6-method_kv">66.1.14 method kv</h2>
 <p>Defined as:</p>
 <pre class="code">method kv(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of keys and values interleaved.</p>
 <pre class="code">my $breakfast = bag &lt;eggs spam spam spam&gt;;
say $breakfast.kv;                                # OUTPUT: «(spam 3 eggs 1)␤»

my $n = (&quot;a&quot; =&gt; 5, &quot;b&quot; =&gt; 2, &quot;a&quot; =&gt; 1).BagHash;
say $n.kv;                                        # OUTPUT: «(a 6 b 2)␤»</pre>
 <a name="t66.1.15"></a><h2 id="_type_Baggy.pod6-method_kxxv">66.1.15 method kxxv</h2>
 <p>Defined as:</p>
 <pre class="code">method kxxv(Baggy:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of the keys of the invocant, with each key multiplied by its weight. Note that <span class="code">kxxv</span> only works for <span class="code">Baggy</span> types which have integer weights, i.e. <a href="#_type_Bag.pod6">Bag</a> and <a href="#_type_BagHash.pod6">BagHash</a>.</p>
 <pre class="code">my $breakfast = bag &lt;spam eggs spam spam bacon&gt;;
say $breakfast.kxxv.sort;                         # OUTPUT: «(bacon eggs spam spam spam)␤»

my $n = (&quot;a&quot; =&gt; 0, &quot;b&quot; =&gt; 1, &quot;b&quot; =&gt; 2).BagHash;
say $n.kxxv;                                      # OUTPUT: «(b b b)␤»</pre>
 <a name="t66.1.16"></a><h2 id="_type_Baggy.pod6-method_elems">66.1.16 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">method elems(Baggy:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements in the <span class="code">Baggy</span> object without taking the individual elements weight into account.</p>
 <pre class="code">my $breakfast = bag &lt;eggs spam spam spam&gt;;
say $breakfast.elems;                             # OUTPUT: «2␤»

my $n = (&quot;b&quot; =&gt; 9.4, &quot;b&quot; =&gt; 2).MixHash;
say $n.elems;                                     # OUTPUT: «1␤»</pre>
 <a name="t66.1.17"></a><h2 id="_type_Baggy.pod6-method_total">66.1.17 method total</h2>
 <p>Defined as:</p>
 <pre class="code">method total(Baggy:D:)</pre>
 <p>Returns the sum of weights for all elements in the <span class="code">Baggy</span> object.</p>
 <pre class="code">my $breakfast = bag &lt;eggs spam spam bacon&gt;;
say $breakfast.total;                             # OUTPUT: «4␤»

my $n = (&quot;a&quot; =&gt; 5, &quot;b&quot; =&gt; 1, &quot;b&quot; =&gt; 2).BagHash;
say $n.total;                                     # OUTPUT: «8␤»</pre>
 <a name="t66.1.18"></a><h2 id="_type_Baggy.pod6-method_default">66.1.18 method default</h2>
 <p>Defined as:</p>
 <pre class="code">method default(Baggy:D: --&gt; Int:D)</pre>
 <p>Returns zero.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon&gt;;
say $breakfast.default;                           # OUTPUT: «0␤»</pre>
 <a name="t66.1.19"></a><h2 id="_type_Baggy.pod6-method_hash">66.1.19 method hash</h2>
 <p>Defined as:</p>
 <pre class="code">method hash(Baggy:D: --&gt; Hash:D)</pre>
 <p>Returns a <a href="#_type_Hash.pod6">Hash</a> where the elements of the invocant are the keys and their respective weights the values.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon bacon&gt;;
my $h = $breakfast.hash;
say $h.^name;                    # OUTPUT: «Hash[Any,Any]␤»
say $h;                          # OUTPUT: «{bacon =&gt; 2, eggs =&gt; 1}␤»</pre>
 <a name="t66.1.20"></a><h2 id="_type_Baggy.pod6-method_Bool">66.1.20 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(Baggy:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant contains at least one element.</p>
 <pre class="code">my $breakfast = ('eggs' =&gt; 1).BagHash;
say $breakfast.Bool;                              # OUTPUT: «True   (since we have one element)␤»
$breakfast&lt;eggs&gt; = 0;                             # weight == 0 will lead to element removal
say $breakfast.Bool;                              # OUTPUT: «False␤»</pre>
 <a name="t66.1.21"></a><h2 id="_type_Baggy.pod6-method_Set">66.1.21 method Set</h2>
 <p>Defined as:</p>
 <pre class="code">method Set(--&gt; Set:D)</pre>
 <p>Returns a <a href="#_type_Set.pod6">Set</a> whose elements are the <a href="#65-method keys">keys</a> of the invocant.</p>
 <pre class="code">my $breakfast = (eggs =&gt; 2, bacon =&gt; 3).BagHash;
say $breakfast.Set;                               # OUTPUT: «set(bacon, eggs)␤»</pre>
 <a name="t66.1.22"></a><h2 id="_type_Baggy.pod6-method_SetHash">66.1.22 method SetHash</h2>
 <p>Defined as:</p>
 <pre class="code">method SetHash(--&gt; SetHash:D)</pre>
 <p>Returns a <a href="#_type_SetHash.pod6">SetHash</a> whose elements are the <a href="#65-method keys">keys</a> of the invocant.</p>
 <pre class="code">my $breakfast = (eggs =&gt; 2, bacon =&gt; 3).BagHash;
my $sh = $breakfast.SetHash;
say $sh.^name;                            # OUTPUT: «SetHash␤»
say $sh.elems;                            # OUTPUT: «2␤»</pre>
 <a name="t66.1.23"></a><h2 id="_type_Baggy.pod6-method_ACCEPTS">66.1.23 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">method ACCEPTS($other --&gt; Bool:D)</pre>
 <p>Used in smart-matching if the right-hand side is a <span class="code">Baggy</span>.</p>
 <p>If the right hand side is the type object, i.e. <span class="code">Baggy</span>, the method returns <span class="code">True</span> if <span class="code">$other</span> <a href="#_routine_does.pod6-class_Mu">does</a> <span class="code">Baggy</span> otherwise <span class="code">False</span> is returned.</p>
 <p>If the right hand side is a <span class="code">Baggy</span> object, <span class="code">True</span> is returned only if <span class="code">$other</span> has the same elements, with the same weights, as the invocant.</p>
 <pre class="code">my $breakfast = bag &lt;eggs bacon&gt;;
say $breakfast ~~ Baggy;                            # OUTPUT: «True␤»
say $breakfast.does(Baggy);                         # OUTPUT: «True␤»

my $second-breakfast = (eggs =&gt; 1, bacon =&gt; 1).Mix;
say $breakfast ~~ $second-breakfast;                # OUTPUT: «True␤»

my $third-breakfast = (eggs =&gt; 1, bacon =&gt; 2).Bag;
say $second-breakfast ~~ $third-breakfast;          # OUTPUT: «False␤»</pre>
 <a name="t66.2"></a><h1 id="_type_Baggy.pod6-See_Also">66.2 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Blob.pod6 --><div class="pod-body"><a id="_type_Blob.pod6"></a><a name="t67"><h1 class="title">67 role Blob</h1></a> <p class="subtitle">Immutable buffer for binary data ('Binary Large OBject')</p> <pre class="code">role Blob[::T = uint8] does Positional[T] does Stringy { }</pre>
 <p>The <span class="code">Blob</span> role is an immutable interface to binary types, and offers a list-like interface to lists of integers, typically unsigned integers.</p>
 <a name="t67.1"></a><h1 id="_type_Blob.pod6-Methods">67.1 Methods</h1>
 <a name="t67.1.1"></a><h2 id="_type_Blob.pod6-method_new">67.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">method new(*@codes)</pre>
 <p>Creates a <span class="code">Blob</span> from a list of integers.</p>
 <pre class="code">my $blob = Blob.new([1, 2, 3]);</pre>
 <a name="t67.1.2"></a><h2 id="_type_Blob.pod6-method_Bool">67.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(Blob:D:)</pre>
 <p>Returns <span class="code">False</span> if and only if the buffer is empty.</p>
 <pre class="code">my $blob = Blob.new();
say $blob.Bool; # OUTPUT: «False␤»
$blob = Blob.new([1, 2, 3]);
say $blob.Bool; # OUTPUT: «True␤»</pre>
 <a name="t67.1.3"></a><h2 id="_type_Blob.pod6-method_Capture">67.1.3 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Blob:D --&gt; Capture:D)</pre>
 <p>Equivalent to calling <a href="#_type_List.pod6-method_Capture"><span class="code">.List.Capture</span></a> on the invocant.</p>
 <a name="t67.1.4"></a><h2 id="_type_Blob.pod6-method_elems">67.1.4 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">multi method elems(Blob:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements of the buffer.</p>
 <pre class="code">my $blob = Blob.new([1, 2, 3]);
say $blob.elems; # OUTPUT: «3␤»</pre>
 <a name="t67.1.5"></a><h2 id="_type_Blob.pod6-method_bytes">67.1.5 method bytes</h2>
 <p>Defined as:</p>
 <pre class="code">method bytes(Blob:D: --&gt; Int:D)</pre>
 <p>Returns the number of bytes used by the elements in the buffer.</p>
 <pre class="code">say Blob.new([1, 2, 3]).bytes;      # OUTPUT: «3␤»
say blob16.new([1, 2, 3]).bytes;    # OUTPUT: «6␤»
say blob64.new([1, 2, 3]).bytes;    # OUTPUT: «24␤»</pre>
 <a name="t67.1.6"></a><h2 id="_type_Blob.pod6-method_decode">67.1.6 method decode</h2>
 <p>Defined as:</p>
 <pre class="code">multi method decode(Blob:D: Str:D $encoding = 'UTF-8' --&gt; Str:D)</pre>
 <p>Applies an encoding to turn the blob into a <a href="#_type_Str.pod6">Str</a>.</p>
 <pre class="code">my Blob $blob = &quot;string&quot;.encode('utf-8');
say $blob.decode('utf-8'); # OUTPUT: «string␤»</pre>
 <p>On malformed utf-8 <span class="code">.decode</span> will throw X::AdHoc. To handle sloppy utf-8 use <a href="#_language_unicode.pod6-UTF8-C8"><span class="code">utf8-c8</span></a>.</p>
 <a name="t67.1.7"></a><h2 id="_type_Blob.pod6-method_gist">67.1.7 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">method gist(Blob:D: --&gt; Str:D)</pre>
 <p>Returns the string containing the &quot;gist&quot; of the <a href="#_type_Blob.pod6">Blob</a>, <b>listing up to the first 100</b> elements, separated by space, appending an ellipsis if the <a href="#_type_Blob.pod6">Blob</a> has more than 100 elements.</p>
 <pre class="code">put Blob.new(1, 2, 3).gist; # OUTPUT: «Blob:0x&lt;01 02 03&gt;␤»
put Blob.new(1..2000).gist;
# OUTPUT:
# Blob:0x&lt;01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15
# 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c
# 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43
# 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a
# 5b 5c 5d 5e 5f 60 61 62 63 64 ...&gt;</pre>
 <a name="t67.1.8"></a><h2 id="_type_Blob.pod6-method_subbuf">67.1.8 method subbuf</h2>
 <p>Defined as:</p>
 <pre class="code">multi method subbuf(Int $from, Int $len = self.elems --&gt; Blob:D)
multi method subbuf(Range $range --&gt; Blob:D)</pre>
 <p>Extracts a part of the invocant buffer, starting from the index with elements <span class="code">$from</span>, and taking <span class="code">$len</span> elements (or less if the buffer is shorter), and creates a new buffer as the result.</p>
 <pre class="code">say Blob.new(1..10).subbuf(2, 4);    # OUTPUT: «Blob:0x&lt;03 04 05 06&gt;␤»
say Blob.new(1..10).subbuf(*-2);     # OUTPUT: «Blob:0x&lt;09 0a&gt;␤»
say Blob.new(1..10).subbuf(*-5,2);   # OUTPUT: «Blob:0x&lt;06 07&gt;␤»</pre>
 <p>For convenience, also allows a <span class="code">Range</span> to be specified to indicate which part of the invocant buffer you would like:</p>
 <pre class="code">say Blob.new(1..10).subbuf(2..5);    # OUTPUT: «Blob:0x&lt;03 04 05 06&gt;␤»</pre>
 <a name="t67.1.9"></a><h2 id="_type_Blob.pod6-method_allocate">67.1.9 method allocate</h2>
 <p>Defined as:</p>
 <pre class="code">multi method allocate($elems --&gt; Blob:D)
multi method allocate($elems, $pattern --&gt; Blob:D)</pre>
 <p>Returns a newly created <span class="code">Blob</span> object with the given number of elements. Optionally takes a second argument that indicates the pattern with which to fill the <span class="code">Blob</span>: this can be a single integer value, or any <span class="code">Iterable</span> that generates integer values, including another <span class="code">Blob</span>. The pattern will be repeated if not enough values are given to fill the entire <span class="code">Blob</span>.</p>
 <pre class="code">my Blob $b0 = Blob.allocate(10,0);
$b0.say; # OUTPUT: «Blob:0x&lt;00 00 00 00 00 00 00 00 00 00&gt;␤»</pre>
 <a name="t67.1.10"></a><h2 id="_type_Blob.pod6-method_unpack">67.1.10 method unpack</h2>
 <p>This method is considered <b>experimental</b>, in order to use it you will need to do:</p>
 <pre class="code">use experimental :pack;</pre>
 <p>Defined as:</p>
 <pre class="code">method unpack(Blob:D: $template --&gt; List:D)</pre>
 <p>Extracts features from the blob according to the template string, and returns them as a list.</p>
 <p>The template string consists of zero or more units that begin with an ASCII letter, and are optionally followed by a quantifier. The quantifier can be <span class="code">*</span> (which typically stands for &quot;use up the rest of the Blob here&quot;), or a positive integer (without a <span class="code">+</span>).</p>
 <p>Whitespace between template units is ignored.</p>
 <p>Examples of valid templates include <span class="code">&quot;A4 C n*&quot;</span> and <span class="code">&quot;A*&quot;</span>.</p>
 <p>The following letters are recognized:</p>
 <table>
<tr><th>Letter</th> <th>Meaning</th></tr>
<tr><td>A</td> <td>Extract a string, where each element of the Blob maps to a codepoint</td></tr>
 <tr><td>a</td> <td>Same as A</td></tr>
 <tr><td>C</td> <td>Extract an element from the blob as an integer</td></tr>
 <tr><td>H</td> <td>Extracts a hex string</td></tr>
 <tr><td>L</td> <td>Extracts four elements and returns them as a single unsigned integer</td></tr>
 <tr><td>n</td> <td>Extracts two elements and combines them in &quot;network&quot; (big-endian) byte order into a single integer</td></tr>
 <tr><td>N</td> <td>Extracts four elements and combines them in &quot;network&quot; (big-endian) byte order into a single integer</td></tr>
 <tr><td>S</td> <td>Extracts two elements and returns them as a single unsigned integer</td></tr>
 <tr><td>v</td> <td>Same as S</td></tr>
 <tr><td>V</td> <td>Same as L</td></tr>
 <tr><td>x</td> <td>Drop an element from the blob (that is, ignore it)</td></tr>
 <tr><td>Z</td> <td>Same as A</td></tr>
</table> <p>Example:</p>
 <pre class="code">use experimental :pack;
say Blob.new(1..10).unpack(&quot;C*&quot;);
# OUTPUT: «(1 2 3 4 5 6 7 8 9 10)␤»</pre>
 <a name="t67.1.11"></a><h2 id="_type_Blob.pod6-sub_pack">67.1.11 sub pack</h2>
 <p>This subroutine is considered <b>experimental</b>, in order to use it you will need to do:</p>
 <pre class="code">use experimental :pack; 
</pre>
 <pre class="code">sub pack(Str $template, *@items --&gt; Buf) 
</pre>
 <p>Packs the given items according to the template and returns a buffer containing the packed bytes.</p>
 <p>The template string consists of zero or more units that begin with an ASCII letter, and are optionally followed by a quantifier. For details, see <a href="#_routine_unpack.pod6">unpack</a>.</p>
 <a name="t67.1.12"></a><h2 id="_type_Blob.pod6-method_reverse">67.1.12 method reverse</h2>
 <p>Defined as:</p>
 <pre class="code">method reverse(Blob:D: --&gt; Blob:D)</pre>
 <p>Returns a Blob with all elements in reversed order.</p>
 <pre class="code">say Blob.new([1, 2, 3]).reverse;    # OUTPUT: «Blob:0x&lt;03 02 01&gt;␤»
say blob16.new([2]).reverse;        # OUTPUT: «Blob[uint16]:0x&lt;02&gt;␤»
say buf32.new([16, 32]).reverse;    # OUTPUT: «Buf[uint32]:0x&lt;20 10&gt;␤»</pre>
</div>
<!-- /type/Block.pod6 --><div class="pod-body"><a id="_type_Block.pod6"></a><a name="t68"><h1 class="title">68 class Block</h1></a> <p class="subtitle">Code object with its own lexical scope</p> <pre class="code">class Block is Code { }</pre>
 <p>A <span class="code">Block</span> is a code object meant for small-scale code reuse. A block is created syntactically by a list of statements enclosed in curly braces.</p>
 <p>Without an explicit signature or placeholder arguments, a block has <span class="code">$_</span> as a positional argument</p>
 <pre class="code">my $block = { uc $_; };
say $block.^name;           # OUTPUT: «Block␤»
say $block('hello');        # OUTPUT: «HELLO␤»</pre>
 <p>A block can have a <a href="#_type_Signature.pod6">Signature</a> between <span class="code">-&gt; </span> or <span class="code">&lt;-&gt; </span> and the block:</p>
 <pre class="code">my $add = -&gt; $a, $b = 2 { $a + $b };
say $add(40);               # OUTPUT: «42␤»</pre>
 <p>If the signature is introduced with <span class="code">&lt;-&gt; </span>, then the parameters are marked as <span class="code">rw</span> by default: <span class="indexed"><a id="846" name="&lt;-&gt;"></a></span></p>
 <pre class="code">my $swap = &lt;-&gt; $a, $b { ($a, $b) = ($b, $a) };
my ($a, $b) = (2, 4);
$swap($a, $b);
say $a;                     # OUTPUT: «4␤»</pre>
 <p>Blocks that aren't of type <span class="code">Routine</span> (which is a subclass of <span class="code">Block</span>) are transparent to <a href="#_syntax_return.pod6">return</a>.</p>
 <pre class="code">sub f() {
    say &lt;a b c&gt;.map: { return 42 };
                   #   ^^^^^^   exits &amp;f, not just the block
}</pre>
 <p>The last statement is the implicit return value of the block.</p>
 <pre class="code">say {1}.(); # OUTPUT: «1␤»</pre>
 <p>Bare blocks in sink context are automatically executed:</p>
 <pre class="code">say 1;
{
    say 2;                  # executed directly, not a Block object
}
say 3;</pre>
</div>
<!-- /type/Bool.pod6 --><div class="pod-body"><a id="_type_Bool.pod6"></a><a name="t69"><h1 class="title">69 enum Bool</h1></a> <p class="subtitle">Logical boolean</p> <pre class="code">enum Bool &lt;False True&gt;</pre>
 <p><span class="indexed"><a id="847" name="True"></a></span> <span class="indexed"><a id="848" name="False"></a></span> <span class="indexed"><a id="849" name="Boolean"></a></span> An enum for boolean true/false decisions.</p>
 <a name="t69.1"></a><h1 id="_type_Bool.pod6-Methods">69.1 Methods</h1>
 <a name="t69.1.1"></a><h2 id="_type_Bool.pod6-routine_succ">69.1.1 routine succ</h2>
 <pre class="code">method succ(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span>.</p>
 <pre class="code">say True.succ;                                    # OUTPUT: «True␤»
say False.succ;                                   # OUTPUT: «True␤»</pre>
 <p><span class="code">succ</span> is short for &quot;successor&quot;; it returns the next enum value. Bool is a special enum with only two values, <span class="code">False</span> and <span class="code">True</span>. When sorted, <span class="code">False</span> comes first, so <span class="code">True</span> is its successor. And since <span class="code">True</span> is the &quot;highest&quot; Bool enum value, its own successor is also <span class="code">True</span>.</p>
 <a name="t69.1.2"></a><h2 id="_type_Bool.pod6-routine_pred">69.1.2 routine pred</h2>
 <pre class="code">method pred(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span>.</p>
 <pre class="code">say True.pred;                                    # OUTPUT: «False␤»
say False.pred;                                   # OUTPUT: «False␤»</pre>
 <p><span class="code">pred</span> is short for &quot;predecessor&quot;; it returns the previous enum value. Bool is a special enum with only two values, <span class="code">False</span> and <span class="code">True</span>. When sorted, <span class="code">False</span> comes first, so <span class="code">False</span> is the predecessor to <span class="code">True</span>. And since <span class="code">False</span> is the &quot;lowest&quot; Bool enum value, its own predecessor is also <span class="code">False</span>.</p>
 <a name="t69.1.3"></a><h2 id="_type_Bool.pod6-routine_enums">69.1.3 routine enums</h2>
 <pre class="code">method enums(--&gt; Hash:D)</pre>
 <p>Returns a <a href="#_type_Hash.pod6">Hash</a> of enum-pairs. Works on both the <span class="code">Bool</span> type and any key.</p>
 <pre class="code">say Bool.enums;                                   # OUTPUT: «{False =&gt; 0, True =&gt; 1}␤»
say False.enums;                                  # OUTPUT: «{False =&gt; 0, True =&gt; 1}␤»</pre>
 <a name="t69.1.4"></a><h2 id="_type_Bool.pod6-routine_pick">69.1.4 routine pick</h2>
 <pre class="code">multi method pick(Bool:U --&gt; Bool:D)
multi method pick(Bool:U $count --&gt; Seq:D)</pre>
 <p>Returns <span class="code">True</span> or <span class="code">False</span> if called without any argument. Otherwise returns <span class="code">$count</span> elements chosen at random (without repetition) from the <span class="code">enum</span>. If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to two, then both elements are returned in random order.</p>
 <pre class="code">say Bool.pick;                                    # OUTPUT: «True␤»
say Bool.pick(1);                                 # OUTPUT: «(False)␤»
say Bool.pick(*);                                 # OUTPUT: «(False True)␤»</pre>
 <a name="t69.1.5"></a><h2 id="_type_Bool.pod6-routine_roll">69.1.5 routine roll</h2>
 <pre class="code">multi method roll(Bool:U --&gt; Bool:D)
multi method roll(Bool:U $count --&gt; Seq:D)</pre>
 <p>Returns <span class="code">True</span> or <span class="code">False</span> if called without any argument. Otherwise returns <span class="code">$count</span> elements chosen at random. Note that each random choice from the <span class="code">enum</span> is made independently, like a separate coin toss where each side of the coin represents one of the two values of the <span class="code">enum</span>. If <span class="code">*</span> is passed as <span class="code">$count</span> an infinite <a href="#_type_Seq.pod6">Seq</a> of <span class="code">Bool</span>s is returned.</p>
 <pre class="code">say Bool.roll;                                    # OUTPUT: «True␤»
say Bool.roll(3);                                 # OUTPUT: «(True False False)␤»
say Bool.roll(*);                                 # OUTPUT: «(...)␤»</pre>
 <a name="t69.1.6"></a><h2 id="_type_Bool.pod6-routine_Numeric">69.1.6 routine Numeric</h2>
 <pre class="code">multi method Numeric(Bool:D --&gt; Int:D)</pre>
 <p>Returns the value part of the <span class="code">enum</span> pair.</p>
 <pre class="code">say False.Numeric;                                # OUTPUT: «0␤»
say True.Numeric;                                 # OUTPUT: «1␤»</pre>
 <a name="t69.2"></a><h1 id="_type_Bool.pod6-Operators">69.2 Operators</h1>
 <a name="t69.2.1"></a><h2 id="_type_Bool.pod6-prefix_?">69.2.1 prefix ?</h2>
 <pre class="code">multi sub prefix:&lt;?&gt;(Mu --&gt; Bool:D)</pre>
 <p>Coerces its argument to <span class="code">Bool</span>.</p>
 <a name="t69.2.2"></a><h2 id="_type_Bool.pod6-prefix_so">69.2.2 prefix so</h2>
 <pre class="code">multi sub prefix:&lt;so&gt;(Mu --&gt; Bool:D)</pre>
 <p>Coerces its argument to <span class="code">Bool</span>, has looser precedence than <span class="code">prefix:&lt;?&gt; </span>.</p>
</div>
<!-- /type/Buf.pod6 --><div class="pod-body"><a id="_type_Buf.pod6"></a><a name="t70"><h1 class="title">70 role Buf</h1></a> <p class="subtitle">Mutable buffer for binary data</p> <pre class="code">role Buf[::T] does Blob[T] { ... }</pre>
 <p>A <span class="code">Buf</span> is a mutable sequence of (usually unsigned) integers.</p>
 <pre class="code">my $b = Buf.new(1, 2, 3);
$b[1] = 42;</pre>
 <a name="t70.1"></a><h1 id="_type_Buf.pod6-Methods">70.1 Methods</h1>
 <a name="t70.1.1"></a><h2 id="_type_Buf.pod6-method_subbuf-rw">70.1.1 method subbuf-rw</h2>
 <pre class="code">method subbuf-rw($from, $length?)</pre>
 <p>A mutable version of <span class="code">subbuf</span> that returns a <a href="#_type_Proxy.pod6">Proxy</a> functioning as a writable reference to a part of a buffer. Its first argument, <span class="code">$from</span> specifies the index in the buffer from which a substitution should occur, and its last argument, <span class="code">$length</span> specifies how many elements are to be replaced.</p>
 <p>For example, to replace one element at index 3 with two elements, <span class="code">100</span> and <span class="code">101</span>:</p>
 <pre class="code">my Buf $b .= new(0..5);
$b.subbuf-rw(3,1) = Buf.new(100, 101);
say $b.perl;   # OUTPUT: «Buf.new(0,1,2,100,101,4,5)␤»</pre>
 <a name="t70.1.2"></a><h2 id="_type_Buf.pod6-routine_subbuf-rw">70.1.2 routine subbuf-rw</h2>
 <pre class="code">sub subbuf-rw(Buf:D $buf, $from, $length?)</pre>
 <p>Returns a writable reference to a part of a buffer. Similar to the <span class="code">subbuf-rw</span> method:</p>
 <pre class="code">my Buf $b .= new(1,2,3);
subbuf-rw($b,2,1) = Buf.new(42);
say $b.perl;   # OUTPUT: «Buf.new(1,2,42)␤»</pre>
 <a name="t70.1.3"></a><h2 id="_type_Buf.pod6-method_reallocate">70.1.3 method reallocate</h2>
 <pre class="code">method reallocate($elems)</pre>
 <p>Change the number of elements of the <span class="code">Buf</span>. The <span class="code">Buf</span> will be made larger if the specified value is larger than the current number of elements. The value of newly created elements is undetermined and should thus not be relied upon. It returns the altered <span class="code">Buf</span>.</p>
 <pre class="code">my Buf $b .= new(^10);
$b.reallocate(5);
say $b.perl;  # OUTPUT: «Buf.new(0,1,2,3,4)␤»</pre>
 <a name="t70.1.4"></a><h2 id="_type_Buf.pod6-method_push">70.1.4 method push</h2>
 <pre class="code">method push( $elems )</pre>
 <p>Adds elements at the end of the buffer</p>
 <pre class="code">my @φ =  1,1, * + * … ∞;
my $bú = Buf.new( @φ[^5] );
$bú.push( @φ[5] );
say $bú.perl; # OUTPUT: «Buf.new(1,1,2,3,5,8)»</pre>
 <a name="t70.1.5"></a><h2 id="_type_Buf.pod6-method_pop">70.1.5 method pop</h2>
 <pre class="code">method pop()</pre>
 <p>Extracts the last element of the buffer</p>
 <pre class="code">    say $bú.pop(); # OUTPUT: «8» 
     say $bú.perl; # OUTPUT: «Buf.new(1,1,2,3,5)» 
</pre>
 <a name="t70.1.6"></a><h2 id="_type_Buf.pod6-method_append">70.1.6 method append</h2>
 <pre class="code">method append( $elems )</pre>
 <p>Appends at the end of the buffer</p>
 <pre class="code">    $bú.append( @φ[5..10] ); 
     say $bú.perl; # OUTPUT: «Buf.new(1,1,2,3,5,8,13,21,34,55,89)» 
</pre>
 <a name="t70.1.7"></a><h2 id="_type_Buf.pod6-method_prepend">70.1.7 method prepend</h2>
 <pre class="code">method prepend( $elems )</pre>
 <p>Adds elements at the beginning of the buffer</p>
 <pre class="code">    $bú.prepend( 0 ); 
     say $bú.perl; # OUTPUT: «Buf.new(0,1,1,2,3,5,8,13,21,34,55,89)» 
</pre>
 <a name="t70.1.8"></a><h2 id="_type_Buf.pod6-method_shift">70.1.8 method shift</h2>
 <pre class="code">method shift()</pre>
 <p>Takes out the first element of the buffer</p>
 <pre class="code">    $bú.shift(); 
     say $bú.perl; # OUTPUT: «Buf.new(1,1,2,3,5,8,13,21,34,55,89)» 
</pre>
 <a name="t70.1.9"></a><h2 id="_type_Buf.pod6-method_unshift">70.1.9 method unshift</h2>
 <pre class="code">method unshift()</pre>
 <p>Adds elements at the beginning of the buffer</p>
 <pre class="code">    $bú.unshift( 0 ); 
     say $bú.perl; # OUTPUT: «Buf.new(0,1,1,2,3,5,8,13,21,34,55,89)» 
</pre>
 <a name="t70.1.10"></a><h2 id="_type_Buf.pod6-method_splice">70.1.10 method splice</h2>
 <pre class="code">method splice( Buf:D: $start = 0, $elems?, *@replacement --&gt; Buf)</pre>
 <p>Substitutes elements of the buffer by other elements</p>
 <pre class="code">    $bú.splice:  0, 3, &lt;3 2 1&gt;; 
     say $bú.perl; # OUTPUT: «Buf.new(3,2,1,2,3,5,8,13,21,34,55,89)» 
</pre>
</div>
<!-- /type/CallFrame.pod6 --><div class="pod-body"><a id="_type_CallFrame.pod6"></a><a name="t71"><h1 class="title">71 class CallFrame</h1></a> <p class="subtitle">Capturing current frame state</p> <pre class="code">class CallFrame {}</pre>
 <p>There's no way to instantiate a <span class="code">CallFrame</span>. Instead, it is captured from the current state of a program using the <a href="#_routine_callframe.pod6">callframe</a> subroutine.</p>
 <pre class="code">my $frame = callframe;
say &quot;The above line of code ran at {$frame.file}:{$frame.line}.&quot;;</pre>
 <p>With no arguments the callframe will give you frame information for the line calling <span class="code">callframe</span>. The file and line annotations will be identical to those in <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">$?FILE</span></a> and <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">$?LINE</span></a>.</p>
 <p>You may, however, pass a number to <span class="code">callframe</span> to specify a different frame level. The current frame is level 0 (though level of the frame may be different, see <a href="#_routine_level.pod6">level</a> for more information). A positive number will move upward through the levels of frame. A negative number will move downward into the <span class="code">callframe</span> method and class itself at the point at which they are running to construct this information for you.</p>
 <p>The frames themselves do not necessarily match to method or subroutine calls. Perl constructs a frames for blocks and such as well, so if you need a callframe for a particular method call, do not assume it is a fixed number of levels up.</p>
 <p>Each frame stores <a href="#_routine_annotations.pod6">annotations</a>, including the <a href="#_routine_file.pod6">file</a> and <a href="#_routine_line.pod6">line</a> annotations, which have convenience methods for accessing those directly. You can also retrieve a reference to the code block of the currently executing frame using the <a href="#_routine_code.pod6">code</a> method. The frame also captures all lexical variables stored with the frame, which are available by calling <a href="#_routine_my.pod6">my</a> on the frame object.</p>
 <p>Here's a short example that will find the calling routine and prints the package of the caller using the <span class="code">callframe</span> interface.</p>
 <pre class="code">sub calling-frame() {
    for 1..* -&gt; $level {
        given callframe($level) -&gt; $frame {
            when $frame ~~ CallFrame {
                    next unless $frame.code ~~ Routine;
                    say $frame.code.package;
                    last;
            }
            default {
                    say &quot;no calling routine or method found&quot;;
                    last;
            }
        }
    }
}

calling-frame;</pre>
 <p>If you just need to trace caller information, <a href="#_type_Backtrace.pod6">Backtrace</a> may provide a better means of getting information. <a href="#_type_CallFrame.pod6">CallFrame</a> contains more information about a specific frame, but provides a tedious interface for enumerating a call stack.</p>
 <a name="t71.1"></a><h1 id="_type_CallFrame.pod6-Methods">71.1 Methods</h1>
 <a name="t71.1.1"></a><h2 id="_type_CallFrame.pod6-method_code">71.1.1 method code</h2>
 <pre class="code">method code(CallFrame:D:)</pre>
 <p>Return the callable code for the current block. When called on the object returned by <span class="code">callframe(0)</span>, this will be the same value found in <a href="#_language_variables.pod6-Compile-time_variables"><span class="code">&amp;?BLOCK</span></a>.</p>
 <a name="t71.1.2"></a><h2 id="_type_CallFrame.pod6-method_file">71.1.2 method file</h2>
 <pre class="code">method file(CallFrame:D:)</pre>
 <p>This is a shortcut for looking up the <span class="code">file</span> annotation. Therefore, the following code prints <span class="code">True</span>.</p>
 <pre class="code">my $frame = callframe(0);
say $frame.file eq $frame.annotations&lt;file&gt;;</pre>
 <a name="t71.1.3"></a><h2 id="_type_CallFrame.pod6-method_level">71.1.3 method level</h2>
 <pre class="code">method level(CallFrame:D:)</pre>
 <p>Return the absolute level of the frame in the stack. This will usually be higher than 0 when calling <span class="code">callframe(0)</span>. Using a negative number to retrieve a frame less than 0 will result in an exception.</p>
 <a name="t71.1.4"></a><h2 id="_type_CallFrame.pod6-method_line">71.1.4 method line</h2>
 <pre class="code">method line(CallFrame:D:)</pre>
 <p>This is a shortcut for looking up the <span class="code">line</span> annotation. For example, the following two calls are identical.</p>
 <pre class="code">say callframe(1).line;
say callframe(1).annotations&lt;line&gt;;</pre>
 <a name="t71.1.5"></a><h2 id="_type_CallFrame.pod6-method_annotations">71.1.5 method annotations</h2>
 <pre class="code">method annotations(--&gt; Map:D)</pre>
 <p>Returns a <a href="#_type_Map.pod6">Map</a> containing the invocants annotations, i.e. <span class="code">line</span> and <span class="code">file</span>. An easier way to get hold of the annotation information is to use one of the convenience methods instead.</p>
 <pre class="code">say callframe.annotations.^name;                   # OUTPUT: «Map␤»

say callframe.annotations&lt;file&gt; eq callframe.file; # OUTPUT: «True␤»</pre>
 <a name="t71.1.6"></a><h2 id="_type_CallFrame.pod6-method_my">71.1.6 method my</h2>
 <pre class="code">method my(CallFrame:D:)</pre>
 <p>Return a <a href="#_type_Hash.pod6">Hash</a> that names all the variables and their values associated with the lexical scope of the frame.</p>
 <pre class="code">sub some-value {
    my $the-answer = 42;
    callframe(0);
}

my $frame = some-value();
say $frame.my&lt;$the-answer&gt;; # OUTPUT: «42␤»</pre>
 <a name="t71.2"></a><h1 id="_type_CallFrame.pod6-Routines">71.2 Routines</h1>
 <a name="t71.2.1"></a><h2 id="_type_CallFrame.pod6-sub_callframe">71.2.1 sub callframe</h2>
 <pre class="code">sub callframe(Int $level = 0)</pre>
 <p>Returns a <a href="#_type_CallFrame.pod6">CallFrame</a> object for the given level. If no level is given, the default level is 0. Positive levels move up the frame stack and negative levels move down (into the call to <span class="code">callframe</span> and deeper).</p>
 <p>Returns <a href="#_type_Mu.pod6">Mu</a> if there is no call information for the given level. (Negative levels may result in an exception.)</p>
</div>
<!-- /type/Callable.pod6 --><div class="pod-body"><a id="_type_Callable.pod6"></a><a name="t72"><h1 class="title">72 role Callable</h1></a> <p class="subtitle">Invocable code object</p> <pre class="code">role Callable { ... }</pre>
 <p>Role for objects which support calling them. It's used in <a href="#_type_Block.pod6">Block</a>, <a href="#_type_Routine.pod6">Routine</a>, <a href="#_type_Sub.pod6">Sub</a>, <a href="#_type_Method.pod6">Method</a>, <a href="#_type_Submethod.pod6">Submethod</a> and <a href="#_type_Macro.pod6">Macro</a> types.</p>
 <p>Callables can be stored in <span class="code">&amp;</span>-sigiled containers, the default type constraint of such a container is <span class="code">Callable</span>.</p>
 A signature object can be used to
 force a check against the signature of the Callable to be stored into the
 container.
 <pre class="code">my &amp;a = {;}; # Empty block needs a semicolon
my &amp;b = -&gt; {};
my &amp;c = sub () {};
sub foo() {};
my &amp;d = &amp;foo;</pre>
 commented out until it's implemented for code :skip-test
 my &amp;f:(Int) = sub bar(Int) {}; # Not yet implemented
 my &amp;f:(Str) = -&gt; Str {};       # Not yet implemented
 <a name="t72.1"></a><h1 id="_type_Callable.pod6-Methods">72.1 Methods</h1>
 <a name="t72.1.1"></a><h2 id="_type_Callable.pod6-method_CALL-ME">72.1.1 method CALL-ME</h2>
 <pre class="code">method CALL-ME(Callable:D $self: |arguments)</pre>
 <p>This method is required for postfix:«( )» and postfix:«.( )». It's what makes an object actually call-able and needs to be overloaded to let a given object act like a routine. If the object needs to be stored in a <span class="code">&amp;</span>-sigiled container, is has to implement Callable.</p>
 <pre class="code">class A does Callable {
    submethod CALL-ME(|c){ 'called' }
}
my &amp;a = A;
say a(); # OUTPUT: «called␤»</pre>
 <a name="t72.1.2"></a><h2 id="_type_Callable.pod6-method_Capture">72.1.2 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
 <a name="t72.1.3"></a><h2 id="_type_Callable.pod6-method_assuming">72.1.3 method assuming</h2>
 <pre class="code">method assuming(Callable:D $self: |primers)</pre>
 <p>Returns a <span class="code">Callable</span> that implements the same behaviour as the original, but has the values passed to .assuming already bound to the corresponding parameters.</p>
 <pre class="code">my sub slow($n){ my $i = 0; $i++ while $i &lt; $n; $i };

# takes only one parameter and as such wont forward $n
sub bench(&amp;c){ c, now - ENTER now };

say &amp;slow.assuming(10000000).&amp;bench; # OUTPUT: «(10000000 7.5508834)␤»</pre>
 <p>For a sub with arity greater than one, you can use <span class="code">Whatever</span> <span class="code">*</span> for all of the positional parameters that are not &quot;assumed&quot;.</p>
 <pre class="code">sub first-and-last ( $first, $last ) {
    say &quot;Name is $first $last&quot;;
}

my &amp;surname-smith = &amp;first-and-last.assuming( *, 'Smith' );

&amp;surname-smith.( 'Joe' ); # OUTPUT: «Name is Joe Smith␤»</pre>
 <p>You can handle any combination of assumed and not assumed positional parameters:</p>
 <pre class="code">sub longer-names ( $first, $middle, $last, $suffix ) {
    say &quot;Name is $first $middle $last $suffix&quot;;
}

my &amp;surname-public = &amp;longer-names.assuming( *, *, 'Public', * );

&amp;surname-public.( 'Joe', 'Q.', 'Jr.'); # OUTPUT: «Name is Joe Q. Public Jr.␤»</pre>
 <p>Named parameters can be assumed as well:</p>
 <pre class="code">sub foo { say &quot;$^a $^b $:foo $:bar&quot; }
&amp;foo.assuming(13, :42foo)(24, :72bar); # OUTPUT: «13 24 42 72␤»</pre>
 <p>And you can use <span class="code">.assuming</span> on all types of <a href="#_type_Callable.pod6">Callables</a>, including <a href="#_type_Method.pod6">Methods</a> and <a href="#_type_Block.pod6">Blocks</a>:</p>
 <pre class="code"># We use a Whatever star for the invocant:
my &amp;comber = Str.^lookup('comb').assuming: *, /P \w+/;
say comber 'Perl is awesome! Python is great! And PHP is OK too';
# OUTPUT: «(Perl Python PHP)␤»

my &amp;learner = {
    &quot;It took me $:months months to learn $^lang&quot;
}.assuming: 'Perl 6';
say learner :6months;  # OUTPUT: «It took me 6 months to learn Perl 6␤»</pre>
</div>
<!-- /type/Cancellation.pod6 --><div class="pod-body"><a id="_type_Cancellation.pod6"></a><a name="t73"><h1 class="title">73 class Cancellation</h1></a> <p class="subtitle">Removal of a task from a Scheduler before normal completion</p> <pre class="code">my class Cancellation {}</pre>
 <p>A low level part of the Perl 6 <a href="#_language_concurrency.pod6-Schedulers">concurrency</a> system. Some <a href="#_type_Scheduler.pod6">Scheduler</a> objects return a <span class="code">Cancellation</span> with the <a href="#_type_Scheduler.pod6-method_cue">.cue</a> method which can be used to cancel the scheduled execution before normal completion. <span class="code">Cancellation.cancelled</span> is a boolean that is true after <a href="#72-cancel">#cancel</a> is called.</p>
 <a name="t73.1"></a><h1 id="_type_Cancellation.pod6-Methods">73.1 Methods</h1>
 <a name="t73.1.1"></a><h2 id="_type_Cancellation.pod6-method_cancel">73.1.1 method cancel</h2>
 <p>Defined as:</p>
 <pre class="code">method cancel()</pre>
 <p>Usage:</p>
 <pre class="code">CANCELLATION.cancel 
</pre>
 <p>Cancels the scheduled execution of a task before normal completion.</p>
</div>
<!-- /type/Capture.pod6 --><div class="pod-body"><a id="_type_Capture.pod6"></a><a name="t74"><h1 class="title">74 class Capture</h1></a> <p class="subtitle">Argument list suitable for passing to a Signature</p> <p><span class="indexed"><a id="850" name="capture literal (Capture)"></a></span> <span class="indexed"><a id="851" name="\() (Capture)"></a></span></p>
 <pre class="code">class Capture does Positional does Associative { } 
</pre>
 <p>A Capture is a container for passing arguments to a code object. Captures are the flip-side of Signatures – Captures are the caller defined arguments, while Signatures are the callee defined parameters.</p>
 <p>When you call <span class="code">print $a, $b</span>, the <span class="code">$a, $b</span> part is a Capture.</p>
 <p>Captures contain a list-like part for positional arguments and a hash-like part for named arguments. For the named arguments, Captures use a slightly different <i>syntax</i> than a normal List. There are two easy ways to make a named argument: 1) use an unquoted key naming a parameter, followed by <span class="code">=&gt;</span>, followed by the argument and 2) use a colon-pair literal named after the parameter:</p>
 <pre class="code">say unique 1, -2, 2, 3, as =&gt; { abs $_ };   # OUTPUT: «(1 -2 3)␤»
# ... is the same thing as:
say unique 1, -2, 2, 3, :as({ abs $_ });    # OUTPUT: «(1 -2 3)␤»
# Be careful not to quote the name of a named parameter:
say unique 1, -2, 2, 3, 'as' =&gt; { abs $_ };
# OUTPUT: «(1 -2 2 3 as =&gt; -&gt; ;; $_? is raw { #`(Block|78857320) ... })␤»</pre>
 <p>A stand-alone Capture can also be made, stored, and used later. A literal Capture can be created by prefixing a term with a backslash <span class="code">\</span>. Commonly, this term will be a List of terms, from which any Pair literal will be placed in the named part, and all other terms will be placed in the positional part.</p>
 <pre class="code">my $c = \(42);          # Capture with one positional part
$c = \(1, 2, a =&gt; 'b'); # Capture with two positional and one named parts</pre>
 <p>To use such a Capture, you may use <span class="code">'|'</span> before it in a function call, and it will be as if the values in the Capture were passed directly to the function as arguments – named arguments will be passed as named arguments and positional arguments will be passed as positional arguments. You may re-use the Capture as many times as you want, even with different functions.</p>
 <pre class="code">my $c = \(4, 2, 3);
reverse(|$c).say; # OUTPUT: «3 2 4␤»
sort(5,|$c).say;  # OUTPUT: «2 3 4 5␤»</pre>
 <p>Inside a Signature, a Capture may be created by prefixing a sigilless parameter with a vertical bar <span class="code">|</span>. This packs the remainder of the argument list into that parameter.</p>
 <pre class="code">f(1, 2, 3, a =&gt; 4, b =&gt; 5);
sub f($a, |c) {
    # c  is  \(2, 3, a =&gt; 4, b =&gt; 5)
}</pre>
 <p>Note that Captures are still Lists in that they may contain containers, not just values:</p>
 <pre class="code">my $b = 1;
my $c = \(4, 2, $b, 3);
sort(|$c).say;        # OUTPUT: «1 2 3 4␤»
$b = 6;
sort(|$c).say;        # OUTPUT: «2 3 4 6␤»</pre>
 <a name="t74.1"></a><h1 id="_type_Capture.pod6-Methods">74.1 Methods</h1>
 <a name="t74.1.1"></a><h2 id="_type_Capture.pod6-method_list">74.1.1 method list</h2>
 <p>Defined as:</p>
 <pre class="code">method list(Capture:D: --&gt; Positional)</pre>
 <p>Returns the positional part of the Capture.</p>
 <pre class="code">my Capture $c = \(2, 3, 5, apples =&gt; (red =&gt; 2));
say $c.list;                                      # OUTPUT: «(2 3 5)␤»</pre>
 <a name="t74.1.2"></a><h2 id="_type_Capture.pod6-method_hash">74.1.2 method hash</h2>
 <p>Defined as:</p>
 <pre class="code">method hash(Capture:D: --&gt; Associative)</pre>
 <p>Returns the named/hash part of the Capture.</p>
 <pre class="code">my Capture $c = \(2, 3, 5, apples =&gt; (red =&gt; 2));
say $c.hash; # OUTPUT: «Map.new((:apples(:red(2))))␤»</pre>
 <a name="t74.1.3"></a><h2 id="_type_Capture.pod6-method_elems">74.1.3 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">method elems(Capture:D: --&gt; Int:D)</pre>
 <p>Returns the number of positional elements in the Capture.</p>
 <pre class="code">my Capture $c = \(2, 3, 5, apples =&gt; (red =&gt; 2));
say $c.elems;                                     # OUTPUT: «3␤»</pre>
 <a name="t74.1.4"></a><h2 id="_type_Capture.pod6-method_keys">74.1.4 method keys</h2>
 <p>Defined as:</p>
 <pre class="code">multi method keys(Capture:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> containing all positional keys followed by all named keys. For positional arguments the keys are the respective arguments ordinal position starting from zero.</p>
 <pre class="code">my $capture = \(2, 3, 5, apples =&gt; (red =&gt; 2));
say $capture.keys;                                # OUTPUT: «(0 1 2 apples)␤»</pre>
 <a name="t74.1.5"></a><h2 id="_type_Capture.pod6-method_values">74.1.5 method values</h2>
 <p>Defined as:</p>
 <pre class="code">multi method values(Capture:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> containing all positional values followed by all named argument values.</p>
 <pre class="code">my $capture = \(2, 3, 5, apples =&gt; (red =&gt; 2));
say $capture.values;                              # OUTPUT: «(2 3 5 red =&gt; 2)␤»</pre>
 <a name="t74.1.6"></a><h2 id="_type_Capture.pod6-method_kv">74.1.6 method kv</h2>
 <p>Defined as:</p>
 <pre class="code">multi method kv(Capture:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> of alternating <a href="#73-method_keys">keys</a> and <a href="#73-method_values">values</a>. The positional keys and values, if any, comes first followed by the named keys and values.</p>
 <pre class="code">my $capture = \(2, 3, apples =&gt; (red =&gt; 2));
say $capture.kv;                                  # OUTPUT: «(0 2 1 3 apples red =&gt; 2)␤»</pre>
 <a name="t74.1.7"></a><h2 id="_type_Capture.pod6-method_pairs">74.1.7 method pairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method pairs(Capture:D: --&gt; Seq:D)</pre>
 <p>Returns all arguments, the positional followed by the named, as a <a href="#_type_Seq.pod6">Seq</a> of <a href="#_type_Pair.pod6">Pairs</a>. Positional arguments have their respective ordinal value, starting at zero, as key while the named arguments have their names as key.</p>
 <pre class="code">my Capture $c = \(2, 3, apples =&gt; (red =&gt; 2));
say $c.pairs;                                     # OUTPUT: «(0 =&gt; 2 1 =&gt; 3 apples =&gt; red =&gt; 2)␤»</pre>
 <a name="t74.1.8"></a><h2 id="_type_Capture.pod6-method_antipairs">74.1.8 method antipairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method antipairs(Capture:D: --&gt; Seq:D)</pre>
 <p>Returns all arguments, the positional followed by the named, as a <a href="#_type_Seq.pod6">Seq</a> of <a href="#_type_Pair.pod6">pairs</a> where the keys and values have been swapped, i.e. the value becomes the key and the key becomes the value. This behavior is the opposite of the <a href="#73-method_pairs">pairs</a> method.</p>
 <pre class="code">my $capture = \(2, 3, apples =&gt; (red =&gt; 2));
say $capture.antipairs;                           # OUTPUT: «(2 =&gt; 0 3 =&gt; 1 (red =&gt; 2) =&gt; apples)␤»</pre>
 <a name="t74.1.9"></a><h2 id="_type_Capture.pod6-method_Bool">74.1.9 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(Capture:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the Capture contains at least one named or one positional argument.</p>
 <pre class="code">say \(1,2,3, apples =&gt; 2).Bool;                   # OUTPUT: «True␤»
say \().Bool;                                     # OUTPUT: «False␤»</pre>
 <a name="t74.1.10"></a><h2 id="_type_Capture.pod6-method_Capture">74.1.10 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Capture:D: --&gt; Capture:D)</pre>
 <p>Returns itself, i.e. the invocant.</p>
 <pre class="code">say \(1,2,3, apples =&gt; 2).Capture; # OUTPUT: «\(1, 2, 3, :apples(2))␤»</pre>
 <a name="t74.1.11"></a><h2 id="_type_Capture.pod6-method_Numeric">74.1.11 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">method Numeric(Capture:D: --&gt; Int:D)</pre>
 <p>Returns the number of positional elements in the Capture.</p>
 <pre class="code">say \(1,2,3, apples =&gt; 2).Numeric;                # OUTPUT: «3␤»</pre>
</div>
<!-- /type/Channel.pod6 --><div class="pod-body"><a id="_type_Channel.pod6"></a><a name="t75"><h1 class="title">75 class Channel</h1></a> <p class="subtitle">Thread-safe queue for sending values from producers to consumers</p> <pre class="code">class Channel {}</pre>
 <p>A <span class="code">Channel</span> is a thread-safe queue that helps you to send a series of objects from one or more producers to one or more consumers. Each object will arrive at only one such consumer, selected by the scheduler. If there is only one consumer and one producer, order of objects is guaranteed to be preserved. Sending on a <span class="code">Channel</span> is non-blocking.</p>
 <pre class="code">my $c = Channel.new;
await (^10).map: {
    start {
        my $r = rand;
        sleep $r;
        $c.send($r);
    }
}
$c.close;
say $c.list;</pre>
 <p>Further examples can be found in the <a href="#_language_concurrency.pod6-Channels">concurrency page</a></p>
 <a name="t75.1"></a><h1 id="_type_Channel.pod6-Methods">75.1 Methods</h1>
 <a name="t75.1.1"></a><h2 id="_type_Channel.pod6-method_send">75.1.1 method send</h2>
 <p>Defined as:</p>
 <pre class="code">method send(Channel:D: \item)</pre>
 <p>Enqueues an item into the <span class="code">Channel</span>. Throws an exception of type <a href="#_type_X::Channel::SendOnClosed.pod6">X::Channel::SendOnClosed</a> if the channel has been closed already. This call will <b>not</b> block waiting for a consumer to take the object. There is no set limit on the number of items that may be queued, so care should be taken to prevent runaway queueing.</p>
 <pre class="code">my $c = Channel.new;
$c.send(1);
$c.send([2, 3, 4, 5]);
$c.close;
say $c.list; # OUTPUT: «(1 [2 3 4 5])␤»</pre>
 <a name="t75.1.2"></a><h2 id="_type_Channel.pod6-method_receive">75.1.2 method receive</h2>
 <p>Defined as:</p>
 <pre class="code">method receive(Channel:D:)</pre>
 <p>Receives and removes an item from the channel. It blocks if no item is present, waiting for a <span class="code">send</span> from another thread.</p>
 <p>Throws an exception of type <a href="#_type_X::Channel::ReceiveOnClosed.pod6">X::Channel::ReceiveOnClosed</a> if the channel has been closed, and the last item has been removed already, or if <span class="code">close</span> is called while <span class="code">receive</span> is waiting for an item to arrive.</p>
 <p>If the channel has been marked as erratic with method <span class="code">fail</span>, and the last item has been removed, throws the argument that was given to <span class="code">fail</span> as an exception.</p>
 <p>See method <span class="code">poll</span> for a non-blocking version that won't throw exceptions.</p>
 <pre class="code">my $c = Channel.new;
$c.send(1);
say $c.receive; # OUTPUT: «1␤»</pre>
 <a name="t75.1.3"></a><h2 id="_type_Channel.pod6-method_poll">75.1.3 method poll</h2>
 <p>Defined as:</p>
 <pre class="code">method poll(Channel:D:)</pre>
 <p>Receives and removes an item from the channel. If no item is present, returns <span class="code">Nil</span> instead of waiting.</p>
 <pre class="code">my $c = Channel.new;
Promise.in(2).then: { $c.close; }
^10 .map({ $c.send($_); });
loop {
    if $c.poll -&gt; $item { $item.say };
    if $c.closed  { last };
    sleep 0.1;
}</pre>
 <p>See method <span class="code">receive</span> for a blocking version that properly responds to channel closing and failure.</p>
 <a name="t75.1.4"></a><h2 id="_type_Channel.pod6-method_close">75.1.4 method close</h2>
 <p>Defined as:</p>
 <pre class="code">method close(Channel:D:)</pre>
 <p>Close the <span class="code">Channel</span>, normally. This makes subsequent <span class="code">send</span> calls die with <a href="#_type_X::Channel::SendOnClosed.pod6">X::Channel::SendOnClosed</a>. Subsequent calls of <span class="code">.receive</span> may still drain any remaining items that were previously sent, but if the queue is empty, will throw an <a href="#_type_X::Channel::ReceiveOnClosed.pod6">X::Channel::ReceiveOnClosed</a> exception. A <span class="code">Seq</span> produced by an <span class="code">@()</span> or by the <span class="code">.list</span> method will not terminate until this has been done. A <a href="#_language_concurrency.pod6-index-entry-whenever">whenever</a>-block will also terminate properly on a closed channel.</p>
 <pre class="code">my $c = Channel.new;
$c.close;
$c.send(1);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Channel::SendOnClosed: Cannot send a message on a closed channel␤»</pre>
 <p>Please note that any exception thrown may prevent <span class="code">.close</span> from being called, this may hang the receiving thread. Use a <a href="#_language_phasers.pod6-LEAVE">LEAVE</a> phaser to enforce the <span class="code">.close</span> call in this case.</p>
 <a name="t75.1.5"></a><h2 id="_type_Channel.pod6-method_list">75.1.5 method list</h2>
 <p>Defined as:</p>
 <pre class="code">method list(Channel:D: --&gt; List:D)</pre>
 <p>Returns a list based on the <span class="code">Seq</span> which will iterate items in the queue and remove each item from it as it iterates. This can only terminate once the <span class="code">close</span> method has been called.</p>
 <pre class="code">my $c = Channel.new; $c.send(1); $c.send(2);
$c.close;
say $c.list; # OUTPUT: «(1 2)␤»</pre>
 <a name="t75.1.6"></a><h2 id="_type_Channel.pod6-method_closed">75.1.6 method closed</h2>
 <p>Defined as:</p>
 <pre class="code">method closed(Channel:D: --&gt; Promise:D)</pre>
 <p>Returns a promise that will be kept once the channel is closed by a call to method <span class="code">close</span>.</p>
 <pre class="code">my $c = Channel.new;
$c.closed.then({ say &quot;It's closed!&quot; });
$c.close;
sleep 1;</pre>
 <a name="t75.1.7"></a><h2 id="_type_Channel.pod6-method_fail">75.1.7 method fail</h2>
 <p>Defined as:</p>
 <pre class="code">method fail(Channel:D: $error)</pre>
 <p>Closes the <span class="code">Channel</span> (that is, makes subsequent <span class="code">send</span> calls die), and enqueues the error to be thrown as the final element in the channel. Method <span class="code">receive</span> will throw that error as an exception. Does nothing if the channel has already been closed or <span class="code">.fail</span> has already been called on it.</p>
 <pre class="code">my $c = Channel.new;
$c.fail(&quot;Bad error happens!&quot;);
$c.receive;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::AdHoc: Bad error happens!␤»</pre>
 <a name="t75.1.8"></a><h2 id="_type_Channel.pod6-method_Capture">75.1.8 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Channel:D --&gt; Capture:D)</pre>
 <p>Equivalent to calling <a href="#_type_List.pod6-method_Capture"><span class="code">.List.Capture</span></a> on the invocant.</p>
 <a name="t75.1.9"></a><h2 id="_type_Channel.pod6-method_Supply">75.1.9 method Supply</h2>
 <p>Defined as:</p>
 <pre class="code">method Supply(Channel:D:)</pre>
 <p>This returns an <span class="code">on-demand</span> <a href="#_type_Supply.pod6">Supply</a> that emits a value for every value received on the Channel. <span class="code">done</span> will be called on the <span class="code">Supply</span> when the <a href="#_type_Channel.pod6">Channel</a> is closed.</p>
 <pre class="code">my $c = Channel.new;
my Supply $s1 = $c.Supply;
my Supply $s2 = $c.Supply;
$s1.tap(-&gt; $v { say &quot;First $v&quot; });
$s2.tap(-&gt; $v { say &quot;Second $v&quot; });
^10 .map({ $c.send($_) });
sleep 1;</pre>
 <p>Multiple calls to this method produce multiple instances of Supply, which compete over the values from the Channel.</p>
 <a name="t75.1.10"></a><h2 id="_type_Channel.pod6-sub_await">75.1.10 sub await</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub await(Channel:D)
multi sub await(*@)</pre>
 <p>Waits until all of one or more channels has a value available, and returns those values (it calls <span class="code">.receive</span> on the channel). Also works with <a href="#_type_Promise.pod6">promises</a>.</p>
 <pre class="code">my $c = Channel.new;
Promise.in(1).then({$c.send(1)});
say await $c;</pre>
</div>
<!-- /type/Code.pod6 --><div class="pod-body"><a id="_type_Code.pod6"></a><a name="t76"><h1 class="title">76 class Code</h1></a> <p class="subtitle">Code object</p> <pre class="code">class Code is Any does Callable {}</pre>
 <p><span class="code">Code</span> is the ultimate base class of all code objects in Perl 6. It exposes functionality that all code objects have. While thunks are directly of type <span class="code">Code</span>, most code objects (such as those resulting from blocks, subroutines or methods) will be of some subclass of <span class="code">Code</span>.</p>
 <a name="t76.1"></a><h1 id="_type_Code.pod6-Methods">76.1 Methods</h1>
 <a name="t76.1.1"></a><h2 id="_type_Code.pod6-method_ACCEPTS">76.1.1 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Code:D: Mu $topic)</pre>
 <p>Usually calls the code object and passes <span class="code">$topic</span> as an argument. However, when called on a code object that takes no arguments, the code object is invoked with no arguments and <span class="code">$topic</span> is dropped. The result of the call is returned.</p>
 <a name="t76.1.2"></a><h2 id="_type_Code.pod6-method_arity">76.1.2 method arity</h2>
 <p>Defined as:</p>
 <pre class="code">method arity(Code:D: --&gt; Int:D)</pre>
 <p>Returns the minimum number of positional arguments that must be passed in order to call the code object. Any optional or slurpy parameters in the code object's <span class="code">Signature</span> do not contribute, nor do named parameters.</p>
 <pre class="code">sub argless() { }
sub args($a, $b?) { }
sub slurpy($a, $b, *@c) { }
say &amp;argless.arity;             # OUTPUT: «0␤»
say &amp;args.arity;                # OUTPUT: «1␤»
say &amp;slurpy.arity;              # OUTPUT: «2␤»</pre>
 <a name="t76.1.3"></a><h2 id="_type_Code.pod6-method_count">76.1.3 method count</h2>
 <p>Defined as:</p>
 <pre class="code">method count(Code:D: --&gt; Real:D)</pre>
 <p>Returns the maximum number of positional arguments that may be passed when calling the code object. For code objects that can accept any number of positional arguments (that is, they have a slurpy parameter), <span class="code">count</span> will return <span class="code">Inf</span>. Named parameters do not contribute.</p>
 <pre class="code">sub argless() { }
sub args($a, $b?) { }
sub slurpy($a, $b, *@c) { }
say &amp;argless.count;             # OUTPUT: «0␤»
say &amp;args.count;                # OUTPUT: «2␤»
say &amp;slurpy.count;              # OUTPUT: «Inf␤»</pre>
 <a name="t76.1.4"></a><h2 id="_type_Code.pod6-of">76.1.4 of</h2>
 <p>Defined as:</p>
 <pre class="code">method of(Code:D: --&gt; Mu)</pre>
 <p>Returns the <a href="#_type_Signature.pod6-Constraining_Return_Types">return type constraint</a> of the <span class="code">Code</span>:</p>
 <pre class="code">say -&gt; () --&gt; Int {}.of; # OUTPUT: «(Int)␤»</pre>
 <a name="t76.1.5"></a><h2 id="_type_Code.pod6-method_signature">76.1.5 method signature</h2>
 <p>Defined as:</p>
 <pre class="code">multi method signature(Code:D: --&gt; Signature:D)</pre>
 <p>Returns the <a href="&lt;span class=&quot;code&quot;&gt;Signature&lt;/span&gt;"><span class="code">Signature</span></a> object for this code object, which describes its parameters.</p>
 <pre class="code">sub a(Int $one, Str $two) {};
say &amp;a.signature; # OUTPUT: «(Int $one, Str $two)␤»</pre>
 <a name="t76.1.6"></a><h2 id="_type_Code.pod6-method_Str">76.1.6 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Str(Code:D: --&gt; Str:D)</pre>
 <p>Will produce a warning. Use <span class="code">.perl</span> or <span class="code">.gist</span> instead.</p>
 <pre class="code">sub marine() { }
say ~&amp;marine;    # OUTPUT: «marine␤»
say &amp;marine.Str; # OUTPUT: «marine␤»</pre>
 <a name="t76.1.7"></a><h2 id="_type_Code.pod6-method_file">76.1.7 method file</h2>
 <p>Defined as:</p>
 <pre class="code">method file(Code:D: --&gt; Str:D)</pre>
 <p>Returns the name of the file in which the code object was declared.</p>
 <pre class="code">say &amp;infix:&lt;+&gt;.file;</pre>
 <a name="t76.1.8"></a><h2 id="_type_Code.pod6-method_line">76.1.8 method line</h2>
 <p>Defined as</p>
 <pre class="code">method line(Code:D: --&gt; Int:D)</pre>
 <p>Returns the line number in which the code object was declared.</p>
 <pre class="code">say &amp;infix:&lt;+&gt;.line;</pre>
</div>
<!-- /type/Complex.pod6 --><div class="pod-body"><a id="_type_Complex.pod6"></a><a name="t77"><h1 class="title">77 class Complex</h1></a> <p class="subtitle">Complex number</p> <pre class="code">class Complex is Cool does Numeric {}</pre>
 <p>Represents a number in the complex plane.</p>
 <p>Complex objects are immutable.</p>
 <a name="t77.1"></a><h1 id="_type_Complex.pod6-Operators">77.1 Operators</h1>
 <a name="t77.1.1"></a><h2 id="_type_Complex.pod6-postfix_i">77.1.1 postfix i</h2>
 <p>Adding a trailing <span class="code">i</span> to a number literal makes it a Complex, for example:</p>
 <pre class="code">say 2i;     # same as Complex.new(0, 2);
say 1-2e3i; # same as Complex.new(1, -2e3);</pre>
 <a name="t77.2"></a><h1 id="_type_Complex.pod6-Methods">77.2 Methods</h1>
 <a name="t77.2.1"></a><h2 id="_type_Complex.pod6-method_new">77.2.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new(Real $re, Real $im --&gt; Complex:D)</pre>
 <p>Creates a new <span class="code">Complex</span> object from real and imaginary parts.</p>
 <pre class="code">my $complex = Complex.new(1, 1);</pre>
 <a name="t77.2.2"></a><h2 id="_type_Complex.pod6-method_re">77.2.2 method re</h2>
 <p>Defined as:</p>
 <pre class="code">method re(Complex:D: --&gt; Real:D)</pre>
 <p>Returns the real part of the complex number.</p>
 <pre class="code">say (3+5i).re;    # OUTPUT: «3␤»</pre>
 <a name="t77.2.3"></a><h2 id="_type_Complex.pod6-method_im">77.2.3 method im</h2>
 <p>Defined as:</p>
 <pre class="code">method im(Complex:D: --&gt; Real:D)</pre>
 <p>Returns the imaginary part of the complex number.</p>
 <pre class="code">say (3+5i).im;    # OUTPUT: «5␤»</pre>
 <a name="t77.2.4"></a><h2 id="_type_Complex.pod6-method_reals">77.2.4 method reals</h2>
 <p>Defined as:</p>
 <pre class="code">method reals(Complex:D: --&gt; Positional:D)</pre>
 <p>Returns a two-element list containing the real and imaginary parts for this value.</p>
 <pre class="code">say (3+5i).reals;    # OUTPUT: «(3 5)␤»</pre>
 <a name="t77.2.5"></a><h2 id="_type_Complex.pod6-method_isNaN">77.2.5 method isNaN</h2>
 <p>Defined as:</p>
 <pre class="code">method isNaN(Complex:D: --&gt; Bool:D)</pre>
 <p>Returns true if the real or imaginary part is <a href="#_type_Num.pod6-NaN"><span class="code">NaN</span></a> (not a number).</p>
 <pre class="code">say (NaN+5i).isNaN; # OUTPUT: «True␤»
say (7+5i).isNaN;   # OUTPUT: «False␤»</pre>
 <a name="t77.2.6"></a><h2 id="_type_Complex.pod6-method_polar">77.2.6 method polar</h2>
 <p>Defined as:</p>
 <pre class="code">method polar(Complex:D: --&gt; Positional:D)</pre>
 <p>Returns a two-element list of the polar coordinates for this value, i.e. magnitude and angle in radians.</p>
 <pre class="code">say (10+7i).polar; # OUTPUT: «(12.2065556157337 0.610725964389209)␤»</pre>
 <a name="t77.2.7"></a><h2 id="_type_Complex.pod6-method_floor">77.2.7 method floor</h2>
 <p>Defined as:</p>
 <pre class="code">method floor(Complex:D: --&gt; Complex:D)</pre>
 <p>Returns <span class="code">self.re.floor + self.im.floor</span>. That is, each of the real and imaginary parts is rounded to the highest integer not greater than the value of that part.</p>
 <pre class="code">say (1.2-3.8i).floor;           # OUTPUT: «1-4i␤»</pre>
 <a name="t77.2.8"></a><h2 id="_type_Complex.pod6-method_ceiling">77.2.8 method ceiling</h2>
 <p>Defined as:</p>
 <pre class="code">method ceiling(Complex:D: --&gt; Complex:D)</pre>
 <p>Returns <span class="code">self.re.ceiling + self.im.ceiling</span>. That is, each of the real and imaginary parts is rounded to the lowest integer not less than the value of that part.</p>
 <pre class="code">say (1.2-3.8i).ceiling;         # OUTPUT: «2-3i␤»</pre>
 <a name="t77.2.9"></a><h2 id="_type_Complex.pod6-method_round">77.2.9 method round</h2>
 <p>Defined as:</p>
 <pre class="code">multi method round(Complex:D: --&gt; Complex:D)
multi method round(Complex:D: Real() $scale --&gt; Complex:D)</pre>
 <p>With no arguments, rounds both the real and imaginary parts to the nearest integer and returns a new <span class="code">Complex</span> number. If <span class="code">$scale</span> is given, rounds both parts of the invocant to the nearest multiple of <span class="code">$scale</span>. Uses the same algorithm as <a href="#_type_Real.pod6-method_round">Real.round</a> on each part of the number.</p>
 <pre class="code">say (1.2-3.8i).round;           # OUTPUT: «1-4i␤»
say (1.256-3.875i).round(0.1);  # OUTPUT: «1.3-3.9i␤»</pre>
 <a name="t77.2.10"></a><h2 id="_type_Complex.pod6-method_truncate">77.2.10 method truncate</h2>
 <p>Defined as:</p>
 <pre class="code">method truncate(Complex:D: --&gt; Complex:D)</pre>
 <p>Removes the fractional part of both the real and imaginary parts of the number, using <a href="#_type_Real.pod6-method_truncate">Real.truncate</a>, and returns the result as a new <span class="code">Complex</span>.</p>
 <pre class="code">say (1.2-3.8i).truncate;        # OUTPUT: «1-3i␤»</pre>
 <a name="t77.2.11"></a><h2 id="_type_Complex.pod6-method_abs">77.2.11 method abs</h2>
 <p>Defined as:</p>
 <pre class="code">method abs(Complex:D: --&gt; Num:D)
multi sub abs(Complex:D $z --&gt; Num:D)</pre>
 <p>Returns the absolute value of the invocant (or the argument in sub form). For a given complex number <span class="code">$z</span> the absolute value <span class="code">|$z|</span> is defined as <span class="code">sqrt($z.re * $z.re + $z.im * $z.im)</span>.</p>
 <pre class="code">say (3+4i).abs;                 # OUTPUT: «5␤»
                                # sqrt(3*3 + 4*4) == 5</pre>
 <a name="t77.2.12"></a><h2 id="_type_Complex.pod6-method_conj">77.2.12 method conj</h2>
 <p>Defined as:</p>
 <pre class="code">method conj(Complex:D: --&gt; Complex:D)</pre>
 <p>Returns the complex conjugate of the invocant (that is, the number with the sign of the imaginary part negated).</p>
 <pre class="code">say (1-4i).conj;                # OUTPUT: «1+4i␤»</pre>
 <a name="t77.2.13"></a><h2 id="_type_Complex.pod6-method_sqrt">77.2.13 method sqrt</h2>
 <p>Defined as:</p>
 <pre class="code">method sqrt(Complex:D: --&gt; Complex:D)</pre>
 <p>Returns the complex square root of the invocant, i.e. the root where the real part is ≥ 0 and the imaginary part has the same sign as the imaginary part of the invocant.</p>
 <pre class="code">say (3-4i).sqrt;                # OUTPUT: «2-1i␤»
say (-3+4i).sqrt;               # OUTPUT: «1+2i␤»</pre>
 <a name="t77.2.14"></a><h2 id="_type_Complex.pod6-method_gist">77.2.14 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">method gist(Complex:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the form &quot;1+2i&quot;, without internal spaces. (Str coercion also returns this.)</p>
 <pre class="code">say (1-4i).gist;                # OUTPUT: «1-4i␤»</pre>
 <a name="t77.2.15"></a><h2 id="_type_Complex.pod6-method_perl">77.2.15 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(Complex:D: --&gt; Str:D)</pre>
 <p>Returns a string representation corresponding to the unambiguous <span class="code">val()</span>-based representation of complex literals, of the form &quot;&lt;1+2i&gt;&quot;, without internal spaces, and including the angles that keep the + from being treated as a normal addition operator.</p>
 <pre class="code">say (1-3i).perl;                # OUTPUT: «&lt;1-3i&gt;␤»</pre>
 <a name="t77.2.16"></a><h2 id="_type_Complex.pod6-method_Real">77.2.16 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(Complex:D: --&gt; Num:D)
multi method Real(Complex:U: --&gt; Num:D)</pre>
 <p>Coerces the invocant to <a href="#_type_Num.pod6">Num</a>. If the imaginary part isn't <a href="#_routine_=~=.pod6">approximately</a> zero, coercion <a href="#_routine_fail.pod6">fails</a> with <span class="code">X::Numeric::Real</span>.</p>
 <p>The <span class="code">:D</span> variant returns the result of that coercion. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0e0</span>.</p>
</div>
<!-- /type/ComplexStr.pod6 --><div class="pod-body"><a id="_type_ComplexStr.pod6"></a><a name="t78"><h1 class="title">78 class ComplexStr</h1></a> <p class="subtitle">Dual Value Complex number and String</p> <pre class="code">class ComplexStr is Complex is Str {}</pre>
 <p>The dual value types (often referred to as <a href="#_language_glossary.pod6-Allomorph">allomorphs</a>) allow for the representation of a value as both a string and a numeric type, typically they will be created for you when the context is &quot;stringy&quot; but they can be determined to be numbers, such as in some <a href="#_language_quoting.pod6">quoting constructs</a>:</p>
 <pre class="code">my $f = &lt;42+0i&gt;; say $f.^name; # OUTPUT: «ComplexStr␤»</pre>
 <p>As a subclass of both <a href="#_type_Complex.pod6"><span class="code">Complex</span></a> and <a href="#_type_Str.pod6"><span class="code">Str</span></a>, a <span class="code">ComplexStr</span> will be accepted where either is expected. However, <span class="code">ComplexStr</span> does not share object identity with <span class="code">Complex</span>- or <span class="code">Str</span>-only variants:</p>
 <pre class="code">my $complex-str = &lt; 42+0i &gt;;
my Complex $complex = $complex-str; # OK!
my Str     $str     = $complex-str; # OK!
say 42+0i ∈ &lt;42+0i  55  1&gt;; # False; ∈ operator cares about object identity</pre>
 <a name="t78.1"></a><h1 id="_type_ComplexStr.pod6-Methods">78.1 Methods</h1>
 <a name="t78.1.1"></a><h2 id="_type_ComplexStr.pod6-method_new">78.1.1 method new</h2>
 <pre class="code">method new(Complex $i, Str $s)</pre>
 <p>The constructor requires both the <span class="code">Complex</span> and the <span class="code">Str</span> value, when constructing one directly the values can be whatever is required:</p>
 <pre class="code">my $f = ComplexStr.new(42+0i, &quot;forty two (but complicated)&quot;);
say +$f; # OUTPUT: «42+0i␤»
say ~$f; # OUTPUT: «&quot;forty two (but complicated)&quot;␤»</pre>
 <a name="t78.1.2"></a><h2 id="_type_ComplexStr.pod6-method_Bool">78.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(ComplexStr:D: --&gt; Bool:D)</pre>
 <p><i>This method may be provided by the parent classes and not implemented in ComplexStr directly</i>.</p>
 <p>Returns <span class="code">False</span> if the invocant is numerically <span class="code">±0±0i</span>, otherwise returns <span class="code">True</span>. String portion is not considered.</p>
 <a name="t78.1.3"></a><h2 id="_type_ComplexStr.pod6-method_Capture">78.1.3 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(ComplexStr:D --&gt; Capture:D)</pre>
 <p>Equivalent to <a href="#_type_Mu.pod6-method_Capture"><span class="code">Mu.Capture</span></a>.</p>
 <a name="t78.1.4"></a><h2 id="_type_ComplexStr.pod6-method_Complex">78.1.4 method Complex</h2>
 <pre class="code">method Complex</pre>
 <p>Returns the <span class="code">Complex</span> value of the <span class="code">ComplexStr</span>.</p>
 <a name="t78.1.5"></a><h2 id="_type_ComplexStr.pod6-method_Numeric">78.1.5 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Numeric(ComplexStr:D: --&gt; Complex:D)
multi method Numeric(ComplexStr:U: --&gt; Complex:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">&lt;0+0i&gt;</span>.</p>
 <a name="t78.1.6"></a><h2 id="_type_ComplexStr.pod6-method_Real">78.1.6 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(ComplexStr:D: --&gt; Num:D)
multi method Real(ComplexStr:U: --&gt; Num:D)</pre>
 <p>Coerces the numeric portion of the invocant to <a href="#_type_Num.pod6">Num</a>. If the imaginary part isn't <a href="#_routine_=~=.pod6">approximately</a> zero, coercion <a href="#_routine_fail.pod6">fails</a> with <span class="code">X::Numeric::Real</span>.</p>
 <p>The <span class="code">:D</span> variant returns the result of that coercion. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0e0</span>.</p>
 <a name="t78.1.7"></a><h2 id="_type_ComplexStr.pod6-method_Str">78.1.7 method Str</h2>
 <p>Returns the string value of the <span class="code">ComplexStr</span>.</p>
 <a name="t78.1.8"></a><h2 id="_type_ComplexStr.pod6-method_ACCEPTS">78.1.8 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(ComplexStr:D: Any:D $value)</pre>
 <p>If <span class="code">$value</span> is <a href="#_type_Numeric.pod6">Numeric</a> (including another <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorph</a>), checks if invocant's <a href="#_type_Numeric.pod6">Numeric</a> part <a href="#_type_Numeric.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If <span class="code">$value</span> is <a href="#_type_Str.pod6">Str</a>, checks if invocant's <a href="#_type_Str.pod6">Str</a> part <a href="#_type_Str.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If value is anything else, checks if both <a href="#_type_Numeric.pod6">Numeric</a> and <a href="#_type_Str.pod6">Str</a> parts <span class="code">ACCEPTS</span> the <span class="code">$value</span>.</p>
 <pre class="code">say &lt; 5+0i&gt; ~~ &quot;5.0&quot;; # OUTPUT: «False␤»
say &lt; 5+0i&gt; ~~  5.0 ; # OUTPUT: «True␤»
say &lt; 5+0i&gt; ~~ &lt;5.0&gt;; # OUTPUT: «True␤»</pre>
 <a name="t78.2"></a><h1 id="_type_ComplexStr.pod6-Operators">78.2 Operators</h1>
 <a name="t78.2.1"></a><h2 id="_type_ComplexStr.pod6-infix_cmp">78.2.1 infix cmp</h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(ComplexStr:D $a, ComplexStr:D $b)</pre>
 <p>Compare two <span class="code">ComplexStr</span> objects. The comparison is done on the <span class="code">Complex</span> value first and then on the <span class="code">Str</span> value. If you want to compare in a different order then you would coerce to the <span class="code">Complex</span> or <span class="code">Str</span> values first:</p>
 <pre class="code">my $f = ComplexStr.new(42+0i, &quot;smaller&quot;);
my $g = ComplexStr.new(43+0i, &quot;larger&quot;);
say $f cmp $g;          # OUTPUT: «Less␤»
say $f.Str cmp $g.Str;  # OUTPUT: «More␤»</pre>
</div>
<!-- /type/Cool.pod6 --><div class="pod-body"><a id="_type_Cool.pod6"></a><a name="t79"><h1 class="title">79 class Cool</h1></a> <p class="subtitle">Object that can be treated as both a string and number</p> <pre class="code">class Cool is Any { }</pre>
 <p><span class="code">Cool</span>, also known as the <b>C</b>onvenient <b>OO</b> <b>L</b>oop, is a base class employed by a number of built-in classes that can be meaningfully coerced to a string and a number. For example, an <a href="#_type_Array.pod6">Array</a> can be used in mathematical operations, where its numerical representation is the number of elements it contains. At the same time, it can be concatenated to a string, where its stringy representation is all of its elements <a href="#_routine_join.pod6">joined</a> by a space. Because <a href="#_type_Array.pod6">Array</a> is <a href="#_type_Cool.pod6">Cool</a>, the appropriate coercion happens automatically.</p>
 <p>Methods in <span class="code">Cool</span> coerce the invocant to a more specific type, and then call the same method on that type. For example both <a href="#_type_Int.pod6">Int</a> and <a href="#_type_Str.pod6">Str</a> inherit from <span class="code">Cool</span>, and calling method <span class="code">substr</span> on an <span class="code">Int</span> converts the integer to <span class="code">Str</span> first.</p>
 <pre class="code">123.substr(1, 1);   # '2', same as 123.Str.substr(1, 1)</pre>
 <p>The following built-in types inherit from <span class="code">Cool</span>: <a href="#_type_Array.pod6">Array</a> <a href="#_type_Bool.pod6">Bool</a> <a href="#_type_Complex.pod6">Complex</a> <a href="#_type_Cool.pod6">Cool</a> <a href="#_type_Duration.pod6">Duration</a> <a href="#_type_Map.pod6">Map</a> <a href="#_type_FatRat.pod6">FatRat</a> <a href="#_type_Hash.pod6">Hash</a> <a href="#_type_Instant.pod6">Instant</a> <a href="#_type_Int.pod6">Int</a> <a href="#_type_List.pod6">List</a> <a href="#_type_Match.pod6">Match</a> <a href="#_type_Nil.pod6">Nil</a> <a href="#_type_Num.pod6">Num</a> <a href="#_type_Range.pod6">Range</a> <a href="#_type_Seq.pod6">Seq</a> <a href="#_type_Stash.pod6">Stash</a> <a href="#_type_Str.pod6">Str</a></p>
 <p>The following table summarizes the methods that <span class="code">Cool</span> provides, and what type they coerce to:</p>
 <table>
<tr><th>method</th> <th>coercion type</th></tr>
<tr><td>abs</td> <td>Numeric</td></tr>
 <tr><td>conj</td> <td>Numeric</td></tr>
 <tr><td>sqrt</td> <td>Numeric</td></tr>
 <tr><td>sign</td> <td>Real</td></tr>
 <tr><td>rand</td> <td>Numeric</td></tr>
 <tr><td>sin</td> <td>Numeric</td></tr>
 <tr><td>asin</td> <td>Numeric</td></tr>
 <tr><td>cos</td> <td>Numeric</td></tr>
 <tr><td>acos</td> <td>Numeric</td></tr>
 <tr><td>tan</td> <td>Numeric</td></tr>
 <tr><td>tanh</td> <td>Numeric</td></tr>
 <tr><td>atan</td> <td>Numeric</td></tr>
 <tr><td>atan2</td> <td>Numeric</td></tr>
 <tr><td>atanh</td> <td>Numeric</td></tr>
 <tr><td>sec</td> <td>Numeric</td></tr>
 <tr><td>asec</td> <td>Numeric</td></tr>
 <tr><td>cosec</td> <td>Numeric</td></tr>
 <tr><td>acosec</td> <td>Numeric</td></tr>
 <tr><td>cotan</td> <td>Numeric</td></tr>
 <tr><td>cotanh</td> <td>Numeric</td></tr>
 <tr><td>acotan</td> <td>Numeric</td></tr>
 <tr><td>sinh</td> <td>Numeric</td></tr>
 <tr><td>asinh</td> <td>Numeric</td></tr>
 <tr><td>cosh</td> <td>Numeric</td></tr>
 <tr><td>acosh</td> <td>Numeric</td></tr>
 <tr><td>sech</td> <td>Numeric</td></tr>
 <tr><td>asech</td> <td>Numeric</td></tr>
 <tr><td>cosech</td> <td>Numeric</td></tr>
 <tr><td>acosech</td> <td>Numeric</td></tr>
 <tr><td>acotanh</td> <td>Numeric</td></tr>
 <tr><td>cis</td> <td>Numeric</td></tr>
 <tr><td>log</td> <td>Numeric</td></tr>
 <tr><td>exp</td> <td>Numeric</td></tr>
 <tr><td>roots</td> <td>Numeric</td></tr>
 <tr><td>log10</td> <td>Numeric</td></tr>
 <tr><td>unpolar</td> <td>Numeric</td></tr>
 <tr><td>round</td> <td>Numeric</td></tr>
 <tr><td>floor</td> <td>Numeric</td></tr>
 <tr><td>ceiling</td> <td>Numeric</td></tr>
 <tr><td>truncate</td> <td>Numeric</td></tr>
 <tr><td>chr</td> <td>Int</td></tr>
 <tr><td>ord</td> <td>Str</td></tr>
 <tr><td>chars</td> <td>Str</td></tr>
 <tr><td>fmt</td> <td>Str</td></tr>
 <tr><td>uniname</td> <td>Str</td></tr>
 <tr><td>uninames</td> <td>Seq</td></tr>
 <tr><td>unival</td> <td>Str</td></tr>
 <tr><td>univals</td> <td>Str</td></tr>
 <tr><td>uniprop</td> <td>Str</td></tr>
 <tr><td>uniprop-int</td> <td>Str</td></tr>
 <tr><td>uniprop-str</td> <td>Str</td></tr>
 <tr><td>uniprop-bool</td> <td>Str</td></tr>
 <tr><td>unimatch</td> <td>Str</td></tr>
 <tr><td>uc</td> <td>Str</td></tr>
 <tr><td>lc</td> <td>Str</td></tr>
 <tr><td>fc</td> <td>Str</td></tr>
 <tr><td>tc</td> <td>Str</td></tr>
 <tr><td>tclc</td> <td>Str</td></tr>
 <tr><td>flip</td> <td>Str</td></tr>
 <tr><td>trans</td> <td>Str</td></tr>
 <tr><td>contains</td> <td>Str</td></tr>
 <tr><td>index</td> <td>Str</td></tr>
 <tr><td>rindex</td> <td>Str</td></tr>
 <tr><td>ords</td> <td>Str</td></tr>
 <tr><td>split</td> <td>Str</td></tr>
 <tr><td>match</td> <td>Str</td></tr>
 <tr><td>comb</td> <td>Str</td></tr>
 <tr><td>subst</td> <td>Str</td></tr>
 <tr><td>sprintf</td> <td>Str</td></tr>
 <tr><td>printf</td> <td>Str</td></tr>
 <tr><td>samecase</td> <td>Str</td></tr>
 <tr><td>trim</td> <td>Str</td></tr>
 <tr><td>trim-leading</td> <td>Str</td></tr>
 <tr><td>trim-trailing</td> <td>Str</td></tr>
 <tr><td>EVAL</td> <td>Str</td></tr>
 <tr><td>chomp</td> <td>Str</td></tr>
 <tr><td>chop</td> <td>Str</td></tr>
 <tr><td>codes</td> <td>Str</td></tr>
</table> <a name="t79.1"></a><h1 id="_type_Cool.pod6-Methods">79.1 Methods</h1>
 <a name="t79.1.1"></a><h2 id="_type_Cool.pod6-routine_abs">79.1.1 routine abs</h2>
 <p>Defined as:</p>
 <pre class="code">sub abs(Numeric() $x)
method abs()</pre>
 <p>Coerces the invocant (or in the sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a> and returns the absolute value (that is, a non-negative number).</p>
 <pre class="code">say (-2).abs;       # OUTPUT: «2␤»
say abs &quot;6+8i&quot;;     # OUTPUT: «10␤»</pre>
 <a name="t79.1.2"></a><h2 id="_type_Cool.pod6-method_conj">79.1.2 method conj</h2>
 <p>Defined as:</p>
 <pre class="code">method conj()</pre>
 <p>Coerces the invocant to <a href="#_type_Numeric.pod6">Numeric</a> and returns the <a href="#_type_Complex.pod6">complex</a> conjugate (that is, the number with the sign of the imaginary part negated).</p>
 <pre class="code">say (1+2i).conj;        # OUTPUT: «1-2i␤»</pre>
 <a name="t79.1.3"></a><h2 id="_type_Cool.pod6-routine_sqrt">79.1.3 routine sqrt</h2>
 <p>Defined as:</p>
 <pre class="code">sub sqrt(Numeric(Cool) $x)
method sqrt()</pre>
 <p>Coerces the invocant to <a href="#_type_Numeric.pod6">Numeric</a> (or in the sub form, the argument) and returns the square root, that is, a non-negative number that, when multiplied with itself, produces the original number.</p>
 <pre class="code">say 4.sqrt;             # OUTPUT: «2␤»
say sqrt(2);            # OUTPUT: «1.4142135623731␤»</pre>
 <a name="t79.1.4"></a><h2 id="_type_Cool.pod6-method_sign">79.1.4 method sign</h2>
 <p>Defined as:</p>
 <pre class="code">method sign()</pre>
 <p>Coerces the invocant to <a href="#_type_Real.pod6">Numeric</a> and returns its sign, that is, 0 if the number is 0, 1 for positive and -1 for negative values.</p>
 <pre class="code">say 6.sign;             # OUTPUT: «1␤»
say (-6).sign;          # OUTPUT: «-1␤»
say &quot;0&quot;.sign;           # OUTPUT: «0␤»</pre>
 <a name="t79.1.5"></a><h2 id="_type_Cool.pod6-method_rand">79.1.5 method rand</h2>
 <p>Defined as:</p>
 <pre class="code">method rand()</pre>
 <p>Coerces the invocant to <a href="#_type_Num.pod6">Num</a> and returns a pseudo-random value between zero and the number.</p>
 <pre class="code">say 1e5.rand;           # OUTPUT: «33128.495184283␤»</pre>
 <a name="t79.1.6"></a><h2 id="_type_Cool.pod6-routine_sin">79.1.6 routine sin</h2>
 <p>Defined as:</p>
 <pre class="code">sub sin(Numeric(Cool))
method sin()</pre>
 <p>Coerces the invocant (or in the sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Sine">sine</a>.</p>
 <pre class="code">say sin(0);             # OUTPUT: «0␤»
say sin(pi/4);          # OUTPUT: «0.707106781186547␤»
say sin(pi/2);          # OUTPUT: «1␤»</pre>
 <p>Note that Perl 6 is no computer algebra system, so <span class="code">sin(pi)</span> typically does not produce an exact 0, but rather a very small <a href="#_type_Num.pod6">floating-point number</a>.</p>
 <a name="t79.1.7"></a><h2 id="_type_Cool.pod6-routine_asin">79.1.7 routine asin</h2>
 <p>Defined as:</p>
 <pre class="code">sub asin(Numeric(Cool))
method asin()</pre>
 <p>Coerces the invocant (or in the sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-sine</a> in radians.</p>
 <pre class="code">say 0.1.asin;               # OUTPUT: «0.10016742116156␤»
say asin(0.1);              # OUTPUT: «0.10016742116156␤»</pre>
 <a name="t79.1.8"></a><h2 id="_type_Cool.pod6-routine_cos">79.1.8 routine cos</h2>
 <p>Defined as:</p>
 <pre class="code">sub cos(Numeric(Cool))
method cos()</pre>
 <p>Coerces the invocant (or in sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Cosine">cosine</a>.</p>
 <pre class="code">say 0.cos;                  # OUTPUT: «1␤»
say pi.cos;                 # OUTPUT: «-1␤»
say cos(pi/2);              # OUTPUT: «6.12323399573677e-17␤»</pre>
 <a name="t79.1.9"></a><h2 id="_type_Cool.pod6-routine_acos">79.1.9 routine acos</h2>
 <p>Defined as:</p>
 <pre class="code">sub acos(Numeric(Cool))
method acos()</pre>
 <p>Coerces the invocant (or in sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-cosine</a> in radians.</p>
 <pre class="code">say 1.acos;                 # OUTPUT: «0␤»
say acos(-1);               # OUTPUT: «3.14159265358979␤»</pre>
 <a name="t79.1.10"></a><h2 id="_type_Cool.pod6-routine_tan">79.1.10 routine tan</h2>
 <p>Defined as:</p>
 <pre class="code">sub tan(Numeric(Cool))
method tan()</pre>
 <p>Coerces the invocant (or in sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Tangent">tangent</a>.</p>
 <pre class="code">say tan(3);                 # OUTPUT: «-0.142546543074278␤»
say 3.tan;                  # OUTPUT: «-0.142546543074278␤»</pre>
 <a name="t79.1.11"></a><h2 id="_type_Cool.pod6-routine_atan">79.1.11 routine atan</h2>
 <p>Defined as:</p>
 <pre class="code">sub atan(Numeric(Cool))
method atan()</pre>
 <p>Coerces the invocant (or in sub form, the argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-tangent</a> in radians.</p>
 <pre class="code">say atan(3);                # OUTPUT: «1.24904577239825␤»
say 3.atan;                 # OUTPUT: «1.24904577239825␤»</pre>
 <a name="t79.1.12"></a><h2 id="_type_Cool.pod6-routine_atan2">79.1.12 routine atan2</h2>
 <p>Defined as:</p>
 <pre class="code">sub atan2(Numeric() $x, Numeric() $y = 1e0)
method atan2($y = 1e0)</pre>
 <p>Coerces the arguments (including the invocant in the method form) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns their two-argument <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-tangent</a> in radians.</p>
 <pre class="code">say atan2(3);               # OUTPUT: «1.24904577239825␤»
say 3.atan2;                # OUTPUT: «1.24904577239825␤»</pre>
 <a name="t79.1.13"></a><h2 id="_type_Cool.pod6-method_sec">79.1.13 method sec</h2>
 <p>Defined as:</p>
 <pre class="code">sub sec(Numeric(Cool))
method sec()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Trigonometric_functions#Reciprocal_functions">secant</a>, that is, the reciprocal of its cosine.</p>
 <pre class="code">say 45.sec;                 # OUTPUT: «1.90359440740442␤»
say sec(45);                # OUTPUT: «1.90359440740442␤»</pre>
 <a name="t79.1.14"></a><h2 id="_type_Cool.pod6-routine_asec">79.1.14 routine asec</h2>
 <p>Defined as:</p>
 <pre class="code">sub asec(Numeric(Cool))
method asec()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-secant</a> in radians.</p>
 <pre class="code">say 1.asec;                 # OUTPUT: «0␤»
say sqrt(2).asec;           # OUTPUT: «0.785398163397448␤»</pre>
 <a name="t79.1.15"></a><h2 id="_type_Cool.pod6-routine_cosec">79.1.15 routine cosec</h2>
 <p>Defined as:</p>
 <pre class="code">sub cosec(Numeric(Cool))
method cosec()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Trigonometric_functions#Reciprocal_functions">cosecant</a>, that is, the reciprocal of its sine.</p>
 <pre class="code">say 0.45.cosec;             # OUTPUT: «2.29903273150897␤»
say cosec(0.45);            # OUTPUT: «2.29903273150897␤»</pre>
 <a name="t79.1.16"></a><h2 id="_type_Cool.pod6-routine_acosec">79.1.16 routine acosec</h2>
 <p>Defined as:</p>
 <pre class="code">sub acosec(Numeric(Cool))
method acosec()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-cosecant</a> in radians.</p>
 <pre class="code">say 45.acosec;              # OUTPUT: «0.0222240516182672␤»
say acosec(45)              # OUTPUT: «0.0222240516182672␤»</pre>
 <a name="t79.1.17"></a><h2 id="_type_Cool.pod6-routine_cotan">79.1.17 routine cotan</h2>
 <p>Defined as:</p>
 <pre class="code">sub cotan(Numeric(Cool))
method cotan()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians, returns its <a href="https://en.wikipedia.org/wiki/Trigonometric_functions#Reciprocal_functions">cotangent</a>, that is, the reciprocal of its tangent.</p>
 <pre class="code">say 45.cotan;               # OUTPUT: «0.617369623783555␤»
say cotan(45);              # OUTPUT: «0.617369623783555␤»</pre>
 <a name="t79.1.18"></a><h2 id="_type_Cool.pod6-routine_acotan">79.1.18 routine acotan</h2>
 <p>Defined as:</p>
 <pre class="code">sub acotan(Numeric(Cool))
method acotan()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions">arc-cotangent</a> in radians.</p>
 <pre class="code">say 45.acotan;              # OUTPUT: «0.0222185653267191␤»
say acotan(45)              # OUTPUT: «0.0222185653267191␤»</pre>
 <a name="t79.1.19"></a><h2 id="_type_Cool.pod6-routine_sinh">79.1.19 routine sinh</h2>
 <p>Defined as:</p>
 <pre class="code">sub sinh(Numeric(Cool))
method sinh()</pre>
 <p>Coerces the invocant (or in method form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Sine hyperbolicus</a>.</p>
 <pre class="code">say 1.sinh;                 # OUTPUT: «1.1752011936438␤»
say sinh(1);                # OUTPUT: «1.1752011936438␤»</pre>
 <a name="t79.1.20"></a><h2 id="_type_Cool.pod6-routine_asinh">79.1.20 routine asinh</h2>
 <p>Defined as:</p>
 <pre class="code">sub asinh(Numeric(Cool))
method asinh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_function">Inverse Sine hyperbolicus</a>.</p>
 <pre class="code">say 1.asinh;                # OUTPUT: «0.881373587019543␤»
say asinh(1);               # OUTPUT: «0.881373587019543␤»</pre>
 <a name="t79.1.21"></a><h2 id="_type_Cool.pod6-routine_cosh">79.1.21 routine cosh</h2>
 <p>Defined as:</p>
 <pre class="code">sub cosh(Numeric(Cool))
method cosh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Cosine hyperbolicus</a>.</p>
 <pre class="code">say cosh(0.5);              # OUTPUT: «1.12762596520638␤»</pre>
 <a name="t79.1.22"></a><h2 id="_type_Cool.pod6-routine_acosh">79.1.22 routine acosh</h2>
 <p>Defined as:</p>
 <pre class="code">sub acosh(Numeric(Cool))
method acosh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_function">Inverse Cosine hyperbolicus</a>.</p>
 <pre class="code">say acosh(45);              # OUTPUT: «4.4996861906715␤»</pre>
 <a name="t79.1.23"></a><h2 id="_type_Cool.pod6-routine_tanh">79.1.23 routine tanh</h2>
 <p>Defined as:</p>
 <pre class="code">sub tanh(Numeric(Cool))
method tanh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, interprets it as radians and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Tangent hyperbolicus</a>.</p>
 <pre class="code">say tanh(0.5);              # OUTPUT: «0.46211715726001␤»
say tanh(atanh(0.5));       # OUTPUT: «0.5␤»</pre>
 <a name="t79.1.24"></a><h2 id="_type_Cool.pod6-routine_atanh">79.1.24 routine atanh</h2>
 <p>Defined as:</p>
 <pre class="code">sub atanh(Numeric(Cool))
method atanh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_function">Inverse tangent hyperbolicus</a>.</p>
 <pre class="code">say atanh(0.5);             # OUTPUT: «0.549306144334055␤»</pre>
 <a name="t79.1.25"></a><h2 id="_type_Cool.pod6-routine_sech">79.1.25 routine sech</h2>
 <p>Defined as:</p>
 <pre class="code">sub sech(Numeric(Cool))
method sech()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Secant hyperbolicus</a>.</p>
 <pre class="code">say 0.sech;                 # OUTPUT: «1␤»</pre>
 <a name="t79.1.26"></a><h2 id="_type_Cool.pod6-routine_asech">79.1.26 routine asech</h2>
 <p>Defined as:</p>
 <pre class="code">sub asech(Numeric(Cool))
method asech()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Inverse hyperbolic secant</a>.</p>
 <pre class="code">say 0.8.asech;              # OUTPUT: «0.693147180559945␤»</pre>
 <a name="t79.1.27"></a><h2 id="_type_Cool.pod6-routine_cosech">79.1.27 routine cosech</h2>
 <p>Defined as:</p>
 <pre class="code">sub cosech(Numeric(Cool))
method cosech()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Hyperbolic cosecant</a>.</p>
 <pre class="code">say cosech(pi/2);           # OUTPUT: «0.434537208094696␤»</pre>
 <a name="t79.1.28"></a><h2 id="_type_Cool.pod6-routine_acosech">79.1.28 routine acosech</h2>
 <p>Defined as:</p>
 <pre class="code">sub acosech(Numeric(Cool))
method acosech()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_function">Inverse hyperbolic cosecant</a>.</p>
 <pre class="code">say acosech(4.5);           # OUTPUT: «0.220432720979802␤»</pre>
 <a name="t79.1.29"></a><h2 id="_type_Cool.pod6-routine_cotanh">79.1.29 routine cotanh</h2>
 <p>Defined as:</p>
 <pre class="code">sub cotanh(Numeric(Cool))
method cotanh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Hyperbolic_function">Hyperbolic cotangent</a>.</p>
 <pre class="code">say cotanh(pi);             # OUTPUT: «1.00374187319732␤»</pre>
 <a name="t79.1.30"></a><h2 id="_type_Cool.pod6-routine_acotanh">79.1.30 routine acotanh</h2>
 <p>Defined as:</p>
 <pre class="code">sub acotanh(Numeric(Cool))
method acotanh()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_function">Inverse hyperbolic cotangent</a>.</p>
 <pre class="code">say acotanh(2.5);           # OUTPUT: «0.423648930193602␤»</pre>
 <a name="t79.1.31"></a><h2 id="_type_Cool.pod6-routine_cis">79.1.31 routine cis</h2>
 <p>Defined as:</p>
 <pre class="code">sub cis(Numeric(Cool))
method cis()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns <a href="https://en.wikipedia.org/wiki/Cis_%28mathematics%29">cos(argument) + i*sin(argument)</a>.</p>
 <pre class="code">say cis(pi/4);              # OUTPUT: «0.707106781186548+0.707106781186547i␤»</pre>
 <a name="t79.1.32"></a><h2 id="_type_Cool.pod6-routine_log">79.1.32 routine log</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub log(Numeric(Cool) $number, Numeric(Cool) $base?)
multi method log(Cool:D: Cool:D $base?)</pre>
 <p>Coerces the arguments (including the invocant in the method form) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Logarithm">Logarithm</a> to base <span class="code">$base</span>, or to base <span class="code">e</span> (Euler's Number) if no base was supplied (<a href="https://en.wikipedia.org/wiki/Natural_logarithm">Natural logarithm</a>). Returns <span class="code">NaN</span> if <span class="code">$base</span> is negative. Throws an exception if <span class="code">$base</span> is <span class="code">1</span>.</p>
 <pre class="code">say (e*e).log;              # OUTPUT: «2␤»</pre>
 <a name="t79.1.33"></a><h2 id="_type_Cool.pod6-routine_log10">79.1.33 routine log10</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub log10(Cool(Numeric))
multi method log10()</pre>
 <p>Coerces the invocant (or in the sub form, the invocant) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns its <a href="https://en.wikipedia.org/wiki/Logarithm">Logarithm</a> to base 10, that is, a number that approximately produces the original number when raised to the power of 10. Returns <span class="code">NaN</span> for negative arguments and <span class="code">-Inf</span> for <span class="code">0</span>.</p>
 <pre class="code">say log10(1001);            # OUTPUT: «3.00043407747932␤»</pre>
 <a name="t79.1.34"></a><h2 id="_type_Cool.pod6-method_exp">79.1.34 method exp</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub exp(Cool:D $pow, Cool:D $base?)
multi method exp(Cool:D: Cool:D $base?)</pre>
 <p>Coerces the arguments (including the invocant in the method from) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns <span class="code">$base</span> raised to the power of the first number. If no <span class="code">$base</span> is supplied, <span class="code">e</span> (Euler's Number) is used.</p>
 <pre class="code">say 0.exp;      # OUTPUT: «1␤»
say 1.exp;      # OUTPUT: «2.71828182845905␤»
say 10.exp;     # OUTPUT: «22026.4657948067␤»</pre>
 <a name="t79.1.35"></a><h2 id="_type_Cool.pod6-method_unpolar">79.1.35 method unpolar</h2>
 <p>Defined as:</p>
 <pre class="code">method unpolar(Numeric(Cool))</pre>
 <p>Coerces the arguments (including the invocant in the method form) to <a href="#_type_Numeric.pod6">Numeric</a>, and returns a complex number from the given polar coordinates. The invocant (or the first argument in sub form) is the magnitude while the argument (i.e. the second argument in sub form) is the angle. The angle is assumed to be in radians.</p>
 <pre class="code">say sqrt(2).unpolar(pi/4);      # OUTPUT: «1+1i␤»</pre>
 <a name="t79.1.36"></a><h2 id="_type_Cool.pod6-routine_round">79.1.36 routine round</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub round(Numeric(Cool))
multi method round(Cool:D: $unit = 1)</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and rounds it to the unit of <span class="code">$unit</span>. If <span class="code">$unit</span> is 1, rounds to the nearest integer.</p>
 <pre class="code">say 1.7.round;          # OUTPUT: «2␤»
say 1.07.round(0.1);    # OUTPUT: «1.1␤»
say 21.round(10);       # OUTPUT: «20␤»</pre>
 <p>Always rounds <b>up</b> if the number is at mid-point:</p>
 <pre class="code">say (−.5 ).round;       # OUTPUT: «0␤»
say ( .5 ).round;       # OUTPUT: «1␤»
say (−.55).round(.1);   # OUTPUT: «-0.5␤»
say ( .55).round(.1);   # OUTPUT: «0.6␤»</pre>
 <a name="t79.1.37"></a><h2 id="_type_Cool.pod6-routine_floor">79.1.37 routine floor</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub floor(Numeric(Cool))
multi method floor</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and rounds it downwards to the nearest integer.</p>
 <pre class="code">say &quot;1.99&quot;.floor;       # OUTPUT: «1␤»
say &quot;-1.9&quot;.floor;       # OUTPUT: «-2␤»
say 0.floor;            # OUTPUT: «0␤»</pre>
 <a name="t79.1.38"></a><h2 id="_type_Cool.pod6-routine_ceiling">79.1.38 routine ceiling</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub ceiling(Numeric(Cool))
multi method ceiling</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and rounds it upwards to the nearest integer.</p>
 <pre class="code">say &quot;1&quot;.ceiling;        # OUTPUT: «1␤»
say &quot;-0.9&quot;.ceiling;     # OUTPUT: «0␤»
say &quot;42.1&quot;.ceiling;     # OUTPUT: «43␤»</pre>
 <a name="t79.1.39"></a><h2 id="_type_Cool.pod6-routine_truncate">79.1.39 routine truncate</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub truncate(Numeric(Cool))
multi method truncate()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Numeric.pod6">Numeric</a>, and rounds it towards zero.</p>
 <pre class="code">say 1.2.truncate;       # OUTPUT: «1␤»
say truncate -1.2;      # OUTPUT: «-1␤»</pre>
 <a name="t79.1.40"></a><h2 id="_type_Cool.pod6-routine_ord">79.1.40 routine ord</h2>
 <p>Defined as:</p>
 <pre class="code">sub ord(Str(Cool))
method ord()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the <a href="https://en.wikipedia.org/wiki/Code_point">Unicode code point</a> number of the first code point.</p>
 <pre class="code">say 'a'.ord;            # OUTPUT: «97␤»</pre>
 <p>The inverse operation is <a href="#78-method chr">chr</a>.</p>
 <p>Mnemonic: returns an ordinal number</p>
 <a name="t79.1.41"></a><h2 id="_type_Cool.pod6-method_path">79.1.41 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path()</pre>
 <p><b>DEPRECATED</b>. <i>Existed only in the Rakudo implementation and isn't part of any language released. Issues deprecation warnings in 6.d language and will be removed entirely when 6.e language is released.</i></p>
 <p>Stringifies the invocant and converts it to <a href="#_type_IO::Path.pod6">IO::Path</a> object. Use the <a href="#_routine_IO.pod6"><span class="code">.IO method</span></a> instead.</p>
 <a name="t79.1.42"></a><h2 id="_type_Cool.pod6-routine_chr">79.1.42 routine chr</h2>
 <p>Defined as:</p>
 <pre class="code">sub chr(Int(Cool))
method chr()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Int.pod6">Int</a>, interprets it as a <a href="https://en.wikipedia.org/wiki/Code_point">Unicode code points</a>, and returns a <a href="#_type_Str.pod6">string</a> made of that code point.</p>
 <pre class="code">say '65'.chr;       # OUTPUT: «A␤»</pre>
 <p>The inverse operation is <a href="#78-method ord">ord</a>.</p>
 <p>Mnemonic: turns an integer into a <i>char</i>acter.</p>
 <a name="t79.1.43"></a><h2 id="_type_Cool.pod6-routine_chars">79.1.43 routine chars</h2>
 <p>Defined as:</p>
 <pre class="code">sub chars(Str(Cool))
method chars()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the number of characters in the string. Please note that on the JVM, you currently get codepoints instead of graphemes.</p>
 <pre class="code">say 'møp'.chars;    # OUTPUT: «3␤»
say 'ã̷̠̬̊'.chars;      # OUTPUT: «1␤»
say '👨‍👩‍👧‍👦🏿'.chars;      # OUTPUT: «1␤»</pre>
 <p><span class="indexed"><a id="852" name="Grapheme"></a></span> <span class="indexed"><a id="853" name="NFG"></a></span></p>
 <p>Graphemes are user visible characters. That is, this is what the user thinks of as a “character”.</p>
 <p>Graphemes can contain more than one codepoint. Typically the number of graphemes and codepoints differs when <span class="code">Prepend</span> or <span class="code">Extend</span> characters are involved (also known as <a href="https://en.wikipedia.org/wiki/Combining_character">Combining characters</a>), but there are many other cases when this may happen. Another example is <span class="code">\c[ZWJ]</span> (<a href="https://en.wikipedia.org/wiki/Zero-width_joiner">Zero-width joiner</a>).</p>
 <p>You can check <span class="code">Grapheme_Cluster_Break</span> property of a character in order to see how it is going to behave:</p>
 <pre class="code">say ‘ã̷̠̬̊’.uniprops(‘Grapheme_Cluster_Break’); # OUTPUT: «(Other Extend Extend Extend Extend)␤»
say ‘👨‍👩‍👧‍👦🏿’.uniprops(‘Grapheme_Cluster_Break’); # OUTPUT: «(E_Base_GAZ ZWJ E_Base_GAZ ZWJ E_Base_GAZ ZWJ E_Base_GAZ E_Modifier)␤»</pre>
 <p>You can read more about graphemes in the <a href="http://unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">Unicode Standard</a>, which Perl 6 tightly follows.</p>
 <a name="t79.1.44"></a><h2 id="_type_Cool.pod6-routine_codes">79.1.44 routine codes</h2>
 <p>Defined as:</p>
 <pre class="code">sub codes(Str(Cool))
method codes()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the number of <a href="https://en.wikipedia.org/wiki/Code_point">Unicode code points</a>.</p>
 <pre class="code">say 'møp'.codes;    # OUTPUT: «3␤»</pre>
 <p>The same result will be obtained with</p>
 <pre class="code">say +'møp'.ords;    # OUTPUT: «3␤»</pre>
 <p><a href="#_routine_ords.pod6">ords</a> first obtains the actual codepoints, so there might be a difference in speed.</p>
 <a name="t79.1.45"></a><h2 id="_type_Cool.pod6-routine_flip">79.1.45 routine flip</h2>
 <p>Defined as:</p>
 <pre class="code">sub flip(Str(Cool))
method flip()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns a reversed version.</p>
 <pre class="code">say 421.flip;       # OUTPUT: «124␤»</pre>
 <a name="t79.1.46"></a><h2 id="_type_Cool.pod6-routine_trim">79.1.46 routine trim</h2>
 <p>Defined as:</p>
 <pre class="code">sub trim(Str(Cool))
method trim()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the string with both leading and trailing whitespace stripped.</p>
 <pre class="code">my $stripped = '  abc '.trim;
say &quot;&lt;$stripped&gt;&quot;;          # OUTPUT: «&lt;abc&gt;␤»</pre>
 <a name="t79.1.47"></a><h2 id="_type_Cool.pod6-routine_trim-leading">79.1.47 routine trim-leading</h2>
 <p>Defined as:</p>
 <pre class="code">sub trim-leading(Str(Cool))
method trim-leading()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the string with leading whitespace stripped.</p>
 <pre class="code">my $stripped = '  abc '.trim-leading;
say &quot;&lt;$stripped&gt;&quot;;          # OUTPUT: «&lt;abc &gt;␤»</pre>
 <a name="t79.1.48"></a><h2 id="_type_Cool.pod6-routine_trim-trailing">79.1.48 routine trim-trailing</h2>
 <p>Defined as:</p>
 <pre class="code">sub trim-trailing(Str(Cool))
method trim-trailing()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the string with trailing whitespace stripped.</p>
 <pre class="code">my $stripped = '  abc '.trim-trailing;
say &quot;&lt;$stripped&gt;&quot;;          # OUTPUT: «&lt;  abc&gt;␤»</pre>
 <a name="t79.1.49"></a><h2 id="_type_Cool.pod6-routine_lc">79.1.49 routine lc</h2>
 <p>Defined as:</p>
 <pre class="code">sub lc(Str(Cool))
method lc()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it case-folded to lower case.</p>
 <pre class="code">say &quot;ABC&quot;.lc;       # OUTPUT: «abc␤»</pre>
 <a name="t79.1.50"></a><h2 id="_type_Cool.pod6-routine_uc">79.1.50 routine uc</h2>
 <p>Defined as:</p>
 <pre class="code">sub uc(Str(Cool))
method uc()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it case-folded to upper case (capital letters).</p>
 <pre class="code">say &quot;Abc&quot;.uc;       # OUTPUT: «ABC␤»</pre>
 <a name="t79.1.51"></a><h2 id="_type_Cool.pod6-routine_fc">79.1.51 routine fc</h2>
 <p>Defined as:</p>
 <pre class="code">sub fc(Str(Cool))
method fc()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns the result a Unicode &quot;case fold&quot; operation suitable for doing caseless string comparisons. (In general, the returned string is unlikely to be useful for any purpose other than comparison.)</p>
 <pre class="code">say &quot;groß&quot;.fc;       # OUTPUT: «gross␤»</pre>
 <a name="t79.1.52"></a><h2 id="_type_Cool.pod6-routine_tc">79.1.52 routine tc</h2>
 <p>Defined as:</p>
 <pre class="code">sub tc(Str(Cool))
method tc()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it with the first letter case-folded to title case (or where not available, upper case).</p>
 <pre class="code">say &quot;abC&quot;.tc;       # OUTPUT: «AbC␤»</pre>
 <a name="t79.1.53"></a><h2 id="_type_Cool.pod6-routine_tclc">79.1.53 routine tclc</h2>
 <p>Defined as:</p>
 <pre class="code">sub tclc(Str(Cool))
method tclc()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it with the first letter case-folded to title case (or where not available, upper case), and the rest of the string case-folded to lower case.</p>
 <pre class="code">say 'abC'.tclc;     # OUTPUT: «Abc␤»</pre>
 <a name="t79.1.54"></a><h2 id="_type_Cool.pod6-routine_wordcase">79.1.54 routine wordcase</h2>
 <p>Defined as:</p>
 <pre class="code">sub wordcase(Str(Cool) $input, :&amp;filter = &amp;tclc, Mu :$where = True)
method wordcase(:&amp;filter = &amp;tclc, Mu :$where = True)</pre>
 <p>Coerces the invocant (or in sub form, the first argument) to <a href="#_type_Str.pod6">Str</a>, and filters each word that smart-matches against <span class="code">$where</span> through the <span class="code">&amp;filter</span>. With the default filter (first character to upper case, rest to lower) and matcher (which accepts everything), this title-cases each word:</p>
 <pre class="code">say &quot;perl 6 programming&quot;.wordcase;      # OUTPUT: «Perl 6 Programming␤»</pre>
 <p>With a matcher:</p>
 <pre class="code">say &quot;have fun working on perl&quot;.wordcase(:where({ .chars &gt; 3 }));
                                        # Have fun Working on Perl</pre>
 <p>With a customer filter too:</p>
 <pre class="code">say &quot;have fun working on perl&quot;.wordcase(:filter(&amp;uc), :where({ .chars &gt; 3 }));
                                        # HAVE fun WORKING on PERL</pre>
 <a name="t79.1.55"></a><h2 id="_type_Cool.pod6-routine_samecase">79.1.55 routine samecase</h2>
 <p>Defined as:</p>
 <pre class="code">sub samecase(Cool $string, Cool $pattern)
method samecase(Cool:D: Cool $pattern)</pre>
 <p>Coerces the invocant (or in sub form, the first argument) to <a href="#_type_Str.pod6">Str</a>, and returns a copy of <span class="code">$string</span> with case information for each individual character changed according to <span class="code">$pattern</span>. (The pattern string can contain three types of characters, i.e. uppercase, lowercase and caseless. For a given character in <span class="code">$pattern</span> its case information determines the case of the corresponding character in the result.) If <span class="code">$string</span> is longer than <span class="code">$pattern</span>, the case information from the last character of <span class="code">$pattern</span> is applied to the remaining characters of <span class="code">$string</span>.</p>
 <pre class="code">say &quot;perL 6&quot;.samecase(&quot;A__a__&quot;); # OUTPUT: «Perl 6␤»
say &quot;pERL 6&quot;.samecase(&quot;Ab&quot;);     # OUTPUT: «Perl 6␤»</pre>
 <a name="t79.1.56"></a><h2 id="_type_Cool.pod6-method_uniprop">79.1.56 method uniprop</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub uniprop(Str(Cool), |c)
multi sub uniprop(Int:D $code, Stringy:D $propname)
multi sub uniprop(Str, $code, Stringy:D $propname)
multi method uniprop(|c)</pre>
 <p>Interprets the invocant as a <a href="#_type_Str.pod6">Str</a>, and returns the <a href="http://userguide.icu-project.org/strings/properties">unicode property</a> of the first character. If no property is specified returns the <a href="https://en.wikipedia.org/wiki/Unicode_character_property#General_Category">General Category</a>. Returns a Bool for Boolean properties.</p>
 <pre class="code">say 'a'.uniprop;               # OUTPUT: «Ll␤»
say '1'.uniprop;               # OUTPUT: «Nd␤»
say 'a'.uniprop('Alphabetic'); # OUTPUT: «True␤»
say '1'.uniprop('Alphabetic'); # OUTPUT: «False␤»</pre>
 <a name="t79.1.57"></a><h2 id="_type_Cool.pod6-method_uniprops">79.1.57 method uniprops</h2>
 <p>Defined as:</p>
 <pre class="code">sub uniprops(Str:D $str, Stringy:D $propname = &quot;General_Category&quot;)</pre>
 <p>Interprets the invocant as a <a href="#_type_Str.pod6">Str</a>, and returns the <a href="http://userguide.icu-project.org/strings/properties">unicode property</a> for each character as a Seq. If no property is specified returns the <a href="https://en.wikipedia.org/wiki/Unicode_character_property#General_Category">General Category</a>. Returns a Bool for Boolean properties. Similar to <a href="#_routine_uniprop.pod6">uniprop</a></p>
 <a name="t79.1.58"></a><h2 id="_type_Cool.pod6-method_uniname">79.1.58 method uniname</h2>
 <p>Defined as:</p>
 <pre class="code">sub uniname(Str(Cool) --&gt; Str)
method uniname(--&gt; Str)</pre>
 <p>Interprets the invocant / first argument as a <a href="#_type_Str.pod6">Str</a>, and returns the Unicode codepoint name of the first codepoint of the first character. See <a href="#78-routine_uninames">uninames</a> for a routine that works with multiple codepoints, and <a href="#_routine_uniparse.pod6">uniparse</a> for the opposite direction.</p>
 <pre class="code"># Camelia in Unicode
say ‘»ö«’.uniname;
# OUTPUT: «&quot;RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK&quot;␤»
say &quot;Ḍ̇&quot;.uniname; # Note, doesn't show &quot;COMBINING DOT ABOVE&quot;
# OUTPUT: «&quot;LATIN CAPITAL LETTER D WITH DOT BELOW&quot;␤»

# Find the char with the longest Unicode name.
say (0..0x1FFFF).sort(*.uniname.chars)[*-1].chr.uniname;
# OUTPUT: ««ARABIC LIGATURE UIGHUR KIRGHIZ YEH WITH HAMZA ABOVE WITH ALEF MAKSURA INITIAL FORM␤»␤»</pre>
 <a name="t79.1.59"></a><h2 id="_type_Cool.pod6-method_uninames">79.1.59 method uninames</h2>
 <p>Defined as:</p>
 <pre class="code">sub uninames(Str:D)
method uninames()</pre>
 <p>Returns of a Seq of Unicode names for the all the codepoints in the Str provided.</p>
 <pre class="code">say ‘»ö«’.uninames.perl;
# OUTPUT: «(&quot;RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK&quot;, &quot;LATIN SMALL LETTER O WITH DIAERESIS&quot;, &quot;LEFT-POINTING DOUBLE ANGLE QUOTATION MARK&quot;).Seq␤»</pre>
 <p>Note this example, which gets a Seq where each element is a Seq of all the codepoints in that character.</p>
 <pre class="code">say &quot;Ḍ̇'oh&quot;.comb&gt;&gt;.uninames.perl;
# OUTPUT: «((&quot;LATIN CAPITAL LETTER D WITH DOT BELOW&quot;, &quot;COMBINING DOT ABOVE&quot;).Seq, (&quot;APOSTROPHE&quot;,).Seq, (&quot;LATIN SMALL LETTER O&quot;,).Seq, (&quot;LATIN SMALL LETTER H&quot;,).Seq)␤»</pre>
 <p>See <a href="#_routine_uniparse.pod6">uniparse</a> for the opposite direction.</p>
 <a name="t79.1.60"></a><h2 id="_type_Cool.pod6-method_unimatch">79.1.60 method unimatch</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub unimatch(Str:D $str, |c)
multi unimatch(Int:D $code, Stringy:D $pvalname, Stringy:D $propname = $pvalname)</pre>
 <p>Checks if the given integer codepoint or the first letter of the string given have a unicode property equal to the value you give. If you supply the Unicode property to be checked it will only return True if that property matches the given value.</p>
 <pre class="code">say unimatch 'A', 'Latin';           # OUTPUT: «True␤»
say unimatch 'A', 'Latin', 'Script'; # OUTPUT: «True␤»
say unimatch 'A', 'Ll';              # OUTPUT: «True␤»</pre>
 <a name="t79.1.61"></a><h2 id="_type_Cool.pod6-routine_chop">79.1.61 routine chop</h2>
 <p>Defined as:</p>
 <pre class="code">sub chop(Str(Cool))
method chop()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it with the last character removed.</p>
 <pre class="code">say 'perl'.chop;                        # OUTPUT: «per␤»</pre>
 <a name="t79.1.62"></a><h2 id="_type_Cool.pod6-routine_chomp">79.1.62 routine chomp</h2>
 <p>Defined as:</p>
 <pre class="code">sub chomp(Str(Cool))
method chomp()</pre>
 <p>Coerces the invocant (or in sub form, its argument) to <a href="#_type_Str.pod6">Str</a>, and returns it with the last character removed, if it is a logical newline.</p>
 <pre class="code">say 'ab'.chomp.chars;                   # OUTPUT: «2␤»
say &quot;a\n&quot;.chomp.chars;                  # OUTPUT: «1␤»</pre>
 <a name="t79.1.63"></a><h2 id="_type_Cool.pod6-routine_substr">79.1.63 routine substr</h2>
 <p>Defined as:</p>
 <pre class="code">sub substr(Str(Cool) $str, |c)
method substr(|c)</pre>
 <p>Coerces the invocant (or in the sub form, the first argument) to <a href="#_type_Str.pod6">Str</a>, and calls <a href="#_type_Str.pod6-routine_substr">Str.substr</a> with the arguments.</p>
 <a name="t79.1.64"></a><h2 id="_type_Cool.pod6-routine_ords">79.1.64 routine ords</h2>
 <p>Defined as:</p>
 <pre class="code">sub ords(Str(Cool) $str)
method ords()</pre>
 <p>Coerces the invocant (or in the sub form, the first argument) to <a href="#_type_Str.pod6">Str</a>, and returns a list of Unicode codepoints for each character.</p>
 <pre class="code">say &quot;Camelia&quot;.ords;              # OUTPUT: «67 97 109 101 108 105 97␤»
say ords 10;                     # OUTPUT: «49 48␤»</pre>
 <p>This is the list-returning version of <a href="#_routine_ord.pod6">ord</a>. The inverse operation in <a href="#_routine_chrs.pod6">chrs</a>. If you are only interested in the number of codepoints, <a href="#_routine_codes.pod6">codes</a> is a possibly faster option.</p>
 <a name="t79.1.65"></a><h2 id="_type_Cool.pod6-routine_chrs">79.1.65 routine chrs</h2>
 <p>Defined as:</p>
 <pre class="code">sub chrs(*@codepoints --&gt; Str:D)
method chrs()</pre>
 <p>Coerces the invocant (or in the sub form, the argument list) to a list of integers, and returns the string created by interpreting each integer as a Unicode codepoint, and joining the characters.</p>
 <pre class="code">say &lt;67 97 109 101 108 105 97&gt;.chrs;   # OUTPUT: «Camelia␤»</pre>
 <p>This is the list-input version of <a href="#_routine_chr.pod6">chr</a>. The inverse operation is <a href="#_routine_ords.pod6">ords</a>.</p>
 <a name="t79.1.66"></a><h2 id="_type_Cool.pod6-routine_split">79.1.66 routine split</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    split(  Str:D $delimiter, Str(Cool) $input, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)
multi sub    split(Regex:D $delimiter, Str(Cool) $input, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)
multi sub    split(@delimiters, Str(Cool) $input, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)
multi method split(  Str:D $delimiter, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)
multi method split(Regex:D $delimiter, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)
multi method split(@delimiters, $limit = Inf, :$k, :$v, :$kv, :$p, :$skip-empty)</pre>
 <p>Coerces the invocant (or in the sub form, the second argument) to <a href="#_type_Str.pod6">Str</a>, and splits it into pieces based on delimiters found in the string.</p>
 <p>If <span class="code">$delimiter</span> is a string, it is searched for literally and not treated as a regex. You can also provide multiple delimiters by specifying them as a list; mixing Cool and Regex objects is OK.</p>
 <pre class="code">say split(';', &quot;a;b;c&quot;).perl;               # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)␤»
say split(';', &quot;a;b;c&quot;, 2).perl;            # OUTPUT: «(&quot;a&quot;, &quot;b;c&quot;).Seq␤»

say split(';', &quot;a;b;c,d&quot;).perl;             # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c,d&quot;)␤»
say split(/\;/, &quot;a;b;c,d&quot;).perl;            # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c,d&quot;)␤»
say split(/&lt;[;,]&gt;/, &quot;a;b;c,d&quot;).perl;        # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)␤»

say split(['a', /b+/, 4], '1a2bb345').perl; # OUTPUT: «(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;5&quot;)␤»</pre>
 <p>By default, split omits the matches, and returns a list of only those parts of the string that did not match. Specifying one of the <span class="code">:k, :v, :kv, :p</span> adverbs changes that. Think of the matches as a list that is interleaved with the non-matching parts.</p>
 <p>The <span class="code">:v</span> interleaves the values of that list, which will be either <a href="#_type_Match.pod6">Match</a> objects, if a <a href="#_type_Regex.pod6">Regex</a> was used as a matcher in the split, or <a href="#_type_Str.pod6">Str</a> objects, if a <a href="#_type_Cool.pod6">Cool</a> was used as matcher. If multiple delimiters are specified, <a href="#_type_Match.pod6">Match</a> objects will be generated for all of them, unless <b>all</b> of the delimiters are <a href="#_type_Cool.pod6">Cool</a>.</p>
 <pre class="code">say 'abc'.split(/b/, :v);               # OUTPUT: «(a ｢b｣ c)␤»
say 'abc'.split('b', :v);               # OUTPUT: «(a b c)␤»</pre>
 <p><span class="code">:k</span> interleaves the keys, that is, the indexes:</p>
 <pre class="code">say 'abc'.split(/b/, :k);               # OUTPUT: «(a 0 c)␤»</pre>
 <p><span class="code">:kv</span> adds both indexes and matches:</p>
 <pre class="code">say 'abc'.split(/b/, :kv);               # OUTPUT: «(a 0 ｢b｣ c)␤»</pre>
 <p>and <span class="code">:p</span> adds them as <a href="#_type_Pair.pod6">Pairs</a>, using the same types for values as <span class="code">:v</span> does:</p>
 <pre class="code">say 'abc'.split(/b/, :p);               # OUTPUT: «(a 0 =&gt; ｢b｣ c)␤»
say 'abc'.split('b', :p);               # OUTPUT: «(a 0 =&gt; b c)␤»</pre>
 <p>You can only use one of the <span class="code">:k, :v, :kv, :p</span> adverbs in a single call to <span class="code">split</span>.</p>
 <p>Note that empty chunks are not removed from the result list. For that behavior, use the `:skip-empty` named argument:</p>
 <pre class="code">say (&quot;f,,b,c,d&quot;.split: /&quot;,&quot;/             ).perl;  # OUTPUT: «(&quot;f&quot;, &quot;&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)␤»
say (&quot;f,,b,c,d&quot;.split: /&quot;,&quot;/, :skip-empty).perl;  # OUTPUT: «(&quot;f&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)␤»</pre>
 <p>See also: <a href="#_routine_comb.pod6">comb</a>.</p>
 <a name="t79.1.67"></a><h2 id="_type_Cool.pod6-routine_lines">79.1.67 routine lines</h2>
 <p>Defined as:</p>
 <pre class="code">sub lines(Str(Cool))
method lines()</pre>
 <p>Coerces the invocant (and in sub form, the argument) to <a href="#_type_Str.pod6">Str</a>, decomposes it into lines (with the newline characters stripped), and returns the list of lines.</p>
 <pre class="code">say lines(&quot;a\nb\n&quot;).join('|');          # OUTPUT: «a|b␤»
say &quot;some\nmore\nlines&quot;.lines.elems;    # OUTPUT: «3␤»</pre>
 <p>This method can be used as part of an <span class="code">IO::Path</span> to process a file line-by-line, since <span class="code">IO::Path</span> objects inherit from <span class="code">Cool</span>, e.g.:</p>
 <pre class="code">for 'huge-csv'.IO.lines -&gt; $line { 
     # Do something with $line 
 } 
 
 # or if you'll be processing later 
 my @lines = 'huge-csv'.IO.lines; 
</pre>
 <p>Without any arguments, sub <span class="code">lines</span> operates on <span class="code">$*ARGFILES</span>, which defaults to <span class="code">$*IN</span> in the absence of any filenames.</p>
 <p>To modify values in place use <span class="code">is copy</span> to force a writable container.</p>
 <pre class="code">for $*IN.lines -&gt; $_ is copy { s/(\w+)/{$0 ~ $0}/; .say } 
</pre>
 <a name="t79.1.68"></a><h2 id="_type_Cool.pod6-method_words">79.1.68 method words</h2>
 <p>Defined as:</p>
 <pre class="code">method words(Int() $limit)</pre>
 <p>Coerces the invocant to <a href="#_type_Str.pod6">Str</a>, and returns a list of words that make up the string (and if <span class="code">$limit</span> is supplied, only the first <span class="code">$limit</span> words).</p>
 <pre class="code">say 'The quick brown fox'.words.join('|');      # OUTPUT: «The|quick|brown|fox␤»
say 'The quick brown fox'.words(2).join('|');   # OUTPUT: «The|quick␤»</pre>
 <p>Only whitespace counts as word boundaries</p>
 <pre class="code">say &quot;isn't, can't&quot;.words.join('|');             # OUTPUT: «isn't,|can't␤»</pre>
 <a name="t79.1.69"></a><h2 id="_type_Cool.pod6-routine_comb">79.1.69 routine comb</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub comb(Regex $matcher, Str(Cool) $input, $limit = * --&gt; Seq)
multi method comb(Regex $matcher, $limit = * --&gt; Seq)</pre>
 <p>Returns all (or if supplied, at most <span class="code">$limit</span>) matches of the invocant (method form) or the second argument (sub form) against the <a href="#_type_Regex.pod6">Regex</a> as a list of strings.</p>
 <pre class="code">say &quot;6 or 12&quot;.comb(/\d+/).join(&quot;, &quot;);           # OUTPUT: «6, 12␤»</pre>
 <a name="t79.1.70"></a><h2 id="_type_Cool.pod6-method_contains">79.1.70 method contains</h2>
 <pre class="code">multi method contains(Cool:D: Str(Cool) $needle, Cool $start? --&gt; Bool:D)</pre>
 <p>Coerces the invocant and first argument to <a href="#_type_Str.pod6">Str</a>, and searches for <span class="code">$needle</span> in the string starting from <span class="code">$start</span>. Returns <span class="code">True</span> if <span class="code">$needle</span> is found.</p>
 <pre class="code">say &quot;Hello, World&quot;.contains('Hello');      # OUTPUT: «True␤»
say &quot;Hello, World&quot;.contains('hello');      # OUTPUT: «False␤»
say &quot;Hello, World&quot;.contains(',');          # OUTPUT: «True␤»
say &quot;Hello, World&quot;.contains(',', 3);       # OUTPUT: «True␤»
say &quot;Hello, World&quot;.contains(',', 10);      # OUTPUT: «False␤»</pre>
 <p>Note that because of how a <a href="#_type_List.pod6">List</a> or <a href="#_type_Array.pod6">Array</a> is <a href="#_type_List.pod6-method_Str">coerced</a> into a <a href="#_type_Str.pod6">Str</a>, the results may sometimes be surprising. See <a href="#_language_traps.pod6-Lists_become_strings,_so_beware_.contains">traps</a>.</p>
 <a name="t79.1.71"></a><h2 id="_type_Cool.pod6-routine_index">79.1.71 routine index</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    index(Str(Cool) $s, Str:D $needle, Int(Cool) $startpos = 0 --&gt; Int)
multi method index(Str(Cool) $needle, Int(Cool) $startpos = 0 --&gt; Int)</pre>
 <p>Coerces the first two arguments (in method form, also counting the invocant) to <a href="#_type_Str.pod6">Str</a>, and searches for <span class="code">$needle</span> in the string starting from <span class="code">$startpos</span>. It returns the offset into the string where <span class="code">$needle</span> was found, and an undefined value if it was not found.</p>
 <p>See <a href="#_type_Str.pod6-routine_index">the documentation in type Str</a> for examples.</p>
 <a name="t79.1.72"></a><h2 id="_type_Cool.pod6-routine_rindex">79.1.72 routine rindex</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    rindex(Str(Cool) $haystack, Str(Cool) $needle, Int(Cool) $startpos = $haystack.chars)
multi method rindex(Str(Cool) $haystack: Str(Cool) $needle, Int(Cool) $startpos = $haystack.chars)</pre>
 <p>Coerces the first two arguments (including the invocant in method form) to <a href="#_type_Str.pod6">Str</a> and <span class="code">$startpos</span> to <a href="#_type_Int.pod6">Int</a>, and returns the last position of <span class="code">$needle</span> in <span class="code">$haystack</span> not after <span class="code">$startpos</span>. Returns an undefined value if <span class="code">$needle</span> wasn't found.</p>
 <p>See <a href="#_type_Str.pod6-routine_rindex">the documentation in type Str</a> for examples.</p>
 <a name="t79.1.73"></a><h2 id="_type_Cool.pod6-routine_match">79.1.73 routine match</h2>
 <p>Defined as:</p>
 <pre class="code">multi method match(Cool:D: $target, *%adverbs)</pre>
 <p>Coerces the invocant to <a href="#_type_Str.pod6">Str</a> and calls the method <a href="#_type_Str.pod6-method_match">match</a> on it.</p>
 <a name="t79.1.74"></a><h2 id="_type_Cool.pod6-method_fmt">79.1.74 method fmt</h2>
 <p>Defined as:</p>
 <pre class="code">method fmt($format = '%s' --&gt; Str:D)</pre>
 <p>Uses <span class="code">$format</span> to return a formatted representation of the invocant.</p>
 <p>For more information about formats strings, see <a href="#_routine_sprintf.pod6">sprintf</a>.</p>
 <pre class="code">say 11.fmt('This Int equals %03d');               # OUTPUT: «This Int equals 011␤»
say '16'.fmt('Hexadecimal %x');                   # OUTPUT: «Hexadecimal 10␤»</pre>
 <a name="t79.1.75"></a><h2 id="_type_Cool.pod6-routine_roots">79.1.75 routine roots</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub roots(Numeric(Cool) $x, Int(Cool) $n)
multi method roots(Int(Cool) $n)</pre>
 <p>Coerces the first argument (and in method form, the invocant) to <a href="#_type_Numeric.pod6">Numeric</a> and the second (<span class="code">$n</span>) to <a href="#_type_Int.pod6">Int</a>, and produces a list of <span class="code">$n</span> <a href="#_type_Complex.pod6">Complex</a> <span class="code">$n</span>-roots, which means numbers that, raised to the <span class="code">$n</span>th power, approximately produce the original number.</p>
 <p>For example</p>
 <pre class="code">my $original = 16; 
 my @roots = $original.roots(4); 
 say @roots; 
 
 for @roots -&gt; $r { 
     say abs($r ** 4 - $original); 
 } 
 
 # OUTPUT:«2+0i 1.22464679914735e-16+2i -2+2.44929359829471e-16i -3.67394039744206e-16-2i␤» 
 # OUTPUT:«1.77635683940025e-15␤» 
 # OUTPUT:«4.30267170434156e-15␤» 
 # OUTPUT:«8.03651692704705e-15␤» 
 # OUTPUT:«1.04441561648202e-14␤» 
</pre>
 <a name="t79.1.76"></a><h2 id="_type_Cool.pod6-method_IO">79.1.76 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(--&gt; IO::Path:D)</pre>
 <p>Coerces the invocant to <a href="#_type_IO::Path.pod6">IO::Path</a>.</p>
 <pre class="code">.say for '.'.IO.dir;        # gives a directory listing 
</pre>
 <a name="t79.1.77"></a><h2 id="_type_Cool.pod6-routine_EVAL">79.1.77 routine EVAL</h2>
 <p>Defined as:</p>
 <pre class="code">method EVAL(*%_) 
</pre>
 <pre class="code">sub EVAL($code where Cool|Blob, :$lang = 'perl6') 
</pre>
 <p>Method form calls subroutine form with invocant as <span class="code">$code</span>, passing along named args, if any. Subroutine form coerces <a href="#_type_Cool.pod6">Cool</a> <span class="code">$code</span> to <a href="#_type_Str.pod6">Str</a>. If <span class="code">$code</span> is a <a href="#_type_Blob.pod6">Blob</a>, it'll be processed using the same encoding as the <span class="code">$lang</span> compiler would: for <span class="code">perl6</span>, uses the encoding specified via <span class="code">--encoding</span> command line argument, or <span class="code">utf-8</span> if none were given; for <span class="code">Perl5</span>, processes using same rules as <span class="code">perl</span>.</p>
 <p>This works as-is with a literal string parameter. More complex input, such as a variable or string with embedded code, is illegal by default. This can be overridden in any of several ways:</p>
 <pre class="code">use MONKEY-SEE-NO-EVAL;
use MONKEY;  # shortcut that turns on all MONKEY pragmas
use Test;

# any of the above allows:
EVAL &quot;say { 5 + 5 }&quot;;   # OUTPUT: «10␤»</pre>
 <p>Symbols in the current lexical scope are visible to code in an <span class="code">EVAL</span>.</p>
 <pre class="code">my $answer = 42;
EVAL 'say $answer;';    # OUTPUT: «42␤»</pre>
 <p>However, since the set of symbols in a lexical scope is immutable after compile time, an EVAL can never introduce symbols into the surrounding scope.</p>
 <pre class="code">EVAL 'my $lives = 9'; say $lives;   # error, $lives not declared 
</pre>
 <p>Furthermore, the <span class="code">EVAL</span> is evaluated in the current package:</p>
 <pre class="code">module M {
    EVAL 'our $answer = 42'
}
say $M::answer;         # OUTPUT: «42␤»</pre>
 <p>And also the current language, meaning any added syntax is available:</p>
 <pre class="code">sub infix:&lt;mean&gt;(*@a) is assoc&lt;list&gt; {
    @a.sum / @a.elems
}
EVAL 'say 2 mean 6 mean 4';     # OUTPUT: «4␤»</pre>
 <p>An <span class="code">EVAL</span> statement evaluates to the result of the last statement:</p>
 <pre class="code">sub infix:&lt;mean&gt;(*@a) is assoc&lt;list&gt; {
    @a.sum / @a.elems
}
say EVAL 'say 1; 2 mean 6 mean 4';         # OUTPUT: «1␤4␤»</pre>
 <p><span class="code">EVAL</span> is also a gateway for executing code in other languages:</p>
 <pre class="code">EVAL &quot;use v5.20; say 'Hello from perl5!'&quot;, :lang&lt;Perl5&gt;; 
</pre>
 <a name="t79.1.78"></a><h2 id="_type_Cool.pod6-routine_EVALFILE">79.1.78 routine EVALFILE</h2>
 <p>Defined as:</p>
 <pre class="code">sub EVALFILE($filename where Blob|Cool, :$lang = 'perl6')</pre>
 <p>Slurps the specified file and evaluates it. Behaves the same way as <span class="code">EVAL</span> with regard to <a href="#_type_Blob.pod6">Blob</a> decoding, scoping, and the <span class="code">$lang</span> parameter. Evaluates to the value produced by the final statement in the file.</p>
 <pre class="code">EVALFILE &quot;foo.p6&quot;; 
</pre>
 TODO:
unpolar, fmt, substr-rw, trans,
match, subst, sprintf, printf, samecase

</div>
<!-- /type/CurrentThreadScheduler.pod6 --><div class="pod-body"><a id="_type_CurrentThreadScheduler.pod6"></a><a name="t80"><h1 class="title">80 class CurrentThreadScheduler</h1></a> <p class="subtitle">Scheduler that synchronously executes code on the current thread</p> <pre class="code">class CurrentThreadScheduler does Scheduler {} 
</pre>
 <p><span class="code">CurrentThreadScheduler</span> executes tasks on the current threads. This means that <a href="#_type_Scheduler.pod6-method_cue">method cue</a> blocks until the code has finished executing.</p>
</div>
<!-- /type/Cursor.pod6 --><div class="pod-body"><a id="_type_Cursor.pod6"></a><a name="t81"><h1 class="title">81 class Cursor</h1></a> <p class="subtitle">Internal state of the regex engine during parsing</p> <pre class="code">class Cursor { }</pre>
 <p>A <span class="code">Cursor</span> object is used internally by the regex engine in regex matches to keep track of the current position, backtracking waypoints and information about capturing groups.</p>
 <p>A user-space program usually doesn't need to deal with <span class="code">Cursor</span> objects, just with their relatives, <a href="#_type_Match.pod6">Match</a> objects.</p>
 <a name="t81.1"></a><h1 id="_type_Cursor.pod6-Methods">81.1 Methods</h1>
 <a name="t81.1.1"></a><h2 id="_type_Cursor.pod6-method_actions">81.1.1 method actions</h2>
 <pre class="code">method actions(Cursor:D: --&gt; Mu)</pre>
 <p>Returns the currently active actions object (or <a href="#_type_Mu.pod6">Mu</a> if none is set).</p>
 <a name="t81.1.2"></a><h2 id="_type_Cursor.pod6-method_orig">81.1.2 method orig</h2>
 <pre class="code">method orig(Cursor:D: --&gt; Any)</pre>
 <p>Returns the object against which the regex matches.</p>
 <a name="t81.1.3"></a><h2 id="_type_Cursor.pod6-method_target">81.1.3 method target</h2>
 <pre class="code">method target(Cursor:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the object against which the regex matches. This is the value that the regex engine works with internally.</p>
 <a name="t81.1.4"></a><h2 id="_type_Cursor.pod6-method_pos">81.1.4 method pos</h2>
 <pre class="code">method pos(Cursor:D: --&gt; Int:D)</pre>
 <p>Returns the current position as a string index into `Cursor.target`.</p>
</div>
<!-- /type/Date.pod6 --><div class="pod-body"><a id="_type_Date.pod6"></a><a name="t82"><h1 class="title">82 class Date</h1></a> <p class="subtitle">Calendar date</p> <pre class="code">class Date { }</pre>
 <p>A <span class="code">Date</span> is an immutable object identifying a day in the Gregorian calendar.</p>
 <p><span class="code">Date</span> objects support addition and subtraction of integers, where an integer is interpreted as the number of days. You can compare <span class="code">Date</span> objects with the numeric comparison operators <span class="code">==, &lt;, &lt;=, &gt;, &gt;=, != </span>. Their stringification in <span class="code">YYYY-MM-DD</span> format means that comparing them with the string operators <span class="code">eq, lt, le</span> etc. also gives the right result.</p>
 <p><span class="code">Date.today</span> creates an object the current day according to the system clock.</p>
 <pre class="code">my $d = Date.new(2015, 12, 24); # Christmas Eve!
say $d;                         # OUTPUT: «2015-12-24␤»
say $d.year;                    # OUTPUT: «2015␤»
say $d.month;                   # OUTPUT: «12␤»
say $d.day;                     # OUTPUT: «24␤»
say $d.day-of-week;             # OUTPUT: «4␤» (Thursday)
say $d.later(days =&gt; 20);       # OUTPUT: «2016-01-13␤»
my $n = Date.new('2015-12-31'); # New Year's Eve
say $n - $d;                    # OUTPUT: «7␤», 7 days between New Years/Christmas Eve
say $n + 1;                     # OUTPUT: «2016-01-01␤»</pre>
 <a name="t82.1"></a><h1 id="_type_Date.pod6-Methods">82.1 Methods</h1>
 <a name="t82.1.1"></a><h2 id="_type_Date.pod6-method_new">82.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new($year, $month, $day, :&amp;formatter --&gt; Date:D)
multi method new(:$year!, :$month = 1, :$day = 1  --&gt; Date:D)
multi method new(Str $date                        --&gt; Date:D)
multi method new(Instant:D $dt                    --&gt; Date:D)
multi method new(DateTime:D $dt                   --&gt; Date:D)</pre>
 <p>Creates a new <span class="code">Date</span> object, either from a triple of (year, month, day) that can be coerced to integers, or from a string of the form <span class="code">YYYY-MM-DD</span> (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>), or from an Instant or DateTime object. Optionally accepts a formatter as a named parameter.</p>
 <pre class="code">my $date = Date.new(2042, 1, 1);
$date = Date.new(year =&gt; 2042, month =&gt; 1, day =&gt; 1);
$date = Date.new(&quot;2042-01-01&quot;);
$date = Date.new(Instant.from-posix: 1482155532);
$date = Date.new(DateTime.now);</pre>
 <a name="t82.1.2"></a><h2 id="_type_Date.pod6-method_new-from-daycount">82.1.2 method new-from-daycount</h2>
 <p>Defined as:</p>
 <pre class="code">method new-from-daycount($daycount,:&amp;formatter --&gt; Date:D)</pre>
 <p>Creates a new <span class="code">Date</span> object given <span class="code">$daycount</span> which is the number of days from epoch Nov. 17, 1858, i.e. the <a href="https://en.wikipedia.org/wiki/Julian_day">Modified Julian Day</a>. Optionally accepts a formatter as a named parameter.</p>
 <pre class="code">say Date.new-from-daycount(49987);          # OUTPUT: «1995-09-27␤»</pre>
 <a name="t82.1.3"></a><h2 id="_type_Date.pod6-method_clone">82.1.3 method clone</h2>
 <p>Defined as:</p>
 <pre class="code">method clone(:$year, :$month, :$day, :&amp;formatter)</pre>
 <p>Creates a new <span class="code">Date</span> object based on the invocant, but with the given arguments overriding the values from the invocant.</p>
 <pre class="code">say Date.new('2015-11-24').clone(month =&gt; 12);    # OUTPUT: «2015-12-24␤»</pre>
 <a name="t82.1.4"></a><h2 id="_type_Date.pod6-method_today">82.1.4 method today</h2>
 <p>Defined as:</p>
 <pre class="code">method today(:&amp;formatter --&gt; Date:D)</pre>
 <p>Returns a <span class="code">Date</span> object for the current day. Optionally accepts a formatter named parameter.</p>
 <pre class="code">say Date.today;</pre>
 <a name="t82.1.5"></a><h2 id="_type_Date.pod6-method_later">82.1.5 method later</h2>
 <p>Defined as:</p>
 <pre class="code">method later(Date:D: *%unit)</pre>
 <p>Returns a <span class="code">Date</span> object based on the current one, but with a date delta applied. The date delta can be passed as a named argument where the argument name is the unit.</p>
 <p>Allowed units are <span class="code">day</span>, <span class="code">days</span>, <span class="code">week</span>, <span class="code">weeks</span>, <span class="code">month</span>, <span class="code">months</span>, <span class="code">year</span>, <span class="code">years</span>. Please note that the plural forms can only be used with the <span class="code">later</span> method.</p>
 <p>Please note that the special &quot;:2nd&quot; named parameter syntax can be a compact and self-documenting way of specifying the delta</p>
 <pre class="code">say Date.new('2015-12-24').later(:2years);  # OUTPUT: «2017-12-24␤»</pre>
 <p>Since addition of several different time units is not commutative, only one unit may be passed.</p>
 <pre class="code">my $d = Date.new('2015-02-27');
say $d.later(month =&gt; 1).later(:2days);  # OUTPUT: «2015-03-29␤»
say $d.later(days =&gt; 2).later(:1month);  # OUTPUT: «2015-04-01␤»
say $d.later(days =&gt; 2).later(:month);   # same, as +True === 1</pre>
 <p>Negative offsets are allowed, though <a href="#81-method earlier">#method earlier</a> is more idiomatic for that.</p>
 <a name="t82.1.6"></a><h2 id="_type_Date.pod6-method_earlier">82.1.6 method earlier</h2>
 <p>Defined as:</p>
 <pre class="code">method earlier(Date:D: *%unit)</pre>
 <p>Returns a <span class="code">Date</span> object based on the current one, but with a date delta towards the past applied. See <a href="#81-method later">#method later</a> for usage.</p>
 <pre class="code">my $d = Date.new('2015-02-27');
say $d.earlier(month =&gt; 5).earlier(:2days);  # OUTPUT: «2014-09-25␤»</pre>
 <a name="t82.1.7"></a><h2 id="_type_Date.pod6-method_truncated-to">82.1.7 method truncated-to</h2>
 <p>Defined as:</p>
 <pre class="code">method truncated-to(Date:D: Cool $unit)</pre>
 <p>Returns a <span class="code">Date</span> truncated to the first day of its year, month or week. For example</p>
 <pre class="code">my $c = Date.new('2012-12-24');
say $c.truncated-to('year');     # OUTPUT: «2012-01-01␤»
say $c.truncated-to('month');    # OUTPUT: «2012-12-01␤»
say $c.truncated-to('week');     # OUTPUT: «2012-12-24␤», because it's Monday already</pre>
 <a name="t82.1.8"></a><h2 id="_type_Date.pod6-method_succ">82.1.8 method succ</h2>
 <p>Defined as:</p>
 <pre class="code">method succ(Date:D: --&gt; Date:D)</pre>
 <p>Returns a <span class="code">Date</span> of the following day. &quot;succ&quot; is short for &quot;successor&quot;.</p>
 <pre class="code">say Date.new(&quot;2016-02-28&quot;).succ;   # OUTPUT: «2016-02-29␤»</pre>
 <a name="t82.1.9"></a><h2 id="_type_Date.pod6-method_pred">82.1.9 method pred</h2>
 <p>Defined as:</p>
 <pre class="code">method pred(Date:D: --&gt; Date:D)</pre>
 <p>Returns a <span class="code">Date</span> of the previous day. &quot;pred&quot; is short for &quot;predecessor&quot;.</p>
 <pre class="code">say Date.new(&quot;2016-01-01&quot;).pred;   # OUTPUT: «2015-12-31␤»</pre>
 <a name="t82.1.10"></a><h2 id="_type_Date.pod6-method_Str">82.1.10 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Str(Date:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the invocant, as specified by <a href="#_type_Dateish.pod6-method_formatter">the formatter</a>. If no formatter was specified, an (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) date will be returned.</p>
 <pre class="code">say Date.new('2015-12-24').Str;                     # OUTPUT: «2015-12-24␤»

my $fmt = { sprintf &quot;%02d/%02d/%04d&quot;, .month, .day, .year };
say Date.new('2015-12-24', formatter =&gt; $fmt).Str;  # OUTPUT: «12/24/2015␤»</pre>
 <a name="t82.1.11"></a><h2 id="_type_Date.pod6-method_gist">82.1.11 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">multi method gist(Date:D: --&gt; Str:D)</pre>
 <p>Returns the date in <span class="code">YYYY-MM-DD</span> format (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>)</p>
 <pre class="code">say Date.new('2015-12-24').gist;                    # OUTPUT: «2015-12-24␤»</pre>
 <a name="t82.1.12"></a><h2 id="_type_Date.pod6-method_Date">82.1.12 method Date</h2>
 <p>Defined as:</p>
 <pre class="code">method Date(--&gt; Date)</pre>
 <p>Returns the invocant.</p>
 <pre class="code">say Date.new('2015-12-24').Date;  # OUTPUT: «2015-12-24␤»
say Date.Date;                    # OUTPUT: «(Date)␤»</pre>
 <a name="t82.1.13"></a><h2 id="_type_Date.pod6-method_DateTime">82.1.13 method DateTime</h2>
 <p>Defined as:</p>
 <pre class="code">multi method DateTime(Date:U --&gt; DateTime:U)
multi method DateTime(Date:D --&gt; DateTime:D)</pre>
 <p>Converts the invocant to <a href="#_type_DateTime.pod6"><span class="code">DateTime</span></a></p>
 <pre class="code">say Date.new('2015-12-24').DateTime; # OUTPUT: «2015-12-24T00:00:00Z␤»
say Date.DateTime;                   # OUTPUT: «(DateTime)␤»</pre>
 <a name="t82.2"></a><h1 id="_type_Date.pod6-Functions">82.2 Functions</h1>
 <a name="t82.2.1"></a><h2 id="_type_Date.pod6-sub_sleep">82.2.1 sub sleep</h2>
 <pre class="code">sub sleep($seconds = Inf --&gt; Nil)</pre>
 <p>Attempt to sleep for the given number of <span class="code">$seconds</span>. Returns <span class="code">Nil</span> on completion. Accepts <span class="code">Int</span>, <span class="code">Num</span>, <span class="code">Rat</span>, or <span class="code">Duration</span> types as an argument since all of these also do <span class="code">Real</span>.</p>
 <pre class="code">sleep 5;                # Int 
 sleep 5.2;              # Num 
 sleep (5/2);            # Rat 
 sleep (now - now + 5);  # Duration 
</pre>
 <p>It is thus possible to sleep for a non-integer amount of time. For instance, the following code shows that <span class="code">sleep (5/2)</span> sleeps for 2.5 seconds and <span class="code">sleep 5.2</span> sleeps for 5.2 seconds:</p>
 <pre class="code">my $before = now;
sleep (5/2);
my $after = now;
say $after-$before;  # OUTPUT: «2.502411561␤»

$before = now;
sleep 5.2;
$after = now;
say $after-$before;  # OUTPUT: «5.20156987␤»</pre>
 <a name="t82.2.2"></a><h2 id="_type_Date.pod6-sub_sleep-timer">82.2.2 sub sleep-timer</h2>
 <pre class="code">sub sleep-timer(Real() $seconds = Inf --&gt; Duration:D)</pre>
 <p>This function is implemented like <span class="code">sleep</span>, but unlike the former it does return a <a href="#_type_Duration.pod6">Duration</a> instance with the number of seconds the system did not sleep.</p>
 <p>In particular, the returned <span class="code">Duration</span> will handle the number of seconds remaining when the process has been awakened by some external event (e.g., Virtual Machine or Operating System events). Under normal condition, when sleep is not interrupted, the returned <span class="code">Duration</span> has a value of <span class="code">0</span>, meaning no extra seconds remained to sleep. Therefore, in normal situations:</p>
 <pre class="code">say sleep-timer 3.14;  # OUTPUT: «0␤»</pre>
 <p>The same result applies to edge cases, when a negative or zero time to sleep is passed as argument:</p>
 <pre class="code">say sleep-timer -2; # OUTPUT: 0 
 say sleep-timer 0;  # OUTPUT: 0 
</pre>
 <p>See also <a href="#_routine_sleep-until.pod6">sleep-until</a>.</p>
 <a name="t82.2.3"></a><h2 id="_type_Date.pod6-sub_sleep-until">82.2.3 sub sleep-until</h2>
 <pre class="code">sub sleep-until(Instant $until --&gt; Bool)</pre>
 <p>Works similar to <span class="code">sleep</span> but checks the current time and keeps sleeping until the required instant in the future has been reached. It uses internally the <span class="code">sleep-timer</span> method in a loop to ensure that, if accidentally woken up early, it will wait again for the specified amount of time remaining to reach the specified instant. goes back to sleep</p>
 <p>Returns <span class="code">True</span> if the <span class="code">Instant</span> in the future has been achieved (either by mean of sleeping or because it is right now), <span class="code">False</span> in the case an <span class="code">Instant</span> in the past has been specified.</p>
 <p>To sleep until 10 seconds into the future, one could write something like this:</p>
 <pre class="code">say sleep-until now+10;   # OUTPUT: «True␤»</pre>
 <p>Trying to sleep until a time in the past doesn't work:</p>
 <pre class="code">my $instant = now - 5;
say sleep-until $instant; # OUTPUT: «False␤»</pre>
 <p>However if we put the instant sufficiently far in the future, the sleep should run:</p>
 <pre class="code">my $instant = now + 30; 
 # assuming the two commands are run within 30 seconds of one another... 
 say sleep-until $instant; # OUTPUT: «True␤» 
</pre>
 <p>To specify an exact instant in the future, first create a <span class="code">DateTime</span> at the appropriate point in time, and cast to an <span class="code">Instant</span>.</p>
 <pre class="code">my $instant = DateTime.new( 
     year =&gt; 2020, 
     month =&gt; 9, 
     day =&gt; 1, 
     hour =&gt; 22, 
     minute =&gt; 5); 
 say sleep-until $instant.Instant; # True (eventually...) 
</pre>
 <p>This could be used as a primitive kind of alarm clock. For instance, say you need to get up at 7am on the 4th of September 2015, but for some reason your usual alarm clock is broken and you only have your laptop. You can specify the time to get up (being careful about timezones, since <span class="code">DateTime.new</span> uses UTC by default) as an <span class="code">Instant</span> and pass this to <span class="code">sleep-until</span>, after which you can play an mp3 file to wake you up instead of your normal alarm clock. This scenario looks roughly like this:</p>
 <pre class="code"># DateTime.new uses UTC by default, so get timezone from current time 
 my $timezone = DateTime.now.timezone; 
 my $instant = DateTime.new( 
     year =&gt; 2015, 
     month =&gt; 9, 
     day =&gt; 4, 
     hour =&gt; 7, 
     minute =&gt; 0, 
     timezone =&gt; $timezone 
 ).Instant; 
 sleep-until $instant; 
 qqx{mplayer wake-me-up.mp3}; 
</pre>
 <a name="t82.2.4"></a><h2 id="_type_Date.pod6-sub_infix:&lt;-&gt;">82.2.4 sub infix:&lt;-&gt;</h2>
 <pre class="code">multi sub infix:&lt;-&gt; (Date:D, Int:D --&gt; Date:D)
multi sub infix:&lt;-&gt; (Date:D, Date:D --&gt; Int:D)</pre>
 <p>Takes a date to subtract from and either an <a href="#_type_Int.pod6"><span class="code">Int</span></a>, representing the number of days to subtract, or another <a href="#_type_Date.pod6"><span class="code">Date</span></a> object. Returns a new <a href="#_type_Date.pod6"><span class="code">Date</span></a> object or the number of days between the two dates, respectively.</p>
 <pre class="code">say Date.new('2016-12-25') - Date.new('2016-12-24'); # OUTPUT: «1␤»
say Date.new('2015-12-25') - Date.new('2016-11-21'); # OUTPUT: «-332␤»
say Date.new('2016-11-21') - 332;                    # OUTPUT: «2015-12-25␤»</pre>
 <a name="t82.2.5"></a><h2 id="_type_Date.pod6-sub_infix:&lt;+&gt;">82.2.5 sub infix:&lt;+&gt;</h2>
 <pre class="code">multi sub infix:&lt;+&gt; (Date:D, Int:D --&gt; Date:D)
multi sub infix:&lt;+&gt; (Int:D, Date:D --&gt; Date:D)</pre>
 <p>Takes an <a href="#_type_Int.pod6"><span class="code">Int</span></a> and adds that many days to the given <a href="#_type_Date.pod6"><span class="code">Date</span></a> object.</p>
 <pre class="code">say Date.new('2015-12-25') + 332; # OUTPUT: «2016-11-21␤»
say 1 + Date.new('2015-12-25');   # OUTPUT: «2015-12-26␤»</pre>
</div>
<!-- /type/DateTime.pod6 --><div class="pod-body"><a id="_type_DateTime.pod6"></a><a name="t83"><h1 class="title">83 class DateTime</h1></a> <p class="subtitle">Calendar date with time</p> <pre class="code">class DateTime does Dateish {}</pre>
 <p>For handling points in civil time, a <span class="code">DateTime</span> object stores year, month, day, hour, minute (all <a href="#_type_Int.pod6">Int</a>), second (potentially fractional) and a time zone.</p>
 <p>It provides methods for calculating with date and time.</p>
 <p><span class="code">DateTime</span> methods are immutable; if you are tempted to modify one, create a modified copy instead.</p>
 <p>Time zones are handled as <a href="#_type_Int.pod6">Integers</a> in <b>seconds</b> offset from UTC, not by time zone name.</p>
 <pre class="code">use v6.c; 
 my $dt = DateTime.new( 
     year    =&gt; 2015, 
     month   =&gt; 11, 
     day     =&gt; 21, 
     hour    =&gt; 16, 
     minute  =&gt; 1, 
 ); 
 
 say $dt;                            # OUTPUT: «2015-11-21T16:01:00Z␤» 
 say $dt.later(days =&gt; 20);          # OUTPUT: «2015-12-11T16:01:00Z␤» 
 say $dt.truncated-to('hour');       # OUTPUT: «2015-11-21T16:00:00Z␤» 
 say $dt.in-timezone(-8 * 3600);     # OUTPUT: «2015-11-21T08:01:00-0800␤» 
 
 my $now = DateTime.now(formatter =&gt; { sprintf &quot;%02d:%02d&quot;, .hour, .minute }); 
 say $now;                           # 12:45 (or something like that) 
</pre>
 <a name="t83.1"></a><h1 id="_type_DateTime.pod6-Methods">83.1 Methods</h1>
 <a name="t83.1.1"></a><h2 id="_type_DateTime.pod6-method_new">83.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new(Int :$year!, Int :$month = 1, Int :$day = 1, 
                  Int :$hour = 0, Int :$minute = 0, :$second = 0, 
                  Int :$timezone = 0, :&amp;formatter) 
 multi method new(Date :$date!, 
                  Int :$hour = 0, Int :$minute = 0, :$second = 0, 
                  Int :$timezone = 0, :&amp;formatter) 
 multi method new(Int() $year, Int() $month, Int() $day, 
                  Int() $hour, Int $minute, $second, 
                  Int() :$timezone = 0, :&amp;formatter) 
 multi method new(Instant:D $i,  :$timezone=0, :&amp;formatter) 
 multi method new(Int:D $posix,  :$timezone=0, :&amp;formatter) 
 multi method new(Str:D $format, :$timezone=0, :&amp;formatter) 
</pre>
 <p>Creates a new <span class="code">DateTime</span> object. One option for creating a new DateTime object is from the components (year, month, day, hour, ...) separately. Another is to pass a <a href="#_type_Date.pod6">Date</a> object for the date component, and specify the time component-wise. Yet another is to obtain the time from an <a href="#_type_Instant.pod6">Instant</a>, and only supply the time zone and formatter. Or instead of an Instant you can supply an <a href="#_type_Int.pod6">Int</a> as a UNIX timestamp.</p>
 <p>You can also supply a <a href="#_type_Str.pod6">Str</a> formatted in ISO 8601 timestamp notation or as a full <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a> date and time. Strings should be formatted as <span class="code">yyyy-mm-ddThh:mm:ssZ</span> or <span class="code">yyyy-mm-ddThh:mm:ss+0100</span>. We are somewhat less restrictive than the ISO 8601 standard, as we allow Unicode digits and mixing of condensed and extended time formats.</p>
 <p>An invalid input string throws an exception of type <a href="#_type_X::Temporal::InvalidFormat.pod6">X::Temporal::InvalidFormat</a>. If you supply a string that includes a time zone and supply the <span class="code">timezone</span> named argument, an exception of type <a href="#_type_X::DateTime::TimezoneClash.pod6">X::DateTime::TimezoneClash</a> is thrown.</p>
 <pre class="code">my $datetime = DateTime.new(year =&gt; 2015,
                            month =&gt; 1,
                            day =&gt; 1,
                            hour =&gt; 1,
                            minute =&gt; 1,
                            second =&gt; 1,
                            timezone =&gt; 1);
$datetime = DateTime.new(date =&gt; Date.new('2015-12-24'),
                         hour =&gt; 1,
                         minute =&gt; 1,
                         second =&gt; 1,
                         timezone =&gt; 1);
$datetime = DateTime.new(2015, 1, 1, # First January of 2015
                         1, 1, 1);   # Hour, minute, second with default timezone
$datetime = DateTime.new(now);                       # Instant.
# from a Unix timestamp
say $datetime = DateTime.new(1470853583);            # OUTPUT: «2016-08-10T18:26:23Z␤»
$datetime = DateTime.new(&quot;2015-01-01T03:17:30+0500&quot;) # Formatted string</pre>
 <a name="t83.1.2"></a><h2 id="_type_DateTime.pod6-method_now">83.1.2 method now</h2>
 <p>Defined as:</p>
 <pre class="code">method now(:$timezone = $*TZ, :&amp;formatter --&gt; DateTime:D)</pre>
 <p>Creates a new <span class="code">DateTime</span> object from the current system time. A custom <a href="#_routine_formatter.pod6">formatter</a> and <a href="#_routine_timezone.pod6">timezone</a> can be provided. The <span class="code">:$timezone</span> is the offset <b>in seconds</b> from <a href="https://en.wikipedia.org/wiki/Greenwich_Mean_Time">GMT</a> and defaults to the value of <a href="#_language_variables.pod6-index-entry-%24*TZ"><span class="code">$*TZ</span>  variable</a>.</p>
 <pre class="code">say DateTime.now; # OUTPUT: «2018-01-08T13:05:32.703292-06:00␤»</pre>
 <p>Note that one may use the methods shown below chained to the <span class="code">.now</span> to easily express current values, e.g.,</p>
 <pre class="code">say DateTime.now.year; # OUTPUT: «2018␤»</pre>
 <a name="t83.1.3"></a><h2 id="_type_DateTime.pod6-method_clone">83.1.3 method clone</h2>
 <p>Defined as:</p>
 <pre class="code">method clone(:$year, :$month, :$day, :$hour, :$minute, :$second, :$timezone, :&amp;formatter)</pre>
 <p>Creates a new <span class="code">DateTime</span> object based on the invocant, but with the given arguments overriding the values from the invocant.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00Z').clone(hour =&gt; 0);
# OUTPUT: «2015-12-24T00:23:00Z␤»</pre>
 <p>Note that this can lead to invalid dates in some circumstances:</p>
 <pre class="code">say DateTime.new(&quot;2012-02-29T12:34:56Z&quot;).clone(year =&gt; 2015);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::OutOfRange: Day out of range. Is: 29, should be in 1..28␤»</pre>
 <a name="t83.1.4"></a><h2 id="_type_DateTime.pod6-method_hh-mm-ss">83.1.4 method hh-mm-ss</h2>
 <p>Defined as:</p>
 <pre class="code">method hh-mm-ss(DateTime:D: --&gt; Str:D)</pre>
 <p>Returns the time represented by the object as a string in 24-hour HH:MM:SS format:</p>
 <pre class="code">say DateTime.new(&quot;2052-02-29T22:34:56Z&quot;).hh-mm-ss;
# OUTPUT: «22:34:56␤»</pre>
 <a name="t83.1.5"></a><h2 id="_type_DateTime.pod6-method_hour">83.1.5 method hour</h2>
 <p>Defined as:</p>
 <pre class="code">method hour(DateTime:D: --&gt; Int:D)</pre>
 <p>Returns the hour component.</p>
 <pre class="code">say DateTime.new('2012-02-29T12:34:56Z').hour;      # OUTPUT: «12␤»</pre>
 <a name="t83.1.6"></a><h2 id="_type_DateTime.pod6-method_minute">83.1.6 method minute</h2>
 <p>Defined as:</p>
 <pre class="code">method minute(DateTime:D: --&gt; Int:D)</pre>
 <p>Returns the minute component.</p>
 <pre class="code">say DateTime.new('2012-02-29T12:34:56Z').minute;     # OUTPUT: «34␤»</pre>
 <a name="t83.1.7"></a><h2 id="_type_DateTime.pod6-method_second">83.1.7 method second</h2>
 <p>Defined as:</p>
 <pre class="code">method second(DateTime:D:)</pre>
 <p>Returns the second component, including potentially fractional seconds.</p>
 <pre class="code">say DateTime.new('2012-02-29T12:34:56Z').second;     # OUTPUT: «56␤»
say DateTime.new('2012-02-29T12:34:56.789Z').second; # OUTPUT: «56.789␤»
say DateTime.new('2012-02-29T12:34:56,789Z').second; # comma also ok</pre>
 <a name="t83.1.8"></a><h2 id="_type_DateTime.pod6-method_whole-second">83.1.8 method whole-second</h2>
 <p>Defined as:</p>
 <pre class="code">method whole-second(DateTime:D:)</pre>
 <p>Returns the second component, rounded down to an <a href="#_type_Int.pod6">Int</a>.</p>
 <pre class="code">say DateTime.new('2012-02-29T12:34:56.789Z').whole-second;      # OUTPUT: «56␤»</pre>
 <a name="t83.1.9"></a><h2 id="_type_DateTime.pod6-method_timezone">83.1.9 method timezone</h2>
 <p>Defined as:</p>
 <pre class="code">method timezone(DateTime:D: --&gt; Int:D)</pre>
 <p>Returns the time zone <b>in seconds</b> as an offset from UTC.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').timezone;          # OUTPUT: «7200␤»</pre>
 <a name="t83.1.10"></a><h2 id="_type_DateTime.pod6-method_offset">83.1.10 method offset</h2>
 <p>Defined as:</p>
 <pre class="code">method offset(DateTime:D: --&gt; Int:D)</pre>
 <p>Returns the time zone <b>in seconds</b> as an offset from UTC. This is an alias for <a href="#82-method timezone">#method timezone</a>.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').offset;            # OUTPUT: «7200␤»</pre>
 <a name="t83.1.11"></a><h2 id="_type_DateTime.pod6-method_offset-in-minutes">83.1.11 method offset-in-minutes</h2>
 <p>Defined as:</p>
 <pre class="code">method offset-in-minutes(DateTime:D: --&gt; Real:D)</pre>
 <p>Returns the time zone in minutes as an offset from UTC.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').offset-in-minutes; # OUTPUT: «120␤»</pre>
 <a name="t83.1.12"></a><h2 id="_type_DateTime.pod6-method_offset-in-hours">83.1.12 method offset-in-hours</h2>
 <p>Defined as:</p>
 <pre class="code">method offset-in-hours(DateTime:D: --&gt; Real:D)</pre>
 <p>Returns the time zone in hours as an offset from UTC.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').offset-in-hours;   # OUTPUT: «2␤»</pre>
 <a name="t83.1.13"></a><h2 id="_type_DateTime.pod6-method_Str">83.1.13 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">method Str(DateTime:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the invocant, as done by <a href="#82-method formatter">the formatter</a>. If no formatter was specified, an ISO 8601 timestamp will be returned.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').Str; # OUTPUT: «2015-12-24T12:23:00+02:00␤»</pre>
 <a name="t83.1.14"></a><h2 id="_type_DateTime.pod6-method_Instant">83.1.14 method Instant</h2>
 <p>Defined as:</p>
 <pre class="code">method Instant(DateTime:D: --&gt; Instant:D)</pre>
 <p>Returns an <a href="#_type_Instant.pod6">Instant</a> object based on the invocant.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').Instant; # OUTPUT: «2015-12-24T12:23:00+02:00␤»</pre>
 <a name="t83.1.15"></a><h2 id="_type_DateTime.pod6-method_posix">83.1.15 method posix</h2>
 <p>Defined as:</p>
 <pre class="code">method posix(DateTime:D: $ignore-timezone = False --&gt; Int:D)</pre>
 <p>Returns the date and time as a POSIX/UNIX timestamp (seconds since the Epoch, 1st January 1970 UTC).</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00Z').posix;       # OUTPUT: «1450959780␤»</pre>
 <a name="t83.1.16"></a><h2 id="_type_DateTime.pod6-method_later">83.1.16 method later</h2>
 <p>Defined as:</p>
 <pre class="code">method later(DateTime:D: *%unit)</pre>
 <p>Returns a DateTime object based on the current one, but with a time delta applied. The time delta can be passed as a named argument where the argument name is the unit.</p>
 <p>Allowed units are <span class="code">second</span>, <span class="code">seconds</span>, <span class="code">minute</span>, <span class="code">minutes</span>, <span class="code">hour</span>, <span class="code">hours</span>, <span class="code">day</span>, <span class="code">days</span>, <span class="code">week</span>, <span class="code">weeks</span>, <span class="code">month</span>, <span class="code">months</span>, <span class="code">year</span>, <span class="code">years</span>. Please note that the plural forms can only be used with the <span class="code">later</span> method.</p>
 <p>Please note that the special &quot;:2nd&quot; named parameter syntax can be a compact and self-documenting way of specifying the delta</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00Z').later(:2years); # OUTPUT: «2017-12-24T12:23:00Z␤»</pre>
 <p>Since addition of several different time units is not commutative, only one unit may be passed.</p>
 <pre class="code">my $d = DateTime.new(date =&gt; Date.new('2015-02-27'));
say $d.later(month =&gt; 1).later(:2days);  # OUTPUT: «2015-03-29T00:00:00Z␤»
say $d.later(days =&gt; 2).later(:1month);  # OUTPUT: «2015-04-01T00:00:00Z␤»
say $d.later(days =&gt; 2).later(:month);   # same, as +True === 1</pre>
 <p>If the resultant time has value <span class="code">60</span> for seconds, yet no leap second actually exists for that time, seconds will be set to <span class="code">59</span>:</p>
 <pre class="code">say DateTime.new('2008-12-31T23:59:60Z').later: :1day;
# OUTPUT: «2009-01-01T23:59:59Z␤»</pre>
 <p>Negative offsets are allowed, though <a href="#_routine_earlier.pod6">earlier</a> is more idiomatic for that.</p>
 <a name="t83.1.17"></a><h2 id="_type_DateTime.pod6-method_earlier">83.1.17 method earlier</h2>
 <p>Defined as:</p>
 <pre class="code">method earlier(DateTime:D: *%unit)</pre>
 <p>Returns a DateTime object based on the current one, but with a time delta towards the past applied. See <a href="#82-method later">#method later</a> for usage.</p>
 <pre class="code">my $d = DateTime.new(date =&gt; Date.new('2015-02-27'));
say $d.earlier(month =&gt; 1).earlier(:2days);  # OUTPUT: «2015-01-25T00:00:00Z␤»</pre>
 <p>If the resultant time has value <span class="code">60</span> for seconds, yet no leap second actually exists for that time, seconds will be set to <span class="code">59</span>:</p>
 <pre class="code">say DateTime.new('2008-12-31T23:59:60Z').earlier: :1day;
# OUTPUT: «2008-12-30T23:59:59Z␤»</pre>
 <p>Negative offsets are allowed, though <a href="#_routine_later.pod6">later</a> is more idiomatic for that.</p>
 <a name="t83.1.18"></a><h2 id="_type_DateTime.pod6-method_truncated-to">83.1.18 method truncated-to</h2>
 <p>Defined as:</p>
 <pre class="code">method truncated-to(DateTime:D: Cool $unit)</pre>
 <p>Returns a copy of the invocant, with everything smaller than the specified unit truncated to the smallest possible value.</p>
 <pre class="code">my $d = DateTime.new(&quot;2012-02-29T12:34:56.946314Z&quot;);
say $d.truncated-to('second');      # OUTPUT: «2012-02-29T12:34:56Z␤»
say $d.truncated-to('minute');      # OUTPUT: «2012-02-29T12:34:00Z␤»
say $d.truncated-to('hour');        # OUTPUT: «2012-02-29T12:00:00Z␤»
say $d.truncated-to('day');         # OUTPUT: «2012-02-29T00:00:00Z␤»
say $d.truncated-to('month');       # OUTPUT: «2012-02-01T00:00:00Z␤»
say $d.truncated-to('year');        # OUTPUT: «2012-01-01T00:00:00Z␤»</pre>
 <p>DateTimes with fractional seconds can be truncated to whole seconds with <span class="code">.truncated-to('second')</span>.</p>
 <a name="t83.1.19"></a><h2 id="_type_DateTime.pod6-method_Date">83.1.19 method Date</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Date(DateTime:U --&gt; Date:U)
multi method Date(DateTime:D --&gt; Date:D)</pre>
 <p>Converts the invocant to <a href="#_type_Date.pod6"><span class="code">Date</span></a>.</p>
 <pre class="code">say DateTime.new(&quot;2012-02-29T12:34:56.946314Z&quot;).Date; # OUTPUT: «2012-02-29␤»
say DateTime.Date;                                    # OUTPUT: «(Date)␤»</pre>
 <a name="t83.1.20"></a><h2 id="_type_DateTime.pod6-method_DateTime">83.1.20 method DateTime</h2>
 <p>Defined as:</p>
 <pre class="code">method DateTime(--&gt; DateTime)</pre>
 <p>Returns the invocant.</p>
 <pre class="code">say DateTime.new(&quot;2012-02-29T12:34:56.946314Z&quot;).DateTime; # 2012-02-29T12:34:56.946314Z
say DateTime.DateTime;                                    # OUTPUT: «(DateTime)␤»</pre>
 <a name="t83.1.21"></a><h2 id="_type_DateTime.pod6-method_utc">83.1.21 method utc</h2>
 <p>Defined as:</p>
 <pre class="code">method utc(DateTime:D: --&gt; DateTime:D)</pre>
 <p>Returns a DateTime object for the same time, but in time zone UTC.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200').utc;  # OUTPUT: «2015-12-24T10:23:00Z␤»</pre>
 <a name="t83.1.22"></a><h2 id="_type_DateTime.pod6-method_in-timezone">83.1.22 method in-timezone</h2>
 <p>Defined as:</p>
 <pre class="code">method in-timezone(DateTime:D: $timezone = 0 --&gt; DateTime:D)</pre>
 <p>Returns a DateTime object for the same time, but in the specified <span class="code">$timezone</span>, which is the offset <b>in seconds</b> from <a href="https://en.wikipedia.org/wiki/Greenwich_Mean_Time">GMT</a>.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00Z').in-timezone(3600 + 1800); # OUTPUT: «2015-12-24T13:53:00+0130␤»</pre>
 <a name="t83.1.23"></a><h2 id="_type_DateTime.pod6-method_local">83.1.23 method local</h2>
 <p>Defined as:</p>
 <pre class="code">method local(DateTime:D: --&gt; DateTime:D)</pre>
 <p>Returns a DateTime object for the same time, but in the local time zone (<a href="#_language_variables.pod6-index-entry-%24*TZ"><span class="code">$*TZ</span></a>).</p>
 <pre class="code">my $*TZ = -3600;
say DateTime.new('2015-12-24T12:23:00+0200').local; # OUTPUT: «2015-12-24T09:23:00-0100␤»</pre>
 <a name="t83.1.24"></a><h2 id="_type_DateTime.pod6-sub_infix:&lt;-&gt;">83.1.24 sub infix:&lt;-&gt;</h2>
 <pre class="code">multi sub infix:&lt;-&gt; (DateTime:D, Duration:D --&gt; DateTime:D)
multi sub infix:&lt;-&gt; (DateTime:D, DateTime:D --&gt; Duration:D)</pre>
 <p>Takes a <a href="#_type_DateTime.pod6"><span class="code">DateTime</span></a> to subtract from and either a <a href="#_type_Duration.pod6"><span class="code">Duration</span></a> or another <span class="code">DateTime</span> object. Returns a new <span class="code">DateTime</span> object or the <span class="code">Duration</span> between the two dates, respectively. When subtracting <span class="code">Duration</span>, timezone of the original <span class="code">DateTime</span> is preserved in the returned <span class="code">DateTime</span> object.</p>
 <pre class="code">say perl DateTime.new(:2016year) - DateTime.new(:2015year):;           # OUTPUT: «Duration.new(31536001.0)␤»
say DateTime.new(:2016year, :3600timezone) - Duration.new(31536001.0); # OUTPUT: «2015-01-01T00:00:00+01:00␤»</pre>
 <a name="t83.1.25"></a><h2 id="_type_DateTime.pod6-sub_infix:&lt;+&gt;">83.1.25 sub infix:&lt;+&gt;</h2>
 <pre class="code">multi sub infix:&lt;+&gt; (DateTime:D, Duration:D --&gt; DateTime:D)
multi sub infix:&lt;+&gt; (Duration:D, DateTime:D --&gt; DateTime:D)</pre>
 <p>Takes a <a href="#_type_DateTime.pod6"><span class="code">DateTime</span></a> and increases it by the given <a href="#_type_Duration.pod6"><span class="code">Duration</span></a>, preserving the timezone.</p>
 <pre class="code">say DateTime.new(:2015year) + Duration.new(31536001.0);        # OUTPUT: «2016-01-01T00:00:00Z␤»
say Duration.new(42) + DateTime.new(:2015year, :3600timezone); # OUTPUT: «2015-01-01T00:00:42+01:00␤»</pre>
</div>
<!-- /type/Dateish.pod6 --><div class="pod-body"><a id="_type_Dateish.pod6"></a><a name="t84"><h1 class="title">84 role Dateish</h1></a> <p class="subtitle">Object that can be treated as a date</p> <pre class="code">role Dateish { ... }</pre>
 <p>Both <a href="#_type_Date.pod6">Date</a> and <a href="#_type_DateTime.pod6">DateTime</a> support accessing a year, month and day-of-month, as well as related functionality such as calculating the day of the week.</p>
 <a name="t84.1"></a><h1 id="_type_Dateish.pod6-Methods">84.1 Methods</h1>
 <a name="t84.1.1"></a><h2 id="_type_Dateish.pod6-method_year">84.1.1 method year</h2>
 <p>Defined as:</p>
 <pre class="code">method year(Date:D: --&gt; Int:D)</pre>
 <p>Returns the year of the date.</p>
 <pre class="code">say Date.new('2015-12-31').year;                                  # OUTPUT: «2015␤»
say DateTime.new(date =&gt; Date.new('2015-12-24'), hour =&gt; 1).year; # OUTPUT: «2015␤»</pre>
 <a name="t84.1.2"></a><h2 id="_type_Dateish.pod6-method_month">84.1.2 method month</h2>
 <p>Defined as:</p>
 <pre class="code">method month(Date:D: --&gt; Int:D)</pre>
 <p>Returns the month of the date (1..12).</p>
 <pre class="code">say Date.new('2015-12-31').month;                                  # OUTPUT: «12␤»
say DateTime.new(date =&gt; Date.new('2015-12-24'), hour =&gt; 1).month; # OUTPUT: «12␤»</pre>
 <a name="t84.1.3"></a><h2 id="_type_Dateish.pod6-method_day">84.1.3 method day</h2>
 <p>Defined as:</p>
 <pre class="code">method day(Date:D: --&gt; Int:D)</pre>
 <p>Returns the day of the month of the date (1..31).</p>
 <pre class="code">say Date.new('2015-12-31').day;                                  # OUTPUT: «31␤»
say DateTime.new(date =&gt; Date.new('2015-12-24'), hour =&gt; 1).day; # OUTPUT: «24␤»</pre>
 <a name="t84.1.4"></a><h2 id="_type_Dateish.pod6-method_formatter">84.1.4 method formatter</h2>
 <p>Defined as:</p>
 <pre class="code">method formatter(Dateish:D:)</pre>
 <p>Returns the formatting function which is used for conversion to <a href="#_type_Str.pod6">Str</a>. If none was provided at object construction, a default formatter is used. In that case the method will return a Callable type object.</p>
 <p>The formatting function is called by <a href="#_type_DateTime.pod6-method_Str">DateTime method Str</a> with the invocant as its only argument.</p>
 <pre class="code">my $dt = Date.new('2015-12-31');  # (no formatter specified)
say $dt.formatter.^name;          # OUTPUT: «Callable␤»
my $us-format = sub ($self) { sprintf &quot;%02d/%02d/%04d&quot;, .month, .day, .year given $self; };
$dt = Date.new('2015-12-31', formatter =&gt; $us-format);
say $dt.formatter.^name;           # OUTPUT: «Sub␤»
say $dt;                          # OUTPUT: «12/31/2015␤»</pre>
 <a name="t84.1.5"></a><h2 id="_type_Dateish.pod6-method_is-leap-year">84.1.5 method is-leap-year</h2>
 <p>Defined as:</p>
 <pre class="code">method is-leap-year(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the year of the Dateish object is a leap year.</p>
 <pre class="code">say DateTime.new(:year&lt;2016&gt;).is-leap-year; # OUTPUT: «True␤»
say Date.new(&quot;1900-01-01&quot;).is-leap-year;    # OUTPUT: «False␤»</pre>
 <a name="t84.1.6"></a><h2 id="_type_Dateish.pod6-method_day-of-month">84.1.6 method day-of-month</h2>
 <p>Defined as:</p>
 <pre class="code">method day-of-month(Date:D: --&gt; Int:D)</pre>
 <p>Returns the day of the month of the date (1..31). Synonymous to the <span class="code">day</span> method.</p>
 <pre class="code">say Date.new('2015-12-31').day-of-month;                                  # OUTPUT: «31␤»
say DateTime.new(date =&gt; Date.new('2015-12-24'), hour =&gt; 1).day-of-month; # OUTPUT: «24␤»</pre>
 <a name="t84.1.7"></a><h2 id="_type_Dateish.pod6-method_day-of-week">84.1.7 method day-of-week</h2>
 <p>Defined as:</p>
 <pre class="code">method day-of-week(Date:D: --&gt; Int:D)</pre>
 <p>Returns the day of the week, where 1 is Monday, 2 is Tuesday and Sunday is 7.</p>
 <pre class="code">say Date.new('2015-12-31').day-of-week;                                  # OUTPUT: «4␤»
say DateTime.new(date =&gt; Date.new('2015-12-24'), hour =&gt; 1).day-of-week; # OUTPUT: «4␤»</pre>
 <a name="t84.1.8"></a><h2 id="_type_Dateish.pod6-method_day-of-year">84.1.8 method day-of-year</h2>
 <p>Defined as:</p>
 <pre class="code">method day-of-year(Date:D: --&gt; Int:D)</pre>
 <p>Returns the day of the year (1..366).</p>
 <pre class="code">say Date.new('2015-12-31').day-of-year;                                  # OUTPUT: «365␤»
say DateTime.new(date =&gt; Date.new('2015-03-24'), hour =&gt; 1).day-of-year; # OUTPUT: «83␤»</pre>
 <a name="t84.1.9"></a><h2 id="_type_Dateish.pod6-method_days-in-month">84.1.9 method days-in-month</h2>
 <p>Defined as:</p>
 <pre class="code">method days-in-month(Dateish:D: --&gt; Int:D)</pre>
 <p>Returns the number of days in the month represented by the Dateish object:</p>
 <pre class="code">say Date.new(&quot;2016-01-02&quot;).days-in-month;                # OUTPUT: «31␤»
say DateTime.new(:year&lt;10000&gt;, :month&lt;2&gt;).days-in-month; # OUTPUT: «29␤»</pre>
 <a name="t84.1.10"></a><h2 id="_type_Dateish.pod6-method_week">84.1.10 method week</h2>
 <p>Defined as:</p>
 <pre class="code">method week()</pre>
 <p>Returns a list of two integers: the year, and the week number. This is because at the start or end of a year, the week may actually belong to the other year.</p>
 <pre class="code">my ($year, $week) = Date.new(&quot;2014-12-31&quot;).week;
say $year;                       # OUTPUT: «2015␤»
say $week;                       # OUTPUT: «1␤»
say Date.new('2015-01-31').week; # OUTPUT: «(2015 5)␤»</pre>
 <a name="t84.1.11"></a><h2 id="_type_Dateish.pod6-method_week-number">84.1.11 method week-number</h2>
 <p>Defined as:</p>
 <pre class="code">method week-number(Date:D: --&gt; Int:D)</pre>
 <p>Returns the week number (1..53) of the date specified by the invocant. The first week of the year is defined by ISO as the one which contains the fourth day of January. Thus, dates early in January often end up in the last week of the prior year, and similarly, the final few days of December may be placed in the first week of the next year.</p>
 <pre class="code">say Date.new(&quot;2014-12-31&quot;).week-number;   # 1  (first week of 2015)
say Date.new(&quot;2016-01-02&quot;).week-number;   # 53 (last week of 2015)</pre>
 <a name="t84.1.12"></a><h2 id="_type_Dateish.pod6-method_week-year">84.1.12 method week-year</h2>
 <p>Defined as:</p>
 <pre class="code">method week-year(Date:D: --&gt; Int:D)</pre>
 <p>Returns the week year of the date specified by the invocant. Normally <span class="code">week-year</span> is equal to <span class="code">Date.year</span>. Note however that dates early in January often end up in the last week of the prior year, and similarly, the final few days of December may be placed in the first week of the next year.</p>
 <pre class="code">say Date.new(&quot;2015-11-15&quot;).week-year;   # 2015
say Date.new(&quot;2014-12-31&quot;).week-year;   # 2015 (date belongs to the first week of 2015)
say Date.new(&quot;2016-01-02&quot;).week-year;   # 2015 (date belongs to the last week of 2015)</pre>
 <a name="t84.1.13"></a><h2 id="_type_Dateish.pod6-method_weekday-of-month">84.1.13 method weekday-of-month</h2>
 <p>Defined as:</p>
 <pre class="code">method weekday-of-month(Date:D: --&gt; Int:D)</pre>
 <p>Returns a number (1..5) indicating the number of times a particular day-of-week has occurred so far during that month, the day itself included.</p>
 <pre class="code">say Date.new(&quot;2003-06-09&quot;).weekday-of-month;  # 2  (second Monday of the month)</pre>
 <a name="t84.1.14"></a><h2 id="_type_Dateish.pod6-method_yyyy-mm-dd">84.1.14 method yyyy-mm-dd</h2>
 <p>Defined as:</p>
 <pre class="code">method yyyy-mm-dd(Date:D: --&gt; Str:D) 
</pre>
 <p>Returns the date in <span class="code">YYYY-MM-DD</span> format (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>)</p>
 <pre class="code">say Date.new(&quot;2015-11-15&quot;).yyyy-mm-dd;   # OUTPUT: «2015-11-15␤» 
 say DateTime.new(1470853583).yyyy-mm-dd; # OUTPUT: «2016-08-10␤» 
</pre>
 <a name="t84.1.15"></a><h2 id="_type_Dateish.pod6-method_daycount">84.1.15 method daycount</h2>
 <p>Defined as:</p>
 <pre class="code">method daycount(Dateish:D: --&gt; Int:D)</pre>
 <p>Returns the number of days from the epoch Nov. 17, 1858 to the day of the invocant. The daycount returned by this method is the MJD, i.e. the <a href="https://en.wikipedia.org/wiki/Julian_day">Modified Julian Day</a>, which is used routinely by e.g. astronomers, geodesists, scientists and others. The MJD convention is designed to facilitate simplified chronological calculations.</p>
 <pre class="code">say Date.new('1995-09-27').daycount;    # OUTPUT: «49987␤»</pre>
 <a name="t84.1.16"></a><h2 id="_type_Dateish.pod6-method_IO">84.1.16 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(Dateish:D: --&gt; IO::Path:D)</pre>
 <p>Returns an <a href="#_type_IO::Path.pod6">IO::Path</a> object representing the stringified value of the Dateish object:</p>
 <pre class="code">Date.today.IO.say;   # OUTPUT: «&quot;2016-10-03&quot;.IO␤»
DateTime.now.IO.say; # OUTPUT: «&quot;2016-10-03T11:14:47.977994-04:00&quot;.IO␤»</pre>
 <p><b>PORTABILITY NOTE:</b> some operating systems (e.g. Windows) do not permit colons (<span class="code">:</span>) in filenames, which would be present in <span class="code">IO::Path</span> created from a <a href="#_type_DateTime.pod6">DateTime</a> object.</p>
</div>
<!-- /type/Distro.pod6 --><div class="pod-body"><a id="_type_Distro.pod6"></a><a name="t85"><h1 class="title">85 class Distro</h1></a> <p class="subtitle">Distribution related information</p> <pre class="code">class Distro does Systemic { }</pre>
 <p>Built-in class for providing distribution related information. Usually accessed through the <a href="#_language_variables.pod6-index-entry-%24*DISTRO">$*DISTRO</a> dynamic variable.</p>
 <a name="t85.1"></a><h1 id="_type_Distro.pod6-Methods">85.1 Methods</h1>
 <a name="t85.1.1"></a><h2 id="_type_Distro.pod6-method_auth">85.1.1 method auth</h2>
 <p>Instance method returning the &quot;auth&quot; (as in &quot;author&quot; or &quot;authority&quot;) of the Distro object. Returns &quot;unknown&quot; if the &quot;auth&quot; could not be established.</p>
 <a name="t85.1.2"></a><h2 id="_type_Distro.pod6-method_desc">85.1.2 method desc</h2>
 <p>Instance method returning the &quot;desc&quot; (as in &quot;description&quot;) of the Distro object. Returns a <span class="code">Str</span> type object if the &quot;desc&quot; could not be established.</p>
 <a name="t85.1.3"></a><h2 id="_type_Distro.pod6-method_is-win">85.1.3 method is-win</h2>
 <p>Instance method returning a <span class="code">Bool</span> indicating whether the distribution is a version of the Windows operating system.</p>
 <a name="t85.1.4"></a><h2 id="_type_Distro.pod6-method_name">85.1.4 method name</h2>
 <p>Instance method returning the name of the Distro object. Returns &quot;unknown&quot; if the name could not be established.</p>
 <a name="t85.1.5"></a><h2 id="_type_Distro.pod6-method_path-sep">85.1.5 method path-sep</h2>
 <p>Instance method returning the string that can be used to delimit elements in a path specification.</p>
 <a name="t85.1.6"></a><h2 id="_type_Distro.pod6-method_release">85.1.6 method release</h2>
 <p>Instance method returning the release information of the Distro object. Dies if the release information could not be established.</p>
 <a name="t85.1.7"></a><h2 id="_type_Distro.pod6-method_signature">85.1.7 method signature</h2>
 <p>Instance method returning the signature of the Distro object. Returns a <span class="code">Blob</span> type object if the signature could not be established.</p>
 <a name="t85.1.8"></a><h2 id="_type_Distro.pod6-method_version">85.1.8 method version</h2>
 <p>Instance method returning the version of the Distro object as a <a href="#_type_Version.pod6">Version</a> object. Returns a Version object &quot;unknown&quot; if the version could not be established.</p>
 <p>See Also: <span class="code">Systemic</span></p>
</div>
<!-- /type/Duration.pod6 --><div class="pod-body"><a id="_type_Duration.pod6"></a><a name="t86"><h1 class="title">86 class Duration</h1></a> <p class="subtitle">Length of time</p> <pre class="code">class Duration is Cool does Real { }</pre>
 <p>A <span class="code">Duration</span> represents a length of time in atomic seconds, with fractions. Like an <a href="#_type_Instant.pod6">Instant</a>, it is epoch-agnostic. In numeric contexts (situations where a <span class="code">Duration</span> is used as a number), a <span class="code">Duration</span> will return either a <a href="#_type_Rat.pod6">Rat</a> or a <a href="#_type_FatRat.pod6">FatRat</a> representing the number of seconds it holds.</p>
 <p><span class="code">Duration</span>s can be subtracted from or added to <span class="code">Instant</span>s to yield another, new <span class="code">Instant</span>. Subtracting one <span class="code">Instant</span> from another yields a <span class="code">Duration</span>. A <span class="code">Duration</span> can also result from mathematical operations between two <span class="code">Duration</span>s when it makes sense (namely, the addition, subtraction, or modulus of two <span class="code">Duration</span>s). The type of object returned for other numeric operations is currently unspecified.</p>
</div>
<!-- /type/Encoding.pod6 --><div class="pod-body"><a id="_type_Encoding.pod6"></a><a name="t87"><h1 class="title">87 role Encoding</h1></a> <p class="subtitle">...</p> <pre class="code">role Encoding { ... }</pre>
 <p>The <span class="code">Encoding</span> role is implemented by objects that provide a character encoding, such as ASCII or UTF-8. Besides being implemented by the built-in character encodings, it may also be implemented by users to provide new encodings. Instances of objects doing this role are typically obtained using <span class="code">Encoding::Registry</span>. For a list of supported encodings, see <a href="#_type_IO::Handle.pod6-method_encoding">IO::Handle</a></p>
 <a name="t87.1"></a><h1 id="_type_Encoding.pod6-Methods">87.1 Methods</h1>
 <a name="t87.1.1"></a><h2 id="_type_Encoding.pod6-method_name">87.1.1 method name</h2>
 <pre class="code">method name(Encoding:D: --&gt; Str)</pre>
 <p>Gets the primary name of the encoding.</p>
 <a name="t87.1.2"></a><h2 id="_type_Encoding.pod6-method_alternative-names">87.1.2 method alternative-names</h2>
 <pre class="code">method alternative-names(Encoding:D: --&gt; List)</pre>
 <p>Gets a list of alternative names for the encoding.</p>
 <a name="t87.1.3"></a><h2 id="_type_Encoding.pod6-method_decoder">87.1.3 method decoder</h2>
 <pre class="code">method decoder(Encoding:D: *%options --&gt; Encoding::Decoder)</pre>
 <p>Gets a character decoder instance for this encoding, configured with the provided options. Options vary by encoding. The built-in encodings all support <span class="code">translate-nl</span>, which if <span class="code">True</span> will translate <span class="code">\r\n</span> into <span class="code">\n</span> while decoding.</p>
 <a name="t87.1.4"></a><h2 id="_type_Encoding.pod6-method_encoder">87.1.4 method encoder</h2>
 <pre class="code">method encoder(Encoding:D: *%options --&gt; Encoding::Encoder)</pre>
 <p>Gets a character encoder instance for this encoding, configured with the provided options. Options vary by encoding. The built-in encodings all support both <span class="code">replacement</span> (either a <span class="code">Str</span> replacement sequence or <span class="code">True</span> to use a default replacement sequence for unencodable characters) and <span class="code">translate-nl</span> (when set to <span class="code">True</span>, turns <span class="code">\n</span> into <span class="code">\r\n</span> if the current platform is Windows).</p>
</div>
<!-- /type/Exception.pod6 --><div class="pod-body"><a id="_type_Exception.pod6"></a><a name="t88"><h1 class="title">88 class Exception</h1></a> <p class="subtitle">Anomalous event capable of interrupting normal control-flow</p> <pre class="code">class Exception {}</pre>
 <p>All exceptions that are placed into the <span class="code">$!</span> variable (or into <span class="code">$_</span> in <span class="code">CATCH</span> blocks) inherit from <span class="code">Exception</span>. When you call <span class="code">die</span> or <span class="code">fail</span> with a non-Exception argument, it is wrapped into an <span class="code">X::AdHoc</span> object, which also inherits from <span class="code">Exception</span>.</p>
 <p>User-defined exception classes should inherit from <span class="code">Exception</span> too, and define at least a method <span class="code">message</span>.</p>
 <pre class="code">class X::YourApp::SomeError is Exception {
    method message() {
        &quot;A YourApp-Specific error occurred: out of coffee!&quot;;
    }
}</pre>
 <a name="t88.1"></a><h1 id="_type_Exception.pod6-Methods">88.1 Methods</h1>
 <a name="t88.1.1"></a><h2 id="_type_Exception.pod6-method_message">88.1.1 method message</h2>
 <p>Defined as:</p>
 <pre class="code">method message(Exception:D: --&gt; Str:D)</pre>
 <p>This is a stub that must be overwritten by subclasses, and should return the exception message.</p>
 <p>Special care should be taken that this method does not produce an exception itself.</p>
 <pre class="code">try die &quot;Something bad happened&quot;;
if ($!) {
    say $!.message; # OUTPUT: «Something bad happened.␤»
}</pre>
 <a name="t88.1.2"></a><h2 id="_type_Exception.pod6-method_backtrace">88.1.2 method backtrace</h2>
 <p>Defined as:</p>
 <pre class="code">method backtrace(Exception:D: --&gt; Backtrace:D)</pre>
 <p>Returns the backtrace associated with the exception. Only makes sense on exceptions that have been thrown at least once.</p>
 <pre class="code">try die &quot;Something bad happened&quot;;
if ($!) {
    print $!.backtrace;
}</pre>
 <a name="t88.1.3"></a><h2 id="_type_Exception.pod6-method_throw">88.1.3 method throw</h2>
 <p>Defined as:</p>
 <pre class="code">method throw(Exception:D:)</pre>
 <p>Throws the exception.</p>
 <pre class="code">my $exception = X::AdHoc.new;    # Totally fine
try $exception.throw;            # Throws
if ($!) { #`( some handling ) }; # Suppress the exception</pre>
 <a name="t88.1.4"></a><h2 id="_type_Exception.pod6-method_resume">88.1.4 method resume</h2>
 <p>Defined as:</p>
 <pre class="code">method resume(Exception:D:)</pre>
 <p>Resumes control flow where <span class="code">.throw</span> left it when handled in a <span class="code">CATCH</span> block.</p>
 <pre class="code"># For example, resume control flow for any exception
CATCH { default { .resume } }</pre>
 <a name="t88.1.5"></a><h2 id="_type_Exception.pod6-method_rethrow">88.1.5 method rethrow</h2>
 <p>Defined as:</p>
 <pre class="code">method rethrow(Exception:D:)</pre>
 <p>Rethrows an exception that has already been thrown at least once. This is different from <span class="code">throw</span> in that it preserves the original backtrace.</p>
 <pre class="code">my $e = X::AdHoc.new(payload =&gt; &quot;Bad situation&quot;);
sub f() { die 'Bad' };
sub g() { try f; CATCH { default { .rethrow } } };
g;
CATCH { default { say .backtrace.full } };</pre>
 <a name="t88.1.6"></a><h2 id="_type_Exception.pod6-method_fail">88.1.6 method fail</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    fail(*@text)
multi sub    fail(Exception $e)
method fail(Exception:D:)</pre>
 <p>Exits the calling <span class="code">Routine</span> and returns a <a href="#_type_Failure.pod6">Failure</a> object wrapping the exception <span class="code">$e</span> - or, for the <span class="code">*@text</span> form, an <a href="#_type_X::AdHoc.pod6">X::AdHoc</a> exception constructed from the concatenation of <span class="code">@text</span>. If the caller activated fatal exceptions via the pragma <span class="code">use fatal;</span>, the exception is thrown instead of being returned as a <span class="code">Failure</span>.</p>
 <pre class="code">sub copy-directory-tree ($dir) {
    fail &quot;$dir is not a directory&quot; if !$dir.IO.d;
    ...
}</pre>
 <a name="t88.1.7"></a><h2 id="_type_Exception.pod6-method_gist">88.1.7 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">multi method gist(Exception:D:)</pre>
 <p>Returns whatever the exception printer should produce for this exception. The default implementation returns message and backtrace separated by a newline.</p>
 <pre class="code">my $e = X::AdHoc.new(payload =&gt; &quot;This exception is pretty bad&quot;);
try $e.throw;
if ($!) { say $!.gist; };
# OUTPUT: «This exception is pretty bad
#   in block &lt;unit&gt; at &lt;unknown file&gt; line 1␤»</pre>
 <a name="t88.1.8"></a><h2 id="_type_Exception.pod6-sub_die">88.1.8 sub die</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub die()
multi sub die(*@message)
multi sub die(Exception:D $e)
method    die(Exception:D:)</pre>
 <p>Throws a fatal <a href="#_type_Exception.pod6">Exception</a>. The default exception handler prints each element of the list to <a href="#_language_variables.pod6-index-entry-%24%2AERR"><span class="code">$*ERR</span></a> (STDERR).</p>
 <pre class="code">die &quot;Important reason&quot;; 
</pre>
 <p>If the subroutine form is called without arguments, the value of <a href="#_syntax_$!.pod6"><span class="code">$!</span>  variable</a> is checked. If it is set to a <a href="#_language_mop.pod6-index-entry-syntax_DEFINITE-DEFINITE"><span class="code">.DEFINITE</span></a> value, its value will be used as the <a href="#_type_Exception.pod6">Exception</a> to throw if it's of type <a href="#_type_Exception.pod6">Exception</a>, otherwise, it will be used as payload of <a href="#_type_X::AdHoc.pod6">X::AdHoc</a> exception. If <span class="code">$!</span> is not <span class="code">.DEFINITE</span>, <a href="#_type_X::AdHoc.pod6">X::AdHoc</a> with string <span class="code">&quot;Died&quot;</span> as payload will be thrown.</p>
 <a name="t88.1.9"></a><h2 id="_type_Exception.pod6-sub_warn">88.1.9 sub warn</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub warn(*@message)</pre>
 <p>Throws a resumable warning exception, which is considered a control exception, and hence is invisible to most normal exception handlers. The outermost control handler will print the warning to <span class="code">$*ERR</span>. After printing the warning, the exception is resumed where it was thrown. To override this behavior, catch the exception in a <span class="code">CONTROL</span> block. A <span class="code">quietly {...}</span> block is the opposite of a <span class="code">try {...}</span> block in that it will suppress any warnings but pass fatal exceptions through.</p>
 <p>To simply print to <span class="code">$*ERR</span>, please use <span class="code">note</span> instead. <span class="code">warn</span> should be reserved for use in threatening situations when you don't quite want to throw an exception.</p>
 <pre class="code">warn &quot;Warning message&quot;;</pre>
</div>
<!-- /type/Failure.pod6 --><div class="pod-body"><a id="_type_Failure.pod6"></a><a name="t89"><h1 class="title">89 class Failure</h1></a> <p class="subtitle">Delayed exception</p> <pre class="code">class Failure { }</pre>
 <p>A <span class="code">Failure</span> is a <i>soft</i> or <i>unthrown</i> exception, usually generated by calling <span class="code">&amp;fail</span>. It acts as a wrapper around an <a href="#_type_Exception.pod6">Exception</a> object.</p>
 <p>Sink (void) context causes a Failure to throw, i.e. turn into a normal exception.</p>
 <p>Checking a Failure for truth (with the <span class="code">Bool</span> method) or definedness (with the <span class="code">defined</span> method) marks the failure as handled, and causes it not to throw in sink context anymore.</p>
 <p>You can call the <span class="code">handled</span> method to check if a failure has been handled.</p>
 <p>Calling methods on unhandled failures propagates the failure. The specification says the result is another <span class="code">Failure</span>, in Rakudo it causes the failure to throw.</p>
 <a name="t89.1"></a><h1 id="_type_Failure.pod6-Methods">89.1 Methods</h1>
 <a name="t89.1.1"></a><h2 id="_type_Failure.pod6-method_new">89.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">method new(Failure:D: $payload --&gt; Failure)</pre>
 <p>Returns a new <span class="code">Failure</span> instance with the given payload. The latter can be either an <a href="#_type_Exception.pod6">Exception</a> or a payload for an <span class="code">Exception</span>. A typical payload would be a <span class="code">Str</span> with an error message. A list of payloads is also accepted.</p>
 <pre class="code">my $e = Failure.new(now.DateTime, 'WELP‼');
say $e;
CATCH{ default { say .^name, ': ', .Str } }
# OUTPUT: «X::AdHoc: 2017-09-10T11:56:05.477237ZWELP‼␤»</pre>
 <a name="t89.1.2"></a><h2 id="_type_Failure.pod6-method_handled">89.1.2 method handled</h2>
 <p>Defined as:</p>
 <pre class="code">method handled(Failure:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for handled failures, <span class="code">False</span> otherwise.</p>
 <pre class="code">sub f() { fail }; my $v = f; say $v.handled; # OUTPUT: «False␤»</pre>
 <p>The <span class="code">handled</span> method is an lvalue, which means you can also use it to set the handled state:</p>
 <pre class="code">sub f() { fail }
my $v = f;
$v.handled = True;
say $v.handled; # OUTPUT: «True␤»</pre>
 <a name="t89.1.3"></a><h2 id="_type_Failure.pod6-method_exception">89.1.3 method exception</h2>
 <p>Defined as:</p>
 <pre class="code">method exception(Failure:D: --&gt; Exception)</pre>
 <p>Returns the <a href="#_type_Exception.pod6">Exception</a> object that the failure wraps.</p>
 <pre class="code">sub failer() { fail };
my $failure = failer;
my $ex = $failure.exception;
put &quot;$ex.^name(): $ex&quot;;
# OUTPUT: «X::AdHoc: Failed␤»</pre>
 <a name="t89.1.4"></a><h2 id="_type_Failure.pod6-method_self">89.1.4 method self</h2>
 <p>Defined as:</p>
 <pre class="code">method self(Failure:D: --&gt; Failure:D)</pre>
 <p>If the invocant is a <a href="#_routine_handled.pod6">handled</a> <span class="code">Failure</span>, returns it as is. If not handled, throws its <a href="#_type_Exception.pod6">Exception</a>. Since <a href="#_type_Mu.pod6">Mu</a> type <a href="#_type_Mu.pod6-method_self">provides  <span class="code">.self</span></a> for every class, calling this method is a handy way to explosively filter out Failures:</p>
 <pre class="code">my $num1 = '♥'.Int;
# $num1 now contains a Failure object, which may not be desirable

my $num2 = '♥'.Int.self;
# .self method call on Failure causes an exception to be thrown

my $num3 = '42'.Int.self;
# Int type has a .self method, so here $num3 has `42` in it

(my $stuff = '♥'.Int).so;
say $stuff.self; # OUTPUT: «(HANDLED) Cannot convert string to number…»
# Here, Failure is handled, so .self just returns it as is</pre>
 <a name="t89.1.5"></a><h2 id="_type_Failure.pod6-method_Bool">89.1.5 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(Failure:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span>, and marks the failure as handled.</p>
 <pre class="code">sub f() { fail }; my $v = f; say $v.handled; $v.Bool; say $v.handled;
# OUTPUT: «False␤
# True␤»</pre>
 <a name="t89.1.6"></a><h2 id="_type_Failure.pod6-method_Capture">89.1.6 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span> if the invocant is a type object or a <a href="#_routine_handled.pod6">handled</a> <a href="#_type_Failure.pod6">Failure</a>. Otherwise, throws the invocant's <a href="#_routine_exception.pod6">exception</a>.</p>
 <a name="t89.1.7"></a><h2 id="_type_Failure.pod6-method_defined">89.1.7 method defined</h2>
 <p>Defined as:</p>
 <pre class="code">multi method defined(Failure:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> (failures are officially undefined), and marks the failure as handled.</p>
 <pre class="code">sub f() { fail }; my $v = f; say $v.defined; # OUTPUT: «False␤»</pre>
</div>
<!-- /type/FatRat.pod6 --><div class="pod-body"><a id="_type_FatRat.pod6"></a><a name="t90"><h1 class="title">90 class FatRat</h1></a> <p class="subtitle">Rational number (arbitrary-precision)</p> <pre class="code">class FatRat is Cool does Rational[Int, Int] {}</pre>
 <p>A <span class="code">FatRat</span> is a rational number stored with arbitrary size numerator and denominator. Arithmetic operations involving a <span class="code">FatRat</span> and optionally <a href="#_type_Int.pod6">Int</a> or <a href="#_type_Rat.pod6">Rat</a> objects return a <span class="code">FatRat</span>, avoiding loss of precision.</p>
 <p>Since, unlike <a href="#_type_Rat.pod6">Rat</a>, FatRat arithmetics do not fall back <a href="#_type_Num.pod6">Num</a> at some point, there is a risk that repeated arithmetic operations generate pathologically large numerators and denominators.</p>
 <p>There are two common ways to generate <span class="code">FatRat</span> objects: through the <span class="code">FatRat.new(Int, Int)</span> constructor, which generates them from numerator and denominator, or by calling the <span class="code">.FatRat</span> method on an <a href="#_type_Int.pod6">Int</a> or <a href="#_type_Rat.pod6">Rat</a> object.</p>
</div>
<!-- /type/Grammar.pod6 --><div class="pod-body"><a id="_type_Grammar.pod6"></a><a name="t91"><h1 class="title">91 class Grammar</h1></a> <p class="subtitle">Formal grammar made up of named regexes</p> <pre class="code">class Grammar is Cursor {}</pre>
 <p>Every type declared with <span class="code">grammar</span> and not explicitly stating its superclass, becomes a subclass of <i>Grammar</i>.</p>
 <pre class="code">grammar Identifier {
    token TOP       { &lt;initial&gt; &lt;rest&gt;* }
    token initial   { &lt;+myletter +[_]&gt; }
    token rest      { &lt;+myletter +mynumber +[_]&gt; }
    token myletter  { &lt;[A..Za..z]&gt; }
    token mynumber  { &lt;[0..9]&gt; }
}

say Identifier.isa(Grammar);                # OUTPUT: «True␤»
my $match = Identifier.parse('W4anD0eR96');
say ~$match;                                # OUTPUT: «W4anD0eR96␤»</pre>
 <p>More <a href="#_language_grammars.pod6">documentation on grammars</a> is available.</p>
 <a name="t91.1"></a><h1 id="_type_Grammar.pod6-Methods">91.1 Methods</h1>
 <a name="t91.1.1"></a><h2 id="_type_Grammar.pod6-method_parse">91.1.1 method parse</h2>
 <p>Defined as:</p>
 <pre class="code">method parse($target, :$rule = 'TOP',  Capture() :$args = \(), Mu :$actions = Mu, *%opt)</pre>
 <p>Parses the <span class="code">$target</span>, which will be coerced to <a href="#_type_Str.pod6">Str</a> if it isn't one, using <span class="code">$rule</span> as the starting rule. Additional <span class="code">$args</span> will be passed to the starting rule if provided.</p>
 <pre class="code">grammar RepeatChar {
    token start($character) { $character+ }
}

say RepeatChar.parse('aaaaaa', :rule('start'), :args(\('a')));
say RepeatChar.parse('bbbbbb', :rule('start'), :args(\('b')));

# OUTPUT:
# ｢aaaaaa｣
# ｢bbbbbb｣</pre>
 <p>If the <span class="code">action</span> named argument is provided, it will be used as an action object, that is, for each successful regex match, a method of the same name, if it exists, is called on the action object, passing the match object as the sole positional argument.</p>
 <pre class="code">my $actions = class { method TOP($/) { say &quot;7&quot; } };
grammar { token TOP { a { say &quot;42&quot; } b } }.parse('ab', :$actions);
# OUTPUT : «42␤7␤»</pre>
 <p>Additional named arguments are used as options for matching, so you can specify things like <span class="code">:pos(4)</span> to start parsing from the fourth (zero-base) character. All <a href="#_language_regexes.pod6-Adverbs">matching adverbs</a> are allowed.</p>
 <pre class="code">say RepeatChar.parse('bbbbbb', :rule('start'), :args(\('b')), :pos(4)).Str; 
 # OUTPUT : «bb␤» 
</pre>
 <p>Method <span class="code">parse</span> only succeeds if the cursor has arrived at the end of the target string when the match is over. Use <a href="#_routine_subparse.pod6">method subparse</a> if you want to be able to stop in the middle.</p>
 <p>Returns a <a href="#_type_Match.pod6">Match object</a> on success, and <a href="#_type_Nil.pod6">Nil</a> on failure.</p>
 <a name="t91.1.2"></a><h2 id="_type_Grammar.pod6-method_subparse">91.1.2 method subparse</h2>
 <p>Defined as:</p>
 <pre class="code">method subparse($target, :$rule = 'TOP', Capture() :$args = \(),  Mu :$actions = Mu, *%opt)</pre>
 <p>Does exactly the same as <a href="#_routine_parse.pod6">method parse</a>, except that cursor doesn't have to reach the end of the string to succeed. That is, it doesn't have to match the whole string.</p>
 <p>Note that unlike <a href="#_routine_parse.pod6">method parse</a>, <span class="code">subparse</span> <i>always</i> returns a <a href="#_type_Match.pod6">Match</a> object, which will be a failed match (and thus falsy), if the grammar failed to match.</p>
 <pre class="code">grammar RepeatChar {
    token start($character) { $character+ }
}

say RepeatChar.subparse('bbbabb', :rule('start'), :args(\('b')));
say RepeatChar.parse('bbbabb', :rule('start'), :args(\('b')));
say RepeatChar.subparse('bbbabb', :rule('start'), :args(\('a')));
say RepeatChar.subparse('bbbabb', :rule('start'), :args(\('a')), :pos(3));


# OUTPUT:
# ｢bbb｣
# Nil
# #&lt;failed match&gt;
# ｢a｣</pre>
 <a name="t91.1.3"></a><h2 id="_type_Grammar.pod6-method_parsefile">91.1.3 method parsefile</h2>
 <p>Defined as:</p>
 <pre class="code">method parsefile(Str(Cool) $filename, :$enc, *%opts)</pre>
 <p>Reads file <span class="code">$filename</span> encoding by <span class="code">$enc</span>, and parses it. All named arguments are passed on to <a href="#_routine_parse.pod6">method parse</a>.</p>
 <pre class="code">grammar Identifiers {
    token TOP        { [&lt;identifier&gt;&lt;.ws&gt;]+ }
    token identifier { &lt;initial&gt; &lt;rest&gt;* }
    token initial    { &lt;+myletter +[_]&gt; }
    token rest       { &lt;+myletter +mynumber +[_]&gt; }
    token myletter   { &lt;[A..Za..z]&gt; }
    token mynumber   { &lt;[0..9]&gt; }
}

say Identifiers.parsefile('users.txt', :enc('UTF-8'))
    .Str.trim.subst(/\n/, ',', :g);

# users.txt :
# TimToady
# lizmat
# jnthn
# moritz
# zoffixznet
# MasterDuke17

# OUTPUT : «TimToady,lizmat,jnthn,moritz,zoffixznet,MasterDuke17␤»</pre>
</div>
<!-- /type/Hash.pod6 --><div class="pod-body"><a id="_type_Hash.pod6"></a><a name="t92"><h1 class="title">92 class Hash</h1></a> <p class="subtitle">Mapping from strings to itemized values</p> <pre class="code">class Hash is Map { }</pre>
 <p>A Hash is a mutable mapping from keys to values (called <i>dictionary</i>, <i>hash table</i> or <i>map</i> in other programming languages). The values are all scalar containers, which means you can assign to them.</p>
 <p>Hashes are usually stored in variables with the percent <span class="code">%</span> sigil.</p>
 <p>Hash elements are accessed by key via the <span class="code">{ }</span> postcircumfix operator:</p>
 <pre class="code">say %*ENV{'HOME', 'PATH'}.perl;
# OUTPUT: «(&quot;/home/camelia&quot;, &quot;/usr/bin:/sbin:/bin&quot;)␤»</pre>
 <p>The general <a href="#_language_subscripts.pod6">Subscript</a> rules apply providing shortcuts for lists of literal strings, with and without interpolation.</p>
 <pre class="code">my %h = oranges =&gt; 'round', bananas =&gt; 'bendy';
say %h&lt;oranges bananas&gt;;
# OUTPUT: «(round bendy)␤»

my $fruit = 'bananas';
say %h«oranges &quot;$fruit&quot;»;
# OUTPUT: «(round bendy)␤»</pre>
 <p>You can add new pairs simply by assigning to an unused key:</p>
 <pre class="code">my %h;
%h{'new key'} = 'new value';</pre>
 <a name="t92.1"></a><h1 id="_type_Hash.pod6-Hash_assignment">92.1 Hash assignment</h1>
 <p>Assigning a list of elements to a hash variable first empties the variable, and then iterates the elements of the right-hand side. If an element is a <a href="#_type_Pair.pod6">Pair</a>, its key is taken as a new hash key, and its value as the new hash value for that key. Otherwise the value is coerced to <a href="#_type_Str.pod6">Str</a> and used as a hash key, while the next element of the list is taken as the corresponding value.</p>
 <pre class="code">my %h = 'a', 'b', c =&gt; 'd', 'e', 'f';
# same as
my %h = a =&gt; 'b', c =&gt; 'd', e =&gt; 'f';
# or
my %h = &lt;a b c d e f&gt;;</pre>
 <p>If a <a href="#_type_Pair.pod6">Pair</a> is encountered where a value is expected, it is used as a hash value:</p>
 <pre class="code">my %h = 'a', 'b' =&gt; 'c';
say %h&lt;a&gt;.^name;            # OUTPUT: «Pair␤»
say %h&lt;a&gt;.key;              # OUTPUT: «b␤»</pre>
 <p>If the same key appears more than once, the value associated with its last occurrence is stored in the hash:</p>
 <pre class="code">my %h = a =&gt; 1, a =&gt; 2;
say %h&lt;a&gt;;                  # OUTPUT: «2␤»</pre>
 <p>To assign a hash to a variable which does not have the <span class="code">%</span> sigil, you may use the <span class="code">%()</span> hash constructor:</p>
 <pre class="code">my $h = %( a =&gt; 1, b =&gt; 2 );
say $h.^name;               # OUTPUT: «Hash␤»
say $h&lt;a&gt;;                  # OUTPUT: «1␤»</pre>
 <p><b>NOTE:</b> Hashes can also be constructed with <span class="code">{ }</span>. It is recommended to use the <span class="code">%()</span> hash constructor, as braces are reserved for creating <a href="#_type_Block.pod6">Block</a> objects and therefore braces only create Hash objects in specific circumstances.</p>
 <p>If one or more values reference the topic variable, <span class="code">$_</span>, the right-hand side of the assignment will be interpreted as a <a href="#_type_Block.pod6">Block</a>, not a Hash:</p>
 <pre class="code">my @people = [ 
     %( id =&gt; &quot;1A&quot;, firstName =&gt; &quot;Andy&quot;, lastName =&gt; &quot;Adams&quot; ), 
     %( id =&gt; &quot;2B&quot;, firstName =&gt; &quot;Beth&quot;, lastName =&gt; &quot;Burke&quot; ), 
     # ... 
 ]; 
 
 sub lookup-user (Hash $h) { #`(Do something...) $h } 
 
 my @names = map { 
     # While this creates a hash: 
     my  $query = { name =&gt; &quot;$person&lt;firstName&gt; $person&lt;lastName&gt;&quot; }; 
     say $query.^name;      # OUTPUT: «Hash␤» 
 
     # Doing this will create a Block. Oh no! 
     my  $query2 = { name =&gt; &quot;$_&lt;firstName&gt; $_&lt;lastName&gt;&quot; }; 
     say $query2.^name;       # OUTPUT: «Block␤» 
     say $query2&lt;name&gt;;       # fails 
 
     CATCH { default { put .^name, ': ', .Str } }; 
     # OUTPUT: «X::AdHoc: Type Block does not support associative indexing.␤» 
     lookup-user($query);   # Type check failed in binding $h; expected Hash but got Block 
 }, @people; 
</pre>
 <p>This would have been avoided if you had used the <span class="code">%()</span> hash constructor. Only use curly braces for creating Blocks.</p>
 <a name="t92.1.1"></a><h2 id="_type_Hash.pod6-Slices">92.1.1 Slices</h2>
 <p>You can assign to multiple keys at the same time with a slice.</p>
 <pre class="code">my %h; %h&lt;a b c&gt; = 2 xx *; %h.perl.say;  # OUTPUT: «{:a(2), :b(2), :c(2)}␤»
my %h; %h&lt;a b c&gt; = ^3;     %h.perl.say;  # OUTPUT: «{:a(0), :b(1), :c(2)}␤»</pre>
 <a name="t92.1.2"></a><h2 id="_type_Hash.pod6-Non-string_keys_(object_hash)">92.1.2 Non-string keys (object hash)</h2>
 <p><span class="indexed"><a id="854" name="non-string keys"></a></span> <span class="indexed"><a id="855" name="object hash"></a></span> <span class="indexed"><a id="856" name=":{}"></a></span></p>
 <p>By default keys in <span class="code">{ }</span> are forced to strings. To compose a hash with non-string keys, use a colon prefix:</p>
 <pre class="code">my $when = :{ (now) =&gt; &quot;Instant&quot;, (DateTime.now) =&gt; &quot;DateTime&quot; };</pre>
 <p>Note that with objects as keys, you often cannot use the <span class="code">&lt;...&gt;</span> construct for key lookup, as it creates only strings and <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorphs</a>. Use the <span class="code">{...}</span> instead:</p>
 <pre class="code">:{  0  =&gt; 42 }&lt;0&gt;.say;   # Int    as key, IntStr in lookup; OUTPUT: «(Any)␤»
:{  0  =&gt; 42 }{0}.say;   # Int    as key, Int    in lookup; OUTPUT: «42␤»
:{ '0' =&gt; 42 }&lt;0&gt;.say;   # Str    as key, IntStr in lookup; OUTPUT: «(Any)␤»
:{ '0' =&gt; 42 }{'0'}.say; # Str    as key, Str    in lookup; OUTPUT: «42␤»
:{ &lt;0&gt; =&gt; 42 }&lt;0&gt;.say;   # IntStr as key, IntStr in lookup; OUTPUT: «42␤»</pre>
 <p>Note: Rakudo implementation currently erroneously applies <a href="#_routine_{ }.pod6-(Operators)_term_{_}">the same rules</a> for <span class="code">:{ }</span> as it does for <span class="code">{ }</span> and can construct a <a href="#_type_Block.pod6">Block</a> in certain circumstances. To avoid that, you can instantiate a parameterized Hash directly. Parameterization of <span class="code">%</span>-sigiled variables is also supported:</p>
 <pre class="code">my Num %foo1      = &quot;0&quot; =&gt; 0e0; # Str keys and Num values
my     %foo2{Int} =  0  =&gt; &quot;x&quot;; # Int keys and Any values
my Num %foo3{Int} =  0  =&gt; 0e0; # Int keys and Num values
Hash[Num,Int].new: 0, 0e0;      # Int keys and Num values</pre>
 <p>Now if you want to define a hash to preserve the objects you are using as keys <i>as the *exact* objects you are providing to the hash to use as keys</i>, then object hash is what you are looking for.</p>
 <pre class="code">my %intervals{Instant};
my $first-instant = now;
%intervals{ $first-instant } = &quot;Our first milestone.&quot;;
sleep 1;
my $second-instant = now;
%intervals{ $second-instant } = &quot;Logging this Instant for spurious raisins.&quot;;
for %intervals.sort -&gt; (:$key, :$value) {
    state $last-instant //= $key;
    say &quot;We noted '$value' at $key, with an interval of {$key - $last-instant}&quot;;
    $last-instant = $key;
}</pre>
 <p>This example uses an object hash that only accepts keys of type <a href="#_type_Instant.pod6">Instant</a> to implement a rudimentary, yet type-safe, logging mechanism. We utilize a named <a href="#_language_variables.pod6-The_state_Declarator">state</a> variable for keeping track of the previous <span class="code">Instant</span> so that we can provide an interval.</p>
 <p>The whole point of object hashes is to keep keys as objects-in-themselves. Currently object hashes utilize the <a href="#_routine_WHICH.pod6">WHICH</a> method of an object, which returns a unique identifier for every mutable object. This is the keystone upon which the object identity operator (<a href="===">===</a>) rests. Order and containers really matter here as the order of <span class="code">.keys</span> is undefined and one anonymous list is never <a href="===">===</a> to another.</p>
 <pre class="code">my %intervals{Instant};
my $first-instant = now;
%intervals{ $first-instant } = &quot;Our first milestone.&quot;;
sleep 1;
my $second-instant = now;
%intervals{ $second-instant } = &quot;Logging this Instant for spurious raisins.&quot;;
say ($first-instant, $second-instant) ~~ %intervals.keys;       # OUTPUT: «False␤»
say ($first-instant, $second-instant) ~~ %intervals.keys.sort;  # OUTPUT: «False␤»
say ($first-instant, $second-instant) === %intervals.keys.sort; # OUTPUT: «False␤»
say $first-instant === %intervals.keys.sort[0];                 # OUTPUT: «True␤»</pre>
 <p>Since <span class="code">Instant</span> defines its own comparison methods, in our example a sort according to <a href="#_routine_cmp.pod6">cmp</a> will always provide the earliest instant object as the first element in the <a href="#_type_List.pod6">List</a> it returns.</p>
 <p>If you would like to accept any object whatsoever in your hash, you can use <a href="#_type_Any.pod6">Any</a>!</p>
 <pre class="code">my %h{Any};
%h{(now)} = &quot;This is an Instant&quot;;
%h{(DateTime.now)} = &quot;This is a DateTime, which is not an Instant&quot;;
%h{&quot;completely different&quot;} = &quot;Monty Python references are neither DateTimes nor Instants&quot;;</pre>
 <p>There is a more concise syntax which uses binding.</p>
 <pre class="code">my %h := :{ (now) =&gt; &quot;Instant&quot;, (DateTime.now) =&gt; &quot;DateTime&quot; };</pre>
 <p>The binding is necessary because an object hash is about very solid, specific objects, which is something that binding is great at keeping track of but about which assignment doesn't concern itself much.</p>
 <a name="t92.1.3"></a><h2 id="_type_Hash.pod6-Constraint_value_types">92.1.3 Constraint value types</h2>
 <p>Place a type object in-between the declarator and the name to constraint the type of all values of a <span class="code">Hash</span>. Use a <a href="#_language_typesystem.pod6-subset">subset</a> for constraints with a where-clause.</p>
 <pre class="code">subset Powerful of Int where * &gt; 9000;
my Powerful %h{Str};
put %h&lt;Goku&gt;   = 9001;
try {
    %h&lt;Vegeta&gt; = 900;
    CATCH { when X::TypeCheck::Binding { .message.put } }
}

# OUTPUT:
# 9001
# Type check failed in binding assignval; expected Powerful but got Int (900)</pre>
 <a name="t92.2"></a><h1 id="_type_Hash.pod6-Looping_over_hash_keys_and_values">92.2 Looping over hash keys and values</h1>
 <p>A common idiom for processing the elements in a hash is to loop over the keys and values, for instance,</p>
 <pre class="code">my %vowels = 'a' =&gt; 1, 'e' =&gt; 2, 'i' =&gt; 3, 'o' =&gt; 4, 'u' =&gt; 5;
for %vowels.kv -&gt; $vowel, $index {
  &quot;$vowel: $index&quot;.say;
}</pre>
 <p>gives output similar to this:</p>
 <pre class="code">a: 1 
 e: 2 
 o: 4 
 u: 5 
 i: 3 
</pre>
 <p>where we have used the <span class="code">kv</span> method to extract the keys and their respective values from the hash, so that we can pass these values into the loop.</p>
 <p>Note that the order of the keys and values printed cannot be relied upon; the elements of a hash are not always stored the same way in memory for different runs of the same program. Sometimes one wishes to process the elements sorted on, e.g. the keys of the hash. If one wishes to print the list of vowels in alphabetical order then one would write</p>
 <pre class="code">my %vowels = 'a' =&gt; 1, 'e' =&gt; 2, 'i' =&gt; 3, 'o' =&gt; 4, 'u' =&gt; 5;
for %vowels.sort(*.key)&gt;&gt;.kv -&gt; ($vowel, $index) {
  &quot;$vowel: $index&quot;.say;
}</pre>
 <p>which prints</p>
 <pre class="code">a: 1 
 e: 2 
 i: 3 
 o: 4 
 u: 5 
</pre>
 <p>and is in alphabetical order as desired. To achieve this result, we sorted the hash of vowels by key (<span class="code">%vowels.sort(*.key)</span>) which we then ask for its keys and values by applying the <span class="code">.kv</span> method to each element via the unary <span class="code"></span>&gt; &gt; hyperoperator resulting in a <a href="#_type_List.pod6">List</a> of key/value lists. To extract the key/value the variables thus need to be wrapped in parentheses.</p>
 <p>An alternative solution is to flatten the resulting list. Then the key/value pairs can be accessed in the same way as with plain <span class="code">.kv</span>:</p>
 <pre class="code">my %vowels = 'a' =&gt; 1, 'e' =&gt; 2, 'i' =&gt; 3, 'o' =&gt; 4, 'u' =&gt; 5;
for %vowels.sort(*.key)&gt;&gt;.kv.flat -&gt; $vowel, $index {
  &quot;$vowel: $index&quot;.say;
}</pre>
 <p>You can also loop over a <span class="code">Hash</span> using <a href="#_type_Signature.pod6-Destructuring_Parameters">destructuring</a>.</p>
 <a name="t92.2.1"></a><h2 id="_type_Hash.pod6-In_place_editing_of_values">92.2.1 In place editing of values</h2>
 <p>There may be times when you would like to modify the values of a hash while iterating over them.</p>
 <pre class="code">my %answers = illuminatus =&gt; 23, hitchhikers =&gt; 42;
# OUTPUT: «hitchhikers =&gt; 42, illuminatus =&gt; 23»
for %answers.values -&gt; $v { $v += 10 }; # Fails
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::AdHoc: Cannot assign to a readonly variable or a value␤»</pre>
 <p>This is traditionally accomplished by sending both the key and the value as follows.</p>
 <pre class="code">my %answers = illuminatus =&gt; 23, hitchhikers =&gt; 42;
for %answers.kv -&gt; $k,$v { %answers{$k} = $v + 10 };</pre>
 <p>However, it is possible to leverage the signature of the block in order to specify that you would like read-write access to the values.</p>
 <pre class="code">my %answers = illuminatus =&gt; 23, hitchhikers =&gt; 42;
for %answers.values -&gt; $v is rw { $v += 10 };</pre>
 <p>It is not, however, possible to do in-place editing of hash keys, even in the case of object hashes.</p>
 <a name="t92.3"></a><h1 id="_type_Hash.pod6-Methods">92.3 Methods</h1>
 <a name="t92.3.1"></a><h2 id="_type_Hash.pod6-method_classify-list">92.3.1 method classify-list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method classify-list(&amp;mapper, *@list, :&amp;as --&gt; Hash:D)
multi method classify-list(%mapper, *@list, :&amp;as --&gt; Hash:D)
multi method classify-list(@mapper, *@list, :&amp;as --&gt; Hash:D)</pre>
 <p>Populates a <a href="#_type_Hash.pod6"><span class="code">Hash</span></a> by classifying the possibly-empty <span class="code">@list</span> of values using the given <span class="code">mapper</span>, optionally altering the values using the <span class="code">:&amp;as</span> <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>. The <span class="code">@list</span> cannot be lazy.</p>
 <p>The mapper can be a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> that takes a single argument, an <a href="#_type_Associative.pod6"><span class="code">Associative</span></a>, or an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a>. With <a href="#_type_Associative.pod6"><span class="code">Associative</span></a> and an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> mappers, the values in the <span class="code">@list</span> represent the key and index of the mapper's value respectively. A <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> mapper will be executed once per each item in the <span class="code">@list</span>, with that item as the argument and its return value will be used as the mapper's value.</p>
 <a name="t92.3.1.1"></a><h3 id="_type_Hash.pod6-Simple_Classification">92.3.1.1 Simple Classification</h3>
 <p>In simple classification mode, each mapper's value is any non-Iterable and represents a key to classify <span class="code">@list</span>'s item under:</p>
 <pre class="code">say % .classify-list: { $_ %% 2 ?? 'even' !! 'odd' }, ^10;
# OUTPUT: «{even =&gt; [0 2 4 6 8], odd =&gt; [1 3 5 7 9]}␤»

my @mapper = &lt;zero one two three four five&gt;;
my %hash = foo =&gt; 'bar';
say %hash.classify-list: @mapper, 1, 2, 3, 4, 4;
# OUTPUT: «{foo =&gt; bar, four =&gt; [4 4], one =&gt; [1], three =&gt; [3], two =&gt; [2]}␤»</pre>
 <p>The mapper's value is used as the key of the <a href="#_type_Hash.pod6"><span class="code">Hash</span></a> to which the <span class="code">@list</span>'s item will be <a href="#_routine_push.pod6"><span class="code">push</span> ed</a>. See <a href="#_routine_categorize-list.pod6"><span class="code">.categorize-list</span></a> if you wish to classify an item into multiple categories at once.</p>
 <a name="t92.3.1.2"></a><h3 id="_type_Hash.pod6-Multi-Level_Classification">92.3.1.2 Multi-Level Classification</h3>
 <p>In multi-level classification mode, each mapper's value is an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> that represents a tree of hash keys to classify <span class="code">@list</span>'s item under:</p>
 <pre class="code">say % .classify-list: {
    [
        (.is-prime ?? 'prime' !! 'non-prime'),
        ($_ %% 2   ?? 'even'  !! 'odd'      ),
    ]
}, ^10;
# OUTPUT:
# {
#     non-prime =&gt; {
#         even =&gt; [0 4 6 8],
#         odd  =&gt; [1 9]
#     },
#     prime =&gt; {
#         even =&gt; [2],
#         odd  =&gt; [3 5 7]
#     }
# }</pre>
 <p><b>NOTE:</b> each of those <a href="#_type_Iterable.pod6"><span class="code">Iterables</span></a> must have the same number of elements, or the method will throw an exception. This restriction exists to avoid conflicts when the same key is a leaf of one value's classification but a node of another value's classification.</p>
 <a name="t92.3.1.3"></a><h3 id="_type_Hash.pod6-:&amp;as_value_modifier">92.3.1.3 <span class="code">:&amp;as</span> value modifier</h3>
 <p>If <span class="code">:&amp;as</span> <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> argument is specified, it will be called once per each item of <span class="code">@list</span>, with the value as the argument, and its return value will be used instead of the original <span class="code">@list</span>'s item:</p>
 <pre class="code">say % .classify-list: :as{&quot;Value is $_&quot;}, { $_ %% 2 ?? 'even' !! 'odd' }, ^5;
# OUTPUT (slightly altered manually, for clarity):
# {
#     even =&gt; ['Value is 0', 'Value is 2', 'Value is 4'],
#     odd  =&gt; ['Value is 1', 'Value is 3']
# }</pre>
 <a name="t92.3.2"></a><h2 id="_type_Hash.pod6-method_categorize-list">92.3.2 method categorize-list</h2>
 <p>Defined as:</p>
 <pre class="code">multi method categorize-list(&amp;mapper, *@list, :&amp;as --&gt; Hash:D)
multi method categorize-list(%mapper, *@list, :&amp;as --&gt; Hash:D)
multi method categorize-list(@mapper, *@list, :&amp;as --&gt; Hash:D)</pre>
 <p>Populates a <a href="#_type_Hash.pod6"><span class="code">Hash</span></a> by classifying the possibly-empty <span class="code">@list</span> of values using the given <span class="code">mapper</span>, optionally altering the values using the <span class="code">:&amp;as</span> <a href="#_type_Callable.pod6"><span class="code">Callable</span></a>. The <span class="code">@list</span> cannot be lazy.</p>
 <p>The mapper can be a <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> that takes a single argument, an <a href="#_type_Associative.pod6"><span class="code">Associative</span></a>, or an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a>. With <a href="#_type_Associative.pod6"><span class="code">Associative</span></a> and an <a href="#_type_Iterable.pod6"><span class="code">Iterable</span></a> mappers, the values in the <span class="code">@list</span> represent the key and index of the mapper's value respectively. A <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> mapper will be executed once per each item in the <span class="code">@list</span>, with that item as the argument and its return value will be used as the mapper's value.</p>
 <a name="t92.3.2.1"></a><h3 id="_type_Hash.pod6-Simple_Categorization">92.3.2.1 Simple Categorization</h3>
 <p>The mapper's value is expected to be a possibly empty list of non-<a href="#_type_Iterable.pod6"><span class="code">Iterables</span></a> that represent categories to place the value into:</p>
 <pre class="code">say % .categorize-list: {
    gather {
        take 'prime'   if .is-prime;
        take 'largish' if $_ &gt; 5;
        take $_ %% 2 ?? 'even' !! 'odd';
    }
}, ^10;

# OUTPUT:
# {
#     prime   =&gt; [2 3 5 7]
#     even    =&gt; [0 2 4 6 8],
#     odd     =&gt; [1 3 5 7 9],
#     largish =&gt; [6 7 8 9],
# }</pre>
 <p>Notice how some items, e.g. <span class="code">6</span> and <span class="code">7</span>, are present in several categories.</p>
 <a name="t92.3.2.2"></a><h3 id="_type_Hash.pod6-Multi-Level_Categorization">92.3.2.2 Multi-Level Categorization</h3>
 <p>In multi-level categorization, the categories produced by the mapper can are <a href="#_type_Iterable.pod6">Iterables</a> and categorization combines features of <a href="#_routine_classify.pod6">classify</a>, by producing nested hashes of classifications for each category.</p>
 <pre class="code">say % .categorize-list: {
    [
        $_ &gt; 5    ?? 'largish' !! 'smallish',
        .is-prime ?? 'prime'   !! 'non-prime',
    ],
}, ^10;

# OUTPUT:
# {
#     largish =&gt; {
#         non-prime =&gt; [6 8 9],
#         prime     =&gt; [7]
#     },
#     smallish =&gt; {
#         non-prime =&gt; [0 1 4],
#         prime     =&gt; [2 3 5]
#     }
# }</pre>
 <p>The mapper in above snippet produces single-item list (note the significant trailing comma) with a two-item <span class="code">Array</span> in it. The first item in that array indicates the first level of classification: the <span class="code">largish</span>/<span class="code">smallish</span> categories the routine produces. The second item in that array indicates further levels of classification, in our case the classification into <span class="code">prime</span>/<span class="code">non-prime</span> inside of each category.</p>
 <p><b>NOTE:</b> each of category <a href="#_type_Iterable.pod6"><span class="code">Iterables</span></a> must have the same number of elements, or the method will throw an exception. This restriction exists to avoid conflicts when the same key is a leaf of one value's classification but a node of another value's classification.</p>
 <a name="t92.3.2.3"></a><h3 id="_type_Hash.pod6-:&amp;as_value_modifier">92.3.2.3 <span class="code">:&amp;as</span> value modifier</h3>
 <p>If <span class="code">:&amp;as</span> <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> argument is specified, it will be called once per each item of <span class="code">@list</span>, with the value as the argument, and its return value will be used instead of the original <span class="code">@list</span>'s item:</p>
 <pre class="code">say % .categorize-list: :as{&quot;Value is $_&quot;}, { $_ %% 2 ?? 'even' !! 'odd' }, ^5;
# OUTPUT (slightly altered manually, for clarity):
# {
#     even =&gt; ['Value is 0', 'Value is 2', 'Value is 4'],
#     odd  =&gt; ['Value is 1', 'Value is 3']
# }</pre>
 <a name="t92.3.3"></a><h2 id="_type_Hash.pod6-method_push">92.3.3 method push</h2>
 <p>Defined as:</p>
 <pre class="code">multi method push(Hash:D: *@new)</pre>
 <p>Adds the <span class="code">@new</span> elements to the hash with the same semantics as hash assignment, but with three exceptions:</p>
 <ul><li><p>The hash isn't emptied first, i.e. old pairs are not deleted.</p>
</li></ul> <ul><li><p>If a key already exists in the hash, and the corresponding value is an <a href="#_type_Array.pod6">Array</a>, the new value is pushed onto the array (instead of replacing it).</p>
</li></ul> <ul><li><p>If a key already exists in the hash, and the corresponding value is not an <a href="#_type_Array.pod6">Array</a>, old and new value are both placed into an array in the place of the old value.</p>
</li></ul> <p>Example:</p>
 <pre class="code">my %h  = a =&gt; 1;
%h.push: (a =&gt; 1);                  # a =&gt; [1,1]
%h.push: (a =&gt; 1) xx 3 ;            # a =&gt; [1,1,1,1,1]
%h.push: (b =&gt; 3);                  # a =&gt; [1,1,1,1,1], b =&gt; 3
%h.push('c' =&gt; 4);                  # a =&gt; [1,1,1,1,1], b =&gt; 3, c =&gt; 4
push %h, 'd' =&gt; 5;                  # a =&gt; [1,1,1,1,1], b =&gt; 3, c =&gt; 4, d =&gt; 5</pre>
 <p>Please note that <span class="code">Pair</span>s or <a href="#_language_glossary.pod6-index-entry-Colon_Pair">colon pairs</a> as arguments to push will be treated as extra named arguments and as such wont end up the <span class="code">Hash</span>. The same applies to the sub <span class="code">push</span>.</p>
 <pre class="code">my %h .= push(e =&gt; 6);
push %h, f =&gt; 7;
say %h.perl;
# OUTPUT: «{}␤»</pre>
 <p>Also note that push can be used as a replacement for assignment during hash initialization very useful ways. Take for instance the case of an inverted index:</p>
 <pre class="code">my %wc = 'hash' =&gt; 323, 'pair' =&gt; 322, 'pipe' =&gt; 323;
(my %inv).push: %wc.invert;
say %inv;                           # OUTPUT: «{322 =&gt; pair, 323 =&gt; [pipe hash]}␤»</pre>
 <p>Note that such a initialization could also be written as</p>
 <pre class="code">my %wc = 'hash' =&gt; 323, 'pair' =&gt; 322, 'pipe' =&gt; 323;
my %inv .= push: %wc.invert;</pre>
 <p><b>Note:</b> Compared to <a href="#_routine_append.pod6"><span class="code">append</span></a>, <span class="code">push</span> will add the given value as is, whereas <span class="code">append</span> will <a href="#_routine_slip.pod6"><span class="code">slip</span></a> it in:</p>
 <pre class="code">my %ha = :a[42, ]; %ha.push: &quot;a&quot; =&gt; &lt;a b c a&gt;;
say %ha; # OUTPUT: «{a =&gt; [42 (a b c a)]}␤»

my %hb = :a[42, ]; %hb.append: &quot;a&quot; =&gt; &lt;a b c a&gt;;
say %hb; # OUTPUT: «{a =&gt; [42 a b c a]}␤»</pre>
 <a name="t92.3.4"></a><h2 id="_type_Hash.pod6-method_append">92.3.4 method append</h2>
 <p>Defined as:</p>
 <pre class="code">method append(+@values)</pre>
 <p>Append the provided Pairs or even sized list to the Hash. If a key already exists, turn the existing value into an <a href="#_type_Array.pod6">Array</a> and push new value onto that <span class="code">Array</span>. Please note that you can't mix even sized lists and lists of Pairs. Also, bare <span class="code">Pair</span>s or colon pairs will be treated as <a href="#_type_Signature.pod6-Positional_vs._Named">named arguments</a> to <span class="code">.append</span>.</p>
 <pre class="code">my %h = a =&gt; 1;
%h.append('b', 2, 'c', 3);
%h.append( %(d =&gt; 4) );
say %h;
# OUTPUT: «{a =&gt; 1, b =&gt; 2, c =&gt; 3, d =&gt; 4}␤»
%h.append('a', 2);
# OUTPUT: «{{a =&gt; [1 2], b =&gt; 2, c =&gt; 3, d =&gt; 4}␤»</pre>
 <p><b>Note:</b> Compared to <a href="#_routine_push.pod6"><span class="code">push</span></a>, <span class="code">append</span> will <a href="#_routine_slip.pod6"><span class="code">slip</span></a> in the given value, whereas <span class="code">push</span> will add it as is:</p>
 <pre class="code">my %hb = :a[42, ]; %hb.append: &quot;a&quot; =&gt; &lt;a b c a&gt;;
say %hb; # OUTPUT: «{a =&gt; [42 a b c a]}␤»

my %ha = :a[42, ]; %ha.push: &quot;a&quot; =&gt; &lt;a b c a&gt;;
say %ha; # OUTPUT: «{a =&gt; [42 (a b c a)]}␤»</pre>
 <a name="t92.3.5"></a><h2 id="_type_Hash.pod6-method_default">92.3.5 method default</h2>
 <p>Defined as:</p>
 <pre class="code">method default()</pre>
 <p>Returns the default value of the invocant, i.e. the value which is returned when a non existing key is used to access an element in the <span class="code">Hash</span>. Unless the <span class="code">Hash</span> is declared as having a default value by using the <a href="#_routine_is default (Variable).pod6">is default</a> trait the method returns the type object <span class="code">(Any)</span>.</p>
 <pre class="code">my %h1 = 'apples' =&gt; 3, 'oranges' =&gt; 7;
say %h1.default;                                       # OUTPUT: «(Any)␤»
say %h1{'bananas'};                                    # OUTPUT: «(Any)␤»

my %h2 is default(1) = 'apples' =&gt; 3, 'oranges' =&gt; 7;
say %h2.default;                                       # OUTPUT: «1␤»
say %h2{'apples'} + %h2{'bananas'};                    # OUTPUT: «4␤»</pre>
 <a name="t92.3.6"></a><h2 id="_type_Hash.pod6-method_keyof">92.3.6 method keyof</h2>
 <p>Defined as:</p>
 <pre class="code">method keyof()</pre>
 <p>Returns the type constraint for the keys of the invocant. For normal hashes the method returns the coercion type <span class="code">(Str(Any))</span> while for <a href="#_type_Hash.pod6-Non-string_keys">non-string keys</a> hashes the type used in the declaration of the <span class="code">Hash</span> is returned.</p>
 <pre class="code">my %h1 = 'apples' =&gt; 3, 'oranges' =&gt; 7;  # (no key type specified)
say %h1.keyof;                           # OUTPUT: «(Str(Any))␤»

my %h2{Str} = 'oranges' =&gt; 7;            # (keys must be of type Str)
say %h2.keyof;                           # (Str)
%h2{3} = 'apples';                       # throws exception
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Binding: Type check failed in binding to key; expected Str but got Int (3)␤»

my %h3{Int};                             # (this time, keys must be of type Int)
%h3{42} = 4096;
say %h3.keyof;                           # (Int)</pre>
 <a name="t92.3.7"></a><h2 id="_type_Hash.pod6-method_of">92.3.7 method of</h2>
 <p>Defined as:</p>
 <pre class="code">method of()</pre>
 <p>Returns the type constraint for the values of the invocant. By default, i.e. if no type constraint is given during declaration, the method returns <span class="code">(Mu)</span>.</p>
 <pre class="code">my %h1 = 'apples' =&gt; 3, 'oranges' =&gt; 7;  # (no type constraint specified)
say %h1.of;                              # OUTPUT: «(Mu)␤»

my Int %h2 = 'oranges' =&gt; 7;             # (values must be of type Int)
say %h2.of;                              # OUTPUT: «(Int)␤»</pre>
 <a name="t92.3.8"></a><h2 id="_type_Hash.pod6-routine_dynamic">92.3.8 routine dynamic</h2>
 <p>Defined as:</p>
 <pre class="code">method dynamic(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant has been declared with the <a href="#_routine_is dynamic.pod6">is dynamic</a> trait.</p>
 <pre class="code">my %a;
say %a.dynamic;                          # OUTPUT: «False␤»

my %b is dynamic;
say %b.dynamic;                          # OUTPUT: «True␤»</pre>
 <p>If you declare a variable with the <span class="code">*</span> twigil <span class="code">is dynamic</span> is implied.</p>
 <pre class="code">my %*b;
say %*b.dynamic;                         # OUTPUT: «True␤»</pre>
 <p>Note that in the <a href="#_type_Scalar.pod6">Scalar</a> case you have to use the <span class="code">VAR</span> method in order to get correct information.</p>
 <pre class="code">my $s is dynamic = %('apples' =&gt; 5);
say $s.dynamic;                          # OUTPUT: «False␤»  (wrong, don't do this)
say $s.VAR.dynamic;                      # OUTPUT: «True␤»   (correct approach)</pre>
 <a name="t92.4"></a><h1 id="_type_Hash.pod6-Subscript_Adverbs">92.4 Subscript Adverbs</h1>
 <p>Some methods are implemented as adverbs on subscripts (consult the <a href="#_language_operators.pod6-postcircumfix_{_}">operators</a> documentation for more information).</p>
 <a name="t92.4.1"></a><h2 id="_type_Hash.pod6-:exists">92.4.1 <span class="code">:exists</span></h2>
 <p>The adverb <span class="code">:exists</span> returns <span class="code">Bool::True</span> if a key exists in the Hash. If more than one key is supplied it returns a <span class="code">List</span> of <span class="code">Bool</span>.</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2;
say %h&lt;a&gt;:exists;   # OUTPUT: «True␤»
say %h&lt;a b&gt;:exists; # OUTPUT: «(True True)␤»</pre>
 <a name="t92.4.2"></a><h2 id="_type_Hash.pod6-:delete">92.4.2 <span class="code">:delete</span></h2>
 <p>Use <span class="code">:delete</span> to remove a <span class="code">Pair</span> from the <span class="code">Hash</span>.</p>
 <pre class="code">my %h = a =&gt; 1;
say %h;         # OUTPUT: «{a =&gt; 1}␤»
say %h.elems;   # OUTPUT: «1␤»

%h&lt;a&gt;:delete;
say %h;         # OUTPUT: «{}␤»
say %h.elems;   # OUTPUT: «0␤»</pre>
 <a name="t92.4.3"></a><h2 id="_type_Hash.pod6-:p">92.4.3 <span class="code">:p</span></h2>
 <p>The adverb <span class="code">:p</span> returns a <span class="code">Pair</span> or a List of <span class="code">Pair</span> instead of just the value.</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2;
say %h&lt;a&gt;:p;    # OUTPUT: «a =&gt; 1␤»
say %h&lt;a b&gt;:p;  # OUTPUT: «(a =&gt; 1 b=&gt; 2)␤»</pre>
 <a name="t92.4.4"></a><h2 id="_type_Hash.pod6-:v_and_:k">92.4.4 <span class="code">:v</span> and <span class="code">:k</span></h2>
 <p>The adverbs <span class="code">:v</span> and <span class="code">:k</span> return the key or value or a list thereof.</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2;
say %h&lt;a&gt;:k;    # OUTPUT: «a␤»
say %h&lt;a b&gt;:k;  # OUTPUT: «(a b)␤»</pre>
 <p>The adverb <span class="code">:kv</span> returns a list of keys and values.</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2, c =&gt; 3;
say %h&lt;a c&gt;:kv;  # OUTPUT: «(a 1 c 3)␤»</pre>
 <p>You can also use the adverbs without knowing anything about the hash by using empty angle brackets in which case all the keys and values will be listed:</p>
 <pre class="code">my %h1 = a =&gt; 1;
my %h2 = a =&gt; 1, b =&gt; 2;
say %h1&lt;&gt;:k; # OUTPUT: «(a)␤»
say %h1&lt;&gt;:v; # OUTPUT: «(1)␤»
say %h2&lt;&gt;:k; # OUTPUT: «(a b)␤»
say %h2&lt;&gt;:v; # OUTPUT: «(1 2)␤»</pre>
</div>
<!-- /type/HyperWhatever.pod6 --><div class="pod-body"><a id="_type_HyperWhatever.pod6"></a><a name="t93"><h1 class="title">93 class HyperWhatever</h1></a> <p class="subtitle">Placeholder for multiple unspecified values/arguments</p> <pre class="code">class HyperWhatever { }</pre>
 <p><span class="code">HyperWhatever</span> is very similar in functionality to <a href="#_type_Whatever.pod6">Whatever</a>. The difference lies in <span class="code">HyperWhatever</span> standing in for <i>multiple</i> values, rather than a single one.</p>
 <a name="t93.1"></a><h1 id="_type_HyperWhatever.pod6-STANDALONE_TERM">93.1 STANDALONE TERM</h1>
 <p>Just like with <a href="#_type_Whatever.pod6">Whatever</a>, if a <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> is used as a term on its own, no currying is done and the <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> object will be used as-is:</p>
 <pre class="code">sub foo ($arg) { say $arg.^name }
foo **; # OUTPUT: «HyperWhatever␤»</pre>
 <p>You can choose to interpret such a value as standing for multiple values in your own routines. In core, a <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> can be used with this meaning when smartmatching with <a href="#_type_List.pod6">Lists</a>:</p>
 <pre class="code">say (1, 8)                ~~ (1, **, 8); # OUTPUT: «True␤»
say (1, 2, 4, 5, 6, 7, 8) ~~ (1, **, 8); # OUTPUT: «True␤»
say (1, 2, 8, 9)          ~~ (1, **, 8); # OUTPUT: «False␤»</pre>
 <p>Wherever a <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> appears in the list on the right-hand side means any number of elements can fill that space in the list being smartmatched.</p>
 <a name="t93.2"></a><h1 id="_type_HyperWhatever.pod6-CURRYING">93.2 CURRYING</h1>
 <p>When it comes to currying, the <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> follows the same rules as <a href="#_type_Whatever.pod6">Whatever</a>. The only difference is <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> produces a <a href="#_type_Callable.pod6">Callable</a> with a <a href="#_syntax_*@.pod6"><span class="code">*@</span>  slurpy</a> as a signature:</p>
 <pre class="code">say (**²)(1, 2, 3, 4, 5); # OUTPUT: «(1 4 9 16 25)␤»</pre>
 <p>A <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> closure can be imagined as a <a href="#_type_WhateverCode.pod6"><span class="code">Whatever</span>  closure</a> with another sub wrapped around it that simply maps each element in the arguments over:</p>
 <pre class="code">my &amp;hyper-whatever = sub (*@args) { map *², @args }
say hyper-whatever(1, 2, 3, 4, 5); # OUTPUT: «(1 4 9 16 25)␤»</pre>
 <p>When currying, mixing <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> with <a href="#_type_Whatever.pod6">Whatever</a> is not permitted.</p>
</div>
<!-- /type/IO.pod6 --><div class="pod-body"><a id="_type_IO.pod6"></a><a name="t94"><h1 class="title">94 role IO</h1></a> <p class="subtitle">Input/output related routines</p> <p>The role provides no methods, but exists so that <span class="code">IO()</span> coercers, which coerce to <a href="#_type_IO::Path.pod6">IO::Path</a>, correctly type-check the resultant value. The role is done by <a href="#_type_IO::Path.pod6">IO::Path</a> and <a href="#_type_IO::Special.pod6">IO::Special</a>.</p>
 <a name="t94.1"></a><h1 id="_type_IO.pod6-Routines">94.1 Routines</h1>
 <a name="t94.1.1"></a><h2 id="_type_IO.pod6-sub_mkdir">94.1.1 sub mkdir</h2>
 <p>Defined as:</p>
 <pre class="code">sub    mkdir(IO() $path, Int() $mode = 0o777 --&gt; IO::Path:D)</pre>
 <p>Creates a new directory; see <a href="#_routine_mode.pod6"><span class="code">mode</span></a> for explanation and valid values for <span class="code">$mode</span>. Returns the <a href="#_type_IO::Path.pod6">IO::Path</a> object pointing to the newly created directory on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Mkdir.pod6">X::IO::Mkdir</a> if directory cannot be created.</p>
 <p>Also creates parent directories, as needed (similar to *nix utility <span class="code">mkdir</span> with <span class="code">-p</span> option); that is, <span class="code">mkdir &quot;foo/bar/ber/meow&quot;</span> will create <span class="code">foo</span>, <span class="code">foo/bar</span>, and <span class="code">foo/bar/ber</span> directories if they do not exist, as well as <span class="code">foo/bar/ber/meow</span>.</p>
 <a name="t94.1.2"></a><h2 id="_type_IO.pod6-sub_chdir">94.1.2 sub chdir</h2>
 <p>Defined as:</p>
 <pre class="code">sub chdir(IO() $path, :$d = True, :$r, :$w, :$x --&gt; IO::Path:D)</pre>
 <p>Changes value of <span class="code">$*CWD</span> variable to the provided <span class="code">$path</span>, optionally ensuring the new path passes several file tests. <b>NOTE:</b> that this routine does <i>NOT</i> alter the process's current directory (see <a href="#_routine_&amp;*chdir.pod6"><span class="code">&amp;*chdir</span></a>).</p>
 <p>Returns <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> representing new <span class="code">$*CWD</span> on success. On failure, returns <a href="#_type_Failure.pod6"><span class="code">Failure</span></a> and leaves <span class="code">$*CWD</span> untouched. The <span class="code">$path</span> can be any object with an IO method that returns an <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object. The available file tests are:</p>
 <ul><li><p><span class="code">:d</span> — check <a href="#_routine_d.pod6"><span class="code">.d</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:r</span> — check <a href="#_routine_d.pod6"><span class="code">.r</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:w</span> — check <a href="#_routine_d.pod6"><span class="code">.w</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:x</span> — check <a href="#_routine_d.pod6"><span class="code">.x</span></a> returns <span class="code">True</span></p>
</li></ul> <p>By default, only <span class="code">:d</span> test is performed.</p>
 <pre class="code">chdir         '/tmp'; # change $*CWD to '/tmp' and check its .d is True 
 chdir :r, :w, '/tmp'; # … check its .r and .w are True 
 chdir '/not-there';   # returns Failure 
</pre>
 <p>Note that the following construct is a mistake:</p>
 <pre class="code"># WRONG! DO NOT DO THIS! 
 my $*CWD = chdir '/tmp/'; 
</pre>
 <p>Use <a href="#_routine_indir.pod6"><span class="code">indir</span></a> instead.</p>
 <a name="t94.1.3"></a><h2 id="_type_IO.pod6-sub_&amp;*chdir">94.1.3 sub &amp;*chdir</h2>
 <p>Defined as:</p>
 <pre class="code">PROCESS:&lt;&amp;chdir&gt; = sub (IO() $path --&gt; IO::Path:D) 
</pre>
 <p>Changes value of <span class="code">$*CWD</span> variable to the provided <span class="code">$path</span> and sets the process's current directory to the value of <a href="#_routine_absolute.pod6"><span class="code">$path.absolute</span></a>. <b>NOTE:</b> that in most cases, you want to use <a href="#_routine_chdir.pod6"><span class="code">chdir</span></a> routine instead.</p>
 <p>Returns <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> representing new <span class="code">$*CWD</span> on success. On failure, returns <a href="#_type_Failure.pod6"><span class="code">Failure</span></a> and leaves <span class="code">$*CWD</span> untouched. The <span class="code">$path</span> can be any object with an IO method that returns an <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object.</p>
 <p>Note that unlike regular <a href="#_routine_chdir.pod6"><span class="code">chdir</span></a>, there are no arguments to specify which file tests to perform.</p>
 <pre class="code">&amp;*chdir('/tmp');  # change $*CWD and process's current directory to '/tmp' 
 &amp;*chdir('/not-there'); # returns Failure 
</pre>
 <p>Note that the following construct is a mistake:</p>
 <pre class="code"># WRONG! DO NOT DO THIS! 
 my $*CWD = &amp;*chdir('/tmp'); 
</pre>
 <p>Use the following, instead; or see <a href="#_routine_indir.pod6"><span class="code">indir</span></a> if you do not need to change process's current directory:</p>
 <pre class="code">temp $*CWD; 
 &amp;*chdir('/tmp'); 
</pre>
 <a name="t94.1.4"></a><h2 id="_type_IO.pod6-sub_chmod">94.1.4 sub chmod</h2>
 <p>Defined as:</p>
 <pre class="code">sub chmod(Int() $mode, *@filenames --&gt; List)</pre>
 <p>Coerces all <span class="code">@filenames</span> to <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> and calls <a href="#_type_IO::Path.pod6-method_chmod"><span class="code">IO::Path.chmod</span></a> with <span class="code">$mode</span> on them. Returns a <a href="#_type_List.pod6"><span class="code">List</span></a> containing a subset of <span class="code">@filenames</span> for which <span class="code">chmod</span> was successfully executed.</p>
 <pre class="code">chmod 0o755, &lt;myfile1  myfile2&gt;; # make two files executable by the owner</pre>
 <a name="t94.1.5"></a><h2 id="_type_IO.pod6-sub_indir">94.1.5 sub indir</h2>
 <p>Defined as:</p>
 <pre class="code">sub indir(IO() $path, &amp;code, :$d = True, :$r, :$w, :$x --&gt; Mu)</pre>
 <p>Takes <a href="#_type_Callable.pod6"><span class="code">Callable</span></a> <span class="code">&amp;code</span> and executes it after locally (to <span class="code">&amp;code</span>) changing <span class="code">$*CWD</span> variable to an <a href="#_type_IO::Path.pod6">IO::Path</a> object based on <span class="code">$path</span>, optionally ensuring the new path passes several file tests. If <span class="code">$path</span> is relative, it will be turned into an absolute path, even if an <a href="#_type_IO::Path.pod6">IO::Path</a> object was given. <b>NOTE:</b> that this routine does <i>NOT</i> alter the process's current directory (see <a href="#_routine_&amp;*chdir.pod6"><span class="code">&amp;*chdir</span></a>). The <span class="code">$*CWD</span> outside of the <span class="code">&amp;code</span> is not affected, even if <span class="code">&amp;code</span> explicitly assigns a new value to <span class="code">$*CWD</span>.</p>
 <p>Returns the return value of <span class="code">&amp;code</span> on success. On failure to successfully change <span class="code">$*CWD</span>, returns <a href="#_type_Failure.pod6"><span class="code">Failure</span></a>. <b>WARNING:</b> keep in mind that lazily evaluated things might end up NOT having the <span class="code">$*CWD</span> set by <span class="code">indir</span> in their dynamic scope by the time they're actually evaluated. Either ensure the generators have their <span class="code">$*CWD</span> set or <a href="#_routine_eager.pod6">eagerly evaluate</a> them before returning the results from <span class="code">indir</span>:</p>
 <pre class="code">say indir(&quot;/tmp&quot;, {
    gather { take &quot;.&quot;.IO }
})».CWD; # OUTPUT: «(/home/camelia)␤»

say indir(&quot;/tmp&quot;, {
    eager gather { take &quot;.&quot;.IO }
})».CWD; # OUTPUT: «(/tmp)␤»

say indir(&quot;/tmp&quot;, {
    my $cwd = $*CWD;
    gather { temp $*CWD = $cwd; take &quot;.&quot;.IO }
})».CWD; # OUTPUT: «(/tmp)␤»</pre>
 <p>The routine's <span class="code">$path</span> argument can be any object with an IO method that returns an <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object. The available file tests are:</p>
 <ul><li><p><span class="code">:d</span> — check <a href="#_routine_d.pod6"><span class="code">.d</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:r</span> — check <a href="#_routine_d.pod6"><span class="code">.r</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:w</span> — check <a href="#_routine_d.pod6"><span class="code">.w</span></a> returns <span class="code">True</span></p>
</li></ul> <ul><li><p><span class="code">:x</span> — check <a href="#_routine_d.pod6"><span class="code">.x</span></a> returns <span class="code">True</span></p>
</li></ul> <p>By default, only <span class="code">:d</span> test is performed.</p>
 <pre class="code">say $*CWD;                   # OUTPUT: «&quot;/home/camelia&quot;.IO␤»
indir '/tmp', { say $*CWD }; # OUTPUT: «&quot;/tmp&quot;.IO␤»
say $*CWD;                   # OUTPUT: «&quot;/home/camelia&quot;.IO␤»

indir '/not-there', {;};     # returns Failure; path does not exist</pre>
 <a name="t94.1.6"></a><h2 id="_type_IO.pod6-sub_print">94.1.6 sub print</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub print(**@args --&gt; True)
multi sub print(Junction:D --&gt; True)</pre>
 <p>Prints the given text on standard output (the <a href="#_language_variables.pod6-index-entry-%24%2AOUT"><span class="code">$*OUT</span></a> file handle), coercing non-<a href="#_type_Str.pod6">Str</a> objects to <a href="#_type_Str.pod6">Str</a> by calling <a href="#_routine_Str.pod6"><span class="code">.Str</span>  method</a>. <a href="#_type_Junction.pod6">Junction</a> arguments <a href="#_language_glossary.pod6-index-entry-Autothreading">autothread</a> and the order of printed strings is not guaranteed.</p>
 <pre class="code">print &quot;Hi there!\n&quot;;   # OUTPUT: «Hi there!␤»
print &quot;Hi there!&quot;;     # OUTPUT: «Hi there!»
print [1, 2, 3];       # OUTPUT: «1 2 3»</pre>
 <p>To print text and include the trailing newline, use <a href="#_type_IO.pod6-sub_put"><span class="code">put</span></a>.</p>
 <a name="t94.1.7"></a><h2 id="_type_IO.pod6-sub_put">94.1.7 sub put</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub put(**@args --&gt; True)
multi sub put(Junction:D --&gt; True)</pre>
 <p>Same as <a href="#_type_IO.pod6-sub_print"><span class="code">print</span></a>, except appends <a href="#_type_IO::Handle.pod6-method_nl-out"><span class="code">$*OUT.nl-out</span></a> (a newline, by default) at the end. <a href="#_type_Junction.pod6">Junction</a> arguments <a href="#_language_glossary.pod6-index-entry-Autothreading">autothread</a> and the order of printed strings is not guaranteed.</p>
 <pre class="code">put &quot;Hi there!\n&quot;;   # OUTPUT: «Hi there!␤␤»
put &quot;Hi there!&quot;;     # OUTPUT: «Hi there!␤»
put [1, 2, 3];       # OUTPUT: «1 2 3␤»</pre>
 <a name="t94.1.8"></a><h2 id="_type_IO.pod6-sub_say">94.1.8 sub say</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub say(**@args --&gt; True)</pre>
 <p>Prints the &quot;gist&quot; of given objects. Same as <a href="#_type_IO.pod6-sub_put"><span class="code">put</span></a>, except uses <a href="#_routine_gist.pod6"><span class="code">.gist</span></a> method to obtain string representation of the object.</p>
 <p><b>NOTE:</b> the <a href="#_routine_gist.pod6"><span class="code">.gist</span></a> method of some objects, such as <a href="#_type_List.pod6-method_gist">Lists</a>, returns only <b>partial</b> information about the object (hence the &quot;gist&quot;). If you mean to print textual information, you most likely want to use <a href="#_type_IO.pod6-sub_put"><span class="code">put</span></a> instead.</p>
 <pre class="code">say Range;        # OUTPUT: «(Range)␤»
say class Foo {}; # OUTPUT: «(Foo)␤»
say 'I ♥ Perl6';  # OUTPUT: «I ♥ Perl6␤»
say 1..Inf;       # OUTPUT: «1..Inf␤»</pre>
 <a name="t94.1.9"></a><h2 id="_type_IO.pod6-routine_note">94.1.9 routine note</h2>
 <p>Defined as:</p>
 <pre class="code">method note(Mu: --&gt;Bool:D)
multi sub note(            --&gt; Bool:D)
multi sub note(Str:D $note --&gt; Bool:D)
multi sub note(**@args     --&gt; Bool:D)</pre>
 <p>Like <a href="#_routine_say.pod6"><span class="code">say</span></a>, except prints output to <a href="#_language_variables.pod6-index-entry-%24%2AERR"><span class="code">$*ERR</span></a> handle (STDERR). If no arguments are given to subroutine forms, will use string <span class="code">&quot;Noted&quot;</span>.</p>
 <pre class="code">note;       # STDERR OUTPUT: «Noted␤» 
 note 'foo'; # STDERR OUTPUT: «foo␤» 
 note 1..*;  # STDERR OUTPUT: «1..Inf␤» 
</pre>
 <a name="t94.1.10"></a><h2 id="_type_IO.pod6-sub_prompt">94.1.10 sub prompt</h2>
 <pre class="code">multi prompt()
multi prompt($msg)</pre>
 <p><a href="#_routine_print.pod6">Prints</a> <span class="code">$msg</span> to <span class="code">$*OUT</span> handle, if <span class="code">$msg</span> was provided, then <a href="#_routine_get.pod6">gets</a> a line of input from <span class="code">$*IN</span> handle. By default, this is equivalent to printing <span class="code">$msg</span> to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_output_.28stdout.29">STDOUT</a>, reading a line from <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_input_.28stdin.29">STDIN</a>, removing the trailing new line, and returning the resultant string.</p>
 <pre class="code">my $name = prompt &quot;What's your name? &quot;; 
 say &quot;Hi, $name! Nice to meet you!&quot;; 
</pre>
 <a name="t94.1.11"></a><h2 id="_type_IO.pod6-sub_open">94.1.11 sub open</h2>
 <pre class="code">multi sub open(IO() $path, |args --&gt; IO::Handle:D)</pre>
 <p>Creates <a href="#_type_IO::Handle.pod6">a handle</a> with the given <span class="code">$path</span>, and calls <a href="#_type_IO::Handle.pod6"><span class="code">IO::Handle.open</span></a>, passing any of the remaining arguments to it. Note that <a href="#_type_IO::Path.pod6">IO::Path</a> type provides numerous methods for reading and writing from files, so in many common cases you do not need to <span class="code">open</span> files or deal with <a href="#_type_IO::Handle.pod6">IO::Handle</a> type directly.</p>
 <pre class="code">my $fh = open :w, '/tmp/some-file.txt'; 
 $fh.say: 'I ♥ writing Perl code'; 
 $fh.close; 
 
 $fh = open '/tmp/some-file.txt'; 
 print $fh.readchars: 4; 
 $fh.seek: 7, SeekFromCurrent; 
 say $fh.readchars: 4; 
 $fh.close; 
 
 # OUTPUT: «I ♥ Perl␤» 
</pre>
 <a name="t94.1.12"></a><h2 id="_type_IO.pod6-sub_slurp">94.1.12 sub slurp</h2>
 <p>Slurps the contents of the entire file into a <span class="code">Str</span> (or <span class="code">Buf</span> if <span class="code">:bin</span>). Accepts <span class="code">:bin</span> and <span class="code">:enc</span> optional named parameters, with the same meaning as <a href="#_routine_open.pod6">open()</a>. The routine will <span class="code">fail</span> if the file does not exist, or is a directory.</p>
 <pre class="code"># read entire file as (Unicode) Str 
 my $text_contents   = slurp &quot;path/to/file&quot;; 
 
 # read entire file as Latin1 Str 
 my $text_contents   = slurp &quot;path/to/file&quot;, enc =&gt; &quot;latin1&quot;; 
 
 # read entire file as Buf 
 my $binary_contents = slurp &quot;path/to/file&quot;, :bin; 
</pre>
 <a name="t94.1.13"></a><h2 id="_type_IO.pod6-sub_spurt">94.1.13 sub spurt</h2>
 <p>Defined as:</p>
 <pre class="code">multi spurt(IO() $path, |c)</pre>
 <p>The <span class="code">$path</span> can be any object with an IO method that returns an <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> object. Calls <a href="#_routine_spurt.pod6"><span class="code">IO::Path.spurt</span></a> on the <span class="code">$path</span>, forwarding any of the remaining arguments.</p>
 <a name="t94.1.13.1"></a><h3 id="_type_IO.pod6-Options">94.1.13.1 Options</h3>
 <ul><li><p>:enc</p>
</li></ul> <p>The encoding with which the contents will be written.</p>
 <ul><li><p>:bin</p>
</li></ul> <p>Open the file in binary mode.</p>
 <ul><li><p>:append</p>
</li></ul> <p>Boolean indicating whether to append to a (potentially) existing file. If the file did not exist yet, it will be created. Defaults to <span class="code">False</span>.</p>
 <ul><li><p>:createonly</p>
</li></ul> <p>Boolean indicating whether to fail if the file already exists. Defaults to <span class="code">False</span>.</p>
 <a name="t94.1.13.2"></a><h3 id="_type_IO.pod6-Examples">94.1.13.2 Examples</h3>
 <pre class="code"># write directly to a file 
 spurt 'path/to/file', 'default text, directly written'; 
 
 # write directly with a non-Unicode encoding 
 spurt 'path/to/latin1_file', 'latin1 text: äöüß', :enc&lt;latin1&gt;; 
 
 spurt 'file-that-already-exists', 'some text';           # overwrite file's contents: 
 spurt 'file-that-already-exists', ' new text', :append;  # append to file's contents: 
 say slurp 'file-that-already-exists';                    # OUTPUT: «some text new text␤» 
 
 # fail when writing to a pre-existing file 
 spurt 'file-that-already-exists', 'new text', :createonly; 
 # OUTPUT: «Failed to open file /home/camelia/file-that-already-exists: file already exists …» 
</pre>
 <a name="t94.1.14"></a><h2 id="_type_IO.pod6-sub_run">94.1.14 sub run</h2>
 <pre class="code">sub run(*@args ($, *@) --&gt; Proc)</pre>
 <p>Runs an external command without involving a shell and returns a <a href="#_type_Proc.pod6">Proc</a> object.</p>
 <pre class="code">run 'touch', '&gt;foo.txt'; # Create a file named &gt;foo.txt

run &lt;&lt;rm &gt;foo.txt&gt;&gt;; # Another way to use run, using word quoting for the
                     # arguments</pre>
 <p>If you want to pass some variables you can still use <span class="code">&lt; &gt;</span>, but try to avoid using <span class="code">« »</span> as it will do word splitting if you forget to quote variables:</p>
 <pre class="code">my $file = ‘--my arbitrary filename’;
run ‘touch’, ‘--’, $file;  # RIGHT
run &lt;touch --&gt;, $file;     # RIGHT

run «touch -- &quot;$file&quot;»;    # RIGHT but WRONG if you forget quotes
run «touch -- $file»;      # WRONG; touches ‘--my’, ‘arbitrary’ and ‘filename’
run ‘touch’, $file;        # WRONG; error from `touch`
run «touch &quot;$file&quot;»;       # WRONG; error from `touch`</pre>
 <p>Note that <span class="code">--</span> is required for many programs to disambiguate between command-line arguments and <a href="http://mywiki.wooledge.org/BashPitfalls#Filenames_with_leading_dashes">filenames that begin with hyphens</a>.</p>
 <p>A sunk <a href="#_type_Proc.pod6">Proc</a> object for a process that <a href="#_routine_exitcode.pod6">exited</a> unsuccessfully will throw. If you wish to ignore such failures, simply use <a href="#_routine_run.pod6">run</a> in non-sink context:</p>
 <pre class="code">run 'false';     # SUNK! Will throw
run('false').so; # OK. Evaluates Proc in Bool context; no sinking</pre>
 <p>To capture output or error you can use the <span class="code">:out</span> or <span class="code">:err</span> arguments respectively:</p>
 <pre class="code">my $proc = run 'echo', 'Perl 6 is Great!', :out, :err;
$proc.out.slurp(:close).say; # OUTPUT: «Perl 6 is Great!␤»
$proc.err.slurp(:close).say; # OUTPUT: «␤»</pre>
 <p>See <a href="#_type_Proc.pod6">Proc</a> and <a href="#_type_Proc::Async.pod6">Proc::Async</a> for more details.</p>
 <a name="t94.1.15"></a><h2 id="_type_IO.pod6-sub_shell">94.1.15 sub shell</h2>
 <pre class="code">sub shell($cmd --&gt; Proc)</pre>
 <p>Runs a command through the system shell. All shell meta characters are interpreted by the shell, including pipes, redirects, environment variable substitutions and so on. Shell escapes are a severe security concern and can cause confusion with unusual file names. Use <a href="#_type_IO.pod6-sub_run">run</a> if you want to be safe.</p>
 <p>The return value is of <a href="#_type_Proc.pod6">type Proc</a>.</p>
 <pre class="code">shell 'ls -lR | gzip -9 &gt; ls-lR.gz';</pre>
 <p>See <a href="#_type_Proc.pod6">Proc</a> for more details, for example on how to capture output.</p>
 <a name="t94.2"></a><h1 id="_type_IO.pod6-Related_classes">94.2 Related classes</h1>
 <p>See also the related classes <a href="#_type_IO::Handle.pod6">IO::Handle</a> and <a href="#_type_IO::Path.pod6">IO::Path</a>.</p>
</div>
<!-- /type/IO/ArgFiles.pod6 --><div class="pod-body"><a id="_type_IO_ArgFiles.pod6"></a><a name="t95"><h1 class="title">95 class IO::ArgFiles</h1></a> <p class="subtitle">Iterate over contents of files specified on command line</p> <pre class="code">class IO::ArgFiles is IO::CatHandle { }</pre>
 <p>This class exists for backwards compatibility reasons and provides no methods. All the functionality is inherited from <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a>.</p>
 <a name="t95.1"></a><h1 id="_type_IO_ArgFiles.pod6-Variables">95.1 Variables</h1>
 <a name="t95.1.1"></a><h2 id="_type_IO_ArgFiles.pod6-$*ARGFILES">95.1.1 <span class="code">$*ARGFILES</span></h2>
 <p>This class is the magic behind the <span class="code">$*ARGFILES</span> variable. This variable provides a way to iterate over files passed in to the program on the command line. Thus the examples above can be simplified like so:</p>
 <pre class="code">use v6.c;

.say for $*ARGFILES.lines;

# or
while ! $*ARGFILES.eof {
    say $*ARGFILES.get;
}

# or
say $*ARGFILES.slurp;</pre>
 <p>Save one of the variations in a file, say <span class="code">argfiles.p6</span>. Then create another file (named, say <span class="code">sonnet18.txt</span> with the contents:</p>
 <pre class="code">Shall I compare thee to a summer's day? 
</pre>
 <p>Running the command</p>
 <pre class="code">$ perl6 argfiles.p6 sonnet18.txt 
</pre>
 <p>will then give the output</p>
 <pre class="code">Shall I compare thee to a summer's day? 
</pre>
</div>
<!-- /type/IO/CatHandle.pod6 --><div class="pod-body"><a id="_type_IO_CatHandle.pod6"></a><a name="t96"><h1 class="title">96 class IO::CatHandle</h1></a> <p class="subtitle">Use multiple IO handles as if they were one</p> <pre class="code">class IO::CatHandle is IO::Handle { }</pre>
 <p><i>(available in Rakudo since version 2017.06)</i></p>
 <p>The <span class="code">IO::CatHandle</span> class provides a means to create an <a href="#_type_IO::Handle.pod6">IO::Handle</a> that seamlessly gathers input from multiple <a href="#_type_IO::Handle.pod6">IO::Handle</a> and <a href="#_type_IO::Pipe.pod6">IO::Pipe</a> sources.</p>
 <p>All of the <a href="#_type_IO::Handle.pod6">IO::Handle</a>'s methods are implemented, and while attempt to use write methods will (currently) throw, an <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> is usable anywhere a read-only <a href="#_type_IO::Handle.pod6">IO::Handle</a> can be used.</p>
 <a name="t96.1"></a><h1 id="_type_IO_CatHandle.pod6-Methods">96.1 Methods</h1>
 <a name="t96.1.1"></a><h2 id="_type_IO_CatHandle.pod6-method_new">96.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">method new(*@handles, :&amp;on-switch, :$chomp = True, :$nl-in = [&quot;\n&quot;, &quot;\r\n&quot;], Str :$encoding, Bool :$bin)</pre>
 <p>Creates a new <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> object.</p>
 <p>The <span class="code">@handles</span> positional argument indicates a source of handles for the <span class="code">IO::CatHandle</span> to read from and can a mixed collection of <a href="#_type_Cool.pod6">Cool</a>, <a href="#_type_IO::Path.pod6">IO::Path</a>, and <a href="#_type_IO::Handle.pod6">IO::Handle</a> (including <a href="#_type_IO::Pipe.pod6">IO::Pipe</a>) objects. As input from <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> is processed (so operations won't happen during <span class="code">.new</span> call, but only when <span class="code">@handles</span>' data is needed), it will walk through <span class="code">@handles</span> list, processing each argument as follows: the <a href="#_type_Cool.pod6">Cool</a> objects will be coerced to <a href="#_type_IO::Path.pod6">IO::Path</a>; <a href="#_type_IO::Path.pod6">IO::Path</a> objects will be opened for reading using the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a>'s (invocant's) attributes for <a href="#_routine_open.pod6"><span class="code">open</span></a> calls; un-opened <a href="#_type_IO::Handle.pod6">IO::Handle</a> objects will be opened in the same fashion as <a href="#_type_IO::Path.pod6">IO::Path</a> objects; and already opened <a href="#_type_IO::Handle.pod6">IO::Handle</a> objects will have all of their attributes set to the attributes of the invocant <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a>. In short, all the <span class="code">@handles</span> end up as <a href="#_type_IO::Handle.pod6">IO::Handle</a> objects opened in the same mode and with the same attributes as the invocant <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a>.</p>
 <p>See <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">.on-switch</span>  method</a> for details on the <span class="code">:&amp;on-switch</span> named argument, which by default is not set.</p>
 <p>The <a href="#_type_IO::CatHandle.pod6-method_encoding"><span class="code">:$encoding</span></a> specifies the handle's encoding and accepts the same values as <a href="#_type_IO::Handle.pod6-method_encoding"><span class="code">IO::Handle.encoding</span></a>. Set <span class="code">:$bin</span> named argument to <span class="code">True</span> if you wish the handle to be in binary mode. Attempting to specify both defined <span class="code">:$encoding</span> and <span class="code">True</span> <span class="code">:$bin</span> is a fatal error resulting in <span class="code">X::IO::BinaryAndEncoding</span> exception thrown. If <span class="code">:$encoding</span> is not set and nor <span class="code">:$bin</span> is not set to a true value, the handle will default to <span class="code">utf8</span> encoding.</p>
 <p>The <span class="code">:$chomp</span> and <span class="code">:$nl-in</span> arguments have the same meaning as in <a href="#_type_IO::Handle.pod6">IO::Handle</a> and take and default to the same values.</p>
 <a name="t96.1.2"></a><h2 id="_type_IO_CatHandle.pod6-method_chomp">96.1.2 method chomp</h2>
 <p>Defined as:</p>
 <pre class="code">method chomp(IO::CatHandle:D:) is rw</pre>
 <p>Sets the invocant's <span class="code">$.chomp</span> attribute to the assigned value. All source handles, including the active one will use the provided <span class="code">$.chomp</span> value.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC\n&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;D\nE\n&quot;; 
 with IO::CatHandle.new: $f1, $f2 { 
     # .chomp is True by default: 
     (.get xx 2).perl.say; # OUTPUT: «(&quot;A&quot;, &quot;B&quot;).Seq␤» 
 
     .chomp = False; 
     (.get xx 3).perl.say; # OUTPUT: «(&quot;C\n&quot;, &quot;D\n&quot;, &quot;E\n&quot;).Seq␤» 
     .close 
 } 
</pre>
 <a name="t96.1.3"></a><h2 id="_type_IO_CatHandle.pod6-method_nl-in">96.1.3 method nl-in</h2>
 <p>Defined as:</p>
 <pre class="code">method nl-in(IO::CatHandle:D:) is rw</pre>
 <p>Sets the invocant's <span class="code">$.nl-in</span> attribute to the assigned value, which can be a <a href="#_type_Str.pod6">Str</a> or a <a href="#_type_List.pod6">List</a> of <a href="#_type_Str.pod6">Str</a>, where each <a href="#_type_Str.pod6">Str</a> object represents the end-of-line string. All source handles, including the active one will use the provided <span class="code">$.nl-in</span> value. Note that source handle boundary is always counted as a new line break.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;DxEx&quot;; 
 with IO::CatHandle.new: $f1, $f2 { 
     # .nl-in is [&quot;\n&quot;, &quot;\r\n&quot;] by default: 
     (.get xx 2).perl.say; # OUTPUT: «(&quot;A&quot;, &quot;B&quot;).Seq␤» 
 
     .nl-in = 'x'; 
     (.get xx 3).perl.say; # OUTPUT: «(&quot;C&quot;, &quot;D&quot;, &quot;E&quot;).Seq␤» 
     .close 
 } 
</pre>
 <a name="t96.1.4"></a><h2 id="_type_IO_CatHandle.pod6-method_close">96.1.4 method close</h2>
 <p>Defined as:</p>
 <pre class="code">method close(IO::CatHandle:D: --&gt; True)</pre>
 <p>Closes the currently active source handle, as well as any already-open source handles, and empties the source handle queue. Unlike a regular <a href="#_type_IO::Handle.pod6">IO::Handle</a>, an explicit call to <span class="code">.close</span> is often not necessary on a CatHandle, as merely exhausting all the input closes all the handles that need to be closed.</p>
 <pre class="code">with IO::CatHandle.new: @bunch-of-handles { 
     say .readchars: 42; 
     .close; # we are done; close all the open handles 
 } 
</pre>
 <a name="t96.1.5"></a><h2 id="_type_IO_CatHandle.pod6-method_comb">96.1.5 method comb</h2>
 <p>Defined as:</p>
 <pre class="code">method comb(IO::CatHandle:D: |args --&gt; Seq:D)</pre>
 <p>Read the handle and processes its contents the same way <a href="#_type_Str.pod6-routine_comb"><span class="code">Str.comb</span></a> does, taking the same arguments. <b>Implementations may slurp the contents of all the source handles</b> in their entirety when this method is called.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 IO::CatHandle.new($f1, $f2).comb(2).perl.say; 
 # OUTPUT: «(&quot;fo&quot;, &quot;ob&quot;, &quot;ar&quot;).Seq␤» 
</pre>
 <a name="t96.1.6"></a><h2 id="_type_IO_CatHandle.pod6-method_DESTROY">96.1.6 method DESTROY</h2>
 <p>Defined as:</p>
 <pre class="code">method DESTROY(IO::CatHandle:D:)</pre>
 <p>Calls <a href="#_type_IO::CatHandle.pod6-method_close"><span class="code">.close</span></a>. This method isn't to be used directly, but is something that's called during garbage collection.</p>
 <a name="t96.1.7"></a><h2 id="_type_IO_CatHandle.pod6-method_encoding">96.1.7 method encoding</h2>
 <p>Defined as:</p>
 <pre class="code">multi method encoding(IO::CatHandle:D:)
multi method encoding(IO::CatHandle:D: $new-encoding)</pre>
 <p>Sets the invocant's <span class="code">$.encoding</span> attribute to the provided value. Valid values are the same as those accepted by <a href="#_type_IO::Handle.pod6-method_encoding"><span class="code">IO::Handle.encoding</span></a> (use value <a href="#_type_Nil.pod6">Nil</a> to switch to binary mode). All source handles, including the active one will use the provided <span class="code">$.encoding</span> value.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'I ♥ Perl'; 
 (my $f2 = 'bar'.IO).spurt: 'meow'; 
 with IO::CatHandle.new: $f1, $f2 { 
     # .encoding is 'utf8' by default: 
     .readchars(5).say; # OUTPUT: «I ♥ P␤» 
 
     .encoding: Nil; # switch to binary mode 
     .slurp.say; # OUTPUT: «Buf[uint8]:0x&lt;72 6c 6d 65 6f 77&gt;␤» 
 } 
</pre>
 <a name="t96.1.8"></a><h2 id="_type_IO_CatHandle.pod6-method_eof">96.1.8 method eof</h2>
 <p>Defined as:</p>
 <pre class="code">method eof(IO::CatHandle:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the read operations have exhausted the source handle queue, including the contents of the last handle. <b>Note:</b> calling this method may cause one or more <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">.on-switch</span></a> calls, while the source handle queue is examined, and the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue may get exhausted</a>.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 with IO::CatHandle.new: :on-switch{ print 'SWITCH! ' }, $f1, $f2 { 
                    # OUTPUT: «SWITCH! » 
     .eof.say;      # OUTPUT: «False␤» 
     .readchars(3); 
     .eof.say;      # OUTPUT: «SWITCH! False␤» 
 
     .slurp;        # OUTPUT: «SWITCH! » 
     .eof.say;      # OUTPUT: «True␤» 
 } 
</pre>
 <p>The same caveats for non-seekable handles and empty files that apply to <a href="#_type_IO::Handle.pod6-method_eof">IO::Handle.eof</a> apply here.</p>
 <a name="t96.1.9"></a><h2 id="_type_IO_CatHandle.pod6-method_get">96.1.9 method get</h2>
 <p>Defined as:</p>
 <pre class="code">method get(IO::CatHandle:D: --&gt; Bool:D)</pre>
 <p>Returns a single line of input from the handle, with the new line string defined by the value(s) of <a href="#_type_IO::CatHandle.pod6-method_nl-in"><span class="code">$.nl-in</span>  attribute</a>, which will be removed from the line if <a href="#_type_IO::CatHandle.pod6-method_chomp"><span class="code">$.chomp</span>  attribute</a> is set to <span class="code">True</span>. Returns <span class="code">Nil</span> when there is no more input. It is an error to call this method when the handle is <a href="#_type_IO::CatHandle.pod6-method_encoding">in binary mode</a>, resulting in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;a\nb\nc&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;d\ne&quot;; 
 my $cat = IO::CatHandle.new: $f1, $f2; 
 .say while $_ = $cat.get; # OUTPUT: «a␤b␤c␤d␤e␤» 
</pre>
 <a name="t96.1.10"></a><h2 id="_type_IO_CatHandle.pod6-method_getc">96.1.10 method getc</h2>
 <p>Defined as:</p>
 <pre class="code">method getc(IO::CatHandle:D: --&gt; Bool:D)</pre>
 <p>Returns a single character of input from the handle. All the caveats described in <a href="#_type_IO::Handle.pod6-routine_getc"><span class="code">IO::Handle.getc</span></a> apply. Returns <span class="code">Nil</span> when there is no more input. It is an error to call this method when the handle is <a href="#_type_IO::CatHandle.pod6-method_encoding">in binary mode</a>, resulting in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'I ♥ Perl'; 
 (my $f2 = 'bar'.IO).spurt: 'meow'; 
 my $cat = IO::CatHandle.new: $f1, $f2; 
 .say while $_ = $cat.getc; # OUTPUT: «I␤ ␤♥␤ ␤P␤e␤r␤l␤m␤e␤o␤w␤» 
</pre>
 <a name="t96.1.11"></a><h2 id="_type_IO_CatHandle.pod6-method_handles">96.1.11 method handles</h2>
 <p>Defines as:</p>
 <pre class="code">method handles(IO::CatHandle:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> containing the currently-active handle, as well as all the remaining source handles produced by calling <a href="#_routine_next-handle.pod6">next-handle</a>. If the invocant has already been fully-consumed, returns an empty <a href="#_type_Seq.pod6">Seq</a>.</p>
 <p>This method is especially handy when working with <a href="#_type_IO::ArgFiles.pod6">IO::ArgFiles</a>, where you want to treat each filehandle separately:</p>
 <pre class="code"># print at most the first 2 lines of each file in $*ARGFILES:
.say for flat $*ARGFILES.handles.map: *.lines: 2</pre>
 <p>It <i>is</i> acceptable to call this method multiple times and <span class="code">.handles.head</span> is a valid idiom for obtaining the currently-active handle. If, between <a href="#_language_glossary.pod6-index-entry-Reify">reification</a> of the elements of the returned <a href="#_type_Seq.pod6">Seq</a> the handles get switched by some other means, the next element produced by the <a href="#_type_Seq.pod6">Seq</a> would be the next handle of the invocant, not the handle that would've been produced if no switching occurred:</p>
 <pre class="code">(my $file1 := 'file1'.IO).spurt: &quot;1a\n1b\n1c&quot;;
(my $file2 := 'file2'.IO).spurt: &quot;2a\n2b\n2c&quot;;
(my $file3 := 'file3'.IO).spurt: &quot;3a\n3b\n3c&quot;;
my $cat := IO::CatHandle.new: $file1, $file2, $file3;
for $cat.handles {
    say .lines: 2;
    $cat.next-handle;
}
# OUTPUT: «(1a 1b)␤(3a 3b)␤»</pre>
 <p>Likewise, reifying the returned <a href="#_type_Seq.pod6">Seq</a> consumes the invocant's source handles and once it is fully reified, the invocant becomes fully-consumed.</p>
 <a name="t96.1.12"></a><h2 id="_type_IO_CatHandle.pod6-method_IO">96.1.12 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(IO::CatHandle:D:)</pre>
 <p>Alias for <a href="#_type_IO::CatHandle.pod6-method_path"><span class="code">.path</span></a></p>
 <a name="t96.1.13"></a><h2 id="_type_IO_CatHandle.pod6-method_lines">96.1.13 method lines</h2>
 <p>Defined as:</p>
 <pre class="code">method lines(IO::CatHandle:D: $limit = Inf, :$close --&gt; Seq:D)</pre>
 <p>Same as <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">IO::Handle.lines</span></a>. Note that a boundary between source handles is considered to be a newline break.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;foo\nbar&quot;; 
 (my $f2 = 'bar'.IO).spurt: 'meow'; 
 IO::CatHandle.new($f1, $f2).lines.perl.say; 
 # OUTPUT: «(&quot;foo&quot;, &quot;bar&quot;, &quot;meow&quot;).Seq␤» 
</pre>
 <a name="t96.1.14"></a><h2 id="_type_IO_CatHandle.pod6-method_lock">96.1.14 method lock</h2>
 <p>Defined as:</p>
 <pre class="code">method lock(IO::CatHandle:D: Bool:D :$non-blocking = False, Bool:D :$shared = False --&gt; True)</pre>
 <p>Same as <a href="#_type_IO::Handle.pod6-method_lock"><span class="code">IO::Handle.lock</span></a>. Returns <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>.</p>
 <p>Locks only the currently active source handle. The <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">.on-switch</span></a> <a href="#_type_Callable.pod6">Callable</a> can be used to conveniently lock/unlock the handles as they're being processed by the CatHandle.</p>
 <a name="t96.1.15"></a><h2 id="_type_IO_CatHandle.pod6-method_native-descriptor">96.1.15 method native-descriptor</h2>
 <p>Defined as:</p>
 <pre class="code">method native-descriptor(IO::CatHandle:D: --&gt; Int:D)</pre>
 <p>Returns the <a href="#_type_IO::Handle.pod6-method_native-descriptor">native-descriptor</a> of the currently active source handle or <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>.</p>
 <p>Since the CatHandle closes a source handle, once it's done with it, it's possible for successive source handles to have the same native descriptor, if they were passed to <a href="#_type_IO::CatHandle.pod6-method_new">.new</a> as <a href="#_type_Cool.pod6">Cool</a> or <a href="#_type_IO::Path.pod6">IO::Path</a> objects.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 with IO::CatHandle.new: $f1, $f2, $*IN { 
     repeat { .native-descriptor.say } while .next-handle; 
     # OUTPUT: «13␤13␤9␤» 
 } 
</pre>
 <a name="t96.1.16"></a><h2 id="_type_IO_CatHandle.pod6-method_next-handle">96.1.16 method next-handle</h2>
 <p>Defined as:</p>
 <pre class="code">method next-handle(IO::CatHandle:D: --&gt; IO::Handle:D)</pre>
 <p>Switches the active source handle to the next handle in the source handle queue, which is the sources given in <span class="code">@handles</span> attribute to <a href="#_type_IO::CatHandle.pod6-method_new"><span class="code">.new</span></a>. The return value is the currently active source handle or <span class="code">Nil</span> if the source handle queue has been exhausted.</p>
 <p>Coerces <a href="#_type_Cool.pod6">Cool</a> source &quot;handles&quot; to <a href="#_type_IO::Path.pod6">IO::Path</a>; opens <a href="#_type_IO::Path.pod6">IO::Path</a> and unopened <a href="#_type_IO::Handle.pod6">IO::Handle</a> source handles for reading using the invocant's <a href="#_type_IO::CatHandle.pod6-method_nl-in"><span class="code">$.nl-in</span></a>, <a href="#_type_IO::CatHandle.pod6-method_chomp"><span class="code">$.chomp</span></a>, and <a href="#_type_IO::CatHandle.pod6-method_encoding"><span class="code">$.encoding</span></a> attributes; those same attributes of already-opened <a href="#_type_IO::Handle.pod6">IO::Handle</a> objects will be changed to the values of the invocant's attributes.</p>
 <p>This method is called automatically whenever CatHandle's methods require a switch to the next source handle, triggers <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">.on-switch</span></a> <a href="#_type_Callable.pod6">Callable</a> to be called, and is called once during <a href="#_type_IO::CatHandle.pod6-method_new">.new</a> call. The <span class="code">.on-switch</span> will continue to be triggered each time this method is called, even after the source handle queue has been exhausted. Note that generally reaching the EOF of the currently active source handle does not trigger the <span class="code">.next-handle</span> call, but rather further read operations that need more data do.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;a\nb&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;c\nd&quot;; 
 with IO::CatHandle.new: :on-switch{ say '▸ Switching' }, $f1, $f2 { 
     say 'one'; 
     .next-handle.^name.say; 
     say 'two'; 
     .next-handle.^name.say; 
     say 'three'; 
     .next-handle.^name.say; 
     # OUTPUT: 
     # ▸ Switching 
     # one 
     # ▸ Switching 
     # IO::Handle 
     # two 
     # ▸ Switching 
     # Nil 
     # three 
     # ▸ Switching 
     # Nil 
 } 
</pre>
 <a name="t96.1.17"></a><h2 id="_type_IO_CatHandle.pod6-method_on-switch">96.1.17 method on-switch</h2>
 <p>Defined as:</p>
 <pre class="code">has &amp;.on-switch is rw</pre>
 <p>One of the attributes that can be set during <a href="#_type_IO::CatHandle.pod6-method_new"><span class="code">.new</span></a> call and changed later by assigning to. By default is not specified. Takes a <a href="#_type_Callable.pod6">Callable</a> with <a href="#_type_Code.pod6-method_count"><span class="code">.count</span></a> of <span class="code">0</span>, <span class="code">1</span>, <span class="code">2</span>, or <span class="code">Inf</span>. Gets called each time <a href="#_type_IO::CatHandle.pod6-method_next-handle"><span class="code">.next-handle</span></a> is called, which happens once during <a href="#_type_IO::CatHandle.pod6-method_new"><span class="code">.new</span></a> call and then each time a source handle is switched to the next one in the queue, or when the <a href="#_type_IO::CatHandle.pod6-method_next-handle"><span class="code">.next-handle</span></a> method is called manually.</p>
 <p>If the <a href="#_type_Code.pod6-method_count"><span class="code">.count</span></a> of <span class="code">&amp;.on-switch</span> is <span class="code">0</span>, it receives no arguments, if it's <span class="code">1</span>, it receives the currently active handle, and if it's <span class="code">2</span> or <span class="code">Inf</span>, it receives the currently active handle, and the last active handle as positional arguments (in that order). On the very first <span class="code">&amp;.on-switch</span> execution, the &quot;last active handle&quot; argument is <span class="code">Nil</span>. Upon source handle queue exhaustion the &quot;currently active handle&quot; argument is <span class="code">Nil</span>, and all the executions made afterwards have both arguments as <span class="code">Nil</span>.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;D\nE&quot;; 
 
 my $line; 
 my $cat = IO::CatHandle.new: :on-switch{ $line = 1 }, $f1, $f2; 
 say &quot;{$cat.path}:{$line++} $_&quot; for $cat.lines; 
 # OUTPUT: 
 # foo:1 A 
 # foo:2 B 
 # foo:3 C 
 # bar:1 D 
 # bar:2 E 
</pre>
 <pre class="code">my @old-stuff; 
 sub on-switch ($new, $old) { 
     $new and $new.seek: 1, SeekFromBeginning; 
     $old and @old-stuff.push: $old.open.slurp: :close; 
 } 
 
 (my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;D\nE&quot;; 
 my $cat = IO::CatHandle.new: :&amp;on-switch, $f1, $f2; 
 $cat.lines.perl.say; # OUTPUT: «(&quot;&quot;, &quot;B&quot;, &quot;C&quot;, &quot;&quot;, &quot;E&quot;).Seq␤» 
 @old-stuff.perl.say; # OUTPUT: «[&quot;A\nB\nC&quot;, &quot;D\nE&quot;]␤» 
</pre>
 <a name="t96.1.18"></a><h2 id="_type_IO_CatHandle.pod6-method_open">96.1.18 method open</h2>
 <p>Defined as:</p>
 <pre class="code">method open(IO::CatHandle:D: --&gt; IO::CatHandle:D)</pre>
 <p>Returns the invocant. The intent of this method is to merely make CatHandle workable with things that open <a href="#_type_IO::Handle.pod6">IO::Handle</a>. You never have to call this method intentionally.</p>
 <a name="t96.1.19"></a><h2 id="_type_IO_CatHandle.pod6-method_opened">96.1.19 method opened</h2>
 <p>Defined as:</p>
 <pre class="code">method opened(IO::CatHandle:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant has any source handles, <span class="code">False</span> otherwise.</p>
 <pre class="code">say IO::CatHandle.new      .opened; # OUTPUT: «False␤» 
 say IO::CatHandle.new($*IN).opened; # OUTPUT: «True␤» 
 
 (my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC&quot;; 
 with IO::CatHandle.new: $f1 { 
     .opened.say; # OUTPUT: «True␤» 
     .slurp; 
     .opened.say; # OUTPUT: «False␤» 
 } 
</pre>
 <a name="t96.1.20"></a><h2 id="_type_IO_CatHandle.pod6-method_path">96.1.20 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path(IO::CatHandle:D:)</pre>
 <p>Returns the value of <a href="#_type_IO::Handle.pod6-method_path"><span class="code">.path</span>  attribute</a> of the currently active source handle, or <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>. Basically, if your CatHandle is based on files, this is the way to get the path of the file the CatHandle is currently reading from.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: &quot;A\nB\nC&quot;; 
 (my $f2 = 'bar'.IO).spurt: &quot;D\nE&quot;; 
 
 my $line; 
 my $cat = IO::CatHandle.new: :on-switch{ $line = 1 }, $f1, $f2; 
 say &quot;{$cat.path}:{$line++} $_&quot; for $cat.lines; 
 # OUTPUT: 
 # foo:1 A 
 # foo:2 B 
 # foo:3 C 
 # bar:1 D 
 # bar:2 E 
</pre>
 <a name="t96.1.21"></a><h2 id="_type_IO_CatHandle.pod6-method_read">96.1.21 method read</h2>
 <p>Defined as:</p>
 <pre class="code">method read(IO::CatHandle:D: Int(Cool:D) $bytes = 65536 --&gt; Buf:D)</pre>
 <p>Reads up to <span class="code">$bytes</span> bytes from the handle and returns them in a <a href="#_type_Buf.pod6">Buf</a>. <span class="code">$bytes</span> defaults to an implementation-specific value (in Rakudo, the value of <span class="code">$*DEFAULT-READ-ELEMS</span>, which by default is set to <span class="code">65536</span>). It is permitted to call this method on handles that are not in binary mode.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'meow'; 
 (my $f2 = 'bar'.IO).spurt: Blob.new: 4, 5, 6; 
 with IO::CatHandle.new: :bin, $f1, $f2 { 
     say .read: 2;    # OUTPUT: «Buf[uint8]:0x&lt;6d 65&gt;␤» 
     say .read: 2000; # OUTPUT: «Buf[uint8]:0x&lt;6f 77 04 05 06&gt;␤» 
 } 
 
 # Non-binary mode is OK too: 
 with IO::CatHandle.new: $f1, $f2 { 
     say .get;        # OUTPUT: «meow␤» 
     say .read: 2000; # OUTPUT: «Buf[uint8]:0x&lt;04 05 06&gt;␤» 
 } 
</pre>
 <a name="t96.1.22"></a><h2 id="_type_IO_CatHandle.pod6-method_readchars">96.1.22 method readchars</h2>
 <p>Defined as:</p>
 <pre class="code">method readchars(IO::CatHandle:D: Int(Cool:D) $chars = 65536 --&gt; Str:D)</pre>
 <p>Returns a <a href="#_type_Str.pod6">Str</a> of up to <span class="code">$chars</span> characters read from the handle. <span class="code">$chars</span> defaults to an implementation-specific value (in Rakudo, the value of <span class="code">$*DEFAULT-READ-ELEMS</span>, which by default is set to <span class="code">65536</span>). It is <b>NOT</b> permitted to call this method on handles opened in binary mode and doing so will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'Perl loves to'; 
 (my $f2 = 'bar'.IO).spurt: ' meow'; 
 
 with IO::CatHandle.new: $f1, $f2 { 
     say .readchars: 11;   # OUTPUT: «Perl loves ␤» 
     say .readchars: 1000; # OUTPUT: «to meow␤» 
 } 
</pre>
 <a name="t96.1.23"></a><h2 id="_type_IO_CatHandle.pod6-method_seek">96.1.23 method seek</h2>
 <p>Defined as:</p>
 <pre class="code">method seek(IO::CatHandle:D: |c)</pre>
 <p>Calls <a href="#_type_IO::Handle.pod6-method_seek"><span class="code">.seek</span></a> on the currently active source handle, forwarding it all the arguments, and returns the result. Returns <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>. <b>NOTE:</b> this method does <i>NOT</i> perform any source handle switching, so seeking past the end of the current source handle will <i>NOT</i> seek to the next source handle in the queue and seeking past the beginning of the current source handle is a fatal error. Also see <a href="#_type_IO::CatHandle.pod6-method_next-handle"><span class="code">.next-handle</span></a>, to learn the details on when source handles are switched.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 
 with IO::CatHandle.new: $f1, $f2 { 
     .get.say;                     # OUTPUT: «foo␤» 
     .seek: -2, SeekFromCurrent; 
     .readchars(2).say;            # OUTPUT: «oo␤» 
     .seek: 1000, SeekFromCurrent; # this doesn't switch to second handle! 
     .readchars(3).say;            # OUTPUT: «bar␤» 
     try .seek: -4;                # this won't seek to previous handle! 
     say ~$!;                      # OUTPUT: «Failed to seek in filehandle: 22␤» 
 } 
</pre>
 <a name="t96.1.24"></a><h2 id="_type_IO_CatHandle.pod6-method_tell">96.1.24 method tell</h2>
 <p>Defined as:</p>
 <pre class="code">method tell(IO::CatHandle:D: --&gt; Int:D)</pre>
 <p>Calls <a href="#_type_IO::Handle.pod6-method_tell"><span class="code">.tell</span></a> on the currently active source handle and returns the result. Returns <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 
 with IO::CatHandle.new: $f1, $f2 { 
     .get.say;                   # OUTPUT: «foo␤» 
     .tell.say;                  # OUTPUT: «3␤» 
     .seek: -2, SeekFromCurrent; 
     .tell.say;                  # OUTPUT: «1␤» 
     say .readchars: 3;          # OUTPUT: «oob␤» 
     .tell.say;                  # OUTPUT: «2␤» 
     } 
</pre>
 <a name="t96.1.25"></a><h2 id="_type_IO_CatHandle.pod6-method_slurp">96.1.25 method slurp</h2>
 <p>Defined as:</p>
 <pre class="code">method slurp(IO::CatHandle:D:)</pre>
 <p>Reads all of the available input from all the source handles and returns it as a <a href="#_type_Buf.pod6">Buf</a> if the handle is in <a href="#_type_IO::CatHandle.pod6-method_encoding">binary mode</a> or as a <a href="#_type_Str.pod6">Str</a> otherwise. Returns <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 
 IO::CatHandle.new(      $f1, $f2).slurp.say; # OUTPUT: «foobar␤» 
 IO::CatHandle.new(:bin, $f1, $f2).slurp.say; # OUTPUT: «Buf[uint8]:0x&lt;66 6f 6f 62 61 72&gt;␤» 
 IO::CatHandle.new                .slurp.say; # OUTPUT: «Nil␤» 
</pre>
 <a name="t96.1.26"></a><h2 id="_type_IO_CatHandle.pod6-method_split">96.1.26 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(IO::CatHandle:D: |args --&gt; Seq:D)</pre>
 <p>Read the handle and processes its contents the same way <a href="#_type_Str.pod6-routine_split"><span class="code">Str.split</span></a> does, taking the same arguments. <b>Implementations may slurp the contents of all the source handles</b> in their entirety when this method is called.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 IO::CatHandle.new($f1, $f2).split(/o+/).perl.say; 
 # OUTPUT: «(&quot;f&quot;, &quot;bar&quot;).Seq␤» 
</pre>
 <a name="t96.1.27"></a><h2 id="_type_IO_CatHandle.pod6-method_Str">96.1.27 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">method Str(IO::CatHandle:D: --&gt; Str:D)</pre>
 <p>Calls <a href="#_type_IO::Handle.pod6-method_Str"><span class="code">.Str</span></a> on the currently active source handle and returns the result. If the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>, returns an implementation-defined string (<span class="code">'&lt;closed IO::CatHandle&gt;'</span> in Rakudo).</p>
 <a name="t96.1.28"></a><h2 id="_type_IO_CatHandle.pod6-method_Supply">96.1.28 method Supply</h2>
 <p>Defined as:</p>
 <pre class="code">method Supply(IO::CatHandle:D: :$size = 65536 --&gt; Supply:D)</pre>
 <p>Returns a <a href="#_type_Supply.pod6">Supply</a> fed with either <a href="#_type_IO::CatHandle.pod6-method_read"><span class="code">.read</span></a>, if the handle is in <a href="#_type_IO::CatHandle.pod6-method_encoding">binary mode</a>, or with <a href="#_type_IO::CatHandle.pod6-method_readchars"><span class="code">.readchars</span></a>, if it isn't, with reads of <span class="code">:$size</span> bytes or characters. <span class="code">:$size</span> defaults to an implementation-specific value (in Rakudo, the value of <span class="code">$*DEFAULT-READ-ELEMS</span>, which by default is set to <span class="code">65536</span>).</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 (my $f2 = 'bar'.IO).spurt: 'bar'; 
 react whenever IO::CatHandle.new($f1, $f2).Supply: :2size {.say} 
 # OUTPUT: «fo␤ob␤ar␤» 
 
 react whenever IO::CatHandle.new(:bin, $f1, $f2).Supply: :2size {.say} 
 # OUTPUT: «Buf[uint8]:0x&lt;66 6f&gt;␤Buf[uint8]:0x&lt;6f 62&gt;␤Buf[uint8]:0x&lt;61 72&gt;␤» 
</pre>
 <a name="t96.1.29"></a><h2 id="_type_IO_CatHandle.pod6-method_t">96.1.29 method t</h2>
 <p>Defined as:</p>
 <pre class="code">method t(IO::CatHandle:D: --&gt; Bool:D)</pre>
 <p>Calls <a href="#_type_IO::Handle.pod6-method_t"><span class="code">.t</span></a> (tells if the handle is a TTY) on the currently active source handle and returns the result. If the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>, returns <span class="code">False</span>.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo'; 
 with IO::CatHandle.new: $f1, $*IN { 
     repeat { .t.say } while .next-handle; # OUTPUT: «False␤True␤» 
 } 
</pre>
 <a name="t96.1.30"></a><h2 id="_type_IO_CatHandle.pod6-method_unlock">96.1.30 method unlock</h2>
 <p>Defined as:</p>
 <pre class="code">method unlock(IO::CatHandle:D:)</pre>
 <p>Same as <a href="#_type_IO::Handle.pod6-method_unlock"><span class="code">IO::Handle.unlock</span></a>. Returns <a href="#_type_Nil.pod6">Nil</a> if the <a href="#_type_IO::CatHandle.pod6-method_next-handle">source handle queue has been exhausted</a>.</p>
 <p>Unlocks only the currently active source handle. The <a href="#_type_IO::CatHandle.pod6-method_on-switch"><span class="code">.on-switch</span></a> <a href="#_type_Callable.pod6">Callable</a> can be used to conveniently lock/unlock the handles as they're being processed by the CatHandle.</p>
 <a name="t96.1.31"></a><h2 id="_type_IO_CatHandle.pod6-method_words">96.1.31 method words</h2>
 <p>Defined as:</p>
 <pre class="code">method words(IO::CatHandle:D: $limit = Inf, :$close --&gt; Seq:D)</pre>
 <p>Same as <a href="#_type_IO::Handle.pod6-routine_words"><span class="code">IO::Handle.words</span></a> (including the caveat about more data read than needed to make some number of words). Note that a boundary between source handles is considered to be word boundary.</p>
 <pre class="code">(my $f1 = 'foo'.IO).spurt: 'foo bar'; 
 (my $f2 = 'bar'.IO).spurt: 'meow'; 
 IO::CatHandle.new($f1, $f2).words.perl.say; 
 # OUTPUT: «(&quot;foo&quot;, &quot;bar&quot;, &quot;meow&quot;).Seq␤» 
</pre>
 <a name="t96.2"></a><h1 id="_type_IO_CatHandle.pod6-NYI_Methods">96.2 NYI Methods</h1>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides these methods to throw <span class="code">X::NYI</span> exception. If you have a good idea for how these methods should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.1"></a><h2 id="_type_IO_CatHandle.pod6-method_flush">96.2.1 method flush</h2>
 <p>Defined as:</p>
 <pre class="code">multi method flush(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.2"></a><h2 id="_type_IO_CatHandle.pod6-method_nl-out">96.2.2 method nl-out</h2>
 <p>Defined as:</p>
 <pre class="code">multi method nl-out(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.3"></a><h2 id="_type_IO_CatHandle.pod6-method_out-buffer">96.2.3 method out-buffer</h2>
 <p>Defined as:</p>
 <pre class="code">multi method out-buffer(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.4"></a><h2 id="_type_IO_CatHandle.pod6-method_print">96.2.4 method print</h2>
 <p>Defined as:</p>
 <pre class="code">multi method print(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.5"></a><h2 id="_type_IO_CatHandle.pod6-method_printf">96.2.5 method printf</h2>
 <p>Defined as:</p>
 <pre class="code">multi method printf(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.6"></a><h2 id="_type_IO_CatHandle.pod6-method_print-nl">96.2.6 method print-nl</h2>
 <p>Defined as:</p>
 <pre class="code">multi method print-nl(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.7"></a><h2 id="_type_IO_CatHandle.pod6-method_put">96.2.7 method put</h2>
 <p>Defined as:</p>
 <pre class="code">multi method put(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.8"></a><h2 id="_type_IO_CatHandle.pod6-method_say">96.2.8 method say</h2>
 <p>Defined as:</p>
 <pre class="code">multi method say(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
 <a name="t96.2.9"></a><h2 id="_type_IO_CatHandle.pod6-method_write">96.2.9 method write</h2>
 <p>Defined as:</p>
 <pre class="code">multi method write(|)</pre>
 <p>In Rakudo, the <a href="#_type_IO::CatHandle.pod6">IO::CatHandle</a> type overrides this method to throw <span class="code">X::NYI</span> exception. If you have a good idea for how this method should behave, <a href="https://webchat.freenode.net/?channels=#perl6-dev">tell Rakudo developers about it</a>!</p>
</div>
<!-- /type/IO/Handle.pod6 --><div class="pod-body"><a id="_type_IO_Handle.pod6"></a><a name="t97"><h1 class="title">97 class IO::Handle</h1></a> <p class="subtitle">Opened file or stream</p> <pre class="code">class IO::Handle { }</pre>
 <a name="t97.1"></a><h1 id="_type_IO_Handle.pod6-Methods">97.1 Methods</h1>
 <a name="t97.1.1"></a><h2 id="_type_IO_Handle.pod6-method_open">97.1.1 method open</h2>
 <p>Defined as:</p>
 <pre class="code">method open(IO::Handle:D: 
     :$bin, :$enc, :$chomp, :$nl-in, Str:D :$nl-out, 
     Str :$mode, 
     :$r, :$w, :$a, :$x, :$update, :$rw, :$rx, :$ra, 
     :$create, :$append, :$truncate, :$exclusive, 
     :$out-buffer, 
     --&gt; IO::Handle:D 
 ) 
</pre>
 <p>Opens the handle in one of the modes. <a href="#_routine_fail.pod6">Fails</a> with appropriate exception if the open fails.</p>
 <p>See description of individual methods for the accepted values and behaviour of <a href="#_type_IO::Handle.pod6-method_chomp"><span class="code">:$chomp</span></a>, <a href="#_type_IO::Handle.pod6-method_nl-in"><span class="code">:$nl-in</span></a>, <a href="#_type_IO::Handle.pod6-method_nl-out"><span class="code">:$nl-out</span></a>, and <a href="#_type_IO::Handle.pod6-method_encoding"><span class="code">:$enc</span></a>. The values for parameters default to the invocant's attributes and if any of them are provided, the attributes will be updated to the new values. Specify <span class="code">:$bin</span> set to <span class="code">True</span> instead of <span class="code">:$enc</span> to indicate the handle should be opened in binary mode. Specifying undefined value as <span class="code">:$enc</span> is equivalent to not specifying <span class="code">:$enc</span> at all. Specifying both a defined encoding as <span class="code">:$enc</span> and <span class="code">:$bin</span> set to true will cause <span class="code">X::IO::BinaryAndEncoding</span> exception to be thrown.</p>
 <p>The open mode defaults to non-exclusive, read only (same as specifying <span class="code">:r</span>) and can be controlled by a mix of the following arguments:</p>
 <pre class="code">:r      same as specifying   :mode&lt;ro&gt;  same as specifying nothing 
 
 :w      same as specifying   :mode&lt;wo&gt;, :create, :truncate 
 :a      same as specifying   :mode&lt;wo&gt;, :create, :append 
 :x      same as specifying   :mode&lt;wo&gt;, :create, :exclusive 
 
 :update same as specifying   :mode&lt;rw&gt; 
 :rw     same as specifying   :mode&lt;rw&gt;, :create 
 :ra     same as specifying   :mode&lt;rw&gt;, :create, :append 
 :rx     same as specifying   :mode&lt;rw&gt;, :create, :exclusive 
</pre>
 <p>Support for combinations of modes <i>other</i> than what is listed above is implementation-dependent and should be assumed unsupported. That is, specifying, for example, <span class="code">.open(:r :create)</span> or <span class="code">.open(:mode&lt;wo&gt; :append :truncate)</span> might work or might cause the Universe to implode, depending on a particular implementation. This applies to reads/writes to a handle opened in such unsupported modes as well.</p>
 <p>The mode details are:</p>
 <pre class="code">:mode&lt;ro&gt;  means &quot;read only&quot; 
 :mode&lt;wo&gt;  means &quot;write only&quot; 
 :mode&lt;rw&gt;  means &quot;read and write&quot; 
 
 :create    means the file will be created, if it does not exist 
 :truncate  means the file will be emptied, if it exists 
 :exclusive means .open will fail if the file already exists 
 :append    means writes will be done at the end of file's current contents 
</pre>
 <p>Attempts to open a directory, write to a handle opened in read-only mode or read from a handle opened in write-only mode, or using text-reading methods on a handle opened in binary mode will fail or throw.</p>
 <p>In <b>6.c</b> language, it's possible to open path <span class="code">'-'</span>, which will cause <span class="code">open</span> to open (if <span class="code">closed</span>) the <span class="code">$*IN</span> handle if opening in read-only mode or to open the <span class="code">$*OUT</span> handle if opening in write-only mode. All other modes in this case will result in exception being thrown.</p>
 <p>In <b>6.d</b> language, path <span class="code">'-'</span> has no special meaning.</p>
 <p>The <span class="code">:out-buffer</span> controls output buffering and by default behaves as if it were <span class="code">Nil</span>. See method <a href="#_routine_out-buffer.pod6">out-buffer</a> for details.</p>
 <p><b>Note (Rakudo versions before 2017.09):</b> <b>File handles are NOT flushed or closed when they go out of scope</b>. While they <i>will</i> get closed when garbage collected, garbage collection isn't guaranteed to get run. This means <i>you should</i> use an explicit <span class="code">close</span> on handles opened for writing, to avoid data loss, and an explicit <span class="code">close</span> is <i>recommended</i> on handles opened for reading as well, so that your program does not open too many files at the same time, triggering exceptions on further <span class="code">open</span> calls.</p>
 <p><b>Note (Rakudo versions 2017.09 and after):</b> Open file handles are automatically closed on program exit, but it is still highly recommended that you <span class="code">close</span> opened handles explicitly.</p>
 <a name="t97.1.2"></a><h2 id="_type_IO_Handle.pod6-method_comb">97.1.2 method comb</h2>
 <p>Defined as:</p>
 <pre class="code">method comb(IO::Handle:D: Bool :$close, |args --&gt; Seq:D)</pre>
 <p>Read the handle and processes its contents the same way <a href="#_type_Str.pod6-routine_comb"><span class="code">Str.comb</span></a> does, taking the same arguments, closing the handle when done if <span class="code">$close</span> is set to a true value. Implementations may slurp the file in its entirety when this method is called.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = 'path/to/file'.IO.open; 
 say &quot;The file has {+$fh.comb: '♥', :close} ♥s in it&quot;; 
</pre>
 <a name="t97.1.3"></a><h2 id="_type_IO_Handle.pod6-method_chomp">97.1.3 method chomp</h2>
 <p>Defined as:</p>
 <pre class="code">has $.chomp is rw = True</pre>
 <p>One of the attributes that can be set via <span class="code">.new</span> or <a href="#_routine_open.pod6">open</a>. Defaults to <span class="code">True</span>. Takes a <a href="#_type_Bool.pod6">Bool</a> specifying whether the line separators (as defined by <a href="#_type_IO::Handle.pod6-method_nl-in"><span class="code">.nl-in</span></a>) should be removed from content when using <a href="#_type_IO::Handle.pod6-method_get"><span class="code">.get</span></a> or <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">.lines</span></a> methods.</p>
 <a name="t97.1.4"></a><h2 id="_type_IO_Handle.pod6-routine_get">97.1.4 routine get</h2>
 <p>Defined as:</p>
 <pre class="code">method get(IO::Handle:D: --&gt; Str:D)
multi sub get (IO::Handle $fh = $*ARGFILES --&gt; Str:D)</pre>
 <p>Reads a single line of input from the handle, removing the trailing newline characters (as set by <a href="#_routine_nl-in.pod6"><span class="code">.nl-in</span></a>) if the handle's <span class="code">.chomp</span> attribute is set to <span class="code">True</span>. Returns <span class="code">Nil</span>, if no more input is available. The subroutine form defaults to <a href="#_language_variables.pod6-index-entry-%24%2AARGFILES"><span class="code">$*ARGFILES</span></a> if no handle is given.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">$*IN.get.say;              # Read one line from the standard input 
 
 my $fh = open 'filename'; 
 $fh.get.say;               # Read one line from a file 
 $fh.close; 
 
 say get;                   # Read one line from $*ARGFILES 
</pre>
 <a name="t97.1.5"></a><h2 id="_type_IO_Handle.pod6-routine_getc">97.1.5 routine getc</h2>
 <p>Defined as:</p>
 <pre class="code">method getc(IO::Handle:D: --&gt; Str:D)
multi sub getc (IO::Handle $fh = $*ARGFILES --&gt; Str:D)</pre>
 <p>Reads a single character from the input stream. Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown. The subroutine form defaults to <a href="#_language_variables.pod6-index-entry-%24%2AARGFILES"><span class="code">$*ARGFILES</span></a> if no handle is given. Returns <span class="code">Nil</span>, if no more input is available, otherwise operation will block, waiting for at least one character to be available; these caveats apply:</p>
 <a name="t97.1.5.1"></a><h3 id="_type_IO_Handle.pod6-Buffering_terminals">97.1.5.1 Buffering terminals</h3>
 <p>Using getc to get a single keypress from a terminal will only work properly if you've set the terminal to &quot;unbuffered&quot;. Otherwise the terminal will wait for the return key to be struck or the buffer to be filled up before perl6 gets even a single byte of data.</p>
 <a name="t97.1.5.2"></a><h3 id="_type_IO_Handle.pod6-Waiting_for_potential_combiners">97.1.5.2 Waiting for potential combiners</h3>
 <p>If your handle's encoding allows combining characters to be read, perl6 will wait for more data to be available before it provides a character. This means that inputting an &quot;e&quot; followed by a combining acute will give you an e with an acute rather than giving an &quot;e&quot; and letting the next reading function give you a dangling combiner. However, it also means that when the user inputs just an &quot;e&quot; and has no intention to also input a combining acute, your program will be waiting for another keypress before the initial &quot;e&quot; is returned.</p>
 <a name="t97.1.6"></a><h2 id="_type_IO_Handle.pod6-submethod_DESTROY">97.1.6 submethod DESTROY</h2>
 <p>Defined as:</p>
 <pre class="code">submethod DESTROY(IO::Handle:D:)</pre>
 <p>Closes the filehandle, unless its <a href="#_routine_native-descriptor.pod6">native-descriptor</a> is <span class="code">2</span> or lower. This ensures the standard file handles do not get inadvertently closed.</p>
 <p>Note that garbage collection is not guaranteed to happen, so you must NOT rely on <span class="code">DESTROY</span> for closing the handles you <i>write to</i> and instead close them yourself. Programs that open a lot of files should close the handles explicitly as well, regardless of whether they were open for writing, since too many files might get opened before garbage collection happens and the no longer used handles get closed.</p>
 <a name="t97.1.7"></a><h2 id="_type_IO_Handle.pod6-method_gist">97.1.7 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">method gist(IO::Handle:D: --&gt; Str:D)</pre>
 <p>Returns a string containing information which <a href="#_type_IO::Handle.pod6-method_path"><span class="code">.path</span></a>, if any, the handle is created for and whether it is <a href="#_type_IO::Handle.pod6-method_opened"><span class="code">.opened</span></a>.</p>
 <pre class="code">say IO::Handle.new; # IO::Handle&lt;(Any)&gt;(closed) 
 say &quot;foo&quot;.IO.open;  # IO::Handle&lt;&quot;foo&quot;.IO&gt;(opened) 
</pre>
 <a name="t97.1.8"></a><h2 id="_type_IO_Handle.pod6-method_eof">97.1.8 method eof</h2>
 <p>Defined as:</p>
 <pre class="code">method eof(IO::Handle:D: --&gt; Bool:D)</pre>
 <p>Non-blocking. Returns <span class="code">True</span> if the read operations have exhausted the contents of the handle. For <a href="#_routine_seek.pod6">seekable</a> handles, this means current position is at or beyond the end of file and <a href="#_routine_seek.pod6">seeking</a> an exhausted handle back into the file's contents will result in <a href="#_routine_eof.pod6">eof</a> returning <span class="code">False</span> again.</p>
 <p>On <a href="#_routine_seek.pod6">non-seekable</a> handles and handles opened to zero-size files (including special files in <span class="code">/proc/</span>), EOF won't be set until a read operation fails to read any bytes. For example, in this code, the first <span class="code">read</span> consumes all of the data, but it's only until the second <span class="code">read</span> that reads nothing would the EOF on a TTY handle be set:</p>
 <pre class="code">$ echo &quot;x&quot; | perl6 -e 'with $*IN { .read: 10000; .eof.say; .read: 10; .eof.say }' 
 False 
 True 
</pre>
 <a name="t97.1.9"></a><h2 id="_type_IO_Handle.pod6-method_encoding">97.1.9 method encoding</h2>
 <p>Defined as:</p>
 <pre class="code">multi method encoding(IO::Handle:D: --&gt; Str:D)
multi method encoding(IO::Handle:D: $enc --&gt; Str:D)</pre>
 <p>Returns a <a href="#_type_Str.pod6">Str</a> representing the encoding currently used by the handle, defaulting to <span class="code">&quot;utf8&quot;</span>. <span class="code">Nil</span> indicates the file handle is currently in binary mode. Specifying an optional positional <span class="code">$enc</span> argument switches the encoding used by the handle; specify <span class="code">Nil</span> as encoding to put the handle into binary mode.</p>
 <p>The accepted values for encoding are case-insensitive. The available encodings vary by implementation and backend. On Rakudo MoarVM the following are supported:</p>
 <pre class="code">utf8 
 utf16 
 utf8-c8 
 iso-8859-1 
 windows-1251 
 windows-1252 
 ascii 
</pre>
 <p>The default encoding is utf8, which undergoes normalization into Unicode <b>NFC</b> (normalization form canonical). In some cases you may want to ensure no normalization is done; for this you can use <span class="code">utf8-c8</span>. Before using <span class="code">utf8-c8</span> please read <a href="#_language_unicode.pod6-File_Handles_and_I/O">Unicode: File Handles and I/O</a> for more information on <span class="code">utf8-c8</span> and <b>NFC</b>.</p>
 <p>Implementation may choose to also provide support for aliases, e.g. Rakudo allows aliases <span class="code">latin-1</span> for <span class="code">iso-8859-1</span> encoding and dashed utf versions: <span class="code">utf-8</span> and <span class="code">utf-16</span>.</p>
 <pre class="code">with 'foo'.IO { 
     .spurt: &quot;First line is text, then:\nBinary&quot;; 
     my $fh will leave {.close} = .open; 
     $fh.get.say;         # OUTPUT: «First line is text, then:␤» 
     $fh.encoding: Nil; 
     $fh.slurp.say;       # OUTPUT: «Buf[uint8]:0x&lt;42 69 6e 61 72 79&gt;␤» 
 } 
</pre>
 <a name="t97.1.10"></a><h2 id="_type_IO_Handle.pod6-routine_lines">97.1.10 routine lines</h2>
 <p>Defined as:</p>
 <pre class="code">sub lines(IO::Handle:D $fh = $*ARGFILES, $limit = Inf, :$close --&gt; Seq:D)
method lines(IO::Handle:D:               $limit = Inf, :$close --&gt; Seq:D)</pre>
 <p>Return a <a href="#_type_Seq.pod6">Seq</a> each element of which is a line from the handle (that is chunks delineated by <a href="#_type_IO::Handle.pod6-method_nl-in"><span class="code">.nl-in</span></a>). If the handle's <a href="#_type_IO::Handle.pod6-method_chomp"><span class="code">.chomp</span></a> attribute is set to <span class="code">True</span>, then characters specified by <a href="#_type_IO::Handle.pod6-method_nl-in"><span class="code">.nl-in</span></a> will be stripped from each line.</p>
 <p>Reads up to <span class="code">$limit</span> lines, where <span class="code">$limit</span> can be a non-negative <a href="#_type_Int.pod6">Int</a>, <span class="code">Inf</span>, or <a href="#_type_Whatever.pod6">Whatever</a> (which is interpreted to mean <span class="code">Inf</span>). If <span class="code">:$close</span> is set to <span class="code">True</span>, will close the handle when the file ends or <span class="code">$limit</span> is reached. Subroutine form defaults to <a href="#_language_variables.pod6-index-entry-%24%2AARGFILES"><span class="code">$*ARGFILES</span></a>, if no handle is provided.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <p><b>NOTE:</b> the lines are read lazily, so ensure the returned <a href="#_type_Seq.pod6">Seq</a> is either <a href="#_language_glossary.pod6-index-entry-Reify">fully reified</a> or is no longer needed when you close the handle or attempt to use any other methods that change the file position.</p>
 <pre class="code">say &quot;The file contains &quot;, 
   '50GB-file'.IO.open.lines.grep(*.contains: 'Perl').elems, 
   &quot; lines that mention Perl&quot;; 
 # OUTPUT: «The file contains 72 lines that mention Perl␤» 
</pre>
 <a name="t97.1.11"></a><h2 id="_type_IO_Handle.pod6-method_lock">97.1.11 method lock</h2>
 <p>Defined as:</p>
 <pre class="code">method lock(IO::Handle:D: Bool:D :$non-blocking = False, Bool:D :$shared = False --&gt; True)</pre>
 <p>Places an advisory lock on the filehandle. If <span class="code">:$non-blocking</span> is <span class="code">True</span> will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::Lock</span> if lock could not be obtained, otherwise will block until the lock can be placed. If <span class="code">:$shared</span> is <span class="code">True</span> will place a shared (read) lock, otherwise will place an exclusive (write) lock. On success, returns <span class="code">True</span>; <a href="#_routine_fail.pod6">fails</a> with <span class="code">X::IO::Lock</span> if lock cannot be placed (e.g. when trying to place a shared lock on a filehandle opened in write mode or trying to place an exclusive lock on a filehandle opened in read mode).</p>
 <p>You can use <span class="code">lock</span> again to replace an existing lock with another one. To remove a lock, <a href="#_routine_close.pod6"><span class="code">close</span></a> the filehandle or use <a href="#_routine_unlock.pod6"><span class="code">unlock</span></a>.</p>
 <pre class="code"># One program writes, the other reads, and thanks to locks either 
 # will wait for the other to finish before proceeding to read/write 
 
 # Writer 
 given &quot;foo&quot;.IO.open(:w) { 
     .lock; 
     .spurt: &quot;I ♥ Perl 6!&quot;; 
     .close; 
 } 
 
 # Reader 
 given &quot;foo&quot;.IO.open { 
     .lock: :shared; 
     .slurp.say; # OUTPUT: «I ♥ Perl 6!␤» 
     .close; 
 } 
</pre>
 <a name="t97.1.12"></a><h2 id="_type_IO_Handle.pod6-method_unlock">97.1.12 method unlock</h2>
 <p>Defined as:</p>
 <pre class="code">method unlock(IO::Handle:D: --&gt; True)</pre>
 <p>Removes a <a href="#_routine_lock.pod6"><span class="code">lock</span></a> from the filehandle.</p>
 <a name="t97.1.13"></a><h2 id="_type_IO_Handle.pod6-routine_words">97.1.13 routine words</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub words(IO::Handle:D $fh = $*ARGFILES, $limit = Inf, :$close --&gt; Seq:D)
multi method words(IO::Handle:D: $limit = Inf, :$close --&gt; Seq:D)</pre>
 <p>Similar to <a href="#_type_Str.pod6-routine_words"><span class="code">Str.words</span></a>, separates the handle's stream on contiguous chunks of whitespace (as defined by Unicode) and returns a <a href="#_type_Seq.pod6">Seq</a> of the resultant &quot;words.&quot; Takes an optional <span class="code">$limit</span> argument that can be a non-negative <a href="#_type_Int.pod6">Int</a>, <span class="code">Inf</span>, or <a href="#_type_Whatever.pod6">Whatever</a> (which is interpreted to mean <span class="code">Inf</span>), to indicate only up-to <span class="code">$limit</span> words must be returned. If <a href="#_type_Bool.pod6">Bool</a> <span class="code">:$close</span> named argument is set to <span class="code">True</span>, will automatically close the handle when the returned <a href="#_type_Seq.pod6">Seq</a> is exhausted. Subroutine form defaults to <a href="#_language_variables.pod6-index-entry-%24%2AARGFILES"><span class="code">$*ARGFILES</span></a>, if no handle is provided.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my %dict := bag $*IN.words; 
 say &quot;Most common words: &quot;, %dict.sort(-*.value).head: 5; 
</pre>
 <p><b>NOTE:</b> implementations may read <i>more</i> data than necessary when a call to <span class="code">.words</span> is made. That is, <span class="code">$handle.words(2)</span> may read more data than two &quot;words&quot; worth of data and subsequent calls to read methods might not read from the place right after the two fetched words. After a call to <span class="code">.words</span>, the file position should be treated as undefined.</p>
 <a name="t97.1.14"></a><h2 id="_type_IO_Handle.pod6-method_split">97.1.14 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(IO::Handle:D: :$close, |c)</pre>
 <p><a href="#_routine_slurp.pod6">Slurps</a> the handle's content and calls <a href="#_type_Str.pod6-routine_split"><span class="code">Str.split</span></a> on it, forwarding any of the given arguments. If <span class="code">:$close</span> named parameter is set to <span class="code">True</span>, will <a href="#_routine_close.pod6">close</a> the invocant after slurping.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = 'path/to/file'.IO.open; 
 $fh.split: '♥', :close; # Returns file content split on ♥ 
</pre>
 <a name="t97.1.15"></a><h2 id="_type_IO_Handle.pod6-method_spurt">97.1.15 method spurt</h2>
 <p>Defined as:</p>
 <pre class="code">multi method spurt(IO::Handle:D: Blob $data, :$close = False)
multi method spurt(IO::Handle:D: Cool $data, :$close = False)</pre>
 <p>Writes all of the <span class="code">$data</span> into the filehandle, closing it when finished, if <span class="code">$close</span> is <span class="code">True</span>. For <a href="#_type_Cool.pod6"><span class="code">Cool</span></a> <span class="code">$data</span>, will use the encoding the handle is set to use (<a href="#_routine_open.pod6"><span class="code">IO::Handle.open</span></a> or <a href="#_routine_encoding.pod6"><span class="code">IO::Handle.encoding</span></a>).</p>
 <p>Behaviour for spurting a <a href="#_type_Cool.pod6"><span class="code">Cool</span></a> when the handle is in binary mode or spurting a <a href="#_type_Blob.pod6"><span class="code">Blob</span></a> when the handle is NOT in binary mode is undefined.</p>
 <a name="t97.1.16"></a><h2 id="_type_IO_Handle.pod6-method_print">97.1.16 method print</h2>
 <p>Defined as:</p>
 <pre class="code">multi method print(**@text --&gt; True)
multi method print(Junction:D --&gt; True)</pre>
 <p>Writes the given <span class="code">@text</span> to the handle, coercing any non-<a href="#_type_Str.pod6">Str</a> objects to <a href="#_type_Str.pod6">Str</a> by calling <a href="#_routine_Str.pod6"><span class="code">.Str</span></a> method on them. <a href="#_type_Junction.pod6">Junction</a> arguments <a href="#_language_glossary.pod6-index-entry-Autothreading">autothread</a> and the order of printed strings is not guaranteed. See <a href="#_routine_write.pod6">write</a> to write bytes.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = 'path/to/file'.IO.open: :w; 
 $fh.print: 'some text'; 
 $fh.close; 
</pre>
 <a name="t97.1.17"></a><h2 id="_type_IO_Handle.pod6-method_print-nl">97.1.17 method print-nl</h2>
 <p>Defined as:</p>
 <pre class="code">method print-nl(IO::Handle:D: --&gt; True)</pre>
 <p>Writes the value of <span class="code">$.nl-out</span> attribute into the handle.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = 'path/to/file'.IO.open: :w, :nl-out(&quot;\r\n&quot;); 
 $fh.print: &quot;some text&quot;; 
 $fh.print-nl; # prints \r\n 
 $fh.close; 
</pre>
 <a name="t97.1.18"></a><h2 id="_type_IO_Handle.pod6-method_printf">97.1.18 method printf</h2>
 <p>Defined as:</p>
 <pre class="code">multi method printf(IO::Handle:D: Cool $format, *@args)</pre>
 <p>Formats a string based on the given format and arguments and <span class="code">.print</span>s the result into the filehandle. See <a href="https://docs.perl6.org/type/Str#sub_sprintf">sub sprintf</a> for details on acceptable format directives.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = open 'path/to/file', :w; 
 $fh.printf: &quot;The value is %d\n&quot;, 32; 
 $fh.close; 
</pre>
 <a name="t97.1.19"></a><h2 id="_type_IO_Handle.pod6-method_out-buffer">97.1.19 method out-buffer</h2>
 <p>Defined as:</p>
 <pre class="code">method out-buffer(--&gt; Int:D) is rw</pre>
 <p>Controls output buffering and can be set via an argument to <a href="#_routine_open.pod6">open</a>. Takes an <span class="code">int</span> as the size of the buffer to use (zero is acceptable). Can take a <a href="#_type_Bool.pod6">Bool</a>: <span class="code">True</span> means to use default, implementation-defined buffer size; <span class="code">False</span> means to disable buffering (equivalent to using <span class="code">0</span> as buffer size).</p>
 <p>Lastly, can take a <span class="code">Nil</span> to enable TTY-based buffering control: if the handle <a href="#_routine_t.pod6">is a TTY</a>, the buffering is disabled, otherwise, default, implementation-defined buffer size is used.</p>
 <p>See <a href="#_routine_flush.pod6">flush</a> to write out data currently in the buffer. Changing buffer size flushes the filehandle.</p>
 <pre class="code">given 'foo'.IO.open: :w, :1000out-buffer { 
     .say: 'Hello world!'; # buffered 
     .out-buffer = 42;       # buffer resized; previous print flushed 
     .say: 'And goodbye'; 
     .close; # closing the handle flushes the buffer 
 } 
</pre>
 <a name="t97.1.20"></a><h2 id="_type_IO_Handle.pod6-method_put">97.1.20 method put</h2>
 <p>Defined as:</p>
 <pre class="code">multi method put(**@text --&gt; True)
multi method put(Junction:D --&gt; True)</pre>
 <p>Writes the given <span class="code">@text</span> to the handle, coercing any non-<a href="#_type_Str.pod6">Str</a> objects to <a href="#_type_Str.pod6">Str</a> by calling <a href="#_routine_Str.pod6"><span class="code">.Str</span></a> method on them, and appending the value of <a href="#_type_IO::Handle.pod6-method_nl-out"><span class="code">.nl-out</span></a> at the end. <a href="#_type_Junction.pod6">Junction</a> arguments <a href="#_language_glossary.pod6-index-entry-Autothreading">autothread</a> and the order of printed strings is not guaranteed.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = 'path/to/file'.IO.open: :w; 
 $fh.print: 'some text'; 
 $fh.close; 
</pre>
 <a name="t97.1.21"></a><h2 id="_type_IO_Handle.pod6-method_say">97.1.21 method say</h2>
 <p>Defined as:</p>
 <pre class="code">multi method say(IO::Handle:D: **@text --&gt; True)</pre>
 <p>This method is identical to <a href="#_type_IO::Handle.pod6-method_put">put</a> except that it stringifies its arguments by calling <a href="#_routine_gist.pod6"><span class="code">.gist</span></a> instead of <a href="#_routine_Str.pod6"><span class="code">.Str</span></a>.</p>
 <p>Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">my $fh = open 'path/to/file', :w; 
 $fh.say(Complex.new(3, 4));        # RESULT: «3+4i\n» 
 $fh.close; 
</pre>
 <a name="t97.1.22"></a><h2 id="_type_IO_Handle.pod6-method_read">97.1.22 method read</h2>
 <p>Defined as:</p>
 <pre class="code">method read(IO::Handle:D: Int(Cool:D) $bytes = 65536 --&gt; Buf:D)</pre>
 <p>Binary reading; reads and returns up to <span class="code">$bytes</span> bytes from the filehandle. <span class="code">$bytes</span> defaults to an implementation-specific value (in Rakudo, the value of <span class="code">$*DEFAULT-READ-ELEMS</span>, which by default is set to <span class="code">65536</span>). This method can be called even when the handle is not <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a>.</p>
 <pre class="code">(my $file = 'foo'.IO).spurt: 'I ♥ Perl'; 
 given $file.open { 
     say .read: 6; # OUTPUT: «Buf[uint8]:0x&lt;49 20 e2 99 a5 20&gt;␤» 
     .close; 
 } 
</pre>
 <a name="t97.1.23"></a><h2 id="_type_IO_Handle.pod6-method_readchars">97.1.23 method readchars</h2>
 <p>Defined as:</p>
 <pre class="code">method readchars(IO::Handle:D: Int(Cool:D) $chars = 65536 --&gt; Str:D)</pre>
 <p>Reading chars; reads and returns up to <span class="code">$chars</span> chars (graphemes) from the filehandle. <span class="code">$chars</span> defaults to an implementation-specific value (in Rakudo, the value of <span class="code">$*DEFAULT-READ-ELEMS</span>, which by default is set to <span class="code">65536</span>). Attempting to call this method when the handle is <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a> will result in <span class="code">X::IO::BinaryMode</span> exception being thrown.</p>
 <pre class="code">(my $file = 'foo'.IO).spurt: 'I ♥ Perl'; 
 given $file.open { 
     say .readchars: 5; # OUTPUT: «I ♥ P␤» 
     .close; 
 } 
</pre>
 <a name="t97.1.24"></a><h2 id="_type_IO_Handle.pod6-method_write">97.1.24 method write</h2>
 <p>Defined as:</p>
 <pre class="code">method write(IO::Handle:D: Blob:D $buf --&gt; True)</pre>
 <p>Writes <span class="code">$buf</span> to the filehandle. This method can be called even when the handle is not <a href="#_type_IO::Handle.pod6-method_encoding">in binary mode</a>.</p>
 <a name="t97.1.25"></a><h2 id="_type_IO_Handle.pod6-method_seek">97.1.25 method seek</h2>
 <p>Defined as:</p>
 <pre class="code">method seek(IO::Handle:D: Int:D $offset, SeekType:D $whence --&gt; True)</pre>
 <p>Move the file pointer (that is, the position at which any subsequent read or write operations will begin) to the byte position specified by <span class="code">$offset</span> relative to the location specified by <span class="code">$whence</span> which may be one of:</p>
 <ul><li><p>SeekFromBeginning</p>
</li></ul> <p>The beginning of the file.</p>
 <ul><li><p>SeekFromCurrent</p>
</li></ul> <p>The current position in the file.</p>
 <ul><li><p>SeekFromEnd</p>
</li></ul> <p>The end of the file. Please note that you need to specify a negative offset if you want to position before the end of the file.</p>
 <a name="t97.1.26"></a><h2 id="_type_IO_Handle.pod6-method_tell">97.1.26 method tell</h2>
 <p>Defined as:</p>
 <pre class="code">method tell(IO::Handle:D: --&gt; Int:D)</pre>
 <p>Return the current position of the file pointer in bytes.</p>
 <a name="t97.1.27"></a><h2 id="_type_IO_Handle.pod6-method_slurp-rest">97.1.27 method slurp-rest</h2>
 <p>Defined as:</p>
 <pre class="code">multi method slurp-rest(IO::Handle:D: :$bin! --&gt; Buf)
multi method slurp-rest(IO::Handle:D: :$enc --&gt; Str)</pre>
 <p><b>DEPRECATION NOTICE:</b> this method will be deprecated in <span class="code">6.d</span> language. Do not use it for new code. Use <a href="#_routine_slurp.pod6"><span class="code">.slurp</span>  method</a> method instead.</p>
 <p>Return the remaining content of the file from the current file position (which may have been set by previous reads or by <span class="code">seek</span>.) If the adverb <span class="code">:bin</span> is provided a <a href="#_type_Buf.pod6">Buf</a> will be returned, otherwise the return will be a <span class="code">Str</span> with the optional encoding <span class="code">:enc</span>.</p>
 <a name="t97.1.28"></a><h2 id="_type_IO_Handle.pod6-method_slurp">97.1.28 method slurp</h2>
 <p>Defined as:</p>
 <pre class="code">method slurp(IO::Handle:D: :$close, :$bin)</pre>
 <p>Returns all the content from the current file position to the end. If the invocant is in binary mode or if <span class="code">$bin</span> is set to <span class="code">True</span>, will return a <a href="#_type_Buf.pod6">Buf</a>, otherwise will decode the content using invocant's current <a href="#_routine_encoding.pod6"><span class="code">.encoding</span></a> and return a <a href="#_type_Str.pod6">Str</a>.</p>
 <p>If <span class="code">:$close</span> is set to <span class="code">True</span>, will close the handle when finished reading.</p>
 <p><b>Note:</b> On <a href="#_language_glossary.pod6-Rakudo">Rakudo</a> this method was introduced with release 2017.04 and <span class="code">$bin</span> arg was added in 2017.10.</p>
 <a name="t97.1.29"></a><h2 id="_type_IO_Handle.pod6-method_Supply">97.1.29 method Supply</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Supply(IO::Handle:D: :$size = 65536)</pre>
 <p>Returns a <span class="code">Supply</span> that will emit the contents of the handle in chunks. The chunks will be <a href="#_type_Buf.pod6"><span class="code">Buf</span></a> if the handle is in binary mode or, if it isn't, <a href="#_type_Str.pod6"><span class="code">Str</span></a> decoded using same encoding as <a href="#_routine_encoding.pod6"><span class="code">IO::Handle.encoding</span></a>.</p>
 <p>The size of the chunks is determined by the optional <span class="code">:size</span> named parameter and <span class="code">65536</span> bytes in binary mode or <span class="code">65536</span> characters in non-binary mode.</p>
 <pre class="code">&quot;foo&quot;.IO.open(:bin).Supply(:size&lt;10&gt;).tap: *.perl.say; 
 # OUTPUT: 
 # Buf[uint8].new(73,32,226,153,165,32,80,101,114,108) 
 # Buf[uint8].new(32,54,33,10) 
 
 &quot;foo&quot;.IO.open.Supply(:size&lt;10&gt;).tap: *.perl.say; 
 # OUTPUT: 
 # &quot;I ♥ Perl 6&quot; 
 # &quot;!\n&quot; 
</pre>
 <a name="t97.1.30"></a><h2 id="_type_IO_Handle.pod6-method_path">97.1.30 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path(IO::Handle:D:)</pre>
 <p>For a handle opened on a file this returns the <a href="#_type_IO::Path.pod6">IO::Path</a> that represents the file. For the standard I/O handles <a href="#_language_variables.pod6-index-entry-%24%2AIN"><span class="code">$*IN</span></a>, <a href="#_language_variables.pod6-index-entry-%24%2AOUT"><span class="code">$*OUT</span></a>, and <a href="#_language_variables.pod6-index-entry-%24%2AERR"><span class="code">$*ERR</span></a> it returns an <a href="#_type_IO::Special.pod6">IO::Special</a> object.</p>
 <a name="t97.1.31"></a><h2 id="_type_IO_Handle.pod6-method_IO">97.1.31 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(IO::Handle:D:)</pre>
 <p>Alias for <a href="#_type_IO::Handle.pod6-method_path"><span class="code">.path</span></a></p>
 <a name="t97.1.32"></a><h2 id="_type_IO_Handle.pod6-method_Str">97.1.32 method Str</h2>
 <p>Returns the value of <a href="#_type_IO::Handle.pod6-method_path"><span class="code">.path</span></a>, coerced to <a href="#_type_Str.pod6">Str</a>.</p>
 <pre class="code">say &quot;foo&quot;.IO.open.path; # OUTPUT: «&quot;foo&quot;.IO␤» 
</pre>
 <a name="t97.1.33"></a><h2 id="_type_IO_Handle.pod6-routine_close">97.1.33 routine close</h2>
 <p>Defined as:</p>
 <pre class="code">method close(IO::Handle:D: --&gt; Bool:D)
multi sub close(IO::Handle $fh)</pre>
 <p>Closes an open file handle. It's not an error to call <span class="code">close</span> on an already-closed filehandle. Returns <span class="code">True</span> on success. If you close one of the standard file handles (by default: <span class="code">$*IN</span>, <span class="code">$*OUT</span>, or <span class="code">$*ERR</span>), that is any handle with <a href="#_routine_native-descriptor.pod6">native-descriptor</a> <span class="code">2</span> or lower, you won't be able to re-open such a handle.</p>
 <p>It's a common idiom to use <a href="#_language_phasers.pod6-LEAVE"><span class="code">LEAVE</span>  phaser</a> for closing the handles, which ensures the handle is closed regardless of how the block is left.</p>
 <pre class="code">if $do-stuff-with-the-file { 
     my $fh = open &quot;path-to-file&quot;; 
     LEAVE close $fh; 
     # ... do stuff with the file 
 } 
 
 sub do-stuff-with-the-file (IO $path-to-file) 
   my $fh = $path-to-file.open; 
 
   # stick a `try` on it, since this will get run even when the sub is 
   # called with wrong arguments, in which case the `$fh` will be an `Any` 
   LEAVE try close $fh; 
 
   # ... do stuff with the file 
 } 
 
 given &quot;foo/bar&quot;.IO.open(:w) { 
     .spurt: &quot;I ♥ Perl 6!&quot;; 
     .close; 
 } 
</pre>
 <p><b>Note:</b> unlike some other languages, Perl 6 does not use reference counting, and so <b>the file handles are NOT closed when they go out of scope</b>. While they <i>will</i> get closed when garbage collected, garbage collection isn't guaranteed to get run. This means <b>you must</b> use an explicit <span class="code">close</span> on handles opened for writing, to avoid data loss, and an explicit <span class="code">close</span> is <i>recommended</i> on handles opened for reading as well, so that your program does not open too many files at the same time, triggering exceptions on further <span class="code">open</span> calls.</p>
 <p>Note several methods allow for providing <span class="code">:close</span> argument, to close the handle after the operation invoked by the method completes. As a simpler alternative, the <a href="#_type_IO::Path.pod6">IO::Path</a> type provides many reading and writing methods that let you work with files without dealing with file handles directly.</p>
 <a name="t97.1.34"></a><h2 id="_type_IO_Handle.pod6-method_flush">97.1.34 method flush</h2>
 <p>Defined as:</p>
 <pre class="code">method flush(IO::Handle:D: --&gt; True)</pre>
 <p>Will flush the handle, writing any of the buffered data. Returns <span class="code">True</span> on success; otherwise, <a href="#_routine_fail.pod6">fails</a> with <span class="code">X::IO::Flush</span>.</p>
 <pre class="code">given &quot;foo&quot;.IO.open: :w { 
     LEAVE .close; 
     $fh.print: 'something'; 
     'foo'.IO.slurp.say; # (if the data got buffered) OUTPUT: «␤» 
     $fh.flush;          # flush the handle 
     'foo'.IO.slurp.say; # OUTPUT: «something␤» 
 } 
</pre>
 <a name="t97.1.35"></a><h2 id="_type_IO_Handle.pod6-method_native-descriptor">97.1.35 method native-descriptor</h2>
 <p>Defined as:</p>
 <pre class="code">method native-descriptor()</pre>
 <p>This returns a value that the operating system would understand as a &quot;file descriptor&quot; and is suitable for passing to a native function that requires a file descriptor as an argument such as <span class="code">fcntl</span> or <span class="code">ioctl</span>.</p>
 <a name="t97.1.36"></a><h2 id="_type_IO_Handle.pod6-method_nl-in">97.1.36 method nl-in</h2>
 <p>Defined as:</p>
 <pre class="code">method nl-in(--&gt; Str:D) is rw</pre>
 <p>One of the attributes that can be set via <span class="code">.new</span> or <a href="#_routine_open.pod6">open</a>. Defaults to <span class="code">[&quot;\x0A&quot;, &quot;\r\n&quot;]</span>. Takes either a <a href="#_type_Str.pod6">Str</a> or <a href="#_type_Array.pod6">Array</a> of <span class="code">Str</span> specifying input line ending(s) for this handle. If <span class="code">.chomp</span> attribute is set to <span class="code">True</span>, will strip these endings in routines that <span class="code">chomp</span>, such as <a href="#_routine_get.pod6"><span class="code">get</span></a> and <a href="#_routine_lines.pod6"><span class="code">lines</span></a>.</p>
 <pre class="code">with 'test'.IO { 
     .spurt: '1foo2bar3foo'; # write some data into our test file 
     my $fh will leave {.close} = .open; # can also set .nl-in via .open arg 
     $fh.nl-in = [&lt;foo bar&gt;]; # set two possible line endings to use; 
     $fh.lines.say; # OUTPUT: (&quot;1&quot;, &quot;2&quot;, &quot;3&quot;).Seq 
 } 
</pre>
 <a name="t97.1.37"></a><h2 id="_type_IO_Handle.pod6-method_nl-out">97.1.37 method nl-out</h2>
 <p>Defined as:</p>
 <pre class="code">has Str:D $.nl-out is rw = &quot;\n&quot;;</pre>
 <p>One of the attributes that can be set via <span class="code">.new</span> or <a href="#_routine_open.pod6">open</a>. Defaults to <span class="code">&quot;\n&quot;</span>. Takes a <a href="#_type_Str.pod6">Str</a> specifying output line ending for this handle, to be used by methods <a href="#_type_IO::Handle.pod6-method_put"><span class="code">.put</span></a> and <a href="#_type_IO::Handle.pod6-method_say"><span class="code">.say</span></a>.</p>
 <pre class="code">with 'test'.IO { 
     given .open: :w { 
         .put: 42; 
         .nl-out = 'foo'; 
         .put: 42; 
         .close; 
     } 
     .slurp.perl.say; # OUTPUT: «&quot;42\n42foo&quot;» 
 } 
</pre>
 <a name="t97.1.38"></a><h2 id="_type_IO_Handle.pod6-method_opened">97.1.38 method opened</h2>
 <p>Defined as:</p>
 <pre class="code">method opened(IO::Handle:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the handle is open, <span class="code">False</span> otherwise.</p>
 <a name="t97.1.39"></a><h2 id="_type_IO_Handle.pod6-method_t">97.1.39 method t <a name="857"></a></h2>
 <p>Defined as:</p>
 <pre class="code">method t(IO::Handle:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the handle is opened to a <a href="https://en.wikipedia.org/wiki/Terminal_emulator">TTY</a>, <span class="code">False</span> otherwise.</p>
 <a name="t97.2"></a><h1 id="_type_IO_Handle.pod6-Related_roles_and_classes">97.2 Related roles and classes</h1>
 <p>See also the related role <a href="#_type_IO.pod6">IO</a> and the related class <a href="#_type_IO::Path.pod6">IO::Path</a>.</p>
</div>
<!-- /type/IO/Notification.pod6 --><div class="pod-body"><a id="_type_IO_Notification.pod6"></a><a name="t98"><h1 class="title">98 class IO::Notification</h1></a> <p class="subtitle">Asynchronous notification for file and directory changes </p> <pre class="code">enum FileChangeEvent (:FileChanged(1), :FileRenamed(2)); 
</pre>
 <pre class="code">class IO::Notification  { 
     class Change { 
         has $.path; 
         has $.event; 
     } 
     ... 
 } 
</pre>
 <p><span class="code">IO::Notification.watch-path($path)</span> produces a <a href="#_type_Supply.pod6">Supply</a> of <span class="code">IO::Notification::Change</span> events for a file or directory.</p>
 <p>Here is a small example that prints the first ten FileChanged-notifications for the current working directory:</p>
 <pre class="code">my $finish = Promise.new; 
 my $count = 0; 
 IO::Notification.watch-path($*CWD).act( -&gt; $change { 
     $count++ if $change.event ~~ FileChanged; 
     say &quot;($count) $change.path(): $change.event()&quot;; 
     $finish.keep if $count &gt;= 10; 
 }); 
 await $finish; 
</pre>
 <p>The type of the change is very much dependent both on the platform and on specific system calls that were used initiate the change. At this point in time you should not rely on the type of change in general, and test your particular situation.</p>
 <a name="t98.1"></a><h1 id="_type_IO_Notification.pod6-Methods">98.1 Methods</h1>
 <a name="t98.1.1"></a><h2 id="_type_IO_Notification.pod6-method_watch-path">98.1.1 method watch-path</h2>
 <pre class="code">method watch-path(IO::Notification: Str() $path, :$scheduler = $*SCHEDULER) 
</pre>
 <p>Returns a <a href="#_type_Supply.pod6">Supply</a> that emits <span class="code">IO::Notification::Change</span> objects.</p>
 <p>If <span class="code">$path</span> is a file, only modifications of that file are reported. If <span class="code">$path</span> is a directory, both modifications to the directory itself (for example permission changes) and to files in the directory (including new files in the directory) are reported.</p>
 <p><span class="code">:$scheduler</span> allows you to specify which thread scheduler is responsible for the notification stream.</p>
</div>
<!-- /type/IO/Path.pod6 --><div class="pod-body"><a id="_type_IO_Path.pod6"></a><a name="t99"><h1 class="title">99 class IO::Path</h1></a> <p class="subtitle">File or directory path</p> <pre class="code">class IO::Path is Cool does IO { } 
</pre>
 <p>The workhorse of IO operations.</p>
 <p>Conceptually, an <span class="code">IO::Path</span> object consists of a volume, a directory, and a basename. It supports both purely textual operations, and operations that access the file system, e.g. to resolve a path, or to read all content of a file.</p>
 <p>At creation, each <span class="code">IO::Path</span> object is given information about the current working directory the path might be relative to using the <span class="code">$.CWD</span> attribute (defaults to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a>), as well as what operating system semantics should be used for path manipulation using the special <a href="#_type_IO::Spec.pod6"><span class="code">IO::Spec</span></a> type given in the <span class="code">$.SPEC</span> attribute.</p>
 <p>The <span class="code">$.SPEC</span> defaults to the value of <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a>, which uses the object suitable for the operating system the code is currently running on. This is the default most code will be comfortable with.</p>
 <p>In certain situations, e.g. testing, you may wish to force <span class="code">$*SPEC</span> to use one of the specific SPEC modules: <a href="#_type_IO::Spec::Unix.pod6"><span class="code">IO::Spec::Unix</span></a>, <a href="#_type_IO::Spec::Win32.pod6"><span class="code">IO::Spec::Win32</span></a>, <a href="#_type_IO::Spec::Cygwin.pod6"><span class="code">IO::Spec::Cygwin</span></a>, and <a href="#_type_IO::Spec::QNX.pod6"><span class="code">IO::Spec::QNX</span></a>, or to create <span class="code">IO::Path</span> objects via shortcut subclasses <a href="#_type_IO::Path::Unix.pod6"><span class="code">IO::Path::Unix</span></a>, <a href="#_type_IO::Path::Win32.pod6"><span class="code">IO::Path::Win32</span></a>, <a href="#_type_IO::Path::Cygwin.pod6"><span class="code">IO::Path::Cygwin</span></a>, and <a href="#_type_IO::Path::QNX.pod6"><span class="code">IO::Path::QNX</span></a> that pre-set the <span class="code">$.SPEC</span> attribute for you.</p>
 <p>The rest of this document silently assumes Unix semantics in its examples, unless stated otherwise.</p>
 <a name="t99.1"></a><h1 id="_type_IO_Path.pod6-Methods">99.1 Methods</h1>
 <a name="t99.1.1"></a><h2 id="_type_IO_Path.pod6-method_new">99.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new(Str:D $path, IO::Spec :$SPEC = $*SPEC, Str() :$CWD = $*CWD) 
 multi method new( 
     :$basename!, :$dirname = '.', :$volume = '' 
     IO::Spec :$SPEC = $*SPEC, Str() :$CWD = $*CWD 
 ) 
</pre>
 <p>Creates a new <span class="code">IO::Path</span> object from a path string (which is being parsed for volume, directory name and basename), or from volume, directory name and basename passed as named arguments.</p>
 <p>The path's operation will be performed using <span class="code">:$SPEC</span> semantics (defaults to current <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*SPEC</span></a>) and will use <span class="code">:$CWD</span> as the directory the path is relative to (defaults to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a>).</p>
 <a name="t99.1.2"></a><h2 id="_type_IO_Path.pod6-attribute_CWD">99.1.2 attribute CWD</h2>
 <pre class="code">IO::Path.new(&quot;foo&quot;, :CWD&lt;/home/camelia&gt;)
    .IO.CWD.say; # OUTPUT: «/home/camelia␤»</pre>
 <p>Read-only. Contains implicit or explicit value of <span class="code">:$CWD</span> argument to <span class="code">.new</span>.</p>
 <a name="t99.1.3"></a><h2 id="_type_IO_Path.pod6-attribute_SPEC">99.1.3 attribute SPEC</h2>
 <pre class="code">IO::Path.new(&quot;foo&quot;, :SPEC(IO::Spec::Unix.new))\
    .IO.SPEC.^name.say; # OUTPUT: «IO::Spec::Unix␤»</pre>
 <p>Read-only. Contains implicit or explicit value of <span class="code">:$SPEC</span> argument to <span class="code">.new</span>.</p>
 <a name="t99.1.4"></a><h2 id="_type_IO_Path.pod6-attribute_path">99.1.4 attribute path</h2>
 <pre class="code">IO::Path.new(&quot;foo&quot;).path.say; # OUTPUT: «foo␤»</pre>
 <p>Read-only. Returns the string the object was constructed from or the value of <span class="code">$SPEC.join($volume, $dirname, $basename)</span> if multi-part version of <span class="code">.new</span> was used. <b>NOTE:</b> this does not include the <span class="code">$.CWD</span>; see <a href="#_routine_absolute.pod6"><span class="code">IO::Path.absolute</span></a> and <a href="#_routine_relative.pod6"><span class="code">IO::Path.relative</span></a> for stringification options that include <span class="code">$.CWD</span>.</p>
 <p><b>NOTE:</b> Implementations may cache operations done with this attribute, so modifying its value (via cloning or Proxy) is NOT recommended and may result in broken <span class="code">IO::Path</span> objects. Create a new <span class="code">IO::Path</span> object instead.</p>
 <a name="t99.1.5"></a><h2 id="_type_IO_Path.pod6-method_ACCEPTS">99.1.5 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(IO::Path:D: Cool:D $other --&gt; Bool:D)</pre>
 <p>Coerces the argument to <span class="code">IO::Path</span>, if necessary. Returns <span class="code">True</span> if <a href="#_routine_absolute.pod6"><span class="code">.absolute</span></a> method on both paths returns the same string. <b>NOTE:</b> it's possible for two paths that superficially point to the same resource to NOT smartmatch as <span class="code">True</span>, if they were constructed differently and were never fully resolved:</p>
 <pre class="code">say &quot;foo/../bar&quot;.IO ~~ &quot;bar&quot;.IO # False</pre>
 <p>The reason is the two paths above may point to different resources when fully resolved (e.g. if <span class="code">foo</span> is a symlink). Resolve the paths before smartmatching to check they point to same resource:</p>
 <pre class="code">say &quot;foo/../bar&quot;.IO.resolve(:completely) ~~ &quot;bar&quot;.IO.resolve(:completely) # True</pre>
 <a name="t99.1.6"></a><h2 id="_type_IO_Path.pod6-method_basename">99.1.6 method basename</h2>
 <p>Defined as:</p>
 <pre class="code">method basename(IO::Path:D:)</pre>
 <p>Returns the basename part of the path object, which is the name of the filesystem object itself that is referenced by the path.</p>
 <pre class="code">&quot;docs/README.pod&quot;.IO.basename.say; # OUTPUT: «README.pod␤»
&quot;/tmp/&quot;.IO.basename.say;           # OUTPUT: «tmp␤»</pre>
 <p>Note that in <a href="#_type_IO::Spec::Win32.pod6"><span class="code">IO::Spec::Win32</span></a> semantics, the <span class="code">basename</span> of a Windows share is <span class="code">\</span>, not the name of the share itself:</p>
 <pre class="code">IO::Path::Win32.new('//server/share').basename.say; # OUTPUT: «\␤»</pre>
 <a name="t99.1.7"></a><h2 id="_type_IO_Path.pod6-method_add">99.1.7 method add</h2>
 <p>Defined as:</p>
 <pre class="code">method add(IO::Path:D: Str() $what --&gt; IO::Path:D)</pre>
 <p>Concatenates a path fragment to the invocant and returns the resultant <span class="code">IO::Path</span>. If adding <span class="code">../</span> to paths that end with a file, you may need to call <a href="#_routine_resolve.pod6">resolve</a> for the resultant path to be accessible by other <span class="code">IO::Path</span> methods like <a href="#_routine_dir.pod6">dir</a> or <a href="#_routine_open.pod6">open</a>. See also <a href="#_routine_sibling.pod6">sibling</a> and <a href="#_routine_parent.pod6">parent</a>.</p>
 <pre class="code">&quot;foo/bar&quot;.IO.mkdir;
&quot;foo/bar&quot;.IO.add(&quot;meow&quot;)    .resolve.relative.say; # OUTPUT: «foo/bar/meow␤»
&quot;foo/bar&quot;.IO.add(&quot;/meow&quot;)   .resolve.relative.say; # OUTPUT: «foo/bar/meow␤»
&quot;foo/bar&quot;.IO.add(&quot;meow.txt&quot;).resolve.relative.say; # OUTPUT: «foo/bar/meow.txt␤»
&quot;foo/bar&quot;.IO.add(&quot;../meow&quot;) .resolve.relative.say; # OUTPUT: «foo/meow␤»
&quot;foo/bar&quot;.IO.add(&quot;../../&quot;)  .resolve.relative.say; # OUTPUT: «.␤»</pre>
 <a name="t99.1.8"></a><h2 id="_type_IO_Path.pod6-method_child">99.1.8 method child</h2>
 <p>Defined as:</p>
 <pre class="code">method child(IO::Path:D: Str() $childname --&gt; IO::Path:D)</pre>
 <p>Alias for <a href="#_routine_add.pod6"><span class="code">.add</span></a>. <b>NOTE:</b> <span class="code">.child</span> will be switched to secure version around 6.e release time, which will <span class="code">fail()</span> with non-child paths and is also slower, since it has to do more work. Use <a href="#_routine_add.pod6"><span class="code">.add</span></a> if your code does not need to guarantee the added path is in fact a child path.</p>
 <a name="t99.1.9"></a><h2 id="_type_IO_Path.pod6-method_cleanup">99.1.9 method cleanup</h2>
 <p>Defined as:</p>
 <pre class="code">method cleanup(IO::Path:D: --&gt; IO::Path:D)</pre>
 <p>Returns a new path that is a canonical representation of the invocant path, cleaning up any extraneous path parts:</p>
 <pre class="code">&quot;foo/./././..////bar&quot;.IO.cleanup.say;      # OUTPUT: «&quot;foo/../bar&quot;.IO␤»
IO::Path::Win32.new(&quot;foo/./././..////bar&quot;)
    .cleanup.say; &quot;foo\..\bar&quot;.IO;         # OUTPUT: «&quot;foo\..\bar&quot;.IO␤»</pre>
 <p>Note that no file system access is made. See also <a href="#_routine_resolve.pod6"><span class="code">resolve</span></a>.</p>
 <a name="t99.1.10"></a><h2 id="_type_IO_Path.pod6-method_comb">99.1.10 method comb</h2>
 <p>Defined as:</p>
 <pre class="code">method comb(IO::Path:D: |args --&gt; Seq:D)</pre>
 <p>Opens the file and processes its contents the same way <a href="#_type_Str.pod6-routine_comb"><span class="code">Str.comb</span></a> does, taking the same arguments. Implementations may slurp the file in its entirety when this method is called.</p>
 <a name="t99.1.11"></a><h2 id="_type_IO_Path.pod6-method_split">99.1.11 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(IO::Path:D: |args --&gt; Seq:D)</pre>
 <p>Opens the file and processes its contents the same way <a href="#_type_Str.pod6-routine_split"><span class="code">Str.split</span></a> does, taking the same arguments. Implementations may slurp the file in its entirety when this method is called.</p>
 <a name="t99.1.12"></a><h2 id="_type_IO_Path.pod6-method_extension">99.1.12 method extension</h2>
 <p>Defined as:</p>
 <pre class="code">multi method extension(IO::Path:D:                                         --&gt; Str:D)
multi method extension(IO::Path:D:               Int :$parts               --&gt; Str:D)
multi method extension(IO::Path:D:             Range :$parts               --&gt; Str:D)
multi method extension(IO::Path:D: Str $subst,   Int :$parts, Str :$joiner --&gt; IO::Path:D)
multi method extension(IO::Path:D: Str $subst, Range :$parts, Str :$joiner --&gt; IO::Path:D)</pre>
 <p>Returns the extension consisting of <span class="code">$parts</span> parts (defaults to <span class="code">1</span>), where a &quot;part&quot; is defined as a dot followed by possibly-empty string up to the end of the string, or previous part. That is <span class="code">&quot;foo.tar.gz&quot;</span> has an extension of two parts: first part is <span class="code">&quot;gz&quot;</span> and second part is <span class="code">&quot;tar&quot;</span> and calling <span class="code">&quot;foo.tar.gz&quot;.IO.extension: :2parts</span> gives <span class="code">&quot;tar.gz&quot;</span>. If an extension with the specified number of <span class="code">$parts</span> is not found, returns an empty string.</p>
 <p><span class="code">$parts</span> can be a <a href="#_type_Range.pod6"><span class="code">Range</span></a>, specifying the minimum number of parts and maximum number of parts the extension should have. The routine will attempt to much the most parts it can. If <span class="code">$parts</span> range's endpoints that are smaller than <span class="code">0</span> they'll be treated as <span class="code">0</span>; implementations may treat endpoints larger than <span class="code">2⁶³-1</span> as <span class="code">2⁶³-1</span>. Ranges with <span class="code">NaN</span> or <a href="#_type_Str.pod6"><span class="code">Str</span></a> endpoints will cause an exception to be thrown.</p>
 <p>If <span class="code">$subst</span> is provided, the extension will be instead replaced with <span class="code">$subst</span> and a new <span class="code">IO::Path</span> object will be returned. It will be joined to the file's name with <span class="code">$joiner</span>, which defaults to an empty string when <span class="code">$subst</span> is an empty string and to <span class="code">&quot;.&quot;</span> when <span class="code">$subst</span> is not empty. <b>Note:</b> if as the result of replacement the <a href="#_routine_basename.pod6"><span class="code">basename</span></a> of the path ends up being empty, it will be assumed to be <span class="code">.</span> (a single dot).</p>
 <pre class="code"># Getting an extension:
say &quot;foo.tar.gz&quot;.IO.extension;               # OUTPUT: «gz␤»
say &quot;foo.tar.gz&quot;.IO.extension: :2parts;      # OUTPUT: «tar.gz␤»
say &quot;foo.tar.gz&quot;.IO.extension: :parts(^5);   # OUTPUT: «tar.gz␤»
say &quot;foo.tar.gz&quot;.IO.extension: :parts(0..1); # OUTPUT: «gz␤»

# Replacing an extension
say &quot;foo.tar.gz&quot;.IO.extension: '';                # OUTPUT: «&quot;foo.tar&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP';             # OUTPUT: «&quot;foo.tar.ZIP&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :0parts;    # OUTPUT: «&quot;foo.tar.gz.ZIP&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :2parts;    # OUTPUT: «&quot;foo.ZIP&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :parts(^5); # OUTPUT: «&quot;foo.ZIP&quot;.IO␤»

# Replacing an extension using non-standard joiner:
say &quot;foo.tar.gz&quot;.IO.extension: '',    :joiner&lt;_&gt;;  # OUTPUT: «&quot;foo.tar_&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :joiner&lt;_&gt;;  # OUTPUT: «&quot;foo.tar_ZIP&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :joiner&lt;_&gt;,
                                       :2parts;     # OUTPUT: «&quot;foo_ZIP&quot;.IO␤»
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :joiner&lt;_&gt;,
                                       :parts(^5);  # OUTPUT: «&quot;foo_ZIP&quot;.IO␤»

# EDGE CASES:

# There is no 5-part extension, so returned value is an empty string
say &quot;foo.tar.gz&quot;.IO.extension: :5parts; # OUTPUT: «␤»

# There is no 5-part extension, so we replaced nothing:
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :5parts; # OUTPUT: «&quot;foo.tar.gz&quot;.IO␤»

# Replacing a 0-part extension is just appending:
say &quot;foo.tar.gz&quot;.IO.extension: 'ZIP', :0parts; # OUTPUT: «&quot;foo.tar.gz.ZIP&quot;.IO␤»

# Replace 1-part of the extension, using '.' joiner
say &quot;...&quot;.IO.extension: 'tar'; # OUTPUT: «&quot;...tar&quot;.IO␤»

# Replace 1-part of the extension, using empty string joiner
say &quot;...&quot;.IO.extension: 'tar', :joiner(''); # OUTPUT: «&quot;..tar&quot;.IO␤»

# Remove 1-part extension; results in empty basename, so result is &quot;.&quot;.IO
say &quot;.&quot;.IO.extension: ''; # OUTPUT: «&quot;.&quot;.IO␤»</pre>
 <a name="t99.1.13"></a><h2 id="_type_IO_Path.pod6-method_dirname">99.1.13 method dirname</h2>
 <p>Defined as:</p>
 <pre class="code">method dirname(IO::Path:D:)</pre>
 <p>Returns the directory name portion of the path object. That is, it returns the path excluding the <a href="#_routine_volume.pod6">volume</a> and the <a href="#_routine_basename.pod6">base name</a>.</p>
 <pre class="code">say IO::Path.new(&quot;/home/camelia/myfile.p6&quot;).dirname; # OUTPUT: «/home/camelia␤»
say IO::Path::Win32.new(&quot;C:/home/camelia&quot;).dirname;  # OUTPUT: «/home␤»
say IO::Path.new(&quot;/home&quot;).dirname;                   # OUTPUT: «/␤»</pre>
 <a name="t99.1.14"></a><h2 id="_type_IO_Path.pod6-method_volume">99.1.14 method volume</h2>
 <p>Defined as:</p>
 <pre class="code">method volume(IO::Path:D:)</pre>
 <p>Returns the volume portion of the path object. On Unix system, this is always the empty string.</p>
 <pre class="code">say IO::Path::Win32.new(&quot;C:\\Windows\\registry.ini&quot;).volume;    # OUTPUT: «C:␤»</pre>
 <a name="t99.1.15"></a><h2 id="_type_IO_Path.pod6-method_parts">99.1.15 method parts</h2>
 <p>Defined as:</p>
 <pre class="code">method parts(IO::Path:D: --&gt; Map:D)</pre>
 <p>Returns a <a href="#_type_Map.pod6">Map</a> with the keys <span class="code">volume</span>, <span class="code">dirname</span>, <span class="code">basename</span> whose values are the same as available via methods <a href="#_routine_volume.pod6"><span class="code">.volume</span></a>, <a href="#_routine_dirname.pod6"><span class="code">.dirname</span></a>, and <a href="#_routine_basename.pod6"><span class="code">.basename</span></a> respectively.</p>
 <pre class="code">say IO::Path::Win32.new(&quot;C:/rakudo/perl6.bat&quot;).parts.perl;
# OUTPUT: «Map.new((:basename(&quot;perl6.bat&quot;),:dirname(&quot;/rakudo&quot;),:volume(&quot;C:&quot;)))␤»</pre>
 <a name="t99.1.16"></a><h2 id="_type_IO_Path.pod6-method_perl">99.1.16 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(IO::Path:D: --&gt; Str:D)</pre>
 <p>Returns a string that, when given passed through <a href="#_routine_EVAL.pod6"><span class="code">EVAL</span></a> gives the original invocant back.</p>
 <pre class="code">&quot;foo/bar&quot;.IO.perl.say;
# OUTPUT: IO::Path.new(&quot;foo/bar&quot;, :SPEC(IO::Spec::Unix), :CWD(&quot;/home/camelia&quot;))</pre>
 <p>Note that this string includes the value of the <span class="code">.CWD</span> attribute that is set to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> when the path object was created, by default.</p>
 <a name="t99.1.17"></a><h2 id="_type_IO_Path.pod6-method_gist">99.1.17 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">method gist(IO::Path:D: --&gt; Str:D)</pre>
 <p>Returns a string, part of which contains either the value of <a href="#_type_IO::Path.pod6-method_absolute"><span class="code">.absolute</span></a> (if path is absolute) or <a href="#_type_IO::Path.pod6-attribute_path"><span class="code">.path</span></a>. Note that no escaping of special characters is made, so e.g. <span class="code">&quot;\b&quot;</span> means a path contains a backslash and letter &quot;b&quot;, not a backspace.</p>
 <pre class="code">say &quot;foo/bar&quot;.IO;                       # OUTPUT: «&quot;foo/bar&quot;.IO␤»
say IO::Path::Win32.new: ｢C:\foo/bar\｣; # OUTPUT: «&quot;C:\foo/bar\&quot;.IO␤»</pre>
 <a name="t99.1.18"></a><h2 id="_type_IO_Path.pod6-method_Str">99.1.18 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">method Str(IO::Path:D: --&gt; Str)</pre>
 <p>Alias for <a href="#_routine_path.pod6"><span class="code">IO::Path.path</span></a>. In particular, note that default stringification of an <span class="code">IO::Path</span> does <b>NOT</b> use the value of <a href="#_type_IO::Path.pod6-attribute_CWD"><span class="code">$.CWD</span>  attribute</a>. To stringify while retaining full path information use <a href="#_routine_absolute.pod6"><span class="code">.absolute</span></a> or <a href="#_routine_relative.pod6"><span class="code">.relative</span></a> methods.</p>
 <a name="t99.1.19"></a><h2 id="_type_IO_Path.pod6-method_succ">99.1.19 method succ</h2>
 <p>Defined as:</p>
 <pre class="code">method succ(IO::Path:D: --&gt; IO::Path:D)</pre>
 <p>Returns a new <a href="#_type_IO::Path.pod6">IO::Path</a> constructed from the invocant, with <a href="#_routine_basename.pod6"><span class="code">.basename</span></a> changed by calling <a href="#_type_Str.pod6-method_succ"><span class="code">Str.succ</span></a> on it.</p>
 <pre class="code">&quot;foo/file02.txt&quot;.IO.succ.say; # OUTPUT: «&quot;foo/file03.txt&quot;.IO␤»</pre>
 <a name="t99.1.20"></a><h2 id="_type_IO_Path.pod6-method_open">99.1.20 method open</h2>
 <p>Defined as:</p>
 <pre class="code">method open(IO::Path:D: *%opts)</pre>
 <p>Opens the path as a file; the named options control the mode, and are the same as the <a href="#_routine_open.pod6">open</a> function accepts.</p>
 <a name="t99.1.21"></a><h2 id="_type_IO_Path.pod6-method_pred">99.1.21 method pred</h2>
 <p>Defined as:</p>
 <pre class="code">method pred(IO::Path:D: --&gt; IO::Path:D)</pre>
 <p>Returns a new <a href="#_type_IO::Path.pod6">IO::Path</a> constructed from the invocant, with <a href="#_routine_basename.pod6"><span class="code">.basename</span></a> changed by calling <a href="#_type_Str.pod6-method_pred"><span class="code">Str.pred</span></a> on it.</p>
 <pre class="code">&quot;foo/file02.txt&quot;.IO.pred.say; # OUTPUT: «&quot;foo/file01.txt&quot;.IO␤»</pre>
 <a name="t99.1.22"></a><h2 id="_type_IO_Path.pod6-method_watch">99.1.22 method watch</h2>
 <p>Defined as:</p>
 <pre class="code">method watch(IO::Path:D: --&gt; Supply:D)</pre>
 <p>Equivalent to calling <a href="#_type_IO::Notification.pod6-method_watch-path">IO::Notification.watch-path</a> with the invocant as the argument.</p>
 <a name="t99.1.23"></a><h2 id="_type_IO_Path.pod6-method_is-absolute">99.1.23 method is-absolute</h2>
 <p>Defined as:</p>
 <pre class="code">method is-absolute(IO::Path:D: --&gt; Bool)</pre>
 <p>Returns <span class="code">True</span> if the path is an absolute path, and <span class="code">False</span> otherwise.</p>
 <pre class="code">&quot;/foo&quot;.IO.is-absolute.say; # OUTPUT: «True␤»
&quot;bars&quot;.IO.is-absolute.say; # OUTPUT: «False␤»</pre>
 <p>Note that on Windows a path that starts with a slash or backslash is still considered absolute even if no volume was given, as it is absolute for that particular volume:</p>
 <pre class="code">IO::Path::Win32.new(&quot;/foo&quot;  ).is-absolute.say; # OUTPUT: «True␤»
IO::Path::Win32.new(&quot;C:/foo&quot;).is-absolute.say; # OUTPUT: «True␤»
IO::Path::Win32.new(&quot;C:foo&quot; ).is-absolute.say; # OUTPUT: «False␤»</pre>
 <a name="t99.1.24"></a><h2 id="_type_IO_Path.pod6-method_is-relative">99.1.24 method is-relative</h2>
 <p>Defined as:</p>
 <pre class="code">method is-relative(IO::Path:D: --&gt; Bool)</pre>
 <p>Returns <span class="code">True</span> if the path is a relative path, and <span class="code">False</span> otherwise. Windows caveats for <a href="#_type_IO::Path.pod6-method_is-absolute"><span class="code">.is-absolute</span></a> apply.</p>
 <a name="t99.1.25"></a><h2 id="_type_IO_Path.pod6-method_absolute">99.1.25 method absolute</h2>
 <p>Defined as:</p>
 <pre class="code">multi method absolute(IO::Path:D: --&gt; Str)
multi method absolute(IO::Path:D: $base --&gt; Str)</pre>
 <p>Returns a new <span class="code">Str</span> object that is an absolute path. If the invocant is not already an absolute path, it is first made absolute using <span class="code">$base</span> as base, if it is provided, or the <span class="code">.CWD</span> attribute the object was created with if it is not.</p>
 <a name="t99.1.26"></a><h2 id="_type_IO_Path.pod6-method_relative">99.1.26 method relative</h2>
 <p>Defined as:</p>
 <pre class="code">method relative(IO::Path:D: $base = $*CWD --&gt; Str)</pre>
 <p>Returns a new <span class="code">Str</span> object with the path relative to the <span class="code">$base</span>. If <span class="code">$base</span> is not provided, <span class="code">$*CWD</span> is used in its place. If the invocant is not an absolute path, it's first made to be absolute using the <span class="code">.CWD</span> attribute the object was created with, and then is made relative to <span class="code">$base</span>.</p>
 <a name="t99.1.27"></a><h2 id="_type_IO_Path.pod6-method_parent">99.1.27 method parent</h2>
 <p>Defined as:</p>
 <pre class="code">multi method parent(IO::Path:D: --&gt; IO::Path:D)
multi method parent(IO::Path:D: UInt:D $level --&gt; IO::Path:D)</pre>
 <p>Returns the parent path of the invocant. Note that no file system access is made, so the returned parent is physical and not the logical parent of symlinked directories.</p>
 <pre class="code">'/etc/foo'.IO.parent.say; # OUTPUT: «&quot;/etc&quot;.IO␤»
'/etc/..' .IO.parent.say; # OUTPUT: «&quot;/etc&quot;.IO␤»
'/etc/../'.IO.parent.say; # OUTPUT: «&quot;/etc&quot;.IO␤»
'./'      .IO.parent.say; # OUTPUT: «&quot;..&quot;.IO␤»
'foo'     .IO.parent.say; # OUTPUT: «&quot;.&quot;.IO␤»
'/'       .IO.parent.say; # OUTPUT: «&quot;/&quot;.IO␤»
IO::Path::Win32.new('C:/').parent.say; # OUTPUT: «&quot;C:/&quot;.IO␤»</pre>
 <p>If <span class="code">$level</span> is specified, the call is equivalent to calling <span class="code">.parent()</span> <span class="code">$level</span> times:</p>
 <pre class="code">say &quot;/etc/foo&quot;.IO.parent(2) eqv &quot;/etc/foo&quot;.IO.parent.parent; # OUTPUT: «True␤»</pre>
 <a name="t99.1.28"></a><h2 id="_type_IO_Path.pod6-method_resolve">99.1.28 method resolve</h2>
 <p>Defined as:</p>
 <pre class="code">method resolve(IO::Path:D: :$completely --&gt; IO::Path)</pre>
 <p>Returns a new <span class="code">IO::Path</span> object with all symbolic links and references to the parent directory (<span class="code">..</span>) resolved. This means that the filesystem is examined for each directory in the path, and any symlinks found are followed.</p>
 <pre class="code"># bar is a symlink pointing to &quot;/baz&quot;
my $io = &quot;foo/./bar/..&quot;.IO.resolve;      # now &quot;/&quot; (the parent of &quot;/baz&quot;)</pre>
 <p>If <span class="code">:$completely</span>, which defaults to <span class="code">False</span>, is set to a true value, the method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::Resolve</span> if it cannot completely resolve the path, otherwise, it will resolve as much as possible, and will merely perform <a href="#_routine_cleanup.pod6"><span class="code">cleanup</span></a> of the rest of the path. The last part of the path does <b>NOT</b> have to exist to <span class="code">:$completely</span> resolve the path.</p>
 <p>NOTE: Currently (April 2017) this method doesn't work correctly on all platforms, e.g. Windows, since it assumes POSIX semantics.</p>
 <a name="t99.1.29"></a><h2 id="_type_IO_Path.pod6-routine_dir">99.1.29 routine dir</h2>
 <p>Defined as:</p>
 <pre class="code">sub    dir(Cool $path = '.', Mu :$test = none('.', '..'))
method dir(IO::Path:D: Mu :$test = none('.', '..'))</pre>
 <p>Returns the contents of a directory as a lazy list of <span class="code">IO::Path</span> objects representing relative paths, filtered by <a href="#_language_operators.pod6-infix_~~">smart-matching</a> their names (as strings) against the <span class="code">:test</span> parameter.</p>
 <p><b>NOTE:</b> a <span class="code">dir</span> call opens a directory for reading, which counts towards maximum per-process open files for your program. Be sure to exhaust returned <a href="#_type_Seq.pod6">Seq</a> before doing something like recursively performing more <span class="code">dir</span> calls. You can exhaust it by assigning to a <span class="code">@-</span>sigiled variable or simply looping over it. Note how examples below push further dirs to look through into an <a href="#_type_Array.pod6">Array</a>, rather than immediately calling <span class="code">dir</span> on them. See also <a href="https://modules.perl6.org/dist/IO::Dir"><span class="code">IO::Dir</span>  module</a> that gives you finer control over closing dir handles.</p>
 <p>Examples:</p>
 <pre class="code"># To iterate over the contents of the current directory:
for dir() -&gt; $file {
    say $file;
}

# As before, but include even '.' and '..' which are filtered out by
# the default :test matcher:
for dir(test =&gt; *) -&gt; $file {
    say $file;
}

# To get the names of all .jpg and .jpeg files in ~/Downloads:
my @jpegs = $*HOME.dir: test =&gt; /:i '.' jpe?g $/;</pre>
 TODO: Turn the following into a FAQ entry, and link to it from here.
 <p>An example program that lists all files and directories recursively:</p>
 <pre class="code">sub MAIN($dir = '.') {
    my @todo = $dir.IO;
    while @todo {
        for @todo.pop.dir -&gt; $path {
            say $path.Str;
            @todo.push: $path if $path.d;
        }
    }
}</pre>
 <p>A lazy way to find the first three files ending in &quot;.p6&quot; recursively starting from the current directory:</p>
 <pre class="code">my @stack = '.'.IO; 
 my $perl-files = gather while @stack { 
     with @stack.pop { 
         when :d { @stack.append: .dir } 
         .take when .extension.lc eq 'p6' 
     } 
 } 
 .put for $perl-files[^3]; 
</pre>
 <a name="t99.1.30"></a><h2 id="_type_IO_Path.pod6-File_test_operators">99.1.30 File test operators</h2>
 <p>For most file tests, you can do a smart match <span class="code">~~</span> or you can call a method. You don't need to actually open a filehandle in the traditional way (although you can) to do a filetest. You can simply append <span class="code">.IO</span> to the filename. For instance, here is how to check if a file is readable using smart match: <span class="code">'/path/to/file'.IO ~~ :r</span></p>
 <p>You can, of course, use an already opened filehandle. Here, using the file handle <span class="code">$fh</span>, is an example, using the method syntax for the file test: $fh.r</p>
 <p>File tests include :e <a href="#_type_IO::Path.pod6-method_e">Exists</a> :d <a href="#_type_IO::Path.pod6-method_d">Directory</a> :f <a href="#_type_IO::Path.pod6-method_f">File</a> :l <a href="#_type_IO::Path.pod6-method_l">Symbolic link</a> :r <a href="#_type_IO::Path.pod6-method_r">Readable</a> :w <a href="#_type_IO::Path.pod6-method_w">Writable</a> :x <a href="#_type_IO::Path.pod6-method_x">Executable</a> :s <a href="#_type_IO::Path.pod6-method_s">Size</a> :z <a href="#_type_IO::Path.pod6-method_z">Zero size</a></p>
 <p>All of these tests can be used as methods (without the colon). Three tests, however exist only as methods: $fh.modified; $fh.accessed; $fh.changed;</p>
 <a name="t99.1.31"></a><h2 id="_type_IO_Path.pod6-method_e">99.1.31 method e</h2>
 <p>Defined as:</p>
 <pre class="code">method e(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.32"></a><h2 id="_type_IO_Path.pod6-method_d">99.1.32 method d</h2>
 <p>Defined as:</p>
 <pre class="code">method d(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is a directory. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.33"></a><h2 id="_type_IO_Path.pod6-method_f">99.1.33 method f</h2>
 <p>Defined as:</p>
 <pre class="code">method f(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is a file. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.34"></a><h2 id="_type_IO_Path.pod6-method_s">99.1.34 method s</h2>
 <p>Defined as:</p>
 <pre class="code">method s(--&gt; Int:D)</pre>
 <p>Returns the file size in bytes. May be called on paths that are directories, in which case the reported size is dependent on the operating system. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.35"></a><h2 id="_type_IO_Path.pod6-method_l">99.1.35 method l</h2>
 <p>Defined as:</p>
 <pre class="code">method l(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is a symlink. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.36"></a><h2 id="_type_IO_Path.pod6-method_r">99.1.36 method r</h2>
 <p>Defined as:</p>
 <pre class="code">method r(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is accessible. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.37"></a><h2 id="_type_IO_Path.pod6-method_w">99.1.37 method w</h2>
 <p>Defined as:</p>
 <pre class="code">method w(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is writable. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.38"></a><h2 id="_type_IO_Path.pod6-method_rw">99.1.38 method rw</h2>
 <p>Defined as:</p>
 <pre class="code">method rw(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is readable and writable. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.39"></a><h2 id="_type_IO_Path.pod6-method_x">99.1.39 method x</h2>
 <p>Defined as:</p>
 <pre class="code">method x(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is executable. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.40"></a><h2 id="_type_IO_Path.pod6-method_rwx">99.1.40 method rwx</h2>
 <p>Defined as:</p>
 <pre class="code">method rwx(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and is executable, readable, and writable. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.41"></a><h2 id="_type_IO_Path.pod6-method_z">99.1.41 method z</h2>
 <p>Defined as:</p>
 <pre class="code">method z(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is a path that exists and has size of <span class="code">0</span>. May be called on paths that are directories, in which case the reported file size (and thus the result of this method) is dependent on the operating system. The method will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> with <span class="code">X::IO::DoesNotExist</span> if the path points to a non-existent filesystem entity.</p>
 <p>TIP: use <a href="#_type_Pair.pod6-method_ACCEPTS">smartmatch with Pairs</a> to perform multiple file tests.</p>
 <a name="t99.1.42"></a><h2 id="_type_IO_Path.pod6-method_sibling">99.1.42 method sibling</h2>
 <p>Defined as:</p>
 <pre class="code">method sibling(IO::Path:D: Str() $sibling --&gt; IO::Path:D)</pre>
 <p>Allows to reference a sibling file or directory. Returns a new <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> based on the invocant, with the <a href="#_type_IO::Path.pod6-method_basename"><span class="code">.basename</span></a> changed to <span class="code">$sibling</span>. The <span class="code">$sibling</span> is allowed to be a multi-part path fragment; see also <a href="#_type_IO::Path.pod6-method_add"><span class="code">.add</span></a>.</p>
 <pre class="code">say '.bashrc'.IO.sibling: '.bash_aliases'; # OUTPUT: «.bash_aliases&quot;.IO␤»
say '/home/camelia/.bashrc'.IO.sibling: '.bash_aliases';
# OUTPUT: «/home/camelia/.bash_aliases&quot;.IO␤»

say '/foo/' .IO.sibling: 'bar';  # OUTPUT: «/bar&quot;.IO␤»
say '/foo/.'.IO.sibling: 'bar';  # OUTPUT: «/foo/bar&quot;.IO␤»</pre>
 <a name="t99.1.43"></a><h2 id="_type_IO_Path.pod6-method_words">99.1.43 method words</h2>
 <p>Defined as:</p>
 <pre class="code">method words(IO::Path:D: :$chomp = True, :$enc = 'utf8', :$nl-in = [&quot;\x0A&quot;, &quot;\r\n&quot;], |c --&gt; Seq:D)</pre>
 <p>Opens the invocant and returns its <a href="#_type_IO::Handle.pod6-routine_words">words</a>.</p>
 <p>The behaviour is equivalent to <a href="#_routine_open.pod6">opening</a> the file specified by the invocant, forwarding the <span class="code">:$chomp</span>, <span class="code">:$enc</span>, and <span class="code">:$nl-in</span> arguments to <a href="#_type_IO::Handle.pod6-routine_open"><span class="code">IO::Handle.open</span></a>, then calling <a href="#_type_IO::Handle.pod6-routine_words"><span class="code">IO::Handle.words</span></a> on that handle, forwarding any of the remaining arguments to that method, and returning the resultant <a href="#_type_Seq.pod6">Seq</a>.</p>
 <p><b>NOTE:</b> the words are ready lazily and the handle used under the hood won't get closed until the returned <a href="#_type_Seq.pod6">Seq</a> is <a href="#_language_glossary.pod6-index-entry-Reify">fully reified</a>, so ensure it is, or you'll be leaking open file handles. (TIP: use the <a href="#_type_IO::Handle.pod6-routine_words"><span class="code">$limit</span>  argument</a>)</p>
 <pre class="code">my %dict := bag 'my-file.txt'.IO.words; 
 say &quot;Most common words: &quot;, %dict.sort(-*.value).head: 5; 
</pre>
 <a name="t99.1.44"></a><h2 id="_type_IO_Path.pod6-method_lines">99.1.44 method lines</h2>
 <p>Defined as:</p>
 <pre class="code">method lines(IO::Path:D: :$chomp = True, :$enc = 'utf8', :$nl-in = [&quot;\x0A&quot;, &quot;\r\n&quot;], |c --&gt; Seq:D)</pre>
 <p>Opens the invocant and returns its <a href="#_type_IO::Handle.pod6-routine_lines">lines</a>.</p>
 <p>The behaviour is equivalent to <a href="#_routine_open.pod6">opening</a> the file specified by the invocant, forwarding the <span class="code">:$chomp</span>, <span class="code">:$enc</span>, and <span class="code">:$nl-in</span> arguments to <a href="#_type_IO::Handle.pod6-routine_open"><span class="code">IO::Handle.open</span></a>, then calling <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">IO::Handle.lines</span></a> on that handle, forwarding any of the remaining arguments to that method, and returning the resultant <a href="#_type_Seq.pod6">Seq</a>.</p>
 <p><b>NOTE:</b> the lines are ready lazily and the handle used under the hood won't get closed until the returned <a href="#_type_Seq.pod6">Seq</a> is <a href="#_language_glossary.pod6-index-entry-Reify">fully reified</a>, so ensure it is, or you'll be leaking open file handles. (TIP: use the <a href="#_type_IO::Handle.pod6-routine_lines"><span class="code">$limit</span>  argument</a>)</p>
 <pre class="code">say &quot;The file contains &quot;, 
   '50GB-file'.IO.lines.grep(*.contains: 'Perl').elems, 
   &quot; lines that mention Perl&quot;; 
 # OUTPUT: «The file contains 72 lines that mention Perl␤» 
</pre>
 <a name="t99.1.45"></a><h2 id="_type_IO_Path.pod6-routine_slurp">99.1.45 routine slurp</h2>
 <p>Defined as:</p>
 <pre class="code">multi method slurp(IO::Path:D: :$bin, :$enc)</pre>
 <p>Read all of the file's content and return it as either <a href="#_type_Buf.pod6">Buf</a>, if <span class="code">:$bin</span> is <span class="code">True</span>, or if not, as <a href="#_type_Str.pod6">Str</a> decoded with <span class="code">:$enc</span> encoding, which defaults to <span class="code">utf8</span>. See <a href="#_routine_open.pod6"><span class="code">&amp;open</span></a> for valid values for <span class="code">:$enc</span>.</p>
 <a name="t99.1.46"></a><h2 id="_type_IO_Path.pod6-method_spurt">99.1.46 method spurt</h2>
 <p>Defined as:</p>
 <pre class="code">method spurt(IO::Path:D: $data, :$enc, :$append, :$createonly)</pre>
 <p>Opens the file path for writing, and writes all of the <span class="code">$data</span> into it. Will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> if it cannot succeed for any reason. The <span class="code">$data</span> can be any <a href="#_type_Cool.pod6"><span class="code">Cool</span></a> type or any <a href="#_type_Blob.pod6"><span class="code">Blob</span></a> type. Arguments are as follows:</p>
 <ul><li><p><span class="code">:$enc</span> — character encoding of the data. Takes same values as <span class="code">:$enc</span> in <a href="#_routine_open.pod6"><span class="code">IO::Handle.open</span></a>. Defaults to <span class="code">utf8</span>. Ignored if <span class="code">$data</span> is a <a href="#_type_Blob.pod6"><span class="code">Blob</span></a>.</p>
</li></ul> <ul><li><p><span class="code">:$append</span> — open the file in <span class="code">append</span> mode, preserving existing contents, and appending data to the end of the file.</p>
</li></ul> <ul><li><p><span class="code">:$createonly</span> — <a href="#_routine_fail.pod6"><span class="code">fail</span></a> if the file already exists.</p>
</li></ul> <a name="t99.1.47"></a><h2 id="_type_IO_Path.pod6-method_chdir">99.1.47 method chdir</h2>
 <p>Defined as:</p>
 <pre class="code">multi method chdir(IO::Path:D: Str() $path, :$d = True, :$r, :$w, :$x)</pre>
 <p><b>DEPRECATION NOTICE:</b> this method will be deprecated in <span class="code">6.d</span> language and removed in <span class="code">6.e</span>. Do not use it for new code. Instead, create a new path or use <a href="#_routine_add.pod6"><span class="code">add</span></a> method. For altering current working directory see <a href="#_routine_chdir.pod6"><span class="code">&amp;chdir</span></a> and <a href="#_routine_&amp;*chdir.pod6"><span class="code">&amp;*chdir</span></a> subroutines.</p>
 <p>Contrary to the name, the <span class="code">.chdir</span> method does not change any directories, but merely concatenates the given <span class="code">$path</span> to the invocant and returns the resultant <span class="code">IO::Path</span>. Optional file tests can be performed by providing <span class="code">:d</span>, <span class="code">:r</span>, <span class="code">:w</span>, or <span class="code">:x</span> <a href="#_type_Bool.pod6"><span class="code">Bool</span></a> named arguments; when set to <span class="code">True</span>, they'll perform <a href="#_routine_d.pod6"><span class="code">.d</span></a>, <a href="#_routine_r.pod6"><span class="code">.r</span></a>, <a href="#_routine_w.pod6"><span class="code">.w</span></a>, and <a href="#_routine_x.pod6"><span class="code">.x</span></a> tests respectively. By default, only <span class="code">:d</span> is set to <span class="code">True</span>.</p>
 <a name="t99.1.48"></a><h2 id="_type_IO_Path.pod6-sub_mkdir">99.1.48 sub mkdir</h2>
 <p>Defined as:</p>
 <pre class="code">method mkdir(IO::Path:D: Int() $mode = 0o777 --&gt; IO::Path:D)</pre>
 <p>Creates a new directory, including its parent directories, as needed (similar to *nix utility <span class="code">mkdir</span> with <span class="code">-p</span> option). That is, <span class="code">mkdir &quot;foo/bar/ber/meow&quot;</span> will create <span class="code">foo</span>, <span class="code">foo/bar</span>, and <span class="code">foo/bar/ber</span> directories as well if they do not exist.</p>
 <p>Returns the <a href="#_type_IO::Path.pod6">IO::Path</a> object pointing to the newly created directory on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Mkdir.pod6">X::IO::Mkdir</a> if directory cannot be created.</p>
 <p>See also <a href="#_routine_mode.pod6"><span class="code">mode</span></a> for explanation and valid values for <span class="code">$mode</span>.</p>
 <a name="t99.1.49"></a><h2 id="_type_IO_Path.pod6-routine_rmdir">99.1.49 routine rmdir</h2>
 <p>Defined as:</p>
 <pre class="code">sub    rmdir(*@dirs --&gt; List:D)
method rmdir(IO::Path:D: --&gt; True)</pre>
 <p>Remove the invocant, or in sub form, all of the provided directories in the given list, which can contain any <a href="#_type_Cool.pod6">Cool</a> object. Only works on empty directories.</p>
 <p>Method form returns <span class="code">True</span> on success and throws an exception of type <span class="code">X::IO::Rmdir</span> if the directory cannot be removed (e.g. the directory is not empty, or the path is not a directory). Subroutine form returns a list of directories that were successfully deleted.</p>
 <p>To delete non-empty directory, see <a href="https://github.com/labster/p6-file-directory-tree">rmtree in  <span class="code">File::Directory::Tree</span>  module</a>.</p>
 <a name="t99.1.50"></a><h2 id="_type_IO_Path.pod6-method_chmod">99.1.50 method chmod</h2>
 <p>Defined as:</p>
 <pre class="code">method chmod(IO::Path:D: Int() $mode --&gt; Bool)</pre>
 <p>Changes the POSIX permissions of a file or directory to <span class="code">$mode</span>. Returns <span class="code">True</span> on success; on failure, <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Chmod.pod6">X::IO::Chmod</a>.</p>
 <p>The mode is expected as an integer following the <a href="https://en.wikipedia.org/wiki/File_system_permissions#Numeric_notation">standard numeric notation</a>, and is best written as an octal number:</p>
 <pre class="code">'myfile'.IO.chmod(0o444);          # make a file read-only 
 'somedir'.IO.chmod(0o777);         # set 0777 permissions on a directory 
</pre>
 <p>Make sure you <i>don't</i> accidentally pass the intended octal digits as a decimal number (or string containing a decimal number):</p>
 <pre class="code">'myfile'.IO.chmod:  '0444';        # BAD!!! (interpreted as mode 0o674) 
 'myfile'.IO.chmod: '0o444';        # OK (an octal in a string) 
 'myfile'.IO.chmod:  0o444;         # Also OK (an octal literal) 
</pre>
 <a name="t99.1.51"></a><h2 id="_type_IO_Path.pod6-routine_rename">99.1.51 routine rename</h2>
 <p>Defined as:</p>
 <pre class="code">method rename(IO::Path:D: IO() $to, :$createonly = False --&gt; Bool:D)
sub    rename(IO() $from, IO() $to, :$createonly = False --&gt; Bool:D)</pre>
 <p>Renames a file or directory. Returns <span class="code">True</span> on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Rename.pod6">X::IO::Rename</a> if <span class="code">:$createonly</span> is <span class="code">True</span> and the <span class="code">$to</span> path already exists or if the operation failed for some other reason.</p>
 <p><b>Note:</b> some renames will always fail, such as when the new name is on a different storage device. See also: <a href="#_routine_move.pod6"><span class="code">move</span></a>.</p>
 <a name="t99.1.52"></a><h2 id="_type_IO_Path.pod6-routine_copy">99.1.52 routine copy</h2>
 <p>Defined as:</p>
 <pre class="code">method copy(IO::Path:D: IO() $to, :$createonly --&gt; Bool:D)
sub    copy(IO() $from, IO() $to, :$createonly --&gt; Bool:D)</pre>
 <p>Copies a file. Returns <span class="code">True</span> on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Copy.pod6">X::IO::Copy</a> if <span class="code">:$createonly</span> is <span class="code">True</span> and the <span class="code">$to</span> path already exists or if the operation failed for some other reason, such as when <span class="code">$to</span> and <span class="code">$from</span> are the same file.</p>
 <a name="t99.1.53"></a><h2 id="_type_IO_Path.pod6-routine_move">99.1.53 routine move</h2>
 <p>Defined as:</p>
 <pre class="code">method move(IO::Path:D: IO() $to, :$createonly --&gt; Bool:D)
sub    move(IO() $from, IO() $to, :$createonly --&gt; Bool:D)</pre>
 <p>Copies a file and then removes the original. If removal fails, it's possible to end up with two copies of the file. Returns <span class="code">True</span> on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Move.pod6">X::IO::Move</a> if <span class="code">:$createonly</span> is <span class="code">True</span> and the <span class="code">$to</span> path already exists or if the operation failed for some other reason, such as when <span class="code">$to</span> and <span class="code">$from</span> are the same file.</p>
 <p>To avoid copying, you can use <a href="#_routine_rename.pod6"><span class="code">rename</span></a>, if the files are on the same storage device. It also works with directories, while <span class="code">move</span> does not.</p>
 <a name="t99.1.54"></a><h2 id="_type_IO_Path.pod6-method_Numeric">99.1.54 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">method Numeric(IO::Path:D: --&gt; Numeric:D)</pre>
 <p>Coerces <a href="#_routine_basename.pod6"><span class="code">.basename</span></a> to <a href="#_type_Numeric.pod6">Numeric</a>. <a href="#_routine_fail.pod6">Fails</a> with <span class="code">X::Str::Numeric</span> if base name is not numerical.</p>
 <a name="t99.1.55"></a><h2 id="_type_IO_Path.pod6-method_Int">99.1.55 method Int</h2>
 <p>Defined as:</p>
 <pre class="code">method Int(IO::Path:D: --&gt; Int:D)</pre>
 <p>Coerces <a href="#_routine_basename.pod6"><span class="code">.basename</span></a> to <a href="#_type_Int.pod6">Int</a>. <a href="#_routine_fail.pod6">Fails</a> with <span class="code">X::Str::Numeric</span> if base name is not numerical.</p>
 <a name="t99.1.56"></a><h2 id="_type_IO_Path.pod6-routine_symlink">99.1.56 routine symlink</h2>
 <p>Defined as:</p>
 <pre class="code">method symlink(IO::Path:D $target: IO() $link --&gt; Bool:D)
sub    symlink(      IO() $target, IO() $link --&gt; Bool:D)</pre>
 <p>Create a new <i>symbolic</i> link <span class="code">$link</span> to existing <span class="code">$target</span>. Returns <span class="code">True</span> on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Symlink.pod6">X::IO::Symlink</a> if the symbolic link could not be created. If <span class="code">$target</span> does not exist, creates a dangling symbolic link. To create a hard link, see <a href="#_routine_link.pod6"><span class="code">link</span></a>.</p>
 <p><b>Note:</b> on Windows, creation of symbolic links may require escalated privileges.</p>
 <a name="t99.1.57"></a><h2 id="_type_IO_Path.pod6-routine_link">99.1.57 routine link</h2>
 <p>Defined as:</p>
 <pre class="code">method link(IO::Path:D $target: IO() $link --&gt; Bool:D)
sub    link(      IO() $target, IO() $link --&gt; Bool:D)</pre>
 <p>Create a new <i>hard</i> link <span class="code">$link</span> to existing <span class="code">$target</span>. Returns <span class="code">True</span> on success; <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Link.pod6">X::IO::Link</a> if the hard link could not be created. To create a symbolic link, see <a href="#_routine_symlink.pod6"><span class="code">symlink</span></a>.</p>
 <a name="t99.1.58"></a><h2 id="_type_IO_Path.pod6-routine_unlink">99.1.58 routine unlink</h2>
 <p>Defined as:</p>
 <pre class="code">method unlink(IO::Path:D: --&gt; True)
sub    unlink(*@filenames --&gt; List:D)</pre>
 <p>Delete all specified ordinary files, links, or symbolic links. See <a href="#_routine_rmdir.pod6">rmdir</a> to delete directories.</p>
 <p>The subroutine form returns the names of the files that were successfully deleted. The method form returns <span class="code">True</span> on success, or <a href="#_routine_fail.pod6">fails</a> with <a href="#_type_X::IO::Unlink.pod6">X::IO::Unlink</a> if the operation could not be completed.</p>
 <a name="t99.1.59"></a><h2 id="_type_IO_Path.pod6-method_IO">99.1.59 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(IO::Path:D: --&gt; IO::Path)</pre>
 <p>Returns the invocant.</p>
 <a name="t99.1.60"></a><h2 id="_type_IO_Path.pod6-method_SPEC">99.1.60 method SPEC</h2>
 <p>Defined as:</p>
 <pre class="code">method SPEC(IO::Path:D: --&gt; IO::Spec)</pre>
 <p>Returns the <a href="#_type_IO::Spec.pod6">IO::Spec</a> object that was (implicitly) specified at object creation time.</p>
 <pre class="code">my $io = IO::Path.new(&quot;/bin/bash&quot;);
say $io.SPEC;                            # OUTPUT: «(Unix)␤»
say $io.SPEC.dir-sep;                    # OUTPUT: «/␤»</pre>
 <a name="t99.2"></a><h1 id="_type_IO_Path.pod6-File_timestamp_retrieval">99.2 File timestamp retrieval</h1>
 <p>There are also 3 methods for fetching the 3 timestamps of a file (inode), on Operating Systems where these are available:</p>
 <a name="t99.2.1"></a><h2 id="_type_IO_Path.pod6-method_modified">99.2.1 method modified</h2>
 <p>Returns an <a href="#_type_Instant.pod6"><span class="code">Instant</span></a> object indicating when the file was last modified.</p>
 <pre class="code">say &quot;path/to/file&quot;.IO.modified;          # Instant:1424089165 
 say &quot;path/to/file&quot;.IO.modified.DateTime; # 2015-02-16T12:18:50Z 
</pre>
 <a name="t99.2.2"></a><h2 id="_type_IO_Path.pod6-method_accessed">99.2.2 method accessed</h2>
 <p>Return an <a href="#_type_Instant.pod6">Instant</a> object representing the timestamp when the file was last accessed. <b>Note:</b> depending on how the filesystem was mounted, the last accessed time may not update on <i>each access</i> to the file, but only on the first access after modifications.</p>
 <pre class="code">say &quot;path/to/file&quot;.IO.accessed;          # Instant:1424353577 
 say &quot;path/to/file&quot;.IO.accessed.DateTime; # 2015-02-19T13:45:42Z 
</pre>
 <a name="t99.2.3"></a><h2 id="_type_IO_Path.pod6-method_changed">99.2.3 method changed</h2>
 <p>Returns an <a href="#_type_Instant.pod6"><span class="code">Instant</span></a> object indicating the file or directory was last changed.</p>
 <pre class="code">say &quot;path/to/file&quot;.IO.changed;           # Instant:1424089165 
 say &quot;path/to/file&quot;.IO.changed.DateTime;  # 2015-02-16T12:18:50Z 
</pre>
 <a name="t99.3"></a><h1 id="_type_IO_Path.pod6-File_permissions_retrieval">99.3 File permissions retrieval</h1>
 <a name="t99.3.1"></a><h2 id="_type_IO_Path.pod6-method_mode">99.3.1 method mode</h2>
 <p>Return an <a href="#_type_IntStr.pod6">IntStr</a> object representing the POSIX permissions of a file. The Str part of the result is the octal representation of the file permission, like the form accepted by the chmod(1) utility.</p>
 <pre class="code">say ~&quot;path/to/file&quot;.IO.mode;        # e.g. '0644' 
 say +&quot;path/to/file&quot;.IO.mode;        # e.g. 420, where sprintf('%04o', 420) eq '0644' 
</pre>
 <p>The result of this can be used in the other methods that take a mode as an argument.</p>
 <pre class="code">&quot;path/to/file1&quot;.IO.chmod(&quot;path/to/file2&quot;.IO.mode);  # will change the 
                                                     # permissions of file1 
                                                     # to be the same as file2 
</pre>
</div>
<!-- /type/IO/Path/Cygwin.pod6 --><div class="pod-body"><a id="_type_IO_Path_Cygwin.pod6"></a><a name="t100"><h1 class="title">100 class IO::Path::Cygwin</h1></a> <p class="subtitle">IO::Path pre-loaded with IO::Spec::Cygwin</p> <pre class="code">class IO::Path::Cygwin is IO::Path { }</pre>
 <p>This sub-class of <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, pre-loaded with <a href="#_type_IO::Spec::Cygwin.pod6"><span class="code">IO::Spec::Cygwin</span></a> in the <span class="code">$.SPEC</span> attribute.</p>
 <a name="t100.1"></a><h1 id="_type_IO_Path_Cygwin.pod6-Methods">100.1 Methods</h1>
 <a name="t100.1.1"></a><h2 id="_type_IO_Path_Cygwin.pod6-method_new">100.1.1 method new</h2>
 <p>Same as <a href="#_type_IO::Path.pod6-method_new"><span class="code">IO::Path.new</span></a>, except <span class="code">:$SPEC</span> cannot be set and defaults to <a href="#_type_IO::Spec::Cygwin.pod6"><span class="code">IO::Spec::Cygwin</span></a>, regardless of the operating system the code is being run on.</p>
 <a name="t100.1.2"></a><h2 id="_type_IO_Path_Cygwin.pod6-method_perl">100.1.2 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(IO::Path::Cygwin:D: --&gt; Str:D)</pre>
 <p>Returns a string that, when given passed through <a href="#_routine_EVAL.pod6"><span class="code">EVAL</span></a> gives the original invocant back.</p>
 <pre class="code">IO::Path::Cygwin.new(&quot;foo/bar&quot;).perl.say;
# OUTPUT: IO::Path::Cygwin.new(&quot;foo/bar&quot;, :CWD(&quot;/home/camelia&quot;))</pre>
 <p>Note that this string includes the value of the <span class="code">.CWD</span> attribute that is set to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> when the path object was created, by default.</p>
</div>
<!-- /type/IO/Path/QNX.pod6 --><div class="pod-body"><a id="_type_IO_Path_QNX.pod6"></a><a name="t101"><h1 class="title">101 class IO::Path::QNX</h1></a> <p class="subtitle">IO::Path pre-loaded with IO::Spec::QNX</p> <pre class="code">class IO::Path::QNX is IO::Path { }</pre>
 <p>This sub-class of <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, pre-loaded with <a href="#_type_IO::Spec::QNX.pod6"><span class="code">IO::Spec::QNX</span></a> in the <span class="code">$.SPEC</span> attribute.</p>
 <a name="t101.1"></a><h1 id="_type_IO_Path_QNX.pod6-Methods">101.1 Methods</h1>
 <a name="t101.1.1"></a><h2 id="_type_IO_Path_QNX.pod6-method_new">101.1.1 method new</h2>
 <p>Same as <a href="#_type_IO::Path.pod6-method_new"><span class="code">IO::Path.new</span></a>, except <span class="code">:$SPEC</span> cannot be set and defaults to <a href="#_type_IO::Spec::QNX.pod6"><span class="code">IO::Spec::QNX</span></a>, regardless of the operating system the code is being run on.</p>
 <a name="t101.1.2"></a><h2 id="_type_IO_Path_QNX.pod6-method_perl">101.1.2 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(IO::Path::QNX:D: --&gt; Str:D)</pre>
 <p>Returns a string that, when given passed through <a href="#_routine_EVAL.pod6"><span class="code">EVAL</span></a> gives the original invocant back.</p>
 <pre class="code">IO::Path::QNX.new(&quot;foo/bar&quot;).perl.say;
# OUTPUT: IO::Path::QNX.new(&quot;foo/bar&quot;, :CWD(&quot;/home/camelia&quot;))</pre>
 <p>Note that this string includes the value of the <span class="code">.CWD</span> attribute that is set to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> when the path object was created, by default.</p>
</div>
<!-- /type/IO/Path/Unix.pod6 --><div class="pod-body"><a id="_type_IO_Path_Unix.pod6"></a><a name="t102"><h1 class="title">102 class IO::Path::Unix</h1></a> <p class="subtitle">IO::Path pre-loaded with IO::Spec::Unix</p> <pre class="code">class IO::Path::Unix is IO::Path { }</pre>
 <p>This sub-class of <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, pre-loaded with <a href="#_type_IO::Spec::Unix.pod6"><span class="code">IO::Spec::Unix</span></a> in the <span class="code">$.SPEC</span> attribute.</p>
 <a name="t102.1"></a><h1 id="_type_IO_Path_Unix.pod6-Methods">102.1 Methods</h1>
 <a name="t102.1.1"></a><h2 id="_type_IO_Path_Unix.pod6-method_new">102.1.1 method new</h2>
 <p>Same as <a href="#_type_IO::Path.pod6-method_new"><span class="code">IO::Path.new</span></a>, except <span class="code">:$SPEC</span> cannot be set and defaults to <a href="#_type_IO::Spec::Unix.pod6"><span class="code">IO::Spec::Unix</span></a>, regardless of the operating system the code is being run on.</p>
 <a name="t102.1.2"></a><h2 id="_type_IO_Path_Unix.pod6-method_perl">102.1.2 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(IO::Path::Unix:D: --&gt; Str:D)</pre>
 <p>Returns a string that, when given passed through <a href="#_routine_EVAL.pod6"><span class="code">EVAL</span></a> gives the original invocant back.</p>
 <pre class="code">IO::Path::Unix.new(&quot;foo/bar&quot;).perl.say;
# OUTPUT: IO::Path::Unix.new(&quot;foo/bar&quot;, :CWD(&quot;/home/camelia&quot;))</pre>
 <p>Note that this string includes the value of the <span class="code">.CWD</span> attribute that is set to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> when the path object was created, by default.</p>
</div>
<!-- /type/IO/Path/Win32.pod6 --><div class="pod-body"><a id="_type_IO_Path_Win32.pod6"></a><a name="t103"><h1 class="title">103 class IO::Path::Win32</h1></a> <p class="subtitle">IO::Path pre-loaded with IO::Spec::Win32</p> <pre class="code">class IO::Path::Win32 is IO::Path { }</pre>
 <p>This sub-class of <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, pre-loaded with <a href="#_type_IO::Spec::Win32.pod6"><span class="code">IO::Spec::Win32</span></a> in the <span class="code">$.SPEC</span> attribute.</p>
 <a name="t103.1"></a><h1 id="_type_IO_Path_Win32.pod6-Methods">103.1 Methods</h1>
 <a name="t103.1.1"></a><h2 id="_type_IO_Path_Win32.pod6-method_new">103.1.1 method new</h2>
 <p>Same as <a href="#_type_IO::Path.pod6-method_new"><span class="code">IO::Path.new</span></a>, except <span class="code">:$SPEC</span> cannot be set and defaults to <a href="#_type_IO::Spec::Win32.pod6"><span class="code">IO::Spec::Win32</span></a>, regardless of the operating system the code is being run on.</p>
 <a name="t103.1.2"></a><h2 id="_type_IO_Path_Win32.pod6-method_perl">103.1.2 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">method perl(IO::Path::Win32:D: --&gt; Str:D)</pre>
 <p>Returns a string that, when given passed through <a href="#_routine_EVAL.pod6"><span class="code">EVAL</span></a> gives the original invocant back.</p>
 <pre class="code">IO::Path::Win32.new(&quot;foo/bar&quot;).perl.say;
# OUTPUT: IO::Path::Win32.new(&quot;foo/bar&quot;, :CWD(&quot;C:\\Users\\camelia&quot;))</pre>
 <p>Note that this string includes the value of the <span class="code">.CWD</span> attribute that is set to <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*CWD</span></a> when the path object was created, by default.</p>
</div>
<!-- /type/IO/Pipe.pod6 --><div class="pod-body"><a id="_type_IO_Pipe.pod6"></a><a name="t104"><h1 class="title">104 class IO::Pipe</h1></a> <p class="subtitle">Buffered inter-process string or binary stream</p> <pre class="code">class IO::Pipe is IO::Handle {}</pre>
 <p>An <span class="code">IO::Pipe</span> object closely corresponds to a UNIX pipe. It has one end where it consumes string or binary data, and another where it reproduces the same data. It is buffered, so that a write without a read doesn't immediately block.</p>
 <p>Pipes can be easily constructed with <a href="#_type_Proc::Async.pod6">sub run and Proc::Async.new</a>.</p>
 <a name="t104.1"></a><h1 id="_type_IO_Pipe.pod6-Methods">104.1 Methods</h1>
 <a name="t104.1.1"></a><h2 id="_type_IO_Pipe.pod6-method_close">104.1.1 method close</h2>
 <p>Defined as:</p>
 <pre class="code">method close(IO::Pipe: --&gt; Proc:D)</pre>
 <p>Closes the pipe and returns <a href="#_type_Proc.pod6">Proc</a> object from which the pipe originates.</p>
 <a name="t104.1.2"></a><h2 id="_type_IO_Pipe.pod6-method_IO">104.1.2 method IO</h2>
 <p>Defined as:</p>
 <pre class="code">method IO(IO::Pipe: --&gt; IO::Path:U)</pre>
 <p>Returns an <a href="#_type_IO::Path.pod6">IO::Path</a> type object.</p>
 <a name="t104.1.3"></a><h2 id="_type_IO_Pipe.pod6-method_path">104.1.3 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path(IO::Pipe: --&gt; IO::Path:U)</pre>
 <p>Returns an <a href="#_type_IO::Path.pod6">IO::Path</a> type object.</p>
 <a name="t104.1.4"></a><h2 id="_type_IO_Pipe.pod6-method_proc">104.1.4 method proc</h2>
 <p>Defined as:</p>
 <pre class="code">method proc(IO::Pipe: --&gt; Proc:D)</pre>
 <p>Returns the <a href="#_type_Proc.pod6">Proc</a> object from which the pipe originates.</p>
</div>
<!-- /type/IO/Socket.pod6 --><div class="pod-body"><a id="_type_IO_Socket.pod6"></a><a name="t105"><h1 class="title">105 role IO::Socket</h1></a> <p class="subtitle">Network socket</p> <pre class="code">role IO::Socket { ... }</pre>
 <p><span class="code">IO::Socket</span> contains read and write methods for sockets. It is usually used through <a href="#_type_IO::Socket::INET.pod6">IO::Socket::INET</a>.</p>
 <a name="t105.1"></a><h1 id="_type_IO_Socket.pod6-Methods">105.1 Methods</h1>
 <a name="t105.1.1"></a><h2 id="_type_IO_Socket.pod6-method_recv">105.1.1 method recv</h2>
 <pre class="code">method recv(IO::Socket:D: Cool $elems = Inf, :$bin)</pre>
 <p>Receive a packet and return it, either as a <a href="#_type_Blob.pod6">Blob</a> if <span class="code">:bin</span> was passed, or a <a href="#_type_Str.pod6">Str</a> if not. Receives up to <span class="code">$elems</span> or <span class="code">65535</span> (whichever is smaller) bytes or characters.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.2"></a><h2 id="_type_IO_Socket.pod6-method_read">105.1.2 method read</h2>
 <pre class="code">method read(IO::Socket:D: Int(Cool) $bytes)</pre>
 <p>Reads <span class="code">$bytes</span> bytes from the socket and returns them in a <a href="#_type_Blob.pod6">Blob</a>.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.3"></a><h2 id="_type_IO_Socket.pod6-routine_get">105.1.3 routine get</h2>
 <p>Defined as:</p>
 <pre class="code">method get(IO::Socket:D: --&gt; Str:D)</pre>
 <p>Reads a single line of input from the socket, removing the trailing newline characters (as set by <a href="#_routine_nl-in.pod6"><span class="code">.nl-in</span></a>). Returns <span class="code">Nil</span>, if no more input is available.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.4"></a><h2 id="_type_IO_Socket.pod6-method_print">105.1.4 method print</h2>
 <pre class="code">method print(IO::Socket:D: Str(Cool) $string)</pre>
 <p>Writes the supplied string to the socket, thus sending it to other end of the connection. The binary version is <a href="#104-method write">#method write</a>.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.5"></a><h2 id="_type_IO_Socket.pod6-method_write">105.1.5 method write</h2>
 <pre class="code">method write(IO::Socket:D: Blob:D $buf)</pre>
 <p>Writes the supplied buffer to the socket, thus sending it to other end of the connection. The string version is <a href="#104-method print">#method print</a>.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.6"></a><h2 id="_type_IO_Socket.pod6-method_put">105.1.6 method put</h2>
 <pre class="code">method put(IO::Socket:D: Str(Cool) $string)</pre>
 <p>Writes the supplied string, with a <span class="code">\n</span> appended to it, to the socket, thus sending it to other end of the connection.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.7"></a><h2 id="_type_IO_Socket.pod6-method_close">105.1.7 method close</h2>
 <pre class="code">method close(IO::Socket:D)</pre>
 <p>Closes the socket.</p>
 <p>Fails if the socket is not connected.</p>
 <a name="t105.1.8"></a><h2 id="_type_IO_Socket.pod6-method_native-descriptor">105.1.8 method native-descriptor</h2>
 <pre class="code">method native-descriptor()</pre>
 <p>This returns a value that the operating system would understand as a &quot;socket descriptor&quot; and is suitable for passing to a native function that requires a socket descriptor as an argument such as <span class="code">setsockopt</span>.</p>
</div>
<!-- /type/IO/Socket/Async.pod6 --><div class="pod-body"><a id="_type_IO_Socket_Async.pod6"></a><a name="t106"><h1 class="title">106 class IO::Socket::Async</h1></a> <p class="subtitle">Asynchronous TCP socket</p> <pre class="code">class IO::Socket::Async {}</pre>
 <p><span class="code">IO::Socket::Async</span> provides asynchronous TCP sockets, for both the server and the client side.</p>
 <p>Here is a simple example of a simple &quot;hello world&quot; http server that listens on port 3333:</p>
 <pre class="code">react { 
     whenever IO::Socket::Async.listen('0.0.0.0', 3333) -&gt; $conn { 
         whenever $conn.Supply.lines -&gt; $line { 
             $conn.print: qq:heredoc/END/; 
                 HTTP/1.1 200 OK 
                 Content-Type: text/html; charset=UTF-8 
                 Content-Encoding: UTF-8 
 
                 &lt;html&gt; 
                 &lt;body&gt; 
                     &lt;h1&gt;Hello World!&lt;/h1&gt; 
                     &lt;p&gt;{ $line }&lt;/p&gt; 
                 &lt;/body&gt; 
                 &lt;/html&gt; 
                 END 
             $conn.close; 
         } 
     } 
     CATCH { 
         default { 
             say .^name, ': ', .Str; 
             say &quot;handled in $?LINE&quot;; 
         } 
     } 
 } 
</pre>
 <p>And a client that connects to it, and prints out what the server answers:</p>
 <pre class="code">await IO::Socket::Async.connect('127.0.0.1', 3333).then( -&gt; $promise { 
     given $promise.result { 
         .print(&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n&quot;); 
         react { 
             whenever .Supply() -&gt; $v { 
                 $v.print; 
                 done; 
             } 
         } 
         .close; 
     } 
 }); 
</pre>
 <p>Alternatively <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> can send and receive UDP messages. An example server that outputs all the data it receives would be:</p>
 <pre class="code">my $socket = IO::Socket::Async.bind-udp('localhost', 3333); 
 
 react { 
     whenever $socket.Supply -&gt; $v { 
         if $v.chars &gt; 0 { 
             say $v; 
         } 
     } 
 } 
</pre>
 <p>And an associated client might be:</p>
 <pre class="code">my $socket = IO::Socket::Async.udp(); 
 await $socket.print-to('localhost', 3333, &quot;Hello, Perl 6!&quot;); 
 
</pre>
 <a name="t106.1"></a><h1 id="_type_IO_Socket_Async.pod6-Methods">106.1 Methods</h1>
 <p>The <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> cannot be constructed directly, either <span class="code">connect</span> or <span class="code">listen</span> (for TCP connections) or <span class="code">udp</span> or <span class="code">bind-udp</span> (for UDP data) should be used to create a client or a server respectively.</p>
 <a name="t106.1.1"></a><h2 id="_type_IO_Socket_Async.pod6-method_connect">106.1.1 method connect</h2>
 <pre class="code">method connect(Str $host, Int $port --&gt; Promise)</pre>
 <p>Attempts to connect to the TCP server specified by <span class="code">$host</span> and <span class="code">$port</span>, returning a <a href="#_type_Promise.pod6">Promise</a> that will either be kept with a connected <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> or broken if the connection cannot be made.</p>
 <a name="t106.1.2"></a><h2 id="_type_IO_Socket_Async.pod6-method_listen">106.1.2 method listen</h2>
 <pre class="code">method listen(Str $host, Int $port --&gt; Supply)</pre>
 <p>Creates a listening socket on the specified <span class="code">$host</span> and <span class="code">$port</span>, returning a <a href="#_type_Supply.pod6">Supply</a> to which the accepted client <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a>s will be <span class="code">emit</span>ted. This <a href="#_type_Supply.pod6">Supply</a> should be tapped start listening for client connections.</p>
 <p>To close the underlying listening socket, the <a href="#_type_Tap.pod6">Tap</a> returned by tapping the listener should be <span class="code">close</span>d.</p>
 <p>For example, when using <span class="code">tap</span>:</p>
 <pre class="code">my $listener = IO::Socket::Async.listen('127.0.0.1', 8080); 
 my $tap = $listener.tap({ ... }); 
 
 # When you want to close the listener 
 $tap.close; 
</pre>
 <p>Or when using <span class="code">whenever</span>:</p>
 <pre class="code">my $listener = IO::Socket::Async.listen('127.0.0.1', 5000); 
 my $big-finish = Promise.new; 
 my $tap = do whenever $listener -&gt; $conn { ... } 
 await $big-finish; 
 $tap.close; 
</pre>
 <a name="t106.1.3"></a><h2 id="_type_IO_Socket_Async.pod6-method_udp">106.1.3 method udp</h2>
 <pre class="code">method udp(IO::Socket::Async:U: :$broadcast --&gt; IO::Socket::Async)</pre>
 <p>Returns an initialised <span class="code">IO::Socket::Async</span> client object that is configured to send UDP messages using <span class="code">print-to</span> or <span class="code">write-to</span>. The <span class="code">:broadcast</span> adverb will set the <span class="code">SO_BROADCAST</span> option which will allow the socket to send packets to a broadcast address.</p>
 <a name="t106.1.4"></a><h2 id="_type_IO_Socket_Async.pod6-method_bind-udp">106.1.4 method bind-udp</h2>
 <pre class="code">method bind-udp(IO::Socket::Async:U: Str() $host, Int() $port, :$broadcast --&gt; IO::Socket::Async)</pre>
 <p>This returns an initialised <span class="code">IO::Socket::Async</span> server object that is configured to receive UDP messages sent to the specified <span class="code">$host</span> and <span class="code">$port</span> and is equivalent to <span class="code">listen</span> for a TCP socket. The <span class="code">:broadcast</span> adverb can be specified to allow the receipt of messages sent to the broadcast address.</p>
 <a name="t106.1.5"></a><h2 id="_type_IO_Socket_Async.pod6-method_print">106.1.5 method print</h2>
 <pre class="code">method print(Str $str --&gt; Promise)</pre>
 <p>Attempt to send <span class="code">$str</span> on the <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> that will have been obtained indirectly via <span class="code">connect</span> or <span class="code">listen</span>, returning a <a href="#_type_Promise.pod6">Promise</a> that will be kept with the number of bytes sent or broken if there was an error sending.</p>
 <a name="t106.1.6"></a><h2 id="_type_IO_Socket_Async.pod6-method_print-to">106.1.6 method print-to</h2>
 <pre class="code">method print-to(IO::Socket::Async:D: Str() $host, Int() $port, Str() $str --&gt; Promise)</pre>
 <p>This is the equivalent of <span class="code">print</span> for UDP sockets that have been created with the <span class="code">udp</span> method, it will try send a UDP message of <span class="code">$str</span> to the specified <span class="code">$host</span> and <span class="code">$port</span> returning a <a href="#_type_Promise.pod6">Promise</a> that will be kept when the data is successfully sent or broken if it was unable to send the data. In order to send to a broadcast address the <span class="code">:broadcast</span> flag must have been specified when the socket was created.</p>
 <a name="t106.1.7"></a><h2 id="_type_IO_Socket_Async.pod6-method_write">106.1.7 method write</h2>
 <pre class="code">method write(Blob $b --&gt; Promise)</pre>
 <p>Attempt to send the bytes in <span class="code">$b</span> on the <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> that will have been obtained indirectly via <span class="code">connect</span> or <span class="code">listen</span>, returning a <a href="#_type_Promise.pod6">Promise</a> that will be kept with the number of bytes sent or broken if there was an error sending.</p>
 <a name="t106.1.8"></a><h2 id="_type_IO_Socket_Async.pod6-method_write-to">106.1.8 method write-to</h2>
 <pre class="code">method write-to(IO::Socket::Async:D: Str() $host, Int() $port, Blob $b --&gt; Promise)</pre>
 <p>This is the equivalent of <span class="code">write</span> for UDP sockets that have been created with the <span class="code">udp</span> method, it will try send a UDP message comprised of the bytes in the <a href="#_type_Blob.pod6">Blob</a> <span class="code">$b</span> to the specified <span class="code">$host</span> and <span class="code">$port</span> returning a <a href="#_type_Promise.pod6">Promise</a> that will be kept when the data is successfully sent or broken if it was unable to send the data. In order to send to a broadcast address the <span class="code">:broadcast</span> flag must have been specified when the socket was created.</p>
 <a name="t106.1.9"></a><h2 id="_type_IO_Socket_Async.pod6-method_Supply">106.1.9 method Supply</h2>
 <pre class="code">method Supply(:$bin, :$buf = buf8.new --&gt; Supply)</pre>
 <p>Returns a <a href="#_type_Supply.pod6">Supply</a> which can be tapped to obtain the data read from the connected <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> as it arrives. By default the data will be emitted as characters, but if the <span class="code">:bin</span> adverb is provided a <a href="#_type_Buf.pod6">Buf</a> of bytes will be emitted instead, optionally in this case you can provide your own <span class="code">Buf</span> with the <span class="code">:buf</span> named parameter.</p>
 <p>A UDP socket in character mode will treat each packet as a complete message and decode it. In the event of a decoding error, the <span class="code">Supply</span> will <span class="code">quit</span>. A TCP socket treats the incoming packets as part of a stream, and feeds the incoming bytes into a streaming decoder. It then emits whatever characters the decoder considers ready. Since strings work at grapheme level in Perl 6, this means that only known complete graphemes will be emitted. For example, if the UTF-8 encoding were being used and the last byte in the packet decoded to <span class="code">a</span>, this would not be emitted since the next packet may include a combining character that should form a single grapheme together with the <span class="code">a</span>. Control characters (such as <span class="code">\n</span>) always serve as grapheme boundaries, so any text-based protocols that use newlines or null bytes as terminators will not need special consideration. A TCP socket will also <span class="code">quit</span> upon a decoding error.</p>
 <a name="t106.1.10"></a><h2 id="_type_IO_Socket_Async.pod6-method_close">106.1.10 method close</h2>
 <pre class="code">method close()</pre>
 <p>Close the connected client <a href="#_type_IO::Socket::Async.pod6">IO::Socket::Async</a> which will have been obtained from the <span class="code">listen</span> <a href="#_type_Supply.pod6">Supply</a> or the <span class="code">connect</span> <a href="#_type_Promise.pod6">Promise</a>.</p>
 <p>In order to close the underlying listening socket created by <span class="code">listen</span> you can <span class="code">close</span> the <a href="#_type_Tap.pod6">Tap</a>. See <span class="code">listen</span> for examples.</p>
 <a name="t106.1.11"></a><h2 id="_type_IO_Socket_Async.pod6-method_socket-host">106.1.11 method socket-host</h2>
 <pre class="code">method socket-host(--&gt; Str)</pre>
 <p>Returns the IP address of the local end of this socket.</p>
 <a name="t106.1.12"></a><h2 id="_type_IO_Socket_Async.pod6-method_peer-host">106.1.12 method peer-host</h2>
 <pre class="code">method peer-host(--&gt; Str)</pre>
 <p>Returns the IP address of the remote end of this socket.</p>
 <a name="t106.1.13"></a><h2 id="_type_IO_Socket_Async.pod6-method_socket-port">106.1.13 method socket-port</h2>
 <pre class="code">method socket-port(--&gt; Int)</pre>
 <p>Returns the port of the local end of this socket.</p>
 <a name="t106.1.14"></a><h2 id="_type_IO_Socket_Async.pod6-method_peer-port">106.1.14 method peer-port</h2>
 <pre class="code">method peer-port(--&gt; Int)</pre>
 <p>Returns the port of the remote end of this socket.</p>
</div>
<!-- /type/IO/Socket/INET.pod6 --><div class="pod-body"><a id="_type_IO_Socket_INET.pod6"></a><a name="t107"><h1 class="title">107 class IO::Socket::INET</h1></a> <p class="subtitle">TCP Socket</p> <pre class="code">class IO::Socket::INET does IO::Socket {} 
</pre>
 <p><span class="code">IO::Socket::INET</span> provides TCP sockets, both the server and the client side.</p>
 <p>Here is an example of a very simplistic &quot;echo&quot; server that listens on localhost, port 3333:</p>
 <pre class="code">use v6.c; 
 
 my $listen = IO::Socket::INET.new(:listen, :localhost&lt;localhost&gt;, :localport(3333)); 
 loop { 
     my $conn = $listen.accept; 
     while my $buf = $conn.recv(:bin) { 
         $conn.write: $buf; 
     } 
     $conn.close; 
 } 
</pre>
 <p>And a client that connects to it, and prints out what the server answers:</p>
 <pre class="code">use v6.c; 
 
 my $conn = IO::Socket::INET.new(:host&lt;localhost&gt;, :port(3333)); 
 $conn.print: 'Hello, Perl 6'; 
 say $conn.recv; 
 $conn.close; 
</pre>
 <a name="t107.1"></a><h1 id="_type_IO_Socket_INET.pod6-Methods">107.1 Methods</h1>
 <a name="t107.1.1"></a><h2 id="_type_IO_Socket_INET.pod6-method_new">107.1.1 method new</h2>
 <pre class="code">multi method new( 
         :$host, 
         :$port, 
         :$family = PF_INET, 
         :$encoding = 'utf-8', 
         :$nl-in = &quot;\r\n&quot;, 
     --&gt; IO::Socket::INET:D) 
 multi method new( 
         :$localhost, 
         :$localport, 
         :$family = PF_INET, 
         :$listen, 
         :$encoding = 'utf-8', 
         :$nl-in = &quot;\r\n&quot;, 
     --&gt; IO::Socket::INET:D) 
</pre>
 <p>Creates a new socket.</p>
 <p>If <span class="code">:$listen</span> is True, creates a new socket that listen on <span class="code">:$localhost</span> (which can be an IP address or a domain name) on port <span class="code">:$localport</span>; in other words the <span class="code">:$listen</span> flag determines the <i>server mode</i> of the socket. Otherwise (i.e., <span class="code">:$listen</span> is <span class="code">False</span>), the new socket opens immediately a connection to <span class="code">:$host</span> on port <span class="code">:$port</span>.</p>
 <p><span class="code">:$family</span> defaults to <span class="code">PF_INET</span> constant for IPv4, and can be set to <span class="code">PF_INET6</span> constant for IPv6.</p>
 <p>For text operations (such as <a href="#106-method lines">#method lines</a> and <a href="#106-method get">#method get</a>), <span class="code">:$encoding</span> specifies the encoding, and <span class="code">:$nl-in</span> determines the character(s) that separate lines.</p>
 <a name="t107.2"></a><h1 id="_type_IO_Socket_INET.pod6-Methods">107.2 Methods</h1>
 <a name="t107.2.1"></a><h2 id="_type_IO_Socket_INET.pod6-method_get">107.2.1 method get</h2>
 <pre class="code">method get()</pre>
 <p>Reads a line from the socket and returns it as of type <a href="#_type_Str.pod6">Str</a>. Return <a href="#_type_Nil.pod6">Nil</a> on end-of-file (EOF).</p>
 <a name="t107.2.2"></a><h2 id="_type_IO_Socket_INET.pod6-method_lines">107.2.2 method lines</h2>
 <pre class="code">method lines()</pre>
 <p>Returns a lazy list of lines read from the socket.</p>
 <a name="t107.2.3"></a><h2 id="_type_IO_Socket_INET.pod6-method_accept">107.2.3 method accept</h2>
 <pre class="code">method accept()</pre>
 <p>In listen/server mode, waits for a new incoming connection. Once a new connection is established, an <span class="code">IO::Socket::INET</span> instance (or a subclass instance) for consuming the connection is returned.</p>
</div>
<!-- /type/IO/Spec.pod6 --><div class="pod-body"><a id="_type_IO_Spec.pod6"></a><a name="t108"><h1 class="title">108 class IO::Spec</h1></a> <p class="subtitle">Platform specific operations on file and directory paths</p> <pre class="code">class IO::Spec { }</pre>
 <p>Objects of this class are not used directly but as a sub-class specific to the platform perl is running on via the <span class="code">$*SPEC</span> variable which will contain an object of the appropriate type.</p>
 <p>The sub-classes are documented separately, with the platform-specific differences documented in <a href="#_type_IO::Spec::Cygwin.pod6">IO::Spec::Cygwin</a>, <a href="#_type_IO::Spec::QNX.pod6">IO::Spec::QNX</a>, <a href="#_type_IO::Spec::Unix.pod6">IO::Spec::Unix</a> and <a href="#_type_IO::Spec::Win32.pod6">IO::Spec::Win32</a>.</p>
 <p><b>NOTE:</b> the <span class="code">IO::Spec::*</span> classes provide low-level path operations. Unless you're creating your own high-level path manipulation routines, you don't need to use <span class="code">IO::Spec::*</span>. Use <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> instead.</p>
 <p><b>NOTE2:</b> no special validation is done by these classes (e.g. check whether path contains a null character). It is the job of higher-level classes, like <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, to do that.</p>
 <a name="t108.1"></a><h1 id="_type_IO_Spec.pod6-Methods">108.1 Methods</h1>
</div>
<!-- /type/IO/Spec/Cygwin.pod6 --><div class="pod-body"><a id="_type_IO_Spec_Cygwin.pod6"></a><a name="t109"><h1 class="title">109 class IO::Spec::Cygwin</h1></a> <p class="subtitle">Platform specific operations on file and directory paths for Cygwin</p> <pre class="code">class IO::Spec::QNX is IO::Spec { }</pre>
 <p>This sub-class of <a href="#_type_IO::Spec.pod6">IO::Spec</a> will be available from the <span class="code">$*SPEC</span> variable for a perl running on <span class="code">Cygwin</span> .</p>
 <p><b>NOTE:</b> the <span class="code">IO::Spec::*</span> classes provide low-level path operations. Unless you're creating your own high-level path manipulation routines, you don't need to use <span class="code">IO::Spec::*</span>. Use <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> instead.</p>
 <p><b>NOTE2:</b> no special validation is done by these classes (e.g. check whether path contains a null character). It is the job of higher-level classes, like <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, to do that.</p>
 <a name="t109.1"></a><h1 id="_type_IO_Spec_Cygwin.pod6-Methods">109.1 Methods</h1>
 <a name="t109.1.1"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_abs2rel">109.1.1 method abs2rel</h2>
 <p>Defined as:</p>
 <pre class="code">method abs2rel(IO::Path:D $path, IO::Path:D $base = $*CWD --&gt; Str:D)</pre>
 <p>Returns a string that represents <span class="code">$path</span>, but relative to <span class="code">$base</span> path. Both <span class="code">$path</span> and <span class="code">$base</span> may be relative paths. <span class="code">$base</span> defaults to <span class="code">$*CWD</span>. Uses <a href="#_type_IO::Spec::Win32.pod6"><span class="code">IO::Spec::Win32</span></a>'s semantics.</p>
 <a name="t109.1.2"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_canonpath">109.1.2 method canonpath</h2>
 <p>Defined as:</p>
 <pre class="code">method canonpath(Str() $path, :$parent --&gt; Str:D)</pre>
 <p>Returns a string that is a canonical representation of <span class="code">$path</span>. If <span class="code">:$parent</span> is set to true, will also clean up references to parent directories. <b>NOTE:</b> the routine does not access the filesystem.</p>
 <pre class="code">IO::Spec::Cygwin.canonpath(｢C:\foo\\..\bar\..\ber｣).say;
# OUTPUT: «C:/foo/../bar/../ber␤»

IO::Spec::Cygwin.canonpath(&quot;foo///./../bar/../ber&quot;).say;
# OUTPUT: «foo/../bar/../ber␤»

IO::Spec::Cygwin.canonpath(&quot;foo///./../bar/../ber&quot;, :parent).say;
# OUTPUT: «ber␤»</pre>
 <a name="t109.1.3"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_catdir">109.1.3 method catdir</h2>
 <p>Defined as:</p>
 <pre class="code">method catdir (*@parts --&gt; Str:D)</pre>
 <p>Concatenates multiple path fragments and returns the canonical representation of the resultant path as a string. The <span class="code">@parts</span> are <a href="#_type_Str.pod6"><span class="code">Str</span></a> objects and are allowed to contain path separators.</p>
 <pre class="code">IO::Spec::Cygwin.catdir(&lt;foo/bar ber perl&gt;).say;
# OUTPUT: «foo/bar/ber/perl␤»</pre>
 <a name="t109.1.4"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_catpath">109.1.4 method catpath</h2>
 <p>Defined as:</p>
 <pre class="code">method catpath (Str:D $volume, Str:D $dir, Str:D $file --&gt; Str:D)</pre>
 <p>Same as <a href="#_type_IO::Spec::Win32.pod6-method_catpath"><span class="code">IO::Spec::Win32.catpath</span></a>, except will also change all backslashes to slashes at the end:</p>
 <pre class="code">IO::Spec::Cygwin.catpath('C:', '/some/dir', 'foo.txt').say;
# OUTPUT: «C:/some/dir/foo.txt␤»

IO::Spec::Cygwin.catpath('C:', '/some/dir', '').say;
# OUTPUT: «C:/some/dir␤»

IO::Spec::Cygwin.catpath('', '/some/dir', 'foo.txt').say;
# OUTPUT: «/some/dir/foo.txt␤»

IO::Spec::Cygwin.catpath('E:', '', 'foo.txt').say;
# OUTPUT: «E:foo.txt␤»</pre>
 <a name="t109.1.5"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_is-absolute">109.1.5 method is-absolute</h2>
 <p>Defined as:</p>
 <pre class="code">method is-absolute(Str:D $path --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the <span class="code">$path</span> starts with a slash (<span class="code">&quot;/&quot;</span>) or backslash (<span class="code">&quot;\&quot;</span>), even if they have combining character on them, optionally preceded by a volume:</p>
 <pre class="code">say IO::Spec::Cygwin.is-absolute: &quot;/foo&quot;;        # OUTPUT: «True␤»
say IO::Spec::Cygwin.is-absolute: &quot;/\x[308]foo&quot;; # OUTPUT: «True␤»
say IO::Spec::Cygwin.is-absolute: ｢C:\foo｣;      # OUTPUT: «True␤»
say IO::Spec::Cygwin.is-absolute: &quot;bar&quot;;         # OUTPUT: «False␤»</pre>
 <a name="t109.1.6"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_join">109.1.6 method join</h2>
 <p>Defined as:</p>
 <pre class="code">method join(|c)</pre>
 <p>Same as <a href="#_type_IO::Spec::Win32.pod6-method_join"><span class="code">IO::Spec::Win32.join</span></a>, except replaces backslashes with slashes in the final result.</p>
 <a name="t109.1.7"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_rel2abs">109.1.7 method rel2abs</h2>
 <p>Defined as:</p>
 <pre class="code">method rel2abs(|c --&gt; List:D)</pre>
 <p>Same as <a href="#_type_IO::Spec::Win32.pod6-method_rel2abs"><span class="code">IO::Spec::Win32.rel2abs</span></a>, except replaces backslashes with slashes in the final result.</p>
 <a name="t109.1.8"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_split">109.1.8 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(|c --&gt; List:D)</pre>
 <p>Same as <a href="#_type_IO::Spec::Win32.pod6-method_split"><span class="code">IO::Spec::Win32.split</span></a>, except replaces backslashes with slashes in all the values of the final result.</p>
 <a name="t109.1.9"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_splitpath">109.1.9 method splitpath</h2>
 <p>Defined as:</p>
 <pre class="code">method splitpath(|c --&gt; List:D)</pre>
 <p>Same as <a href="#_type_IO::Spec::Win32.pod6-method_splitpath"><span class="code">IO::Spec::Win32.splitpath</span></a>, except replaces backslashes with slashes in all the values of the final result.</p>
 <a name="t109.1.10"></a><h2 id="_type_IO_Spec_Cygwin.pod6-method_tmpdir">109.1.10 method tmpdir</h2>
 <p>Defined as:</p>
 <pre class="code">method tmpdir(--&gt; IO::Path:D)</pre>
 <p>Attempts to locate a system's temporary directory by checking several typical directories and environmental variables. Uses current directory if no suitable directories are found.</p>
</div>
<!-- /type/IO/Spec/QNX.pod6 --><div class="pod-body"><a id="_type_IO_Spec_QNX.pod6"></a><a name="t110"><h1 class="title">110 class IO::Spec::QNX</h1></a> <p class="subtitle">Platform specific operations on file and directory paths QNX</p> <pre class="code">class IO::Spec::QNX is IO::Spec { }</pre>
 <p>This sub-class of <a href="#_type_IO::Spec.pod6">IO::Spec</a> specific to QNX will be available via <span class="code">$*SPEC</span> if the perl is running on QNX.</p>
 <p><b>NOTE:</b> the <span class="code">IO::Spec::*</span> classes provide low-level path operations. Unless you're creating your own high-level path manipulation routines, you don't need to use <span class="code">IO::Spec::*</span>. Use <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> instead.</p>
 <p><b>NOTE2:</b> no special validation is done by these classes (e.g. check whether path contains a null character). It is the job of higher-level classes, like <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, to do that.</p>
 <a name="t110.1"></a><h1 id="_type_IO_Spec_QNX.pod6-Methods">110.1 Methods</h1>
 <a name="t110.1.1"></a><h2 id="_type_IO_Spec_QNX.pod6-method_canonpath">110.1.1 method canonpath</h2>
 <p>Defined as:</p>
 <pre class="code">method canonpath(Str() $path, :$parent --&gt; Str:D)</pre>
 <p>Returns a string that is a canonical representation of <span class="code">$path</span>. If <span class="code">:$parent</span> is set to true, will also clean up references to parent directories. <b>NOTE:</b> the routine does not access the filesystem, so no symlinks are followed.</p>
 <pre class="code">IO::Spec::QNX.canonpath(&quot;foo//../bar/../ber&quot;).say;
# OUTPUT: «foo/../bar/../ber␤»

IO::Spec::QNX.canonpath(&quot;foo///./../bar/../ber&quot;).say;
# OUTPUT: «foo/../bar/../ber␤»

IO::Spec::QNX.canonpath(&quot;foo///./../bar/../ber&quot;, :parent).say;
# OUTPUT: «ber␤»</pre>
</div>
<!-- /type/IO/Spec/Unix.pod6 --><div class="pod-body"><a id="_type_IO_Spec_Unix.pod6"></a><a name="t111"><h1 class="title">111 class IO::Spec::Unix</h1></a> <p class="subtitle">Platform specific operations on file and directory paths for POSIX</p> <pre class="code">class IO::Spec::Unix is IO::Spec  { }</pre>
 <p>On object of this type is available via the variable <span class="code">$*SPEC</span> if the perl is running on a Unix-like platform.</p>
 <p><b>NOTE:</b> the <span class="code">IO::Spec::*</span> classes provide low-level path operations. Unless you're creating your own high-level path manipulation routines, you don't need to use <span class="code">IO::Spec::*</span>. Use <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> instead.</p>
 <p><b>NOTE2:</b> no special validation is done by these classes (e.g. check whether path contains a null character). It is the job of higher-level classes, like <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, to do that.</p>
 <a name="t111.1"></a><h1 id="_type_IO_Spec_Unix.pod6-Methods">111.1 Methods</h1>
 <a name="t111.1.1"></a><h2 id="_type_IO_Spec_Unix.pod6-method_abs2rel">111.1.1 method abs2rel</h2>
 <p>Defined as:</p>
 <pre class="code">method abs2rel(IO::Path:D $path, IO::Path:D $base = $*CWD --&gt; Str:D)</pre>
 <p>Returns a string that represents <span class="code">$path</span>, but relative to <span class="code">$base</span> path. Both <span class="code">$path</span> and <span class="code">$base</span> may be relative paths. <span class="code">$base</span> defaults to <span class="code">$*CWD</span></p>
 <a name="t111.1.2"></a><h2 id="_type_IO_Spec_Unix.pod6-method_basename">111.1.2 method basename</h2>
 <p>Defined as:</p>
 <pre class="code">method basename(Str:D $path --&gt; Str:D)</pre>
 <p>Takes a path as a string and returns a possibly-empty portion after the last slash:</p>
 <pre class="code">IO::Spec::Unix.basename(&quot;foo/bar/&quot;) .perl.say; # OUTPUT: «&quot;&quot;␤»
IO::Spec::Unix.basename(&quot;foo/bar/.&quot;).perl.say; # OUTPUT: «&quot;.&quot;␤»
IO::Spec::Unix.basename(&quot;foo/bar&quot;)  .perl.say; # OUTPUT: «&quot;bar&quot;␤»</pre>
 <a name="t111.1.3"></a><h2 id="_type_IO_Spec_Unix.pod6-method_canonpath">111.1.3 method canonpath</h2>
 <p>Defined as:</p>
 <pre class="code">method canonpath(Str() $path, :$parent --&gt; Str:D)</pre>
 <p>Returns a string that is a canonical representation of <span class="code">$path</span>. If <span class="code">:$parent</span> is set to true, will also clean up references to parent directories. <b>NOTE:</b> the routine does not access the filesystem, so no symlinks are followed.</p>
 <pre class="code">IO::Spec::Unix.canonpath(&quot;foo//../bar/../ber&quot;).say;
# OUTPUT: «foo/../bar/../ber␤»

IO::Spec::Unix.canonpath(&quot;foo///./../bar/../ber&quot;).say;
# OUTPUT: «foo/../bar/../ber␤»

IO::Spec::Unix.canonpath(&quot;foo///./../bar/../ber&quot;, :parent).say;
# OUTPUT: «ber␤»</pre>
 <a name="t111.1.4"></a><h2 id="_type_IO_Spec_Unix.pod6-method_catdir">111.1.4 method catdir</h2>
 <p>Defined as:</p>
 <pre class="code">method catdir (*@parts --&gt; Str:D)</pre>
 <p>Concatenates multiple path fragments and returns the canonical representation of the resultant path as a string. The <span class="code">@parts</span> are <a href="#_type_Str.pod6"><span class="code">Str</span></a> objects and are allowed to contain path separators.</p>
 <pre class="code">IO::Spec::Unix.catdir(&lt;foo/bar ber perl&gt;).say; # OUTPUT: «foo/bar/ber/perl␤»</pre>
 <a name="t111.1.5"></a><h2 id="_type_IO_Spec_Unix.pod6-method_catfile">111.1.5 method catfile</h2>
 <p>Alias for <a href="#_routine_catdir.pod6"><span class="code">catdir</span></a>.</p>
 <a name="t111.1.6"></a><h2 id="_type_IO_Spec_Unix.pod6-method_catpath">111.1.6 method catpath</h2>
 <p>Defined as:</p>
 <pre class="code">method catpath ($, Str:D $part1, Str:D $part2 --&gt; Str:D)</pre>
 <p>Takes two path fragments and concatenates them, adding or removing a path separator, if necessary. The first argument is ignored (it exists to maintain consistent interface with other <span class="code">IO::Spec</span> types for systems that have volumes).</p>
 <pre class="code">IO::Spec::Unix.catpath($, 'some/dir', 'and/more').say;
# OUTPUT: «some/dir/and/more␤»</pre>
 <a name="t111.1.7"></a><h2 id="_type_IO_Spec_Unix.pod6-method_curdir">111.1.7 method curdir</h2>
 <p>Defined as:</p>
 <pre class="code">method curdir()</pre>
 <p>Returns a string representing the current directory:</p>
 <pre class="code">say '.' eq $*SPEC.curdir; # OUTPUT: «True␤»</pre>
 <a name="t111.1.8"></a><h2 id="_type_IO_Spec_Unix.pod6-method_curupdir">111.1.8 method curupdir</h2>
 <p>Defined as:</p>
 <pre class="code">method curupdir()</pre>
 <p>Returns a <a href="#_routine_none.pod6"><span class="code">none</span></a> <a href="#_type_Junction.pod6">Junction</a> of strings representing the current directory and the &quot;one directory up&quot;:</p>
 <pre class="code">my @dirs = &lt;. foo .. bar&gt;; 
 say @dirs.grep(* eq $*SPEC.curupdir); # OUTPUT: «(foo bar)␤» 
</pre>
 <a name="t111.1.9"></a><h2 id="_type_IO_Spec_Unix.pod6-method_devnull">111.1.9 method devnull</h2>
 <p>Defined as:</p>
 <pre class="code">method devnull(--&gt; Str:D)</pre>
 <p>Returns the string <span class="code">&quot;/dev/null&quot;</span> representing the <a href="https://en.wikipedia.org/wiki/Null_device">&quot;Null device&quot;</a>:</p>
 <pre class="code">$*SPEC.devnull.IO.spurt: &quot;foo bar baz&quot;; 
</pre>
 <a name="t111.1.10"></a><h2 id="_type_IO_Spec_Unix.pod6-method_dir-sep">111.1.10 method dir-sep</h2>
 <p>Defined as:</p>
 <pre class="code">method dir-sep(--&gt; Str:D)</pre>
 <p>Returns the string <span class="code">&quot;/&quot;</span> representing canonical directory separator character.</p>
 <pre class="code">IO::Spec::Unix.dir-sep.say; # OUTPUT: «/␤» 
</pre>
 <a name="t111.1.11"></a><h2 id="_type_IO_Spec_Unix.pod6-method_extension">111.1.11 method extension</h2>
 <p><b>NOTE:</b> Most users would want to use the higher-level routine <a href="#_type_IO::Path.pod6-method_extension"><span class="code">IO::Path.extension</span></a> instead of this lower-level version.</p>
 <p>Defined as:</p>
 <pre class="code">method extension(Str:D $path --&gt; Str:D)</pre>
 <p>Takes a string representing a base name and returns the characters after the last dot (<span class="code">&quot;.&quot;</span>), or empty string if no dots are present. The routine makes no attempt to detect path separators and will return everything after the last dot.</p>
 <pre class="code">$*SPEC.extension('foo.'      ).perl.say;  # OUTPUT: «&quot;&quot;␤»
$*SPEC.extension('foo.txt'   ).perl.say;  # OUTPUT: «&quot;txt&quot;␤»
$*SPEC.extension('foo.tar.gz').perl.say;  # OUTPUT: «&quot;gz&quot;␤»
$*SPEC.extension('foo'       ).perl.say;  # OUTPUT: «&quot;&quot;␤»
$*SPEC.extension('bar.foo/foo').perl.say; # OUTPUT: «&quot;foo/foo&quot;␤»</pre>
 <a name="t111.1.12"></a><h2 id="_type_IO_Spec_Unix.pod6-method_is-absolute">111.1.12 method is-absolute</h2>
 <p>Defined as:</p>
 <pre class="code">method is-absolute(Str:D $path --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the <span class="code">$path</span> starts with a slash (<span class="code">&quot;/&quot;</span>), even if it has combining character on it:</p>
 <pre class="code">say IO::Spec::Unix.is-absolute: &quot;/foo&quot;;        # OUTPUT: «True␤»
say IO::Spec::Unix.is-absolute: &quot;/\x[308]foo&quot;; # OUTPUT: «True␤»
say IO::Spec::Unix.is-absolute: &quot;bar&quot;;         # OUTPUT: «False␤»</pre>
 <a name="t111.1.13"></a><h2 id="_type_IO_Spec_Unix.pod6-method_join">111.1.13 method join</h2>
   XXX TODO: I'm not exactly sure *why* we have .join along with .catpath and
  in what usecases join's *slightly* different behaviour is useful

 <p>Defined as:</p>
 <pre class="code">method join ($, Str:D $dir, Str:D $file --&gt; Str:D)</pre>
 <p>Similar to <a href="#_routine_catpath.pod6"><span class="code">catpath</span></a>, takes two path fragments and concatenates them, adding or removing a path separator, if necessary, except it will return just <span class="code">$file</span> if both <span class="code">$dir</span> and <span class="code">$file</span> are string <span class="code">'/'</span> or if <span class="code">$dir</span> is the string <span class="code">'.'</span>. The first argument is ignored (it exists to maintain consistent interface with other <span class="code">IO::Spec</span> types for systems that have volumes).</p>
 <pre class="code">IO::Spec::Unix.join($, 'foo', 'bar').say; # OUTPUT: «foo/bar␤»
IO::Spec::Unix.join($, '/', '/').say;     # OUTPUT: «/␤»
IO::Spec::Unix.join($, '.', 'foo').say;   # OUTPUT: «foo␤»</pre>
 <a name="t111.1.14"></a><h2 id="_type_IO_Spec_Unix.pod6-method_path">111.1.14 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path(--&gt; Seq:D)</pre>
 <p>Splits the value of <span class="code">%*ENV&lt;PATH&gt;</span> on colons (<span class="code">&quot;:&quot;</span>), replaces empty parts with <span class="code">&quot;.&quot;</span>, and returns a <a href="#_type_Seq.pod6">Seq</a> with each of the resultant parts. Returns an empty <a href="#_type_Seq.pod6">Seq</a> if <span class="code">%*ENV&lt;PATH&gt;</span> is not set or is an empty string.</p>
 <pre class="code">%*ENV&lt;PATH&gt; = 'foo:bar/ber::foo:';
IO::Spec::Unix.path.perl.say;
# OUTPUT: «(&quot;foo&quot;, &quot;bar/ber&quot;, &quot;.&quot;, &quot;foo&quot;, &quot;.&quot;).Seq␤»</pre>
 <a name="t111.1.15"></a><h2 id="_type_IO_Spec_Unix.pod6-method_rel2abs">111.1.15 method rel2abs</h2>
 <p>Defined as:</p>
 <pre class="code">method rel2abs(Str() $path, $base = $*CWD --&gt; Str:D)</pre>
 <p>Returns a string representing <span class="code">$path</span> converted to absolute path, based at <span class="code">$base</span>, which defaults to <span class="code">$*CWD</span>. If <span class="code">$base</span> is not an absolute path, it will be made absolute relative to <span class="code">$*CWD</span>, unless <span class="code">$*CWD</span> and <span class="code">$base</span> are the same.</p>
 <pre class="code">say $*CWD;                                  # OUTPUT: «&quot;/home/camelia&quot;.IO␤» 
 
 say IO::Spec::Unix.rel2abs: 'foo';          # OUTPUT: «/home/camelia/foo␤» 
 say IO::Spec::Unix.rel2abs: './';           # OUTPUT: «/home/camelia␤» 
 say IO::Spec::Unix.rel2abs: 'foo/../../';   # OUTPUT: «/home/camelia/foo/../..␤» 
 say IO::Spec::Unix.rel2abs: '/foo/';        # OUTPUT: «/foo␤» 
 
 say IO::Spec::Unix.rel2abs: 'foo', 'bar';   # OUTPUT: «/home/camelia/bar/foo␤» 
 say IO::Spec::Unix.rel2abs: './', '/bar';   # OUTPUT: «/bar␤» 
 say IO::Spec::Unix.rel2abs: '/foo/', 'bar'; # OUTPUT: «/foo␤» 
 
 say IO::Spec::Unix.rel2abs: 'foo/../../', 'bar'; 
 # OUTPUT: «/home/camelia/bar/foo/../..␤» 
</pre>
 <a name="t111.1.16"></a><h2 id="_type_IO_Spec_Unix.pod6-method_rootdir">111.1.16 method rootdir</h2>
 <p>Defined as:</p>
 <pre class="code">method rootdir(--&gt; Str:D)</pre>
 <p>Returns string <span class="code">'/'</span>, representing root directory.</p>
 <a name="t111.1.17"></a><h2 id="_type_IO_Spec_Unix.pod6-method_split">111.1.17 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(Cool:D $path --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> into &quot;volume&quot;, &quot;dirname&quot;, and &quot;basename&quot; and returns the result as a <a href="#_type_List.pod6">List</a> of three <a href="#_type_Pair.pod6">Pairs</a>, in that order. The &quot;volume&quot; is always an empty string and exists for consistency with other <a href="#_type_IO::Spec.pod6">IO::Spec</a> classes.</p>
 <pre class="code">IO::Spec::Unix.split('C:/foo/bar.txt').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;C:/foo&quot;), :basename(&quot;bar.txt&quot;))␤» 
 
 IO::Spec::Unix.split('/foo/').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;/&quot;), :basename(&quot;foo&quot;))␤» 
 
 IO::Spec::Unix.split('///').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;/&quot;), :basename(&quot;/&quot;))␤» 
 
 IO::Spec::Unix.split('./').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;.&quot;), :basename(&quot;.&quot;))␤» 
 
 IO::Spec::Unix.split('.').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;.&quot;), :basename(&quot;.&quot;))␤» 
 
 IO::Spec::Unix.split('').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;&quot;), :basename(&quot;&quot;))␤» 
</pre>
 <a name="t111.1.18"></a><h2 id="_type_IO_Spec_Unix.pod6-method_splitdir">111.1.18 method splitdir</h2>
 <p>Defined as:</p>
 <pre class="code">method splitdir(Cool:D $path --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> on slashes.</p>
 <pre class="code">IO::Spec::Unix.splitdir('C:\foo/bar.txt').perl.say; 
 # OUTPUT: «(&quot;C:\\foo&quot;, &quot;bar.txt&quot;)␤» 
 
 IO::Spec::Unix.splitdir('/foo/').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;foo&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitdir('///').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitdir('./').perl.say; 
 # OUTPUT: «(&quot;.&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitdir('.').perl.say; 
 # OUTPUT: «(&quot;.&quot;,)␤» 
 
 IO::Spec::Unix.splitdir('').perl.say; 
 # OUTPUT: «(&quot;&quot;,)␤» 
</pre>
 <a name="t111.1.19"></a><h2 id="_type_IO_Spec_Unix.pod6-method_splitpath">111.1.19 method splitpath</h2>
 <p>Defined as:</p>
 <pre class="code">method splitpath(Cool:D $path, :$nofile --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> into a list of 3 strings: volume, dirname, and file. The volume is always an empty string, returned for API compatibility with other <a href="#_type_IO::Spec.pod6">IO::Spec</a> types. If <span class="code">:$nofile</span> named argument is set to <span class="code">True</span>, the content of the file string is undefined and should be ignored; this is a means to get a performance boost, as implementations may use faster code path when file is not needed.</p>
 <pre class="code">IO::Spec::Unix.splitpath('C:\foo/bar.txt').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;C:\\foo/&quot;, &quot;bar.txt&quot;)␤» 
 
 IO::Spec::Unix.splitpath('C:\foo/bar.txt', :nofile).perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;C:\\foo/bar.txt&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitpath('/foo/').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;/foo/&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitpath('/foo/', :nofile).perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;/foo/&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitpath('///').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;///&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitpath('./').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;./&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Unix.splitpath('.').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;.&quot;)␤» 
 
 IO::Spec::Unix.splitpath('').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;&quot;)␤» 
</pre>
 <a name="t111.1.20"></a><h2 id="_type_IO_Spec_Unix.pod6-method_tmpdir">111.1.20 method tmpdir</h2>
 <p>Defined as:</p>
 <pre class="code">method tmpdir(--&gt; IO::Path:D)</pre>
 <p>Attempts to locate a system's temporary directory by checking several typical directories and environmental variables. Uses current directory if no suitable directories are found.</p>
 <a name="t111.1.21"></a><h2 id="_type_IO_Spec_Unix.pod6-method_updir">111.1.21 method updir</h2>
 <p>Defined as:</p>
 <pre class="code">method updir()</pre>
 <p>Returns a string representing the directory one up from current:</p>
 <pre class="code">say '..' eq $*SPEC.updir; # OUTPUT: «True␤»</pre>
</div>
<!-- /type/IO/Spec/Win32.pod6 --><div class="pod-body"><a id="_type_IO_Spec_Win32.pod6"></a><a name="t112"><h1 class="title">112 class IO::Spec::Win32</h1></a> <p class="subtitle">Platform specific operations on file and directory paths for Windows</p> <pre class="code">class IO::Spec::Win32 is IO::Spec { }</pre>
 <p>Objects of this class are not used directly but as a sub-class specific to the platform perl is running on via the <span class="code">$*SPEC</span> variable which will contain an object of the appropriate type</p>
 <p><b>NOTE:</b> the <span class="code">IO::Spec::*</span> classes provide low-level path operations. Unless you're creating your own high-level path manipulation routines, you don't need to use <span class="code">IO::Spec::*</span>. Use <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a> instead.</p>
 <p><b>NOTE2:</b> no special validation is done by these classes (e.g. check whether path contains a null character). It is the job of higher-level classes, like <a href="#_type_IO::Path.pod6"><span class="code">IO::Path</span></a>, to do that.</p>
 <a name="t112.1"></a><h1 id="_type_IO_Spec_Win32.pod6-Methods">112.1 Methods</h1>
 <a name="t112.1.1"></a><h2 id="_type_IO_Spec_Win32.pod6-method_basename">112.1.1 method basename</h2>
 <p>Defined as:</p>
 <pre class="code">method basename(Str:D $path --&gt; Str:D)</pre>
 <p>Takes a path as a string and returns a possibly-empty portion after the last slash or backslash:</p>
 <pre class="code">IO::Spec::Win32.basename(&quot;foo/bar/&quot;) .perl.say; # OUTPUT: «&quot;&quot;␤»
IO::Spec::Win32.basename(&quot;foo/bar\\&quot;).perl.say; # OUTPUT: «&quot;&quot;␤»
IO::Spec::Win32.basename(&quot;foo/bar/.&quot;).perl.say; # OUTPUT: «&quot;.&quot;␤»
IO::Spec::Win32.basename(&quot;foo/bar&quot;)  .perl.say; # OUTPUT: «&quot;bar&quot;␤»</pre>
 <a name="t112.1.2"></a><h2 id="_type_IO_Spec_Win32.pod6-method_canonpath">112.1.2 method canonpath</h2>
 <p>Defined as:</p>
 <pre class="code">method canonpath(Str() $path, :$parent --&gt; Str:D)</pre>
 <p>Returns a string that is a canonical representation of <span class="code">$path</span>. If <span class="code">:$parent</span> is set to true, will also clean up references to parent directories. <b>NOTE:</b> the routine does not access the filesystem.</p>
 <pre class="code">IO::Spec::Win32.canonpath(&quot;C:/foo//../bar/../ber&quot;).say;
# OUTPUT: «C:\foo\..\bar\..\ber␤»

IO::Spec::Win32.canonpath(&quot;C:/foo///./../bar/../ber&quot;).say;
# OUTPUT: «C:\foo\..\bar\..\ber␤»

IO::Spec::Win32.canonpath(&quot;C:/foo///./../bar/../ber&quot;, :parent).say;
# OUTPUT: «C:\ber␤»</pre>
 <a name="t112.1.3"></a><h2 id="_type_IO_Spec_Win32.pod6-method_catdir">112.1.3 method catdir</h2>
 <p>Defined as:</p>
 <pre class="code">method catdir (*@parts --&gt; Str:D)</pre>
 <p>Concatenates multiple path fragments and returns the canonical representation of the resultant path as a string. The <span class="code">@parts</span> are <a href="#_type_Str.pod6"><span class="code">Str</span></a> objects and are allowed to contain path separators.</p>
 <pre class="code">IO::Spec::Win32.catdir(&lt;foo/bar ber perl&gt;).say;
# OUTPUT: «foo\bar\ber\perl␤»</pre>
 <a name="t112.1.4"></a><h2 id="_type_IO_Spec_Win32.pod6-method_catfile">112.1.4 method catfile</h2>
 <p>Alias for <a href="#_routine_catdir.pod6"><span class="code">catdir</span></a>.</p>
 <a name="t112.1.5"></a><h2 id="_type_IO_Spec_Win32.pod6-method_catpath">112.1.5 method catpath</h2>
 <p>Defined as:</p>
 <pre class="code">method catpath (Str:D $volume, Str:D $dir, Str:D $file --&gt; Str:D)</pre>
 <p>Concatenates a path from given volume, a chain of directories, and file. An empty string can be given for any of the three arguments. No attempt to make the path canonical is made. Use <a href="#_routine_canonpath.pod6"><span class="code">canonpath</span></a> for that purpose.</p>
 <pre class="code">IO::Spec::Win32.catpath('C:', '/some/dir', 'foo.txt').say;
# OUTPUT: «C:/some/dir\foo.txt␤»

IO::Spec::Win32.catpath('C:', '/some/dir', '').say;
# OUTPUT: «C:/some/dir␤»

IO::Spec::Win32.catpath('', '/some/dir', 'foo.txt').say;
# OUTPUT: «/some/dir\foo.txt␤»

IO::Spec::Win32.catpath('E:', '', 'foo.txt').say;
# OUTPUT: «E:foo.txt␤»</pre>
 <a name="t112.1.6"></a><h2 id="_type_IO_Spec_Win32.pod6-method_devnull">112.1.6 method devnull</h2>
 <p>Defined as:</p>
 <pre class="code">method devnull(--&gt; Str:D)</pre>
 <p>Returns the string <span class="code">&quot;nul&quot;</span> representing the <a href="https://en.wikipedia.org/wiki/Null_device">&quot;Null device&quot;</a>:</p>
 <pre class="code">$*SPEC.devnull.IO.spurt: &quot;foo bar baz&quot;; 
</pre>
 <a name="t112.1.7"></a><h2 id="_type_IO_Spec_Win32.pod6-method_dir-sep">112.1.7 method dir-sep</h2>
 <p>Defined as:</p>
 <pre class="code">method dir-sep(--&gt; Str:D)</pre>
 <p>Returns the string <span class="code">｢\｣</span> representing canonical directory separator character.</p>
 <pre class="code">IO::Spec::Win32.dir-sep.say; # OUTPUT: «\␤» 
</pre>
 <a name="t112.1.8"></a><h2 id="_type_IO_Spec_Win32.pod6-method_is-absolute">112.1.8 method is-absolute</h2>
 <p>Defined as:</p>
 <pre class="code">method is-absolute(Str:D $path --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the <span class="code">$path</span> starts with a slash (<span class="code">&quot;/&quot;</span>) or backslash (<span class="code">&quot;\&quot;</span>), even if they have combining character on them, optionally preceded by a volume:</p>
 <pre class="code">say IO::Spec::Win32.is-absolute: &quot;/foo&quot;;        # OUTPUT: «True␤»
say IO::Spec::Win32.is-absolute: &quot;/\x[308]foo&quot;; # OUTPUT: «True␤»
say IO::Spec::Win32.is-absolute: ｢C:\foo｣;      # OUTPUT: «True␤»
say IO::Spec::Win32.is-absolute: &quot;bar&quot;;         # OUTPUT: «False␤»</pre>
 <a name="t112.1.9"></a><h2 id="_type_IO_Spec_Win32.pod6-method_join">112.1.9 method join</h2>
   XXX TODO: I'm not exactly sure *why* we have .join along with .catpath and
  in what usecases join's *slightly* different behaviour is useful

 <p>Defined as:</p>
 <pre class="code">method join (Str:D $volume, Str:D $dir, Str:D $file --&gt; Str:D)</pre>
 <p>Similar to <a href="#_routine_catpath.pod6"><span class="code">catpath</span></a>, takes two path fragments and concatenates them, adding or removing a path separator, if necessary, except it will return just <span class="code">$file</span> if both <span class="code">$dir</span> and <span class="code">$file</span> are string <span class="code">'/'</span> or if <span class="code">$dir</span> is the string <span class="code">'.'</span>. The first argument is ignored (it exists to maintain consistent interface with other <span class="code">IO::Spec</span> types for systems that have volumes).</p>
 <pre class="code">IO::Spec::Win32.join('C:', '/some/dir', 'foo.txt').say;
# OUTPUT: «C:/some/dir\and/more␤»

IO::Spec::Win32.join('C:', '.', 'foo.txt').say;
# OUTPUT: «C:foo.txt␤»

IO::Spec::Win32.join('C:', ｢\｣, '/').say;
# OUTPUT: «C:\␤»

IO::Spec::Win32.join('//server/share', ｢\｣, '/').say;
# OUTPUT: «//server/share␤»

IO::Spec::Win32.join('E:', '', 'foo.txt').say;
# OUTPUT: «E:foo.txt␤»</pre>
 <a name="t112.1.10"></a><h2 id="_type_IO_Spec_Win32.pod6-method_path">112.1.10 method path</h2>
 <p>Defined as:</p>
 <pre class="code">method path(--&gt; Seq:D)</pre>
 <p>Splits the value of <span class="code">%*ENV&lt;PATH&gt;</span> (or <span class="code">%*ENV&lt;Path&gt;</span> if the former is not set) on semicolons (<span class="code">&quot;;&quot;</span>) and returns a <a href="#_type_Seq.pod6">Seq</a> with each of the resultant parts, always adding element <span class="code">&quot;.&quot;</span> to the head. Removes all double quotes (<span class="code">&quot;</span>) it finds.</p>
 <pre class="code">%*ENV&lt;PATH&gt; = 'foo;&quot;bar&quot;/&quot;ber&quot;';
IO::Spec::Win32.path.perl.say; # OUTPUT: «(&quot;.&quot;, &quot;foo&quot;, &quot;bar/ber&quot;).Seq␤»</pre>
 <a name="t112.1.11"></a><h2 id="_type_IO_Spec_Win32.pod6-method_rel2abs">112.1.11 method rel2abs</h2>
 <p>Defined as:</p>
 <pre class="code">method rel2abs(Str() $path, $base = $*CWD --&gt; Str:D)</pre>
 <p>Returns a string representing <span class="code">$path</span> converted to absolute path, based at <span class="code">$base</span>, which defaults to <span class="code">$*CWD</span>. If <span class="code">$base</span> is not an absolute path, it will be made absolute relative to <span class="code">$*CWD</span>, unless <span class="code">$*CWD</span> and <span class="code">$base</span> are the same.</p>
 <pre class="code">say $*CWD;                                   # OUTPUT: «&quot;C:\Users\camelia&quot;.IO␤» 
 
 say IO::Spec::Win32.rel2abs: 'foo';          # OUTPUT: «C:\Users\camelia\foo␤» 
 say IO::Spec::Win32.rel2abs: './';           # OUTPUT: «C:\Users\camelia␤» 
 say IO::Spec::Win32.rel2abs: 'foo/../../';   # OUTPUT: «C:\Users\camelia\foo\..\..␤» 
 say IO::Spec::Win32.rel2abs: '/foo/';        # OUTPUT: «C:\foo␤» 
 
 say IO::Spec::Win32.rel2abs: 'foo', 'bar';   # OUTPUT: «C:\Users\camelia\bar\foo␤» 
 say IO::Spec::Win32.rel2abs: './', '/bar';   # OUTPUT: «\bar␤» 
 say IO::Spec::Win32.rel2abs: '/foo/', 'bar'; # OUTPUT: «C:\foo␤» 
 
 say IO::Spec::Win32.rel2abs: 'foo/../../', 'bar'; 
 # OUTPUT: «C:\Users\camelia\bar\foo\..\..␤» 
</pre>
 <a name="t112.1.12"></a><h2 id="_type_IO_Spec_Win32.pod6-method_rootdir">112.1.12 method rootdir</h2>
 <p>Defined as:</p>
 <pre class="code">method rootdir(--&gt; Str:D)</pre>
 <p>Returns string <span class="code">｢\｣</span>, representing root directory.</p>
 <a name="t112.1.13"></a><h2 id="_type_IO_Spec_Win32.pod6-method_split">112.1.13 method split</h2>
 <p>Defined as:</p>
 <pre class="code">method split(Cool:D $path --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> into &quot;volume&quot;, &quot;dirname&quot;, and &quot;basename&quot; and returns the result as a <a href="#_type_List.pod6">List</a> of three <a href="#_type_Pair.pod6">Pairs</a>, in that order. The &quot;volume&quot; is always an empty string and exists for consistency with other <a href="#_type_IO::Spec.pod6">IO::Spec</a> classes.</p>
 <pre class="code">IO::Spec::Win32.split('C:/foo/bar.txt').perl.say; 
 # OUTPUT: «(:volume(&quot;C:&quot;), :dirname(&quot;/foo&quot;), :basename(&quot;bar.txt&quot;))␤» 
 
 IO::Spec::Win32.split('/foo/').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;/&quot;), :basename(&quot;foo&quot;))␤» 
 
 IO::Spec::Win32.split('///').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;/&quot;), :basename(&quot;\\&quot;))␤» 
 
 IO::Spec::Win32.split('./').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;.&quot;), :basename(&quot;.&quot;))␤» 
 
 IO::Spec::Win32.split('.').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;.&quot;), :basename(&quot;.&quot;))␤» 
 
 IO::Spec::Win32.split('').perl.say; 
 # OUTPUT: «(:volume(&quot;&quot;), :dirname(&quot;&quot;), :basename(&quot;&quot;))␤» 
</pre>
 <a name="t112.1.14"></a><h2 id="_type_IO_Spec_Win32.pod6-method_splitdir">112.1.14 method splitdir</h2>
 <p>Defined as:</p>
 <pre class="code">method splitdir(Cool:D $path --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> on slashes and backslashes.</p>
 <pre class="code">IO::Spec::Win32.splitdir('C:\foo/bar.txt').perl.say; 
 # OUTPUT: «(&quot;C:&quot;, &quot;foo&quot;, &quot;bar.txt&quot;)␤» 
 
 IO::Spec::Win32.splitdir('/foo/').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;foo&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitdir('///').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitdir('./').perl.say; 
 # OUTPUT: «(&quot;.&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitdir('.').perl.say; 
 # OUTPUT: «(&quot;.&quot;,)␤» 
 
 IO::Spec::Win32.splitdir('').perl.say; 
 # OUTPUT: «(&quot;&quot;,)␤» 
</pre>
 <a name="t112.1.15"></a><h2 id="_type_IO_Spec_Win32.pod6-method_splitpath">112.1.15 method splitpath</h2>
 <p>Defined as:</p>
 <pre class="code">method splitpath(Cool:D $path, :$nofile --&gt; List:D)</pre>
 <p>Splits the given <span class="code">$path</span> into a list of 3 strings: volume, dirname, and file. The volume is always an empty string, returned for API compatibility with other <a href="#_type_IO::Spec.pod6">IO::Spec</a> types. If <span class="code">:$nofile</span> named argument is set to <span class="code">True</span>, the content of the file string is undefined and should be ignored; this is a means to get a performance boost, as implementations may use faster code path when file is not needed.</p>
 <pre class="code">IO::Spec::Win32.splitpath('C:\foo/bar.txt').perl.say; 
 # OUTPUT: «(&quot;C:&quot;, &quot;\\foo/&quot;, &quot;bar.txt&quot;)␤» 
 
 IO::Spec::Win32.splitpath('C:\foo/bar.txt', :nofile).perl.say; 
 # OUTPUT: «(&quot;C:&quot;, &quot;\\foo/bar.txt&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitpath('/foo/').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;/foo/&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitpath('/foo/', :nofile).perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;/foo/&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitpath('///').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;///&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitpath('./').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;./&quot;, &quot;&quot;)␤» 
 
 IO::Spec::Win32.splitpath('.').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;.&quot;)␤» 
 
 IO::Spec::Win32.splitpath('').perl.say; 
 # OUTPUT: «(&quot;&quot;, &quot;&quot;, &quot;&quot;)␤» 
</pre>
 <a name="t112.1.16"></a><h2 id="_type_IO_Spec_Win32.pod6-method_tmpdir">112.1.16 method tmpdir</h2>
 <p>Defined as:</p>
 <pre class="code">method tmpdir(--&gt; IO::Path:D)</pre>
 <p>Attempts to locate a system's temporary directory by checking several typical directories and environmental variables. Uses current directory if no suitable directories are found.</p>
</div>
<!-- /type/IO/Special.pod6 --><div class="pod-body"><a id="_type_IO_Special.pod6"></a><a name="t113"><h1 class="title">113 class IO::Special</h1></a> <p class="subtitle">Path to Special I/O device</p> <pre class="code">class IO::Special does IO { } 
</pre>
 <p>Used as a <a href="#_type_IO::Handle.pod6-method_path&gt;"><span class="code">$.path</span></a> attribute in special standard input and output handles <span class="code">$*IN</span>, <span class="code">$*OUT</span> and <span class="code">$*ERR</span>. Provides abridged interface of <a href="#_type_IO::Handle.pod6"><span class="code">IO::Handle</span></a>, mostly file tests and stringification.</p>
 <a name="t113.1"></a><h1 id="_type_IO_Special.pod6-Methods">113.1 Methods</h1>
 <a name="t113.1.1"></a><h2 id="_type_IO_Special.pod6-method_new">113.1.1 method new</h2>
 <pre class="code">method new(:$!what!) 
</pre>
 <p>Takes a single required attribute <span class="code">what</span>. It is unlikely that you will ever need to construct one of these objects yourself.</p>
 <a name="t113.1.2"></a><h2 id="_type_IO_Special.pod6-attribute_what">113.1.2 attribute what</h2>
 <pre class="code">say $*OUT.path.what; # OUTPUT: «&lt;STDOUT&gt;␤»</pre>
 <p>Returns one of the strings <span class="code">'&lt;STDIN&gt;'</span>, <span class="code">'&lt;STDOUT&gt;'</span>, or <span class="code">'&lt;STDERR&gt;'</span>, specifying the type of the special IO device.</p>
 <a name="t113.1.3"></a><h2 id="_type_IO_Special.pod6-method_WHICH">113.1.3 method WHICH</h2>
 <pre class="code">method WHICH(IO::Special:D: --&gt; Str)</pre>
 <p>This returns a string that identifies the object.</p>
 <a name="t113.1.4"></a><h2 id="_type_IO_Special.pod6-method_Str">113.1.4 method Str</h2>
 <pre class="code">method Str(IO::Special:D:)</pre>
 <p>This returns <span class="code">'&lt;STDIN&gt;'</span>, <span class="code">'&lt;STDOUT&gt;'</span>, or <span class="code">'&lt;STDERR&gt;'</span> as appropriate.</p>
 <a name="t113.1.5"></a><h2 id="_type_IO_Special.pod6-method_IO">113.1.5 method IO</h2>
 <pre class="code">method IO(IO::Special:D: --&gt; IO::Special)</pre>
 <p>Returns the invocant.</p>
 <a name="t113.1.6"></a><h2 id="_type_IO_Special.pod6-method_e">113.1.6 method e</h2>
 <pre class="code">method e(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'exists' file test operator, always returns <span class="code">True</span>.</p>
 <a name="t113.1.7"></a><h2 id="_type_IO_Special.pod6-method_d">113.1.7 method d</h2>
 <pre class="code">method d(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'directory' file test operator, always returns <span class="code">False</span>.</p>
 <a name="t113.1.8"></a><h2 id="_type_IO_Special.pod6-method_f">113.1.8 method f</h2>
 <pre class="code">method f(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'file' file test operator, always returns <span class="code">False</span>.</p>
 <a name="t113.1.9"></a><h2 id="_type_IO_Special.pod6-method_s">113.1.9 method s</h2>
 <pre class="code">method s(IO::Special:D: --&gt; Int)</pre>
 <p>The 'size' file test operator, always returns <span class="code">0</span>.</p>
 <a name="t113.1.10"></a><h2 id="_type_IO_Special.pod6-method_l">113.1.10 method l</h2>
 <pre class="code">method l(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'symbolic links' file test operator, always returns <span class="code">False</span>.</p>
 <a name="t113.1.11"></a><h2 id="_type_IO_Special.pod6-method_r">113.1.11 method r</h2>
 <pre class="code">method r(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'read access' file test operator, returns <span class="code">True</span> if this is the standard input handle, <span class="code">False</span> otherwise.</p>
 <a name="t113.1.12"></a><h2 id="_type_IO_Special.pod6-method_w">113.1.12 method w</h2>
 <pre class="code">method w(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'write access' file test operator, returns <span class="code">True</span> if this is the standard output or standard error handle, <span class="code">False</span> if it is the standard input.</p>
 <a name="t113.1.13"></a><h2 id="_type_IO_Special.pod6-method_x">113.1.13 method x</h2>
 <pre class="code">method x(IO::Special:D: --&gt; Bool)</pre>
 <p>The 'execute access' file test operator, always returns <span class="code">False</span>.</p>
 <a name="t113.1.14"></a><h2 id="_type_IO_Special.pod6-method_modified">113.1.14 method modified</h2>
 <pre class="code">method modified(IO::Special:D: --&gt; Instant)</pre>
 <p>The last modified time always returns an <a href="#_type_Instant.pod6"><span class="code">Instant</span></a> type object.</p>
 <a name="t113.1.15"></a><h2 id="_type_IO_Special.pod6-method_accessed">113.1.15 method accessed</h2>
 <pre class="code">method accessed(IO::Special:D: --&gt; Instant)</pre>
 <p>The last accessed time always returns an <a href="#_type_Instant.pod6"><span class="code">Instant</span></a> type object.</p>
 <a name="t113.1.16"></a><h2 id="_type_IO_Special.pod6-method_changed">113.1.16 method changed</h2>
 <pre class="code">method changed(IO::Special:D: --&gt; Instant)</pre>
 <p>The last changed time always returns an <a href="#_type_Instant.pod6"><span class="code">Instant</span></a> type object.</p>
 <a name="t113.1.17"></a><h2 id="_type_IO_Special.pod6-method_mode">113.1.17 method mode</h2>
 <pre class="code">method mode(IO::Special:D: --&gt; Nil)</pre>
 <p>The mode always returns <a href="#_type_Nil.pod6">Nil</a></p>
</div>
<!-- /type/Instant.pod6 --><div class="pod-body"><a id="_type_Instant.pod6"></a><a name="t114"><h1 class="title">114 class Instant</h1></a> <p class="subtitle">Specific moment in time</p> <pre class="code">class Instant is Cool does Real { }</pre>
 <p>An <span class="code">Instant</span> is a particular moment in time measured in atomic seconds, with fractions. It is not tied to or aware of any epoch.</p>
 <p>An <span class="code">Instant</span> can be used to create a <a href="#_type_DateTime.pod6">DateTime</a> object set to that <span class="code">Instant</span>. The pseudo-constant <span class="code">now</span> returns the current time as an <span class="code">Instant</span>.</p>
 <p>Basic math is defined for <span class="code">Instant</span>s (as well as <a href="#_type_Duration.pod6">Duration</a>s). Adding an <span class="code">Instant</span> to a <span class="code">Duration</span> returns another Instant. Subtracting two <span class="code">Instant</span>s will yield a <span class="code">Duration</span>. Adding two <span class="code">Instant</span>s is explicitly disallowed. All other operations with Instants are undefined.</p>
 <a name="t114.1"></a><h1 id="_type_Instant.pod6-Future_Leap_Seconds">114.1 Future Leap Seconds</h1>
 <p>The methods that involve knowledge of leap seconds always assume that there will be no further leaps after the last leap second that the implementation knows about, which may not be the last leap second that has actually been scheduled. This means you can get different results, depending on the compiler version you're using. For example, the December 31, 2016 leap second was announced in July and shipped with Rakudo 2016.07, so 2016.06 and earlier releases won't know about it:</p>
 <pre class="code">$ perl6-2016.06 -e 'say Instant.from-posix: 1485726595' 
 Instant:1485726631 
 
 $ perl6-2016.07 -e 'say Instant.from-posix: 1485726595' 
 Instant:1485726632 
</pre>
 <p>Since a Rakudo compiler always returns 0 for future leap seconds it doesn't know about, you can patch your old code when new leap seconds are announced, so it will give correct results, regardless of what version of the compiler it runs on:</p>
 <pre class="code">$ perl6-2016.06 -e 'say ($*VM.version before v2016.07 ?? 1 !! 0) + Instant.from-posix: 1485726595' 
 Instant:1485726632 
 
 $ perl6-2016.07 -e 'say ($*VM.version before v2016.07 ?? 1 !! 0) + Instant.from-posix: 1485726595' 
 Instant:1485726632 
</pre>
 <a name="t114.2"></a><h1 id="_type_Instant.pod6-Methods">114.2 Methods</h1>
 <a name="t114.2.1"></a><h2 id="_type_Instant.pod6-method_from-posix">114.2.1 method from-posix</h2>
 <pre class="code">method from-posix($posix, Bool $prefer-leap-second = False)</pre>
 <p>Converts the POSIX timestamp <span class="code">$posix</span> to an Instant. If <span class="code">$prefer-leap-second</span> is <span class="code">True</span>, the return value will be the first of the two possible seconds in the case of a leap second.</p>
 <pre class="code">say DateTime.new(Instant.from-posix(915148800, True));  # OUTPUT: «1998-12-31T23:59:60Z␤»
say DateTime.new(Instant.from-posix(915148800));        # OUTPUT: «1999-01-01T00:00:00Z␤»</pre>
 <a name="t114.2.2"></a><h2 id="_type_Instant.pod6-method_to-posix">114.2.2 method to-posix</h2>
 <pre class="code">method to-posix()</pre>
 <p>Converts the invocant to a POSIX timestamp and returns a two element list containing the POSIX timestamp and a <span class="code">Bool</span>. It is the inverse of <a href="#113-method from-posix">#method from-posix</a>, except that the second return value is <span class="code">True</span> if *and only if* this Instant is in a leap second.</p>
 <pre class="code">say DateTime.new(&quot;1999-01-01T00:00:00Z&quot;).Instant.to-posix; # OUTPUT: «(915148800 False)␤»
say DateTime.new('1998-12-31T23:59:60Z').Instant.to-posix; # OUTPUT: «(915148800 True)␤»</pre>
 <a name="t114.2.3"></a><h2 id="_type_Instant.pod6-method_Date">114.2.3 method Date</h2>
 <p>Defined as:</p>
 <pre class="code">method Date(Instant:D: --&gt; Date:D)</pre>
 <p>Coerces the invocant to <a href="#_type_Date.pod6">Date</a>.</p>
 <pre class="code">my $i = &quot;/etc/passwd&quot;.IO.modified;
say $i;             # OUTPUT: «Instant:1451489025.878018␤»
say $i.Date;        # OUTPUT: «2015-12-30␤»</pre>
 <a name="t114.2.4"></a><h2 id="_type_Instant.pod6-method_DateTime">114.2.4 method DateTime</h2>
 <p>Defined as:</p>
 <pre class="code">method DateTime(Instant:D: --&gt; DateTime:D)</pre>
 <p>Coerces the invocant to <a href="#_type_DateTime.pod6">DateTime</a>.</p>
 <pre class="code">say now.DateTime;  # OUTPUT: «2017-05-09T14:02:58.147165Z␤»</pre>
</div>
<!-- /type/Int.pod6 --><div class="pod-body"><a id="_type_Int.pod6"></a><a name="t115"><h1 class="title">115 class Int</h1></a> <p class="subtitle">Integer (arbitrary-precision)</p> <pre class="code">class Int is Cool does Real { } 
</pre>
 <p><span class="code">Int</span> objects store integral numbers of arbitrary size. <span class="code">Int</span>s are immutable.</p>
 <p>There are two main syntax forms for <span class="code">Int</span> literals</p>
 <pre class="code">123;         # Int in decimal notation
:16&lt;BEEF&gt;;   # Int in radix notations</pre>
 <p>For your convenience common radix forms come with a prefix shortcut.</p>
 <pre class="code">say so :2&lt;11111111&gt; == 0b11111111 == :8&lt;377&gt; == 0o377 == 255 == 0d255 == :16&lt;ff&gt; == 0xff;
# OUTPUT: «True␤»</pre>
 <p>All forms allow underscores between any two digits which can serve as visual separators, but don't carry any meaning:</p>
 <pre class="code">5_00000;       # five Lakhs
500_000;       # five hundred thousand
0xBEEF_CAFE;   # a strange place
:2&lt;1010_1010&gt;; # 0d170</pre>
 <p>Radix notation also supports round and angle brackets which allow you to parse a string for a given base, and putting together digits into a whole number respectively:</p>
 <pre class="code">:16(&quot;9F&quot;);         # 159
:100[99, 2, 3];    # 990203</pre>
 <p>These notations allow you to use variables, too:</p>
 <pre class="code">my $two = &quot;2&quot;;
my $ninety-nine = &quot;99&quot;;
:16($ninety-nine); # 153
:100[99, $two, 3]; # 990203</pre>
 <a name="t115.1"></a><h1 id="_type_Int.pod6-Methods">115.1 Methods</h1>
 <a name="t115.1.1"></a><h2 id="_type_Int.pod6-method_Capture">115.1.1 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
 <a name="t115.1.2"></a><h2 id="_type_Int.pod6-routine_chr">115.1.2 routine chr</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    chr(Int:D  --&gt; Str:D)
multi method chr(Int:D: --&gt; Str:D)</pre>
 <p>Returns a one-character string, by interpreting the integer as a Unicode codepoint number and converting it to the corresponding character.</p>
 <p>Example:</p>
 <pre class="code">65.chr;  # returns &quot;A&quot;
196.chr; # returns &quot;Ä&quot;</pre>
 <a name="t115.1.3"></a><h2 id="_type_Int.pod6-routine_expmod">115.1.3 routine expmod</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    expmod(      $x,     $y,     $mod --&gt; Int:D)
multi sub    expmod(Int:D $x, Int $y, Int $mod --&gt; Int:D)
multi method expmod(Int:D:    Int $y, Int $mod --&gt; Int:D)</pre>
 <p>Returns the given <span class="code">Int</span> raised to the <span class="code">$y</span> power within modulus <span class="code">$mod</span>, that is gives the result of <span class="code">($x ** $y) mod $mod</span>. The subroutine form can accept non-<span class="code">Int</span> arguments, which will be coerced to <span class="code">Int</span>.</p>
 <pre class="code">say expmod(4, 2, 5);    # OUTPUT: «1␤»
say 7.expmod(2, 5);     # OUTPUT: «4␤»</pre>
 <a name="t115.1.4"></a><h2 id="_type_Int.pod6-method_polymod">115.1.4 method polymod</h2>
 <p>Defined as:</p>
 <pre class="code">method polymod(Int:D: +@mods)</pre>
 <p>Returns a sequence of mod results corresponding to the divisors in <span class="code">@mods</span>. The divisors are given from smallest &quot;unit&quot; to the largest (e.g. 60 seconds per minute, 60 minutes per hour) and the results are returned in the same way: from smallest to the largest (5 seconds, 4 minutes).</p>
 <p>Returns one more item in the result than the number of given divisors. If the divisors are given as a lazy list, runs until the remainder is 0 or the list of divisors is exhausted. All divisors must be <span class="code">Int</span>s, unless the method is called on a non-<span class="code">Int</span> number.</p>
 <pre class="code">my $seconds = 1 * 60*60*24 # days
            + 3 * 60*60    # hours
            + 4 * 60       # minutes
            + 5;           # seconds

say $seconds.polymod(60, 60);                # OUTPUT: «(5 4 27)␤»
say $seconds.polymod(60, 60, 24);            # OUTPUT: «(5 4 3 1)␤»

say 120.polymod:      1, 10, 10², 10³, 10⁴;  # OUTPUT: «(0 0 12 0 0 0)␤»
say 120.polymod: lazy 1, 10, 10², 10³, 10⁴;  # OUTPUT: «(0 0 12)␤»
say 120.polymod:      1, 10, 10² … ∞;        # OUTPUT: «(0 0 12)␤»

say ⅔.polymod(⅓);                            # OUTPUT: «(0 2)␤»
say 5.Rat.polymod(.3, .2);                   # OUTPUT: «(0.2 0 80)␤»

my @digits-in-base37 = 9123607.polymod(37 xx *); # Base conversion
say @digits-in-base37.reverse                    # OUTPUT: «[4 32 4 15 36]␤»</pre>
 <p>To illustrate how the <span class="code">Int</span>, non-lazy version of polymod works, consider this code that implements it:</p>
 <pre class="code">my $seconds = 2 * 60*60*24 # days
            + 3 * 60*60    # hours
            + 4 * 60       # minutes
            + 5;           # seconds

my @pieces;
for 60, 60, 24 -&gt; $divisor {
    @pieces.push: $seconds mod $divisor;
    $seconds div= $divisor
}
@pieces.push: $seconds;

say @pieces; # OUTPUT: «[5 4 3 2]␤»</pre>
 <p>For a more detailed discussion, see <a href="http://perl6.party/post/Perl6-.polymod-break-up-a-number-into-denominations">this blog post</a></p>
 <a name="t115.1.5"></a><h2 id="_type_Int.pod6-routine_is-prime">115.1.5 routine is-prime</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    is-prime (Int:D $number --&gt; Bool:D)
multi method is-prime (Int:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if this <span class="code">Int</span> is known to be a prime, or is likely to be a prime based on a probabilistic Miller-Rabin test.</p>
 <p>Returns <span class="code">False</span> if this <span class="code">Int</span> is known not to be a prime.</p>
 <pre class="code">say 2.is-prime;         # OUTPUT: «True␤»
say is-prime(9);        # OUTPUT: «False␤»</pre>
 <a name="t115.1.6"></a><h2 id="_type_Int.pod6-routine_lsb">115.1.6 routine lsb</h2>
 <p>Defined as:</p>
 <pre class="code">multi method lsb(Int:D:)
multi sub    lsb(Int:D)</pre>
 <p>Returns <a href="#_type_Nil.pod6">Nil</a> if the number is 0. Otherwise returns the zero-based index from the right of the least significant (rightmost) 1 in the binary representation of the number.</p>
 <pre class="code">say 0b01011.lsb;        # OUTPUT: «0␤»
say 0b01010.lsb;        # OUTPUT: «1␤»
say 0b10100.lsb;        # OUTPUT: «2␤»
say 0b01000.lsb;        # OUTPUT: «3␤»
say 0b10000.lsb;        # OUTPUT: «4␤»</pre>
 <a name="t115.1.7"></a><h2 id="_type_Int.pod6-routine_msb">115.1.7 routine msb</h2>
 <p>Defined as:</p>
 <pre class="code">multi method msb(Int:D:)
multi sub    msb(Int:D)</pre>
 <p>Returns <a href="#_type_Nil.pod6">Nil</a> if the number is 0. Otherwise returns the zero-based index from the right of the most significant (leftmost) 1 in the binary representation of the number.</p>
 <pre class="code">say 0b00001.msb;        # OUTPUT: «0␤»
say 0b00011.msb;        # OUTPUT: «1␤»
say 0b00101.msb;        # OUTPUT: «2␤»
say 0b01010.msb;        # OUTPUT: «3␤»
say 0b10011.msb;        # OUTPUT: «4␤»</pre>
 <a name="t115.1.8"></a><h2 id="_type_Int.pod6-routine_unival">115.1.8 routine unival</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    unival(Int:D  --&gt; Numeric)
multi method unival(Int:D: --&gt; Numeric)</pre>
 <p>Returns the number represented by the Unicode codepoint with the given integer number, or <a href="#_type_Num.pod6-NaN">NaN</a> if it does not represent a number.</p>
 <pre class="code">say ord(&quot;¾&quot;).unival;    # OUTPUT: «0.75␤»
say 190.unival;         # OUTPUT: «0.75␤»
say unival(65);         # OUTPUT: «NaN␤»</pre>
 <a name="t115.2"></a><h1 id="_type_Int.pod6-Operators">115.2 Operators</h1>
 <a name="t115.2.1"></a><h2 id="_type_Int.pod6-infix_div">115.2.1 infix div</h2>
 <pre class="code">multi sub infix:&lt;div&gt;(Int:D, Int:D --&gt; Int:D)</pre>
 <p>Does an integer division, rounded down.</p>
</div>
<!-- /type/IntStr.pod6 --><div class="pod-body"><a id="_type_IntStr.pod6"></a><a name="t116"><h1 class="title">116 class IntStr</h1></a> <p class="subtitle">Dual Value Integer and String</p> <pre class="code">class IntStr is Int is Str { }</pre>
 <p>The dual value types (often referred to as <a href="#_language_glossary.pod6-Allomorph">allomorphs</a>) allow for the representation of a value as both a string and a numeric type, typically they will be created for you when the context is &quot;stringy&quot; but they can be determined to be numbers, such as in some <a href="#_language_quoting.pod6">quoting constructs</a>:</p>
 <pre class="code">my $f = &lt;42&gt;; say $f.^name; # OUTPUT: «IntStr␤»</pre>
 <p>As a subclass of both <a href="#_type_Int.pod6"><span class="code">Int</span></a> and <a href="#_type_Str.pod6"><span class="code">Str</span></a>, an <span class="code">IntStr</span> will be accepted where either is expected. However, <span class="code">IntStr</span> does not share object identity with <span class="code">Int</span>- or <span class="code">Str</span>-only variants:</p>
 <pre class="code">my $int-str = &lt;42&gt;;
my Int $int = $int-str; # OK!
my Str $str = $int-str; # OK!
say 42 ∈ &lt;42  55  1&gt;;   # False; ∈ operator cares about object identity</pre>
 <a name="t116.1"></a><h1 id="_type_IntStr.pod6-Methods">116.1 Methods</h1>
 <a name="t116.1.1"></a><h2 id="_type_IntStr.pod6-method_new">116.1.1 method new</h2>
 <pre class="code">method new(Int $i, Str $s)</pre>
 <p>The constructor requires both the <span class="code">Int</span> and the <span class="code">Str</span> value, when constructing one directly the values can be whatever is required:</p>
 <pre class="code">my $f = IntStr.new(42, &quot;forty two&quot;);
say +$f; # OUTPUT: «42␤»
say ~$f; # OUTPUT: «&quot;forty two&quot;␤»</pre>
 <a name="t116.1.2"></a><h2 id="_type_IntStr.pod6-method_Bool">116.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(IntStr:D: --&gt; Bool:D)</pre>
 <p><i>This method may be provided by the parent classes and not implemented in IntStr directly</i>.</p>
 <p>Returns <span class="code">False</span> if the invocant is numerically <span class="code">0</span>, otherwise returns <span class="code">True</span>. String portion is not considered.</p>
 <a name="t116.1.3"></a><h2 id="_type_IntStr.pod6-method_Int">116.1.3 method Int</h2>
 <pre class="code">method Int</pre>
 <p>Returns the integer value of the <span class="code">IntStr</span>.</p>
 <a name="t116.1.4"></a><h2 id="_type_IntStr.pod6-method_Numeric">116.1.4 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Numeric(IntStr:D: --&gt; Int:D)
multi method Numeric(IntStr:U: --&gt; Int:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0</span>.</p>
 <a name="t116.1.5"></a><h2 id="_type_IntStr.pod6-method_Real">116.1.5 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(IntStr:D: --&gt; Int:D)
multi method Real(IntStr:U: --&gt; Int:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0</span>.</p>
 <a name="t116.1.6"></a><h2 id="_type_IntStr.pod6-method_Str">116.1.6 method Str</h2>
 <p>Returns the string value of the <span class="code">IntStr</span>.</p>
 <a name="t116.1.7"></a><h2 id="_type_IntStr.pod6-method_ACCEPTS">116.1.7 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(IntStr:D: Any:D $value)</pre>
 <p>If <span class="code">$value</span> is <a href="#_type_Numeric.pod6">Numeric</a> (including another <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorph</a>), checks if invocant's <a href="#_type_Numeric.pod6">Numeric</a> part <a href="#_type_Numeric.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If <span class="code">$value</span> is <a href="#_type_Str.pod6">Str</a>, checks if invocant's <a href="#_type_Str.pod6">Str</a> part <a href="#_type_Str.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If value is anything else, checks if both <a href="#_type_Numeric.pod6">Numeric</a> and <a href="#_type_Str.pod6">Str</a> parts <span class="code">ACCEPTS</span> the <span class="code">$value</span>.</p>
 <pre class="code">say &lt;5&gt; ~~ &quot;5.0&quot;; # OUTPUT: «False␤»
say &lt;5&gt; ~~  5.0 ; # OUTPUT: «True␤»
say &lt;5&gt; ~~ &lt;5.0&gt;; # OUTPUT: «True␤»</pre>
 <a name="t116.2"></a><h1 id="_type_IntStr.pod6-Operators">116.2 Operators</h1>
 <a name="t116.2.1"></a><h2 id="_type_IntStr.pod6-infix_cmp">116.2.1 infix cmp</h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(IntStr:D $a, IntStr:D $b)</pre>
 <p>Compare two <span class="code">IntStr</span> objects. The comparison is done on the <span class="code">Int</span> value first and then on the <span class="code">Str</span> value. If you want to compare in a different order then you would coerce to a <span class="code">Int</span> or <span class="code">Str</span> value first:</p>
 <pre class="code">my $f = IntStr.new(42, &quot;smaller&quot;);
my $g = IntStr.new(43, &quot;larger&quot;);
say $f cmp $g;          # OUTPUT: «Less␤»
say $f.Str cmp $g.Str;  # OUTPUT: «More␤»</pre>
</div>
<!-- /type/Iterable.pod6 --><div class="pod-body"><a id="_type_Iterable.pod6"></a><a name="t117"><h1 class="title">117 role Iterable</h1></a> <p class="subtitle">Interface for container objects that can be iterated over</p> <pre class="code">role Iterable { }</pre>
 <p><span class="code">Iterable</span> serves as an API for objects that can be iterated with the <span class="code">for</span> construct and related iteration constructs, like hyper operators.</p>
 <p><span class="code">Iterable</span> objects nested in other <span class="code">Iterable</span> objects (but not within scalar containers) flatten in certain contexts, for example when passed to a slurpy parameter (<span class="code">*@a</span>), or on explicit calls to <span class="code">flat</span>.</p>
 <p>Its important aspect is a method stub for <span class="code">iterator</span>.</p>
 <pre class="code">role DNA does Iterable {
    method iterator(){ self.comb.iterator }
};

my @a does DNA = 'GAATCC';
.say for @a; # OUTPUT: «G␤A␤A␤T␤C␤C␤»</pre>
 <a name="t117.1"></a><h1 id="_type_Iterable.pod6-Methods">117.1 Methods</h1>
 <a name="t117.1.1"></a><h2 id="_type_Iterable.pod6-method_iterator">117.1.1 method iterator</h2>
 <p>Defined as:</p>
 <pre class="code">method iterator(--&gt; Iterator:D)</pre>
 <p>Method stub that ensures all classes doing the <span class="code">Iterable</span> role have a method <span class="code">iterator</span>.</p>
 <p>It is supposed to return an <a href="#_type_Iterator.pod6">Iterator</a>.</p>
 <pre class="code">say (1..10).iterator;</pre>
 <a name="t117.1.2"></a><h2 id="_type_Iterable.pod6-method_flat">117.1.2 method flat</h2>
 <p>Defined as:</p>
 <pre class="code">method flat(--&gt; Iterable)</pre>
 <p>Returns another <a href="#_type_Iterable.pod6">Iterable</a> that flattens out all iterables that the first one returns.</p>
 <p>For example</p>
 <pre class="code">say (&lt;a b&gt;, 'c').elems;         # OUTPUT: «2␤»
say (&lt;a b&gt;, 'c').flat.elems;    # OUTPUT: «3␤»</pre>
 <p>because <span class="code">&lt;a b&gt; </span> is a <a href="#_type_List.pod6">List</a> and thus iterable, so <span class="code">(&lt;a b&gt;, 'c').flat </span> returns <span class="code">('a', 'b', 'c')</span>, which has three elems.</p>
 <p>Note that the flattening is recursive, so <span class="code">(((&quot;a&quot;, &quot;b&quot;), &quot;c&quot;), &quot;d&quot;).flat</span> returns <span class="code">(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)</span>, but it does not flatten itemized sublists:</p>
 <pre class="code">say ($('a', 'b'), 'c').perl;    # OUTPUT: «($(&quot;a&quot;, &quot;b&quot;), &quot;c&quot;)␤»</pre>
 <a name="t117.1.3"></a><h2 id="_type_Iterable.pod6-method_lazy">117.1.3 method lazy</h2>
 <p>Defined as:</p>
 <pre class="code">method lazy(--&gt; Iterable)</pre>
 <p>Returns a lazy iterable wrapping the invocant.</p>
 <pre class="code">say (1 ... 1000).is-lazy;      # OUTPUT: «False␤»
say (1 ... 1000).lazy.is-lazy; # OUTPUT: «True␤»</pre>
 <a name="t117.1.4"></a><h2 id="_type_Iterable.pod6-method_hyper">117.1.4 method hyper</h2>
 <p>Defined as:</p>
 <pre class="code">method hyper(Int(Cool) :$batch = 64, Int(Cool) :$degree = 4 --&gt; Iterable)</pre>
 <p>Returns another Iterable that is potentially iterated in parallel, with a given batch size and degree of parallelism.</p>
 <p>The order of elements is preserved.</p>
 <pre class="code">say ([1..100].hyper.map({ $_ +1 }).list);</pre>
 <p>Use <span class="code">hyper</span> in situations where it is OK to do the processing of items in parallel, and the output order should be kept relative to the input order. See <a href="#_routine_race.pod6"><span class="code">race</span></a> for situations where items are processed in parallel and the output order does not matter.</p>
 <a name="t117.1.4.1"></a><h3 id="_type_Iterable.pod6-Options_degree_and_batch">117.1.4.1 Options degree and batch</h3>
 <p>The <span class="code">degree</span> option (short for &quot;degree of parallelism&quot;) configures how many parallel workers should be started. To start 4 workers (e.g. to use at most 4 cores), pass <span class="code">:4degree</span> to the <span class="code">hyper</span> or <span class="code">race</span> method. Note that in some cases, choosing a degree higher than the available CPU cores can make sense, for example I/O bound work or latency-heavy tasks like web crawling. For CPU-bound work, however, it makes no sense to pick a number higher than the CPU core count.</p>
 <p>The <span class="code">batch</span> size option configures the number of items sent to a given parallel worker at once. It allows for making a throughput/latency trade-off. If, for example, an operation is long-running per item, and you need the first results as soon as possible, set it to 1. That means every parallel worker gets 1 item to process at a time, and reports the result as soon as possible. In consequence, the overhead for inter-thread communication is maximized. In the other extreme, if you have 1000 items to process and 10 workers, and you give every worker a batch of 100 items, you will incur minimal overhead for dispatching the items, but you will only get the first results when 100 items are processed by the fastest worker (or, for <span class="code">hyper</span>, when the worker getting the first batch returns.) Also, if not all items take the same amount of time to process, you might run into the situation where some workers are already done and sit around without being able to help with the remaining work. In situations where not all items take the same time to process, and you don't want too much inter-thread communication overhead, picking a number somewhere in the middle makes sense. Your aim might be to keep all workers about evenly busy to make best use of the resources available.</p>
 <p><b><a href="https://6guts.wordpress.com/2017/03/16/considering-hyperrace-semantics/">Blog post on the semantics of hyper and race</a></b></p>
 <a name="t117.1.5"></a><h2 id="_type_Iterable.pod6-method_race">117.1.5 method race</h2>
 <p>Defined as:</p>
 <pre class="code">method race(Int(Cool) :$batch = 64, Int(Cool) :$degree = 4 --&gt; Iterable)</pre>
 <p>Returns another Iterable that is potentially iterated in parallel, with a given batch size and degree of parallelism (number of parallel workers).</p>
 <p>Unlike <a href="#_routine_hyper.pod6"><span class="code">hyper</span></a>, <span class="code">race</span> does not preserve the order of elements.</p>
 <pre class="code">say ([1..100].race.map({ $_ +1 }).list);</pre>
 <p>Use race in situations where it is OK to do the processing of items in parallel, and the output order does not matter. See <a href="#_routine_hyper.pod6"><span class="code">hyper</span></a> for situations where you want items processed in parallel and the output order should be kept relative to the input order.</p>
 <p><b><a href="https://6guts.wordpress.com/2017/03/16/considering-hyperrace-semantics/">Blog post on the semantics of hyper and race</a></b></p>
 <p>See <a href="#_routine_hyper.pod6"><span class="code">hyper</span></a> for an explanation of :$batch and :$degree.</p>
</div>
<!-- /type/Iterator.pod6 --><div class="pod-body"><a id="_type_Iterator.pod6"></a><a name="t118"><h1 class="title">118 role Iterator</h1></a> <p class="subtitle">Generic API for producing a sequence of values</p> <pre class="code">constant IterationEnd 
 role Iterator { } 
</pre>
 <p>A <span class="code">Iterator</span> is an object that can generate or provide elements of a sequence. Users usually don't have to care about iterators, their usage is hidden behind iteration APIs such as <span class="code">for @list { }</span>, <a href="#_routine_map.pod6">map</a>, <a href="#_routine_grep.pod6">grep</a>, <a href="#_routine_head.pod6">head</a>, <a href="#_routine_tail.pod6">tail</a>, <a href="#_routine_skip.pod6">skip</a> and list indexing with <span class="code">.[$idx]</span>.</p>
 <p>The main API is the <span class="code">pull-one</span> method, which either returns the next value, or the sentinel value <span class="code">IterationEnd</span> if no more elements are available. Each class implementing <span class="code">Iterator</span> <b>must</b> provide a <span class="code">pull-one</span> method. All other non-optional Iterator API methods are implemented in terms of <span class="code">pull-one</span>, but can also be overridden by consuming classes for performance or other reasons. There are also optional Iterator API methods that will only be called if they are implemented by the consuming class: these are <b>not</b> implemented by the Iterator role.</p>
 <a name="t118.1"></a><h1 id="_type_Iterator.pod6-IterationEnd">118.1 IterationEnd <a name="858"></a></h1>
 <p>Iterators only allow one iteration over the entire sequence. It's forbidden to make attempts to fetch more data, once <span class="code">IterationEnd</span> has been generated, and behavior for doing so is undefined. For example, the following <a href="#_type_Seq.pod6">Seq</a> will not cause the <a href="#_routine_die.pod6">die</a> to be called under normal use, because <a href="#_routine_pull-one.pod6">pull-one</a> will never be called after it returns <span class="code">IterationEnd</span>:</p>
 <pre class="code">class SkippingArray is Array { 
     # skip all undefined values while iterating 
     method iterator { 
         class :: does Iterator { 
             has $.index is rw = 0; 
             has $.array is required; 
             method pull-one { 
                 $.index++ while !$.array.AT-POS($.index).defined &amp;&amp; $.array.elems &gt; $.index; 
                 $.array.elems &gt; $.index ?? $.array.AT-POS($.index++) !! IterationEnd 
             } 
         }.new(array =&gt; self) 
     } 
 } 
 
 my @a := SkippingArray.new; 
 
 @a.append: 1, Any, 3, Int, 5, Mu, 7; 
 
 for @a -&gt; $a, $b { 
     say [$a, $b]; 
 }; 
 
 # OUTPUT: «[1 3]␤[5 8]␤» 
</pre>
 <p>The only valid use of the sentinel value <span class="code">IterationEnd</span> in a program is identity comparison (using <span class="code">=:=</span>) with the result of a method in the iterator API. Any other behavior is undefined and implementation dependent.</p>
 <a name="t118.2"></a><h1 id="_type_Iterator.pod6-Methods">118.2 Methods</h1>
 <a name="t118.2.1"></a><h2 id="_type_Iterator.pod6-method_pull-one">118.2.1 method pull-one</h2>
 <p>Defined as:</p>
 <pre class="code">method pull-one(Iterator:D: --&gt; Mu)</pre>
 <p>This method stub ensures that classes implementing the <span class="code">Iterator</span> role provide a method named <span class="code">pull-one</span>.</p>
 <p>The <span class="code">pull-one</span> method is supposed to produce and return the next value if possible, or return the sentinel value <span class="code">IterationEnd</span> if no more values could be produced.</p>
 <pre class="code">my $i = (1 .. 3).iterator;
say $i.pull-one;       # OUTPUT: «1␤»
say $i.pull-one;       # OUTPUT: «2␤»
say $i.pull-one;       # OUTPUT: «3␤»
say $i.pull-one.perl;  # OUTPUT: «IterationEnd␤»</pre>
 <a name="t118.2.2"></a><h2 id="_type_Iterator.pod6-method_push-exactly">118.2.2 method push-exactly</h2>
 <p>Defined as:</p>
 <pre class="code">method push-exactly(Iterator:D: $target, int $count --&gt; Mu)</pre>
 <p>Should produce <span class="code">$count</span> elements, and for each of them, call <span class="code">$target.push($value)</span>.</p>
 <p>If fewer than <span class="code">$count</span> elements are available from the iterator, it should return the sentinel value <span class="code">IterationEnd</span>. Otherwise it should return <span class="code">$count</span>.</p>
 <pre class="code">my @array;
say (1 .. ∞).iterator.push-exactly(@array, 3); # OUTPUT: «3␤»
say @array; # OUTPUT: «[1 2 3]␤»</pre>
 <p>The Iterator role implements this method in terms of <span class="code">pull-one</span>.</p>
 <a name="t118.2.3"></a><h2 id="_type_Iterator.pod6-method_push-at-least">118.2.3 method push-at-least</h2>
 <p>Defined as:</p>
 <pre class="code">method push-at-least(Iterator:D: $target, int $count --&gt; Mu)</pre>
 <p>Should produce at least <span class="code">$count</span> elements, and for each of them, call <span class="code">$target.push($value)</span>.</p>
 <p>If fewer than <span class="code">$count</span> elements are available from the iterator, it should return the sentinel value <span class="code">IterationEnd</span>. Otherwise it should return <span class="code">$count</span>.</p>
 <p>Iterators with side effects should produce exactly <span class="code">$count</span> elements; iterators without side effects (such as <a href="#_type_Range.pod6">Range</a> iterators) can produce more elements to achieve better performance.</p>
 <pre class="code">my @array;
say (1 .. ∞).iterator.push-at-least(@array, 10); # OUTPUT: «10␤»
say @array; # OUTPUT: «[1 2 3 4 5 6 7 8 9 10]␤»</pre>
 <p>The Iterator role implements this method in terms of <span class="code">pull-one</span>.</p>
 <a name="t118.2.4"></a><h2 id="_type_Iterator.pod6-method_push-all">118.2.4 method push-all</h2>
 <p>Defined as:</p>
 <pre class="code">method push-all(Iterator:D: $target)</pre>
 <p>Should produce all elements from the iterator and push them to <span class="code">$target</span>.</p>
 <pre class="code">my @array;
say (1 .. 1000).iterator.push-all(@array); # All 1000 values are pushed</pre>
 <p>The Iterator role implements this method in terms of <span class="code">push-at-least</span>.</p>
 <a name="t118.2.5"></a><h2 id="_type_Iterator.pod6-method_push-until-lazy">118.2.5 method push-until-lazy</h2>
 <p>Defined as:</p>
 <pre class="code">method push-until-lazy(Iterator:D: $target --&gt; Mu)</pre>
 <p>Should produce values until it considers itself to be lazy, and push them onto <span class="code">$target</span>.</p>
 <p>The Iterator role implements this method as a no-op if <span class="code">is-lazy</span> returns a True value, or as a synonym of <span class="code">push-all</span> if not.</p>
 <p>This matters mostly for iterators that have other iterators embedded, some of which might be lazy, while others aren't.</p>
 <a name="t118.2.6"></a><h2 id="_type_Iterator.pod6-method_is-lazy">118.2.6 method is-lazy</h2>
 <p>Defined as:</p>
 <pre class="code">method is-lazy(Iterator:D: --&gt; Bool:D)</pre>
 <p>Should return <span class="code">True</span> for iterators that consider themselves lazy, and <span class="code">False</span> otherwise.</p>
 <p>Built-in operations that know that they can produce infinitely many values return <span class="code">True</span> here, for example <span class="code">(1..6).roll(*)</span>.</p>
 <pre class="code">say (1 .. 100).is-lazy; # OUTPUT: «False␤»
say (1 .. ∞).is-lazy; # OUTPUT: «True␤»</pre>
 <p>The Iterator role implements this method returning <span class="code">False</span>, indicating a non-lazy iterator.</p>
 <a name="t118.2.7"></a><h2 id="_type_Iterator.pod6-method_sink-all">118.2.7 method sink-all</h2>
 <p>Defined as:</p>
 <pre class="code">method sink-all(Iterator:D: --&gt; IterationEnd)</pre>
 <p>Should exhaust the iterator purely for the side-effects of producing the values, without actually saving them in any way. Should always return <span class="code">IterationEnd</span>. If there are no side-effects associated with producing a value, then it can be implemented by a consuming class to be a virtual no-op.</p>
 <pre class="code">say (1 .. 1000).iterator.sink-all;  # OUTPUT: «IterationEnd␤»</pre>
 <p>The Iterator role implements this method as a loop that calls <span class="code">pull-one</span> until it is exhausted.</p>
 <a name="t118.2.8"></a><h2 id="_type_Iterator.pod6-method_skip-one">118.2.8 method skip-one</h2>
 <p>Defined as:</p>
 <pre class="code">method skip-one(Iterator:D: $target --&gt; Mu)</pre>
 <p>Should skip producing one value. The return value should be truthy if the skip was successful and falsy if there were no values to be skipped:</p>
 <pre class="code">my $i = &lt;a b&gt;.iterator;
say $i.skip-one; say $i.pull-one; say $i.skip-one
# OUTPUT: «1␤b␤0␤»</pre>
 <p>The Iterator role implements this method as a call <span class="code">pull-one</span> and returning whether the value obtained was not <span class="code">IterationEnd</span>.</p>
 <a name="t118.2.9"></a><h2 id="_type_Iterator.pod6-method_skip-at-least">118.2.9 method skip-at-least</h2>
 <p>Defined as:</p>
 <pre class="code">method skip-at-least(Iterator:D: $target, int $to-skip --&gt; Mu)</pre>
 <p>Should skip producing <span class="code">$to-skip</span> values. The return value should be truthy if the skip was successful and falsy if there were not enough values to be skipped:</p>
 <pre class="code">my $i = &lt;a b c&gt;.iterator;
say $i.skip-at-least(2); say $i.pull-one; say $i.skip-at-least(20);
# OUTPUT: «1␤c␤0␤»</pre>
 <p>The Iterator role implements this method as a loop calling <span class="code">skip-one</span> and returning whether it returned a truthy value sufficient number of times.</p>
 <a name="t118.2.10"></a><h2 id="_type_Iterator.pod6-method_skip-at-least-pull-one">118.2.10 method skip-at-least-pull-one</h2>
 <p>Defined as:</p>
 <pre class="code">method skip-at-least-pull-one(Iterator:D: $target, int $to-skip --&gt; Mu)</pre>
 <p>Should skip producing <span class="code">$to-skip</span> values and if the iterator is still not exhausted, produce and return the next value. Should return <span class="code">IterationEnd</span> if the iterator got exhausted at any point:</p>
 <pre class="code">my $i = &lt;a b c&gt;.iterator;
say $i.skip-at-least-pull-one(2);
say $i.skip-at-least-pull-one(20) =:= IterationEnd;
# OUTPUT: «c␤True␤»</pre>
 <p>The Iterator role implements this method as calling <span class="code">skip-at-least</span> and then calling <span class="code">pull-one</span> if it was not exhausted yet.</p>
 <a name="t118.2.11"></a><h2 id="_type_Iterator.pod6-method_count-only">118.2.11 method count-only</h2>
 <p>Defined as:</p>
 <pre class="code">method count-only(--&gt; Int:D) { ... }</pre>
 <p>If implemented, it is expected to return the number of values the iterator can still produce <b>without</b> actually producing them. The returned number <b>must adjust itself</b> for items already pulled, so that the method can be called on a partially consumed <span class="code">Iterator</span>.</p>
 <p>It will be used in situations where only the <b>number</b> of values of an iterator is needed, e.g. when the <span class="code">.elems</span> method is called.</p>
 <p><b>Important:</b> it's expected the <span class="code">Iterator</span>s that implement this method can return that number <b>without</b> producing any values. In other words, it's expected the user of the class will be able to still <a href="#_routine_pull-one.pod6">pull-one</a> after calling this method, and eventually receive as many values as the return value of this method indicated.</p>
 <p>The Iterator role does <b>not</b> implement this method.</p>
 <a name="t118.2.12"></a><h2 id="_type_Iterator.pod6-method_bool-only">118.2.12 method bool-only</h2>
 <p>By default is not implemented, but expected implementation for types that do this role is: Defined as:</p>
 <pre class="code">method bool-only(--&gt; Bool:D) { ... }</pre>
 <p>If implemented, it is expected to return <span class="code">True</span> if the iterator can still produce values <b>without</b> actually producing them. The returned number <b>must adjust itself</b> for items already pulled, so that the method can be called on a partially consumed <span class="code">Iterator</span>.</p>
 <p>It will be used in situations where the encompassing <span class="code">Seq</span> is evaluated in a <span class="code">Bool</span> context.</p>
 <p><b>Important:</b> it's expected the <span class="code">Iterator</span>s that implement this method can produce that answer <b>without</b> producing any values. In other words, it's expected that the iterator can produce as many values as it could even if this method was <b>not</b> called.</p>
 <p>The Iterator role does <b>not</b> implement this method.</p>
</div>
<!-- /type/Junction.pod6 --><div class="pod-body"><a id="_type_Junction.pod6"></a><a name="t119"><h1 class="title">119 class Junction</h1></a> <p class="subtitle">Logical superposition of values</p> <pre class="code">class Junction is Mu { }</pre>
 <p>A junction is an unordered composite value of zero or more values. Junctions <i>autothread</i> over many operations, which means that the operation is carried out for each junction element (also known as <i>eigenstate</i>), and the result is junction of the return values of all those operators.</p>
 <p>Junctions collapse into a single value in boolean context, so when used in a conditional, a negation or an explicit coercion to Bool through the <span class="code">so</span> or <span class="code">?</span> prefix operators. The semantics of this collapse depend on the <i>junction type</i>, which can be <span class="code">all</span>, <span class="code">any</span>, <span class="code">one</span> or <span class="code">none</span>.</p>
 <table>
<tr><th>type</th> <th>constructor</th> <th>operator</th> <th>True if ...</th></tr>
<tr><td>all</td> <td>all</td> <td>&amp;</td> <td>no value evaluates to False</td></tr>
 <tr><td>any</td> <td>any</td> <td>|</td> <td>at least one value evaluates to True</td></tr>
 <tr><td>one</td> <td>one</td> <td>^</td> <td>exactly one value evaluates to True</td></tr>
 <tr><td>none</td> <td>none</td> <td></td> <td>no value evaluates to True</td></tr>
</table> <p>Autothreading happens when a junction is bound to a parameter of a code object that doesn't accept values of type <span class="code">Junction</span>. Instead of producing an error, the signature binding is repeated for each value of the junction.</p>
 <p>Example:</p>
 <pre class="code">my $j = 1|2;
if 3 == $j + 1 {
    say 'yes';
}</pre>
 <p>First autothreads over the <span class="code">infix:&lt;+&gt; </span> operator, producing the Junction <span class="code">2|3</span>. The next autothreading step is over <span class="code">infix:&lt;==&gt; </span>, which produces <span class="code">False|True</span>. The <span class="code">if</span> conditional evaluates the junction in boolean context, which collapses it to <span class="code">True</span>. So the code prints <span class="code">yes\n</span>.</p>
 <p>The type of a <span class="code">Junction</span> does <i>not</i> affect the number of items in the resultant <span class="code">Junction</span> after autothreading. For example, using a <a href="#_routine_one.pod6">one</a> <span class="code">Junction</span> during <a href="#_type_Hash.pod6">Hash</a> key lookup, still results in a <span class="code">Junction</span> with several items. It is only in boolean context would the type of the <span class="code">Junction</span> come into play:</p>
 <pre class="code">my %h = :42foo, :70bar;
say    %h{one &lt;foo meow&gt;}:exists; # OUTPUT: «one(True, False)␤»
say so %h{one &lt;foo meow&gt;}:exists; # OUTPUT: «True␤»
say    %h{one &lt;foo  bar&gt;}:exists; # OUTPUT: «one(True, True)␤»
say so %h{one &lt;foo  bar&gt;}:exists; # OUTPUT: «False␤»</pre>
 <p>Note that the compiler is allowed to parallelize and short-circuit autothreading (and Junction behavior in general), so it is usually an error to autothread junctions over code with side effects.</p>
 <p>Junctions are meant to be used as matchers in boolean context; introspection of junctions is not supported. If you feel the urge to introspect a junction, use a <a href="#_type_Set.pod6">Set</a> or a related type instead.</p>
 <p>Usage examples:</p>
 <pre class="code">my @list = &lt;1 2 &quot;Great&quot;&gt;;
@list.append(True).append(False);
my @bool_or_int = grep Bool|Int, @list;

sub is_prime(Int $x) returns Bool {
    # 'so' is for boolean context
    so $x %% none(2..$x.sqrt);
}
my @primes_ending_in_1 = grep &amp;is_prime &amp; / 1$ /, 2..100;
say @primes_ending_in_1;        # OUTPUT: «[11 31 41 61 71]␤»

my @exclude = &lt;~ .git&gt;;
for dir(&quot;.&quot;) { say .Str if .Str.ends-with(none @exclude) }</pre>
 <p>Special care should be taken when using <span class="code">all</span> with arguments that may produce an empty list:</p>
 <pre class="code">my @a = ();
say so all(@a) # True, because there are 0 False's</pre>
 <p>To express &quot;all, but at least one&quot;, you can use <span class="code">@a &amp;&amp; all(@a)</span></p>
 <pre class="code">my @a = ();
say so @a &amp;&amp; all(@a);   # OUTPUT: «False␤»</pre>
 <p>Negated operators are special-cased when it comes to autothreading. <span class="code">$a !op $b</span> is rewritten internally as <span class="code">!($a op $b)</span>. The outer negation collapses any junctions, so the return value always a plain <a href="#_type_Bool.pod6">Bool</a>.</p>
 <pre class="code">my $word = 'yes';
my @negations = &lt;no none never&gt;;
if $word !eq any @negations {
    say '&quot;yes&quot; is not a negation';
}</pre>
 <p>Note that without this special-casing, an expression like <span class="code">$word ne any @words</span> would always evaluate to <span class="code">True</span> for non-trivial lists on one side.</p>
 <p>For this purpose, <span class="code">infix:&lt;ne&gt; </span> counts as a negation of <span class="code">infix:&lt;eq&gt; </span>.</p>
 <p>In general it is more readable to use a positive comparison operator and a negated junction:</p>
 <pre class="code">my $word = 'yes';
my @negations = &lt;no none never&gt;;
if $word eq none @negations {
    say '&quot;yes&quot; is not a negation';
}</pre>
 <a name="t119.1"></a><h1 id="_type_Junction.pod6-Failures_and_Exceptions">119.1 Failures and Exceptions</h1>
 <p><a href="#_type_Failure.pod6">Failures</a> are just values like any other, as far as Junctions are concerned:</p>
 <pre class="code">my $j = +any &quot;not a number&quot;, &quot;42&quot;, &quot;2.1&quot;;
(gather $j».take).grep(Numeric).say; # OUTPUT: «(42 2.1)␤»</pre>
 <p>Above, we've used prefix <span class="code">+</span> operator on a <a href="#_type_Junction.pod6">Junction</a> to coerce the strings inside of it to <a href="#_type_Numeric.pod6">Numeric</a>. Since the operator returns a <a href="#_type_Failure.pod6">Failure</a> when <a href="#_type_Str.pod6">Str</a> that doesn't contain a number gets coerced to <span class="code">Numeric</span>, one of the elements in the <span class="code">Junction</span> is a <span class="code">Failure</span>, but same <span class="code">Failure</span> rules as normal apply and the <span class="code">Failure</span> doesn't explode just because it's in a <span class="code">Junction</span>, and we can <a href="#_routine_grep.pod6"><span class="code">.grep</span></a> it out. The exception <i>will</i> be thrown, if you try to use the <span class="code">Failure</span> as a value—just like were this <span class="code">Failure</span> on its own and not part of the <span class="code">Junction</span>:</p>
 <pre class="code">my $j = +any &quot;not a number&quot;, &quot;42&quot;, &quot;2.1&quot;;
try say $j == 42;
$! and say &quot;Got exception: $!.^name()&quot;; # OUTPUT: «Got exception: X::Str::Numeric␤»</pre>
 <p>Note that if an exception gets thrown when <i>any</i> of the values in a <a href="#_type_Junction.pod6">Junction</a> get computed, it will be thrown just as if the problematic value were computed on its own and not with a <span class="code">Junction</span>; you can't just compute the values that work while ignoring exceptions:</p>
 <pre class="code">sub calc ($_) { die when 13 }
my $j = any 1..42;
say try calc $j; # OUTPUT: «Nil␤»</pre>
 <p>Only one value above causes an exception, but the result of the <a href="#_language_exceptions.pod6-index-entry-try_blocks-try"><span class="code">try</span>  block</a> is still a <a href="#_type_Nil.pod6">Nil</a>. A possible way around it is to cheat and evaluate the values of the <span class="code">Junction</span> individually and then re-create the <span class="code">Junction</span> from the result:</p>
 <pre class="code">sub calc ($_) { die when 13 }
my $j = any 1..42;
$j = any (gather $j».take).grep: {Nil !=== try calc $_};
say so $j == 42; # OUTPUT: «True␤»</pre>
 <a name="t119.2"></a><h1 id="_type_Junction.pod6-Methods">119.2 Methods</h1>
 <a name="t119.2.1"></a><h2 id="_type_Junction.pod6-method_Str">119.2.1 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Str(Junction:D:)</pre>
 <p>Autothreads the <span class="code">.Str</span> method over its elements and returns results as a <a href="#_type_Junction.pod6">Junction</a>. Output methods that use <span class="code">.Str</span> method (<a href="#_routine_print.pod6">print</a> and <a href="#_routine_put.pod6">put</a>) are special-cased to autothread junctions, despite being able to accept a <a href="#_type_Mu.pod6">Mu</a> type.</p>
 <a name="t119.2.2"></a><h2 id="_type_Junction.pod6-method_gist">119.2.2 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">multi method gist(Junction:D:)</pre>
 <p>Collapses the <a href="#_type_Junction.pod6">Junction</a> and returns a <a href="#_type_Str.pod6">Str</a> composed of the type of the junction and the <a href="#_routine_gist.pod6">gists</a> of its components:</p>
 <pre class="code">&lt;a 42 c&gt;.all.say; # OUTPUT: «all(a, 42, c)␤»</pre>
 <a name="t119.2.3"></a><h2 id="_type_Junction.pod6-method_perl">119.2.3 method perl</h2>
 <p>Defined as:</p>
 <pre class="code">multi method perl(Junction:D:)</pre>
 <p>Collapses the <a href="#_type_Junction.pod6">Junction</a> and returns a <a href="#_type_Str.pod6">Str</a> composed of <a href="#_routine_perl.pod6">perls</a> of its components that <a href="#_routine_EVAL.pod6">evaluates</a> to the equivalent <a href="#_type_Junction.pod6">Junction</a> with equivalent components:</p>
 <pre class="code">&lt;a 42 c&gt;.all.perl.put; # OUTPUT: «all(&quot;a&quot;, IntStr.new(42, &quot;42&quot;), &quot;c&quot;)␤»</pre>
 <a name="t119.3"></a><h1 id="_type_Junction.pod6-See_Also">119.3 See Also</h1>
 <ul><li><p><a href="http://perlgeek.de/blog-en/perl-5-to-6/08-junctions.html">http://perlgeek.de/blog-en/perl-5-to-6/08-junctions.html</a></p>
</li></ul> <ul><li><p><a href="http://perl6maven.com/perl6-is-a-value-in-a-given-list-of-values">http://perl6maven.com/perl6-is-a-value-in-a-given-list-of-values</a></p>
</li></ul> <ul><li><p><a href="https://perl6advent.wordpress.com/2009/12/13/day-13-junctions/">https://perl6advent.wordpress.com/2009/12/13/day-13-junctions/</a></p>
</li></ul></div>
<!-- /type/Kernel.pod6 --><div class="pod-body"><a id="_type_Kernel.pod6"></a><a name="t120"><h1 class="title">120 class Kernel</h1></a> <p class="subtitle">Kernel related information</p> <pre class="code">class Kernel does Systemic { }</pre>
 <p>Built-in class for providing kernel related information. Usually accessed through the <a href="#_language_variables.pod6-Dynamic_variables"><span class="code">$*KERNEL</span></a> dynamic variable.</p>
 <a name="t120.1"></a><h1 id="_type_Kernel.pod6-Methods">120.1 Methods</h1>
 <a name="t120.1.1"></a><h2 id="_type_Kernel.pod6-method_arch">120.1.1 method arch</h2>
 <pre class="code">method arch(--&gt; Str)</pre>
 <p>Instance method returning the &quot;arch&quot; (as in &quot;architecture&quot;) information of the Kernel object. Dies if the &quot;arch&quot; could not be established.</p>
 <a name="t120.1.2"></a><h2 id="_type_Kernel.pod6-method_archname">120.1.2 method archname</h2>
 <pre class="code">method archname(--&gt; Str)</pre>
 <p>Instance method returning the concatenation of <a href="#_routine_hardware.pod6">hardware</a> and <a href="#_routine_arch.pod6">arch</a>.</p>
 <a name="t120.1.3"></a><h2 id="_type_Kernel.pod6-method_auth">120.1.3 method auth</h2>
 <pre class="code">method auth(--&gt; Str)</pre>
 <p>Instance method returning the &quot;auth&quot; (as in &quot;author&quot; or &quot;authority&quot;) of the Kernel object. Returns &quot;unknown&quot; if the &quot;auth&quot; could not be established.</p>
 <a name="t120.1.4"></a><h2 id="_type_Kernel.pod6-method_bits">120.1.4 method bits</h2>
 <pre class="code">method bits(--&gt; Int)</pre>
 <p>Instance method returning the number of bits used in the architecture of the processor. Usually <b>32</b> or <b>64</b>.</p>
 <a name="t120.1.5"></a><h2 id="_type_Kernel.pod6-method_cpu-cores">120.1.5 method cpu-cores</h2>
 <pre class="code">method cpu-cores(--&gt; Int)</pre>
 <p>Instance / Class method returning the number of CPU cores that are available.</p>
 <a name="t120.1.6"></a><h2 id="_type_Kernel.pod6-method_cpu-usage">120.1.6 method cpu-usage</h2>
 <pre class="code">method cpu-usage(--&gt; Int)</pre>
 <p>Instance / Class method returning the amount of CPU uses since the start of the program (in microseconds).</p>
 <a name="t120.1.7"></a><h2 id="_type_Kernel.pod6-method_desc">120.1.7 method desc</h2>
 <p>Instance method returning the &quot;desc&quot; (as in &quot;description&quot;) of the Kernel object. Returns a <span class="code">Str</span> type object if the &quot;desc&quot; could not be established.</p>
 <a name="t120.1.8"></a><h2 id="_type_Kernel.pod6-method_hardware">120.1.8 method hardware</h2>
 <p>Instance method returning the hardware information of the Kernel object. Dies if the hardware information could not be established.</p>
 <a name="t120.1.9"></a><h2 id="_type_Kernel.pod6-method_name">120.1.9 method name</h2>
 <pre class="code">method name(--&gt; Str)</pre>
 <p>Instance method returning the name of the Kernel object. Returns &quot;unknown&quot; if the name could not be established.</p>
 <a name="t120.1.10"></a><h2 id="_type_Kernel.pod6-method_release">120.1.10 method release</h2>
 <p>Instance method returning the release information of the Kernel object. Dies if the release information could not be established.</p>
 <a name="t120.1.11"></a><h2 id="_type_Kernel.pod6-method_signal">120.1.11 method signal</h2>
 <p>Instance method returning the <span class="code">Signal</span> for a given name for the Kernel object.</p>
 <a name="t120.1.12"></a><h2 id="_type_Kernel.pod6-method_signals">120.1.12 method signals</h2>
 <p>Instance method returning a list of <span class="code">Signal</span>s that are supported by the kernel represented by the Kernel object.</p>
 <a name="t120.1.13"></a><h2 id="_type_Kernel.pod6-method_signature">120.1.13 method signature</h2>
 <p>Instance method returning the signature of the Kernel object. Returns a <span class="code">Blob</span> type object if the signature could not be established.</p>
 <a name="t120.1.14"></a><h2 id="_type_Kernel.pod6-method_version">120.1.14 method version</h2>
 <pre class="code">method version(--&gt; Version)</pre>
 <p>Instance method returning the version of the Kernel object as a <a href="#_type_Version.pod6">Version</a> object. Returns a Version object &quot;unknown&quot; if the version could not be established.</p>
 <p>See Also: <span class="code">Systemic</span></p>
</div>
<!-- /type/Label.pod6 --><div class="pod-body"><a id="_type_Label.pod6"></a><a name="t121"><h1 class="title">121 class Label</h1></a> <p class="subtitle">Tagged location in the source code</p> <pre class="code">class Label {}</pre>
 <p>In Perl 6, you can give for example loops a label, and use it to control that loop (instead of the inner-most loop).</p>
 <pre class="code">USERS:          # the label 
 for @users -&gt; $u { 
     for $u.pets -&gt; $pet { 
         # usage of a label 
         next USERS if $pet.barks; 
     } 
     say &quot;None of {$u}'s pets barks&quot;; 
 } 
 say USERS.^name;        # OUTPUT: «Label␤» 
</pre>
 <p>Those label are objects of type <span class="code">Label</span>.</p>
 <a name="t121.1"></a><h1 id="_type_Label.pod6-Methods">121.1 Methods</h1>
 <a name="t121.1.1"></a><h2 id="_type_Label.pod6-method_next">121.1.1 method next</h2>
 <p>Defined as:</p>
 <pre class="code">method next(Label:)</pre>
 <p>Begin the next iteration of the loop associated with the label.</p>
 <pre class="code">MY-LABEL:
for 1..10 {
    next MY-LABEL if $_ &lt; 5;
    print &quot;$_ &quot;;
}

# OUTPUT: «5 6 7 8 9 10 »</pre>
 <a name="t121.1.2"></a><h2 id="_type_Label.pod6-method_redo">121.1.2 method redo</h2>
 <p>Defined as:</p>
 <pre class="code">method redo(Label:)</pre>
 <p>Repeat the same iteration of the loop associated with the label.</p>
 <pre class="code">my $has-repeated = False;

MY-LABEL:
for 1..10 {
    print &quot;$_ &quot;;
    if $_ == 5 {
        LEAVE $has-repeated = True;
        redo MY-LABEL unless $has-repeated;
    }
}

# OUTPUT: «1 2 3 4 5 5 6 7 8 9 10 »</pre>
 <a name="t121.1.3"></a><h2 id="_type_Label.pod6-method_last">121.1.3 method last</h2>
 <p>Defined as:</p>
 <pre class="code">method last(Label:)</pre>
 <p>Terminate the execution of the loop associated with the label.</p>
 <pre class="code">MY-LABEL:
for 1..10 {
    last MY-LABEL if $_ &gt; 5;
    print &quot;$_ &quot;;
}

# OUTPUT: «1 2 3 4 5 »</pre>
</div>
<!-- /type/List.pod6 --><div class="pod-body"><a id="_type_List.pod6"></a><a name="t122"><h1 class="title">122 class List</h1></a> <p class="subtitle">Sequence of values</p> <pre class="code">my class List does Iterable does Positional { } 
</pre>
 <p><span class="code">List</span> stores items sequentially and potentially lazily.</p>
 <p>Indexes into lists and arrays start at 0 by default.</p>
 <p>You can assign to list elements if they are containers. Use Arrays to have every value of the list stored in a container.</p>
 <p><span class="code">List</span> implements <span class="code">Positional</span> and as such provides support for <a href="#_language_subscripts.pod6">subscripts</a>.</p>
 <a name="t122.1"></a><h1 id="_type_List.pod6-Items,_Flattening_and_Sigils">122.1 Items, Flattening and Sigils</h1>
 <p>In Perl 6, assigning a <span class="code">List</span> to a scalar variable does not lose information. The difference is that iteration generally treats a list (or any other list-like object, like a <a href="#_type_Seq.pod6">Seq</a> or an <a href="#_type_Array.pod6">Array</a>) inside a scalar as a single element, as long as it's part of another .</p>
 <pre class="code">my @a = 1, 2, 3;
for @a { }      # three iterations

my $s = @a;
for $s { }      # one iteration
for @a.item { } # one iteration
for $s.list { } # three iterations</pre>
 <p>Lists generally don't interpolate (flatten) into other lists, except when they are not itemized, and the single argument to an operation such as <span class="code">append</span>:</p>
 <pre class="code">my @a = 1, 2, 3;
my @nested = @a, @a;           # two elements
my @flat = flat @a, @a;        # six elements, with explicit flat
my @b = 'a', 'b';
@b.append: @a;                 # @b now has 5 elements, because @a
                               # is the sole argument to append
my @c = 'a', 'b';
@c.append: $@a;                # @b now has 3 elements, because of the
                               # itemization with $
say @c.elems;</pre>
 <p><span class="code">.item</span> can often be written as <span class="code">$( ... )</span>, and on an array variable even as <span class="code">$@a</span>.</p>
 <p>The same flattening behavior applies all objects that do the <a href="#_type_Iterable.pod6">Iterable</a> role, notable <a href="#_type_Hash.pod6">hashes</a>:</p>
 <pre class="code">my %h = a =&gt; 1, b =&gt; 2;
my @b = %h;   say @b.elems;     # OUTPUT: «2␤»
my @c = %h, ; say @c.elems;     # OUTPUT: «1␤»
my @d = $%h;  say @d.elems;     # OUTPUT: «1␤»</pre>
 <p>Slurpy parameters (<span class="code">*@a</span>) flatten non-itemized sublists:</p>
 <pre class="code">sub fe(*@flat) { @flat.elems }
say fe(&lt;a b&gt;, &lt;d e&gt;);           # OUTPUT: «4␤»
say fe(&lt;a b&gt;, &lt;d e&gt;.item);      # OUTPUT: «3␤»</pre>
 <p><span class="indexed"><a id="859" name="() empty list"></a></span> The empty list is created with <span class="code">()</span>. Smartmatching against the empty list will check for the absence of elements.</p>
 <pre class="code">my @a;
for @a, @a.list, @a.Seq -&gt; \listoid {
    say listoid ~~ ()
}
# OUTPUT: «True␤True␤True␤»</pre>
 <p>Coercion to <span class="code">Bool</span> also indicates if the <span class="code">List</span> got any elements.</p>
 <pre class="code">my @a;
say [@a.elems, @a.Bool, ?@a]; # OUTPUT: «[0 False False]␤»
@a.push: 42;
say [@a.elems, @a.Bool, ?@a]; # OUTPUT: «[1 True True]␤»
say 'empty' unless @a;        # no output</pre>
 <a name="t122.2"></a><h1 id="_type_List.pod6-Methods">122.2 Methods</h1>
 <a name="t122.2.1"></a><h2 id="_type_List.pod6-method_ACCEPTS">122.2.1 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(List:D: $topic)</pre>
 <p>If <span class="code">$topic</span> is an <a href="#_type_Iterable.pod6">Iterable</a>, returns <span class="code">True</span> or <span class="code">False</span> based on whether the contents of the two <span class="code">Iterables</span> match. A <a href="#_type_Whatever.pod6">Whatever</a> element in the invocant matches anything in the corresponding position of the <span class="code">$topic</span> <span class="code">Iterable</span>. A <a href="#_type_HyperWhatever.pod6">HyperWhatever</a> matches any number of any elements, including no elements:</p>
 <pre class="code">say (1, 2, 3)       ~~ (1,  *, 3);  # OUTPUT: «True␤»
say (1, 2, 3)       ~~ (9,  *, 5);  # OUTPUT: «False␤»
say (1, 2, 3)       ~~ (   **, 3);  # OUTPUT: «True␤»
say (1, 2, 3)       ~~ (   **, 5);  # OUTPUT: «False␤»
say (1, 3)          ~~ (1, **, 3); # OUTPUT: «True␤»
say (1, 2, 4, 5, 3) ~~ (1, **, 3); # OUTPUT: «True␤»
say (1, 2, 4, 5, 6) ~~ (1, **, 5); # OUTPUT: «False␤»
say (1, 2, 4, 5, 6) ~~ (   **   ); # OUTPUT: «True␤»
say ()              ~~ (   **   ); # OUTPUT: «True␤»</pre>
 <p>In addition, returns <span class="code">False</span> if either the invocant or <span class="code">$topic</span> <a href="#_routine_is-lazy.pod6">is a lazy</a> <span class="code">Iterable</span>, unless <span class="code">$topic</span> is the same object as the invocant, in which case <span class="code">True</span> is returned.</p>
 <p>If <span class="code">$topic</span> is <i>not</i> an <a href="#_type_Iterable.pod6">Iterable</a>, returns the invocant if the invocant has no elements or its first element is a <a href="#_type_Match.pod6">Match</a> object (this behaviour powers <span class="code">m:g//</span> smartmatch), or <span class="code">False</span> otherwise.</p>
 <a name="t122.2.2"></a><h2 id="_type_List.pod6-routine_elems">122.2.2 routine elems</h2>
 <p>Defined as:</p>
 <pre class="code">sub    elems($list --&gt; Int:D)
method elems(List:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements in the list.</p>
 <pre class="code">say (1,2,3,4).elems; # OUTPUT: «4␤»</pre>
 <a name="t122.2.3"></a><h2 id="_type_List.pod6-routine_end">122.2.3 routine end</h2>
 <p>Defined as:</p>
 <pre class="code">sub    end($list --&gt; Int:D)
method end(List:D: --&gt; Int:D)</pre>
 <p>Returns the index of the last element.</p>
 <pre class="code">say (1,2,3,4).end; # OUTPUT: «3␤»</pre>
 <a name="t122.2.4"></a><h2 id="_type_List.pod6-routine_keys">122.2.4 routine keys</h2>
 <p>Defined as:</p>
 <pre class="code">sub    keys($list --&gt; Seq:D)
method keys(List:D: --&gt; Seq:D)</pre>
 <p>Returns a sequence of indexes into the list (e.g., <span class="code">0..(@list.elems-1)</span>).</p>
 <pre class="code">say (1,2,3,4).keys; # OUTPUT: «0..3␤»</pre>
 <a name="t122.2.5"></a><h2 id="_type_List.pod6-routine_values">122.2.5 routine values</h2>
 <p>Defined as:</p>
 <pre class="code">sub    values($list --&gt; Seq:D)
method values(List:D: --&gt; Seq:D)</pre>
 <p>Returns a sequence of the list elements, in order.</p>
 <pre class="code">say (1,2,3,4).^name;        # OUTPUT: «List␤»
say (1,2,3,4).values.^name; # OUTPUT: «Seq␤»</pre>
 <a name="t122.2.6"></a><h2 id="_type_List.pod6-routine_kv">122.2.6 routine kv</h2>
 <p>Defined as:</p>
 <pre class="code">sub    kv($list --&gt; Seq:D)
method kv(List:D: --&gt; Seq:D)</pre>
 <p>Returns an interleaved sequence of indexes and values. For example</p>
 <pre class="code">&lt;a b c&gt;.kv; # (0 a 1 b 2 c)</pre>
 <a name="t122.2.7"></a><h2 id="_type_List.pod6-routine_pairs">122.2.7 routine pairs</h2>
 <p>Defined as:</p>
 <pre class="code">sub    pairs($list --&gt; Seq:D)
method pairs(List:D: --&gt; Seq:D)</pre>
 <p>Returns a sequence of pairs, with the indexes as keys and the list values as values.</p>
 <pre class="code">&lt;a b c&gt;.pairs   # (0 =&gt; a 1 =&gt; b 2 =&gt; c)</pre>
 <a name="t122.2.8"></a><h2 id="_type_List.pod6-routine_antipairs">122.2.8 routine antipairs</h2>
 <p>Defined as:</p>
 <pre class="code">method antipairs(List:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> of pairs, with the values as keys and the indexes as values, i.e. the direct opposite to <a href="#_type_List.pod6-routine_pairs">pairs</a>.</p>
 <pre class="code">say &lt;a b c&gt;.antipairs;  # OUTPUT: «(a =&gt; 0 b =&gt; 1 c =&gt; 2)␤»</pre>
 <a name="t122.2.9"></a><h2 id="_type_List.pod6-routine_join">122.2.9 routine join</h2>
 <p>Defined as:</p>
 <pre class="code">sub    join($separator, *@list --&gt; Str:D)
method join(List:D: $separator --&gt; Str:D)</pre>
 <p>Treats the elements of the list as strings, interleaves them with <span class="code">$separator</span> and concatenates everything into a single string.</p>
 <p>Example:</p>
 <pre class="code">join ', ', &lt;a b c&gt;;             # RESULT: «a, b, c»</pre>
 <p>Note that the method form does not flatten sublists:</p>
 <pre class="code">say (1, &lt;a b c&gt;).join('|');     # OUTPUT: «1|a b c␤»</pre>
 <a name="t122.2.10"></a><h2 id="_type_List.pod6-routine_map">122.2.10 routine map</h2>
 <p>Defined as:</p>
 <pre class="code">sub    map(&amp;code, *@elems --&gt; Seq:D)
method map(List:D: &amp;code --&gt; Seq:D)</pre>
 <p>Invokes <span class="code">&amp;code</span> for each element and gathers the return values in a sequence and returns it. This happens lazily, i.e. <span class="code">&amp;code</span> is only invoked when the return values are accessed.Examples:</p>
 <pre class="code">say ('hello', 1, 22/7, 42, 'world').map: { .^name } # OUTPUT: «(Str Int Rat Int Str)␤»
say map *.Str.chars, 'hello', 1, 22/7, 42, 'world';     # OUTPUT: «(5 1 8 2 5)␤»</pre>
 <p><span class="code">map</span> inspects the arity of the code object, and tries to pass as many arguments to it as expected:</p>
 <pre class="code">sub b($a, $b) { &quot;$a before $b&quot; };
say &lt;a b x y&gt;.map(&amp;b).join(', ');   # OUTPUT: «a before b, x before y␤»</pre>
 <p>iterates the list two items at a time.</p>
 <p>Note that <span class="code">map</span> does not flatten embedded lists and arrays, so</p>
 <pre class="code">((1, 2), &lt;a b&gt;).map({ .join(',')})</pre>
 <p>passes <span class="code">(1, 2)</span> and <span class="code">&lt;a b&gt; </span> in turn to the block, leading to a total of two iterations and the result sequence <span class="code">&quot;1,2&quot;, &quot;a,b&quot;</span>. See <a href="#_type_List.pod6-method_flatmap">method flatmap</a> for an alternative that flattens.</p>
 <p>If <span class="code">&amp;code</span> is a <a href="#_type_Block.pod6">Block</a> loop phasers will be executed and loop control statements will be treated as in loop control flow. Please note that <span class="code">return</span> is executed in the context of its definition. It is not the return statement of the block but the surrounding Routine. Using a <a href="#_type_Routine.pod6">Routine</a> will also handle loop control statements and loop phasers. Any <span class="code">Routine</span> specific control statement or phaser will be handled in the context of that <span class="code">Routine</span>.</p>
 <pre class="code">sub s {
    my &amp;loop-block = {
        return # return from sub s
    };
    say 'hi';
    (1..3).map: &amp;loop-block;
    say 'oi‽' # dead code
};
s
# RESULT: «hi»</pre>
 <a name="t122.2.11"></a><h2 id="_type_List.pod6-sub_flat">122.2.11 sub flat</h2>
 <p>Defined as:</p>
 <pre class="code">sub flat(**@list is raw)</pre>
 <p>Constructs a list which contains any arguments provided in the order provided, and returns the result of calling the <span class="code">.flat</span> method (<a href="#_type_Any.pod6-method_flat">inherited from  <span class="code">Any</span></a>) on that list:</p>
 <pre class="code">say flat 1, (2, (3, 4), $(5, 6)); # OUTPUT: «(1 2 3 4 (5 6))␤»</pre>
 <a name="t122.2.12"></a><h2 id="_type_List.pod6-method_flatmap">122.2.12 method flatmap</h2>
 <p>Defined as:</p>
 <pre class="code">method flatmap(List:D: &amp;code --&gt; Seq:D)</pre>
 <p>Like <a href="#_type_Any.pod6-method_map"><span class="code">map</span></a> iterates over the elements of the invocant list, feeding each element in turn to the code reference, and assembling the return values from these invocations in a result list.</p>
 <p>The use of <span class="code">flatmap</span> <b>is strongly discouraged</b>. Instead of <span class="code">.flatmap( )</span>, please use <span class="code">.map( ).flat</span> as it is clear when the <span class="code">.flat</span> is called and is not confusing like <span class="code">.flatmap</span>.</p>
 <p>Unlike <span class="code">map</span> it flattens non-itemized lists and arrays, so</p>
 <pre class="code">## flatmap
my @list = ('first1', ('second2', ('third3', 'third4'), 'second5'), 'first6');
say @list.flatmap({.reverse}).perl;
# OUTPUT «(&quot;first1&quot;, &quot;second5&quot;, &quot;third3&quot;, &quot;third4&quot;, &quot;second2&quot;, &quot;first6&quot;).Seq␤»
## map
say @list.map({&quot;$_ was a {.^name}&quot;}).perl;
# OUTPUT «(&quot;first1 was a Str&quot;, &quot;second2 third3 third4 second5 was a List&quot;, &quot;first6 was a Str&quot;).Seq␤»
## .map .flat has the same output as .flatmap
say @list.map({.reverse}).flat.perl
# OUTPUT «(&quot;first1&quot;, &quot;second5&quot;, &quot;third3&quot;, &quot;third4&quot;, &quot;second2&quot;, &quot;first6&quot;).Seq␤»</pre>
 <a name="t122.2.13"></a><h2 id="_type_List.pod6-method_gist">122.2.13 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">multi method gist(List:D: --&gt; Str:D)</pre>
 <p>Returns the string containing the parenthesized &quot;gist&quot; of the List, <b>listing up to the first 100</b> elements, separated by space, appending an ellipsis if the List has more than 100 elements. If List <a href="#_routine_is-lazy.pod6"><span class="code">is-lazy</span></a>, returns string <span class="code">'(...)'</span></p>
 <pre class="code">put (1, 2, 3).gist;   # OUTPUT «(1 2 3)␤» 
 put (1..∞).List.gist; # OUTPUT «(...)␤» 
 
 put (1..200).List.gist; 
 # OUTPUT: 
 # (1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 
 # 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 
 # 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 
 # 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 
 # 96 97 98 99 100 ...) 
</pre>
 <a name="t122.2.14"></a><h2 id="_type_List.pod6-routine_grep">122.2.14 routine grep</h2>
 <p>Defined as:</p>
 <pre class="code">sub    grep(Mu $matcher, *@elems, :$k, :$kv, :$p, :$v --&gt; Seq:D)
method grep(List:D:  Mu $matcher, :$k, :$kv, :$p, :$v --&gt; Seq:D)</pre>
 <p>Returns a sequence of elements against which <span class="code">$matcher</span> smart-matches. The elements are returned in the order in which they appear in the original list.</p>
 <p>Examples:</p>
 <pre class="code">say ('hello', 1, 22/7, 42, 'world').grep: Int;              # OUTPUT: «(1 42)␤»
say grep { .Str.chars &gt; 3 }, 'hello', 1, 22/7, 42, 'world'; # OUTPUT: «(hello 3.142857 world)␤»</pre>
 <p>Note that if you want to grep for elements that do not match, you can use a <span class="code">none</span>-<a href="#_type_Junction.pod6">Junction</a>:</p>
 <pre class="code">say &lt;a b 6 d 8 0&gt;.grep(none Int);           # OUTPUT: «(a b d)␤»
say &lt;a b c d e f&gt;.grep(none /&lt;[aeiou]&gt;/);   # OUTPUT: «(b c d f)␤»</pre>
 <p>Another option to grep for elements that do not match a regex is to use a block:</p>
 <pre class="code">say &lt;a b c d e f&gt;.grep({! /&lt;[aeiou]&gt;/})     # OUTPUT: «(b c d f)␤»</pre>
 <p>The reason the example above works is because a regex in boolean context applies itself to <span class="code">$_</span>. In this case, <span class="code">!</span> boolifies the <span class="code">/&lt;[aeiou]&gt;/</span> regex and negates the result. Smartmatching against a <a href="#_type_Callable.pod6">Callable</a> (in this case a <a href="#_type_Block.pod6">Block</a>) returns the value returned from that callable, so the boolified result of a regex is then used to decide whether the current value should be kept in the result of a grep.</p>
 <p>The optional named parameters <span class="code">:k</span>, <span class="code">:kv</span>, <span class="code">:p</span>, <span class="code">:v</span> provide the same functionality as on slices:</p>
 <ul><li><p>k</p>
</li></ul> <p>Only return the index values of the matching elements in order.</p>
 <ul><li><p>kv</p>
</li></ul> <p>Return both the index and matched elements in order.</p>
 <ul><li><p>p</p>
</li></ul> <p>Return the index and the matched element as a <span class="code">Pair</span>, in order.</p>
 <ul><li><p>v</p>
</li></ul> <p>Only return the matched elements (same as not specifying any named parameter at all).</p>
 <p>Examples:</p>
 <pre class="code">say ('hello', 1, 22/7, 42, 'world').grep: Int, :k;
# OUTPUT: «(1 3)␤»
say grep { .Str.chars &gt; 3 }, :kv, 'hello', 1, 22/7, 42, 'world';
# OUTPUT: «(0 hello 2 3.142857 4 world)␤»
say grep { .Str.chars &gt; 3 }, :p, 'hello', 1, 22/7, 42, 'world';
# OUTPUT: «(0 =&gt; hello 2 =&gt; 3.142857 4 =&gt; world)␤»</pre>
 <a name="t122.2.15"></a><h2 id="_type_List.pod6-routine_first">122.2.15 routine first</h2>
 <p>Defined as:</p>
 <pre class="code">sub    first(Mu $matcher, *@elems, :$k, :$kv, :$p, :$end)
method first(List:D:  Mu $matcher?, :$k, :$kv, :$p, :$end)</pre>
 <p>Returns the first item of the list which smart-matches against <span class="code">$matcher</span>, returns <span class="code">Nil</span> when no values match. The optional named parameter <span class="code">:end</span> indicates that the search should be from the <b>end</b> of the list, rather than from the start.</p>
 <p>Examples:</p>
 <pre class="code">say (1, 22/7, 42, 300).first: * &gt; 5;                  # OUTPUT: «42␤»
say (1, 22/7, 42, 300).first: * &gt; 5, :end;            # OUTPUT: «300␤»
say ('hello', 1, 22/7, 42, 'world').first: Complex;   # OUTPUT: «Nil␤»</pre>
 <p>The optional named parameters <span class="code">:k</span>, <span class="code">:kv</span>, <span class="code">:p</span> provide the same functionality as on slices:</p>
 <ul><li><p>k</p>
</li></ul> <p>Return the index value of the matching element. Index is always counted from the beginning of the list, regardless of whether the <span class="code">:end</span> named parameter is specified or not.</p>
 <ul><li><p>kv</p>
</li></ul> <p>Return both the index and matched element.</p>
 <ul><li><p>p</p>
</li></ul> <p>Return the index and the matched element as a <span class="code">Pair</span>.</p>
 <p>Examples:</p>
 <pre class="code">say (1, 22/7, 42, 300).first: * &gt; 5, :k;        # OUTPUT: «2␤»
say (1, 22/7, 42, 300).first: * &gt; 5, :p;        # OUTPUT: «2 =&gt; 42␤»
say (1, 22/7, 42, 300).first: * &gt; 5, :kv, :end; # OUTPUT: «(3 300)␤»</pre>
 <p>In method form, the <span class="code">$matcher</span> can be omitted, in which case the first available item (or last if <span class="code">:end</span> is set) will be returned. See also <a href="#_routine_head.pod6"><span class="code">head</span></a> and <a href="#_routine_tail.pod6"><span class="code">tail</span></a> methods.</p>
 <a name="t122.2.16"></a><h2 id="_type_List.pod6-method_head">122.2.16 method head</h2>
 <p>Defined as:</p>
 <pre class="code">method head(List:D: Int(Cool) $number = 1 --&gt; Seq:D)</pre>
 <p>Returns the <b>first</b> NUMBER items of the list. Returns an empty list if NUMBER &lt;= 0. Defaults to the first element seen if no NUMBER specified.</p>
 <p>Examples:</p>
 <pre class="code">say ^10 .head(5);      # OUTPUT: «(0 1 2 3 4)␤»
say ^∞ .head(5);       # OUTPUT: «(0 1 2 3 4)␤»
say ^10 .head;         # OUTPUT: «0␤»
say ^∞ .head;          # OUTPUT: «0␤»</pre>
 <a name="t122.2.17"></a><h2 id="_type_List.pod6-method_tail">122.2.17 method tail</h2>
 <p>Defined as:</p>
 <pre class="code">method tail(List:D: Int(Cool) $number = 1 --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> containing the <b>last</b> NUMBER items of the list. Returns an empty Seq if NUMBER &lt;= 0. Defaults to the last element if no NUMBER is specified. Throws an exception if the list is lazy.</p>
 <p>Examples:</p>
 <pre class="code">say ^10 .tail(5);      # OUTPUT: «(5 6 7 8 9)␤» 
 say ^∞ .tail(5);       # Cannot tail a lazy list 
 say ^10 .tail;         # OUTPUT: «(9)␤» 
 say ^∞ .tail;        # Cannot tail a lazy list 
</pre>
 <a name="t122.2.18"></a><h2 id="_type_List.pod6-routine_categorize">122.2.18 routine categorize</h2>
 <p>Defined as:</p>
 <pre class="code">sub    categorize(&amp;mapper, *@values --&gt; Hash:D)
method categorize(List:D: &amp;mapper   --&gt; Hash:D)</pre>
 <p>Transforms a list of values into a hash representing the categorizations of those values according to <span class="code">&amp;mapper</span>; each hash key represents one possible categorization for one or more of the incoming list values, and the corresponding hash value contains an array of those list values categorized by the mapper into the category of the associated key.</p>
 <p>Note that, unlike <a href="#_routine_classify.pod6">classify</a>, which assumes that the return value of the mapper is a single value, <span class="code">categorize</span> always assumes that the return value of the mapper is a list of categories that are appropriate to the current value.</p>
 <p>Example:</p>
 <pre class="code">sub mapper(Int $i) returns List {
    $i %% 2 ?? 'even' !! 'odd',
    $i.is-prime ?? 'prime' !! 'not prime'
}
say categorize &amp;mapper, (1, 7, 6, 3, 2);  # OUTPUT: «{even =&gt; [6 2], not prime =&gt; [1 6],
                                          #          odd =&gt; [1 7 3], prime =&gt; [7 3 2]}␤»</pre>
 <a name="t122.2.19"></a><h2 id="_type_List.pod6-routine_classify">122.2.19 routine classify</h2>
 <p>Defined as:</p>
 <pre class="code">sub    classify(&amp;mapper, *@values --&gt; Hash:D)
method classify(List:D: &amp;mapper   --&gt; Hash:D)</pre>
 <p>Transforms a list of values into a hash representing the classification of those values according to <span class="code">&amp;mapper</span>; each hash key represents the classification for one or more of the incoming list values, and the corresponding hash value contains an array of those list values classified by the mapper into the category of the associated key.</p>
 <p>Example:</p>
 <pre class="code">say classify { $_ %% 2 ?? 'even' !! 'odd' }, (1, 7, 6, 3, 2);
# OUTPUT: «{even =&gt; [6 2], odd =&gt; [1 7 3]}␤»
say ('hello', 1, 22/7, 42, 'world').classify: { .Str.chars };
# OUTPUT: «{1 =&gt; [1], 2 =&gt; [42], 5 =&gt; [hello world], 8 =&gt; [3.142857]}␤»</pre>
 <a name="t122.2.20"></a><h2 id="_type_List.pod6-method_Bool">122.2.20 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(List:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the list has at least one element, and <span class="code">False</span> for the empty list.</p>
 <pre class="code">say ().Bool;  # OUTPUT: «False␤»
say (1).Bool; # OUTPUT: «True␤»</pre>
 <a name="t122.2.21"></a><h2 id="_type_List.pod6-method_Str">122.2.21 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">method Str(List:D: --&gt; Str:D)</pre>
 <p>Stringifies the elements of the list and joins them with spaces (same as <span class="code">.join(' ')</span>).</p>
 <pre class="code">say (1,2,3,4,5).Str; # OUTPUT: «1 2 3 4 5␤»</pre>
 <a name="t122.2.22"></a><h2 id="_type_List.pod6-method_Int">122.2.22 method Int</h2>
 <p>Defined as:</p>
 <pre class="code">method Int(List:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements in the list (same as <span class="code">.elems</span>).</p>
 <pre class="code">say (1,2,3,4,5).Int; # OUTPUT: «5␤»</pre>
 <a name="t122.2.23"></a><h2 id="_type_List.pod6-method_Numeric">122.2.23 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">method Numeric(List:D: --&gt; Int:D)</pre>
 <p>Returns the number of elements in the list (same as <span class="code">.elems</span>).</p>
 <pre class="code">say (1,2,3,4,5).Numeric; # OUTPUT: «5␤»</pre>
 <a name="t122.2.24"></a><h2 id="_type_List.pod6-method_Capture">122.2.24 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(--&gt; Capture:D)</pre>
 <p>Returns a <a href="#_type_Capture.pod6">Capture</a> where each <a href="#_type_Pair.pod6">Pair</a>, if any, in the <span class="code">List</span> has been converted to a named argument (with the <a href="#_type_Pair.pod6-method_key">key</a> of the <a href="#_type_Pair.pod6">Pair</a> stringified). All other elements in the <span class="code">List</span> are converted to positional arguments in the order they are found, i.e. the first non pair item in the list becomes the first positional argument, which gets index <span class="code">0</span>, the second non pair item becomes the second positional argument, getting index <span class="code">1</span> etc.</p>
 <pre class="code">my $list = (7, 5, a =&gt; 2, b =&gt; 17);
my $capture = $list.Capture;
say $capture.keys;                                # OUTPUT: «(0 1 a b)␤»
my-sub(|$capture);                                # RESULT: «7, 5, 2, 17»

sub my-sub($first, $second, :$a, :$b) {
    say &quot;$first, $second, $a, $b&quot;
}</pre>
 <p>A more advanced example demonstrating the returned <span class="code">Capture</span> being matched against a <a href="#_type_Signature.pod6">Signature</a>.</p>
 <pre class="code">my $list = (7, 5, a =&gt; 2, b =&gt; 17);
say so $list.Capture ~~ :($ where * == 7,$,:$a,:$b); # OUTPUT: «True␤»

$list = (8, 5, a =&gt; 2, b =&gt; 17);
say so $list.Capture ~~ :($ where * == 7,$,:$a,:$b); # OUTPUT: «False␤»</pre>
 <a name="t122.2.25"></a><h2 id="_type_List.pod6-routine_pick">122.2.25 routine pick</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    pick($count, *@list --&gt; Seq:D)
multi method pick(List:D: $count --&gt; Seq:D)
multi method pick(List:D: --&gt; Mu)</pre>
 <p>If <span class="code">$count</span> is supplied: Returns <span class="code">$count</span> elements chosen at random and without repetition from the invocant. If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the size of the list, then all elements from the invocant list are returned in a random sequence.</p>
 <p>In <i>method</i> form, if <span class="code">$count</span> is omitted: Returns a single random item from the list, or Nil if the list is empty</p>
 <p>Examples:</p>
 <pre class="code">say &lt;a b c d e&gt;.pick;           # OUTPUT: «b␤»
say &lt;a b c d e&gt;.pick: 3;        # OUTPUT: «(c a e)␤»
say &lt;a b c d e&gt;.pick: *;        # OUTPUT: «(e d a b c)␤»</pre>
 <a name="t122.2.26"></a><h2 id="_type_List.pod6-routine_roll">122.2.26 routine roll</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    roll($count, *@list --&gt; Seq:D)
multi method roll(List:D: $count --&gt; Seq:D)
multi method roll(List:D: --&gt; Mu)</pre>
 <p>If <span class="code">$count</span> is supplied: Returns a sequence of <span class="code">$count</span> elements, each randomly selected from the list. Each random choice is made independently, like a separate die roll where each die face is a list element. If <span class="code">*</span> is passed as <span class="code">$count</span> returns a lazy, infinite sequence of randomly chosen elements from the original list.</p>
 <p>If <span class="code">$count</span> is omitted: Returns a single random item from the list, or Nil if the list is empty</p>
 <p>Examples:</p>
 <pre class="code">say &lt;a b c d e&gt;.roll;       # 1 random letter
say &lt;a b c d e&gt;.roll: 3;    # 3 random letters
say roll 8, &lt;a b c d e&gt;;    # 8 random letters

my $random-digits := (^10).roll(*);
say $random-digits[^15];    # 15 random digits</pre>
 <a name="t122.2.27"></a><h2 id="_type_List.pod6-routine_eager">122.2.27 routine eager</h2>
 <p>Defined as:</p>
 <pre class="code">multi method eager(List:D: --&gt; List:D)
multi sub eager(*@elems --&gt; List:D)</pre>
 <p>Evaluates all elements in the <span class="code">List</span> eagerly, and returns them as a <span class="code">List</span>.</p>
 <pre class="code">my  \ll = (lazy 1..5).cache;

say ll[];     # OUTPUT: «(...)␤»
say ll.eager  # OUTPUT: «(1 2 3 4 5)␤»</pre>
 <a name="t122.2.28"></a><h2 id="_type_List.pod6-routine_reverse">122.2.28 routine reverse</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    reverse(*@list  --&gt; Seq:D)
multi method reverse(List:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6"><span class="code">Seq</span></a> with the same elements in reverse order.</p>
 <p>Note that <span class="code">reverse</span> always refers to reversing elements of a list; to reverse the characters in a string, use <a href="#_routine_flip.pod6">flip</a>.</p>
 <p>Examples:</p>
 <pre class="code">say &lt;hello world!&gt;.reverse;     # OUTPUT: «(world! hello)␤»
say reverse ^10;                # OUTPUT: «(9 8 7 6 5 4 3 2 1 0)␤»</pre>
 <a name="t122.2.29"></a><h2 id="_type_List.pod6-routine_rotate">122.2.29 routine rotate</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    rotate(@list,  Int:D $n = 1 --&gt; List:D)
multi method rotate(List:D: Int:D $n = 1 --&gt; List:D)</pre>
 <p>Returns the list rotated by <span class="code">$n</span> elements.</p>
 <p>Examples:</p>
 <pre class="code">&lt;a b c d e&gt;.rotate(2);   # &lt;c d e a b&gt;
&lt;a b c d e&gt;.rotate(-1);  # &lt;e a b c d&gt;</pre>
 <a name="t122.2.30"></a><h2 id="_type_List.pod6-routine_sort">122.2.30 routine sort</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    sort(*@elems      --&gt; Seq:D)
multi sub    sort(&amp;custom-routine-to-use, *@elems --&gt; Seq:D)
multi method sort(List:D:      --&gt; Seq:D)
multi method sort(List:D: &amp;custom-routine-to-use  --&gt; Seq:D)</pre>
 <p>Sorts the list, smallest element first. By default <a href="#_routine_cmp.pod6"><span class="code">infix:&lt;cmp&gt; </span></a> is used for comparing list elements.</p>
 <p>If <span class="code">&amp;custom-routine-to-use</span> is provided, and it accepts two arguments, it is invoked for pairs of list elements, and should return <span class="code">Order::Less</span>, <span class="code">Order::Same</span> or <span class="code">Order::More</span>.</p>
 <p>If <span class="code">&amp;custom-routine-to-use</span> accepts only one argument, the list elements are sorted according to <span class="code">custom-routine-to-use($a) cmp custom-routine-to-use($b) </span>. The return values of <span class="code">&amp;custom-routine-to-use</span> are cached, so that <span class="code">&amp;custom-routine-to-use</span> is only called once per list element.</p>
 <p>Examples:</p>
 <pre class="code">say (3, -4, 7, -1, 2, 0).sort;                  # OUTPUT: «(-4 -1 0 2 3 7)␤»
say (3, -4, 7, -1, 2, 0).sort: *.abs;           # OUTPUT: «(0 -1 2 3 -4 7)␤»
say (3, -4, 7, -1, 2, 0).sort: { $^b leg $^a }; # OUTPUT: «(7 3 2 0 -4 -1)␤»</pre>
 <p>Additionally, if <span class="code">&amp;custom-routine-to-use</span> returns a <span class="code">List</span>, elements will be sorted based upon multiple values with subsequent values in the <span class="code">List</span> being used to break the tie if the comparison between the prior elements evaluate to <span class="code">Order::Same</span>.</p>
 <pre class="code">my @resistance = (
    %( first-name =&gt; 'Kyle',  last-name =&gt; 'Reese'  ),
    %( first-name =&gt; 'Sarah', last-name =&gt; 'Connor' ),
    %( first-name =&gt; 'John',  last-name =&gt; 'Connor' ),
);
.say for @resistance.sort: { .&lt;last-name&gt;, .&lt;first-name&gt; };

#`(
OUTPUT:
  {first-name =&gt; John, last-name =&gt; Connor}
  {first-name =&gt; Sarah, last-name =&gt; Connor}
  {first-name =&gt; Kyle, last-name =&gt; Reese}
)</pre>
 <a name="t122.2.31"></a><h2 id="_type_List.pod6-routine_unique">122.2.31 routine unique</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    unique(*@values, :&amp;as, :&amp;with --&gt; Seq:D)
multi method unique(List:D:  :&amp;as, :&amp;with --&gt; Seq:D)</pre>
 <p>Returns a sequence of <b>unique</b> values from the invocant/argument list, such that only the first occurrence of each duplicated value remains in the result list. <span class="code">unique</span> uses the semantics of the <a href="===">===</a> operator to decide whether two objects are the same, unless the optional <span class="code">:with</span> parameter is specified with another comparator. The order of the original list is preserved even as duplicates are removed.</p>
 <p>Examples:</p>
 <pre class="code">say &lt;a a b b b c c&gt;.unique;   # OUTPUT: «(a b c)␤»
say &lt;a b b c c b a&gt;.unique;   # OUTPUT: «(a b c)␤»</pre>
 <p>(Use <a href="&lt;span class=&quot;code&quot;&gt;squish&lt;/span&gt;"><span class="code">squish</span></a> instead if you know the input is sorted such that identical objects are adjacent.)</p>
 <p>The optional <span class="code">:as</span> parameter allows you to normalize/canonicalize the elements before unique-ing. The values are transformed for the purposes of comparison, but it's still the original values that make it to the result list:</p>
 <p>Example:</p>
 <pre class="code">say &lt;a A B b c b C&gt;.unique(:as(&amp;lc))          # OUTPUT: «(a B c)␤»</pre>
 <p>One can also specify the comparator with the optional <span class="code">:with</span> parameter. For instance if one wants a list of unique hashes, one could use the <span class="code">eqv</span> comparator.</p>
 <p>Example:</p>
 <pre class="code">my @list = %(a =&gt; 42), %(b =&gt; 13), %(a =&gt; 42);
say @list.unique(:with(&amp;[eqv]))               # OUTPUT: «({a =&gt; 42} {b =&gt; 13})␤»</pre>
 <p><b>Note:</b> since <span class="code">:with</span> <a href="#_type_Callable.pod6">Callable</a> has to be tried with all the items in the list, this makes <span class="code">unique</span> follow a path with much higher algorithmic complexity. You should try to use the <span class="code">:as</span> argument instead, whenever possible.</p>
 <a name="t122.2.32"></a><h2 id="_type_List.pod6-routine_repeated">122.2.32 routine repeated</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    repeated(*@values, :&amp;as, :&amp;with --&gt; Seq:D)
multi method repeated(List:D:  :&amp;as, :&amp;with --&gt; Seq:D)</pre>
 <p>Returns a sequence of <b>repeated</b> values from the invocant/argument list. It takes the same parameters as <a href="&lt;span class=&quot;code&quot;&gt;unique&lt;/span&gt;"><span class="code">unique</span></a>, but instead of passing through any elements when they're first seen, they're only passed through as soon as they're seen for the second time (or more).</p>
 <p>Examples:</p>
 <pre class="code">say &lt;a a b b b c c&gt;.repeated;                   # OUTPUT: «(a b b c)␤»
say &lt;a b b c c b a&gt;.repeated;                   # OUTPUT: «(b c b a)␤»
say &lt;a A B b c b C&gt;.repeated(:as(&amp;lc));         # OUTPUT: «(A b b C)␤»

my @list = %(a =&gt; 42), %(b =&gt; 13), %(a =&gt; 42);
say @list.repeated(:with(&amp;[eqv]))               # OUTPUT: «({a =&gt; 42})␤»</pre>
 <a name="t122.2.33"></a><h2 id="_type_List.pod6-routine_squish">122.2.33 routine squish</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    squish(*@values, :&amp;as, :&amp;with --&gt; Seq:D)
multi method squish(List:D:   :&amp;as, :&amp;with --&gt; Seq:D)</pre>
 <p>Returns a sequence of values from the invocant/argument list where runs of more than one value are replaced with only the first instance. Like <a href="&lt;span class=&quot;code&quot;&gt;unique&lt;/span&gt;"><span class="code">unique</span></a>, <span class="code">squish</span> uses the semantics of the <a href="===">===</a> operator to decide whether two objects are the same. Unlike <a href="&lt;span class=&quot;code&quot;&gt;unique&lt;/span&gt;"><span class="code">unique</span></a>, this function only removes adjacent duplicates; identical values further apart are still kept. The order of the original list is preserved even as duplicates are removed.</p>
 <p>Examples:</p>
 <pre class="code">say &lt;a a b b b c c&gt;.squish; # OUTPUT: «(a b c)␤»
say &lt;a b b c c b a&gt;.squish; # OUTPUT: «(a b c b a)␤»</pre>
 <p>The optional <span class="code">:as</span> parameter, just like with <a href="&lt;span class=&quot;code&quot;&gt;unique&lt;/span&gt;"><span class="code">unique</span></a>, allows values to be temporarily transformed before comparison.</p>
 <p>The optional <span class="code">:with</span> parameter is used to set an appropriate comparison operator:</p>
 <pre class="code">say [42, &quot;42&quot;].squish;                      # OUTPUT: «(42 42)␤»
# Note that the second item in the result is still Str
say [42, &quot;42&quot;].squish(with =&gt; &amp;infix:&lt;eq&gt;); # OUTPUT: «(42)␤»
# The resulting item is Int</pre>
 <a name="t122.2.34"></a><h2 id="_type_List.pod6-routine_reduce">122.2.34 routine reduce</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    reduce(&amp;with, *@values)
multi method reduce(List:D: &amp;with)</pre>
 <p>Generates a single &quot;combined&quot; value from a list of arbitrarily many of values, by iteratively applying a function which knows how to combine <i>two</i> values.</p>
 <p>If <span class="code">@values</span> contains just a single element, the operator is applied to that single element if possible; if not, it returns the element itself.</p>
 <pre class="code">say [-] &lt;10 5 3&gt;; #OUTPUT: 2␤
say [-] 10;       #OUTPUT: -10␤</pre>
 <p>If it contains no elements, an exception is thrown, unless <span class="code">&amp;with</span> is an <i>operator</i> with a known identity value. For this reason, you may want to prefix the input list with an explicit identity value:</p>
 <pre class="code">my @strings = (&quot;One good string!&quot;, &quot;And one another good string!&quot;);
say reduce { $^a ~ $^b }, '', |@strings;               # like @strings.join
my @numbers = (1,2,3,4,5);
say reduce { $^a &gt; $^b ?? $^a !! $^b }, 0, |@numbers;  # like @numbers.max</pre>
 <p>If <span class="code">&amp;with</span> is the function object of an <i>operator</i>, its inherent identity value and associativity is respected - in other words, <span class="code">(VAL1, VAL2, VAL3).reduce(&amp;[OP])</span> is the same as <span class="code">VAL1 OP VAL2 OP VAL3</span> even for operators which aren't left-associative:</p>
 <pre class="code"># Raise 2 to the 81st power, because 3 to the 4th power is 81
[2,3,4].reduce(&amp;[**]).lsb.say;        # OUTPUT: «81␤»
(2**(3**4)).lsb.say;                  # OUTPUT: «81␤»
(2**3**4).lsb.say;                    # OUTPUT: «81␤»

# Subtract 4 from -1, because 2 minus 3 is -1
[2,3,4].reduce(&amp;[-]).say;             # OUTPUT: «-5␤»
((2-3)-4).say;                        # OUTPUT: «-5␤»
(2-3-4).say;                          # OUTPUT: «-5␤»</pre>
 <p>Since reducing with an infix operator is a common thing to do, the <span class="code">[ ]</span> meta-operator provides a syntactic shortcut:</p>
 <pre class="code"># The following all do the same thing...
my @numbers = (1,2,3,4,5);
say reduce { $^a + $^b }, 0, |@numbers;
say reduce * + *, 0, |@numbers;
say reduce &amp;[+], @numbers; # operator does not need explicit identity
say [+] @numbers;          # most people write it this way</pre>
 <p>Since <span class="code">reduce</span> is an implicit loop, it responds to <span class="code">next</span>, <span class="code">last</span> and <span class="code">redo</span> statements inside <span class="code">&amp;with</span>:</p>
 <pre class="code">say (2,3,4,5).reduce: { last if $^a &gt; 7; $^a + $^b }; # says 9</pre>
 <p>Practical example:</p>
 <pre class="code"># Generate a random-ish math formula like &quot;(4 + ((3 * x) + 11) / 6))&quot;

my @ops = [Z] (&lt;+ - * /&gt;, 1..20)».roll(4);

say ('x', |@ops).reduce: -&gt; $formula, [$op, $number] {
    Bool.pick ?? &quot;($formula $op $number)&quot;
              !! &quot;($number $op $formula)&quot;
}</pre>
 <p><i>Note:</i> In the functional programming world, this operation is generally called a <a href="https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29#Folds_on_lists">fold</a>. With a right-associative operator it is a right fold, otherwise (and usually) it is a left fold:</p>
 <pre class="code">sub infix:&lt;foo&gt;($a, $b) is assoc&lt;right&gt; { &quot;($a, $b)&quot; }
say [foo] 1, 2, 3, 4; # OUTPUT: «(1, (2, (3, 4)))␤»

sub infix:&lt;bar&gt;($a, $b) is assoc&lt;left&gt; { &quot;($a, $b)&quot; }
say [bar] 1, 2, 3, 4; # OUTPUT: «(((1, 2), 3), 4)␤»</pre>
 <a name="t122.2.35"></a><h2 id="_type_List.pod6-routine_produce">122.2.35 routine produce</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    produce(&amp;with, *@values)
multi method produce(List:D: &amp;with)</pre>
 <p>Generates a list of all intermediate &quot;combined&quot; values along with the final result by iteratively applying a function which knows how to combine <i>two</i> values.</p>
 <p>If <span class="code">@values</span> contains just a single element, a list containing that element is returned immediately. If it contains no elements, an exception is thrown, unless <span class="code">&amp;with</span> is an <i>operator</i> with a known identity value.</p>
 <p>If <span class="code">&amp;with</span> is the function object of an <i>operator</i>, its inherent identity value and associativity is respected - in other words, <span class="code">(VAL1, VAL2, VAL3).produce(&amp;[OP])</span> is the same as <span class="code">VAL1 OP VAL2 OP VAL3</span> even for operators which aren't left-associative:</p>
 <pre class="code"># Raise 2 to the 81st power, because 3 to the 4th power is 81
[2,3,4].produce(&amp;[**]).say;        # OUTPUT: «(4 81 2417851639229258349412352)␤»
say produce &amp;[**], (2,3,4);        # OUTPUT: «(4 81 2417851639229258349412352)␤»
say [\**] (2,3,4);                 # OUTPUT: «(4 81 2417851639229258349412352)␤»

# Subtract 4 from -1, because 2 minus 3 is -1
[2,3,4].produce(&amp;[-]).say;         # OUTPUT: «(2 -1 -5)␤»
say produce &amp;[-], (2,3,4);         # OUTPUT: «(2 -1 -5)␤»
say [\-] (2,3,4);                  # OUTPUT: «(2 -1 -5)␤»</pre>
 <p>A triangle meta-operator <span class="code">[\ ]</span> provides a syntactic shortcut for producing with an infix operator:</p>
 <pre class="code"># The following all do the same thing...
my @numbers = (1,2,3,4,5);
say produce { $^a + $^b }, @numbers;
say produce * + *, @numbers;
say produce &amp;[+], @numbers; # operator does not need explicit identity
say [\+] @numbers;          # most people write it this way</pre>
 <p>The visual picture of a triangle <span class="code">[\</span> is not accidental. To produce a triangular list of lists, you can use a &quot;triangular comma&quot;:</p>
 <pre class="code">[\,] 1..5;
# (
# (1)
# (1 2)
# (1 2 3)
# (1 2 3 4)
# (1 2 3 4 5)
# )</pre>
 <p>Since <span class="code">produce</span> is an implicit loop, it responds to <span class="code">next</span>, <span class="code">last</span> and <span class="code">redo</span> statements inside <span class="code">&amp;with</span>:</p>
 <pre class="code">say (2,3,4,5).produce: { last if $^a &gt; 7; $^a + $^b }; # OUTPUT: «(2 5 9)␤»</pre>
 <a name="t122.2.36"></a><h2 id="_type_List.pod6-routine_combinations">122.2.36 routine combinations</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    combinations($from, $of = 0..*          --&gt; Seq:D)
multi method combinations(List:D: Int() $of          --&gt; Seq:D)
multi method combinations(List:D: Range:D $of = 0..* --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> with all <span class="code">$of</span>-combinations of the invocant list. <span class="code">$of</span> can be a numeric <a href="#_type_Range.pod6">Range</a>, in which case combinations of the range of item numbers it represents will be returned (i.e. <span class="code">2.6 .. 4</span> will return 2-, 3-, and 4-item combinations&gt;). Otherwise, <span class="code">$of</span> is coerced to an <a href="#_type_Int.pod6">Int</a>.</p>
 <pre class="code">.say for &lt;a b c&gt;.combinations: 2;
# OUTPUT:
# (a b)
# (a c)
# (b c)</pre>
 <p>Above, there are three possible ways to combine the 2-items lists from the original list, which is what we receive in the output. See <a href="#_routine_permutations.pod6">permutations</a> if you want permutations instead of combinations.</p>
 <p>With <a href="#_type_Range.pod6">Range</a> argument, we get both three 2-item combinations and one 3-item combination:</p>
 <pre class="code">.say for &lt;a b c&gt;.combinations: 2..3;
# OUTPUT:
# (a b)
# (a c)
# (b c)
# (a b c)</pre>
 <p>If <span class="code">$of</span> is negative or is larger than there are items in the given list, an empty list will be returned. If <span class="code">$of</span> is zero, a 1-item list containing an empty list will be returned (there's exactly 1 way to pick no items).</p>
 <p>The subroutine form is equivalent to the method form called on the first argument (<span class="code">$from</span>), with the exception that if <span class="code">$from</span> is not an <a href="#_type_Iterable.pod6">Iterable</a>, it gets coerced to an <span class="code">Int</span> and combinations are made from a <a href="#_type_Range.pod6">Range</a> constructed with <span class="code">0..^$from</span> instead:</p>
 <pre class="code">.say for combinations 3, 2
# OUTPUT:
# (0 1)
# (0 2)
# (1 2)</pre>
 <p><b>Note:</b> some implementations may limit the maximum value of non-<a href="#_type_Iterable.pod6">Iterable</a> <span class="code">$from</span>. On Rakudo, 64-bit systems have a limit of <span class="code">2³¹-1</span> and 32-bit systems have a limit of <span class="code">2²⁸-1</span>.</p>
 <a name="t122.2.37"></a><h2 id="_type_List.pod6-routine_permutations">122.2.37 routine permutations</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    permutations(Int()    $from --&gt; Seq:D)
multi sub    permutations(Iterable $from --&gt; Seq:D)
multi method permutations(List:D:        --&gt; Seq:D)</pre>
 <p>Returns all possible permutations of a list as a <a href="#_type_Seq.pod6">Seq</a> of lists:</p>
 <pre class="code">.say for &lt;a b c&gt;.permutations;
# OUTPUT:
# (a b c)
# (a c b)
# (b a c)
# (b c a)
# (c a b)
# (c b a)</pre>
 <p><span class="code">permutations</span> treats all elements as unique, thus <span class="code">(1, 1, 2).permutations</span> returns a list of 6 elements, even though there are only three distinct permutations, due to first two elements being the same.</p>
 <p>The subroutine form behaves the same as the method form, computing permutations from its first argument <span class="code">$from</span>. If <span class="code">$from</span> is not an <a href="#_type_Iterable.pod6">Iterable</a>, coerces <span class="code">$from</span> to an <span class="code">Int</span> and picks from a <a href="#_type_Range.pod6">Range</a> constructed with <span class="code">0..^$from</span>:</p>
 <pre class="code">.say for permutations 3;
# OUTPUT:
# (0 1 2)
# (0 2 1)
# (1 0 2)
# (1 2 0)
# (2 0 1)
# (2 1 0)</pre>
 <a name="t122.2.38"></a><h2 id="_type_List.pod6-method_rotor">122.2.38 method rotor</h2>
 <p>Defined as:</p>
 <pre class="code">method rotor(*@cycle, Bool() :$partial --&gt; Seq:D)</pre>
 <p>Returns a sequence of lists, where each sublist is made up of elements of the invocant.</p>
 <p>In the simplest case, <span class="code">@cycle</span> contains just one integer, in which case the invocant list is split into sublists with as many elements as the integer specifies. If <span class="code">:$partial</span> is True, the final chunk is included even if it doesn't satisfy the length requirement:</p>
 <pre class="code">say ('a'..'h').rotor(3).join('|');              # OUTPUT: «a b c|d e f␤»
say ('a'..'h').rotor(3, :partial).join('|');    # OUTPUT: «a b c|d e f|g h␤»</pre>
 <p>If the element of <span class="code">@cycle</span> is a <a href="#_type_Pair.pod6">Pair</a> instead, the key of the pair specifies the length of the return sublist, and the value the gap between sublists; negative gaps produce overlap:</p>
 <pre class="code">say ('a'..'h').rotor(2 =&gt; 1).join('|');         # OUTPUT: «a b|d e|g h␤»
say ('a'..'h').rotor(3 =&gt; -1).join('|');        # OUTPUT: «a b c|c d e|e f g␤»</pre>
 <p>If <span class="code">@cycle</span> contains more than element, <span class="code">rotor</span> cycles through it to find the number of elements for each sublist:</p>
 <pre class="code">say ('a'..'h').rotor(2, 3).join('|');           # OUTPUT: «a b|c d e|f g␤»
say ('a'..'h').rotor(1 =&gt; 1, 3).join('|');      # OUTPUT: «a|c d e|f␤»</pre>
 <p>Combining multiple cycles and <span class="code">:partial</span> also works:</p>
 <pre class="code">say ('a'..'h').rotor(1 =&gt; 1, 3 =&gt; -1, :partial).join('|');
# OUTPUT: «a|c d e|e|g h␤»</pre>
 <p>See <a href="http://perl6.party/post/Perl-6-.rotor-The-King-of-List-Manipulation">this blog post for more elaboration on rotor</a>.</p>
 <a name="t122.2.39"></a><h2 id="_type_List.pod6-routine_cross">122.2.39 routine cross</h2>
 <pre class="code">sub cross(+@e, :&amp;with --&gt; Seq:D)</pre>
 <p>Computes the cross-product of two or more lists or <a href="#_type_Iterable.pod6">iterables</a>. This returns a sequence of lists where the first item in each list is an item from the first iterable, the second is from the second given iterable, etc. Every item will be paired with every other item in all the other lists.</p>
 <pre class="code">say cross(&lt;a b c&gt;, &lt;d e f&gt;).map(*.join).join(&quot;,&quot;)
# OUTPUT: «ad,ae,af,bd,be,bf,cd,ce,cf␤»</pre>
 <p>The <span class="code">cross</span> routine has an infix synonym as well, named <span class="code">X</span>.</p>
 <pre class="code">say (&lt;a b c&gt; X &lt;d e f&gt;).map(*.join).join(&quot;,&quot;)
# output is the same as the previous example</pre>
 <p>If the optional <span class="code">with</span> parameter is passed, it is used as a reduction operation to apply to each of the cross product items.</p>
 <pre class="code">say cross([1, 2, 3], [4, 5, 6], :with(&amp;infix:&lt;*&gt;)).join(&quot;,&quot;);
# OUTPUT: «4,5,6,8,10,12,12,15,18␤»</pre>
 <p>The <span class="code">X</span> operator can be combined with another operator as a meta-operator to perform a reduction as well:</p>
 <pre class="code">say ([1, 2, 3] X* [4, 5, 6]).join(&quot;,&quot;)
# same output as the previous example</pre>
 <a name="t122.2.40"></a><h2 id="_type_List.pod6-routine_zip">122.2.40 routine zip</h2>
 <p>Defined as:</p>
 <pre class="code">sub zip(+@e, :&amp;with --&gt; Seq:D)</pre>
 <p>Builds a 'list of lists', returned as a sequence, from multiple input lists or other <a href="#_type_Iterable.pod6">iterables</a>.</p>
 <p><span class="code">zip</span> iterates through each of the input lists synchronously, 'Zipping' them together, so that elements are grouped according to their input list index, in the order that the lists are provided.</p>
 <pre class="code">say zip(&lt;a b c&gt;, &lt;d e f&gt;, &lt;g h i&gt;);
# OUTPUT: «((a d g) (b e h) (c f i))␤»</pre>
 <p><span class="code">zip</span> has an infix synonym, the <span class="code">Z</span> operator.</p>
 <pre class="code">say &lt;a b c&gt; Z &lt;d e f&gt; Z &lt;g h i&gt;;                   # same output</pre>
 <p><span class="code">zip</span> can provide input to a for loop :</p>
 <pre class="code">for &lt;a b c&gt; Z &lt;d e f&gt; Z &lt;g h i&gt; -&gt; [$x,$y,$z] {say ($x,$y,$z).join(&quot;,&quot;)}
# OUTPUT: «a,d,g␤
# b,e,h␤
# c,f,i␤»</pre>
 <p>, or more succinctly:</p>
 <pre class="code">say .join(&quot;,&quot;) for zip &lt;a b c&gt;, &lt;d e f&gt;, &lt;g h i&gt;;  # same output</pre>
 <p>Note, that if the input lists have an unequal number of elements, then <span class="code">zip</span> terminates once the shortest input list is exhausted, and trailing elements from longer input lists are discarded.</p>
 <pre class="code">say &lt;a b c&gt; Z &lt;d e f m n o p&gt; Z &lt;g h i&gt;;
# ((a d g) (b e h) (c f i))</pre>
 <p>In cases where data clipping is possible, but undesired, then consider using <a href="#_routine_roundrobin.pod6">roundrobin</a> instead of <span class="code">zip</span>.</p>
 <p>The optional <span class="code">with</span> parameter will additionally reduce the zipped lists. For example, the following multiplies corresponding elements together to return a single list of products.</p>
 <pre class="code">.say for zip &lt;1 2 3&gt;, [1, 2, 3], (1, 2, 3), :with(&amp;infix:&lt;*&gt;);
# OUTPUT: «1␤
# 8␤
# 27␤»</pre>
 <p>The <span class="code">Z</span> form can also be used to perform reduction by implicitly setting the <span class="code">with</span> parameter with a meta-operator :</p>
 <pre class="code">.say for &lt;1 2 3&gt; Z* [1, 2, 3] Z* (1, 2, 3);        # same output</pre>
 <a name="t122.2.41"></a><h2 id="_type_List.pod6-routine_roundrobin">122.2.41 routine roundrobin</h2>
 <p>Defined as:</p>
 <pre class="code">sub roundrobin(+list-of-lists --&gt; Seq)</pre>
 <p>Builds a 'list of lists', returned as a sequence, from multiple input lists or other <a href="#_type_Iterable.pod6">iterables</a>. <span class="code">roundrobin</span> returns an identical result to that of <a href="#_type_List.pod6-routine_zip">zip</a>, except when the input lists are allowed to have an unequal number of elements.</p>
 <pre class="code">say roundrobin &lt;a b c&gt;, &lt;d e f&gt;, &lt;g h i&gt;;
# OUTPUT: «((a d g) (b e h) (c f i))␤»

say .join(&quot;,&quot;) for roundrobin([1, 2], [2, 3], [3, 4]);
# OUTPUT: «1,2,3␤
# 2,3,4␤»</pre>
 <p><span class="code">roundrobin</span> does not terminate once one or more of the input lists become exhausted, but proceeds until all elements from all lists have been processed.</p>
 <pre class="code">say roundrobin &lt;a b c&gt;, &lt;d e f m n o p&gt;, &lt;g h i j&gt;;
# OUTPUT: «((a d g) (b e h) (c f i) (m j) (n) (o) (p))␤»

say .join(&quot;,&quot;) for roundrobin([1, 2], [2, 3, 57, 77], [3, 4, 102]);
# OUTPUT: «1,2,3␤
# 2,3,4␤
# 57,102␤
# 77␤»</pre>
 <p>Therefore no data values are lost due in the 'zipping' operation. A record of which input list provided which element cannot be gleaned from the resulting sequence, however.</p>
 <p><span class="code">roundrobin</span> can be useful in combining messy data to the point where a manual post-processing step can then be undertaken.</p>
 <a name="t122.2.42"></a><h2 id="_type_List.pod6-routine_sum">122.2.42 routine sum</h2>
 <p>Defined as:</p>
 <pre class="code">sub    sum($list   --&gt; Numeric:D)
method sum(List:D: --&gt; Numeric:D)</pre>
 <p>Returns the sum of all elements in the list or 0 if the list is empty. Throws an exception if an element can not be coerced into Numeric.</p>
 <pre class="code">say (1, 3, pi).sum;       # OUTPUT: «7.14159265358979␤»
say (1, &quot;0xff&quot;).sum;      # OUTPUT: «256␤»
say sum(0b1111, 5);       # OUTPUT: «20␤»</pre>
 <a name="t122.2.43"></a><h2 id="_type_List.pod6-method_fmt">122.2.43 method fmt</h2>
 <p>Defined as:</p>
 <pre class="code">method fmt($format = '%s', $separator = ' ' --&gt; Str:D)</pre>
 <p>Returns a string where each element in the list has been formatted according to <span class="code">$format</span> and where each element is separated by <span class="code">$separator</span>.</p>
 <p>For more information about formats strings, see <a href="#_routine_sprintf.pod6">sprintf</a>.</p>
 <pre class="code">my @a = 8..11;
say @a.fmt('%03d', ',');  # OUTPUT: «008,009,010,011␤»</pre>
 <a name="t122.2.44"></a><h2 id="_type_List.pod6-method_from">122.2.44 method from</h2>
 <p>Assumes the list contains <a href="#_type_Match.pod6"><span class="code">Match</span>  objects</a> and returns the value of <span class="code">.from</span> called on the first element of the list.</p>
 <pre class="code">'abcdefg' ~~ /(c)(d)/;
say $/.list.from;         # OUTPUT: «2␤»

&quot;abc123def&quot; ~~ m:g/\d/;
say $/.list.from;         # OUTPUT: «3␤»</pre>
 <a name="t122.2.45"></a><h2 id="_type_List.pod6-method_to">122.2.45 method to</h2>
 <pre class="code">&quot;abc123def&quot; ~~ m:g/\d/;
say $/.to; # OUTPUT: «6␤»</pre>
 <p>Assumes the <span class="code">List</span> contains <a href="#_type_Match.pod6"><span class="code">Match</span>  objects</a>, such as the <span class="code">$/</span> variable being a <span class="code">List</span>, when using <span class="code">:g</span> modifier in regexes. Returns the value of <span class="code">.to</span> called on the last element of the list.</p>
 <a name="t122.3"></a><h1 id="_type_List.pod6-Operators">122.3 Operators</h1>
 <a name="t122.3.1"></a><h2 id="_type_List.pod6-infix_cmp">122.3.1 infix <span class="code">cmp</span></h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(List @a, List @b)</pre>
 <p>Evaluates <span class="code">Lists</span> by comparing element <span class="code">@a[$i]</span> with <span class="code">@b[$i]</span> (for some <span class="code">Int $i</span>, beginning at 0) and returning <span class="code">Order::Less</span>, <span class="code">Order::Same</span>, or <span class="code">Order::More</span> depending on if and how the values differ. If the operation evaluates to <span class="code">Order::Same</span>, <span class="code">@a[$i + 1]</span> is compared with <span class="code">@b[$i + 1]</span>. This is repeated until one is greater than the other or all elements are exhausted.</p>
 <p>If the <span class="code">Lists</span> are of different lengths, at most only <span class="code">$n</span> comparisons will be made (where <span class="code">$n = @a.elems min @b.elems</span>). If all of those comparisons evaluate to <span class="code">Order::Same</span>, the final value is selected based upon which <span class="code">List</span> is longer.</p>
 <pre class="code">say (1, 2, 3) cmp (1, 2, 3);   # OUTPUT: «Same␤»
say (4, 5, 6) cmp (4, 5, 7);   # OUTPUT: «Less␤»
say (7, 8, 9) cmp (7, 8, 8);   # OUTPUT: «More␤»

say (1, 2)    cmp (1, 2, 3);   # OUTPUT: «Less␤»
say (1, 2, 3) cmp (1, 2);      # OUTPUT: «More␤»
say (9).List  cmp (^10).List;  # OUTPUT: «More␤»</pre>
</div>
<!-- /type/Lock.pod6 --><div class="pod-body"><a id="_type_Lock.pod6"></a><a name="t123"><h1 class="title">123 class Lock</h1></a> <p class="subtitle">Low-level thread locking primitive</p> <pre class="code">class Lock {}</pre>
 <p>A Lock is a low-level constructor for ensuring that only one thread works with a certain object at a given time, or runs a piece of code (called the <i>critical section</i>).</p>
 <pre class="code">my $x = 0;
my $l = Lock.new;
await (^10).map: {
    start {
        $l.protect({ $x++ });
    }
}
say $x;         # OUTPUT: «10␤»</pre>
 <p>Locks are re-entrant, that is, a thread that holds the lock can lock it again without blocking.</p>
 <p>High-level Perl 6 code should avoid the direct usage of locks, because they are not composable. Instead, high-level constructs such as <a href="#_type_Promise.pod6">Promise</a>, <a href="#_type_Channel.pod6">Channel</a> and Supply should be used whenever possible.</p>
 <a name="t123.1"></a><h1 id="_type_Lock.pod6-Methods">123.1 Methods</h1>
 <a name="t123.1.1"></a><h2 id="_type_Lock.pod6-method_protect">123.1.1 method protect</h2>
 <p>Defined as:</p>
 <pre class="code">method protect(Lock:D: &amp;code)</pre>
 <p>Runs <span class="code">&amp;code</span> and makes sure it is only run in one thread at once.</p>
 <p>Note that the <a href="#_type_Lock.pod6">Lock</a> itself needs to be created outside the portion of the code that gets threaded and it needs to protect. In the first example below, <a href="#_type_Lock.pod6">Lock</a> is first created and assigned to <span class="code">$lock</span>, which is then used <i>inside</i> the <a href="#_type_Promise.pod6">Promises</a> to protect the sensitive code. In the second example, a mistake is made, the <span class="code">Lock</span> is created right inside the <a href="#_type_Promise.pod6">Promise</a>, so the code ends up with a bunch of separate locks, created in a bunch of threads, and thus they don't actually protect the code we want to protect.</p>
 <pre class="code"># Right: $lock is instantiated outside the portion of the
# code that will get threaded and be in need of protection
my $lock = Lock.new;
await ^20 .map: {
    start {
        $lock.protect: {
            print &quot;Foo&quot;;
            sleep rand;
            say &quot;Bar&quot;;
        }
    }
}

# !!! WRONG !!! Lock is created inside threaded area!
await ^20 .map: {
    start {
        Lock.new.protect: {
            print &quot;Foo&quot;; sleep rand; say &quot;Bar&quot;;
        }
    }
}</pre>
 <a name="t123.1.2"></a><h2 id="_type_Lock.pod6-method_lock">123.1.2 method lock</h2>
 <p>Defined as:</p>
 <pre class="code">method lock(Lock:D:)</pre>
 <p>Acquires the lock. If it is currently not available, waits for it.</p>
 <pre class="code">my $l = Lock.new;
$l.lock;</pre>
 <a name="t123.1.3"></a><h2 id="_type_Lock.pod6-method_unlock">123.1.3 method unlock</h2>
 <p>Defined as:</p>
 <pre class="code">method unlock(Lock:D:)</pre>
 <p>Releases the lock.</p>
 <pre class="code">my $l = Lock.new;
$l.lock;
$l.unlock;</pre>
 <a name="t123.1.4"></a><h2 id="_type_Lock.pod6-method_condition">123.1.4 method condition</h2>
 <p>Defined as:</p>
 <pre class="code">my class ConditionVariable { 
     method wait(); 
     method signal(); 
     method signal_all(); 
 } 
 
 method condition(Lock:D: --&gt; ConditionVariable:D) 
</pre>
 <p>Returns a condition variable. Compare <a href="https://web.stanford.edu/~ouster/cgi-bin/cs140-spring14/lecture.php?topic=locks">https://web.stanford.edu/~ouster/cgi-bin/cs140-spring14/lecture.php?topic=locks</a> or <a href="https://en.wikipedia.org/wiki/Monitor_%28synchronization%29">https://en.wikipedia.org/wiki/Monitor_%28synchronization%29</a> for background.</p>
 <pre class="code">my $l = Lock.new;
$l.condition;</pre>
</div>
<!-- /type/Lock/Async.pod6 --><div class="pod-body"><a id="_type_Lock_Async.pod6"></a><a name="t124"><h1 class="title">124 class Lock::Async</h1></a> <p class="subtitle">Low-level non-blocking non-re-entrant mutual exclusion lock</p> <pre class="code">class Lock::Async {}</pre>
 <p>An asynchronous lock provides a non-blocking non-re-entrant mechanism for mutual exclusion. The lock method returns a Promise, which will already be kept if nothing was holding the lock already, so execution can proceed immediately. For performance reasons, in this case it returns a singleton Promise instance. Otherwise, a Promise in planned state will be returned, and kept once the lock has been unlocked by its current holder. The lock and unlock do not need to take place on the same thread; that's why it's not re-entrant.</p>
 <p>High-level Perl 6 code should avoid the direct usage of locks, because they are not composable. Instead, high-level constructs such as <a href="#_type_Channel.pod6">Channel</a> and <a href="#_type_Supply.pod6">Supply</a> should be used whenever possible.</p>
 <a name="t124.1"></a><h1 id="_type_Lock_Async.pod6-Methods">124.1 Methods</h1>
 <a name="t124.1.1"></a><h2 id="_type_Lock_Async.pod6-method_protect">124.1.1 method protect</h2>
 <p>Defined as:</p>
 <pre class="code">method protect(Lock::Async:D: &amp;code)</pre>
 <p>Runs <span class="code">&amp;code</span> and makes sure it is only run in one thread at once.</p>
 <p>Note that the <a href="#_type_Lock::Async.pod6">Lock::Async</a> itself needs to be created outside the portion of the code that gets threaded and it needs to protect. In the first example below, <a href="#_type_Lock::Async.pod6">Lock::Async</a> is first created and assigned to <span class="code">$lock</span>, which is then used <i>inside</i> the <a href="#_type_Promise.pod6">Promises</a> to protect the sensitive code. In the second example, a mistake is made, the <span class="code">Lock::Async</span> is created right inside the <a href="#_type_Promise.pod6">Promise</a>, so the code ends up with a bunch of separate locks, created in a bunch of threads, and thus they don't actually protect the code we want to protect.</p>
 <pre class="code"># Right: $lock is instantiated outside the portion of the
# code that will get threaded and be in need of protection
my $lock = Lock::Async.new;
await ^20 .map: {
    start {
        $lock.protect: {
            print &quot;Foo&quot;;
            sleep rand;
            say &quot;Bar&quot;;
        }
    }
}

# !!! WRONG !!! Lock::Async is created inside threaded area!
await ^20 .map: {
    start {
        Lock::Async.new.protect: {
            print &quot;Foo&quot;; sleep rand; say &quot;Bar&quot;;
        }
    }
}</pre>
 <a name="t124.1.2"></a><h2 id="_type_Lock_Async.pod6-method_lock">124.1.2 method lock</h2>
 <p>Defined as:</p>
 <pre class="code">method lock(Lock::Async:D: --&gt; Promise:D)</pre>
 <p>Acquires the lock, does <b>not</b> wait to acquire the lock. Returns a Promise that will be kept whenever the lock is acquired.</p>
 <pre class="code">my $l = Lock::Async.new;
$l.lock;</pre>
 <a name="t124.1.3"></a><h2 id="_type_Lock_Async.pod6-method_unlock">124.1.3 method unlock</h2>
 <p>Defined as:</p>
 <pre class="code">method unlock(Lock::Async:D: --&gt; Nil)</pre>
 <p>Releases the lock, blocking until all Promised of all holders of the lock have been kept.</p>
 <pre class="code">my $l = Lock::Async.new;
$l.lock;
$l.unlock;</pre>
</div>
<!-- /type/Macro.pod6 --><div class="pod-body"><a id="_type_Macro.pod6"></a><a name="t125"><h1 class="title">125 class Macro</h1></a> <p class="subtitle">Compile-time routine</p> <pre class="code">class Macro is Routine { }</pre>
 <p>A macro is a Routine whose invocation typically happens during parsing. By returning an <a href="#_type_AST.pod6">AST</a>, a macro can inject code into the calling location.</p>
</div>
<!-- /type/Map.pod6 --><div class="pod-body"><a id="_type_Map.pod6"></a><a name="t126"><h1 class="title">126 class Map</h1></a> <p class="subtitle">Immutable mapping from strings to values</p> <pre class="code">class Map does Associative is Iterable { } 
</pre>
 <p>A Map is an immutable mapping from string keys to values of arbitrary types. It serves as a base class for <a href="#_type_Hash.pod6">Hash</a>, which is mutable.</p>
 <p>In list context a Map behaves as a list of <a href="#_type_Pair.pod6">Pair</a> objects.</p>
 <p>Note that the order in which keys, values and pairs are retrieved is generally arbitrary, but the <span class="code">keys</span>, <span class="code">values</span> and <span class="code">pairs</span> methods return them always in the same order when called on the same object.</p>
 <pre class="code">my %e := Map.new('a', 1, 'b', 2);
say %e.keys;    # can print &quot;a b\n&quot; or &quot;b a\n&quot;;
say %e.values;  # prints &quot;1 2\n&quot; if the previous line
                # printed &quot;a b\n&quot;, &quot;b a\n&quot; otherwise</pre>
 <a name="t126.1"></a><h1 id="_type_Map.pod6-Methods">126.1 Methods</h1>
 <a name="t126.1.1"></a><h2 id="_type_Map.pod6-method_new">126.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">method new(*@args)</pre>
 <p>Creates a new Map from a list of alternating keys and values, with <a href="#_type_Hash.pod6-Hash_assignment">the same semantics</a> as described for hash assigning in the <a href="#_type_Hash.pod6">Hash</a> documentation, <b>except</b>, for literal pair handling. To ensure pairs correctly get passed, add extra parentheses around all the arguments.</p>
 <pre class="code">my %h = Map.new('a', 1, 'b', 2);

# WRONG: :b(2) interpreted as named argument
say Map.new('a', 1, :b(2) ).keys; # OUTPUT: «(a)␤»

# RIGHT: :b(2) interpreted as part of Map's contents
say Map.new( ('a', 1, :b(2)) ).keys; # OUTPUT: «(a b)␤»</pre>
 <a name="t126.1.2"></a><h2 id="_type_Map.pod6-method_elems">126.1.2 method elems</h2>
 <p>Defined as:</p>
 <pre class="code">method elems(Map:D: --&gt; Int:D)</pre>
 <p>Returns the number of pairs stored in the Map.</p>
 <pre class="code">my %map = Map.new('a', 1, 'b', 2);
say %map.elems; # OUTPUT: «2␤»</pre>
 <a name="t126.1.3"></a><h2 id="_type_Map.pod6-method_ACCEPTS">126.1.3 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(Map:D: Positional $topic)
multi method ACCEPTS(Map:D: Cool:D     $topic)
multi method ACCEPTS(Map:D: Regex      $topic)
multi method ACCEPTS(Map:D: Any        $topic)</pre>
 <p>Used in smart-matching if the right-hand side is an <span class="code">Map</span>.</p>
 <p>If the topic is list-like (<a href="#_type_Positional.pod6">Positional</a>), returns True if any of the list elements exist as a key in the Map.</p>
 <p>If the topic is of type <span class="code">Cool</span> (strings, integers etc.), returns True if the topic exists as a key.</p>
 <p>If the topic is a regex, returns True if any of the keys match the regex.</p>
 <p>As a fallback, the topic is coerced to a list, and the <span class="code">Positional</span> behavior is applied.</p>
 <p>To retrieve a value from the Map by key, use the <span class="code">{ }</span> postcircumfix operator:</p>
 <pre class="code">my $map = Map.new('a', 1, 'b', 2);
say $map{'a'}; # OUTPUT: «1␤»</pre>
 <p>To check whether a given key is stored in a Map, modify the access with the <span class="code">:exists</span> adverb:</p>
 <pre class="code">my $map = Map.new('a', 1, 'b', 2);
my $key = 'a';
if $map{$key}:exists {
    say &quot;$map{} has key $key&quot;;
}</pre>
 <a name="t126.1.4"></a><h2 id="_type_Map.pod6-method_gist">126.1.4 method gist</h2>
 <p>Defined as:</p>
 <pre class="code">method gist(Map:D: --&gt; Str:D)</pre>
 <p>Returns the string containing the &quot;gist&quot; of the <a href="#_type_Map.pod6">Map</a>, sorts the pairs and lists <b>up to the first 100</b>, appending an ellipsis if the <a href="#_type_Map.pod6">Map</a> has more than 100 pairs.</p>
 <a name="t126.1.5"></a><h2 id="_type_Map.pod6-method_keys">126.1.5 method keys</h2>
 <p>Defined as:</p>
 <pre class="code">method keys(Map:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of all keys in the Map.</p>
 <pre class="code">my $m = Map.new('a' =&gt; (2, 3), 'b' =&gt; 17);
say $m.keys; # OUTPUT: «(a b)␤»</pre>
 <a name="t126.1.6"></a><h2 id="_type_Map.pod6-method_values">126.1.6 method values</h2>
 <p>Defined as:</p>
 <pre class="code">method values(Map:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of all values in the Map.</p>
 <pre class="code">my $m = Map.new('a' =&gt; (2, 3), 'b' =&gt; 17);
say $m.values; # OUTPUT: «((2 3) 17)␤»</pre>
 <a name="t126.1.7"></a><h2 id="_type_Map.pod6-method_pairs">126.1.7 method pairs</h2>
 <p>Defined as:</p>
 <pre class="code">method pairs(Map:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of all pairs in the Map.</p>
 <pre class="code">my $m = Map.new('a' =&gt; (2, 3), 'b' =&gt; 17);
say $m.pairs; # OUTPUT: «(a =&gt; (2 3) b =&gt; 17)␤»</pre>
 <a name="t126.1.8"></a><h2 id="_type_Map.pod6-method_antipairs">126.1.8 method antipairs</h2>
 <p>Defined as:</p>
 <pre class="code">method antipairs(Map:D: --&gt; Seq:D)</pre>
 <p>Returns all keys and their respective values as a <a href="#_type_Seq.pod6">Seq</a> of <span class="code">Pair</span>s where the keys and values have been exchanged, i.e. the opposite of method <a href="#125-method_pairs">pairs</a>. Unlike the <a href="#125-method_invert">invert</a> method, there is no attempt to expand list values into multiple pairs.</p>
 <pre class="code">my $m = Map.new('a' =&gt; (2, 3), 'b' =&gt; 17);
say $m.antipairs;                                  # OUTPUT: «((2 3) =&gt; a 17 =&gt; b)␤»</pre>
 <a name="t126.1.9"></a><h2 id="_type_Map.pod6-method_invert">126.1.9 method invert</h2>
 <p>Defined as:</p>
 <pre class="code">method invert(Map:D: --&gt; Seq:D)</pre>
 <p>Returns all keys and their respective values as a <a href="#_type_Seq.pod6">Seq</a> of <span class="code">Pair</span>s where the keys and values have been exchanged. The difference between <span class="code">invert</span> and <a href="#125-method_antipairs">antipairs</a> is that <span class="code">invert</span> expands list values into multiple pairs.</p>
 <pre class="code">my $m = Map.new('a' =&gt; (2, 3), 'b' =&gt; 17);
say $m.invert;                                    # OUTPUT: «(2 =&gt; a 3 =&gt; a 17 =&gt; b)␤»</pre>
 <a name="t126.1.10"></a><h2 id="_type_Map.pod6-method_kv">126.1.10 method kv</h2>
 <p>Defined as:</p>
 <pre class="code">method kv(Map:D: --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Seq</span> of keys and values interleaved.</p>
 <pre class="code">Map.new('a', 1, 'b', 2).kv  # (a 1 b 2)</pre>
 <a name="t126.1.11"></a><h2 id="_type_Map.pod6-method_Int">126.1.11 method Int</h2>
 <p>Defined as:</p>
 <pre class="code">method Int(Map:D: --&gt; Int:D)</pre>
 <p>Returns the number of pairs stored in the <span class="code">Map</span> (same as <span class="code">.elems</span>).</p>
 <pre class="code">my $m = Map.new('a' =&gt; 2, 'b' =&gt; 17);
say $m.Int;                                       # OUTPUT: «2␤»</pre>
 <a name="t126.1.12"></a><h2 id="_type_Map.pod6-method_Numeric">126.1.12 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">method Numeric(Map:D: --&gt; Int:D)</pre>
 <p>Returns the number of pairs stored in the <span class="code">Map</span> (same as <span class="code">.elems</span>).</p>
 <pre class="code">my $m = Map.new('a' =&gt; 2, 'b' =&gt; 17);
say $m.Numeric;                                   # OUTPUT: «2␤»</pre>
 <a name="t126.1.13"></a><h2 id="_type_Map.pod6-method_Bool">126.1.13 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(Map:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant contains at least one key/value pair.</p>
 <pre class="code">my $m = Map.new('a' =&gt; 2, 'b' =&gt; 17);
say $m.Bool;                                      # OUTPUT: «True␤»</pre>
 <a name="t126.1.14"></a><h2 id="_type_Map.pod6-method_Capture">126.1.14 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Map:D: --&gt; Capture:D)</pre>
 <p>Returns a <a href="#_type_Capture.pod6">Capture</a> where each key, if any, has been converted to a named argument with the same value as it had in the original <span class="code">Map</span>. The returned <span class="code">Capture</span> will not contain any positional arguments.</p>
 <pre class="code">my $map = Map.new('a' =&gt; 2, 'b' =&gt; 17);
my $capture = $map.Capture;
my-sub(|$capture);                                # RESULT: «2, 17»

sub my-sub(:$a, :$b) {
    say &quot;$a, $b&quot;
}</pre>
</div>
<!-- /type/Match.pod6 --><div class="pod-body"><a id="_type_Match.pod6"></a><a name="t127"><h1 class="title">127 class Match</h1></a> <p class="subtitle">Result of a successful regex match</p> <pre class="code">class Match is Capture is Cool {}</pre>
 <p><span class="code">Match</span> objects are the result of a successful regex match, this does include any zero-width match. They store a reference to the original string (<span class="code">.orig</span>), positional and named captures, the positions of the start and end of the match in the original string, and a payload referred to as <i>AST</i> (abstract syntax tree), which can be used to build data structures from complex regexes and grammars.</p>
 <p>Submatches are also <span class="code">Match</span> objects (or lists of <span class="code">Match</span> objects, if the corresponding regex was quantified), so each match object can be seen as the root of a tree of match objects.</p>
 <a name="t127.1"></a><h1 id="_type_Match.pod6-Methods">127.1 Methods</h1>
 <a name="t127.1.1"></a><h2 id="_type_Match.pod6-method_orig">127.1.1 method orig</h2>
 <p>Returns the original string that the regex was matched against.</p>
 <a name="t127.1.2"></a><h2 id="_type_Match.pod6-method_from">127.1.2 method from</h2>
 <p>Returns the index of the starting position of the match.</p>
 <a name="t127.1.3"></a><h2 id="_type_Match.pod6-method_to">127.1.3 method to</h2>
 <p>Returns the index of the end position of the match.</p>
 <a name="t127.1.4"></a><h2 id="_type_Match.pod6-method_made">127.1.4 method made</h2>
 <p>Returns the payload that was set with <a href="#126-method make">#method make</a>.</p>
 <a name="t127.1.5"></a><h2 id="_type_Match.pod6-method_actions">127.1.5 method actions</h2>
 <pre class="code">method actions(Match:D: --&gt; Mu)</pre>
 <p>Returns the actions object (if any was set; else <a href="#_type_Mu.pod6">Mu</a>) that the grammar used from which this Match object was created.</p>
 <a name="t127.1.6"></a><h2 id="_type_Match.pod6-method_ast">127.1.6 method ast</h2>
 <p>Alias for <a href="#126-method made">#method made</a>.</p>
 <a name="t127.1.7"></a><h2 id="_type_Match.pod6-method_Bool">127.1.7 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(Capture:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> on successful and <span class="code">False</span> on unsuccessful matches. Please note that any zero-width match can also be successful.</p>
 <pre class="code">say 'abc' ~~ /^/;                   # OUTPUT: «｢｣␤»
say $/.from, ' ',  $/.to, ' ', ?$/; # OUTPUT: «0 0 True␤»</pre>
 <a name="t127.1.8"></a><h2 id="_type_Match.pod6-method_Str">127.1.8 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">method Str(Match:D: --&gt; Str:D)</pre>
 <p>Returns the matched text.</p>
 <pre class="code">&quot;abc123def&quot; ~~ /\d+/;
say $/.Str;               # OUTPUT: «123␤»</pre>
 <a name="t127.1.9"></a><h2 id="_type_Match.pod6-method_caps">127.1.9 method caps</h2>
 <p>Returns a list of pairs, with the index or submatch name as key and the submatches as values. The list is ordered by starting position of the submatches.</p>
 <a name="t127.1.10"></a><h2 id="_type_Match.pod6-method_chunks">127.1.10 method chunks</h2>
 <p>Returns a list of pairs, with the index or submatch name as key and the submatches as values. The list is ordered by starting position of the submatches.</p>
 <p>Those parts of the string that were not matched by submatches are interleaved with the other pairs, with the string <span class="code">~</span> as key.</p>
 <a name="t127.1.11"></a><h2 id="_type_Match.pod6-method_list">127.1.11 method list</h2>
 <p>Returns a list of positional submatches.</p>
 <a name="t127.1.12"></a><h2 id="_type_Match.pod6-method_hash">127.1.12 method hash</h2>
 <p>Returns a hash of named submatches.</p>
 <a name="t127.1.13"></a><h2 id="_type_Match.pod6-method_prematch">127.1.13 method prematch</h2>
 <p>Defined as:</p>
 <pre class="code">method prematch(Match:D: --&gt; Str:D)</pre>
 <p>Returns the part of the original string leading up to the match.</p>
 <pre class="code">'abcdefg' ~~ /cd/;
say $/.prematch;          # OUTPUT: «ab␤»

# will return a list of three match objects
&quot;abc123def&quot; ~~ m:g/\d/;
say $/.[1].prematch;      # OUTPUT: «abc1␤»</pre>
 <a name="t127.1.14"></a><h2 id="_type_Match.pod6-method_postmatch">127.1.14 method postmatch</h2>
 <p>Defined as:</p>
 <pre class="code">method postmatch(Match:D: --&gt; Str:D)</pre>
 <p>Returns the part of the original string following the match.</p>
 <pre class="code">'abcdefg' ~~ /cd/;
say $/.postmatch;         # OUTPUT: «efg␤»

# will return a list of three match objects
&quot;abc123def&quot; ~~ m:g/\d/;
say $/.[1].postmatch;     # OUTPUT: «3def␤»</pre>
 <a name="t127.1.15"></a><h2 id="_type_Match.pod6-method_make">127.1.15 method make</h2>
 <pre class="code">method make(Match:D: Mu $payload)
sub make(Mu $payload)</pre>
 <p>Stores an arbitrary payload into the <span class="code">Match</span> object that can later be retrieved via <a href="#_routine_made.pod6"><span class="code">.made</span></a> method.</p>
 <p>This is typically used in a <a href="#_language_grammars.pod6">grammar</a>'s actions class methods, where a piece of data is stored by one method and then later retrieved by another. It's up to you what data you store. It could be a tree node, <a href="#_language_grammars.pod6-Protoregexes">result of a calculation</a>, or a list of values.</p>
 <p>The sub form operates on the current <span class="code">$/</span>, which can be a convenient shortcut:</p>
 <pre class="code">method my-action ($/) {
    make &quot;foo: $/&quot;;
}</pre>
</div>
<!-- /type/Metamodel/AttributeContainer.pod6 --><div class="pod-body"><a id="_type_Metamodel_AttributeContainer.pod6"></a><a name="t128"><h1 class="title">128 role Metamodel::AttributeContainer</h1></a> <p class="subtitle">Metaobject that can hold attributes</p> <pre class="code">role Metamodel::AttributeContainer {}</pre>
 <p>Classes, roles and grammars can have attributes. Storage and introspection of attributes is implemented by this role.</p>
 <a name="t128.1"></a><h1 id="_type_Metamodel_AttributeContainer.pod6-Methods">128.1 Methods</h1>
 <a name="t128.1.1"></a><h2 id="_type_Metamodel_AttributeContainer.pod6-method_add_attribute">128.1.1 method add_attribute</h2>
 <pre class="code">method add_attribute(Metamodel::AttributeContainer: $obj, $name, $attribute)</pre>
 <p>Adds an attribute. <span class="code">$attribute</span> must be an object that supports the methods <span class="code">name</span>, <span class="code">type</span> and <span class="code">package</span>, which are called without arguments. It can for example be of <a href="#_type_Attribute.pod6">type Attribute</a>.</p>
 <a name="t128.1.2"></a><h2 id="_type_Metamodel_AttributeContainer.pod6-method_attributes">128.1.2 method attributes</h2>
 <pre class="code">method attributes(Metamodel::AttributeContainer: $obj)</pre>
 <p>Returns a list of attributes. For most Perl 6 types, these will be objects of <a href="#_type_Attribute.pod6">type Attribute</a>.</p>
 <a name="t128.1.3"></a><h2 id="_type_Metamodel_AttributeContainer.pod6-method_set_rw">128.1.3 method set_rw</h2>
 <pre class="code">method set_rw(Metamodel::AttributeContainer: $obj)</pre>
 <p>Marks a type whose attributes default to having a write accessor. For example in</p>
 <pre class="code">class Point is rw {
    has $.x;
    has $.y;
}</pre>
 <p>The <span class="code">is rw</span> trait on the class calls the <span class="code">set_rw</span> method on the meta class, making all the attributes implicitly writable, so that you can write;</p>
 <pre class="code">my $p = Point.new(x =&gt; 1, y =&gt; 2); 
     $p.x = 42; 
</pre>
 <a name="t128.1.4"></a><h2 id="_type_Metamodel_AttributeContainer.pod6-method_rw">128.1.4 method rw</h2>
 <pre class="code">method rw(Metamodel::AttributeContainer: $obj)</pre>
 <p>Returns a true value if <a href="#127-method set_rw">method set_rw</a> has been called on this object, that is, if new public attributes are writable by default.</p>
 TODO: compose_attributes, get_attribute_for_usage

Also TODO: describe :local, :excl, :all options of method attributes

</div>
<!-- /type/Metamodel/C3MRO.pod6 --><div class="pod-body"><a id="_type_Metamodel_C3MRO.pod6"></a><a name="t129"><h1 class="title">129 role Metamodel::C3MRO</h1></a> <p class="subtitle">Metaobject that supports the C3 method resolution order</p> <pre class="code">role Metamodel::C3MRO { }</pre>
 <p><a href="#_language_mop.pod6">Meta model</a> role for the <a href="https://en.wikipedia.org/wiki/C3_linearization"><i>C3</i>  method resolution order (MRO)</a>.</p>
 <p>The <i>method resolution order</i> for a type is a flat list of types including the type itself, and (recursively) all super classes. It determines in which order the types will be visited for determining which method to call with a given name, or for finding the next method in a chain with <a href="#_language_functions.pod6-sub_nextsame">nextsame</a>, <a href="#_language_functions.pod6-sub_callsame">callsame</a>, <a href="#_language_functions.pod6-sub_nextwith">nextwith</a> or <a href="#_language_functions.pod6-sub_callwith">callwith</a>.</p>
 <pre class="code">class CommonAncestor { };   # implicitly inherits from Any 
 class Child1 is CommonAncestor { } 
 class Child2 is CommonAncestor { } 
 class GrandChild2 is Child2 { } 
 class Weird is Child1 is GrandChild2 { }; 
 
 say Weird.^mro; # OUTPUT: «(Weird) (Child1) (GrandChild2) (Child2) (CommonAncestor) (Any) (Mu)␤» 
</pre>
 <p>C3 is the default resolution order for classes and grammars in Perl 6. Note that roles generally do not appear in the method resolution order (unless they are punned into a class, from which another type inherits), because methods are copied into classes at role application time.</p>
 <a name="t129.1"></a><h1 id="_type_Metamodel_C3MRO.pod6-Methods">129.1 Methods</h1>
 <a name="t129.1.1"></a><h2 id="_type_Metamodel_C3MRO.pod6-compute_mro">129.1.1 compute_mro</h2>
 <pre class="code">method compute_mro($type)</pre>
 <p>Computes the method resolution order.</p>
 <a name="t129.1.2"></a><h2 id="_type_Metamodel_C3MRO.pod6-mro">129.1.2 mro</h2>
 <pre class="code">method mro($type)</pre>
 <p>Returns a list of types in the method resolution order, even those that are marked <span class="code">is hidden</span>.</p>
 <pre class="code">say Int.^mro;   # OUTPUT: «((Int) (Cool) (Any) (Mu))␤»</pre>
 <a name="t129.1.3"></a><h2 id="_type_Metamodel_C3MRO.pod6-mro_unhidden">129.1.3 mro_unhidden</h2>
 <pre class="code">method mro_unhidden($type)</pre>
 <p>Returns a list of types in method resolution order, excluding those that are marked with <span class="code">is hidden</span>.</p>
</div>
<!-- /type/Metamodel/ClassHOW.pod6 --><div class="pod-body"><a id="_type_Metamodel_ClassHOW.pod6"></a><a name="t130"><h1 class="title">130 class Metamodel::ClassHOW</h1></a> <p class="subtitle">Metaobject representing a Perl 6 class.</p> <pre class="code">class Metamodel::ClassHOW
    does Metamodel::Naming
    does Metamodel::Documenting
    does Metamodel::Versioning
    does Metamodel::Stashing
    does Metamodel::AttributeContainer
    does Metamodel::MethodContainer
    does Metamodel::PrivateMethodContainer
    does Metamodel::MultiMethodContainer
    does Metamodel::RoleContainer
    does Metamodel::MultipleInheritance
    does Metamodel::DefaultParent
    does Metamodel::C3MRO
    does Metamodel::MROBasedMethodDispatch
    does Metamodel::MROBasedTypeChecking
    does Metamodel::Trusting
    does Metamodel::BUILDPLAN
    does Metamodel::Mixins
    does Metamodel::ArrayType
    does Metamodel::BoolificationProtocol
    does Metamodel::REPRComposeProtocol
    does Metamodel::InvocationProtocol
    does Metamodel::Finalization
        { }</pre>
 <p><span class="code">Metamodel::ClassHOW</span> is the meta class behind the <span class="code">class</span> keyword.</p>
 <pre class="code">say so Int.HOW ~~ Metamodel::ClassHOW;    # OUTPUT: «True␤»
say Int.^methods(:all).pick.name;         # OUTPUT: «random Int method name␤»</pre>
 <a name="t130.1"></a><h1 id="_type_Metamodel_ClassHOW.pod6-Methods">130.1 Methods</h1>
 <a name="t130.1.1"></a><h2 id="_type_Metamodel_ClassHOW.pod6-method_add_fallback">130.1.1 method add_fallback</h2>
 <pre class="code">method add_fallback(Metamodel::ClassHOW:D: $obj, $condition, $calculator)</pre>
 <p>Installs a method fallback, that is, add a way to call methods that weren't statically added.</p>
 <p>Both <span class="code">$condition</span> and <span class="code">$calculator</span> must be callables that receive the invocant and the method name once a method is called that can't be found in the method cache.</p>
 <p>If <span class="code">$condition</span> returns a true value, <span class="code">$calculator</span> is called with the same arguments, and must return the code object to be invoked as the method, and is added to the method cache.</p>
 <p>If <span class="code">$condition</span> returns a false value, the next fallback (if any) is tried, and if none matches, an exception <a href="#_type_X::Method::NotFound.pod6">of type X::Method::NotFound</a> is thrown.</p>
 <p>User-facing code (that is, code not dabbling with meta classes) should use method <span class="code">FALLBACK</span> instead.</p>
 <a name="t130.1.2"></a><h2 id="_type_Metamodel_ClassHOW.pod6-method_can">130.1.2 method can</h2>
 <pre class="code">method can(Metamodel::ClassHOW:D: $obj, $method-name)</pre>
 <p>Given a method name, it returns a <a href="#_type_List.pod6">List</a> of methods that are available with this name.</p>
 <pre class="code">class A      { method x($a) {} };
class B is A { method x()   {} };
say B.^can('x').elems;              # OUTPUT: «2␤»
for B.^can('x') {
    say .arity;                     # OUTPUT: «1, 2␤»
}</pre>
 <p>In this example, class <span class="code">B</span> has two possible methods available with name <span class="code">x</span> (though a normal method call would only invoke the one installed in <span class="code">B</span> directly). The one in <span class="code">B</span> has arity 1 (i.e. it expects one argument, the invocant (<span class="code">self</span>)), and the one in <span class="code">A</span> expects 2 arguments (<span class="code">self</span> and <span class="code">$a</span>).</p>
 <a name="t130.1.3"></a><h2 id="_type_Metamodel_ClassHOW.pod6-method_lookup">130.1.3 method lookup</h2>
 <pre class="code">method lookup(Metamodel::ClassHOW:D: $obj, $method-name --&gt; Method:D)</pre>
 <p>Returns the first matching <a href="#_type_Method.pod6">Method</a> with the provided name. If no method was found, returns a VM-specific sentinel value (typically a low-level NULL value) that can be tested for with a test for <a href="#_routine_defined.pod6">definedness</a>. It is potentially faster than <span class="code">.^can</span> but does not provide a full list of all candidates.</p>
 <pre class="code">say Str.^lookup('Int').perl; # OUTPUT: «method Int (Str:D $: *%_) { #`(Method|39910024) ... }␤»

for &lt;upper-case  uc&gt; {
    Str.^lookup: $^meth andthen .(&quot;foo&quot;).say
        orelse &quot;method `$meth` not found&quot;.say
}
# OUTPUT:
# method `upper-case` not found
# FOO</pre>
 <a name="t130.1.4"></a><h2 id="_type_Metamodel_ClassHOW.pod6-method_compose">130.1.4 method compose</h2>
 <pre class="code">method compose(Metamodel::ClassHOW:D: $obj)</pre>
 <p>A call to <span class="code">compose</span> brings the meta object and thus the class it represents into a fully functional state, so if you construct or modify a class, you must call the compose method before working with the class.</p>
 <p>It updates the method cache, checks that all methods that are required by roles are implemented, does the actual role composition work, and sets up the class to work well with language interoperability.</p>
</div>
<!-- /type/Metamodel/EnumHOW.pod6 --><div class="pod-body"><a id="_type_Metamodel_EnumHOW.pod6"></a><a name="t131"><h1 class="title">131 class Metamodel::EnumHOW</h1></a> <p class="subtitle">Metaobject representing a Perl 6 enum.</p> <pre class="code">class Metamodel::EnumHOW
    does Metamodel::Naming
    does Metamodel::Documenting
    does Metamodel::Stashing
    does Metamodel::AttributeContainer
    does Metamodel::MethodContainer
    does Metamodel::MultiMethodContainer
    does Metamodel::RoleContainer
    does Metamodel::BaseType
    does Metamodel::MROBasedMethodDispatch
    does Metamodel::MROBasedTypeChecking
    does Metamodel::BUILDPLAN
    does Metamodel::BoolificationProtocol
    does Metamodel::REPRComposeProtocol
    does Metamodel::InvocationProtocol
    does Metamodel::Mixins
        { }</pre>
 <p><span class="code">Metamodel::EnumHOW</span> is the meta class behind the <span class="code">enum</span> keyword.</p>
 <pre class="code">enum numbers &lt;1 2&gt;;
say numbers.HOW ~~ Metamodel::EnumHOW       # OUTPUT: «True␤»</pre>
 <a name="t131.1"></a><h1 id="_type_Metamodel_EnumHOW.pod6-Methods">131.1 Methods</h1>
 <a name="t131.1.1"></a><h2 id="_type_Metamodel_EnumHOW.pod6-method_add_enum_value">131.1.1 method add_enum_value</h2>
 <pre class="code">method add_enum_value(Metamodel::ClassHOW:D: $obj, $value)</pre>
 <p>Add a value to this enum.</p>
 <a name="t131.1.2"></a><h2 id="_type_Metamodel_EnumHOW.pod6-method_enum_values">131.1.2 method enum_values</h2>
 <pre class="code">method enum_values(Metamodel::ClassHOW:D: $obj)</pre>
 <p>Returns the values for the enum.</p>
 <pre class="code">enum numbers &lt;10 20&gt;;
say numbers.^enum_values;                   # OUTPUT: {10 =&gt; 0, 20 =&gt; 1}</pre>
 <a name="t131.1.3"></a><h2 id="_type_Metamodel_EnumHOW.pod6-method_elems">131.1.3 method elems</h2>
 <pre class="code">method elems(Metamodel::ClassHOW:D: $obj)</pre>
 <p>Returns the number of values.</p>
 <pre class="code">enum numbers &lt;10 20&gt;;
say numbers.^elems;                         # OUTPUT: 2</pre>
 <a name="t131.1.4"></a><h2 id="_type_Metamodel_EnumHOW.pod6-method_enum_from_value">131.1.4 method enum_from_value</h2>
 <pre class="code">method enum_from_value(Metamodel::ClassHOW:D: $obj, $value)</pre>
 <p>Given an value, return the corresponding enum.</p>
 <pre class="code">enum numbers &lt;10 20&gt;;
say numbers.^enum_from_value(0)             # OUTPUT: 10</pre>
 <a name="t131.1.5"></a><h2 id="_type_Metamodel_EnumHOW.pod6-method_enum_value_list">131.1.5 method enum_value_list</h2>
 <pre class="code">method enum_value_list(Metamodel::ClassHOW:D: $obj)</pre>
 <p>Returns a list of the enum values.</p>
 <pre class="code">enum numbers &lt;10 20&gt;;
say numbers.^enum_value_list;               # OUTPUT: (10 20)</pre>
</div>
<!-- /type/Metamodel/Finalization.pod6 --><div class="pod-body"><a id="_type_Metamodel_Finalization.pod6"></a><a name="t132"><h1 class="title">132 role Metamodel::Finalization</h1></a> <p class="subtitle">Metaobject supporting object finalization</p> <p><span class="indexed"><a id="860" name="">DESTROY</a></span></p>
 <pre class="code">role Metamodel::Finalization { ... }</pre>
 <p>This role takes care that <span class="code">DESTROY</span> submethods are called (if they exist) when an object is garbage-collected.</p>
 <a name="t132.1"></a><h1 id="_type_Metamodel_Finalization.pod6-Methods">132.1 Methods</h1>
 <a name="t132.1.1"></a><h2 id="_type_Metamodel_Finalization.pod6-method_setup_finalization">132.1.1 method setup_finalization</h2>
 <pre class="code">method setup_finalization(Metamodel::Finalization:D: $obj)</pre>
 <p>Collects the <span class="code">DESTROY</span> submethods from this class and all its superclasses, and marks the class as needing action on garbage collection.</p>
 <p>A metamodel for a kind that implements finalization semantics must call this method at type composition time.</p>
 <a name="t132.1.2"></a><h2 id="_type_Metamodel_Finalization.pod6-method_destroyers">132.1.2 method destroyers</h2>
 <pre class="code">method destroyers(Metamodel::Finalization:D: $obj --&gt; List:D)</pre>
 <p>Returns a list of all finalization methods.</p>
</div>
<!-- /type/Metamodel/MROBasedMethodDispatch.pod6 --><div class="pod-body"><a id="_type_Metamodel_MROBasedMethodDispatch.pod6"></a><a name="t133"><h1 class="title">133 role Metamodel::MROBasedMethodDispatch</h1></a> <p class="subtitle">Metaobject that supports resolving inherited methods</p> <pre class="code">role Metamodel::MROBasedMethodDispatch { ... }</pre>
 <p>This role implements locating methods based on the method resolution order of related (usually &quot;super&quot;/&quot;parent&quot;) types.</p>
 <a name="t133.1"></a><h1 id="_type_Metamodel_MROBasedMethodDispatch.pod6-Methods">133.1 Methods</h1>
 <a name="t133.1.1"></a><h2 id="_type_Metamodel_MROBasedMethodDispatch.pod6-method_find_method">133.1.1 method find_method</h2>
 <pre class="code">method find_method(Metamodel::MROBasedMethodDispatch:D: $obj, $name, $no_fallback)</pre>
 <p>Given a method name, returns the method object of that name which is closest in the method resolution order (MRO). If no method can be found, it returns a VM-specific sentinel value (typically a low-level NULL value) that can be tested for with a test for <a href="#_routine_defined.pod6">definedness</a>:</p>
 <pre class="code">for &lt;upper-case  uc&gt; {
    Str.^findmethod: $^meth andthen .(&quot;foo&quot;).say
        orelse &quot;method `$meth` not found&quot;.say
}
# OUTPUT:
# method `upper-case` not found
# FOO</pre>
 <p>If <span class="code">:no_fallback</span> is supplied, fallback methods are not considered.</p>
 <a name="t133.1.2"></a><h2 id="_type_Metamodel_MROBasedMethodDispatch.pod6-method_find_method_qualified">133.1.2 method find_method_qualified</h2>
 <pre class="code">method find_method(Metamodel::MROBasedMethodDispatch:D: $obj, $type, $name)</pre>
 <p>Given a method name and a type, returns the method from that type. This is used in calls like</p>
 <pre class="code">self.SomeParentClass::the_method(); 
</pre>
 TODO: publish_method_cache

</div>
<!-- /type/Metamodel/MethodContainer.pod6 --><div class="pod-body"><a id="_type_Metamodel_MethodContainer.pod6"></a><a name="t134"><h1 class="title">134 role Metamodel::MethodContainer</h1></a> <p class="subtitle">Metaobject that supports storing and introspecting methods</p> <pre class="code">class Metamodel::MethodContainer {}</pre>
 <p>roles, classes, grammars and enums can contain methods. This role implements the API around storing and introspecting them.</p>
 <pre class="code">say .name for Int.^methods(:all);

# don't do that, because it changes type Int globally.
# just for demonstration purposes.
Int.^add_method('double', method ($x:) { 2 * $x });
say 21.double; # OUTPUT: «42␤»</pre>
 <a name="t134.1"></a><h1 id="_type_Metamodel_MethodContainer.pod6-Methods">134.1 Methods</h1>
 <a name="t134.1.1"></a><h2 id="_type_Metamodel_MethodContainer.pod6-method_add_method">134.1.1 method add_method</h2>
 <pre class="code">method add_method(Metamodel::MethodContainer: $obj, $name, $code)</pre>
 <p>Adds a method to the meta class, to be called with name <span class="code">$name</span>. This should only be done before a type is composed.</p>
 <a name="t134.1.2"></a><h2 id="_type_Metamodel_MethodContainer.pod6-method_methods">134.1.2 method methods</h2>
 <pre class="code">method methods(Metamodel::MethodContainer: $obj, :$all, :$local)</pre>
 <p>Returns a list of public methods available on the class (which includes methods from superclasses and roles). By default this stops at the classes <a href="#_type_Cool.pod6">Cool</a>, <a href="#_type_Any.pod6">Any</a> or <a href="#_type_Mu.pod6">Mu</a>; to really get all methods, use the <span class="code">:all</span> adverb. If <span class="code">:local</span> is set, only methods declared directly in the class are returned.</p>
 <pre class="code">class A {
    method x() { };
}

say A.^methods();                   # x
say A.^methods(:all);               # x infinite defined ...</pre>
 <p>The returned list contains objects of type <a href="#_type_Method.pod6">Method</a>, which you can use to introspect their signatures and call them.</p>
 <p>Some introspection method-look-alikes like <a href="#_language_mop.pod6-WHAT"><span class="code">WHAT</span></a> will not show up, although they are present in any Perl 6 object. They are handled at the grammar level and will likely remain so for bootstrap reasons.</p>
 <a name="t134.1.3"></a><h2 id="_type_Metamodel_MethodContainer.pod6-method_method_table">134.1.3 method method_table</h2>
 <pre class="code">method method_table(Metamodel::MethodContainer:D: $obj --&gt; Hash:D)</pre>
 <p>Returns a hash where the keys are method names, and the values are <a href="#_type_Method.pod6">methods</a>. Note that the keys are the names by which the methods can be called, not necessarily the names by which the methods know themselves.</p>
 <a name="t134.1.4"></a><h2 id="_type_Metamodel_MethodContainer.pod6-method_lookup">134.1.4 method lookup</h2>
 <pre class="code">method lookup(Metamodel::MethodContainer: $obj, $name --&gt; Method)</pre>
 <p>Returns the first matching <a href="#_type_Method.pod6">method</a> object of the provided <span class="code">$name</span> or <span class="code">(Mu)</span> if no method object was found. The search for a matching method object is done by following the <a href="#_type_Metamodel::C3MRO.pod6">mro</a> of <span class="code">$obj</span>. Note that <span class="code">lookup</span> is supposed to be used for introspection, if you're after something which can be invoked you probably want to use <a href="#_routine_find_method.pod6">find_method</a> instead.</p>
 <pre class="code">say 2.5.^lookup(&quot;sqrt&quot;).perl:      # OUTPUT: «method sqrt (Rat $: *%_) ...␤»
say Str.^lookup(&quot;BUILD&quot;).perl;     # OUTPUT: «submethod BUILD (Str $: :$value = &quot;&quot;, *%_ --&gt; Nil) ...␤»
say Int.^lookup(&quot;does-not-exist&quot;); # OUTPUT: «(Mu)␤»</pre>
 TODO: submethod_table, declares_method, cache, cache_get, cache_add

</div>
<!-- /type/Metamodel/MultipleInheritance.pod6 --><div class="pod-body"><a id="_type_Metamodel_MultipleInheritance.pod6"></a><a name="t135"><h1 class="title">135 role Metamodel::MultipleInheritance</h1></a> <p class="subtitle">Metaobject that supports multiple inheritance</p> <pre class="code">role Metamodel::MultipleInheritance { ... }</pre>
 <p>Classes, roles and grammars can have parent classes, that is, classes to which method lookups fall back to, and to whose type the child class conforms to.</p>
 <p>This role implements the capability of having zero, one or more parent (or <i>super</i>) classes.</p>
 <p>In addition, it supports the notion of <i>hidden</i> classes, whose methods are excluded from the normal dispatching chain, so that for example <span class="code">nextsame</span> ignores it.</p>
 <p>This can come in two flavors: methods from a class marked as <span class="code">is hidden</span> are generally excluded from dispatching chains, and <span class="code">class A hides B</span> adds <span class="code">B</span> as a parent class to <span class="code">A</span>, but hides it from the method resolution order, so that <a href="#_type_Metamodel::C3MRO.pod6-method mro_unhidden">mro_unhidden</a> skips it.</p>
 <a name="t135.1"></a><h1 id="_type_Metamodel_MultipleInheritance.pod6-Methods">135.1 Methods</h1>
 <a name="t135.1.1"></a><h2 id="_type_Metamodel_MultipleInheritance.pod6-method_add_parent">135.1.1 method add_parent</h2>
 <pre class="code">method add_parent(Metamodel::MultipleInheritance:D: $Obj, $parent, :$hides)</pre>
 <p>Adds <span class="code">$parent</span> as a parent type. If <span class="code">$hides</span> is set to a true value, the parent type is added as a hidden parent.</p>
 <p><span class="code">$parent</span> must be a fully <a href="#_language_mop.pod6-Composition_time_and_static_reasoning">composed</a> typed. Otherwise an exception of type <a href="#_type_X::Inheritance::NotComposed.pod6">X::Inheritance::NotComposed</a> is thrown.</p>
 <a name="t135.1.2"></a><h2 id="_type_Metamodel_MultipleInheritance.pod6-method_parents">135.1.2 method parents</h2>
 <pre class="code">method parents(Metamodel::MultipleInheritance:D: $obj, :$all, :$tree)</pre>
 <p>Returns the list of parent classes. By default it stops at <a href="#_type_Cool.pod6">Cool</a>, <a href="#_type_Any.pod6">Any</a> or <a href="#_type_Mu.pod6">Mu</a>, which you can suppress by supplying the <span class="code">:all</span> adverb. With <span class="code">:tree</span>, a nested list is returned.</p>
 <pre class="code">class D { };
class C1 is D { };
class C2 is D { };
class B is C1 is C2 { };
class A is B { };

say A.^parents(:all).perl;
# OUTPUT: «(B, C1, C2, D, Any, Mu)␤»
say A.^parents(:all, :tree).perl;
# OUTPUT: «[B, ([C1, [D, [Any, [Mu]]]], [C2, [D, [Any, [Mu]]]])]␤»</pre>
 <a name="t135.1.3"></a><h2 id="_type_Metamodel_MultipleInheritance.pod6-method_hides">135.1.3 method hides</h2>
 <pre class="code">method hides(Metamodel::MultipleInheritance:D: $obj)</pre>
 <p>Returns a list of all hidden parent classes.</p>
 <a name="t135.1.4"></a><h2 id="_type_Metamodel_MultipleInheritance.pod6-method_hidden">135.1.4 method hidden</h2>
 <pre class="code">method hidden(Metamodel::MultipleInheritance:D: $obj)</pre>
 <p>Returns a true value if (and only if) the class is marked <span class="code">is hidden</span>.</p>
 <a name="t135.1.5"></a><h2 id="_type_Metamodel_MultipleInheritance.pod6-method_set_hidden">135.1.5 method set_hidden</h2>
 <pre class="code">method set_hidden(Metamodel::MultipleInheritance:D: $obj)</pre>
 <p>Marks the type as hidden.</p>
</div>
<!-- /type/Metamodel/Naming.pod6 --><div class="pod-body"><a id="_type_Metamodel_Naming.pod6"></a><a name="t136"><h1 class="title">136 role Metamodel::Naming</h1></a> <p class="subtitle">Metaobject that supports named types</p> <pre class="code">role Metamodel::Naming { }</pre>
 <p><a href="#_language_mop.pod6">Meta model</a> role for (optionally) named things, like classes, roles and enums.</p>
 <a name="t136.1"></a><h1 id="_type_Metamodel_Naming.pod6-Methods">136.1 Methods</h1>
 <a name="t136.1.1"></a><h2 id="_type_Metamodel_Naming.pod6-method_name">136.1.1 method name</h2>
 <pre class="code">method name($type)</pre>
 <p>Returns the name of the meta object, if any.</p>
 <pre class="code">say 42.^name;       # OUTPUT: «Int␤»</pre>
 <a name="t136.1.2"></a><h2 id="_type_Metamodel_Naming.pod6-method_set_name">136.1.2 method set_name</h2>
 <pre class="code">method set_name($type, $new_name)</pre>
 <p>Sets the new name of the meta object.</p>
</div>
<!-- /type/Metamodel/Primitives.pod6 --><div class="pod-body"><a id="_type_Metamodel_Primitives.pod6"></a><a name="t137"><h1 class="title">137 class Metamodel::Primitives</h1></a> <p class="subtitle">Metaobject that supports low-level type operations</p> <pre class="code">class Metamodel::Primitives is SuperClass {} 
</pre>
 <p><span class="code">Metamodel::Primitives</span> provides low-level operations for working with types, which are otherwise only available as implementation-dependent directives.</p>
 <p>These primitives are available as class methods.</p>
 <p>Here is an example that steals the meta model instance from the <a href="#_type_Int.pod6">Int</a> class to create a custom type (usually you would create your own meta class if you mess with something as low-level), which allows calling of just one method called <span class="code">why</span>:</p>
 <pre class="code">my Mu $type := Metamodel::Primitives.create_type(Int.HOW, 'P6opaque');
$type.^set_name('why oh why?');
my %methods =  why =&gt; sub ($) { say 42 };
Metamodel::Primitives.install_method_cache($type, %methods, :authoritative);
$type.why;      # 42
$type.list;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Method::NotFound: Method 'list' not found for invocant of class 'why oh why?'␤»</pre>
 <a name="t137.1"></a><h1 id="_type_Metamodel_Primitives.pod6-Methods">137.1 Methods</h1>
 <a name="t137.1.1"></a><h2 id="_type_Metamodel_Primitives.pod6-method_create_type">137.1.1 method create_type</h2>
 <pre class="code">method create_type(Mu $how, $repr = 'P6opaque')</pre>
 <p>Creates and returns a new type from a meta object <span class="code">$how</span> and a representation name.</p>
 <a name="t137.1.2"></a><h2 id="_type_Metamodel_Primitives.pod6-method_set_package">137.1.2 method set_package</h2>
 <pre class="code">method set_package(Mu $type, $package)</pre>
 <p>Sets the package associated with the type.</p>
 <a name="t137.1.3"></a><h2 id="_type_Metamodel_Primitives.pod6-method_install_method_cache">137.1.3 method install_method_cache</h2>
 <pre class="code">method install_method_cache( Mu $type, %cache, :$authoritative = True)</pre>
 <p>Installs a method cache, that is, a mapping from method names to code objects. If <span class="code">:authoritative</span> is missing, or set to <span class="code">True</span>, then calls of methods that do not exist in the cache will throw an exception of type <a href="#_type_X::Method::NotFound.pod6">X::Method::NotFound</a>. If <span class="code">:authoritative</span> is set to <span class="code">False</span>, the usual fallback mechanism are tried.</p>
 <a name="t137.1.4"></a><h2 id="_type_Metamodel_Primitives.pod6-method_configure_type_checking">137.1.4 method configure_type_checking</h2>
 <pre class="code">method configure_type_checking( 
     Mu $type, 
     @cache, 
     :$authoritative = True, 
     :$call_accepts = False 
 ) 
</pre>
 <p>Configures the type checking for <span class="code">$type</span>. <span class="code">@cache</span> is a list of known types against which <span class="code">$type</span> checks positively (so in a classical class-based system, the type itself and all recursive superclasses). If <span class="code">:authoritative</span> is missing or <span class="code">True</span>, this type will fail checks against all types not in <span class="code">@cache</span>. If <span class="code">:call_accepts</span> is True, the method <a href="#_routine_ACCEPTS.pod6">ACCEPTS</a> will be called for type checks against this type.</p>
 <a name="t137.1.5"></a><h2 id="_type_Metamodel_Primitives.pod6-method_configure_destroy">137.1.5 method configure_destroy</h2>
 <pre class="code">method configure_destroy(Mu $type, $destroy)</pre>
 <p>Configures whether <span class="code">DESTROY</span> methods are called (if present) when the garbage collector collects an object of this type (if <span class="code">$destroy</span> is set to a true value). This comes with a performance overhead, so should only be set to a true value if necessary.</p>
 <a name="t137.1.6"></a><h2 id="_type_Metamodel_Primitives.pod6-method_compose_type">137.1.6 method compose_type</h2>
 <pre class="code">method compose_type(Mu $type, $configuration)</pre>
 <p>Composes <span class="code">$type</span> (that is, finalizes it to be ready for instantiation). See <a href="https://github.com/perl6/nqp/blob/master/docs/6model/repr-compose-protocol.markdown">https://github.com/perl6/nqp/blob/master/docs/6model/repr-compose-protocol.markdown</a> for what <span class="code">$configuration</span> can contain (until we have better docs, sorry).</p>
 <a name="t137.1.7"></a><h2 id="_type_Metamodel_Primitives.pod6-method_rebless">137.1.7 method rebless</h2>
 <pre class="code">method rebless(Mu $object, Mu $type)</pre>
 <p>Changes <span class="code">$obj</span> to be of type <span class="code">$type</span>. This only works if <span class="code">$type</span> type-checks against the current type of <span class="code">$obj</span>, and if the storage of <span class="code">$object</span> is a subset of that of <span class="code">$type</span>.</p>
 <a name="t137.1.8"></a><h2 id="_type_Metamodel_Primitives.pod6-method_is_type">137.1.8 method is_type</h2>
 <pre class="code">method is_type(Mu \obj, Mu \type --&gt; Bool:D)</pre>
 <p>Type-checks <span class="code">obj</span> against <span class="code">type</span></p>
</div>
<!-- /type/Metamodel/PrivateMethodContainer.pod6 --><div class="pod-body"><a id="_type_Metamodel_PrivateMethodContainer.pod6"></a><a name="t138"><h1 class="title">138 role Metamodel::PrivateMethodContainer</h1></a> <p class="subtitle">Metaobject that supports private methods</p> <pre class="code">role Metamodel::PrivateMethodContainer { ... }</pre>
 <p>In Perl 6, classes, roles and grammars can have private methods, that is, methods that are only callable from within the class, and are not inherited by types derived by inheritance.</p>
 <pre class="code">class A {
    # the ! declares a private method
    method !double($x) {
        say 2 * $x;
    }
    method call-double($y) {
        # call with ! instead of .
        self!double($y);
    }
}</pre>
 <p>For the purposes of dispatching and scoping, private methods are closer to subroutines than to methods. However they share access to <span class="code">self</span> and attributes with methods.</p>
 <a name="t138.1"></a><h1 id="_type_Metamodel_PrivateMethodContainer.pod6-Methods">138.1 Methods</h1>
 <a name="t138.1.1"></a><h2 id="_type_Metamodel_PrivateMethodContainer.pod6-method_add_private_method">138.1.1 method add_private_method</h2>
 <pre class="code">method add_private_method(Metamodel::PrivateMethodContainer: $obj, $name, $code)</pre>
 <p>Adds a private method <span class="code">$code</span> with name <span class="code">$name</span>.</p>
 <a name="t138.1.2"></a><h2 id="_type_Metamodel_PrivateMethodContainer.pod6-method_private_method_table">138.1.2 method private_method_table</h2>
 <pre class="code">method private_method_table(Metamodel::PrivateMethodContainer: $obj)</pre>
 <p>Returns a hash of <span class="code">name =&gt; &amp;method_object</span></p>
 TODO: document find_private_method, once we've figured out how to represent
or catch nqp::null in Perl 6 land

</div>
<!-- /type/Metamodel/RoleContainer.pod6 --><div class="pod-body"><a id="_type_Metamodel_RoleContainer.pod6"></a><a name="t139"><h1 class="title">139 role Metamodel::RoleContainer</h1></a> <p class="subtitle">Metaobject that supports holding/containing roles</p> <pre class="code">role Metamodel::RoleContainer {}</pre>
 <p>Implements the ability to hold roles to be held for composition.</p>
 <pre class="code">class A does SomeRole {} 
</pre>
 <p>roughly corresponds to</p>
 <pre class="code">class A { 
     BEGIN A.^add_role(SomeRole); 
 } 
</pre>
 <a name="t139.1"></a><h1 id="_type_Metamodel_RoleContainer.pod6-Methods">139.1 Methods</h1>
 <a name="t139.1.1"></a><h2 id="_type_Metamodel_RoleContainer.pod6-method_add_role">139.1.1 method add_role</h2>
 <pre class="code">method add_role(Metamodel::RoleContainer:D: $obj, Mu $role)</pre>
 <p>Adds the <span class="code">$role</span> to the list of roles to be composed.</p>
 <a name="t139.1.2"></a><h2 id="_type_Metamodel_RoleContainer.pod6-method_roles_to_compose">139.1.2 method roles_to_compose</h2>
 <pre class="code">method roles_to_compose(Metamodel::RoleContainer:D: $obj --&gt; List:D)</pre>
 <p>returns a list of roles added with <span class="code">add_role</span>, which are to be composed at type composition time.</p>
</div>
<!-- /type/Metamodel/Trusting.pod6 --><div class="pod-body"><a id="_type_Metamodel_Trusting.pod6"></a><a name="t140"><h1 class="title">140 role Metamodel::Trusting</h1></a> <p class="subtitle">Metaobject that supports trust relations between types</p> <pre class="code">role Metamodel::Trusting is SuperClass { ... } 
</pre>
 <p>Normally, code in a class or role can only access its own private methods. If another type declares that it trusts that first class, then access to private methods of that second type is possible. <span class="code">Metamodel::Trusting</span> implements that aspect of the Perl 6 object system.</p>
 <pre class="code">class A {
    my class B {
        trusts A;   # that's where Metamodel::Trusting comes in
        method !private_method() {
            say &quot;Private method in B&quot;;
        }
    }
    method build-and-poke {
        # call a private method from B
        # disallowed if A doesn't trust B
        B.new()!B::private_method();
    }
};

A.build-and-poke;   # Private method in A</pre>
 <a name="t140.1"></a><h1 id="_type_Metamodel_Trusting.pod6-Methods">140.1 Methods</h1>
 <a name="t140.1.1"></a><h2 id="_type_Metamodel_Trusting.pod6-method_add_trustee">140.1.1 method add_trustee</h2>
 <pre class="code">method add_trustee(Metamodel::Trusting:D: $type, Mu $trustee)</pre>
 <p>Trust <span class="code">$trustee</span>.</p>
 <pre class="code">class A { 
     BEGIN A.^add_trustee(B); 
     # same as 'trusts B'; 
 } 
</pre>
 <a name="t140.1.2"></a><h2 id="_type_Metamodel_Trusting.pod6-method_trusts">140.1.2 method trusts</h2>
 <pre class="code">method trusts(Metamodel::Trusting:D: $type --&gt; List)</pre>
 <p>Returns a list of types that the invocant trusts.</p>
 <pre class="code">class A { trusts Int; };
say .^name for A.^trusts;       # Int</pre>
 <a name="t140.1.3"></a><h2 id="_type_Metamodel_Trusting.pod6-method_is_trusted">140.1.3 method is_trusted</h2>
 <pre class="code">method is_trusted(Metamodel::Trusting:D: $type, $claimant)</pre>
 <p>Returns 1 if <span class="code">$type</span> trusts <span class="code">$claimant</span>, and 0 otherwise. Types always trust themselves.</p>
</div>
<!-- /type/Method.pod6 --><div class="pod-body"><a id="_type_Method.pod6"></a><a name="t141"><h1 class="title">141 class Method</h1></a> <p class="subtitle">Member function</p> <pre class="code">class Method is Routine { }</pre>
 <p>A type for methods that behave the same way then <a href="#_type_Routine.pod6">Routine</a> with some exceptions listed in the following. For details of a methods parameter list see <a href="#_type_Signature.pod6">Signature</a>.</p>
 <p>To create a method outside a <a href="#_language_typesystem.pod6-Methods">class definition</a>, use the declarators <span class="code">my</span> and <span class="code">method</span>. If an <a href="#_language_syntax.pod6-Identifiers">identifier</a> is provided the methods name will be injected into the scope specified by the declarator.</p>
 <pre class="code">my $m = method ($invocant: $param) {
    say &quot;$invocant: '$param'&quot;;
}
&quot;greeting&quot;.$m(&quot;hello&quot;);  # OUTPUT: «greeting: 'hello'␤»

&lt;a b c&gt;.&amp;(my method (List:D:) { say self.perl; self }).say;
# OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)␤(a b c)␤»</pre>
 <p>The invocant of a method defaults to <span class="code">self</span>. A type constraint including a type-smiley can be used and is honored both for methods defined in a class and for free floating methods. Call the latter with <span class="code">.&amp;</span> on an object.</p>
 <pre class="code">my method m(Int:D: $b){
    say self.^name
}
my $i = 1;
$i.&amp;m(&lt;a&gt;);
# OUTPUT: «Int␤»</pre>
 <p><span class="indexed"><a id="861" name="extra named arguments"></a></span> Methods will ignore extra named arguments where other types of <span class="code">Routine</span> will throw at runtime. Extra arguments will be forwarded by <a href="#_language_functions.pod6-index-entry-nextsame-nextsame">nextsame</a> and friends.</p>
 <pre class="code">class A {
    multi method m(:$a, :$b) { say &quot;2 named&quot; }
}

class B is A {
    method m(:$a) { say &quot;1 named&quot;; nextsame }
}
B.m( :1a, :2b );
# OUTPUT: «1 named␤2 named␤»</pre>
 <a name="t141.0.1"></a><h2 id="_type_Method.pod6-sub_lastcall">141.0.1 sub lastcall</h2>
 <pre class="code">sub lastcall(--&gt; True)</pre>
 <p>Truncates the current dispatch chain, which means any calls to <span class="code">nextsame</span>, <span class="code">callsame</span>, <span class="code">nextwith</span>, and <span class="code">callwith</span> will not find any of the next candidates. Note that since <span class="code">samewith</span> restarts the dispatch from the start, it's not affected by the truncation of current chain with <span class="code">lastcall</span>.</p>
 <p>Consider example below. <span class="code">foo(6)</span> uses <span class="code">nextsame</span> when <span class="code">lastcall</span> hasn't been called, and so it reaches the <span class="code">Any</span> candidate. <span class="code">foo(2)</span> calls <span class="code">nextsame</span> as well, but since <span class="code">lastcall</span> was called first, the dispatch chain was truncated and the <span class="code">Any</span> candidate was not reached. The last call, <span class="code">foo(1)</span>, calls <span class="code">lastcall</span> too, however, it then uses <span class="code">samewith</span>, which isn't affected by it, and so the dispatch re-starts from scratch, hits the <span class="code">Int</span> candidate with the new argument <span class="code">6</span>, and then proceeds to the <span class="code">Any</span> candidate via <span class="code">nextsame</span> (which isn't affected by the <span class="code">lastcall</span> that was used before the <span class="code">samewith</span> was called):</p>
 <pre class="code">multi foo (Int $_) {
    say &quot;Int: $_&quot;;
    lastcall   when *.is-prime;
    nextsame   when *  %% 2;
    samewith 6 when * !%% 2;
}
multi foo (Any $x) { say &quot;Any $x&quot; }

foo 6; say '----';
foo 2; say '----';
foo 1;

# OUTPUT:
# Int: 6
# Any 6
# ----
# Int: 2
# ----
# Int: 1
# Int: 6
# Any 6</pre>
</div>
<!-- /type/Mix.pod6 --><div class="pod-body"><a id="_type_Mix.pod6"></a><a name="t142"><h1 class="title">142 class Mix</h1></a> <p class="subtitle">Immutable collection of distinct objects with Real weights</p> <pre class="code">class Mix does Mixy { }</pre>
 <p>A <span class="code">Mix</span> is an immutable mix, meaning a collection of distinct elements in no particular order that each have a real-number weight assigned to them. (For <i>mutable</i> mixes, see <a href="#_type_MixHash.pod6">MixHash</a> instead.)</p>
 <p><span class="code">Mix</span>es are often used for performing weighted random selections - see <a href="#_routine_roll.pod6">.roll</a>.</p>
 <p>Objects/values of any type are allowed as mix elements. Within a <span class="code">Mix</span>, items that would compare positively with the <a href="===">===</a> operator are considered the same element, with a combined weight.</p>
 <pre class="code">my $recipe = (butter =&gt; 0.22, sugar =&gt; 0.1, 
               flour =&gt; 0.275, sugar =&gt; 0.02).Mix; 
 
 say $recipe.elems;      # OUTPUT: «3␤» 
 say $recipe.keys.sort;  # OUTPUT: «butter flour sugar␤» 
 say $recipe.pairs.sort; # OUTPUT: «&quot;butter&quot; =&gt; 0.22 &quot;flour&quot; =&gt; 0.275 &quot;sugar&quot; =&gt; 0.12␤» 
 say $recipe.total;      # OUTPUT: «0.615␤» 
</pre>
 <p><span class="code">Mix</span>es can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, which returns the corresponding numeric weight for keys that are elements of the mix, and <span class="code">0</span> for keys that aren't:</p>
 <pre class="code">my $recipe = (butter =&gt; 0.22, sugar =&gt; 0.1,
              flour =&gt; 0.275, sugar =&gt; 0.02).Mix;
say $recipe&lt;butter&gt;;     # OUTPUT: «0.22␤»
say $recipe&lt;sugar&gt;;      # OUTPUT: «0.12␤»
say $recipe&lt;chocolate&gt;;  # OUTPUT: «0␤»</pre>
 <a name="t142.1"></a><h1 id="_type_Mix.pod6-Creating_Mix_objects">142.1 Creating <span class="code">Mix</span> objects</h1>
 <p><span class="code">Mix</span>es can be composed using the <a href="#141-sub mix">mix</a> subroutine (or <span class="code">Mix.new</span>, for which it is a shorthand). Any positional parameters, regardless of their type, become elements of the mix - with a weight of <span class="code">1</span> for each time the parameter occurred:</p>
 <pre class="code">my $n = mix &quot;a&quot;, &quot;a&quot;, &quot;b&quot; =&gt; 0, &quot;c&quot; =&gt; 3.14;
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Pair) (Pair))␤»
say $n.pairs;            # OUTPUT: «(a =&gt; 2 (c =&gt; 3.14) =&gt; 1 (b =&gt; 0) =&gt; 1)␤»</pre>
 <p>Alternatively, the <span class="code">.Mix</span> coercer (or its functional form, <span class="code">Mix()</span>) can be called on an existing object to coerce it to a <span class="code">Mix</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a mix with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the mix, and the (cumulative) values become the associated numeric weights:</p>
 <pre class="code">my $n = (&quot;a&quot;, &quot;a&quot;, &quot;b&quot; =&gt; 0, &quot;c&quot; =&gt; 3.14).Mix;
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Str))␤»
say $n.pairs;            # OUTPUT: «(a =&gt; 2 c =&gt; 3.14)␤»</pre>
 <a name="t142.2"></a><h1 id="_type_Mix.pod6-Operators">142.2 Operators</h1>
 TODO: Expand this section (using the corresponding section in lib/Type/Bag.pod
as a guide) after ab5tract's set/bag/mix operator redesign.
 <p>See <a href="#_language_setbagmix.pod6-Set/Bag_Operators">Set/Bag Operators</a> for a complete list of set and bag operators with detailed explanations.</p>
 <a name="t142.2.1"></a><h2 id="_type_Mix.pod6-sub_mix">142.2.1 sub mix</h2>
 <pre class="code">sub mix(*@args --&gt; Mix)</pre>
 <p>Creates a new <span class="code">Mix</span> from <span class="code">@args</span>.</p>
 <a name="t142.3"></a><h1 id="_type_Mix.pod6-Methods">142.3 Methods</h1>
 <a name="t142.3.1"></a><h2 id="_type_Mix.pod6-method_Bag">142.3.1 method Bag</h2>
 <p>Defined as:</p>
 <pre class="code">method Bag (--&gt; Bag:D)</pre>
 <p>Coerces the <span class="code">Mix</span> to a <a href="#_type_Bag.pod6"><span class="code">Bag</span></a>. The weights are convert to <a href="#_type_Int.pod6"><span class="code">Int</span></a>, which means the number of keys in the resulting <span class="code">Bag</span> can be fewer than in the original <span class="code">Mix</span>, if any of the weights are negative or truncate to zero.</p>
 <a name="t142.3.2"></a><h2 id="_type_Mix.pod6-method_BagHash">142.3.2 method BagHash</h2>
 <p>Defined as:</p>
 <pre class="code">method BagHash (--&gt; BagHash:D)</pre>
 <p>Coerces the <span class="code">Mix</span> to a <a href="#_type_BagHash.pod6"><span class="code">BagHash</span></a>. The weights are convert to <a href="#_type_Int.pod6"><span class="code">Int</span></a>, which means the number of keys in the resulting <span class="code">BagHash</span> can be fewer than in the original <span class="code">Mix</span>, if any of the weights are negative or truncate to zero.</p>
 <a name="t142.4"></a><h1 id="_type_Mix.pod6-See_Also">142.4 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/MixHash.pod6 --><div class="pod-body"><a id="_type_MixHash.pod6"></a><a name="t143"><h1 class="title">143 class MixHash</h1></a> <p class="subtitle">Mutable collection of distinct objects with Real weights</p> <pre class="code">class MixHash does Mixy { }</pre>
 <p>A <span class="code">MixHash</span> is a mutable mix, meaning a collection of distinct elements in no particular order that each have a real-number weight assigned to them. (For <i>immutable</i> mixes, see <a href="#_type_Mix.pod6">Mix</a> instead.)</p>
 <p>Objects/values of any type are allowed as mix elements. Within a <span class="code">MixHash</span>, items that would compare positively with the <a href="===">===</a> operator are considered the same element, with a combined weight.</p>
 <pre class="code">my $recipe = (butter =&gt; 0.22, sugar =&gt; 0.1, 
               flour =&gt; 0.275, sugar =&gt; 0.02).MixHash; 
 
 say $recipe.elems;      # OUTPUT: «3␤» 
 say $recipe.keys.sort;  # OUTPUT: «butter flour sugar␤» 
 say $recipe.pairs.sort; # OUTPUT: «&quot;butter&quot; =&gt; 0.22 &quot;flour&quot; =&gt; 0.275 &quot;sugar&quot; =&gt; 0.12␤» 
 say $recipe.total;      # OUTPUT: «0.615␤» 
</pre>
 <p><span class="code">MixHash</span>es can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, which returns the corresponding numeric weight for keys that are elements of the mix, and <span class="code">0</span> for keys that aren't. It can also be used to modify weights; Setting a weight to <span class="code">0</span> automatically removes that element from the mix, and setting a weight to a non-zero number adds that element if it didn't already exist:</p>
 <pre class="code">my $recipe = (butter =&gt; 0.22, sugar =&gt; 0.1, 
               flour =&gt; 0.275, sugar =&gt; 0.02).MixHash; 
 
 say $recipe&lt;butter&gt;;     # OUTPUT: «0.22␤» 
 say $recipe&lt;sugar&gt;;      # OUTPUT: «0.12␤» 
 say $recipe&lt;chocolate&gt;;  # OUTPUT: «0␤» 
 
 $recipe&lt;butter&gt; = 0; 
 $recipe&lt;chocolate&gt; = 0.30; 
 say $recipe.pairs;       # OUTPUT: «&quot;sugar&quot; =&gt; 0.12 &quot;flour&quot; =&gt; 0.275 &quot;chocolate&quot; =&gt; 0.3␤» 
</pre>
 <a name="t143.1"></a><h1 id="_type_MixHash.pod6-Creating_MixHash_objects">143.1 Creating <span class="code">MixHash</span> objects</h1>
 <p><span class="code">MixHash</span>es can be composed using <span class="code">MixHash.new</span>. Any positional parameters, regardless of their type, become elements of the mix - with a weight of <span class="code">1</span> for each time the parameter occurred:</p>
 <pre class="code">my $n = MixHash.new: &quot;a&quot;, &quot;a&quot;, &quot;b&quot; =&gt; 0, &quot;c&quot; =&gt; 3.14;
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Pair) (Pair))␤»
say $n.pairs;            # OUTPUT: «(a =&gt; 2 (c =&gt; 3.14) =&gt; 1 (b =&gt; 0) =&gt; 1)␤»</pre>
 <p>Alternatively, the <span class="code">.MixHash</span> coercer (or its functional form, <span class="code">MixHash()</span>) can be called on an existing object to coerce it to a <span class="code">MixHash</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a mix with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the mix, and the (cumulative) values become the associated numeric weights:</p>
 <pre class="code">my $n = (&quot;a&quot;, &quot;a&quot;, &quot;b&quot; =&gt; 0, &quot;c&quot; =&gt; 3.14).MixHash;
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Str))␤»
say $n.pairs;            # OUTPUT: «(a =&gt; 2 c =&gt; 3.14)␤»</pre>
 <a name="t143.2"></a><h1 id="_type_MixHash.pod6-Operators">143.2 Operators</h1>
 TODO: Expand this section (using the corresponding section in
lib/Type/BagHash.pod as a guide) after ab5tract's set/bag/mix operator redesign.

 <p>See <a href="#_language_setbagmix.pod6-Set/Bag_Operators">Set/Bag Operators</a> for a complete list of set and bag operators with detailed explanations.</p>
 <a name="t143.3"></a><h1 id="_type_MixHash.pod6-Methods">143.3 Methods</h1>
 <a name="t143.3.1"></a><h2 id="_type_MixHash.pod6-method_Bag">143.3.1 method Bag</h2>
 <p>Defined as:</p>
 <pre class="code">method Bag (--&gt; Bag:D)</pre>
 <p>Coerces the <span class="code">MixHash</span> to a <a href="#_type_Bag.pod6"><span class="code">Bag</span></a>. The weights are convert to <a href="#_type_Int.pod6"><span class="code">Int</span></a>, which means the number of keys in the resulting <span class="code">Bag</span> can be fewer than in the original <span class="code">MixHash</span>, if any of the weights are negative or truncate to zero.</p>
 <a name="t143.3.2"></a><h2 id="_type_MixHash.pod6-method_BagHash">143.3.2 method BagHash</h2>
 <p>Defined as:</p>
 <pre class="code">method BagHash (--&gt; BagHash:D)</pre>
 <p>Coerces the <span class="code">MixHash</span> to a <a href="#_type_BagHash.pod6"><span class="code">BagHash</span></a>. The weights are convert to <a href="#_type_Int.pod6"><span class="code">Int</span></a>, which means the number of keys in the resulting <span class="code">BagHash</span> can be fewer than in the original <span class="code">MixHash</span>, if any of the weights are negative or truncate to zero.</p>
 <a name="t143.4"></a><h1 id="_type_MixHash.pod6-See_Also">143.4 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Mixy.pod6 --><div class="pod-body"><a id="_type_Mixy.pod6"></a><a name="t144"><h1 class="title">144 role Mixy</h1></a> <p class="subtitle">Collection of distinct objects with Real weights</p> <pre class="code">role Mixy does Baggy { }</pre>
 <p>A role for collections of weighted values. See <a href="#_type_Mix.pod6">Mix</a> and <a href="#_type_MixHash.pod6">MixHash</a>. <span class="code">Mixy</span> objects differ from <a href="#_type_Baggy.pod6">Baggy</a> objects in that the weights of <span class="code">Mixy</span> are <a href="#_type_Real.pod6">Real</a>s rather than <a href="#_type_Int.pod6">Int</a>s.</p>
 <a name="t144.1"></a><h1 id="_type_Mixy.pod6-Methods">144.1 Methods</h1>
 <a name="t144.1.1"></a><h2 id="_type_Mixy.pod6-method_total">144.1.1 method total</h2>
 <pre class="code">method total(--&gt; Real)</pre>
 <p>Returns the sum of all the weights</p>
 <pre class="code">say mix('a', 'b', 'c', 'a', 'a', 'd').total == 6;  # OUTPUT: «True␤»
say %(a =&gt; 5.6, b =&gt; 2.4).Mix.total == 8;          # OUTPUT: «True␤»</pre>
 <a name="t144.1.2"></a><h2 id="_type_Mixy.pod6-method_roll">144.1.2 method roll</h2>
 <pre class="code">method roll($count = 1)</pre>
 <p>Similar to a <a href="#_type_Bag.pod6">Bag</a>.roll, but with <span class="code">Real</span> weights rather than integral ones.</p>
 <a name="t144.2"></a><h1 id="_type_Mixy.pod6-See_Also">144.2 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Mu.pod6 --><div class="pod-body"><a id="_type_Mu.pod6"></a><a name="t145"><h1 class="title">145 class Mu</h1></a> <p class="subtitle">The root of the Perl 6 type hierarchy.</p> <pre class="code">class Mu { }</pre>
 <p>The root of the Perl 6 type hierarchy. For the origin of the name, see <a href="https://en.wikipedia.org/wiki/Mu_%28negative%29">https://en.wikipedia.org/wiki/Mu_%28negative%29</a>. One can also say that there are many undefined values in Perl 6, and <span class="code">Mu</span> is the <i>most undefined</i> value.</p>
 <p>Note that most classes do not derive from <span class="code">Mu</span> directly, but rather from <a href="#_type_Any.pod6">Any</a>.</p>
 <a name="t145.1"></a><h1 id="_type_Mu.pod6-Methods">145.1 Methods</h1>
 <a name="t145.1.1"></a><h2 id="_type_Mu.pod6-method_defined">145.1.1 method defined</h2>
 <p>Declared as</p>
 <pre class="code">multi method defined(   --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> on the type object, and <span class="code">True</span> otherwise.</p>
 <pre class="code">say Int.defined;                # OUTPUT: «False␤»
say 42.defined;                 # OUTPUT: «True␤»</pre>
 <p>Very few types (like <a href="#_type_Failure.pod6">Failure</a>) override <span class="code">defined</span> to return <span class="code">False</span> even for instances:</p>
 <pre class="code">sub fails() { fail 'oh noe' };
say fails().defined;            # OUTPUT: «False␤»</pre>
 <a name="t145.1.2"></a><h2 id="_type_Mu.pod6-routine_defined">145.1.2 routine defined</h2>
 <p>Declared as</p>
 <pre class="code">multi sub    defined(Mu --&gt; Bool:D)</pre>
 <p>invokes the <span class="code">.defined</span> method on the object and returns its result.</p>
 <a name="t145.1.3"></a><h2 id="_type_Mu.pod6-routine_isa">145.1.3 routine isa</h2>
 <pre class="code">multi method isa(Mu $type     --&gt; Bool:D)
multi method isa(Str:D $type  --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is an instance of class <span class="code">$type</span>, a subset type or a derived class (through inheritance) of <span class="code">$type</span>.</p>
 <pre class="code">my $i = 17;
say $i.isa(&quot;Int&quot;);   # OUTPUT: «True␤»
say $i.isa(Any);     # OUTPUT: «True␤»</pre>
 <p>A more idiomatic way to do this is to use the smartmatch operator <a href="#_routine_~~.pod6">~~</a> instead.</p>
 <pre class="code">my $s = &quot;String&quot;;
say $s ~~ Str;       # OUTPUT: «True␤»</pre>
 <a name="t145.1.4"></a><h2 id="_type_Mu.pod6-routine_does">145.1.4 routine does</h2>
 <pre class="code">method does(Mu $type --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if and only if the invocant conforms to type <span class="code">$type</span>.</p>
 <pre class="code">my $d = Date.new('2016-06-03');
say $d.does(Dateish);             # True    (Date does role Dateish)
say $d.does(Any);                 # True    (Date is a subclass of Any)
say $d.does(DateTime);            # False   (Date is not a subclass of DateTime)</pre>
 <p>Using the smart match operator <a href="#_routine_~~.pod6">~~</a> is a more idiomatic alternative.</p>
 <pre class="code">my $d = Date.new('2016-06-03');
say $d ~~ Dateish;                # OUTPUT: «True␤»
say $d ~~ Any;                    # OUTPUT: «True␤»
say $d ~~ DateTime;               # OUTPUT: «False␤»</pre>
 <a name="t145.1.5"></a><h2 id="_type_Mu.pod6-routine_Bool">145.1.5 routine Bool</h2>
 <pre class="code">multi sub    Bool(Mu --&gt; Bool:D)
multi method Bool(   --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> on the type object, and <span class="code">True</span> otherwise.</p>
 <p>Many built-in types override this to be <span class="code">False</span> for empty collections, the empty <a href="#_type_Str.pod6">string</a> or numerical zeros</p>
 <pre class="code">say Mu.Bool;                    # OUTPUT: «False␤»
say Mu.new.Bool;                # OUTPUT: «True␤»
say [1, 2, 3].Bool;             # OUTPUT: «True␤»
say [].Bool;                    # OUTPUT: «False␤»
say %( hash =&gt; 'full' ).Bool;   # OUTPUT: «True␤»
say {}.Bool;                    # OUTPUT: «False␤»
say &quot;&quot;.Bool;                    # OUTPUT: «False␤»
say 0.Bool;                     # OUTPUT: «False␤»
say 1.Bool;                     # OUTPUT: «True␤»
say &quot;0&quot;.Bool;                   # OUTPUT: «True␤»</pre>
 <a name="t145.1.6"></a><h2 id="_type_Mu.pod6-method_Capture">145.1.6 method Capture</h2>
 <p>Declared as:</p>
 <pre class="code">method Capture(Mu:D: --&gt; Capture:D)</pre>
 <p>Returns a <a href="#_type_Capture.pod6">Capture</a> with named arguments corresponding to invocant's public attributes:</p>
 <pre class="code">class Foo {
    has $.foo = 42;
    has $.bar = 70;
    method bar { 'something else' }
}.new.Capture.say; # OUTPUT: «\(:bar(&quot;something else&quot;), :foo(42))␤»</pre>
 <a name="t145.1.7"></a><h2 id="_type_Mu.pod6-method_Str">145.1.7 method Str</h2>
 <pre class="code">multi method Str(--&gt; Str)</pre>
 <p>Returns a string representation of the invocant, intended to be machine readable. Method <span class="code">Str</span> warns on type objects, and produces the empty string.</p>
 <pre class="code">say Mu.Str;                     # Use of uninitialized value of type Mu in string context.</pre>
 <a name="t145.1.8"></a><h2 id="_type_Mu.pod6-routine_gist">145.1.8 routine gist</h2>
 <pre class="code">multi sub    gist(+args --&gt; Str)
multi method gist(   --&gt; Str)</pre>
 <p>Returns a string representation of the invocant, optimized for fast recognition by humans. As such lists will be truncated at 100 elements. Use <span class="code">.perl</span> to get all elements.</p>
 <p>The default <span class="code">gist</span> method in <span class="code">Mu</span> re-dispatches to the <a href="#_routine_perl.pod6">perl</a> method for defined invocants, and returns the type name in parenthesis for type object invocants. Many built-in classes override the case of instances to something more specific that may truncate output.</p>
 <p><span class="code">gist</span> is the method that <a href="#_routine_say.pod6">say</a> calls implicitly, so <span class="code">say $something</span> and <span class="code">say $something.gist</span> generally produce the same output.</p>
 <pre class="code">say Mu.gist;        # OUTPUT: «(Mu)␤»
say Mu.new.gist;    # OUTPUT: «Mu.new␤»</pre>
 <a name="t145.1.9"></a><h2 id="_type_Mu.pod6-routine_perl">145.1.9 routine perl</h2>
 <pre class="code">multi method perl(--&gt; Str)</pre>
 <p>Returns a Perlish representation of the object (i.e., can usually be re-evaluated with <a href="#_routine_EVAL.pod6">EVAL</a> to regenerate the object). The exact output of <span class="code">perl</span> is implementation specific, since there are generally many ways to write a Perl expression that produces a particular value</p>
 <a name="t145.1.10"></a><h2 id="_type_Mu.pod6-method_item">145.1.10 method item</h2>
 <pre class="code">method item(Mu \item:) is raw</pre>
 <p>Forces the invocant to be evaluated in item context and returns the value of it.</p>
 <pre class="code">say [1,2,3].item.perl;          # OUTPUT: «$[1, 2, 3]␤»
say %( apple =&gt; 10 ).item.perl; # OUTPUT: «${:apple(10)}␤»
say &quot;abc&quot;.item.perl;            # OUTPUT: «&quot;abc&quot;␤»</pre>
 <a name="t145.1.11"></a><h2 id="_type_Mu.pod6-method_self">145.1.11 method self</h2>
 <pre class="code">method self(--&gt; Mu)</pre>
 <p>Returns the object it is called on.</p>
 <a name="t145.1.12"></a><h2 id="_type_Mu.pod6-method_clone">145.1.12 method clone</h2>
 <pre class="code">method clone(*%twiddles)</pre>
 <p>Creates a shallow clone of the invocant, including shallow cloning of private attributes. Alternative values for <i>public</i> attributes can be provided via named arguments with names matching the attributes' names.</p>
 <pre class="code">class Point2D { 
     has ($.x, $.y); 
     multi method gist(Point2D:D:) { 
         &quot;Point($.x, $.y)&quot;; 
     } 
 } 
 
 my $p = Point2D.new(x =&gt; 2, y =&gt; 3); 
 
 say $p;                     # OUTPUT: «Point(2, 3)␤» 
 say $p.clone(y =&gt; -5);      # OUTPUT: «Point(2, -5)␤» 
</pre>
 <p>Note that <span class="code">.clone</span> does not go the extra mile to shallow-copy <span class="code">@.</span> and <span class="code">%.</span> sigiled attributes and, if modified, the modifications will still be available in the original object:</p>
 <pre class="code">class Foo { 
     has $.foo is rw = 42; 
     has &amp;.boo is rw = { say &quot;Hi&quot; }; 
     has @.bar       = &lt;a b&gt;; 
     has %.baz       = &lt;a b c d&gt;; 
 } 
 
 my $o1 = Foo.new; 
 with my $o2 = $o1.clone { 
     .foo = 70; 
     .bar = &lt;Z Y&gt;; 
     .baz = &lt;Z Y X W&gt;; 
     .boo = { say &quot;Bye&quot; }; 
 } 
 
 # Hash and Array attribute modifications in clone appear in original as well: 
 say $o1;    # OUTPUT: «Foo.new(foo =&gt; 42, bar =&gt; [&quot;Z&quot;, &quot;Y&quot;], baz =&gt; {:X(&quot;W&quot;), :Z(&quot;Y&quot;)}, …␤» 
 say $o2;    # OUTPUT: «Foo.new(foo =&gt; 70, bar =&gt; [&quot;Z&quot;, &quot;Y&quot;], baz =&gt; {:X(&quot;W&quot;), :Z(&quot;Y&quot;)}, …␤» 
 $o1.boo.(); # OUTPUT: «Hi␤» 
 $o2.boo.(); # OUTPUT: «Bye␤» 
</pre>
 <p>To clone those, you could implement your own <span class="code">.clone</span> that clones the appropriate attributes and passes the new values to <span class="code">Mu.clone</span>, for example, via <a href="#_language_functions.pod6-sub_nextwith"><span class="code">nextwith</span></a>. Alternatively, your own <span class="code">.clone</span> could clone self first (using <span class="code">self.Mu::clone</span> or <a href="#_language_functions.pod6-sub_callsame"><span class="code">callsame</span></a>) and then manipulate the clone as needed, before returning it.</p>
 <pre class="code">class Bar { 
     has @.foo = &lt;a b&gt;; 
     has %.bar = &lt;a b c d&gt;; 
     method clone { nextwith :foo(@!foo.clone) :bar(%!bar.clone) } 
 } 
 
 my $o1 = Bar.new; 
 with my $o2 = $o1.clone { 
     .foo = &lt;Z Y&gt;; 
     .bar = &lt;Z Y X W&gt;; 
 } 
 
 # Hash and Array attribute modifications in clone do not affect original: 
 say $o1; # OUTPUT: «Bar.new(foo =&gt; [&quot;a&quot;, &quot;b&quot;], bar =&gt; {:a(&quot;b&quot;), :c(&quot;d&quot;)})␤» 
 say $o2; # OUTPUT: «Bar.new(foo =&gt; [&quot;Z&quot;, &quot;Y&quot;], bar =&gt; {:X(&quot;W&quot;), :Z(&quot;Y&quot;)})␤» 
</pre>
 <a name="t145.1.13"></a><h2 id="_type_Mu.pod6-method_new">145.1.13 method new</h2>
 <pre class="code">multi method new(*%attrinit)</pre>
 <p>Default method for constructing (create + initialize) new objects of a class. This method expects only named arguments which are then used to initialize attributes with accessors of the same name.</p>
 <p>Classes may provide their own <span class="code">new</span> method to override this default.</p>
 <p><span class="code">new</span> triggers an object construction mechanism that calls submethods named <span class="code">BUILD</span> in each class of an inheritance hierarchy, if they exist. See <a href="#_language_objects.pod6-Object_Construction">the documentation on object construction</a> for more information.</p>
 <a name="t145.1.14"></a><h2 id="_type_Mu.pod6-method_bless">145.1.14 method bless</h2>
 <pre class="code">method bless(*%attrinit --&gt; Mu:D)</pre>
 <p>Lower-level object construction method than <span class="code">new</span>.</p>
 <p>Creates a new object of the same type as the invocant, uses the named arguments to initialize attributes, and returns the created object.</p>
 <p>You can use this method when writing custom constructors:</p>
 <pre class="code">class Point {
    has $.x;
    has $.y;
    multi method new($x, $y) {
        self.bless(:$x, :$y);
    }
}
my $p = Point.new(-1, 1);</pre>
 <p>(Though each time you write a custom constructor, remember that it makes subclassing harder).</p>
 <a name="t145.1.15"></a><h2 id="_type_Mu.pod6-method_CREATE">145.1.15 method CREATE</h2>
 <pre class="code">method CREATE(--&gt; Mu:D)</pre>
 <p>Allocates a new object of the same type as the invocant, without initializing any attributes.</p>
 <pre class="code">say Mu.CREATE.defined;  # OUTPUT: «True␤»</pre>
 <a name="t145.1.16"></a><h2 id="_type_Mu.pod6-method_print">145.1.16 method print</h2>
 <pre class="code">multi method print(--&gt; Bool:D)</pre>
 <p>Prints value to <span class="code">$*OUT</span> after stringification using <span class="code">.Str</span> method without adding a newline at end.</p>
 <pre class="code">&quot;abc\n&quot;.print;          # RESULT: «abc␤»</pre>
 <a name="t145.1.17"></a><h2 id="_type_Mu.pod6-method_put">145.1.17 method put</h2>
 <pre class="code">multi method put(--&gt; Bool:D)</pre>
 <p>Prints value to <span class="code">$*OUT</span>, adding a newline at end, and if necessary, stringifying non-<span class="code">Str</span> object using the <span class="code">.Str</span> method.</p>
 <pre class="code">&quot;abc&quot;.put;              # RESULT: «abc␤»</pre>
 <a name="t145.1.18"></a><h2 id="_type_Mu.pod6-method_say">145.1.18 method say</h2>
 <pre class="code">multi method say(--&gt; Bool:D)</pre>
 <p>Prints value to <span class="code">$*OUT</span> after stringification using <a href="#_routine_gist.pod6">gist</a> method with newline at end. To produce machine readable output use <span class="code">.put</span>.</p>
 <pre class="code">say 42;                 # OUTPUT: «42␤»</pre>
 <a name="t145.1.19"></a><h2 id="_type_Mu.pod6-method_ACCEPTS">145.1.19 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Mu:U: $other)</pre>
 <p><span class="code">ACCEPTS</span> is the method that smart matching with the <a href="#_routine_~~.pod6">infix ~~</a> operator and given/when invokes on the right-hand side (the matcher).</p>
 <p>The <span class="code">Mu:U</span> multi performs a type check. Returns <span class="code">True</span> if <span class="code">$other</span> conforms to the invocant (which is always a type object or failure).</p>
 <pre class="code">say 42 ~~ Mu;           # OUTPUT: «True␤»
say 42 ~~ Int;          # OUTPUT: «True␤»
say 42 ~~ Str;          # OUTPUT: «False␤»</pre>
 <p>Note that there is no multi for defined invocants; this is to allow autothreading of <a href="#_type_Junction.pod6">junctions</a>, which happens as a fallback mechanism when no direct candidate is available to dispatch to.</p>
 <a name="t145.1.20"></a><h2 id="_type_Mu.pod6-method_WHICH">145.1.20 method WHICH</h2>
 <pre class="code">multi method WHICH(--&gt; ObjAt:D)</pre>
 <p>Returns an object of type <a href="#_type_ObjAt.pod6">ObjAt</a> which uniquely identifies the object. Value types override this method which makes sure that two equivalent objects return the same return value from <span class="code">WHICH</span>.</p>
 <pre class="code">say 42.WHICH eq 42.WHICH;       # OUTPUT: «True␤»</pre>
 <a name="t145.1.21"></a><h2 id="_type_Mu.pod6-method_WHERE">145.1.21 method WHERE</h2>
 <pre class="code">method WHERE(--&gt; Int)</pre>
 <p>Returns an <span class="code">Int</span> representing the memory address of the object.</p>
 <a name="t145.1.22"></a><h2 id="_type_Mu.pod6-method_WHY">145.1.22 method WHY</h2>
 <pre class="code">multi method WHY(--&gt; Pod::Block::Declarator)</pre>
 <p>Returns the attached Pod::Block::Declarator.</p>
 <p>For instance:</p>
 <pre class="code">#| Initiate a specified spell normally 
 sub cast(Spell $s) { 
   do-raw-magic($s); 
 } 
 #= (do not use for class 7 spells) 
 say &amp;cast.WHY; 
 # OUTPUT: «Initiate a specified spell normally␤(do not use for class 7 spells)␤» 
</pre>
 <p>See <a href="#_language_pod.pod6-Declarator_blocks">Pod declarator blocks</a> for details about attaching Pod to variables, classes, functions, methods, etc.</p>
 <a name="t145.1.23"></a><h2 id="_type_Mu.pod6-trait_is_export">145.1.23 trait is export</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Mu:U \type, :$export!)</pre>
 <p>Marks a type as being exported, that is, available to external users.</p>
 <pre class="code">my class SomeClass is export { }</pre>
 <p>A user of a module or class automatically gets all the symbols imported that are marked as <span class="code">is export</span>.</p>
 <p>See <a href="#_language_modules.pod6-Exporting_and_Selective_Importing">Exporting and Selective Importing Modules</a> for more details.</p>
 <a name="t145.1.24"></a><h2 id="_type_Mu.pod6-method_return">145.1.24 method return</h2>
 <pre class="code">method return()</pre>
 <p>The method <span class="code">return</span> will stop execution of a subroutine or method, run all relevant <a href="#_language_phasers.pod6-Block_Phasers">phasers</a> and provide invocant as a return value to the caller. If a return <a href="#_type_Signature.pod6-Constraining_Return_Types">type constraint</a> is provided it will be checked unless the return value is <span class="code">Nil</span>. A control exception is raised and can be caught with <a href="#_language_phasers.pod6-CONTROL">CONTROL</a>.</p>
 <pre class="code">sub f { (1|2|3).return };
say f(); # OUTPUT: «any(1, 2, 3)␤»</pre>
 <a name="t145.1.25"></a><h2 id="_type_Mu.pod6-method_return-rw">145.1.25 method return-rw</h2>
 <p>Same as method <a href="#_type_Mu.pod6-method_return"><span class="code">return</span></a> except that <a href="#_syntax_return-rw.pod6"><span class="code">return-rw</span></a> returns a writable container to the invocant (see more details here: <a href="#_syntax_return-rw.pod6"><span class="code">return-rw</span></a>).</p>
 <a name="t145.1.26"></a><h2 id="_type_Mu.pod6-method_emit">145.1.26 method emit</h2>
 <pre class="code">method emit()</pre>
 <p>Emits the invocant into the enclosing <a href="#_language_concurrency.pod6-index-entry-supply_(on-demand)">supply</a> or <a href="#_language_concurrency.pod6-index-entry-react">react</a> block.</p>
 <pre class="code">react { whenever supply { .emit for &quot;foo&quot;, 42, .5 } {
    say &quot;received {.^name} ($_)&quot;;
}}

# OUTPUT:
# received Str (foo)
# received Int (42)
# received Rat (0.5)</pre>
 <a name="t145.1.27"></a><h2 id="_type_Mu.pod6-method_take">145.1.27 method take</h2>
 <pre class="code">method take()</pre>
 <p>Returns the invocant in the enclosing <a href="#_language_control.pod6-gather/take">gather</a> block.</p>
 <pre class="code">sub insert($sep, +@list) {
    gather for @list {
        FIRST .take, next;
        take slip $sep, .item
    }
}

say insert ':', &lt;a b c&gt;;
# OUTPUT: «(a : b : c)␤»</pre>
 <a name="t145.1.28"></a><h2 id="_type_Mu.pod6-routine_take">145.1.28 routine take</h2>
 <pre class="code">sub take(\item)</pre>
 <p>Takes the given item and passes it to the enclosing <span class="code">gather</span> block.</p>
 <pre class="code">#| randomly select numbers for lotto
my $num-selected-numbers = 6;
my $max-lotto-numbers = 49;
gather for ^$num-selected-numbers {
    take (1 .. $max-lotto-numbers).pick(1);
}.say;    # six random values</pre>
 <a name="t145.1.29"></a><h2 id="_type_Mu.pod6-routine_take-rw">145.1.29 routine take-rw</h2>
 <pre class="code">sub take-rw(\item)</pre>
 <p>Returns the given item to the enclosing <span class="code">gather</span> block, without introducing a new container.</p>
 <pre class="code">my @a = 1...3;
sub f(@list){ gather for @list { take-rw $_ } };
for f(@a) { $_++ };
say @a;
# OUTPUT: «[2 3 4]␤»</pre>
 <a name="t145.1.30"></a><h2 id="_type_Mu.pod6-method_so">145.1.30 method so</h2>
 <pre class="code">method so()</pre>
 <p>Returns a <span class="code">Bool</span> value representing the logical non-negation of an expression. One can use this method similarly to the English sentence: &quot;If that is <b>so</b>, then do this thing&quot;. For instance,</p>
 <pre class="code">my @args = &lt;-a -e -b -v&gt;;
my $verbose-selected = any(@args) eq '-v' | '-V';
if $verbose-selected.so {
    say &quot;Verbose option detected in arguments&quot;;
} # OUTPUT: «Verbose option detected in arguments␤»</pre>
 <a name="t145.1.31"></a><h2 id="_type_Mu.pod6-method_not">145.1.31 method not</h2>
 <pre class="code">method not()</pre>
 <p>Returns a <span class="code">Bool</span> value representing the logical negation of an expression. Thus it is the opposite of <span class="code">so</span>.</p>
 <pre class="code">my @args = &lt;-a -e -b&gt;;
my $verbose-selected = any(@args) eq '-v' | '-V';
if $verbose-selected.not {
    say &quot;Verbose option not present in arguments&quot;;
} # OUTPUT: «Verbose option not present in arguments␤»</pre>
 <p>Since there is also a prefix version of <span class="code">not</span>, the above code reads better like so:</p>
 <pre class="code">my @args = &lt;-a -e -b&gt;;
my $verbose-selected = any(@args) eq '-v' | '-V';
if not $verbose-selected {
    say &quot;Verbose option not present in arguments&quot;;
} # OUTPUT: «Verbose option not present in arguments␤»</pre>
</div>
<!-- /type/NFC.pod6 --><div class="pod-body"><a id="_type_NFC.pod6"></a><a name="t146"><h1 class="title">146 class NFC</h1></a> <p class="subtitle">Codepoint-String in Normal Form C (Composed)</p> <pre class="code">class NFC is Uni {}</pre>
 <p>A Codepoint string in Unicode Normalization Form C. It is created by Canonical Decomposition, followed by Canonical Composition. For more information on what this means, see <a href="http://www.unicode.org/reports/tr15/">Unicode TR15</a>.</p>
</div>
<!-- /type/NFD.pod6 --><div class="pod-body"><a id="_type_NFD.pod6"></a><a name="t147"><h1 class="title">147 class NFD</h1></a> <p class="subtitle">Codepoint-String in Normal Form D (Decomposed)</p> <pre class="code">class NFD is Uni {}</pre>
 <p>A Codepoint string in the &quot;D&quot; <a href="http://www.unicode.org/reports/tr15/">Unicode Normalization Form</a></p>
</div>
<!-- /type/NFKC.pod6 --><div class="pod-body"><a id="_type_NFKC.pod6"></a><a name="t148"><h1 class="title">148 class NFKC</h1></a> <p class="subtitle">Codepoint-String in Normal Form KC (Compatibility Composed)</p> <pre class="code">class NFKC is Uni {}</pre>
 <p>A Codepoint string in Unicode Normalization Form KC. It is created by Compatibility Decomposition, followed by Canonical Composition. For more information on what this means, see <a href="http://www.unicode.org/reports/tr15/">Unicode TR15</a>.</p>
</div>
<!-- /type/NFKD.pod6 --><div class="pod-body"><a id="_type_NFKD.pod6"></a><a name="t149"><h1 class="title">149 class NFKD</h1></a> <p class="subtitle">Codepoint-String in Normal Form KD (Compatibility Decomposed)</p> <pre class="code">class NFKD is Uni {}</pre>
 <p>A Codepoint string in Unicode Normalization Form KD. It is created by Compatibility Decomposition. For more information on what this means, see <a href="http://www.unicode.org/reports/tr15/">Unicode TR15</a>.</p>
</div>
<!-- /type/Nil.pod6 --><div class="pod-body"><a id="_type_Nil.pod6"></a><a name="t150"><h1 class="title">150 class Nil</h1></a> <p class="subtitle">Absence of a value or a benign failure</p> <pre class="code">class Nil is Cool { }</pre>
 <p>The value <span class="code">Nil</span> may be used to fill a spot where a value would normally go, and in so doing, explicitly indicate that no value is present. It may also be used as a cheaper and less explosive alternative to a <a href="#_type_Failure.pod6"><span class="code">Failure</span></a>. (In fact, class <span class="code">Failure</span> is derived from <span class="code">Nil</span>, so smartmatching <span class="code">Nil</span> will also match <span class="code">Failure</span>.)</p>
 <p>The class <span class="code">Nil</span> is the same exact thing as its only possible value, <span class="code">Nil</span>.</p>
 <pre class="code">say Nil === Nil.new;        # OUTPUT: «True␤»</pre>
 <p>Along with <span class="code">Failure</span>, <span class="code">Nil</span> and its sub classes may always be returned from a routine even when the routine specifies a particular return type. It may also be returned regardless of the definedness of the return type, however, <span class="code">Nil</span> is considered undefined for all other purposes.</p>
 <pre class="code">sub a( --&gt; Int:D ) { return Nil }
a().say;                    # OUTPUT: «Nil␤»</pre>
 <p><span class="code">Nil</span> is what is returned from empty routines or closure, or routines that use a bare <span class="code">return</span> statement.</p>
 <pre class="code">sub a { }; a().say;         # OUTPUT: «Nil␤»
sub b { return }; b().say;  # OUTPUT: «Nil␤»
say (if 1 { });             # OUTPUT: «Nil␤»
{ ; }().say;                # OUTPUT: «Nil␤»
say EVAL &quot;&quot;;                # OUTPUT: «Nil␤»</pre>
 <p>In a list, <span class="code">Nil</span> takes the space of one value. Iterating a <span class="code">Nil</span> behaves like iteration of any non-iterable value, producing a sequence of one <span class="code">Nil</span>. (When you need the other meaning, the special value <a href="#_type_Slip.pod6-Empty">Empty</a> is available to take no spaces when inserted into list, and to return no values when iterated.)</p>
 <pre class="code">(1, Nil, 3).elems.say;      # OUTPUT: «3␤»
(for Nil { $_ }).perl.say;  # OUTPUT: «(Nil,)␤»</pre>
 <p>Any method call on <span class="code">Nil</span> other than those specifically listed below, and consequently, any subscripting operation, will succeed and return <span class="code">Nil</span>.</p>
 <pre class="code">say Nil.ITotallyJustMadeThisUp;  # OUTPUT: «Nil␤»
say (Nil)[100];                  # OUTPUT: «Nil␤»
say (Nil){100};                  # OUTPUT: «Nil␤»</pre>
 <p><span class="indexed"><a id="862" name="Nil assignment"></a></span> When assigned to a <a href="#_language_containers.pod6">container</a>, the <span class="code">Nil</span> value (but not any subclass of <span class="code">Nil</span>) will attempt to revert the container to its default value; if no such default is declared, Perl 6 assumes <span class="code">Any</span>. However, if the container type is constrained with <span class="code">:D</span>, assigning <span class="code">Nil</span> to it will immediately throw an exception. (In contrast, an instantiated <span class="code">Failure</span> matches <span class="code">:D</span> because it's a definite value, but will fail to match the actual nominal type unless it happens to be a parent class of <span class="code">Failure</span>.) Native types can not have default values nor hold a type object. Assigning <span class="code">Nil</span> to a native type container will fail with a runtime error.</p>
 <pre class="code">my Int $x = 42;
$x = Nil;
$x.say;                     # OUTPUT: «(Int)␤»

sub f( --&gt; Int:D ){ Nil };  # this definedness constraint is ignored
my Int:D $i = f;            # this definedness constraint is not ignored, so throws
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $y; expected Int but got Any (Any)»

sub g( --&gt; Int:D ){ fail &quot;oops&quot; }; # this definedness constraint is ignored
my Any:D $h = g;                   # failure object matches Any:D, so is assigned</pre>
 <p>but</p>
 <pre class="code">my Int:D $j = g; 
 # It will throw both exceptions: 
 # Earlier failure: 
 #  oops 
 #   in sub g at &lt;unknown file&gt; line 1 
 #   in block &lt;unit&gt; at &lt;unknown file&gt; line 1 
 # 
 # Final error: 
 #  Type check failed in assignment to $j; expected Int:D but got Failure (Failure.new(exception...) 
 #   in block &lt;unit&gt; at &lt;unknown file&gt; line 1 
</pre>
 <p>Because an untyped variable is type <span class="code">Any</span>, assigning a <span class="code">Nil</span> to one will result in an <a href="#_type_Any.pod6">(Any)</a> type object.</p>
 <pre class="code">my $x = Nil;
$x.say;          # OUTPUT: «(Any)␤»
my Int $y = $x;  # will throw an exception
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $y; expected Int but got Any (Any)␤»</pre>
 <p>If you are looking for a variable which transforms objects into type objects when said variable appears on the RHS, you can type the container as <span class="code">Nil</span>.</p>
 <pre class="code">my Nil $x;
my Str $s = $x;
$s.say;          # OUTPUT: «(Str)␤»</pre>
 <p>There is an important exception to this transforms-into-type-object rule: assigning <span class="code">Nil</span> to a variable which has a default will restore that default.</p>
 <pre class="code">my Int $x is default(42) = -1;
my $y = 1;
for $x, $y -&gt; $val is rw { $val = Nil unless $val &gt; 0 }
$x.say;          # OUTPUT: «42␤»</pre>
 <a name="t150.1"></a><h1 id="_type_Nil.pod6-Methods">150.1 Methods</h1>
 <a name="t150.1.1"></a><h2 id="_type_Nil.pod6-method_append">150.1.1 method append</h2>
 <pre class="code">method append(*@)</pre>
 <p>Warns the user that they tried to append onto a <span class="code">Nil</span>.</p>
 <a name="t150.1.2"></a><h2 id="_type_Nil.pod6-method_gist">150.1.2 method gist</h2>
 <pre class="code">method gist(--&gt; Str:D)</pre>
 <p>Returns <span class="code">&quot;Nil&quot;</span>.</p>
 <a name="t150.1.3"></a><h2 id="_type_Nil.pod6-method_Str">150.1.3 method Str</h2>
 <pre class="code">method Str()</pre>
 <p>Warns the user that they tried to stringify a <span class="code">Nil</span>.</p>
 <a name="t150.1.4"></a><h2 id="_type_Nil.pod6-method_new">150.1.4 method new</h2>
 <pre class="code">method new(*@)</pre>
 <p>Returns <span class="code">Nil</span></p>
 <a name="t150.1.5"></a><h2 id="_type_Nil.pod6-method_prepend">150.1.5 method prepend</h2>
 <pre class="code">method prepend(*@)</pre>
 <p>Warns the user that they tried to prepend onto a <span class="code">Nil</span>.</p>
 <a name="t150.1.6"></a><h2 id="_type_Nil.pod6-method_push">150.1.6 method push</h2>
 <pre class="code">method push(*@)</pre>
 <p>Warns the user that they tried to push onto a <span class="code">Nil</span>.</p>
 <a name="t150.1.7"></a><h2 id="_type_Nil.pod6-method_unshift">150.1.7 method unshift</h2>
 <pre class="code">method unshift(*@)</pre>
 <p>Warns the user that they tried to unshift onto a <span class="code">Nil</span>.</p>
 <a name="t150.1.8"></a><h2 id="_type_Nil.pod6-method_Numeric">150.1.8 method Numeric</h2>
 <pre class="code">method Numeric()</pre>
 <p>Warns the user that they tried to numify a <span class="code">Nil</span>.</p>
</div>
<!-- /type/Num.pod6 --><div class="pod-body"><a id="_type_Num.pod6"></a><a name="t151"><h1 class="title">151 class Num</h1></a> <p class="subtitle">Floating-point number</p> <pre class="code">class Num is Cool does Real { }</pre>
 <p>A <span class="code">Num</span> object stores a floating-point number. It is immutable. On most platforms, it's an IEEE 754 64-bit floating point numbers, aka &quot;double precision&quot;.</p>
 <a name="t151.0.1"></a><h2 id="_type_Num.pod6-Inf">151.0.1 Inf</h2>
 <p>The value <span class="indexed"><a id="863" name="Inf (definition)"><span class="code">Inf</span></a></span> is an instance of <span class="code">Num</span> and represents value that's too large to represent in 64-bit double-precision floating point number (roughly, above <span class="code">1.7976931348623158e308</span> for positive <span class="code">Inf</span> and below <span class="code">-1.7976931348623157e308</span> for negative <span class="code">Inf</span>) as well as returned from certain operations as defined by the IEEE 754-2008 standard.</p>
 <pre class="code">say 2e300 ** 2e300; # OUTPUT: «Inf␤»
say (-1/0).Num;     # OUTPUT: «-Inf␤»</pre>
 <p>The <span class="indexed"><a id="864" name="∞ (definition)"><span class="code">∞</span></a></span> <span class="code">U+221E</span> Unicode character can be used instead of the word <span class="code">Inf</span> and can be handy when <span class="code">Inf</span> would otherwise require an <a href="#_language_syntax.pod6-Unspace">unspace</a>, such as when writing <a href="#_type_Complex.pod6">Complex</a> numbers:</p>
 <pre class="code">say Inf+Inf\i; # Backslash (unspace) before `i` required
say ∞+∞i;      # No backslash is needed</pre>
 <p>Note that there are just two infinities (positive and negative), so even if an operation that would instinctively give a &quot;larger&quot; infinity is performed, the result in still an infinity of the original magnitude. The infinities can be compared and operated as if they were simply a number that's too big to represent:</p>
 <pre class="code">say ∞²;              # OUTPUT: «Inf␤»
say 42 + Inf === ∞;  # OUTPUT: «True␤»
say atan ∞;          # OUTPUT: «1.5707963267949␤»
say -∞ &lt; 42 &lt; ∞;     # OUTPUT: «True␤»</pre>
 <p>Division of an infinity by an infinity results in a <span class="code">NaN</span>:</p>
 <pre class="code">say ∞/∞;             # OUTPUT: «NaN␤»</pre>
 <a name="t151.0.2"></a><h2 id="_type_Num.pod6-NaN">151.0.2 NaN</h2>
 <p>The value <span class="indexed"><a id="865" name="NaN (definition)"><span class="code">NaN</span></a></span> is an instance of <span class="code">Num</span> and represents a floating point not-a-number value, which is returned from some routines where a concrete number as the answer is not defined, but a <a href="#_type_Numeric.pod6">Numeric</a> value is still acceptable. <span class="code">NaN</span> is <a href="#_routine_defined.pod6">defined</a> and <a href="#_routine_Bool.pod6">boolifies</a> to <span class="code">True</span>, but is <i>not</i> numerically equal to any value (including itself).</p>
 <pre class="code">say cos ∞;     # OUTPUT: «NaN␤»
say (0/0).Num; # OUTPUT: «NaN␤»</pre>
 <p>To test for <span class="code">NaN</span>, use <a href="#_routine_isNaN.pod6">isNaN</a> method or <a href="#_language_operators.pod6-infix_===">=== operator</a>:</p>
 <pre class="code">say (0/0).isNaN;       # OUTPUT: «True␤»
say (0/0).Num === NaN; # OUTPUT: «True␤»</pre>
 <a name="t151.0.3"></a><h2 id="_type_Num.pod6-method_rand">151.0.3 method rand</h2>
 <pre class="code">method rand(Num:D: --&gt; Num)</pre>
 <p>Returns a pseudo random number between 0 and the invocant.</p>
 <a name="t151.0.4"></a><h2 id="_type_Num.pod6-sub_srand">151.0.4 sub srand</h2>
 <pre class="code">sub srand(Int $seed --&gt; Int:D)</pre>
 <p>Seeds the pseudo random number generator used by <a href="#_type_Num.pod6-rand">Num.rand</a> with the provided value. Note that <span class="code">srand</span> is called with a platform dependent value when a Perl 6 program is started.</p>
 <a name="t151.0.5"></a><h2 id="_type_Num.pod6-method_Capture">151.0.5 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
 <a name="t151.0.6"></a><h2 id="_type_Num.pod6-Int">151.0.6 Int</h2>
 <pre class="code">method Int(Num:D:)</pre>
 <p>Converts the number to an <a href="#_type_Int.pod6">Int</a>. <a href="#_routine_fail.pod6">Fails</a> with <span class="code">X::Numeric::CannotConvert</span> if the invocant <a href="#_routine_isNaN.pod6">is a  <span class="code">NaN</span></a> or <span class="code">Inf</span>/<span class="code">-Inf</span>. No <a href="#_routine_round.pod6">rounding</a> is performed.</p>
 <a name="t151.0.7"></a><h2 id="_type_Num.pod6-Rat">151.0.7 Rat</h2>
 <pre class="code">method Rat(Num:D: Real $epsilon = 1e-6)</pre>
 <p>Converts the number to a <a href="#_type_Rat.pod6">Rat</a> with the precision <span class="code">$epsilon</span>. If invocant is a <span class="code">Inf</span>, <span class="code">-Inf</span>, or a <span class="code">NaN</span>, converts them to a <a href="#_type_Rat.pod6">Rat</a> with <span class="code">0</span> <a href="#_routine_denominator.pod6">denominator</a> and <span class="code">1</span>, <span class="code">-1</span>, or <span class="code">0</span> <a href="#_routine_numerator.pod6">numerator</a>, respectively.</p>
 <a name="t151.0.8"></a><h2 id="_type_Num.pod6-FatRat">151.0.8 FatRat</h2>
 <pre class="code">method FatRat(Num:D: Real $epsilon = 1e-6)</pre>
 <p>Converts the number to a <a href="#_type_FatRat.pod6">FatRat</a> with the precision <span class="code">$epsilon</span>. If invocant is a <span class="code">Inf</span>, <span class="code">-Inf</span>, or a <span class="code">NaN</span>, converts them to a <a href="#_type_FatRat.pod6">FatRat</a> with <span class="code">0</span> <a href="#_routine_denominator.pod6">denominator</a> and <span class="code">1</span>, <span class="code">-1</span>, or <span class="code">0</span> <a href="#_routine_numerator.pod6">numerator</a>, respectively.</p>
</div>
<!-- /type/NumStr.pod6 --><div class="pod-body"><a id="_type_NumStr.pod6"></a><a name="t152"><h1 class="title">152 class NumStr</h1></a> <p class="subtitle">Dual Value Floating-point number and String</p> <pre class="code">class NumStr is Num is Str { }</pre>
 <p>The dual value types (often referred to as <a href="#_language_glossary.pod6-Allomorph">allomorphs</a>) allow for the representation of a value as both a string and a numeric type, typically they will be created for you when the context is &quot;stringy&quot; but they can be determined to be numbers, such as in some <a href="#_language_quoting.pod6">quoting constructs</a>:</p>
 <pre class="code">my $f = &lt;42.1e0&gt;; say $f.^name; # OUTPUT: «NumStr␤»</pre>
 <p>As a subclass of both <a href="#_type_Num.pod6"><span class="code">Num</span></a> and <a href="#_type_Str.pod6"><span class="code">Str</span></a>, a <span class="code">NumStr</span> will be accepted where either is expected. However, <span class="code">NumStr</span> does not share object identity with <span class="code">Num</span>- or <span class="code">Str</span>-only variants:</p>
 <pre class="code">my $num-str = &lt;42e10&gt;;
my Num $num = $num-str; # OK!
my Str $str = $num-str; # OK!
say 42e10 ∈ &lt;42e10  55  1&gt;; # False; ∈ operator cares about object identity</pre>
 <a name="t152.1"></a><h1 id="_type_NumStr.pod6-Methods">152.1 Methods</h1>
 <a name="t152.1.1"></a><h2 id="_type_NumStr.pod6-method_new">152.1.1 method new</h2>
 <pre class="code">method new(Num $i, Str $s)</pre>
 <p>The constructor requires both the <span class="code">Num</span> and the <span class="code">Str</span> value, when constructing one directly the values can be whatever is required:</p>
 <pre class="code">my $f = NumStr.new(42.1e0, &quot;forty two and a bit&quot;);
say +$f; # OUTPUT: «42.1␤»
say ~$f; # OUTPUT: «&quot;forty two and a bit&quot;␤»</pre>
 <a name="t152.1.2"></a><h2 id="_type_NumStr.pod6-method_Bool">152.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(NumStr:D: --&gt; Bool:D)</pre>
 <p><i>This method may be provided by the parent classes and not implemented in NumStr directly</i>.</p>
 <p>Returns <span class="code">False</span> if the invocant is numerically <span class="code">±0e0</span>, otherwise returns <span class="code">True</span>. String portion is not considered.</p>
 <a name="t152.1.3"></a><h2 id="_type_NumStr.pod6-method_Num">152.1.3 method Num</h2>
 <pre class="code">method Num</pre>
 <p>Returns the <span class="code">Num</span> value of the <span class="code">NumStr</span>.</p>
 <a name="t152.1.4"></a><h2 id="_type_NumStr.pod6-method_Numeric">152.1.4 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Numeric(NumStr:D: --&gt; Num:D)
multi method Numeric(NumStr:U: --&gt; Num:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0e0</span>.</p>
 <a name="t152.1.5"></a><h2 id="_type_NumStr.pod6-method_Real">152.1.5 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(NumStr:D: --&gt; Num:D)
multi method Real(NumStr:U: --&gt; Num:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0e0</span>.</p>
 <a name="t152.1.6"></a><h2 id="_type_NumStr.pod6-method_Str">152.1.6 method Str</h2>
 <p>Returns the string value of the <span class="code">NumStr</span>.</p>
 <a name="t152.1.7"></a><h2 id="_type_NumStr.pod6-method_ACCEPTS">152.1.7 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(NumStr:D: Any:D $value)</pre>
 <p>If <span class="code">$value</span> is <a href="#_type_Numeric.pod6">Numeric</a> (including another <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorph</a>), checks if invocant's <a href="#_type_Numeric.pod6">Numeric</a> part <a href="#_type_Numeric.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If <span class="code">$value</span> is <a href="#_type_Str.pod6">Str</a>, checks if invocant's <a href="#_type_Str.pod6">Str</a> part <a href="#_type_Str.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If value is anything else, checks if both <a href="#_type_Numeric.pod6">Numeric</a> and <a href="#_type_Str.pod6">Str</a> parts <span class="code">ACCEPTS</span> the <span class="code">$value</span>.</p>
 <pre class="code">say &lt;5e0&gt; ~~ &quot;5.0&quot;; # OUTPUT: «False␤»
say &lt;5e0&gt; ~~  5.0 ; # OUTPUT: «True␤»
say &lt;5e0&gt; ~~ &lt;5.0&gt;; # OUTPUT: «True␤»</pre>
 <a name="t152.2"></a><h1 id="_type_NumStr.pod6-Operators">152.2 Operators</h1>
 <a name="t152.2.1"></a><h2 id="_type_NumStr.pod6-infix_cmp">152.2.1 infix cmp</h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(NumStr:D $a, NumStr:D $b)</pre>
 <p>Compare two <span class="code">NumStr</span> objects. The comparison is done on the <span class="code">Num</span> value first and then on the <span class="code">Str</span> value. If you want to compare in a different order then you would coerce to a <span class="code">Num</span> or <span class="code">Str</span> value first:</p>
 <pre class="code">my $f = NumStr.new(42.1e0, &quot;smaller&quot;);
my $g = NumStr.new(43.1e0, &quot;larger&quot;);
say $f cmp $g;          # OUTPUT: «Less␤»
say $f.Str cmp $g.Str;  # OUTPUT: «More␤»</pre>
</div>
<!-- /type/Numeric.pod6 --><div class="pod-body"><a id="_type_Numeric.pod6"></a><a name="t153"><h1 class="title">153 role Numeric</h1></a> <p class="subtitle">Number or object that can act as a number</p> <pre class="code">role Numeric { ... }</pre>
 <p>Common role for numbers and types that can act as numbers.</p>
 <p>Binary numeric operations return an object of the &quot;wider&quot; type:</p>
 <pre class="code">Int         narrowest 
 Rat 
 FatRat 
 Num 
 Complex     widest 
</pre>
 <p>So for example the product of a <a href="#_type_Rat.pod6">Rat</a> and an <a href="#_type_Int.pod6">Int</a> is a <a href="#_type_Rat.pod6">Rat</a>.</p>
 <p>Unary operations that in pure math usually return an irrational number generally return <a href="#_type_Num.pod6">Num</a> in Perl 6.</p>
 <a name="t153.1"></a><h1 id="_type_Numeric.pod6-Methods">153.1 Methods</h1>
 <a name="t153.1.1"></a><h2 id="_type_Numeric.pod6-method_Numeric">153.1.1 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Numeric(Numeric:D: --&gt; Numeric:D)
multi method Numeric(Numeric:U: --&gt; Numeric:D)</pre>
 <p>The <span class="code">:D</span> variant simply returns the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns <span class="code">self.new</span>.</p>
 <a name="t153.1.2"></a><h2 id="_type_Numeric.pod6-method_Int">153.1.2 method Int</h2>
 <pre class="code">method Int(Numeric:D: --&gt; Int:D)</pre>
 <p>If this <span class="code">Numeric</span> is equivalent to a <span class="code">Real</span>, return the equivalent of calling <span class="code">truncate</span> on that <span class="code">Real</span> to get an <span class="code">Int</span>. Fail with <span class="code">X::Numeric::Real</span> otherwise.</p>
 <a name="t153.1.3"></a><h2 id="_type_Numeric.pod6-method_Rat">153.1.3 method Rat</h2>
 <pre class="code">method Rat(Numeric:D: Real $epsilon = 1.0e-6 --&gt; Rat:D)</pre>
 <p>If this <span class="code">Numeric</span> is equivalent to a <span class="code">Real</span>, return a <span class="code">Rat</span> which is within <span class="code">$epsilon</span> of that <span class="code">Real</span>'s value. Fail with <span class="code">X::Numeric::Real</span> otherwise.</p>
 <a name="t153.1.4"></a><h2 id="_type_Numeric.pod6-method_Num">153.1.4 method Num</h2>
 <pre class="code">method Num(Numeric:D: --&gt; Num:D)</pre>
 <p>If this <span class="code">Numeric</span> is equivalent to a <span class="code">Real</span>, return that <span class="code">Real</span> as a <span class="code">Num</span> as accurately as is possible. Fail with <span class="code">X::Numeric::Real</span> otherwise.</p>
 <a name="t153.1.5"></a><h2 id="_type_Numeric.pod6-method_narrow">153.1.5 method narrow</h2>
 <pre class="code">method narrow(Numeric:D --&gt; Numeric:D)</pre>
 <p>Returns the number converted to the narrowest type that can hold it without loss of precision.</p>
 <pre class="code">say (4.0 + 0i).narrow.perl;     # OUTPUT: «4␤»
say (4.0 + 0i).narrow.^name;    # OUTPUT: «Int␤»</pre>
 <a name="t153.1.6"></a><h2 id="_type_Numeric.pod6-method_ACCEPTS">153.1.6 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Numeric:D: $other)</pre>
 <p>Returns <span class="code">True</span> if <span class="code">$other</span> can be coerced to <a href="#_type_Numeric.pod6">Numeric</a> and is <a href="#_routine_==.pod6">numerically equal</a> to the invocant (or both evaluate to <span class="code">NaN</span>).</p>
 <a name="t153.1.7"></a><h2 id="_type_Numeric.pod6-routine_log">153.1.7 routine log</h2>
 <pre class="code">multi sub    log(Numeric:D, Numeric $base = e --&gt; Numeric:D)
multi method log(Numeric:D: Numeric $base = e --&gt; Numeric:D)</pre>
 <p>Calculates the logarithm to base <span class="code">$base</span>. Defaults to the natural logarithm. Returns <span class="code">NaN</span> if <span class="code">$base</span> is negative. Throws an exception if <span class="code">$base</span> is <span class="code">1</span>.</p>
 <a name="t153.1.8"></a><h2 id="_type_Numeric.pod6-routine_log10">153.1.8 routine log10</h2>
 <pre class="code">multi sub    log10(Numeric:D  --&gt; Numeric:D)
multi method log10(Numeric:D: --&gt; Numeric:D)</pre>
 <p>Calculates the logarithm to base 10. Returns <span class="code">NaN</span> for negative arguments and <span class="code">-Inf</span> for <span class="code">0</span>.</p>
 <a name="t153.1.9"></a><h2 id="_type_Numeric.pod6-routine_exp">153.1.9 routine exp</h2>
 <pre class="code">multi sub    exp(Numeric:D, Numeric:D $base = e --&gt; Numeric:D)
multi method exp(Numeric:D: Numeric:D $base = e --&gt; Numeric:D)</pre>
 <p>Returns <span class="code">$base</span> to the power of the number, or <span class="code">e</span> to the power of the number if called without a second argument.</p>
 <a name="t153.1.10"></a><h2 id="_type_Numeric.pod6-method_roots">153.1.10 method roots</h2>
 <pre class="code">multi method roots(Numeric:D: Int:D $n --&gt; Positional)</pre>
 <p>Returns a list of the <span class="code">$n</span> complex roots, which evaluate to the original number when raised to the <span class="code">$n</span>th power.</p>
 <a name="t153.1.11"></a><h2 id="_type_Numeric.pod6-routine_abs">153.1.11 routine abs</h2>
 <pre class="code">multi sub    abs(Numeric:D  --&gt; Real:D)
multi method abs(Numeric:D: --&gt; Real:D)</pre>
 <p>Returns the absolute value of the number.</p>
 <a name="t153.1.12"></a><h2 id="_type_Numeric.pod6-routine_sqrt">153.1.12 routine sqrt</h2>
 <pre class="code">multi sub    sqrt(Numeric:D --&gt; Numeric:D)
multi method sqrt(Numeric:D --&gt; Numeric:D)</pre>
 <p>Returns a square root of the number. For real numbers the positive square root is returned.</p>
 <p>On negative real numbers, <span class="code">sqrt</span> returns <a href="#_type_Num.pod6-NaN"><span class="code">NaN</span></a> rather than a complex number, in order to not confuse people who are not familiar with complex arithmetic. If you want to calculate complex square roots, coerce to <span class="code">Complex</span> first, or use the <span class="code">roots</span> method.</p>
 <a name="t153.1.13"></a><h2 id="_type_Numeric.pod6-method_conj">153.1.13 method conj</h2>
 <pre class="code">multi method conj(Numeric:D --&gt; Numeric:D)</pre>
 <p>Returns the complex conjugate of the number. Returns the number itself for real numbers.</p>
 <a name="t153.1.14"></a><h2 id="_type_Numeric.pod6-method_Bool">153.1.14 method Bool</h2>
 <pre class="code">multi method Bool(Numeric:D:)</pre>
 <p>Returns <span class="code">False</span> if the number is equivalent to zero, and <span class="code">True</span> otherwise.</p>
 <a name="t153.1.15"></a><h2 id="_type_Numeric.pod6-method_succ">153.1.15 method succ</h2>
 <pre class="code">method succ(Numeric:D:)</pre>
 <p>Returns the number incremented by one (successor).</p>
 <a name="t153.1.16"></a><h2 id="_type_Numeric.pod6-method_pred">153.1.16 method pred</h2>
 <pre class="code">method pred(Numeric:D:)</pre>
 <p>Returns the number decremented by one (predecessor).</p>
</div>
<!-- /type/ObjAt.pod6 --><div class="pod-body"><a id="_type_ObjAt.pod6"></a><a name="t154"><h1 class="title">154 class ObjAt</h1></a> <p class="subtitle">Unique identification for an object</p> <pre class="code">class ObjAt { }</pre>
 <p>Objects of type <span class="code">ObjAt</span> are the return value of <span class="code">.WHICH</span> calls on other objects, and identify an object uniquely.</p>
 <p>If two objects compare equally via <span class="code">===</span>, their <span class="code">.WHICH</span> methods return the same ObjAt object.</p>
</div>
<!-- /type/Order.pod6 --><div class="pod-body"><a id="_type_Order.pod6"></a><a name="t155"><h1 class="title">155 enum Order</h1></a> <p class="subtitle">Human readable form for comparison operators.</p> <pre class="code">enum Order (:Less(-1), :Same(0), :More(1));</pre>
 <a name="t155.1"></a><h1 id="_type_Order.pod6-Operators">155.1 Operators</h1>
 <a name="t155.1.1"></a><h2 id="_type_Order.pod6-infix_cmp">155.1.1 infix cmp</h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(\a, \b --&gt; Order:D)</pre>
 <p>Coerces its arguments to Stringy.</p>
 <a name="t155.1.2"></a><h2 id="_type_Order.pod6-infix_&lt;=&gt;">155.1.2 infix &lt;=&gt;</h2>
 <pre class="code">multi sub infix:«&lt;=&gt;»(Int:D \a, Int:D \b --&gt; Order:D)</pre>
 <p>Specialized form for Int.</p>
</div>
<!-- /type/Pair.pod6 --><div class="pod-body"><a id="_type_Pair.pod6"></a><a name="t156"><h1 class="title">156 class Pair</h1></a> <p class="subtitle">Key/value pair</p> <pre class="code">class Pair does Associative {}</pre>
 <p>Consists of two parts, a <i>key</i> and a <i>value</i>. <span class="code">Pair</span>s can be seen as the atomic units in <span class="code">Hash</span>es, and they are also used in conjunction with named arguments and parameters.</p>
 <p><span class="indexed"><a id="866" name="colon pair (Pair)"></a></span> <span class="indexed"><a id="867" name=":"></a></span> <span class="indexed"><a id="868" name="=&gt; "></a></span> <span class="indexed"><a id="869" name=":!"></a></span> <span class="indexed"><a id="870" name=":$"></a></span> There are many syntaxes for creating <span class="code">Pair</span>s:</p>
 <pre class="code">Pair.new('key', 'value'); # The canonical way
'key' =&gt; 'value';         # this...
:key&lt;value&gt;;              # ...means the same as this
:key&lt;value1 value2&gt;;      # But this is  key =&gt; &lt;value1 value2&gt;
:foo(127);                # short for  foo =&gt; 127
:127foo;                  # the same   foo =&gt; 127</pre>
 <p>Variants of this are</p>
 <pre class="code">:key;                     # same as   key =&gt; True
:!key;                    # same as   key =&gt; False</pre>
 <p><span class="indexed"><a id="871" name="colon list (Pair)"></a></span> Colon pairs can be chained without a comma to create a List of Pairs. Depending on context you may have to be explicit when assigning colon lists.</p>
 <pre class="code">sub s(*%h){ say %h.perl };
s :a1:b2;
# OUTPUT: «{:a1, :b2}␤»

my $manna = :a1:b2:c3;
say $manna.^name;
# OUTPUT: «Pair␤»

$manna = (:a1:b2:c3);
say $manna.^name;
# OUTPUT: «List␤»</pre>
 <p>Any variable can be turned into a <span class="code">Pair</span> of its name and its value.</p>
 <pre class="code">my $bar = 10;
my $p   = :$bar;
say $p; # OUTPUT: «bar =&gt; 10␤»</pre>
 <p>It is worth noting that when assigning a <a href="#_type_Scalar.pod6">Scalar</a> as value of a <span class="code">Pair</span> the value holds the container of the value itself. This means that it is possible to change the value from outside of the <span class="code">Pair</span> itself:</p>
 <pre class="code">my $v = 'value A'; 
 my $pair = a =&gt; $v; 
 $pair.say;  # OUTPUT: a =&gt; value A 
 
 $v = 'value B'; 
 $pair.say; # OUTPUT: a =&gt; value B 
</pre>
 <p>Please also note that this behavior is totally unrelated to the way used to build the <span class="code">Pair</span> itself (i.e., explicit usage of <span class="code">new</span>, use of colon, fat arrow), as well as if the <span class="code">Pair</span> is bound to a variable.</p>
 <p>It is possible to change the above behaviour forcing the <span class="code">Pair</span> to remove the scalar container and to hold the effective value itself via the method <a href="#_type_Pair.pod6-method_freeze">freeze</a>:</p>
 <pre class="code">my $v = 'value B'; 
 my $pair = a =&gt; $v; 
 $pair.freeze; 
 $v = 'value C'; 
 $pair.say; # OUTPUT: a =&gt; value B 
</pre>
 <a name="t156.1"></a><h1 id="_type_Pair.pod6-Methods">156.1 Methods</h1>
 <a name="t156.1.1"></a><h2 id="_type_Pair.pod6-method_new">156.1.1 method new</h2>
 <p>Defined as:</p>
 <pre class="code">multi method new(Pair: Mu  $key, Mu  $value)
multi method new(Pair: Mu :$key, Mu :$value)</pre>
 <p>Constructs a new <a href="#_type_Pair.pod6">Pair</a> object.</p>
 <a name="t156.1.2"></a><h2 id="_type_Pair.pod6-method_ACCEPTS">156.1.2 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(Pair:D $: %topic)
multi method ACCEPTS(Pair:D $: Pair:D $topic)
multi method ACCEPTS(Pair:D $: Mu $topic)</pre>
 <p>If <span class="code">topic</span> is an <a href="#_type_Associative.pod6">Associative</a>, looks up the value using invocant's key in it and checks invocant's value <span class="code">.ACCEPTS</span> that value:</p>
 <pre class="code">say %(:42a) ~~ :42a; # OUTPUT: «True␤»
say %(:42a) ~~ :10a; # OUTPUT: «False␤»</pre>
 <p>If <span class="code">topic</span> is another <a href="#_type_Pair.pod6">Pair</a>, checks the invocant's value <span class="code">.ACCEPTS</span> the <span class="code">topic's</span> value. Note that the keys are not considered and can be different:</p>
 <pre class="code">say :42a ~~ :42a; # OUTPUT: «True␤»
say :42z ~~ :42a; # OUTPUT: «True␤»
say :10z ~~ :42a; # OUTPUT: «False␤»</pre>
 <p>If <span class="code">topic</span> is any other value, uses the invocant's key as the name of the method to call on <span class="code">topic</span> and check's its <a href="#_routine_Bool.pod6"><span class="code">.Bool</span></a> is the same as <span class="code">.Bool</span> of the invocant's value. This form can be used to check <a href="#_type_Bool.pod6">Bool</a> values of multiple methods on the same object, such as <a href="#_type_IO::Path.pod6">IO::Path</a>, by using <a href="#_type_Junction.pod6">Junctions</a>:</p>
 <pre class="code">say &quot;foo&quot; .IO ~~ :f &amp; :rw; # OUTPUT: «False␤»
say &quot;/tmp&quot;.IO ~~ :!f;      # OUTPUT: «True␤»
say &quot;.&quot;   .IO ~~ :f | :d;  # OUTPUT: «True␤»</pre>
 <a name="t156.1.3"></a><h2 id="_type_Pair.pod6-method_antipair">156.1.3 method antipair</h2>
 <p>Defined as:</p>
 <pre class="code">method antipair(--&gt; Pair:D)</pre>
 <p>Returns a new <span class="code">Pair</span> object with key and value exchanged.</p>
 <pre class="code">my $p = (6 =&gt; 'Perl').antipair;
say $p.key;         # OUTPUT: «Perl␤»
say $p.value;       # OUTPUT: «6␤»</pre>
 <a name="t156.1.4"></a><h2 id="_type_Pair.pod6-method_key">156.1.4 method key</h2>
 <p>Defined as:</p>
 <pre class="code">multi method key(Pair:D:)</pre>
 <p>Returns the <i>key</i> part of the <span class="code">Pair</span>.</p>
 <pre class="code">my $p = (Perl =&gt; 6);
say $p.key; # OUTPUT: «Perl␤»</pre>
 <a name="t156.1.5"></a><h2 id="_type_Pair.pod6-method_value">156.1.5 method value</h2>
 <p>Defined as:</p>
 <pre class="code">multi method value(Pair:D:) is rw</pre>
 <p>Returns the <i>value</i> part of the <span class="code">Pair</span>.</p>
 <pre class="code">my $p = (Perl =&gt; 6);
say $p.value; # OUTPUT: «6␤»</pre>
 <a name="t156.1.6"></a><h2 id="_type_Pair.pod6-infix_cmp">156.1.6 infix cmp</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub infix:&lt;cmp&gt;(Pair:D, Pair:D)</pre>
 <p>The type-agnostic comparator; compares two <span class="code">Pair</span>s. Compares first their <i>key</i> parts, and then compares the <i>value</i> parts if the keys are equal.</p>
 <pre class="code">my $a = (Apple =&gt; 1);
my $b = (Apple =&gt; 2);
say $a cmp $b; # OUTPUT: «Less␤»</pre>
 <a name="t156.1.7"></a><h2 id="_type_Pair.pod6-method_fmt">156.1.7 method fmt</h2>
 <p>Defined as:</p>
 <pre class="code">multi method fmt(Pair:D: Str:D $format --&gt; Str:D)</pre>
 <p>Takes a <i>format string</i>, and returns a string the <i>key</i> and <i>value</i> parts of the <span class="code">Pair</span> formatted. Here's an example:</p>
 <pre class="code">my $pair = :Earth(1);
say $pair.fmt(&quot;%s is %.3f AU away from the sun&quot;)
# OUTPUT: «Earth is 1.000 AU away from the sun␤»</pre>
 <p>For more about format strings, see <a href="#_routine_sprintf.pod6">sprintf</a>.</p>
 <a name="t156.1.8"></a><h2 id="_type_Pair.pod6-method_kv">156.1.8 method kv</h2>
 <p>Defined as:</p>
 <pre class="code">multi method kv(Pair:D: --&gt; List:D)</pre>
 <p>Returns a two-element <span class="code">List</span> with the <i>key</i> and <i>value</i> parts of <span class="code">Pair</span>, in that order. This method is a special case of the same-named method on <span class="code">Hash</span>, which returns all its entries as a list of keys and values.</p>
 <pre class="code">my $p = (Perl =&gt; 6);
say $p.kv[0]; # OUTPUT: «Perl␤»
say $p.kv[1]; # OUTPUT: «6␤»</pre>
 <a name="t156.1.9"></a><h2 id="_type_Pair.pod6-method_pairs">156.1.9 method pairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method pairs(Pair:D:)</pre>
 <p>Returns a list of one <span class="code">Pair</span>, namely this one.</p>
 <pre class="code">my $p = (Perl =&gt; 6);
say $p.pairs.^name; # OUTPUT: «List␤»
say $p.pairs[0];    # OUTPUT: «Perl =&gt; 6␤»</pre>
 <a name="t156.1.10"></a><h2 id="_type_Pair.pod6-method_antipairs">156.1.10 method antipairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method antipairs(Pair:D:)</pre>
 <p>Returns a <a href="#_type_List.pod6">List</a> containing the <a href="#_type_Pair.pod6-method_antipair">antipair</a> of the invocant.</p>
 <pre class="code">my $p = (6 =&gt; 'Perl').antipairs;
say $p.^name;                                     # OUTPUT: «List␤»
say $p.first;                                     # OUTPUT: «Perl =&gt; 6␤»
say $p.first.^name;                               # OUTPUT: «Pair␤»</pre>
 <a name="t156.1.11"></a><h2 id="_type_Pair.pod6-method_invert">156.1.11 method invert</h2>
 <p>Defined as:</p>
 <pre class="code">method invert(Pair:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a>. If the <span class="code">.value</span> of the invocant is <i>NOT</i> an <a href="#_type_Iterable.pod6">Iterable</a>, the <a href="#_type_Seq.pod6">Seq</a> will contain a single <a href="#_type_Pair.pod6">Pair</a> whose <span class="code">.key</span> is the <span class="code">.value</span> of the invocant and whose <span class="code">.value</span> is the <span class="code">.key</span> of the invocant:</p>
 <pre class="code">:foo&lt;bar&gt;.invert.perl.say; # OUTPUT: «(:bar(&quot;foo&quot;),).Seq»</pre>
 <p>If invocant's <span class="code">.value</span> <i>is</i> an <a href="#_type_Iterable.pod6">Iterable</a>, the returned <a href="#_type_Seq.pod6">Seq</a> will contain the same number of <a href="#_type_Pair.pod6">Pair</a>s as items in the <span class="code">.value</span>, with each of those items a <span class="code">.key</span> of a pair and the <span class="code">.key</span> of the invocant the <span class="code">.value</span> of that pair:</p>
 <pre class="code">:foo&lt;Perl is great&gt;.invert.perl.say;
# OUTPUT: «(:Perl(&quot;foo&quot;), :is(&quot;foo&quot;), :great(&quot;foo&quot;)).Seq»

:foo{ :42a, :72b }.invert.perl.say;
# OUTPUT: «((:a(42)) =&gt; &quot;foo&quot;, (:b(72)) =&gt; &quot;foo&quot;).Seq»</pre>
 <p>To perform the exact <span class="code">.key</span> and <span class="code">.value</span> swap, use <a href="#_type_Pair.pod6-method_antipair"><span class="code">.antipair</span>  method</a>.</p>
 <a name="t156.1.12"></a><h2 id="_type_Pair.pod6-method_keys">156.1.12 method keys</h2>
 <p>Defined as:</p>
 <pre class="code">multi method keys(Pair:D: --&gt; List:D)</pre>
 <p>Returns a <a href="#_type_List.pod6">List</a> containing the <a href="#_type_Pair.pod6-method_key">key</a> of the invocant.</p>
 <pre class="code">say ('Perl' =&gt; 6).keys;                           # OUTPUT: «(Perl)␤»</pre>
 <a name="t156.1.13"></a><h2 id="_type_Pair.pod6-method_values">156.1.13 method values</h2>
 <p>Defined as:</p>
 <pre class="code">multi method values(Pair:D: --&gt; List:D)</pre>
 <p>Returns a <a href="#_type_List.pod6">List</a> containing the <a href="#_type_Pair.pod6-method_value">value</a> of the invocant.</p>
 <pre class="code">say ('Perl' =&gt; 6).values;                         # OUTPUT: «(6)␤»</pre>
 <a name="t156.1.14"></a><h2 id="_type_Pair.pod6-method_freeze">156.1.14 method freeze</h2>
 <p>Defined as:</p>
 <pre class="code">method freeze(Pair:D:)</pre>
 <p>Makes the <i>value</i> of the <span class="code">Pair</span> read-only, by removing it from its <a href="#_language_containers.pod6-Scalar_containers">Scalar container</a>, and returns it.</p>
 <pre class="code">my $str = &quot;apple&quot;;
my $p = Pair.new('key', $str);
$p.value = &quot;orange&quot;;              # this works as expected
$p.say;                           # OUTPUT: «key =&gt; orange␤»
$p.freeze.say;                    # OUTPUT: «orange␤»
$p.value = &quot;a new apple&quot;;         # Fails
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Str (apple)␤»</pre>
 <p><b>NOTE:</b> this method is proposed for removal in <b>6.d</b> language and its use is not recommended.</p>
 <a name="t156.1.15"></a><h2 id="_type_Pair.pod6-method_Str">156.1.15 method Str</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Str(Pair:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the invocant formatted as <i>key ~ \t ~ value</i>.</p>
 <pre class="code">my $b = eggs =&gt; 3;
say $b.Str;                                       # OUTPUT: «eggs  3␤»</pre>
</div>
<!-- /type/Parameter.pod6 --><div class="pod-body"><a id="_type_Parameter.pod6"></a><a name="t157"><h1 class="title">157 class Parameter</h1></a> <p class="subtitle">Element of a Signature</p> <pre class="code">class Parameter { }</pre>
 <p>Represents a parameter, for purpose of introspection.</p>
 <p>The usual way to obtain a Parameter object is to create a signature, and call <span class="code">.params</span> on it to obtain a list of the Parameters.</p>
 <pre class="code">my $sig   = :(Str $x);
my $param = $sig.params[0];
say $param.type;              # OUTPUT: «Str()␤»</pre>
 <p>See <a href="#_type_Signature.pod6">Signature</a> for more information, and also for an explanation on what most of the concepts related to parameters mean.</p>
 <a name="t157.1"></a><h1 id="_type_Parameter.pod6-Methods">157.1 Methods</h1>
 <a name="t157.1.1"></a><h2 id="_type_Parameter.pod6-method_name">157.1.1 method name</h2>
 <p>Returns the variable name, which includes all sigils and twigils. This name is used internally when applied to code, or in a declaration determines the name declared. This name is not necessarily usable by a caller – if it is, it will also appear as an <a href="#156-method named_names">alias</a>. Often, the name will chosen descriptively as a form of self-documentation.</p>
 <p>If the parameter is anonymous, <span class="code">Nil</span> will be returned.</p>
 <a name="t157.1.2"></a><h2 id="_type_Parameter.pod6-method_sigil">157.1.2 method sigil</h2>
 <p>Defined as:</p>
 <pre class="code">method sigil(Parameter:D: --&gt; Str:D)</pre>
 <p>Returns a string containing the parameter's sigil, for a looser definition of &quot;sigil&quot; than what is considered part of the variable's <span class="code">name|method name</span>. Still returns a sigil even if the parameter is anonymous.</p>
 <p>This &quot;sigil&quot; is actually an introspection used to help determine the normal binding style of a parameter, if it has not been altered through a <a href="#_type_Signature.pod6-Parameter_Traits_and_Modifiers">trait</a>.</p>
 <table>
<tr><th>Will bind to Default behavior</th></tr>
<tr><td>C&lt;$&gt; Scalar Generate new Scalar, use instead of Scalar in argument, if any</td></tr>
 <tr><td>C&lt;@&gt; Positional Bind directly to the argument</td></tr>
 <tr><td>C&lt;@&gt; PositionalBindFailover If binding failed, call argument's .cache method, bind to result</td></tr>
 <tr><td>C&lt;%&gt; Associative Bind directly to the argument</td></tr>
 <tr><td>C&lt;&amp;&gt; Callable Bind directly to the argument</td></tr>
 <tr><td>C&lt;|&gt; (anything) Bind to all remaining arguments, make new Capture if needed</td></tr>
 <tr><td>C&lt;\&gt; (anything) Bind directly to the argument, keep existing Scalar, if any</td></tr>
</table> <a name="t157.1.3"></a><h2 id="_type_Parameter.pod6-method_type">157.1.3 method type</h2>
 <p>Returns the <a href="#_type_Signature.pod6-Type_Constraints">nominal type constraint</a> of the parameter.</p>
 <a name="t157.1.4"></a><h2 id="_type_Parameter.pod6-method_constraints">157.1.4 method constraints</h2>
 <p>Returns <a href="#_type_Signature.pod6-Type_Constraints">additional constraints</a> on the parameter (usually as an <span class="code">all</span>-Junction).</p>
 <a name="t157.1.5"></a><h2 id="_type_Parameter.pod6-method_named">157.1.5 method named</h2>
 <p>Defined as:</p>
 <pre class="code">method named(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if it's a <a href="#_type_Signature.pod6-Positional_vs._Named">named parameter</a>.</p>
 <pre class="code">my Signature $sig = :(Str $x, Bool :$is-named);
say $sig.params[0].named;                          # OUTPUT: «False␤»
say $sig.params[1].named;                          # OUTPUT: «True␤»</pre>
 <a name="t157.1.6"></a><h2 id="_type_Parameter.pod6-method_named_names">157.1.6 method named_names</h2>
 <p>Defined as:</p>
 <pre class="code">method named_names(Parameter:D: --&gt; List:D)</pre>
 <p>Returns the list of externally usable names/aliases for a <a href="#_type_Signature.pod6-Positional_vs._Named">named parameter</a>.</p>
 <a name="t157.1.7"></a><h2 id="_type_Parameter.pod6-method_positional">157.1.7 method positional</h2>
 <p>Defined as:</p>
 <pre class="code">method positional(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the parameter is <a href="#_type_Signature.pod6-Positional_vs._Named">positional</a>.</p>
 <pre class="code">my Signature $sig = :(Str $x, Bool :$is-named);
say $sig.params[0].positional;                     # OUTPUT: «True␤»
say $sig.params[1].positional;                     # OUTPUT: «False␤»</pre>
 <a name="t157.1.8"></a><h2 id="_type_Parameter.pod6-method_slurpy">157.1.8 method slurpy</h2>
 <p>Defined as:</p>
 <pre class="code">method slurpy(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for <a href="#_type_Signature.pod6-Slurpy_(A.K.A._Variadic)_Parameters">slurpy parameters</a>.</p>
 <a name="t157.1.9"></a><h2 id="_type_Parameter.pod6-method_twigil">157.1.9 method twigil</h2>
 <p>Defined as:</p>
 <pre class="code">method twigil(Parameter:D: --&gt; Str:D)</pre>
 <p>Returns a string containing the twigil part of the parameter's name.</p>
 <a name="t157.1.10"></a><h2 id="_type_Parameter.pod6-method_optional">157.1.10 method optional</h2>
 <p>Defined as:</p>
 <pre class="code">method optional(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for <a href="#_type_Signature.pod6-Optional_and_Mandatory_Parameters">optional parameters</a>.</p>
 <a name="t157.1.11"></a><h2 id="_type_Parameter.pod6-method_raw">157.1.11 method raw</h2>
 <p>Defined as:</p>
 <pre class="code">method raw(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for raw parameters.</p>
 <pre class="code">sub f($a, $b is raw, \c) {
    my $sig = &amp;?ROUTINE.signature;
    for ^$sig.params.elems {
        say $sig.params[$_].raw;
    }
}
f(17, &quot;4711&quot;, 42); OUTPUT: «False␤True␤True␤»</pre>
 <p>Raw parameters bind either a variable or a value passed to it, with no decontainerization taking place. That means that if a variable was passed to it, you can assign to the parameter. This is different from <a href="#156-method_rw">rw</a>-parameter which can only bind to variables, never to values.</p>
 <p>This is the normal behavior for parameters declared with a <a href="#156-method sigil">sigil</a> of <span class="code">'\'</span>, which is not really a sigil insofar as it is only used on the parameter.</p>
 <pre class="code">sub f(\x) {
    x = 5;
}
f(my $x);   # works
f(42);      # dies
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Int␤»</pre>
 <p>Other parameters may become raw through use of the '<span class="code">is raw</span>' <a href="#_type_Signature.pod6-Parameter_Traits_and_Modifiers">trait</a>. These still use their sigil in code.</p>
 <pre class="code">sub f($x is raw) {
    $x = 5;
}</pre>
 <a name="t157.1.12"></a><h2 id="_type_Parameter.pod6-method_capture">157.1.12 method capture</h2>
 <p>Defined as:</p>
 <pre class="code">method capture(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for parameters that capture the rest of the argument list into a single <a href="#_type_Capture.pod6">Capture</a> object.</p>
 <pre class="code">sub how_many_extra_positionals($!, |capture) { capture.elems.say }
how_many_extra_positionals(0, 1, 2, 3);                        # RESULT: «3»
say &amp;how_many_extra_positionals.signature.params[1].capture;   # OUTPUT: «True␤»</pre>
 <p>Like raw parameters, Capture parameters do not force any context on the values bound to them, which is why their sigils are only used in declarations.</p>
 <a name="t157.1.13"></a><h2 id="_type_Parameter.pod6-method_rw">157.1.13 method rw</h2>
 <p>Defined as:</p>
 <pre class="code">method rw(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for <a href="#_type_Signature.pod6-Parameter_Traits_and_Modifiers"><span class="code">is rw</span></a> parameters.</p>
 <pre class="code">my Signature $sig = :(Str $x is rw, Bool :$is-named);
say $sig.params[0].rw;                             # OUTPUT: «True␤»
say $sig.params[1].rw;                             # OUTPUT: «False␤»</pre>
 <a name="t157.1.14"></a><h2 id="_type_Parameter.pod6-method_copy">157.1.14 method copy</h2>
 <p>Defined as:</p>
 <pre class="code">method copy(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for <a href="#_type_Signature.pod6-Parameter_Traits_and_Modifiers"><span class="code">is copy</span></a> parameters.</p>
 <pre class="code">my Signature $sig = :(Str $x, Bool :$is-named is copy);
say $sig.params[0].copy;                           # OUTPUT: «False␤»
say $sig.params[1].copy;                           # OUTPUT: «True␤»</pre>
 <a name="t157.1.15"></a><h2 id="_type_Parameter.pod6-method_readonly">157.1.15 method readonly</h2>
 <p>Defined as:</p>
 <pre class="code">method readonly(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for read-only parameters (the default).</p>
 <pre class="code">my Signature $sig = :(Str $x is rw, Bool :$is-named);
say $sig.params[0].readonly;                       # OUTPUT: «False␤»
say $sig.params[1].readonly;                       # OUTPUT: «True␤»</pre>
 <a name="t157.1.16"></a><h2 id="_type_Parameter.pod6-method_invocant">157.1.16 method invocant</h2>
 <p>Defined as:</p>
 <pre class="code">method invocant(Parameter:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the parameter is the <a href="#_type_Signature.pod6-Parameter_Separators">invocant parameter</a>.</p>
 <a name="t157.1.17"></a><h2 id="_type_Parameter.pod6-method_default">157.1.17 method default</h2>
 <p>Returns a closure that upon invocation returns the <a href="#_type_Signature.pod6-Optional_and_Mandatory_Parameters">default value</a> for this parameter, or <span class="code">Any</span> if no default was provided.</p>
 <a name="t157.1.18"></a><h2 id="_type_Parameter.pod6-method_type_captures">157.1.18 method type_captures</h2>
 <p>Defined as:</p>
 <pre class="code">method type_captures(Parameter:D: --&gt; List:D)</pre>
 <p>Returns a list of variable names of type captures associated with this parameter. Type captures define a type name within the attached code, which is an alias to the type gleaned from the argument during a call.</p>
 <pre class="code">sub a(::T ::U $x) { T.say }
a(8);                                       # OUTPUT: «(Int)␤»
say &amp;a.signature.params[0].type_captures;   # OUTPUT: «(T U)␤»
sub b($x) { $x.^name.say }
a(8);                                       # OUTPUT: «Int␤»</pre>
 <p>The type used may change from call to call. Once they are defined, type captures can be used wherever you would use a type, even later in same the signature:</p>
 <pre class="code">sub c(::T $x, T $y, $z) { my T $zz = $z }; 
 c(4, 5, 6);          # OK 
 c(4, 5, &quot;six&quot;);      # Fails when assigning to $zz, wants Int not Str 
 c(&quot;four&quot;, 5, &quot;six&quot;); # Fails when binding $y, wants Str, not Int 
</pre>
 <p>Type captures may be used at the same time as <a href="#_type_Signature.pod6-Type_Constraints">type constraints</a>.</p>
 <pre class="code">sub d(::T Numeric $x, T $y) {}; 
 d(4, 5);            # OK 
 d(4e0, 5e0);        # OK 
 d(4e0, 5);          # Fails when binding $y 
 d(&quot;four&quot;, &quot;five&quot;);  # Fails when binding $x 
</pre>
 <a name="t157.1.19"></a><h2 id="_type_Parameter.pod6-method_sub_signature">157.1.19 method sub_signature</h2>
 <p>If the parameter has a <a href="#_type_Signature.pod6-Destructuring_Parameters">sub-signature</a>, returns a <span class="code">Signature</span> object for it. Otherwise returns <span class="code">Any</span>.</p>
</div>
<!-- /type/Perl.pod6 --><div class="pod-body"><a id="_type_Perl.pod6"></a><a name="t158"><h1 class="title">158 class Perl</h1></a> <p class="subtitle">Perl related information</p> <pre class="code">class Perl does Systemic { }</pre>
 <p>Built-in class for providing perl related information. Usually accessed through the <a href="#_language_variables.pod6-index-entry-%24*PERL">$*PERL</a> dynamic variable.</p>
 <a name="t158.1"></a><h1 id="_type_Perl.pod6-Methods">158.1 Methods</h1>
 <a name="t158.1.1"></a><h2 id="_type_Perl.pod6-method_auth">158.1.1 method auth</h2>
 <p>Instance method returning the &quot;auth&quot; (as in &quot;author&quot; or &quot;authority&quot;) of the Perl object.</p>
 <a name="t158.1.2"></a><h2 id="_type_Perl.pod6-method_compiler">158.1.2 method compiler</h2>
 <p>Instance method returning the <a href="#_routine_compiler.pod6">compiler</a> object associated with the Perl object.</p>
 <a name="t158.1.3"></a><h2 id="_type_Perl.pod6-method_DISTROnames">158.1.3 method DISTROnames</h2>
 <p>Instance / Class method returning the names of the <a href="#_type_Distro.pod6">Distro</a> objects that are supported by this version of Perl.</p>
 <a name="t158.1.4"></a><h2 id="_type_Perl.pod6-method_desc">158.1.4 method desc</h2>
 <p>Instance method returning the &quot;desc&quot; (as in &quot;description&quot;) of the Perl object. Returns a <span class="code">Str</span> type object if the &quot;desc&quot; could not be established.</p>
 <a name="t158.1.5"></a><h2 id="_type_Perl.pod6-method_KERNELnames">158.1.5 method KERNELnames</h2>
 <p>Instance / Class method returning the names of the <a href="#_type_Kernel.pod6">Kernel</a> objects that are supported by this version of Perl.</p>
 <a name="t158.1.6"></a><h2 id="_type_Perl.pod6-method_name">158.1.6 method name</h2>
 <p>Instance method returning the name of the Perl object.</p>
 <a name="t158.1.7"></a><h2 id="_type_Perl.pod6-method_signature">158.1.7 method signature</h2>
 <p>Instance method returning the signature of the Perl object. Returns a <span class="code">Blob</span> type object if the signature could not be established.</p>
 <a name="t158.1.8"></a><h2 id="_type_Perl.pod6-method_version">158.1.8 method version</h2>
 <p>Instance method returning the language version of the Perl object as a <a href="#_type_Version.pod6">Version</a> object.</p>
 <a name="t158.1.9"></a><h2 id="_type_Perl.pod6-method_VMnames">158.1.9 method VMnames</h2>
 <p>Instance / Class method returning the names of the <a href="#_type_VM.pod6">VM</a> objects that are supported by this version of Perl.</p>
 <a name="t158.2"></a><h1 id="_type_Perl.pod6-See_Also">158.2 See Also</h1>
 <p><span class="code">Systemic</span></p>
</div>
<!-- /type/Pod/Block.pod6 --><div class="pod-body"><a id="_type_Pod_Block.pod6"></a><a name="t159"><h1 class="title">159 class Pod::Block</h1></a> <p class="subtitle">Block in a Pod document</p> <pre class="code">class Pod::Block { }</pre>
 <p>Class for a Pod block, and base class for most other Pod classes.</p>
 <p>A Pod block has contents (more pod blocks or strings) and a config hash.</p>
 <p>Useful subclasses:</p>
 <table>
<tr><th>Class</th> <th>Used for</th></tr>
<tr><td>Pod::Block::Para</td> <td>paragraphs</td></tr>
 <tr><td>Pod::Block::Named</td> <td>named blocks</td></tr>
 <tr><td>Pod::Block::Declarator</td> <td>declarator blocks</td></tr>
 <tr><td>Pod::Block::Code</td> <td>code blocks</td></tr>
 <tr><td>Pod::Block::Comment</td> <td>comments</td></tr>
 <tr><td>Pod::Block::Table</td> <td>=begin/end table</td></tr>
 <tr><td></td> <td>tabular data</td></tr>
 <tr><td>Pod::Heading</td> <td>=head1 etc. headings</td></tr>
 <tr><td>Pod::Item</td> <td>list items</td></tr>
</table> <a name="t159.1"></a><h1 id="_type_Pod_Block.pod6-Methods">159.1 Methods</h1>
 <a name="t159.1.1"></a><h2 id="_type_Pod_Block.pod6-method_contents">159.1.1 method contents</h2>
 <pre class="code">method contents(--&gt; Positional:D)</pre>
 <p>Returns a list of contents of this block.</p>
 <a name="t159.1.2"></a><h2 id="_type_Pod_Block.pod6-method_config">159.1.2 method config</h2>
 <pre class="code">method config(--&gt; Map:D)</pre>
 <p>Returns a hash of configs.</p>
</div>
<!-- /type/Pod/Block/Code.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Code.pod6"></a><a name="t160"><h1 class="title">160 class Pod::Block::Code</h1></a> <p class="subtitle">Verbatim code block in a Pod document</p> <pre class="code">class Pod::Block::Code is Pod::Block { }</pre>
 <p>Class for a code (verbatim) Pod block.</p>
 <a name="t160.1"></a><h1 id="_type_Pod_Block_Code.pod6-Methods">160.1 Methods</h1>
 <a name="t160.1.1"></a><h2 id="_type_Pod_Block_Code.pod6-method_allowed">160.1.1 method allowed</h2>
 <pre class="code">method allowed(--&gt; Positional:D)</pre>
 <p>Returns a list of formatting codes that are allowed inside the code block.</p>
</div>
<!-- /type/Pod/Block/Comment.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Comment.pod6"></a><a name="t161"><h1 class="title">161 class Pod::Block::Comment</h1></a> <p class="subtitle">Comment in a Pod document</p> <pre class="code">class Pod::Block::Comment is Pod::Block { }</pre>
 <p>Class for a Pod comment.</p>
</div>
<!-- /type/Pod/Block/Declarator.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Declarator.pod6"></a><a name="t162"><h1 class="title">162 class Pod::Block::Declarator</h1></a> <p class="subtitle">Declarator block in a Pod document</p> <pre class="code">class Pod::Block::Declarator is Pod::Block { }</pre>
 <p>Class for a declarator Pod block</p>
 <a name="t162.1"></a><h1 id="_type_Pod_Block_Declarator.pod6-Methods">162.1 Methods</h1>
 <a name="t162.1.1"></a><h2 id="_type_Pod_Block_Declarator.pod6-method_leading">162.1.1 method leading</h2>
 <pre class="code">method leading(--&gt; Str)</pre>
 <p>Returns the leading Pod comment attached to the declarator</p>
 <a name="t162.1.2"></a><h2 id="_type_Pod_Block_Declarator.pod6-method_trailing">162.1.2 method trailing</h2>
 <pre class="code">method trailing(--&gt; Str)</pre>
 <p>Returns the trailing Pod comment attached to the declarator</p>
 <a name="t162.1.3"></a><h2 id="_type_Pod_Block_Declarator.pod6-method_WHEREFORE">162.1.3 method WHEREFORE</h2>
 <pre class="code">method WHEREFORE(--&gt; Mu)</pre>
 <p>Returns the code object or metaobject to which the Pod block is attached to</p>
</div>
<!-- /type/Pod/Block/Named.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Named.pod6"></a><a name="t163"><h1 class="title">163 class Pod::Block::Named</h1></a> <p class="subtitle">Named block in a Pod document</p> <pre class="code">class Pod::Block::Named is Pod::Block { }</pre>
 <p>Class for a named Pod block. For example</p>
 <p>...</p>
 <p>creates a <span class="code">Pod::Block::Named</span> with name <span class="code">mysection</span>.</p>
 <a name="t163.1"></a><h1 id="_type_Pod_Block_Named.pod6-Methods">163.1 Methods</h1>
 <a name="t163.1.1"></a><h2 id="_type_Pod_Block_Named.pod6-method_name">163.1.1 method name</h2>
 <pre class="code">method name(--&gt; Str:D)</pre>
 <p>Returns the name of the block.</p>
</div>
<!-- /type/Pod/Block/Para.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Para.pod6"></a><a name="t164"><h1 class="title">164 class Pod::Block::Para</h1></a> <p class="subtitle">Paragraph in a Pod document</p> <pre class="code">class Pod::Block::Para is Pod::Block { }</pre>
 <p>Class for a Pod paragraph.</p>
</div>
<!-- /type/Pod/Block/Table.pod6 --><div class="pod-body"><a id="_type_Pod_Block_Table.pod6"></a><a name="t165"><h1 class="title">165 class Pod::Block::Table</h1></a> <p class="subtitle">Table in a Pod document</p> <pre class="code">class Pod::Block::Table is Pod::Block { }</pre>
 <p>Class for a table in a Pod document.</p>
 <a name="t165.1"></a><h1 id="_type_Pod_Block_Table.pod6-Methods">165.1 Methods</h1>
 <a name="t165.1.1"></a><h2 id="_type_Pod_Block_Table.pod6-method_caption">165.1.1 method caption</h2>
 <pre class="code">method caption(--&gt; Str:D)</pre>
 <p>Returns the associated caption of the table.</p>
 <a name="t165.1.2"></a><h2 id="_type_Pod_Block_Table.pod6-method_headers">165.1.2 method headers</h2>
 <pre class="code">method headers(--&gt; Positional:D)</pre>
 <p>Returns a list of table headers. If no headers have been defined the list is empty.</p>
</div>
<!-- /type/Pod/Heading.pod6 --><div class="pod-body"><a id="_type_Pod_Heading.pod6"></a><a name="t166"><h1 class="title">166 class Pod::Heading</h1></a> <p class="subtitle">Heading in a Pod document</p> <pre class="code">class Pod::Heading is Pod::Block { }</pre>
 <p>Class for headings in a Pod document.</p>
 <a name="t166.1"></a><h1 id="_type_Pod_Heading.pod6-Methods">166.1 Methods</h1>
 <a name="t166.1.1"></a><h2 id="_type_Pod_Heading.pod6-method_level">166.1.1 method level</h2>
 <pre class="code">method level(--&gt; Int)</pre>
 <p>Returns the level of the heading, starting at 1.</p>
</div>
<!-- /type/Pod/Item.pod6 --><div class="pod-body"><a id="_type_Pod_Item.pod6"></a><a name="t167"><h1 class="title">167 class Pod::Item</h1></a> <p class="subtitle">Item in a Pod enumeration list</p> <pre class="code">class Pod::Item is Pod::Block { }</pre>
 <p>Class for items in Pod enumeration lists.</p>
 <a name="t167.1"></a><h1 id="_type_Pod_Item.pod6-Methods">167.1 Methods</h1>
 <a name="t167.1.1"></a><h2 id="_type_Pod_Item.pod6-method_level">167.1.1 method level</h2>
 <pre class="code">method level(--&gt; Int)</pre>
 <p>Returns the level of the enumeration list, starting at 1.</p>
</div>
<!-- /type/Positional.pod6 --><div class="pod-body"><a id="_type_Positional.pod6"></a><a name="t168"><h1 class="title">168 role Positional</h1></a> <p class="subtitle">Object that supports looking up values by index</p> <pre class="code">role Positional { ... }</pre>
 <p>Role for objects which support indexing them using <span class="code">postcircumfix:«[ ]»</span> (usually list-like objects). Example types with Positional role include <a href="#_type_List.pod6">List</a>, <a href="#_type_Array.pod6">Array</a>, <a href="#_type_Range.pod6">Range</a>, and <a href="#_type_Buf.pod6">Buf</a>.</p>
 <a name="t168.1"></a><h1 id="_type_Positional.pod6-Methods">168.1 Methods</h1>
 <a name="t168.1.1"></a><h2 id="_type_Positional.pod6-method_of">168.1.1 method of</h2>
 <pre class="code">method of()</pre>
 <p>Returns the type constraint for elements of the positional container. Defaults to <a href="#_type_Mu.pod6">Mu</a>.</p>
</div>
<!-- /type/PositionalBindFailover.pod6 --><div class="pod-body"><a id="_type_PositionalBindFailover.pod6"></a><a name="t169"><h1 class="title">169 role PositionalBindFailover</h1></a> <p class="subtitle">Failover for binding to a Positional</p> <pre class="code">role PositionalBindFailover { ... }</pre>
 <p>This role provides an interface by which an object can be coerced into a <a href="#_type_Positional.pod6">Positional</a> when binding to <a href="#_type_Positional.pod6">Positional</a> parameters.</p>
 <p>For example, <a href="#_type_Seq.pod6">Seq</a> type is not <a href="#_type_Positional.pod6">Positional</a>, but you can still write the following, because it <a href="#_routine_does.pod6">does</a> <span class="code">PositionalBindFailover</span> role:</p>
 <pre class="code">sub fifths(@a) {        # @a is constraint to Positional
    @a[4];
}
my $seq := gather {     # a Seq, which is not Positional
    take $_ for 1..*;
}
say fifths($seq);       # OUTPUT: «5␤»</pre>
 <p>The invocation of <span class="code">fifths</span> in the example above would ordinarily give a type error, because <span class="code">$seq</span> is of type <a href="#_type_Seq.pod6">Seq</a>, which doesn't do the <a href="#_type_Positional.pod6">Positional</a> interface that the <span class="code">@</span>-sigil implies.</p>
 <p>But the signature binder recognizes that <span class="code">Seq</span> does the <span class="code">PositionalBindFailover</span> role, and calls its <span class="code">cache</span> method to coerce it to a <a href="#_type_List.pod6">List</a>, which does the <span class="code">Positional</span> role.</p>
 <p>The same happens with custom classes that do the role; they simply need to provide an <span class="code">iterator</span> method that produces an <a href="#_type_Iterator.pod6">Iterator</a>:</p>
 <pre class="code">class Foo does PositionalBindFailover {
    method iterator {
        class :: does Iterator {
            method pull-one {
                return 42 unless $++;
                IterationEnd
            }
        }.new
    }
}

sub first-five (@a) { @a[^5].say }
first-five Foo.new; # OUTPUT: # OUTPUT: «(42 Nil Nil Nil Nil)␤»</pre>
 <a name="t169.1"></a><h1 id="_type_PositionalBindFailover.pod6-Methods">169.1 Methods</h1>
 <a name="t169.1.1"></a><h2 id="_type_PositionalBindFailover.pod6-method_cache">169.1.1 method cache</h2>
 <pre class="code">method cache(PositionalBindFailover:D: --&gt; List:D)</pre>
 <p>Returns a <a href="#_type_List.pod6">List</a> based on the <span class="code">iterator</span> method, and caches it. Subsequent calls to <span class="code">cache</span> always return the same <span class="code">List</span> object.</p>
 <a name="t169.1.2"></a><h2 id="_type_PositionalBindFailover.pod6-method_list">169.1.2 method list</h2>
 <pre class="code">method list(PositionalBindFailover:D: --&gt; List:D)</pre>
 <p>Returns a <a href="#_type_List.pod6">List</a> based on the <span class="code">iterator</span> method without caching it.</p>
 <a name="t169.1.3"></a><h2 id="_type_PositionalBindFailover.pod6-method_iterator">169.1.3 method iterator</h2>
 <pre class="code">method iterator(PositionalBindFailover:D:) { ... }</pre>
 <p>This method stub ensure that a class implementing role <span class="code">PositionalBindFailover</span> provides an <span class="code">iterator</span> method.</p>
</div>
<!-- /type/Proc.pod6 --><div class="pod-body"><a id="_type_Proc.pod6"></a><a name="t170"><h1 class="title">170 class Proc</h1></a> <p class="subtitle">Running process (filehandle-based interface)</p> <pre class="code">class Proc {}</pre>
 <p><span class="code">Proc</span> is a representation of an invocation of an external process. It provides access to the input, output and error stream as well as the exit code. It is typically created through the <span class="code">run</span> subroutine:</p>
 <pre class="code">my $proc = run 'echo', 'Hallo world', :out; 
 my $captured-output = $proc.out.slurp: :close; 
 say &quot;Output was $captured-output.perl()&quot;;       # OUTPUT: «Output was &quot;Hallo world\n&quot;␤» 
</pre>
 <p>Piping several commands is easy too. To achieve the equivalent of the pipe <span class="code">echo &quot;Hello, world&quot; | cat -n</span> in Perl 6, and capture the output from the second command, you can do</p>
 <pre class="code">my $p1 = run 'echo', 'Hello, world', :out; 
 my $p2 = run 'cat', '-n', :in($p1.out), :out; 
 say $p2.out.get; 
</pre>
 <p>You can also feed the <span class="code">:in</span> pipe directly from your program, by setting it to <span class="code">True</span>, which will make the pipe available via <span class="code">.in</span> method on the <span class="code">Proc</span>:</p>
 <pre class="code">my $p = run &quot;cat&quot;, &quot;-n&quot;, :in, :out; 
 $p.in.say: &quot;Hello,\nworld!&quot;; 
 $p.in.close; 
 say $p.out.slurp: :close; 
 # OUTPUT: «1  Hello,␤ 
 #          2  world!␤» 
</pre>
 <p>In order to capture the standard error <span class="code">:err</span> can be supplied:</p>
 <pre class="code">my $p = run &quot;ls&quot;, &quot;-l&quot;, &quot;.&quot;, &quot;qqrq&quot;, :out, :err; 
 my $captured-output = $p.out.slurp: :close; 
 my $captured-error  = $p.err.slurp: :close; 
 my $exit-code       = $p.exitcode; 
</pre>
 <p><b>Note:</b> Versions of <a href="#_language_glossary.pod6-Rakudo">Rakudo</a> older than 2017.04 do not have <span class="code">.slurp</span> available on <a href="#_type_IO::Pipe.pod6">IO::Pipe</a> objects; use <a href="#_routine_slurp-rest.pod6"><span class="code">.slurp-rest</span></a> instead.</p>
 <p>Use <a href="#_type_Proc::Async.pod6">Proc::Async</a> for non-blocking operations.</p>
 <a name="t170.1"></a><h1 id="_type_Proc.pod6-Methods">170.1 Methods</h1>
 <a name="t170.1.1"></a><h2 id="_type_Proc.pod6-method_new">170.1.1 method new</h2>
 <pre class="code">method new(Proc:U: 
         :$in = '-', 
         :$out = '-', 
         :$err = '-', 
         Bool :$bin = False, 
         Bool :$chomp = True, 
         Bool :$merge = False, 
         Str:D :$enc = 'UTF-8', 
         Str:D :$nl = &quot;\n&quot;, 
     --&gt; Proc:D) 
 sub run( 
         *@args ($, *@), 
         :$in = '-', 
         :$out = '-', 
         :$err = '-', 
         Bool :$bin = False, 
         Bool :$chomp = True, 
         Bool :$merge = False, 
         Str:D :$enc = 'UTF-8', 
         Str:D :$nl = &quot;\n&quot;, 
         :$cwd = $*CWD, 
         Hash() :$env = %*ENV 
     --&gt; Proc:D) 
 sub shell( 
         $cmd, 
         :$in = '-', 
         :$out = '-', 
         :$err = '-', 
         Bool :$bin = False, 
         Bool :$chomp = True, 
         Bool :$merge = False, 
         Str:D :$enc = 'UTF-8', 
         Str:D :$nl = &quot;\n&quot;, 
         :$cwd = $*CWD, 
         Hash() :$env = %*ENV 
     --&gt; Proc:D) 
</pre>
 <p><span class="code">new</span> creates a new <span class="code">Proc</span> object, whereas <span class="code">run</span> or <span class="code">shell</span> create one and spawn it with the command and arguments provided in <span class="code">@args</span> or <span class="code">$cmd</span>, respectively.</p>
 <p><span class="code">$in</span>, <span class="code">$out</span> and <span class="code">$err</span> are the three standard streams of the to-be-launched program, and default to <span class="code">&quot;-&quot;</span>, which means they inherit the stream from the parent process. Setting one (or more) of them to <span class="code">True</span> makes the stream available as an <a href="#_type_IO::Pipe.pod6">IO::Pipe</a> object of the same name, so for example <span class="code">$proc.out</span>. You can set them to <span class="code">False</span> to discard them. Or you can pass an existing <a href="#_type_IO::Handle.pod6">IO::Handle</a> object (for example IO::Pipe) in, in which case this handle is used for the stream.</p>
 <p><span class="code">$bin</span> controls whether the streams are handled as binary (i.e. <a href="#_type_Blob.pod6">Blob</a> object) or text (i.e. <a href="#_type_Str.pod6">Str</a> objects). If <span class="code">$bin</span> is False, <span class="code">$enc</span> holds the character encoding to encode strings sent to the input stream and decode binary data from the output and error streams.</p>
 <p>With <span class="code">$chomp</span> set to <span class="code">True</span>, newlines are stripped from the output and err streams when reading with <span class="code">lines</span> or <span class="code">get</span>. <span class="code">$nl</span> controls what your idea of a newline is.</p>
 <p>If <span class="code">$merge</span> is set to True, the standard output and error stream end up merged in <span class="code">$proc.out</span>.</p>
 <a name="t170.1.2"></a><h2 id="_type_Proc.pod6-method_sink">170.1.2 method sink</h2>
 <pre class="code">method sink(--&gt; Nil)</pre>
 <p>When sunk, the <span class="code">Proc</span> object will throw <a href="#_type_X::Proc::Unsuccessful.pod6">X::Proc::Unsuccessful</a> if the process it ran exited unsuccessfully.</p>
 <a name="t170.1.3"></a><h2 id="_type_Proc.pod6-method_spawn">170.1.3 method spawn</h2>
 <pre class="code">method spawn(*@args ($, *@), :$cwd = $*CWD, Hash() :$env = %*ENV --&gt; Bool:D)</pre>
 <p>Runs the <span class="code">Proc</span> object with the given command, argument list, working directory, and environment.</p>
 <a name="t170.1.4"></a><h2 id="_type_Proc.pod6-method_shell">170.1.4 method shell</h2>
 <pre class="code">method shell($cmd, :$cwd = $*CWD, :$env --&gt; Bool:D)</pre>
 <p>Runs the <span class="code">Proc</span> object with the given command and environment which are passed through to the shell for parsing and execution.</p>
 <a name="t170.1.5"></a><h2 id="_type_Proc.pod6-method_command">170.1.5 method command</h2>
 <pre class="code">method command(Proc:D: --&gt; Array:D)</pre>
 <p>The command method is an accessor to an array containing the arguments that were passed when the Proc object was executed via <span class="code">spawn</span> or <span class="code">shell</span> or <span class="code">run</span>.</p>
 <a name="t170.1.6"></a><h2 id="_type_Proc.pod6-method_pid">170.1.6 method pid</h2>
 <pre class="code">method pid(Proc:D:)</pre>
 <p>Returns the <span class="code">$*PID</span> value of the process if available, or <span class="code">Nil</span>.</p>
 <a name="t170.1.7"></a><h2 id="_type_Proc.pod6-method_exitcode">170.1.7 method exitcode</h2>
 <pre class="code">method exitcode(Proc:D: --&gt; Int:D)</pre>
 <p>Returns the exit code of the external process, or -1 if it has not exited yet.</p>
 <a name="t170.1.8"></a><h2 id="_type_Proc.pod6-method_signal">170.1.8 method signal</h2>
 <pre class="code">method signal(Proc:D:)</pre>
 <p>Returns the signal number with which the external process was killed, or 0 or an undefined value otherwise.</p>
</div>
<!-- /type/Proc/Async.pod6 --><div class="pod-body"><a id="_type_Proc_Async.pod6"></a><a name="t171"><h1 class="title">171 class Proc::Async</h1></a> <p class="subtitle">Running process (asynchronous interface)</p> <pre class="code">class Proc::Async {} 
</pre>
 <p><b>Note:</b> only the MoarVM backend of Rakudo implements <span class="code">Proc::Async</span> at the moment.</p>
 <p><span class="code">Proc::Async</span> allows you to run external commands asynchronously, capturing standard output and error handles, and optionally write to its standard input.</p>
 <pre class="code">my $file = ‘foo’.IO;
spurt $file, “and\nCamelia\n♡\nme\n”;

my $proc = Proc::Async.new: :w, ‘tac’, ‘--’, $file, ‘-’;
# my $proc = Proc::Async.new: :w, ‘sleep’, 15; # uncomment to try timeouts

react {
    whenever $proc.stdout.lines { # split input on \r\n, \n, and \r
        say ‘line: ’, $_
    }
    whenever $proc.stderr { # chunks
        say ‘stderr: ’, $_
    }
    whenever $proc.start {
        say ‘Proc finished. Exit code: ’, .exitcode;
        done # gracefully jump from the react block
    }
    whenever $proc.print: “I\n♥\nCamelia\n” {
        $proc.close-stdin
    }
    whenever signal(SIGTERM).merge: signal(SIGINT) {
        once {
            say ‘Signal received, asking the process to stop’;
            $proc.kill; # sends SIGHUP, change appropriately
            whenever signal($_).zip: Promise.in(2).Supply {
                say ‘Kill it!’;
                $proc.kill: SIGKILL
            }
        }
    }
    whenever Promise.in(10) {
        say ‘Timeout. Asking the process to stop’;
        $proc.kill; # sends SIGHUP, change appropriately
        whenever Promise.in(2) {
            say ‘Timeout. Forcing the process to stop’;
            $proc.kill: SIGKILL
        }
    }
}

say ‘Program finished’;</pre>
 <p>Example above produces the following output:</p>
 <pre class="code">line: me 
 line: ♡ 
 line: Camelia 
 line: and 
 line: Camelia 
 line: ♥ 
 line: I 
 Proc finished. Exit code: 0 
 Program finished 
</pre>
 <p><b>Note:</b> Using <span class="code">.zip</span> and <span class="code">.merge</span> as suggested above is known not to work in <a href="#_language_glossary.pod6-Rakudo">Rakudo</a> releases before 2017.09.</p>
 <p>Alternatively, you can use <span class="code">Proc::Async</span> without using a <a href="#_language_concurrency.pod6-index-entry-react">react</a> block:</p>
 <pre class="code"># command with arguments
my $proc = Proc::Async.new('echo', 'foo', 'bar');

# subscribe to new output from out and err handles:
$proc.stdout.tap(-&gt; $v { print &quot;Output: $v&quot; }, quit =&gt; { say 'caught exception ' ~ .^name });
$proc.stderr.tap(-&gt; $v { print &quot;Error:  $v&quot; });

say &quot;Starting...&quot;;
my $promise = $proc.start;

# wait for the external program to terminate
await $promise;
say &quot;Done.&quot;;</pre>
 <p>This produces the following output:</p>
 <pre class="code">Starting... 
 Output: foo bar 
 Done. 
</pre>
 <p>An example that opens an external program for writing:</p>
 <pre class="code">use v6;
my $prog = Proc::Async.new(:w, 'hexdump', '-C');
my $promise = $prog.start;
await $prog.write(Buf.new(12, 42));
$prog.close-stdin;
await $promise;</pre>
 <p>An example of piping several commands like <span class="code">echo &quot;Hello, world&quot; | cat -n</span>:</p>
 <pre class="code">use v6;
my $proc-echo = Proc::Async.new: 'echo', 'Hello, world';
my $proc-cat = Proc::Async.new: 'cat', '-n';
$proc-cat.bind-stdin: $proc-echo.stdout;
await $proc-echo.start, $proc-cat.start;</pre>
 <a name="t171.1"></a><h1 id="_type_Proc_Async.pod6-Methods">171.1 Methods</h1>
 <a name="t171.1.1"></a><h2 id="_type_Proc_Async.pod6-method_new">171.1.1 method new</h2>
 <pre class="code">multi method new(*@ ($path, *@args), :$w, :$enc, :$translate-nl --&gt; Proc::Async:D)
multi method new(   :$path, :@args,  :$w, :$enc, :$translate-nl --&gt; Proc::Async:D)</pre>
 <p>Creates a new <span class="code">Proc::Async</span> object with external program name or path <span class="code">$path</span> and the command line arguments <span class="code">@args</span>.</p>
 <p>If <span class="code">:w</span> is passed to <span class="code">new</span>, then a pipe to the external program's standard input stream (stdin) is opened, to which you can write with <span class="code">write</span> and <span class="code">say</span>.</p>
 <p>The <span class="code">:enc</span> specifies <a href="#_type_IO::Handle.pod6-method_encoding">the encoding</a> for streams (can still be overridden in individual methods) and defaults to <span class="code">utf8</span>.</p>
 <p>If <span class="code">:translate-nl</span> is set to <span class="code">True</span> (default value), OS-specific newline terminators (e.g. <span class="code">\r\n</span> on Windows) will be automatically translated to <span class="code">\n</span>.</p>
 <a name="t171.1.2"></a><h2 id="_type_Proc_Async.pod6-method_stdout">171.1.2 method stdout</h2>
 <pre class="code">method stdout(Proc::Async:D: :$bin --&gt; Supply:D)</pre>
 <p>Returns the <a href="#_type_Supply.pod6">Supply</a> for the external program's standard output stream. If <span class="code">:bin</span> is passed, the standard output is passed along in binary as <a href="#_type_Blob.pod6">Blob</a>, otherwise it is interpreted as UTF-8, decoded, and passed along as <a href="#_type_Str.pod6">Str</a>.</p>
 <pre class="code">my $proc = Proc::Async.new(:r, 'echo', 'Perl 6');
$proc.stdout.tap( -&gt; $str {
    say &quot;Got output '$str' from the external program&quot;;
});
my $promise = $proc.start;
await $promise;</pre>
 <p>You must call <span class="code">stdout</span> before you call <a href="#170-method start">#method start</a>. Otherwise an exception of class <a href="#_type_X::Proc::Async::TapBeforeSpawn.pod6">X::Proc::Async::TapBeforeSpawn</a> is thrown.</p>
 <p>If <span class="code">stdout</span> is not called, the external program's standard output is not captured at all.</p>
 <p>Note that you cannot call <span class="code">stdout</span> both with and without <span class="code">:bin</span> on the same object; it will throw an exception of type <a href="#_type_X::Proc::Async::CharsOrBytes.pod6">X::Proc::Async::CharsOrBytes</a> if you try.</p>
 <p>Use <a href="#_type_Proc::Async.pod6-method_Supply"><span class="code">.Supply</span></a> for merged STDOUT and STDERR.</p>
 <a name="t171.1.3"></a><h2 id="_type_Proc_Async.pod6-method_stderr">171.1.3 method stderr</h2>
 <pre class="code">method stderr(Proc::Async:D: :$bin --&gt; Supply:D)</pre>
 <p>Returns the <a href="#_type_Supply.pod6">Supply</a> for the external program's standard error stream. If <span class="code">:bin</span> is passed, the standard error is passed along in binary as <a href="#_type_Blob.pod6">Blob</a>, otherwise it is interpreted as UTF-8, decoded, and passed along as <a href="#_type_Str.pod6">Str</a>.</p>
 <pre class="code">my $proc = Proc::Async.new(:r, 'echo', 'Perl 6');
$proc.stderr.tap( -&gt; $str {
    say &quot;Got error '$str' from the external program&quot;;
});
my $promise = $proc.start;
await $promise;</pre>
 <p>You must call <span class="code">stderr</span> before you call <a href="#170-method start">#method start</a>. Otherwise an exception of class <a href="#_type_X::Proc::Async::TapBeforeSpawn.pod6">X::Proc::Async::TapBeforeSpawn</a> is thrown.</p>
 <p>If <span class="code">stderr</span> is not called, the external program's standard error stream is not captured at all.</p>
 <p>Note that you cannot call <span class="code">stderr</span> both with and without <span class="code">:bin</span> on the same object; it will throw an exception of type <a href="#_type_X::Proc::Async::CharsOrBytes.pod6">X::Proc::Async::CharsOrBytes</a> if you try.</p>
 <p>Use <a href="#_type_Proc::Async.pod6-method_Supply"><span class="code">.Supply</span></a> for merged STDOUT and STDERR.</p>
 <a name="t171.1.4"></a><h2 id="_type_Proc_Async.pod6-method_bind-stdin">171.1.4 method bind-stdin</h2>
 <pre class="code">multi method bind-stdin(IO::Handle:D $handle)
multi method bind-stdin(Proc::Async::Pipe:D $pipe)</pre>
 <p>Sets a handle or a <span class="code">Pipe</span> as a source of STDIN. STDIN of the target process must be writable or <span class="code">X::Proc::Async::BindOrUse</span> will be thrown.</p>
 <a name="t171.1.5"></a><h2 id="_type_Proc_Async.pod6-method_bind-stdout">171.1.5 method bind-stdout</h2>
 <pre class="code">method bind-stdout(IO::Handle:D $handle)</pre>
 <p>Redirects STDOUT of the target process to a handle. If STDOUT is closed <a href="#_type_x_proc_async_BindOrUse.pod6">X::Proc::Async::BindOrUse</a> will be thrown.</p>
 <p>Sets a w</p>
 <a name="t171.1.6"></a><h2 id="_type_Proc_Async.pod6-method_bind-stderr">171.1.6 method bind-stderr</h2>
 <pre class="code">method bind-stderr(IO::Handle:D $handle)</pre>
 <p>Redirects STDERR of the target process to a handle. If STDERR is closed <span class="code">X::Proc::Async::BindOrUse</span> will be thrown.</p>
 <a name="t171.1.7"></a><h2 id="_type_Proc_Async.pod6-method_w">171.1.7 method w</h2>
 <pre class="code">method w(Proc::Async:D:)</pre>
 <p>Returns a true value if <span class="code">:w</span> was passed to the constructor, that is, if the external program is started with its input stream made available to output to the program through the <span class="code">.print</span>, <span class="code">.say</span> and <span class="code">.write</span> methods.</p>
 <a name="t171.1.8"></a><h2 id="_type_Proc_Async.pod6-method_start">171.1.8 method start</h2>
 <pre class="code">method start(Proc::Async:D: :$scheduler = $*SCHEDULER, :$cwd = $*CWD --&gt; Promise:D)</pre>
 <p>Initiates spawning of the external program. Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept with a <a href="#_type_Proc.pod6">Proc</a> object once the external program exits, and that will be broken if the program cannot be started.</p>
 <p>If <span class="code">start</span> is called on a Proc::Async object on which it has already been called before, an exception of <a href="#_type_X::Proc::Async::AlreadyStarted.pod6">type X::Proc::Async::AlreadyStarted</a> is thrown.</p>
 <p>Note: If you wish to <span class="code">await</span> the Promise and discard its result, using</p>
 <pre class="code">try await $p.start; 
</pre>
 <p><b>will throw</b> if the program exited with non-zero status, as the <span class="code">Proc</span> returned as the result of the Promise throws when sunk and in this case it will get sunk outside the <span class="code">try</span>. To avoid that, sink it yourself <i>inside</i> the <span class="code">try</span>:</p>
 <pre class="code">try sink await $p.start; 
</pre>
 <a name="t171.1.9"></a><h2 id="_type_Proc_Async.pod6-method_started">171.1.9 method started</h2>
 <pre class="code">method started(Proc::Async:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> before <span class="code">.start</span> has been called, and <span class="code">True</span> afterwards.</p>
 <a name="t171.1.10"></a><h2 id="_type_Proc_Async.pod6-method_ready">171.1.10 method ready</h2>
 <pre class="code">method ready(Proc::Async:D: --&gt; Promise:D)</pre>
 <p>Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept once the process has successfully started. <a href="#_type_Promise.pod6">Promise</a> will be broken if the program fails to start.</p>
 <a name="t171.1.11"></a><h2 id="_type_Proc_Async.pod6-method_path">171.1.11 method path</h2>
 <pre class="code">method path(Proc::Async:D:)</pre>
 <p>Returns the name and/or path of the external program that was passed to the <span class="code">new</span> method as first argument.</p>
 <a name="t171.1.12"></a><h2 id="_type_Proc_Async.pod6-method_args">171.1.12 method args</h2>
 <pre class="code">method args(Proc::Async:D: --&gt; Positional:D)</pre>
 <p>Returns the command line arguments for the external programs, as passed to the <span class="code">new</span> method.</p>
 <a name="t171.1.13"></a><h2 id="_type_Proc_Async.pod6-method_write">171.1.13 method write</h2>
 <pre class="code">method write(Proc::Async:D: Blob:D $b, :$scheduler = $*SCHEDULER --&gt; Promise:D)</pre>
 <p>Write the binary data in <span class="code">$b</span> to the standard input stream of the external program.</p>
 <p>Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept once the data has fully landed in the input buffer of the external program.</p>
 <p>The <span class="code">Proc::Async</span> object must be created for writing (with <span class="code">Proc::Async.new(:w, $path, @args)</span>). Otherwise an <a href="#_type_X::Proc::Async::OpenForWriting.pod6">X::Proc::Async::OpenForWriting</a> exception will the thrown.</p>
 <p><span class="code">start</span> must have been called before calling method write, otherwise an <a href="#_type_X::Proc::Async::MustBeStarted.pod6">X::Proc::Async::MustBeStarted</a> exception is thrown.</p>
 <a name="t171.1.14"></a><h2 id="_type_Proc_Async.pod6-method_print">171.1.14 method print</h2>
 <pre class="code">method print(Proc::Async:D: Str(Any) $str, :$scheduler = $*SCHEDULER)</pre>
 <p>Write the text data in <span class="code">$str</span> to the standard input stream of the external program, encoding it as UTF-8.</p>
 <p>Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept once the data has fully landed in the input buffer of the external program.</p>
 <p>The <span class="code">Proc::Async</span> object must be created for writing (with <span class="code">Proc::Async.new(:w, $path, @args)</span>). Otherwise an <a href="#_type_X::Proc::Async::OpenForWriting.pod6">X::Proc::Async::OpenForWriting</a> exception will the thrown.</p>
 <p><span class="code">start</span> must have been called before calling method print, otherwise an <a href="#_type_X::Proc::Async::MustBeStarted.pod6">X::Proc::Async::MustBeStarted</a> exception is thrown.</p>
 <a name="t171.1.15"></a><h2 id="_type_Proc_Async.pod6-method_say">171.1.15 method say</h2>
 <pre class="code">method say(Proc::Async:D: $output, :$scheduler = $*SCHEDULER)</pre>
 <p>Calls method <span class="code">gist</span> on the <span class="code">$output</span>, adds a newline, encodes it as UTF-8, and sends it to the standard input stream of the external program, encoding it as UTF-8.</p>
 <p>Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept once the data has fully landed in the input buffer of the external program.</p>
 <p>The <span class="code">Proc::Async</span> object must be created for writing (with <span class="code">Proc::Async.new(:w, $path, @args)</span>). Otherwise an <a href="#_type_X::Proc::Async::OpenForWriting.pod6">X::Proc::Async::OpenForWriting</a> exception will the thrown.</p>
 <p><span class="code">start</span> must have been called before calling method say, otherwise an <a href="#_type_X::Proc::Async::MustBeStarted.pod6">X::Proc::Async::MustBeStarted</a> exception is thrown.</p>
 <a name="t171.1.16"></a><h2 id="_type_Proc_Async.pod6-method_Supply">171.1.16 method Supply</h2>
 <pre class="code">multi method Supply(Proc::Async:D: :$bin!)
multi method Supply(Proc::Async:D: :$enc, :$translate-nl)</pre>
 <p>Returns a <a href="#_type_Supply.pod6">Supply</a> of merged <a href="#_routine_stdout.pod6">stdout</a> and <a href="#_routine_stderr.pod6">stderr</a> streams. If <span class="code">:$bin</span> named argument is provided, the <span class="code">Supply</span> will be binary, producing <a href="#_type_Buf.pod6">Buf</a> objects, otherwise, it will be in character mode, producing <a href="#_type_Str.pod6">Str</a> objects and <span class="code">:$enc</span> named argument can specify <a href="#_routine_encoding.pod6">encoding</a> to use. The <span class="code">:$translate-nl</span> option specifies whether new line endings should be translated for to match those used by the current operating system (e.g. <span class="code">\r\n</span> on Windows).</p>
 <pre class="code">react { 
     with Proc::Async.new: «&quot;$*EXECUTABLE&quot; -e 'say 42; note 100'» { 
         whenever .Supply { .print }  # OUTPUT: «42␤100␤» 
         whenever .start {} 
     } 
 } 
</pre>
 <p>It is an error to create both binary and non-binary <a href="#_type_Proc::Async.pod6-method_Supply"><span class="code">.Supply</span></a>. It is also an error to use both <a href="#_type_Proc::Async.pod6-method_Supply"><span class="code">.Supply</span></a> and either <a href="#_routine_stderr.pod6">stderr</a> or <a href="#_routine_stdout.pod6">stdout</a> supplies.</p>
 <a name="t171.1.17"></a><h2 id="_type_Proc_Async.pod6-method_close-stdin">171.1.17 method close-stdin</h2>
 <pre class="code">method close-stdin(Proc::Async:D:)</pre>
 <p>Closes the standard input stream of the external program. Programs that read from STDIN often only terminate when their input stream is closed. So if waiting for the promise from <a href="#170-method start">#method start</a> hangs (for a program opened for writing), it might be a forgotten <span class="code">close-stdin</span>.</p>
 <p>The <span class="code">Proc::Async</span> object must be created for writing (with <span class="code">Proc::Async.new(:w, $path, @args)</span>). Otherwise an <a href="#_type_X::Proc::Async::OpenForWriting.pod6">X::Proc::Async::OpenForWriting</a> exception will the thrown.</p>
 <p><span class="code">start</span> must have been called before calling method close-stdin, otherwise an <a href="#_type_X::Proc::Async::MustBeStarted.pod6">X::Proc::Async::MustBeStarted</a> exception is thrown.</p>
 <a name="t171.1.18"></a><h2 id="_type_Proc_Async.pod6-method_kill">171.1.18 method kill</h2>
 <pre class="code">method kill(Proc::Async:D: $signal = &quot;HUP&quot;)</pre>
 <p>Sends a signal to the running program. The signal can be a signal name (&quot;KILL&quot; or &quot;SIGKILL&quot;), an integer (9) or an element of the <span class="code">Signal</span> enum (Signal::SIGKILL).</p>
</div>
<!-- /type/Promise.pod6 --><div class="pod-body"><a id="_type_Promise.pod6"></a><a name="t172"><h1 class="title">172 class Promise</h1></a> <p class="subtitle">Status/result of an asynchronous computation</p> <pre class="code">my enum PromiseStatus (:Planned(0), :Kept(1), :Broken(2));
class Promise {}</pre>
 <p>A <i>Promise</i> is used to handle the result of a computation that might not have finished. It allows the user to execute code once the computation is done (with the <span class="code">then</span> method), execution after a time delay (with <span class="code">in</span>), combining promises, and waiting for results.</p>
 <pre class="code">my $p = Promise.start({ sleep 2; 42});
$p.then({ say .result });   # will print 42 once the block finished
say $p.status;              # OUTPUT: «Planned␤»
$p.result;                  # waits for the computation to finish
say $p.status;              # OUTPUT: «Kept␤»</pre>
 <p>There are two typical scenarios for using promises. The first is to use a factory method (<span class="code">start</span>, <span class="code">in</span>, <span class="code">anyof</span>, <span class="code">allof</span>) on the type object; those will make sure that the promise is automatically kept or broken for you, and you can't call <span class="code">break</span> or <span class="code">keep</span> on these promises yourself.</p>
 <p>The second is to create your promises yourself with <span class="code">Promise.new</span>. If you want to ensure that only your code can keep or break the promise, you can use the <span class="code">vow</span> method to get a unique handle, and call <span class="code">keep</span> or <span class="code">break</span> on it:</p>
 <pre class="code">sub async-get-with-promise($user-agent, $url) { 
     my $p = Promise.new; 
     my $v = $p.vow; 
 
     # do an asynchronous call on a fictive user agent, 
     # and return the promise: 
     $user-agent.async-get($url, 
             on-error =&gt; -&gt; $error { 
                 $v.break($error); 
             }, 
             on-success =&gt; -&gt; $response { 
                 $v.keep($response); 
             } 
     ); 
     return $p; 
 } 
</pre>
 <p>Further examples can be found in the <a href="#_language_concurrency.pod6-Promises">concurrency page</a>.</p>
 <a name="t172.1"></a><h1 id="_type_Promise.pod6-Methods">172.1 Methods</h1>
 <a name="t172.1.1"></a><h2 id="_type_Promise.pod6-method_start">172.1.1 method start</h2>
 <pre class="code">method start(Promise:U: &amp;code, :$scheduler = $*SCHEDULER --&gt; Promise:D)</pre>
 <p>Creates a new Promise that runs the given code object. The promise will be kept when the code terminates normally, or broken if it throws an exception. The return value or exception can be inspected with the <span class="code">result</span> method.</p>
 <p>The scheduler that handles this promise can be passed as a named argument.</p>
 <p>There is also a statement prefix <span class="code">start</span> that provides syntactic sugar for this method:</p>
 <pre class="code"># these two are equivalent:
my $p1 = Promise.start({ ;#`( do something here ) });
my $p2 = start { ;#`( do something here ) };</pre>
 <a name="t172.1.2"></a><h2 id="_type_Promise.pod6-method_in">172.1.2 method in</h2>
 <pre class="code">method in(Promise:U: $seconds, :$scheduler = $*SCHEDULER --&gt; Promise:D)</pre>
 <p>Creates a new Promise that will be kept in <span class="code">$seconds</span> seconds, or later.</p>
 <pre class="code">my $proc = Proc::Async.new('perl6', '-e', 'sleep 10; warn &quot;end&quot;');

my $result = await Promise.anyof(
    my $promise = $proc.start,
    Promise.in(5).then: { note 'timeout'; $proc.kill }
).then: {$promise.result};
# OUTPUT: «timeout␤»</pre>
 <p><span class="code">$seconds</span> can be fractional or negative. Negative values are treated as <span class="code">0</span> (i.e. <a href="#_routine_keep.pod6">keeping</a> the returned <a href="#_type_Promise.pod6">Promise</a> right away).</p>
 <a name="t172.1.3"></a><h2 id="_type_Promise.pod6-method_at">172.1.3 method at</h2>
 <pre class="code">method at(Promise:U: $at, :$scheduler = $*SCHEDULER --&gt; Promise:D)</pre>
 <p>Creates a new <span class="code">Promise</span> that will be kept <span class="code">$at</span> the given time—which is given as an <a href="#_type_Instant.pod6">Instant</a> or equivalent <a href="#_type_Numeric.pod6">Numeric</a>—or as soon as possible after it.</p>
 <pre class="code">my $p = Promise.at(now + 2).then({ say &quot;2 seconds later&quot; });
# do other stuff here

await $p;   # wait here until the 2 seconds are over</pre>
 <p>If the given time is in the past, it will be treated as <a href="#_routine_now.pod6">now</a> (i.e. <a href="#_routine_keep.pod6">keeping</a> the returned <a href="#_type_Promise.pod6">Promise</a> right away).</p>
 <a name="t172.1.4"></a><h2 id="_type_Promise.pod6-method_allof">172.1.4 method allof</h2>
 <pre class="code">method allof(Promise:U: *@promises --&gt; Promise:D)</pre>
 <p>Returns a new promise that will be kept when all the promises passed as arguments are kept or broken. The result of the individual Promises is not reflected in the result of the returned promise: it simply indicates that all the promises have been completed in some way. If the results of the individual promises are important then they should be inspected after the <span class="code">allof</span> promise is kept.</p>
 <p>In the following requesting the <span class="code">result</span> of a broken promise will case the original Exception to be thrown. (You may need to run it several times to see the exception.)</p>
 <pre class="code">my @promises;
for 1..5 -&gt; $t {
    push @promises, start {
        sleep $t;
    };
}
my $all-done = Promise.allof(@promises);
await $all-done;
@promises&gt;&gt;.result;
say &quot;Promises kept so we get to live another day!&quot;;</pre>
 <a name="t172.1.5"></a><h2 id="_type_Promise.pod6-method_anyof">172.1.5 method anyof</h2>
 <pre class="code">method anyof(Promise:U: *@promises --&gt; Promise:D)</pre>
 <p>Returns a new promise that will be kept as soon as any of the promises passed as arguments is kept or broken. The result of the completed Promise is not reflected in the result of the returned promise which will always be Kept.</p>
 <p>You can use this to wait at most a number of seconds for a promise:</p>
 <pre class="code">my $timeout = 5;
await Promise.anyof(
    Promise.in($timeout),
    start {
        # do a potentially long-running calculation here
    },
);</pre>
 <a name="t172.1.6"></a><h2 id="_type_Promise.pod6-method_then">172.1.6 method then</h2>
 <pre class="code">method then(Promise:D: &amp;code)</pre>
 <p>Schedules a piece of code to be run after the invocant has been kept or broken, and returns a new promise for this computation. In other words, creates a chained promise.</p>
 <pre class="code">my $timer = Promise.in(2);
my $after = $timer.then({ say &quot;2 seconds are over!&quot;; 'result' });
say $after.result;  # 2 seconds are over
                    # result</pre>
 <a name="t172.1.7"></a><h2 id="_type_Promise.pod6-method_keep">172.1.7 method keep</h2>
 <pre class="code">multi method keep(Promise:D:)
multi method keep(Promise:D: \result)</pre>
 <p>Keeps a promise, optionally setting the result. If no result is passed, the result will be <span class="code">True</span>.</p>
 <p>Throws an exception of type <span class="code">X::Promise::Vowed</span> if a vow has already been taken. See method <span class="code">vow</span> for more information.</p>
 <pre class="code">my $p = Promise.new;

if Bool.pick {
    $p.keep;
}
else {
     $p.break;
}</pre>
 <a name="t172.1.8"></a><h2 id="_type_Promise.pod6-method_break">172.1.8 method break</h2>
 <pre class="code">multi method break(Promise:D:)
multi method break(Promise:D: \cause)</pre>
 <p>Breaks a promise, optionally setting the cause. If no cause is passed, the cause will be <span class="code">False</span>.</p>
 <p>Throws an exception of type <span class="code">X::Promise::Vowed</span> if a vow has already been taken. See method <span class="code">vow</span> for more information.</p>
 <pre class="code">my $p = Promise.new;

$p.break('sorry');
say $p.status;          # OUTPUT: «Broken␤»
say $p.cause;           # OUTPUT: «sorry␤»</pre>
 <a name="t172.1.9"></a><h2 id="_type_Promise.pod6-method_result">172.1.9 method result</h2>
 <pre class="code">method result(Promise:D)</pre>
 <p>Waits for the promise to be kept or broken. If it is kept, returns the result; otherwise throws the result as an exception.</p>
 <a name="t172.1.10"></a><h2 id="_type_Promise.pod6-method_cause">172.1.10 method cause</h2>
 <pre class="code">method cause(Promise:D)</pre>
 <p>If the promise was broken, returns the result (or exception). Otherwise, throws an exception of type <span class="code">X::Promise::CauseOnlyValidOnBroken</span>.</p>
 <a name="t172.1.11"></a><h2 id="_type_Promise.pod6-method_Bool">172.1.11 method Bool</h2>
 <pre class="code">multi method Bool(Promise:D:)</pre>
 <p>Returns <span class="code">True</span> for a kept or broken promise, and <span class="code">False</span> for one in state <span class="code">Planned</span>.</p>
 <a name="t172.1.12"></a><h2 id="_type_Promise.pod6-method_status">172.1.12 method status</h2>
 <pre class="code">method status(Promise:D --&gt; PromiseStatus)</pre>
 <p>Returns the current state of the promise: <span class="code">Kept</span>, <span class="code">Broken</span> or <span class="code">Planned</span>:</p>
 <pre class="code">say &quot;promise got Kept&quot; if $promise.status ~~ Kept; 
</pre>
 <a name="t172.1.13"></a><h2 id="_type_Promise.pod6-method_scheduler">172.1.13 method scheduler</h2>
 <pre class="code">method scheduler(Promise:D:)</pre>
 <p>Returns the scheduler that manages the promise.</p>
 <a name="t172.1.14"></a><h2 id="_type_Promise.pod6-method_vow">172.1.14 method vow</h2>
 <pre class="code">my class Vow { 
     has Promise $.promise; 
     method keep() { ... } 
     method break() { ... } 
 } 
 method vow(Promise:D: --&gt; Vow:D) 
</pre>
 <p>Returns an object that holds the sole authority over keeping or breaking a promise. Calling <span class="code">keep</span> or <span class="code">break</span> on a promise that has vow taken throws an exception of type <span class="code">X::Promise::Vowed</span>.</p>
 <pre class="code">my $p   = Promise.new;
my $vow = $p.vow;
$vow.keep($p);
say $p.status;          # OUTPUT: «Kept␤»</pre>
 <a name="t172.1.15"></a><h2 id="_type_Promise.pod6-method_Supply">172.1.15 method Supply</h2>
 <pre class="code">method Supply(Promise:D:)</pre>
 <p>Returns a <a href="#_type_Supply.pod6">Supply</a> that will emit the <span class="code">result</span> of the <a href="#_type_Promise.pod6">Promise</a> being Kept or <span class="code">quit</span> with the <span class="code">cause</span> if the <a href="#_type_Promise.pod6">Promise</a> is Broken.</p>
 <a name="t172.1.16"></a><h2 id="_type_Promise.pod6-sub_await">172.1.16 sub await</h2>
 <pre class="code">multi sub await(Promise:D --&gt; Promise)
multi sub await(*@ --&gt; Array)</pre>
 <p>Waits until one or more promises are <i>all</i> fulfilled, and then returns their values. Also works on <a href="#_type_Channel.pod6">channels</a>. Any broken promises will rethrow their exceptions. If a list of promises is provided a list of promises is returned.</p>
</div>
<!-- /type/Proxy.pod6 --><div class="pod-body"><a id="_type_Proxy.pod6"></a><a name="t173"><h1 class="title">173 class Proxy</h1></a> <p class="subtitle">Item container with custom storage and retrieval</p> <pre class="code">class Proxy {}</pre>
 <p>A Proxy is an object that allows you to execute whenever a value is retrieved from a container (<span class="code">FETCH</span>) or when it is set (<span class="code">STORE</span>). Please note that <span class="code">Proxy</span> can introduce mutability at places where it would break behaviour, e.g. in <span class="code">Hash</span> keys.</p>
 <p>To create a container that returns twice of what was stored in it, you do something like this:</p>
 <pre class="code">sub double() is rw {
    my $storage = 0;
    Proxy.new(
        FETCH =&gt; method ()     { $storage * 2    },
        STORE =&gt; method ($new) { $storage = $new },
    )
 }
 my $doubled := double();
 $doubled = 4;
 say $doubled;       # OUTPUT: «8␤»</pre>
 <a name="t173.1"></a><h1 id="_type_Proxy.pod6-Methods">173.1 Methods</h1>
 <a name="t173.1.1"></a><h2 id="_type_Proxy.pod6-method_new">173.1.1 method new</h2>
 <pre class="code">method new(:&amp;FETCH!, :&amp;STORE! --&gt; Proxy:D)</pre>
 <p>Creates a new <span class="code">Proxy</span> object. <span class="code">&amp;FETCH</span> is called with one argument (the proxy object) when the value is accessed, and must return the value that the fetch produces. <span class="code">&amp;STORE</span> is called with two arguments (the proxy object, and the new value) when a new value is stored in the container.</p>
</div>
<!-- /type/PseudoStash.pod6 --><div class="pod-body"><a id="_type_PseudoStash.pod6"></a><a name="t174"><h1 class="title">174 class PseudoStash</h1></a> <p class="subtitle">Stash type for pseudo-packages</p> <pre class="code">class PseudoStash is Map { }</pre>
 <p><span class="code">PseudoStash</span> is the stash type (hanging off <span class="code">.WHO</span>) that backs various pseudo-packages. So, when you do <span class="code">MY::</span> or <span class="code">CALLER::</span>, that gives back a <span class="code">PseudoStash</span>. In most cases, <span class="code">Package::</span> gives back a <span class="code">Stash</span>. Neither of these are objects the user is expected to create by themselves, but in case you have one, you can just use it like a hash.</p>
 <pre class="code">my $a = 42; 
 my $b = q/$a/; 
 say MY::{$b}; 
 #OUTPUT: «42␤» 
</pre>
 <p>This shows how you can use a <span class="code">PseudoStash</span> to look up variables, by name, at runtime.</p>
</div>
<!-- /type/QuantHash.pod6 --><div class="pod-body"><a id="_type_QuantHash.pod6"></a><a name="t175"><h1 class="title">175 role QuantHash</h1></a> <p class="subtitle">Collection of objects represented as hash keys</p> <pre class="code">role QuantHash does Associative { }</pre>
 <p>A <span class="code">QuantHash</span> represents a set of objects, represented as the keys of a <span class="code">Hash</span>. When asked to behave as a list it ignores its <span class="code">.values</span> and returns only <span class="code">.keys</span> (possibly replicated by weight in the case of bag types). For any <span class="code">QuantHash</span>, the <span class="code">.total</span> methods returns the current sum of the values.</p>
 <p>All standard QuantHash containers have a default value that is false (such as <span class="code">0</span> or <span class="code">''</span> or <span class="code">Nil</span> or <span class="code">Bool::False</span>), and keep around only those entries with non-default values, automatically deleting any entry if its value goes to that (false) default value.</p>
</div>
<!-- /type/Range.pod6 --><div class="pod-body"><a id="_type_Range.pod6"></a><a name="t176"><h1 class="title">176 class Range</h1></a> <p class="subtitle">Interval of ordered values</p> <pre class="code">class Range is Iterable does Positional {} 
</pre>
 <p>Ranges serve two main purposes: to generate lists of consecutive numbers or strings, and to act as a matcher to check if a number or string is within a certain range.</p>
 <p>Ranges are constructed using one of the four possible range operators, which consist of two dots, and optionally a caret which indicates that the endpoint marked with it is excluded from the range.</p>
 <pre class="code">1 .. 5;  # 1 &lt;= $x &lt;= 5
1^.. 5;  # 1 &lt;  $x &lt;= 5
1 ..^5;  # 1 &lt;= $x &lt;  5
1^..^5;  # 1 &lt;  $x &lt;  5</pre>
 <p>The caret is also a prefix operator for constructing numeric ranges starting from zero:</p>
 <pre class="code">my $x = 10;
say ^$x;     # same as 0 ..^ $x.Numeric</pre>
 <p>Iterating a range (or calling the <span class="code">list</span> method) uses the same semantics as the <span class="code">++</span> prefix and postfix operators, i.e., it calls the <span class="code">succ</span> method on the start point, and then the generated elements.</p>
 <p>Ranges always go from small to larger elements; if the start point is bigger than the end point, the range is considered empty.</p>
 <pre class="code">for 1..5 { .say };       # OUTPUT: «1␤2␤3␤4␤5␤»
('a' ^..^ 'f').list;     # RESULT: «'b', 'c', 'd', 'e'»
5 ~~ ^5;                 # RESULT: «False»
4.5 ~~ 0..^5;            # RESULT: «True»
(1.1..5).list;           # RESULT: «(1.1, 2.1, 3.1, 4.1)»</pre>
 <p>Use the <a href="#_language_operators.pod6-infix_...">...</a> sequence operator to produce lists of elements that go from larger to smaller values, or to use offsets other than increment-by-1 and other complex cases.</p>
 <p>Use <span class="code">∞</span> or <span class="code">*</span> (Whatever) to indicate an end point to be open-ended.</p>
 <pre class="code">for 1..* { .say };       # start from 1, continue until stopped 
 for 1..∞ { .say };       # the same 
</pre>
 <a name="t176.0.1"></a><h2 id="_type_Range.pod6-Ranges_in_subscripts">176.0.1 Ranges in subscripts</h2>
 <p>A Range can be used in a subscript to get a range of values. Please note that assigning a Range to a scalar container turns the Range into a item. Use binding, @-sigiled containers or a slip to get what you mean.</p>
 <pre class="code">my @numbers =  &lt;4 8 15 16 23 42&gt;;
my $range := 0..2;
.say for @numbers[$range]; # OUTPUT: «4␤8␤15␤»
my @range = 0..2;
.say for @numbers[@range]; # OUTPUT: «4␤8␤15␤»</pre>
 <a name="t176.0.2"></a><h2 id="_type_Range.pod6-Shifting_and_scaling_intervals">176.0.2 Shifting and scaling intervals</h2>
 <p>It is possible to shift or scale the interval of a range:</p>
 <pre class="code">say (1..10) + 1;       # OUTPUT: «2..11␤»
say (1..10) - 1;       # OUTPUT: «0..9␤»
say (1..10) * 2;       # OUTPUT: «2..20␤»
say (1..10) / 2;       # OUTPUT: «0.5..5.0␤»</pre>
 <a name="t176.1"></a><h1 id="_type_Range.pod6-Methods">176.1 Methods</h1>
 <a name="t176.1.1"></a><h2 id="_type_Range.pod6-method_ACCEPTS">176.1.1 method ACCEPTS</h2>
 <p>Defined as</p>
 <pre class="code">multi method ACCEPTS(Range:D: Mu \topic)
multi method ACCEPTS(Range:D: Range \topic)
multi method ACCEPTS(Range:D: Cool:D \got)
multi method ACCEPTS(Range:D: Complex:D \got)</pre>
 <p>Indicates if the <span class="code">Range</span> contains (overlaps with) another <span class="code">Range</span>. As an example:</p>
 <pre class="code">my $p = Range.new( 3, 5  );
my $r = Range.new( 1, 10 );

say $p.ACCEPTS( $r );    # OUTPUT: «False␤»
say $r.ACCEPTS( $p );    # OUTPUT: «True␤»
say $r ~~ $p;            # OUTPUT: «False␤»  (same as $p.ACCEPTS( $r )
say $p ~~ $r;            # OUTPUT: «True␤»   (same as $r.ACCEPTS( $p )</pre>
 <p>Of course, an infinite <span class="code">Range</span> always contains another <span class="code">Range</span>, therefore:</p>
 <pre class="code">say 1..10 ~~ -∞..∞;    # OUTPUT: «True␤»
say 1..10 ~~ -∞^..^∞;  # OUTPUT: «True␤»</pre>
 <p>Similarly, a <span class="code">Range</span> with open boundaries often includes other ranges:</p>
 <pre class="code">say 1..2 ~~ *..10;  # OUTPUT: «True␤»
say 2..5 ~~ 1..*;   # OUTPUT: «True␤»</pre>
 <p>It is also possible to use non-numeric ranges, for instance string based ones:</p>
 <pre class="code">say 'a'..'j' ~~ 'b'..'c';  # OUTPUT: «False␤»
say 'b'..'c' ~~ 'a'..'j';  # OUTPUT: «True␤»
say 'perl' ~~ -∞^..^∞;     # OUTPUT: «True␤»
say 'perl' ~~ -∞..∞;       # OUTPUT: «True␤»
say 'perl' ~~ 1..*;        # OUTPUT: «True␤»</pre>
 <p>When smart-matching a <span class="code">Range</span> of integers with a <a href="#_type_Cool.pod6">Cool</a> (string) the <span class="code">ACCEPTS</span> methods exploits the <a href="#_routine_before.pod6">before</a> and <a href="#_routine_after.pod6">after</a> operators in order to check that the <span class="code">Cool</span> value is overlapping the range:</p>
 <pre class="code">say 1.10 ~~ '5';   # OUTPUT: «False␤»
say '5' before 1;  # OUTPUT: «False␤»
say '5' after 10;  # OUTPUT: «True␤»
say '5' ~~ *..10;  # OUTPUT: «False␤»</pre>
 <p>In the above example, since the <span class="code">'5'</span> string is <i>after</i> the <span class="code">10</span> integer value, the <span class="code">Range</span> does not overlap with the specified value.</p>
 <p>When matching with a <span class="code">Mu</span> instance (i.e., a generic instance), the <a href="#_routine_cmp.pod6">cmp</a> operator is used.</p>
 <a name="t176.1.2"></a><h2 id="_type_Range.pod6-method_min">176.1.2 method min</h2>
 <pre class="code">method min(Range:D:)</pre>
 <p>Returns the start point of the range.</p>
 <pre class="code">say (1..5).min;                                   # OUTPUT: «1␤»
say (1^..^5).min;                                 # OUTPUT: «1␤»</pre>
 <a name="t176.1.3"></a><h2 id="_type_Range.pod6-method_excludes-min">176.1.3 method excludes-min</h2>
 <pre class="code">method excludes-min(Range:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the start point is excluded from the range, and <span class="code">False</span> otherwise.</p>
 <pre class="code">say (1..5).excludes-min;                          # OUTPUT: «False␤»
say (1^..^5).excludes-min;                        # OUTPUT: «True␤»</pre>
 <a name="t176.1.4"></a><h2 id="_type_Range.pod6-method_max">176.1.4 method max</h2>
 <pre class="code">method max(Range:D:)</pre>
 <p>Returns the end point of the range.</p>
 <pre class="code">say (1..5).max;                                   # OUTPUT: «5␤»
say (1^..^5).max;                                 # OUTPUT: «5␤»</pre>
 <a name="t176.1.5"></a><h2 id="_type_Range.pod6-method_excludes-max">176.1.5 method excludes-max</h2>
 <pre class="code">method excludes-max(Range:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the end point is excluded from the range, and <span class="code">False</span> otherwise.</p>
 <pre class="code">say (1..5).excludes-max;                          # OUTPUT: «False␤»
say (1^..^5).excludes-max;                        # OUTPUT: «True␤»</pre>
 <a name="t176.1.6"></a><h2 id="_type_Range.pod6-method_bounds">176.1.6 method bounds</h2>
 <pre class="code">method bounds(Range:D: --&gt; Positional)</pre>
 <p>Returns a list consisting of the start and end point.</p>
 <pre class="code">say (1..5).bounds;                                # OUTPUT: «(1 5)␤»
say (1^..^5).bounds;                              # OUTPUT: «(1 5)␤»</pre>
 <a name="t176.1.7"></a><h2 id="_type_Range.pod6-method_infinite">176.1.7 method infinite</h2>
 <pre class="code">method infinite(Range:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if either end point was declared with <span class="code">∞</span> or <span class="code">*</span>.</p>
 <pre class="code">say (1..5).infinite;                              # OUTPUT: «False␤»
say (1..*).infinite;                              # OUTPUT: «True␤»</pre>
 <a name="t176.1.8"></a><h2 id="_type_Range.pod6-method_is-int">176.1.8 method is-int</h2>
 <pre class="code">method is-int(Range:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if both end points are <span class="code">Int</span> values.</p>
 <pre class="code">say ('a'..'d').is-int;                            # OUTPUT: «False␤»
say (1..^5).is-int;                               # OUTPUT: «True␤»
say (1.1..5.5).is-int;                            # OUTPUT: «False␤»</pre>
 <a name="t176.1.9"></a><h2 id="_type_Range.pod6-method_int-bounds">176.1.9 method int-bounds</h2>
 <pre class="code">method int-bounds(Range:D: --&gt; Positional)</pre>
 <p>If the <span class="code">Range</span> is an integer range (as indicated by <a href="#_routine_is-int.pod6">is-int</a>), then this method returns a list with the first and last value it will iterate over (taking into account <a href="#_routine_excludes-min.pod6">excludes-min</a> and <a href="#_routine_excludes-max.pod6">excludes-max</a>). Returns a Failure if it is not an integer range.</p>
 <pre class="code">say (2..5).int-bounds;                            # OUTPUT: «(2 5)␤»
say (2..^5).int-bounds;                           # OUTPUT: «(2 4)␤»</pre>
 <a name="t176.1.10"></a><h2 id="_type_Range.pod6-method_minmax">176.1.10 method minmax</h2>
 <p>Defined as:</p>
 <pre class="code">multi method minmax(Range:D: --&gt; List:D)</pre>
 <p>If the <span class="code">Range</span> is an integer range (as indicated by <a href="#_routine_is-int.pod6">is-int</a>), then this method returns a list with the first and last value it will iterate over (taking into account <a href="#_routine_excludes-min.pod6">excludes-min</a> and <a href="#_routine_excludes-max.pod6">excludes-max</a>). If the range is not an integer range, the method will return a two element list containing the start and end point of the range unless either of <a href="#_routine_excludes-min.pod6">excludes-min</a> or <a href="#_routine_excludes-max.pod6">excludes-max</a> are <span class="code">True</span> in which case a <a href="#_type_Failure.pod6">Failure</a> is returned.</p>
 <pre class="code">my $r1 = (1..5); my $r2 = (1^..5);
say $r1.is-int, ', ', $r2.is-int;                 # OUTPUT: «True, True␤»
say $r1.excludes-min, ', ', $r2.excludes-min;     # OUTPUT: «False, True␤»
say $r1.minmax, ', ', $r2.minmax;                 # OUTPUT: «(1 5), (2 5)␤»

my $r3 = (1.1..5.2); my $r4 = (1.1..^5.2);
say $r3.is-int, ', ', $r4.is-int;                 # OUTPUT: «False, False␤»
say $r3.excludes-max, ', ', $r4.excludes-max;     # OUTPUT: «False, True␤»
say $r3.minmax;                                   # OUTPUT: «(1.1 5.2)␤»
say $r4.minmax;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::AdHoc: Cannot return minmax on Range with excluded ends␤»</pre>
 <a name="t176.1.11"></a><h2 id="_type_Range.pod6-method_elems">176.1.11 method elems</h2>
 <pre class="code">method elems(Range:D: --&gt; Numeric:D)</pre>
 <p>Returns the number of elements in the range, e.g. when being iterated over, or when used as a <span class="code">List</span>. Returns Inf if either end point was specified as <span class="code">Inf</span> or <span class="code">*</span>.</p>
 <pre class="code">say (1..5).elems;                                 # OUTPUT: «5␤»
say (1^..^5).elems;                               # OUTPUT: «3␤»</pre>
 <a name="t176.1.12"></a><h2 id="_type_Range.pod6-method_list">176.1.12 method list</h2>
 <pre class="code">method list(Range:D: --&gt; List:D)</pre>
 <p>Generates the list of elements that the range represents.</p>
 <pre class="code">say (1..5).list;                                  # OUTPUT: «(1 2 3 4 5)␤»
say (1^..^5).list;                                # OUTPUT: «(2 3 4)␤»</pre>
 <a name="t176.1.13"></a><h2 id="_type_Range.pod6-method_flat">176.1.13 method flat</h2>
 <pre class="code">method flat(Range:D: --&gt; List:D)</pre>
 <p>Generates the list of elements that the range represents.</p>
 <a name="t176.1.14"></a><h2 id="_type_Range.pod6-method_pick">176.1.14 method pick</h2>
 <pre class="code">multi method pick(Range:D:         --&gt; Any:D)
multi method pick(Range:D: $number --&gt; Seq:D)</pre>
 <p>Performs the same function as <span class="code">Range.list.pick</span>, but attempts to optimize by not actually generating the list if it is not necessary.</p>
 <a name="t176.1.15"></a><h2 id="_type_Range.pod6-method_roll">176.1.15 method roll</h2>
 <pre class="code">multi method roll(Range:D:         --&gt; Any:D)
multi method roll(Range:D: $number --&gt; Seq:D)</pre>
 <p>Performs the same function as <span class="code">Range.list.roll</span>, but attempts to optimize by not actually generating the list if it is not necessary.</p>
 <a name="t176.1.16"></a><h2 id="_type_Range.pod6-method_sum">176.1.16 method sum</h2>
 <pre class="code">multi method sum(--&gt; Numeric:D)</pre>
 <p>Returns the sum of all elements in the Range. Throws <a href="#_type_X::Str::Numeric.pod6">X::Str::Numeric</a> if an element can not be coerced into Numeric.</p>
 <pre class="code">(1..10).sum                                       # 55</pre>
 <a name="t176.1.17"></a><h2 id="_type_Range.pod6-method_reverse">176.1.17 method reverse</h2>
 <pre class="code">method reverse(Range:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> where all elements that the <span class="code">Range</span> represents have been reversed. Note that reversing an infinite <span class="code">Range</span> won't produce any meaningful results.</p>
 <pre class="code">say (1^..5).reverse;                            # OUTPUT: «(5 4 3 2)␤»
say ('a'..'d').reverse;                         # OUTPUT: «(d c b a)␤»
say (1..∞).reverse;                             # OUTPUT: «(Inf Inf Inf ...)␤»</pre>
 <a name="t176.1.18"></a><h2 id="_type_Range.pod6-method_Capture">176.1.18 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Range --&gt; Capture:D)</pre>
 <p>Returns a <a href="#_type_Capture.pod6">Capture</a> with values of <a href="#_type_Range.pod6-method_min"><span class="code">.min</span></a> <a href="#_type_Range.pod6-method_max"><span class="code">.max</span></a>, <a href="#_type_Range.pod6-method_excludes-min"><span class="code">.excludes-min</span></a>, <a href="#_type_Range.pod6-method_excludes-max"><span class="code">.excludes-max</span></a>, <a href="#_type_Range.pod6-method_infinite"><span class="code">.infinite</span></a>, and <a href="#_type_Range.pod6-method_is-int"><span class="code">.is-int</span></a> as named arguments.</p>
 <a name="t176.1.19"></a><h2 id="_type_Range.pod6-method_rand">176.1.19 method rand</h2>
 <p>Defined as:</p>
 <pre class="code">method rand(Range:D --&gt; Num:D)</pre>
 <p>Returns a pseudo-random value belonging to the range.</p>
 <pre class="code">say (1^..5).rand;                              # OUTPUT: «1.02405550417031␤»
say (0.1..0.3).rand;                           # OUTPUT: «0.2130353370062␤»</pre>
</div>
<!-- /type/Rat.pod6 --><div class="pod-body"><a id="_type_Rat.pod6"></a><a name="t177"><h1 class="title">177 class Rat</h1></a> <p class="subtitle">Rational number (limited-precision)</p> <pre class="code">class Rat is Cool does Rational[Int, uint64] { }</pre>
 <p><span class="code">Rat</span> objects store rational numbers as a pair of a numerator and denominator. Number literals with a dot but without exponent produce <span class="code">Rat</span>s.</p>
 <pre class="code">say 3.1;          # OUTPUT: «3.1␤»      (same as: Rat.new(31, 10))
say 3.1.^name;    # OUTPUT: «Rat␤»
say 3.1.nude;     # OUTPUT: «(31 10)␤»

say &lt;1/2&gt;;        # OUTPUT: «0.5␤»      (same as: Rat.new(1, 2))
say &lt;1/2&gt;.^name;  # OUTPUT: «Rat␤»
say &lt;1/2&gt;.nude;   # OUTPUT: «(1 2)␤»</pre>
 <p>Thus arithmetic with short dotted-decimal numbers does not suffer from floating point errors.</p>
 <p>To prevent the numerator and denominator from becoming pathologically large, the denominator is limited to 64 bit storage. On overflow of the denominator a <span class="code">Num</span> (floating-point number) is returned instead.</p>
 <p>For example this function crudely approximates a square root, and overflows the denominator quickly:</p>
 <pre class="code">sub approx-sqrt($n, $iterations) {
    my $x = $n;
    $x = ($x + $n / $x) / 2 for ^$iterations;
    return $x;
}
say approx-sqrt(2, 5).^name;     # OUTPUT: «Rat␤»
say approx-sqrt(2, 10).^name;    # OUTPUT: «Num␤»</pre>
 <p>If you want arbitrary precision arithmetic with rational numbers, use the <a href="#_type_FatRat.pod6">FatRat</a> type instead.</p>
 <p><span class="code">Rat</span> objects are immutable.</p>
 <a name="t177.1"></a><h1 id="_type_Rat.pod6-Methods">177.1 Methods</h1>
 <a name="t177.1.1"></a><h2 id="_type_Rat.pod6-method_perl">177.1.1 method perl</h2>
 <pre class="code">multi method perl(Rat:D: --&gt; Str:D)</pre>
 <p>Returns a string representation corresponding to the unambiguous <span class="code">val()</span>-based representation of rational literals. If the number can be represented exactly in decimal, it will be. Otherwise uses the form &quot;<span class="code">&lt;3/5&gt; </span>&quot;, without internal spaces, and including the angles that keep the <span class="code">/</span> from being treated as a normal division operator.</p>
 <pre class="code">say (1/3).perl;                # OUTPUT: «&lt;1/3&gt;␤»
say (2/4).perl;                # OUTPUT: «0.5␤»</pre>
</div>
<!-- /type/RatStr.pod6 --><div class="pod-body"><a id="_type_RatStr.pod6"></a><a name="t178"><h1 class="title">178 class RatStr</h1></a> <p class="subtitle">Dual Value Rational number and String</p> <pre class="code">class RatStr is Rat is Str {}</pre>
 <p>The dual value types (often referred to as <a href="#_language_glossary.pod6-Allomorph">allomorphs</a>) allow for the representation of a value as both a string and a numeric type, typically they will be created for you when the context is &quot;stringy&quot; but they can be determined to be numbers, such as in some <a href="#_language_quoting.pod6">quoting constructs</a>:</p>
 <pre class="code">my $f = &lt;42.1&gt;; say $f.^name; # OUTPUT: «RatStr␤»</pre>
 <p>As a subclass of both <a href="#_type_Rat.pod6"><span class="code">Rat</span></a> and <a href="#_type_Str.pod6"><span class="code">Str</span></a>, a <span class="code">RatStr</span> will be accepted where either is expected. However, <span class="code">RatStr</span> does not share object identity with <span class="code">Rat</span>- or <span class="code">Str</span>-only variants:</p>
 <pre class="code">my $rat-str = &lt;42.1&gt;;
my Rat $rat = $rat-str; # OK!
my Str $str = $rat-str; # OK!
say 42.1 ∈ &lt;42.1  55  1&gt;; # False; ∈ operator cares about object identity</pre>
 <a name="t178.1"></a><h1 id="_type_RatStr.pod6-Methods">178.1 Methods</h1>
 <a name="t178.1.1"></a><h2 id="_type_RatStr.pod6-method_new">178.1.1 method new</h2>
 <pre class="code">method new(Rat $i, Str $s)</pre>
 <p>The constructor requires both the <span class="code">Rat</span> and the <span class="code">Str</span> value, when constructing one directly the values can be whatever is required:</p>
 <pre class="code">my $f = RatStr.new(42.1, &quot;forty two and a bit&quot;);
say +$f; # OUTPUT: «42.1␤»
say ~$f; # OUTPUT: «&quot;forty two and a bit&quot;␤»</pre>
 <a name="t178.1.2"></a><h2 id="_type_RatStr.pod6-method_Bool">178.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(RatStr:D: --&gt; Bool:D)</pre>
 <p><i>This method may be provided by the parent classes and not implemented in RatStr directly</i>.</p>
 <p>Returns <span class="code">False</span> if the <a href="#_routine_numerator.pod6">numerator</a> of the numeric portion is <span class="code">0</span>, otherwise returns <span class="code">True</span>. This applies for <span class="code">&lt; 0/0 &gt;</span> zero-denominator <a href="#_type_RatStr.pod6">RatStr</a> as well, despite <span class="code">?&lt; 0/0 &gt;.Num</span> being <span class="code">True</span>. String portion is not considered.</p>
 <a name="t178.1.3"></a><h2 id="_type_RatStr.pod6-method_Capture">178.1.3 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(RatStr:D --&gt; Capture:D)</pre>
 <p>Equivalent to <a href="#_type_Mu.pod6-method_Capture"><span class="code">Mu.Capture</span></a>.</p>
 <a name="t178.1.4"></a><h2 id="_type_RatStr.pod6-method_Numeric">178.1.4 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Numeric(RatStr:D: --&gt; Rat:D)
multi method Numeric(RatStr:U: --&gt; Rat:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0.0</span>.</p>
 <a name="t178.1.5"></a><h2 id="_type_RatStr.pod6-method_Rat">178.1.5 method Rat</h2>
 <pre class="code">method Rat</pre>
 <p>Returns the <span class="code">Rat</span> value of the <span class="code">RatStr</span>.</p>
 <a name="t178.1.6"></a><h2 id="_type_RatStr.pod6-method_Real">178.1.6 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(Real:D: --&gt; Rat:D)
multi method Real(Real:U: --&gt; Rat:D)</pre>
 <p>The <span class="code">:D</span> variant returns the numeric portion of the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns value <span class="code">0.0</span>.</p>
 <a name="t178.1.7"></a><h2 id="_type_RatStr.pod6-method_Str">178.1.7 method Str</h2>
 <p>Returns the string value of the <span class="code">RatStr</span>.</p>
 <a name="t178.1.8"></a><h2 id="_type_RatStr.pod6-method_ACCEPTS">178.1.8 method ACCEPTS</h2>
 <p>Defined as:</p>
 <pre class="code">multi method ACCEPTS(RatStr:D: Any:D $value)</pre>
 <p>If <span class="code">$value</span> is <a href="#_type_Numeric.pod6">Numeric</a> (including another <a href="#_language_glossary.pod6-index-entry-Allomorph">allomorph</a>), checks if invocant's <a href="#_type_Numeric.pod6">Numeric</a> part <a href="#_type_Numeric.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If <span class="code">$value</span> is <a href="#_type_Str.pod6">Str</a>, checks if invocant's <a href="#_type_Str.pod6">Str</a> part <a href="#_type_Str.pod6-method_ACCEPTS">ACCEPTS</a> the <span class="code">$value</span>. If value is anything else, checks if both <a href="#_type_Numeric.pod6">Numeric</a> and <a href="#_type_Str.pod6">Str</a> parts <span class="code">ACCEPTS</span> the <span class="code">$value</span>.</p>
 <pre class="code">say &lt;5.0&gt; ~~ &quot;5&quot;; # OUTPUT: «False␤»
say &lt;5.0&gt; ~~  5 ; # OUTPUT: «True␤»
say &lt;5.0&gt; ~~ &lt;5&gt;; # OUTPUT: «True␤»</pre>
 <a name="t178.2"></a><h1 id="_type_RatStr.pod6-Operators">178.2 Operators</h1>
 <a name="t178.2.1"></a><h2 id="_type_RatStr.pod6-infix_cmp">178.2.1 infix cmp</h2>
 <pre class="code">multi sub infix:&lt;cmp&gt;(RatStr:D $a, RatStr:D $b)</pre>
 <p>Compare two <span class="code">RatStr</span> objects. The comparison is done on the <span class="code">Rat</span> value first and then on the <span class="code">Str</span> value. If you want to compare in a different order then you would coerce to the <span class="code">Rat</span> or <span class="code">Str</span> values first:</p>
 <pre class="code">my $f = RatStr.new(42.1, &quot;smaller&quot;);
my $g = RatStr.new(43.1, &quot;larger&quot;);
say $f cmp $g;          # OUTPUT: «Less␤»
say $f.Str cmp $g.Str;  # OUTPUT: «More␤»</pre>
</div>
<!-- /type/Rational.pod6 --><div class="pod-body"><a id="_type_Rational.pod6"></a><a name="t179"><h1 class="title">179 role Rational</h1></a> <p class="subtitle">Number stored as numerator and denominator</p> <pre class="code">role Rational[::NuT, ::DeT] does Real { ... }</pre>
 <p><span class="code">Rational</span> is the common role for numbers that are stored as pairs of numerator and denominator. It is parameterized by the types of the numerator (<span class="code">NuT</span>) and denominator (<span class="code">DeT</span>). By default, these are <span class="code">Int</span>, but other types of `Rational` are possible by using a different parameterization</p>
 <pre class="code">class Positive does Rational[UInt] {};
my Positive $one-third = Positive.new(1,3);
say $one-third;                         # OUTPUT: «0.333333␤»
my Positive $fail =Positive.new(-2,3);  # OUTPUT: «Type check failed in binding to parameter 'nu'; expected UInt but got Int (-2)␤»</pre>
 <p>Please note that, since `DeT` is by default equal to `NuT`, in this case both are instantiated to <span class="code">UInt</span>. Built into Perl 6 are <a href="#_type_Rat.pod6">Rat</a> and <a href="#_type_FatRat.pod6">FatRat</a>, which both do the <span class="code">Rational</span> role.</p>
 <a name="t179.1"></a><h1 id="_type_Rational.pod6-Methods">179.1 Methods</h1>
 <a name="t179.1.1"></a><h2 id="_type_Rational.pod6-method_new">179.1.1 method new</h2>
 <pre class="code">method new(NuT:D: $numerator, DeT:D: $denominator --&gt; Rational:D) 
</pre>
 <p>Creates a new rational object from numerator and denominator.</p>
 <a name="t179.1.2"></a><h2 id="_type_Rational.pod6-method_Bool">179.1.2 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(Rational:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> if <a href="#_routine_numerator.pod6">numerator</a> is <span class="code">0</span>, otherwise returns <span class="code">True</span>. This applies for <span class="code">&lt;0/0&gt;</span> zero-denominator <a href="#_type_Rational.pod6">Rational</a> as well, despite <span class="code">?&lt;0/0&gt;.Num</span> being <span class="code">True</span>.</p>
 <a name="t179.1.3"></a><h2 id="_type_Rational.pod6-method_Int">179.1.3 method Int</h2>
 <p>Defined as:</p>
 <pre class="code">method Int(Rational:D: --&gt; Int:D)</pre>
 <p>Coerces the invocant to <a href="#_type_Int.pod6">Int</a> by truncating non-whole portion of the represented number, if any. If the <a href="#_routine_denominator.pod6">denominator</a> is zero, will <a href="#_routine_fail.pod6">fail</a> with <span class="code">X::Numeric::DivideByZero</span>.</p>
 <a name="t179.1.4"></a><h2 id="_type_Rational.pod6-method_Num">179.1.4 method Num</h2>
 <p>Defined as:</p>
 <pre class="code">method Num(Rational:D: --&gt; Num:D)</pre>
 <p>Coerces the invocant to <a href="#_type_Num.pod6">Num</a> by dividing <a href="#_routine_numerator.pod6">numerator</a> by <a href="#_routine_denominator.pod6">denominator</a>. If <a href="#_routine_denominator.pod6">denominator</a> is <span class="code">0</span>, returns <span class="code">Inf</span>, <span class="code">-Inf</span>, or <span class="code">NaN</span>, based on whether <a href="#_routine_numerator.pod6">numerator</a> is a positive number, negative number, or <span class="code">0</span>, respectively.</p>
 <a name="t179.1.5"></a><h2 id="_type_Rational.pod6-method_isNaN">179.1.5 method isNaN</h2>
 <pre class="code">method isNaN(Rational:D: --&gt; Bool:D) 
</pre>
 <p>Tests whether the invocant's Num value is a NaN. That is both its numerator and denominator are zero.</p>
 <a name="t179.1.6"></a><h2 id="_type_Rational.pod6-method_numerator">179.1.6 method numerator</h2>
 <pre class="code">method numerator(Rational:D: --&gt; NuT:D) 
</pre>
 <p>Returns the numerator.</p>
 <a name="t179.1.7"></a><h2 id="_type_Rational.pod6-method_denominator">179.1.7 method denominator</h2>
 <pre class="code">method denominator(Rational:D: --&gt; DeT:D) 
</pre>
 <p>Returns the denominator.</p>
 <a name="t179.1.8"></a><h2 id="_type_Rational.pod6-method_nude">179.1.8 method nude</h2>
 <pre class="code">method nude(Rational:D: --&gt; Positional)</pre>
 <p>Returns a list of the numerator and denominator.</p>
 <a name="t179.1.9"></a><h2 id="_type_Rational.pod6-method_norm">179.1.9 method norm</h2>
 <pre class="code">method norm(Rational:D: --&gt; Rational:D)</pre>
 <p>Returns a normalized Rational object, i.e. with positive denominator, and numerator and denominator coprime.</p>
 <a name="t179.1.10"></a><h2 id="_type_Rational.pod6-method_base-repeating">179.1.10 method base-repeating</h2>
 <pre class="code">method base-repeating(Rational:D: Int:D() $base)</pre>
 <p>Returns a list of two strings that, when concatenated, represent the number in base <span class="code">$base</span>. The second element is the one that repeats. For example:</p>
 <pre class="code">my ($non-rep, $repeating) = (19/3).base-repeating(10);
say $non-rep;                               # OUTPUT: «6.␤»
say $repeating;                             # OUTPUT: «3␤»
printf '%s(%s)', $non-rep, $repeating;      # OUTPUT: «6.(3)»</pre>
 <p>19/3 is 6.333333... with the 3 repeating indefinitely.</p>
 <p>If no repetition occurs, the second string is empty:</p>
 <pre class="code">say (5/2).base-repeating(10).perl;          # OUTPUT: «(&quot;2.5&quot;, &quot;&quot;)␤»</pre>
 <p>The precision for determining the repeating group is limited to 1000 characters, above that, the second string is <span class="code">???</span>.</p>
</div>
<!-- /type/Real.pod6 --><div class="pod-body"><a id="_type_Real.pod6"></a><a name="t180"><h1 class="title">180 role Real</h1></a> <p class="subtitle">Non-complex number</p> <pre class="code">role Real does Numeric { ... }</pre>
 <p>Common role for non-Complex numbers.</p>
 <a name="t180.1"></a><h1 id="_type_Real.pod6-Methods">180.1 Methods</h1>
 <a name="t180.1.1"></a><h2 id="_type_Real.pod6-method_Bridge">180.1.1 method Bridge</h2>
 <p>Defined as:</p>
 <pre class="code">method Bridge(Real:D:)</pre>
 <p>Default implementation coerces the invocant to <a href="#_type_Num.pod6">Num</a> and that's the behaviour of this method in core <a href="#_type_Real.pod6">Real</a> types. This method primarily exist to make it easy to implement custom <a href="#_type_Real.pod6">Real</a> types by users, with the <span class="code">Bridge</span> method returning <i>one of</i> the core <span class="code">Real</span> types (<i>NOT</i> necessarily a <a href="#_type_Num.pod6">Num</a>) that best represent the custom <span class="code">Real</span> type. In turn, this lets all the core operators and methods obtain a usable value they can work with.</p>
 <p>As an example, we can implement a custom <span class="code">Temperature</span> type. It has a unit of measure and the value, which are given during instantiation. We can implement custom operators or conversion methods that work with this type. When it comes to regular mathematical operators, however, we can simply use the <span class="code">.Bridge</span> method to convert the <span class="code">Temperature</span> to Kelvin expressed in one of the core numeric types:</p>
 <pre class="code">class Temperature is Real {
    has Str:D  $.unit  is required where any &lt;K F C&gt;;
    has Real:D $.value is required;
    method new ($value, :$unit = 'K') { self.bless :$value :$unit }
    # Note: implementing .new() that handles $value of type Temperature is left as an exercise

    method Bridge {
        when $!unit eq 'F' { ($!value + 459.67) × 9/5 }
        when $!unit eq 'C' {  $!value + 273.15 }
        $!value
    }
    method gist { self.Str }
    method Str  { &quot;$!value degrees $!unit&quot; }
}

sub postfix:&lt;℃&gt; { Temperature.new: $^value, :unit&lt;C&gt; }
sub postfix:&lt;℉&gt; { Temperature.new: $^value, :unit&lt;F&gt; }
sub postfix:&lt;K&gt; { Temperature.new: $^value, :unit&lt;K&gt; }

my $human := 36.6℃;
my $book  := 451℉;
my $sun   := 5778K;
say $human;                # OUTPUT: «36.6 degrees C␤»
say $human + $book + $sun; # OUTPUT: «7726.956␤»
say 123K + 456K;           # OUTPUT: «579␤»</pre>
 <p>As we can see from the last two lines of the output, the type of the bridged result is not forced to be any <i>particular</i> core type. It is a <a href="#_type_Rat.pod6">Rat</a>, when we instantiated <span class="code">Temperature</span> with a <span class="code">Rat</span> or when conversion was involved, and it is an <a href="#_type_Int.pod6">Int</a> when we instantiated <span class="code">Temperature</span> with an <a href="#_type_Int.pod6">Int</a>.</p>
 <a name="t180.1.2"></a><h2 id="_type_Real.pod6-method_Rat">180.1.2 method Rat</h2>
 <pre class="code">method Rat(Real:D: Real $epsilon = 1e-6)</pre>
 <p>Converts the number to a <span class="code">Rat</span> with the precision <span class="code">$epsilon</span>.</p>
 <a name="t180.1.3"></a><h2 id="_type_Real.pod6-method_Real">180.1.3 method Real</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Real(Real:D: --&gt; Real:D)
multi method Real(Real:U: --&gt; Real:D)</pre>
 <p>The <span class="code">:D</span> variant simply returns the invocant. The <span class="code">:U</span> variant issues a warning about using an uninitialized value in numeric context and then returns <span class="code">self.new</span>.</p>
 <a name="t180.1.4"></a><h2 id="_type_Real.pod6-routine_rand">180.1.4 routine rand</h2>
 <pre class="code">sub term:&lt;rand&gt; (--&gt; Num:D)
method rand(Real:D: --&gt; Real:D)</pre>
 <p>Returns a pseudo-random number between zero (inclusive) and the number (non-inclusive.)</p>
 <p>The term form returns a pseudo-random <span class="code">Num</span> between 0e0 (inclusive) and 1e0 (non-inclusive.)</p>
 <a name="t180.1.5"></a><h2 id="_type_Real.pod6-method_sign">180.1.5 method sign</h2>
 <pre class="code">method sign(Real:D:)</pre>
 <p>Returns <span class="code">-1</span> if the number is negative, <span class="code">0</span> if it is zero and <span class="code">1</span> otherwise.</p>
 <a name="t180.1.6"></a><h2 id="_type_Real.pod6-method_round">180.1.6 method round</h2>
 <pre class="code">method round(Real:D: $scale = 1)</pre>
 <p>Rounds the number to scale <span class="code">$scale</span>. If <span class="code">$scale</span> is 1, rounds to an integer. If scale is <span class="code">0.1</span>, rounds to one digit after the comma etc.</p>
 <a name="t180.1.7"></a><h2 id="_type_Real.pod6-method_floor">180.1.7 method floor</h2>
 <pre class="code">method floor(Real:D --&gt; Int:D)</pre>
 <p>Return the largest integer not greater than the number.</p>
 <a name="t180.1.8"></a><h2 id="_type_Real.pod6-method_ceiling">180.1.8 method ceiling</h2>
 <pre class="code">method ceiling(Real:D --&gt; Int:D)</pre>
 <p>Returns the smallest integer not less than the number.</p>
 <a name="t180.1.9"></a><h2 id="_type_Real.pod6-method_truncate">180.1.9 method truncate</h2>
 <pre class="code">method truncate(Real:D --&gt; Int:D)</pre>
 <p>Rounds the number towards zero.</p>
 <a name="t180.1.10"></a><h2 id="_type_Real.pod6-method_base">180.1.10 method base</h2>
 <pre class="code">method base(Real:D: Int:D $base where 2..36, $digits? --&gt; Str:D)</pre>
 <p>Converts the number to a string, using <span class="code">$base</span> as base. For <span class="code">$base</span> larger than ten, capital Latin letters are used.</p>
 <pre class="code">255.base(16);            # 'FF'</pre>
 <p>The optional <span class="code">$digits</span> argument asks for that many digits of fraction (which may not be negative). If omitted, a reasonable default is chosen based on type. For Int this default is 0. For <a href="#_type_Num.pod6">Num</a>, the default is 8. For <a href="#_type_Rational.pod6">Rational</a>, the number of places is scaled to the size of the denominator, with a minimum of 6.</p>
 <p>A special value of <a href="#_type_Whatever.pod6"><span class="code">Whatever</span></a> (<span class="code">*</span>) can be given as <span class="code">$digits</span>, which functions the same as when <span class="code">$digits</span> is not specified for all <span class="code">Real</span> types except the <span class="code">Rationals</span>. For <span class="code">Rationals</span>, the <span class="code">Whatever</span> indicates that you wish all of the possible digits of the fractional part, but use caution: since there's no detection of repeating fractional parts (the algorithm will eventually stop after generating 2**63 digits).</p>
 <p>The final digit produced is always rounded.</p>
 <pre class="code">say pi.base(10, 3);      # OUTPUT: «3.142␤»
say (1/128).base(10, *); # OUTPUT: «0.0078125␤»
say (1/100).base(10, *); # OUTPUT: «0.01␤»
say (1/3)  .base(10, *); # WRONG: endlessly repeating fractional part</pre>
 <p>For reverse operation, see <a href="#_routine_parse-base.pod6"><span class="code">parse-base</span></a></p>
</div>
<!-- /type/Regex.pod6 --><div class="pod-body"><a id="_type_Regex.pod6"></a><a name="t181"><h1 class="title">181 class Regex</h1></a> <p class="subtitle">String pattern</p> <pre class="code">class Regex is Method { }</pre>
 <p>A regex is a kind of pattern that describes a set of strings. The process of finding out whether a given string is in the set is called <i>matching</i>. The result of such a matching is a <a href="#_type_Match.pod6">Match</a> object, which evaluates to <span class="code">True</span> in boolean context if the string is in the set.</p>
 <p>A regex is typically constructed by a regex literal</p>
 <pre class="code">rx/ ^ab /;      # describes all strings starting with 'ab'
/ ^ ab /;       # same
rx/ \d ** 2/;   # describes all strings containing at least two digits</pre>
 <p><span class="indexed"><a id="872" name="prefix &amp;"></a></span> A named regex can be defined with the <span class="code">regex</span> declarator followed by its definition in curly braces. Since any regex does <span class="code">Callable</span> introspection requires referencing via <span class="code">&amp;</span>-sigil.</p>
 <pre class="code">my regex R { \N };
say &amp;R.^name; # OUTPUT: «Regex␤»</pre>
 <p>To match a string against a regex, you can use the smart match operator:</p>
 <pre class="code">my $match = 'abc' ~~ rx/ ^ab /;
say $match.Bool;                # OUTPUT: «True␤»
say $match.orig;                # OUTPUT: «abc␤»
say $match.Str;                 # OUTPUT: «ab␤»
say $match.from;                # OUTPUT: «0␤»
say $match.to;                  # OUTPUT: «2␤»</pre>
 <p>Or you can evaluate the regex in boolean context, in which case it matches against the <span class="code">$_</span> variable</p>
 <pre class="code">$_ = 'abc';
if / ^ab / {
    say '&quot;abc&quot; begins with &quot;ab&quot;';
}
else {
    say 'This is a weird alternative Universe';
}</pre>
 <a name="t181.1"></a><h1 id="_type_Regex.pod6-Methods">181.1 Methods</h1>
 <a name="t181.1.1"></a><h2 id="_type_Regex.pod6-method_ACCEPTS">181.1.1 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Regex:D: Mu --&gt; Match:D)
multi method ACCEPTS(Regex:D: @)
multi method ACCEPTS(Regex:D: %)</pre>
 <p>Matches the regex against the argument passed in. If the argument is <a href="#_type_Positional.pod6">Positional</a>, it returns the first successful match of any list item. If the argument is <a href="#_type_Associative.pod6">Associative</a>, it returns the first successful match of any key. Otherwise it interprets the argument as a <a href="#_type_Str.pod6">Str</a> and matches against it.</p>
 <p>In the case of Positional and Associative matches, <a href="#_type_Nil.pod6">Nil</a> is returned on failure.</p>
 <a name="t181.1.2"></a><h2 id="_type_Regex.pod6-method_Bool">181.1.2 method Bool</h2>
 <pre class="code">multi method Bool(Regex:D: --&gt; Bool:D)</pre>
 <p>Matches against the caller's <a href="#_syntax_$_.pod6">$_</a> variable, and returns <span class="code">True</span> for a match or <span class="code">False</span> for no match.</p>
</div>
<!-- /type/Routine.pod6 --><div class="pod-body"><a id="_type_Routine.pod6"></a><a name="t182"><h1 class="title">182 class Routine</h1></a> <p class="subtitle">Code object with its own lexical scope and `return` handling</p> <pre class="code">class Routine is Block { }</pre>
 <p>A <span class="code">Routine</span> is a code object meant for larger unities of code than <a href="#_type_Block.pod6">Block</a>. Routine is the common superclass for <a href="#_type_Sub.pod6">Sub</a> (and therefore operators) and <a href="#_type_Method.pod6">Method</a>, the two primary code objects for code reuse.</p>
 <p>Routines serve as a scope limiter for <span class="code">return</span> (i.e. a <span class="code">return</span> returns from the innermost outer Routine).</p>
 <p>Routine is also the level at which <a href="#_language_glossary.pod6-Multi-Dispatch">multiness</a> (multi subs and multi methods) are handled.</p>
 <a name="t182.0.1"></a><h2 id="_type_Routine.pod6-Trait_is_default">182.0.1 <a name="873"></a>Trait is default</h2>
 <p>There is a special trait for <span class="code">Routine</span>s called <span class="code">is default</span>. This trait is designed as a way to disambiguate <span class="code">multi</span> calls that would normally throw an error because the compiler would not know which one to use. This means that given the following two <span class="code">Routine</span>s, the one with the <span class="code">is default</span> trait will be called.</p>
 <pre class="code">multi sub f() is default { say &quot;Hello there&quot; }
multi sub f() { say &quot;Hello friend&quot; }
f();   # OUTPUT: «&quot;Hello there&quot;␤»</pre>
 <p>The <span class="code">is default</span> trait can become very useful for debugging and other uses but keep in mind that it will only resolve an ambiguous dispatch between two <span class="code">Routine</span>s of the same precedence. If one of the <span class="code">Routine</span>s are narrower than another, then that one will be called. For example:</p>
 <pre class="code">multi sub f() is default { say &quot;Hello there&quot; } 
 multi sub f(:$greet) { say &quot;Hello &quot; ~ $greet } 
 f();   # &quot;Use of uninitialized value $greet...&quot; 
</pre>
 <p>In this example, the <span class="code">multi</span> without <span class="code">is default</span> was called because it was actually narrower than the <span class="code">Sub</span> with it.</p>
 <a name="t182.1"></a><h1 id="_type_Routine.pod6-Methods">182.1 Methods</h1>
 <a name="t182.1.1"></a><h2 id="_type_Routine.pod6-method_name">182.1.1 method name</h2>
 <pre class="code">method name(Routine:D: --&gt; Str:D)</pre>
 <p>Returns the name of the sub or method.</p>
 <a name="t182.1.2"></a><h2 id="_type_Routine.pod6-method_package">182.1.2 method package</h2>
 <pre class="code">method package(Routine:D:)</pre>
 <p>Returns the package in which the routine is defined.</p>
 <a name="t182.1.3"></a><h2 id="_type_Routine.pod6-method_multi">182.1.3 method multi</h2>
 <pre class="code">method multi(Routine:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the routine is a multi sub or method. Note that the name of a multi sub refers to its proto and this method would return false if called on it. It needs to be called on the candidates themselves:</p>
 <pre class="code">multi foo ($, $) {};
say &amp;foo.multi;             # OUTPUT: «False␤»
say &amp;foo.candidates».multi; # OUTPUT: «(True)␤»</pre>
 <a name="t182.1.4"></a><h2 id="_type_Routine.pod6-method_candidates">182.1.4 method candidates</h2>
 <pre class="code">method candidates(Routine:D: --&gt; Positional:D)</pre>
 <p>Returns a list of multi candidates, or a one-element list with itself if it's not a multi</p>
 <a name="t182.1.5"></a><h2 id="_type_Routine.pod6-method_cando">182.1.5 method cando</h2>
 <pre class="code">method cando(Capture $c)</pre>
 <p>Returns a possibly-empty list of candidates that can be called with the given <a href="#_type_Capture.pod6">Capture</a>, ordered by narrowest candidate first. For methods, the first element of the Capture needs to be the invocant:</p>
 <pre class="code">.signature.say for &quot;foo&quot;.^can(&quot;comb&quot;)[0].cando: \(Cool, &quot;o&quot;);
# OUTPUT: «(Cool $: Str $matcher, $limit = Inf, *%_)␤»</pre>
 <a name="t182.1.6"></a><h2 id="_type_Routine.pod6-method_wrap">182.1.6 method wrap</h2>
 <pre class="code">method wrap(Routine:D: &amp;wrapper)</pre>
 <p>Wraps (i.e. in-place modifies) the routine. That means a call to this routine first calls <span class="code">&amp;wrapper</span>, which then can (but doesn't have to) call the original routine with the <span class="code">callsame</span>, <span class="code">callwith</span>, <span class="code">nextsame</span> and <span class="code">nextwith</span> dispatchers. The return value from the routine is also the return value from the wrapper.</p>
 <p><span class="code">wrap</span> returns an instance of a private class called <a href="#_type_WrapHandle.pod6">WrapHandle</a>, which you can pass to <a href="#_routine_unwrap.pod6">unwrap</a> to restore the original routine.</p>
 <a name="t182.1.7"></a><h2 id="_type_Routine.pod6-method_unwrap">182.1.7 method unwrap</h2>
 <pre class="code">method unwrap($wraphandle)</pre>
 <p>Restores the original routine after it has been wrapped with <a href="#_routine_wrap.pod6">wrap</a>. While the signature allows any type to be passed, only the <a href="#_type_WrapHandle.pod6">WrapHandle</a> type returned from <span class="code">wrap</span> can usefully be.</p>
 <a name="t182.1.8"></a><h2 id="_type_Routine.pod6-method_yada">182.1.8 method yada</h2>
 <pre class="code">method yada(Routine:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the routine is a stub</p>
 <pre class="code">say (sub f() { ... }).yada;      # OUTPUT: «True␤»
say (sub g() { 1;  }).yada;      # OUTPUT: «False␤»</pre>
 <a name="t182.1.9"></a><h2 id="_type_Routine.pod6-trait_is_cached">182.1.9 trait is cached</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine $r, :$cached!)</pre>
 <p><b>NOTE:</b> this feature is currently EXPERIMENTAL.</p>
 <p>Causes the return value of a routine to be stored, so that when subsequent calls with the same list of arguments are made, the stored value can be returned immediately instead of re-running the routine.</p>
 <p>Useful when storing and returning the computed value is much faster than re-computing it every time, and when the time saving trumps the cost of the use of more memory.</p>
 <p>Even if the arguments passed to the routine are &quot;reference types&quot; (such as objects or arrays), then for the purpose of caching they will only be compared based on their contents. Thus the second invocation will hit the cache in this case:</p>
 <pre class="code">say foo( [1, 2, 3] );   # runs foo 
 say foo( [1, 2, 3] );   # doesn't run foo, uses cached value 
</pre>
 <pre class="code">use experimental :cached; 
 
 sub nth-prime(Int:D $x where * &gt; 0) is cached { 
     say &quot;Calculating {$x}th prime&quot;; 
     return (2..*).grep(*.is-prime)[$x - 1]; 
 } 
 
 say nth-prime(43); 
 say nth-prime(43); 
 say nth-prime(43); 
</pre>
 <p>produces this output:</p>
 <pre class="code">Calculating 43th prime 
 191 
 191 
 191 
</pre>
 <a name="t182.1.10"></a><h2 id="_type_Routine.pod6-trait_is_pure">182.1.10 trait is pure</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine $r, :$pure!)</pre>
 <p>Marks a subroutine as <i>pure</i>, that is, it asserts that for the same input, it will always produce the same output without any additional side effects.</p>
 <p>You can mark function as pure even if they throw exceptions in edge cases, or if they modify temporary objects; hence the <span class="code">is pure</span> trait can cover cases that the compiler cannot deduce on its own. On the other hand, you might not want to constant-fold functions that produce a large return value (such as the string or list repetition operators, infix <span class="code">x</span> and <span class="code">xx</span>) even if they are pure, to avoid large precompilation files.</p>
 <p>The <span class="code">is pure</span> trait is a promise by the programmer to the compiler that it can constant-fold calls to such functions when the arguments are known at compile time.</p>
 <pre class="code">sub syllables() is pure {
    say &quot;Generating syllables&quot;;
    my @vowels = &lt;a e i o u&gt;;
    return  @vowels.append: &lt;k m n sh d r t y&gt; X~ @vowels;
}</pre>
 <p>To see it an action with a particular compiler you can try this example:</p>
 <pre class="code">BEGIN { say ‘Begin’ } 
 say ‘Start’; 
 say (^100).map: { syllables().pick(2..5).join(&quot;&quot;) }; 
 
 
 # Example output: 
 # Begin 
 # Generating syllables 
 # Start 
 # (matiroi yeterani shoriyuru... 
</pre>
 <p>Essentially this allows the compiler to perform some operations at compile time. The benefits of constant-folding <i>may</i> include better performance, especially in cases when the folded code is precompiled.</p>
 <p>In addition, using a pure function or operator in sink context (that is, where the result is discarded) may lead to a warning. The code</p>
 <pre class="code">sub double($x) is pure { 2 * $x };
double(21);
say &quot;anything&quot;;
# WARNING: «Useless use of &quot;double(21)&quot; in expression &quot;double(21)&quot; in sink context (line 2)»</pre>
 <a name="t182.1.11"></a><h2 id="_type_Routine.pod6-trait_is_rw">182.1.11 trait is rw</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine $r, :$rw!)</pre>
 <p>When a routine is modified with this trait, its return value will be writable. This is useful when returning variables or writable elements of hashes or arrays, for example:</p>
 <pre class="code">sub walk(\thing, *@keys) is rw { 
     my $current := thing; 
     for @keys -&gt; $k { 
         if $k ~~ Int { 
             $current := $current[$k]; 
         } 
         else { 
             $current := $current{$k}; 
         } 
     } 
     $current; 
 } 
 
 my %hash; 
 walk(%hash, 'some', 'key', 1, 2) = 'autovivified'; 
 
 say %hash.perl; 
</pre>
 <p>produces</p>
 <pre class="code">(&quot;some&quot; =&gt; {&quot;key&quot; =&gt; [Any, [Any, Any, &quot;autovivified&quot;]]}).hash 
</pre>
 <p>Note that <span class="code">return</span> marks return values as read only; if you need an early exit from an <span class="code">is rw</span> routine, you have to use <span class="indexed"><a id="874" name="return-rw"><span class="code">return-rw</span></a></span> instead.</p>
 <a name="t182.1.12"></a><h2 id="_type_Routine.pod6-trait_is_export">182.1.12 trait is export</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine $r, :$export!)</pre>
 <p>Marks a routine as exported to the rest of the world</p>
 <pre class="code">module Foo { 
     sub double($x)  <b>is export</b>  { 
         2 * $x 
     } 
 } 
 
 import Foo;         # makes sub double available 
 say double 21;      # 42 
</pre>
 <p>From inside another file you'd say <span class="code">use Foo;</span> to load a module and import the exported functions.</p>
 <p>See <a href="#_language_modules.pod6-Exporting_and_Selective_Importing">Exporting and Selective Importing Modules</a> for more details.</p>
 <a name="t182.1.13"></a><h2 id="_type_Routine.pod6-trait_is_DEPRECATED">182.1.13 trait is DEPRECATED</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine:D $r, :$DEPRECATED!)</pre>
 <p>Marks a routine as deprecated, optionally with a message what to use instead.</p>
 <p>This code</p>
 <pre class="code">sub f() is DEPRECATED('the literal 42') { 42 } 
 say f(); 
</pre>
 <p>produces this output:</p>
 <pre class="code">42 
 Saw 1 occurrence of deprecated code. 
 ================================================================================ 
 Sub f (from GLOBAL) seen at: 
   deprecated.p6, line 2 
 Please use the literal 42 instead. 
 -------------------------------------------------------------------------------- 
 Please contact the author to have these occurrences of deprecated code 
 adapted, so that this message will disappear! 
</pre>
 <a name="t182.1.14"></a><h2 id="_type_Routine.pod6-trait_is_hidden-from-backtrace">182.1.14 trait is hidden-from-backtrace</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Routine:D, :$hidden-from-backtrace!)</pre>
 <p>Hides a routine from showing up in a default backtrace. For example</p>
 <pre class="code">sub inner { die &quot;OH NOEZ&quot; }; 
 sub outer { inner() }; 
 outer(); 
</pre>
 <p>produces the error message and backtrace</p>
 <pre class="code">OH NOEZ 
   in sub inner at bt.p6:1 
   in sub outer at bt.p6:2 
   in block &lt;unit&gt; at bt.p6:3 
</pre>
 <p>but if <span class="code">inner</span> is marked with <span class="code">hidden-from-backtrace</span></p>
 <pre class="code">sub inner is hidden-from-backtrace { die &quot;OH NOEZ&quot; }; 
 sub outer { inner() }; 
 outer(); 
</pre>
 <p>the error backtrace does not show it:</p>
 <pre class="code">OH NOEZ 
   in sub outer at bt.p6:2 
   in block &lt;unit&gt; at bt.p6:3 
</pre>
 TODO: explain export tags

</div>
<!-- /type/Scalar.pod6 --><div class="pod-body"><a id="_type_Scalar.pod6"></a><a name="t183"><h1 class="title">183 class Scalar</h1></a> <p class="subtitle">A mostly transparent container used for indirections</p> <pre class="code">class Scalar {}</pre>
 <p>A <span class="code">Scalar</span> is an internal indirection which is for most purposes invisible during ordinary use of Perl 6. It is the default container type associated with the <span class="code">$</span> sigil. A literal <span class="code">Scalar</span> may be placed around a literal value by enclosing the value in <span class="code">$(…)</span>. This notation will appear in the output of a <span class="code">.perl</span> method in certain places where it is important to note the presence of <span class="code">Scalar</span>s.</p>
 <p>When a value is assigned to a <span class="code">$</span>-sigiled variable, the variable will actually bind to a <span class="code">Scalar</span>, which in turn will bind to the value. When a <span class="code">Scalar</span> is assigned to a <span class="code">$</span>-sigiled variable, the value bound to by that <span class="code">Scalar</span> will be bound to the <span class="code">Scalar</span> which that variable was bound to (a new one will be created if necessary.)</p>
 <p>In addition <span class="code">Scalar</span>s delegate all method calls to the value which they contain. As such, <span class="code">Scalar</span>s are for the most part invisible. There is, however, one important place where <span class="code">Scalar</span>s have a visible impact: a <span class="code">Scalar</span> will shield its contents from flattening by most Perl 6 core list operations.</p>
 <p>A <span class="code">$</span>-sigiled variable may be bound directly to a value with no intermediate <span class="code">Scalar</span> using the binding operator <span class="code">:=</span>. You can tell if this has been done by examining the introspective pseudo-method <span class="code">.VAR</span>:</p>
 <pre class="code">my $a = 1;
$a.^name.say;     # OUTPUT: «Int␤»
$a.VAR.^name.say; # OUTPUT: «Scalar␤»
my $b := 1;
$b.^name.say;     # OUTPUT: «Int␤»
$b.VAR.^name.say; # OUTPUT: «Int␤»</pre>
 <p>This same thing happens when values are assigned to an element of an <span class="code">Array</span>, however, <span class="code">List</span>s directly contain their values:</p>
 <pre class="code">my @a = 1, 2, 3;
@a[0].^name.say;            # OUTPUT: «Int␤»
@a[0].VAR.^name.say;        # OUTPUT: «Scalar␤»
[1, 2, 3][0].^name.say;     # OUTPUT: «Int␤»
[1, 2, 3][0].VAR.^name.say; # OUTPUT: «Scalar␤»
(1, 2, 3)[0].^name.say;     # OUTPUT: «Int␤»
(1, 2, 3)[0].VAR.^name.say; # OUTPUT: «Int␤»</pre>
 <p>Array elements may be bound directly to values using <span class="code">:=</span> as well, however this is to be discouraged as it may lead to confusion. Doing so will break exact round-tripping of <span class="code">.perl</span> output – since <span class="code">Array</span>s are assumed to place <span class="code">Scalar</span>s around each element, <span class="code">Scalar</span>s are not denoted with <span class="code">$</span> in the output of <span class="code">Array.perl</span>.</p>
 <pre class="code">[1, $(2, 3)].perl.say;     # OUTPUT: «[1, (2, 3)]␤»
(1, $(2, 3)).perl.say;     # OUTPUT: «(1, $(2, 3))␤»</pre>
 <p>Binding a Scalar to a <span class="code">$</span>-sigiled variable replaces the existing <span class="code">Scalar</span> in that variable, if any, with the given <span class="code">Scalar</span>. That means more than one variable may refer to the same <span class="code">Scalar</span>. Because the <span class="code">Scalar</span> may be mutated, this makes it possible to alter the value of both variables by altering only one of them:</p>
 <pre class="code">my $a = 1;
my $b := $a;
$b = 2;
$a.say;       # OUTPUT: «2␤»</pre>
 <p><span class="indexed"><a id="875" name="\ (sigilless scalar)"></a></span> SSA-style constants bind directly to their value with no intervening <span class="code">Scalar</span>, even when <span class="code">=</span>/assignment is used. They may be forced to use a <span class="code">Scalar</span> by assigning a <span class="code">$</span>-sigiled variable to them, at which point, they behave entirely like <span class="code">$</span>-sigiled variables.</p>
 <pre class="code">my \c = 1;
c.^name.say;             # OUTPUT: «Int␤»
c.VAR.^name.say;         # OUTPUT: «Int␤»
my $a = 1;
my \d = $a;              # just &quot;my \d = $ = 1&quot; works, too
d.^name.say;             # OUTPUT: «Int␤»
d.VAR.^name.say;         # OUTPUT: «Scalar␤»
d = 2;                   # ok
c = 2;                   # fails
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Int␤»</pre>
 <a name="t183.1"></a><h1 id="_type_Scalar.pod6-Atomic_Operations_on_Scalar">183.1 Atomic Operations on Scalar</h1>
 <p>A <span class="code">Scalar</span> can have its value changed using a hardware-supported atomic compare and swap operation. This is useful when implementing lock free data structures and algorithms. It may also be fetched and assigned to in an &quot;atomic&quot; fashion, which ensures appropriate memory barriering and prevents unwanted optimizations of memory accesses.</p>
 <p>A <span class="code">Scalar</span> that will be used with an atomic operation should <b>always</b> be explicitly initialized with a value before any atomic operations are performed upon it. This is to avoid races with lazy allocation and auto-vivification. For example:</p>
 <pre class="code">cas(@a[5], $expected, $value) 
</pre>
 <p>Will work in principle since an <span class="code">Array</span> consists of <span class="code">Scalar</span> containers. However, the container is only bound into the array upon initial assignment. Therefore, there would be a race to do that binding. The <span class="code">Scalar</span> atomic operations will never check for or do any such auto-vivification, so as to make such bugs much more evident (rather than only observed under stress).</p>
 <a name="t183.2"></a><h1 id="_type_Scalar.pod6-Routines">183.2 Routines</h1>
 <a name="t183.2.1"></a><h2 id="_type_Scalar.pod6-atomic-assign">183.2.1 atomic-assign</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-assign($target is rw, $value)</pre>
 <p>Performs an atomic assignment of <span class="code">$value</span> into the <span class="code">Scalar</span> <span class="code">$target</span>. The <span class="code">atomic-assign</span> routine ensures that any required barriers are performed such that the changed value will be &quot;published&quot; to other threads.</p>
 <a name="t183.2.2"></a><h2 id="_type_Scalar.pod6-atomic-fetch">183.2.2 atomic-fetch</h2>
 <pre class="code">multi sub atomic-fetch($target is rw)</pre>
 <p>Performs an atomic read of the value in the <span class="code">Scalar</span> <span class="code">$target</span> and returns the read value. Using this routine instead of simply using the variable ensures that the latest update to the variable from other threads will be seen, both by doing any required hardware barriers and also preventing the compiler from lifting reads. For example:</p>
 <pre class="code">my $started = False;
start { atomic-assign($started, True) }
until atomic-fetch($started) { }</pre>
 <p>Is certain to terminate, while in:</p>
 <pre class="code">my $started = False;
start { atomic-assign($started, True) }
until $started { }</pre>
 <p>It would be legal for a compiler to observe that <span class="code">$started</span> is not updated in the loop, and so lift the read out of the loop, thus causing the program to never terminate.</p>
 <a name="t183.2.3"></a><h2 id="_type_Scalar.pod6-cas">183.2.3 cas</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub cas($target is rw, $expected, $value)
multi sub cas($target is rw, &amp;operation)</pre>
 <p>Performs an atomic compare and swap of the value in the <span class="code">Scalar</span> <span class="code">$target</span>. The first form has semantics like:</p>
 <pre class="code">my $seen = $target; 
 if $seen&lt;&gt; =:= $expected&lt;&gt; { 
     $target = $value; 
 } 
 return $seen; 
</pre>
 <p>Except it is performed as a single hardware-supported atomic instruction, as if all memory access to <span class="code">$target</span> were blocked while it took place. Therefore it is safe to attempt the operation from multiple threads without any other synchronization. Since it is a reference comparison, this operation is usually not sensible on value types.</p>
 <p>For example:</p>
 <pre class="code">constant NOT_STARTED = Any.new;
constant STARTED = Any.new;
my $master = NOT_STARTED;
await start {
    if cas($master, NOT_STARTED, STARTED) === Any {
        say &quot;Master!&quot;
    }
} xx 4</pre>
 <p>Will reliably only ever print <span class="code">Master!</span> one time, as only one of the threads will be successful in changing the <span class="code">Scalar</span> from <span class="code">NOT_STARTED</span> to <span class="code">STARTED</span>.</p>
 <p>The second form, taking a code object, will first do an atomic fetch of the current value and invoke the code object with it. It will then try to do an atomic compare and swap of the target, using the value passed to the code object as <span class="code">$expected</span> and the result of the code object as <span class="code">$value</span>. If this fails, it will read the latest value, and retry, until a CAS operation succeeds.</p>
 <p>Therefore, an item could be added to the head of a linked list in a lock free manner as follows:</p>
 <pre class="code">class Node {
    has $.value;
    has Node $.next;
}
my Node $head = Node;
await start {
    for ^1000 -&gt; $value {
        cas $head, -&gt; $next { Node.new(:$value, :$next) }
    }
} xx 4;</pre>
 <p>This will reliably build up a linked list of 4000 items, with 4 nodes with each value ranging from 0 up to 999.</p>
 <a name="t183.2.4"></a><h2 id="_type_Scalar.pod6-method_of">183.2.4 method of</h2>
 <pre class="code">method of(Scalar:D: --&gt; Mu)</pre>
 <p>Returns the type constraint of the container.</p>
 <p>Example:</p>
 <pre class="code">my Cool $x = 42;
say $x.VAR.of.^name;            # OUTPUT: «Cool»</pre>
 <a name="t183.3"></a><h1 id="_type_Scalar.pod6-Operators">183.3 Operators</h1>
 <a name="t183.3.1"></a><h2 id="_type_Scalar.pod6-infix_⚛=">183.3.1 infix ⚛=</h2>
 <pre class="code">multi sub infix:&lt;⚛=&gt;($target is rw, $value)</pre>
 <p>Performs an atomic assignment of <span class="code">$value</span> into the <span class="code">Scalar</span> <span class="code">$target</span>. The <span class="code">⚛=</span> operator ensures that any required barriers are performed such that the changed value will be &quot;published&quot; to other threads.</p>
 <a name="t183.3.2"></a><h2 id="_type_Scalar.pod6-prefix_⚛">183.3.2 prefix ⚛</h2>
 <pre class="code">multi sub prefix:&lt;⚛&gt;($target is rw)</pre>
 <p>Performs an atomic read of the value in the <span class="code">Scalar</span> <span class="code">$target</span> and returns the read value. Using this operator instead of simply using the variable ensures that the latest update to the variable from other threads will be seen, both by doing any required hardware barriers and also preventing the compiler from lifting reads. For example:</p>
 <pre class="code">my $started = False;
start { $started ⚛= True }
until ⚛$started { }</pre>
 <p>Is certain to terminate, while in:</p>
 <pre class="code">my $started = False;
start { $started ⚛= True }
until $started { }</pre>
 <p>It would be legal for a compiler to observe that <span class="code">$started</span> is not updated in the loop, and so lift the read out of the loop, thus causing the program to never terminate.</p>
</div>
<!-- /type/Scheduler.pod6 --><div class="pod-body"><a id="_type_Scheduler.pod6"></a><a name="t184"><h1 class="title">184 role Scheduler</h1></a> <p class="subtitle">Scheme for automatically assigning tasks to threads</p> <pre class="code">role Scheduler {
    has &amp;.uncaught_handler is rw
}</pre>
 <p>Common role for schedulers. A scheduler is a piece of code that determines which resources to use to run which task, and when.</p>
 <p>Some operations for example on <a href="#_type_Proc::Async.pod6">Proc::Async</a>, <a href="#_type_Promise.pod6">Promise</a>, <a href="#_type_Supply.pod6">Supply</a> allow you to specify a scheduler explicitly; they generally expect those schedulers to follow the interface defined by <span class="code">Scheduler</span></p>
 <a name="t184.1"></a><h1 id="_type_Scheduler.pod6-Methods">184.1 Methods</h1>
 <a name="t184.1.1"></a><h2 id="_type_Scheduler.pod6-method_uncaught_handler">184.1.1 method uncaught_handler</h2>
 <pre class="code">method uncaught_handler() is rw</pre>
 <p>RW-Accessor for the handler that is caught for uncaught exceptions from the code that is being scheduled and run.</p>
 <a name="t184.1.2"></a><h2 id="_type_Scheduler.pod6-method_cue">184.1.2 method cue</h2>
 <pre class="code">method cue(:&amp;code, Instant :$at, :$in, :$every, :$times = 1; :&amp;catch)</pre>
 <p>Schedules a callable (<span class="code">&amp;code</span>) for execution. The adverbs control when and how the code is run:</p>
 <p><span class="code">$at</span> can be an <a href="#_type_Instant.pod6">Instant</a> before which the code won't be run. Alternatively <span class="code">$in</span> is the number of seconds (possibly fractional) to wait before running the code. If <span class="code">$at</span> is in the past or <span class="code">$in</span> is negative, the delay is treated as zero. Implementations may equate to zero very small values (e.g. lower than 0.001s) of <span class="code">$in</span> or result of <span class="code">$at</span> - <a href="#_routine_now.pod6">now</a>.</p>
 <p>If <span class="code">$every</span> is specified, it is interpreted as the number of seconds (possibly fractional) to wait before re-executing the code. Implementations may treat too-small values as lowest resolution they support, possibly warning in such situations; e.g. treating <span class="code">0.0001</span> as <span class="code">0.001</span>.</p>
 <p><span class="code">$times</span> tells the scheduler how many times to run the code.</p>
 <p><span class="code">&amp;catch</span> is called with the <a href="#_type_Exception.pod6">Exception</a> as its sole argument if <span class="code">&amp;code</span> dies.</p>
</div>
<!-- /type/Semaphore.pod6 --><div class="pod-body"><a id="_type_Semaphore.pod6"></a><a name="t185"><h1 class="title">185 class Semaphore</h1></a> <p class="subtitle">Control access to shared resources by multiple processes</p> <pre class="code">class Semaphore { }</pre>
 <p>Protect your shared code, data or device access using semaphores. An example is a printer manager managing a pool of printers without the need of storing print jobs when all printers are occupied. The next job is just blocked until a printer becomes available.</p>
 <pre class="code">class print-manager {
  has Array $!printers;
  has Semaphore $!print-control;

  method BUILD( Int:D :$nbr-printers ) {
    for ^$nbr-printers -&gt; $pc {
      $!printers[$pc] = { :name{&quot;printer-$pc&quot;} };
    }

    $!print-control .= new($nbr-printers);
  }

  method find-available-printer-and-print-it($job) { say &quot;Is printed!&quot;; }

  method print( $print-job ) {
    $!print-control.acquire;

    self.find-available-printer-and-print-it($print-job);

    $!print-control.release;
  }
}</pre>
 <p>Another example is a protection around code updating sensitive data. In such a case the semaphore is typically initialized to 1.</p>
 <p>It is important to have a release on every exit of your program! While this is obvious, it is easy to fall in traps such as throwing an exception caused by some event. When the program dies there is no problem. When the exception is caught your program might eventually come back to the acquire method and will hang indefinitely.</p>
 <a name="t185.1"></a><h1 id="_type_Semaphore.pod6-Methods">185.1 Methods</h1>
 <a name="t185.1.1"></a><h2 id="_type_Semaphore.pod6-method_new">185.1.1 method new</h2>
 <pre class="code">method new( int $permits )</pre>
 <p>Initialize the semaphore with the number of permitted accesses. E.g. when set to 2, program threads can pass the acquire method twice until it blocks on the third time acquire is called.</p>
 <a name="t185.1.2"></a><h2 id="_type_Semaphore.pod6-method_acquire">185.1.2 method acquire</h2>
 <pre class="code">method acquire()</pre>
 <p>Acquire access. When other threads have called the method before and the number of permits are used up, the process blocks until threads passed before releases the semaphore.</p>
 <a name="t185.1.3"></a><h2 id="_type_Semaphore.pod6-method_try_acquire">185.1.3 method try_acquire</h2>
 <pre class="code">method try_acquire(--&gt; Bool)</pre>
 <p>Same as acquire but will not block. Instead it returns <span class="code">True</span> if access is permitted or <span class="code">False</span> otherwise.</p>
 <a name="t185.1.4"></a><h2 id="_type_Semaphore.pod6-method_release">185.1.4 method release</h2>
 <pre class="code">method release()</pre>
 <p>Release the semaphore raising the number of permissions. Any blocked thread will get access after that.</p>
</div>
<!-- /type/Seq.pod6 --><div class="pod-body"><a id="_type_Seq.pod6"></a><a name="t186"><h1 class="title">186 class Seq</h1></a> <p class="subtitle">An iterable, lazy sequence of values</p> <pre class="code">class Seq is Cool does Iterable does PositionalBindFailover { }</pre>
 <p>A <span class="code">Seq</span> represents anything that can lazily produce a sequence of values. A <span class="code">Seq</span> is born in a state where iterating it will consume the values. However, calling .cache on a Seq will return a List that is still lazy, but stores the generated values for later access. The same is true when assigning a Seq to an array.</p>
 <p>A typical use case is <a href="#_type_IO::Handle.pod6-method_lines">method  <span class="code">lines</span>  in  <span class="code">IO::Handle</span></a>, which could use a lot of memory if it stored all the lines read from the file. So</p>
 <pre class="code">for open('README.md').lines -&gt; $line { 
     say $line; 
 } 
</pre>
 <p>won't keep all lines from the file in memory.</p>
 <p>This implies that you cannot iterate the same <span class="code">Seq</span> object twice (otherwise it couldn't throw away old values), so this dies:</p>
 <pre class="code">my @a = 1, 2, 3;
my @b = &lt;a b c&gt;;
my \c = @a Z=&gt; @b;
.say for c;
.say for c; # fails
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Seq::Consumed: This Seq has already been iterated, and its values consumed
# (you might solve this by adding .cache on usages of the Seq, or
# by assigning the Seq into an array)»</pre>
 <p>A high-level construct to generate a <span class="code">Seq</span> is <span class="code">gather/take</span>, as well as many built-in methods like <span class="code">map</span> and <span class="code">grep</span>, low-level constructors to create a Seq from an iterator or from looping constructs are available too.</p>
 <p><b>Caution:</b> No program should ever assume a <span class="code">Seq</span> may only be iterated once even if not cached by the program. Caching is a volatile state exposed to the developer as an optimization. The <span class="code">Seq</span> may become cached by many operations, including calling <span class="code">perl</span> on the <span class="code">Seq</span> (if called prior to a non-cached iteration). If a program assumes a Seq can only iterate once, but then is later changed to call one of these operations during the loop, that assumption will fail.</p>
 <a name="t186.1"></a><h1 id="_type_Seq.pod6-Methods">186.1 Methods</h1>
 <a name="t186.1.1"></a><h2 id="_type_Seq.pod6-method_new">186.1.1 method new</h2>
 <pre class="code">method new(Iterator:D $iter --&gt; Seq:D)</pre>
 <p>Creates a new <span class="code">Seq</span> object from the iterator passed as the single argument.</p>
 <a name="t186.1.2"></a><h2 id="_type_Seq.pod6-method_iterator">186.1.2 method iterator</h2>
 <pre class="code">method iterator(Seq:D: --&gt; Iterator:D)</pre>
 <p>Returns the underlying iterator, and marks the invocant as consumed. If called on an already consumed sequence, throws an error of type <a href="#_type_X::Seq::Consumed.pod6">X::Seq::Consumed</a>.</p>
 <a name="t186.1.3"></a><h2 id="_type_Seq.pod6-method_is-lazy">186.1.3 method is-lazy</h2>
 <pre class="code">method is-lazy(Seq:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the sequence is lazy and potentially infinite, and <span class="code">False</span> otherwise. If called on an already consumed sequence, throws an error of type <a href="#_type_X::Seq::Consumed.pod6">X::Seq::Consumed</a>.</p>
 <a name="t186.1.4"></a><h2 id="_type_Seq.pod6-method_eager">186.1.4 method eager</h2>
 <pre class="code">method eager(Seq:D: --&gt; List:D)</pre>
 <p>Returns an eagerly evaluated <a href="#_type_List.pod6">List</a> based on the invocant sequence, and marks it as consumed. If called on an already consumed sequence, throws an error of type <a href="#_type_X::Seq::Consumed.pod6">X::Seq::Consumed</a>.</p>
 <pre class="code">my $s = lazy 1..5;

say $s.is-lazy; # OUTPUT: «True␤»
say $s.eager;   # OUTPUT: «(1 2 3 4 5)␤»

say $s.eager;
CATCH {
    when X::Seq::Consumed {
        say 'Throws exception if already consumed';
    }
}
# OUTPUT: «Throws exception if already consumed␤»</pre>
 <a name="t186.1.5"></a><h2 id="_type_Seq.pod6-method_from-loop">186.1.5 method from-loop</h2>
 <pre class="code">multi method from-loop(&amp;body --&gt; Seq:D)
multi method from-loop(&amp;body, &amp;cond, :$repeat --&gt; Seq:D)
multi method from-loop(&amp;body, &amp;cond, &amp;afterward --&gt; Seq:D)</pre>
 <p>These methods create new <span class="code">Seq</span>-based callbacks.</p>
 <p>The first form produces an infinite <span class="code">Seq</span> by calling <span class="code">&amp;body</span> each time a new element is requested, using the return value from <span class="code">&amp;body</span> as the item. This emulates (or implements) a <span class="code">loop { body }</span> construct.</p>
 <p>The second form calls <span class="code">&amp;cond</span> before each call to <span class="code">&amp;body</span>, and terminates the sequence if <span class="code">&amp;cond</span> returns a false value. If <span class="code">$repeat</span> is set to a true value, the first call to <span class="code">&amp;cond</span> is omitted, and <span class="code">&amp;body</span> called right away. This emulates (or implements) <span class="code">while cond { body }</span> and <span class="code">repeat { body } while cond</span> loops.</p>
 <p>The third form enables C-style looping by calling a third callback, <span class="code">&amp;afterward</span>, after each call to <span class="code">&amp;body</span>.</p>
 <a name="t186.1.6"></a><h2 id="_type_Seq.pod6-method_skip">186.1.6 method skip</h2>
 <p>Defined As:</p>
 <pre class="code">multi method skip(Int() $n = 1 --&gt; Seq)</pre>
 <p>Returns a Seq containing whatever is left of the invocant after throwing away <span class="code">$n</span> of the next available values. Negative values of <span class="code">$n</span> count as 0. Also can take a WhateverCode to indicate how many values to skip from the end. Will block on lazy Seqs until the requested number of values have been discarded.</p>
 <pre class="code">say (1..5).map({$_}).skip;      # OUTPUT: «(2,3,4,5)␤»
say (1..5).map({$_}).skip(3);   # OUTPUT: «(4,5)␤»
say (1..5).map({$_}).skip(5);   # OUTPUT: «()␤»
say (1..5).map({$_}).skip(-1);  # OUTPUT: «(1,2,3,4,5)␤»
say (1..5).map({$_}).skip(*-3); # OUTPUT: «(3,4,5)␤»</pre>
</div>
<!-- /type/Set.pod6 --><div class="pod-body"><a id="_type_Set.pod6"></a><a name="t187"><h1 class="title">187 class Set</h1></a> <p class="subtitle">Immutable collection of distinct objects</p> <pre class="code">class Set does Setty { }</pre>
 <p>A <span class="code">Set</span> is an immutable set, meaning a collection of distinct elements in no particular order. (For <i>mutable</i> sets, see <a href="#_type_SetHash.pod6">SetHash</a> instead.)</p>
 <p>Objects/values of any type are allowed as set elements. Within a <span class="code">Set</span>, every element is guaranteed to be unique (in the sense that no two elements would compare positively with the <a href="===">===</a> operator):</p>
 <pre class="code">my $fruits = set &lt;peach apple orange apple apple&gt;; 
 
 say $fruits.elems;      # OUTPUT: «3␤» 
 say $fruits.keys.sort;  # OUTPUT: «apple orange peach␤» 
</pre>
 <p><span class="code">Set</span>s can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, which returns the value <span class="code">True</span> for keys that are elements of the set, and <span class="code">False</span> for keys that aren't:</p>
 <pre class="code">my $fruits = set &lt;peach apple orange apple apple&gt;;
say $fruits&lt;apple&gt;;  # OUTPUT: «True␤»
say $fruits&lt;kiwi&gt;;   # OUTPUT: «False␤»</pre>
 <a name="t187.1"></a><h1 id="_type_Set.pod6-Creating_Set_objects">187.1 Creating <span class="code">Set</span> objects</h1>
 <p><span class="code">Set</span>s can be composed using the <a href="#186-sub set">set</a> subroutine (or <span class="code">Set.new</span>, for which it is a shorthand). Any positional parameters, regardless of their type, become elements of the set:</p>
 <pre class="code">my $n = set &quot;zero&quot; =&gt; 0, &quot;one&quot; =&gt; 1, &quot;two&quot; =&gt; 2;
say $n.keys.perl;        # OUTPUT: «(:two(2), :zero(0), :one(1)).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Pair) (Pair) (Pair))␤»</pre>
 <p>Alternatively, the <span class="code">.Set</span> coercer (or its functional form, <span class="code">Set()</span>) can be called on an existing object to coerce it to a <span class="code">Set</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a set with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the set - and keys mapped to values which boolify to <span class="code">False</span> are skipped:</p>
 <pre class="code">my $n = (&quot;zero&quot; =&gt; 0, &quot;one&quot; =&gt; 1, &quot;two&quot; =&gt; 2).Set;
say $n.keys.perl;        # OUTPUT: «(&quot;one&quot;, &quot;two&quot;).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Str))␤»</pre>
 <p>Furthermore, you can get a <span class="code">Set</span> by using set operators (see next section) on objects of other types such as <a href="#_type_List.pod6">List</a>, which will internally call <span class="code">.Set</span> on them before performing the operation. Be aware of the tight precedence of those operators though, which may require you to use parentheses around arguments:</p>
 <pre class="code">say (1..5) (^) 4;  # OUTPUT: «set(1, 2, 3, 5)␤»</pre>
 <a name="t187.2"></a><h1 id="_type_Set.pod6-Operators">187.2 Operators</h1>
 <p>Perl 6 provides common set operators, which can take <span class="code">Set</span>s (or any other collections) as input, and return result sets as new <span class="code">Set</span> objects. For example:</p>
 <pre class="code">my ($a, $b) = set(1, 2, 3), set(2, 4); 
 
 say $a (&lt;) $b;  # OUTPUT: «False␤» 
 say $a (&amp;) $b;  # OUTPUT: «set(2)␤» 
 say $a (^) $b;  # OUTPUT: «set(1, 3, 4)␤» 
 
 # Unicode versions: 
 say $a ⊂ $b;  # OUTPUT: «False␤» 
 say $a ∩ $b;  # OUTPUT: «set(2)␤» 
 say $a ⊖ $b;  # OUTPUT: «set(1, 3, 4)␤» 
</pre>
 <p>See <a href="#_language_setbagmix.pod6-Set/Bag_Operators">Set/Bag Operators</a> for a complete list of set operators with detailed explanations.</p>
 <a name="t187.3"></a><h1 id="_type_Set.pod6-Subroutines">187.3 Subroutines</h1>
 <a name="t187.3.1"></a><h2 id="_type_Set.pod6-sub_set">187.3.1 sub set</h2>
 <pre class="code">sub set(*@args --&gt; Set)</pre>
 <p>Creates a <span class="code">Set</span> from the given <span class="code">@args</span></p>
 <a name="t187.4"></a><h1 id="_type_Set.pod6-See_Also">187.4 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/SetHash.pod6 --><div class="pod-body"><a id="_type_SetHash.pod6"></a><a name="t188"><h1 class="title">188 class SetHash</h1></a> <p class="subtitle">Mutable collection of distinct objects</p> <pre class="code">class SetHash does Setty { }</pre>
 <p>A <span class="code">SetHash</span> is a mutable set, meaning a collection of distinct elements in no particular order. (For <i>immutable</i> sets, see <a href="#_type_Set.pod6">Set</a> instead.)</p>
 <p>Objects/values of any type are allowed as set elements. Within a <span class="code">Set</span>, every element is guaranteed to be unique (in the sense that no two elements would compare positively with the <a href="===">===</a> operator):</p>
 <pre class="code">my $fruits = &lt;peach apple orange apple apple&gt;.SetHash; 
 
 say $fruits.elems;      # OUTPUT: «3␤» 
 say $fruits.keys.sort;  # OUTPUT: «apple orange peach␤» 
</pre>
 <p><span class="code">SetHash</span>es can be treated as object hashes using the <span class="code">{ }</span> postcircumfix operator, which returns the value <span class="code">True</span> for keys that are elements of the set, and <span class="code">False</span> for keys that aren't. Assigning a value that boolifies to <span class="code">True</span> or <span class="code">False</span>, respectively, can be used to add or remove a set element:</p>
 <pre class="code">my $fruits = &lt;peach apple orange apple apple&gt;.SetHash; 
 
 say $fruits&lt;apple&gt;;     # OUTPUT: «True␤» 
 say $fruits&lt;kiwi&gt;;      # OUTPUT: «False␤» 
 
 $fruits&lt;apple kiwi&gt; = False, True; 
 say $fruits.keys.sort;  # OUTPUT: «kiwi orange peach␤» 
</pre>
 <p>Here is a convenient shorthand idiom for adding an element to a SetHash:</p>
 <pre class="code">my SetHash $fruits .= new; 
 say $fruits&lt;cherry&gt;;      # OUTPUT: «False␤» 
 $fruits&lt;cherry&gt;++; 
 say $fruits&lt;cherry&gt;;      # OUTPUT: «True␤» 
 
 $fruits&lt;apple banana kiwi&gt;»++; # Add multiple elements 
</pre>
 <a name="t188.1"></a><h1 id="_type_SetHash.pod6-Creating_SetHash_objects">188.1 Creating <span class="code">SetHash</span> objects</h1>
 <p><span class="code">SetHash</span>es can be composed using <span class="code">SetHash.new</span>. Any positional parameters, regardless of their type, become elements of the set:</p>
 <pre class="code">my $n = SetHash.new: &quot;zero&quot; =&gt; 0, &quot;one&quot; =&gt; 1, &quot;two&quot; =&gt; 2;
say $n.keys.perl;        # OUTPUT: «(:two(2), :zero(0), :one(1)).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Pair) (Pair) (Pair))␤»</pre>
 <p>Alternatively, the <span class="code">.SetHash</span> coercer (or its functional form, <span class="code">SetHash()</span>) can be called on an existing object to coerce it to a <span class="code">SetHash</span>. Its semantics depend on the type and contents of the object. In general it evaluates the object in list context and creates a set with the resulting items as elements, although for Hash-like objects or Pair items, only the keys become elements of the set - and keys mapped to values which boolify to <span class="code">False</span> are skipped:</p>
 <pre class="code">my $n = (&quot;zero&quot; =&gt; 0, &quot;one&quot; =&gt; 1, &quot;two&quot; =&gt; 2).SetHash;
say $n.keys.perl;        # OUTPUT: «(&quot;one&quot;, &quot;two&quot;).Seq␤»
say $n.keys.map(&amp;WHAT);  # OUTPUT: «((Str) (Str))␤»</pre>
 <a name="t188.2"></a><h1 id="_type_SetHash.pod6-Operators">188.2 Operators</h1>
 <p>Perl 6 provides common set operators, which can take <span class="code">SetHash</span>es (or any other collections) as input, although result sets are returned as immutable <span class="code">Set</span>s. For example:</p>
 <pre class="code">my ($a, $b) = SetHash.new(1, 2, 3), SetHash.new(2, 4); 
 
 say $a (&lt;) $b;  # OUTPUT: «False␤» 
 say $a (&amp;) $b;  # OUTPUT: «set(2)␤» 
 say $a (^) $b;  # OUTPUT: «set(1, 3, 4)␤» 
 say $a (|) $b;  # OUTPUT: «set(1, 2, 3, 4)␤» 
 
 # Unicode versions: 
 say $a ⊂ $b;  # OUTPUT: «False␤» 
 say $a ∩ $b;  # OUTPUT: «set(2)␤» 
 say $a ⊖ $b;  # OUTPUT: «set(1, 3, 4)␤» 
 say $a ∪ $b;  # OUTPUT: «set(1, 2, 3, 4)␤» 
</pre>
 <p>See <a href="#_language_setbagmix.pod6-Set/Bag Operators">Set/Bag Operators</a> for a complete list of set operators with detailed explanations.</p>
 <a name="t188.3"></a><h1 id="_type_SetHash.pod6-See_Also">188.3 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Setty.pod6 --><div class="pod-body"><a id="_type_Setty.pod6"></a><a name="t189"><h1 class="title">189 role Setty</h1></a> <p class="subtitle">Collection of distinct objects</p> <pre class="code">role Setty does QuantHash { }</pre>
 <p>A role for collections which make sure that each element can only appear once. See <a href="#_type_Set.pod6">Set</a> and <a href="#_type_SetHash.pod6">SetHash</a>.</p>
 <a name="t189.1"></a><h1 id="_type_Setty.pod6-Methods">189.1 Methods</h1>
 <a name="t189.1.1"></a><h2 id="_type_Setty.pod6-method_new-from-pairs">189.1.1 method new-from-pairs</h2>
 <p>Defined as:</p>
 <pre class="code">method new-from-pairs(*@pairs --&gt; Setty:D)</pre>
 <p>Constructs a Setty object from a list of <a href="#_type_Pair.pod6"><span class="code">Pair</span>  objects</a> given as positional arguments:</p>
 <pre class="code">say Set.new-from-pairs: 'butter' =&gt; 0.22, 'salt' =&gt; 0, 'sugar' =&gt; 0.02;
# OUTPUT: «set(butter, sugar)␤»</pre>
 <p><b>Note:</b> be sure you aren't accidentally passing the Pairs as positional arguments; the quotes around the keys in the above example are significant.</p>
 <a name="t189.1.2"></a><h2 id="_type_Setty.pod6-method_grab">189.1.2 method grab</h2>
 <pre class="code">method grab($count = 1)</pre>
 <p>Removes and returns <span class="code">$count</span> elements chosen at random (without repetition) from the set.</p>
 <p>If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the size of the set, then all its elements are removed and returned in random order.</p>
 <p>Only works on mutable sets; When used on an immutable set, it results in an exception.</p>
 <a name="t189.1.3"></a><h2 id="_type_Setty.pod6-method_grabpairs">189.1.3 method grabpairs</h2>
 <pre class="code">method grabpairs($count = 1)</pre>
 <p>Removes <span class="code">$count</span> elements chosen at random (without repetition) from the set, and returns a list of <span class="code">Pair</span> objects whose keys are the grabbed elements and whose values are <span class="code">True</span>.</p>
 <p>If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the size of the set, then all its elements are removed and returned as <span class="code">Pair</span>s in the aforementioned way in random order.</p>
 <p>Only works on mutable sets; When used on an immutable set, it results in an exception.</p>
 <a name="t189.1.4"></a><h2 id="_type_Setty.pod6-method_pick">189.1.4 method pick</h2>
 <pre class="code">multi method pick($count = 1)</pre>
 <p>Returns <span class="code">$count</span> elements chosen at random (without repetition) from the set.</p>
 <p>If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the size of the set, then all its elements are returned in random order.</p>
 <a name="t189.1.5"></a><h2 id="_type_Setty.pod6-method_pickpairs">189.1.5 method pickpairs</h2>
 <p>Defined as:</p>
 <pre class="code">multi method pickpairs(Setty:D: --&gt; Pair:D)
multi method pickpairs(Setty:D: $count --&gt; Seq:D)</pre>
 <p>Returns a <span class="code">Pair</span> or a <span class="code">Seq</span> of <span class="code">Pair</span>s depending on the candidate of the method being invoked. Each <span class="code">Pair</span> returned has an element of the invocant as its key and <span class="code">True</span> as its value. In contrast to <a href="#188-method grabpairs">grabpairs</a>, the elements are 'picked' without replacement.</p>
 <p>If <span class="code">*</span> is passed as <span class="code">$count</span>, or <span class="code">$count</span> is greater than or equal to the number of <a href="#188-method elems">elements</a> of the invocant, then all element/<span class="code">True</span> <span class="code">Pair</span>s from the invocant are returned in a random sequence.</p>
 <p>Note that each <span class="code">pickpairs</span> invocation maintains its own private state and has no effect on subsequent <span class="code">pickpairs</span> invocations.</p>
 <pre class="code">my $numbers = set (4, 2, 3);
say $numbers.pickpairs;                           # OUTPUT: «4 =&gt; True␤»
say $numbers.pickpairs(1);                        # OUTPUT: «(3 =&gt; True)␤»
say $numbers.pickpairs(*);                        # OUTPUT: «(2 =&gt; True 4 =&gt; True 3 =&gt; True)␤»</pre>
 <a name="t189.1.6"></a><h2 id="_type_Setty.pod6-method_roll">189.1.6 method roll</h2>
 <pre class="code">multi method roll($count = 1)</pre>
 <p>Returns a lazy list of <span class="code">$count</span> elements, each randomly selected from the set. Each random choice is made independently, like a separate die roll where each die face is a set element.</p>
 <p>If <span class="code">*</span> is passed as <span class="code">$count</span>, the list is infinite.</p>
 <a name="t189.1.7"></a><h2 id="_type_Setty.pod6-method_keys">189.1.7 method keys</h2>
 <p>Defined as:</p>
 <pre class="code">multi method keys(Setty:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> of all elements of the set.</p>
 <pre class="code">my $s = Set.new(1, 2, 3);
say $s.keys;                                      # OUTPUT: «(3 1 2)␤»</pre>
 <a name="t189.1.8"></a><h2 id="_type_Setty.pod6-method_values">189.1.8 method values</h2>
 <p>Defined as:</p>
 <pre class="code">multi method values(Setty:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> containing as many <span class="code">True</span> values as the set has elements.</p>
 <pre class="code">my $s = Set.new(1, 2, 3);
say $s.values;                                    # OUTPUT: «(True True True)␤»</pre>
 <a name="t189.1.9"></a><h2 id="_type_Setty.pod6-method_kv">189.1.9 method kv</h2>
 <p>Defined as:</p>
 <pre class="code">multi method kv(Setty:D: --&gt; Seq:D)</pre>
 <p>Returns a <a href="#_type_Seq.pod6">Seq</a> of the set's elements and <span class="code">True</span> values interleaved.</p>
 <pre class="code">my $s = Set.new(1, 2, 3);
say $s.kv;                                        # OUTPUT: «(3 True 1 True 2 True)␤»</pre>
 <a name="t189.1.10"></a><h2 id="_type_Setty.pod6-method_elems">189.1.10 method elems</h2>
 <pre class="code">method elems(--&gt; Int)</pre>
 <p>The number of elements of the set.</p>
 <a name="t189.1.11"></a><h2 id="_type_Setty.pod6-method_total">189.1.11 method total</h2>
 <pre class="code">method total(--&gt; Int)</pre>
 <p>The total of all the values of the <span class="code">QuantHash</span> object. For a <span class="code">Setty</span> object, this is just the number of elements.</p>
 <a name="t189.1.12"></a><h2 id="_type_Setty.pod6-method_minpairs">189.1.12 method minpairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method minpairs(Setty:D: --&gt; Seq:D)</pre>
 <p>Returns the value of <a href="#_routine_pairs.pod6"><span class="code">self.pairs</span></a> (as all Pairs have minimum values). See also <a href="#_routine_minpairs.pod6"><span class="code">Any.minpairs</span></a></p>
 <a name="t189.1.13"></a><h2 id="_type_Setty.pod6-method_maxpairs">189.1.13 method maxpairs</h2>
 <p>Defined As:</p>
 <pre class="code">multi method maxpairs(Setty:D: --&gt; Seq:D)</pre>
 <p>Returns the value of <a href="#_routine_pairs.pod6"><span class="code">self.pairs</span></a> (as all Pairs have maximum values). See also <a href="#_routine_maxpairs.pod6"><span class="code">Any.maxpairs</span></a></p>
 <a name="t189.1.14"></a><h2 id="_type_Setty.pod6-method_default">189.1.14 method default</h2>
 <p>Defined as:</p>
 <pre class="code">method default(--&gt; False)</pre>
 <p>Returns the default value of the invocant, i.e. the value which is returned when trying to access an element in the <span class="code">Setty</span> object which has not been previously initialized or when accessing an element which has explicitly been set to <span class="code">Nil</span> or <span class="code">False</span>.</p>
 <pre class="code">my $s1 = SetHash.new(1, 2, 3);
say $s1{2};                                           # OUTPUT: «True␤»
$s1{2} = Nil;
say $s1{2};                                           # OUTPUT: «False␤»
# access non initialized element
say $s1{4};                                           # OUTPUT: «False␤»</pre>
 <a name="t189.1.15"></a><h2 id="_type_Setty.pod6-method_ACCEPTS">189.1.15 method ACCEPTS</h2>
 <pre class="code">method ACCEPTS($other)</pre>
 <p>Returns <span class="code">True</span> if <span class="code">$other</span> and <span class="code">self</span> contain all the same elements, and no others.</p>
 <a name="t189.1.16"></a><h2 id="_type_Setty.pod6-method_Bag">189.1.16 method Bag</h2>
 <p>Defined as:</p>
 <pre class="code">method Bag(Setty:D: --&gt; Bag:D)</pre>
 <p>Returns a <a href="#_type_Bag.pod6">Bag</a> containing the elements of the invocant.</p>
 <pre class="code">my Bag $b = Set.new(1, 2, 3).Bag;
say $b;                                           # OUTPUT: «bag(3, 1, 2)␤»</pre>
 <a name="t189.1.17"></a><h2 id="_type_Setty.pod6-method_BagHash">189.1.17 method BagHash</h2>
 <p>Defined as:</p>
 <pre class="code">method BagHash(Setty:D: --&gt; BagHash:D)</pre>
 <p>Returns a <a href="#_type_BagHash.pod6">BagHash</a> containing the elements of the invocant.</p>
 <pre class="code">my BagHash $b = Set.new(1, 2, 3).BagHash;
say $b;                                           # OUTPUT: «BagHash.new(3, 1, 2)␤»</pre>
 <a name="t189.1.18"></a><h2 id="_type_Setty.pod6-method_Bool">189.1.18 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">multi method Bool(Setty:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant contains at least one element.</p>
 <pre class="code">my $s1 = Set.new(1, 2, 3);
say $s1.Bool;                                     # OUTPUT: «True␤»

my $s2 = $s1 ∩ Set.new(4, 5);                     # set intersection operator
say $s2.Bool;                                     # OUTPUT: «False␤»</pre>
 <a name="t189.1.19"></a><h2 id="_type_Setty.pod6-method_Mix">189.1.19 method Mix</h2>
 <p>Defined as:</p>
 <pre class="code">method Mix(Setty:D: --&gt; Mix:D)</pre>
 <p>Returns a <a href="#_type_Mix.pod6">Mix</a> containing the elements of the invocant.</p>
 <pre class="code">my Mix $b = Set.new(1, 2, 3).Mix;
say $b;                                           # OUTPUT: «mix(3, 1, 2)␤»</pre>
 <a name="t189.1.20"></a><h2 id="_type_Setty.pod6-method_MixHash">189.1.20 method MixHash</h2>
 <p>Defined as:</p>
 <pre class="code">method MixHash(Setty:D: --&gt; MixHash:D)</pre>
 <p>Returns a <a href="#_type_MixHash.pod6">MixHash</a> containing the elements of the invocant.</p>
 <pre class="code">my MixHash $b = Set.new(1, 2, 3).MixHash;
say $b;                                           # OUTPUT: «MixHash.new(3, 1, 2)␤»</pre>
 <a name="t189.2"></a><h1 id="_type_Setty.pod6-See_Also">189.2 See Also</h1>
 <p><a href="#_language_setbagmix.pod6">Sets, Bags, and Mixes</a></p>
</div>
<!-- /type/Signature.pod6 --><div class="pod-body"><a id="_type_Signature.pod6"></a><a name="t190"><h1 class="title">190 class Signature</h1></a> <p class="subtitle">Parameter list pattern</p> <pre class="code">class Signature { }</pre>
 <p>A signature is a static description of the <a href="#_type_Parameter.pod6">parameter</a> list of a code object. That is, it describes what and how many arguments you need to pass to the code or function in order to call it.</p>
 <p>Passing arguments to a signature <i>binds</i> the arguments, contained in a <a href="#_type_Capture.pod6">Capture</a>, to the signature.</p>
 <p><span class="indexed"><a id="876" name="signature literal (Signature)"></a></span> <span class="indexed"><a id="877" name=":() (Signature)"></a></span></p>
 <a name="t190.1"></a><h1 id="_type_Signature.pod6-Signature_Literals">190.1 Signature Literals</h1>
 <p>Signatures appear inside parentheses after <a href="#_type_Sub.pod6">subroutine</a> and <a href="#_type_Method.pod6">method</a> names, on blocks after a <span class="code">-&gt; </span> or <span class="code">&lt;-&gt; </span> arrow, as the input to <a href="#_language_variables.pod6-Variable_Declarators_and_Scope">variable declarators</a> like <a href="#_syntax_my.pod6"><span class="code">my</span></a>, or as a separate term starting with a colon.</p>
 <pre class="code">sub f($x) { }
#    ^^^^ Signature of sub f
my method x() { }
#          ^^ Signature of a method
my $s = sub (*@a) { }
#           ^^^^^ Signature of an anonymous function

for &lt;a b c&gt; -&gt; $x { }
#              ^^   Signature of a Block

my ($a, @b) = 5, (6, 7, 8);
#  ^^^^^^^^ Signature of a variable declarator

my $sig = :($a, $b);
#          ^^^^^^^^ Standalone Signature object</pre>
 <p>Signature literals can be used to define the signature of a callback or a closure.</p>
 <pre class="code">sub f(&amp;c:(Int)) { }
sub will-work(Int) { }
sub won't-work(Str) { }
f(&amp;will-work);

f(&amp;won't-work);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Binding::Parameter: Constraint type check failed in binding to parameter '&amp;c'␤»

f(-&gt; Int { 'this works too' } );</pre>
 <p>Smart matching signatures against a List is supported.</p>
 <pre class="code">my $sig = :(Int $i, Str $s);
say (10, 'answer') ~~ $sig;
# OUTPUT: «True␤»
my $sub = sub ( Str $s, Int $i ) { return $s xx $i };
say $sub.signature ~~ :( Str, Int );
# OUTPUT: «True␤»
given $sig {
    when :(Str, Int) { say 'mismatch' }
    when :($, $)     { say 'match' }
    default          { say 'no match' }
}
# OUTPUT: «match␤»</pre>
 <p>It matches the second <span class="code">when</span> clause since <span class="code">:($, $)</span> represents a <span class="code">Signature</span> with two scalar, anonymous, arguments, which is a more general version of <span class="code">$sig</span>.</p>
 <p>When smart matching against a Hash, the signature is assumed to consist of the keys of the Hash.</p>
 <pre class="code">my %h = left =&gt; 1, right =&gt; 2;
say %h ~~ :(:$left, :$right);
# OUTPUT: «True␤»</pre>
 <a name="t190.1.1"></a><h2 id="_type_Signature.pod6-Parameter_Separators">190.1.1 Parameter Separators</h2>
 <p>A signature consists of zero or more <i><a href="#_type_Parameter.pod6">parameters</a></i>, separated by commas.</p>
 <pre class="code">my $sig = :($a, @b, %c);
sub add($a, $b) { $a + $b };</pre>
 <p>As an exception the first parameter may be followed by a colon instead of a comma to mark the invocant of a method. The invocant is the object that was used to call the method, which is usually bound to <a href="&lt;span class=&quot;code&quot;&gt;self&lt;/span&gt;"><span class="code">self</span></a>. By specifying it in the signature, you can change the variable name it is bound to.</p>
 <pre class="code">method ($a: @b, %c) {};       # first argument is the invocant

class Foo {
    method whoami($me:) {
        &quot;Well I'm class $me.^name(), of course!&quot;
    }
}
say Foo.whoami; # OUTPUT: «Well I'm class Foo, of course!␤»</pre>
 <p><span class="indexed"><a id="878" name="type constraint (Signature)"></a></span></p>
 <a name="t190.1.2"></a><h2 id="_type_Signature.pod6-Type_Constraints">190.1.2 Type Constraints <a name="879"></a></h2>
 <p>Parameters can optionally have a type constraint (the default is <a href="&lt;span class=&quot;code&quot;&gt;Any&lt;/span&gt;"><span class="code">Any</span></a>). These can be used to restrict the allowed input to a function.</p>
 <pre class="code">my $sig = :(Int $a, Str $b); 
</pre>
 <pre class="code">sub divisors(Int $n) { $_ if $n %% $_ for 1..$n }; 
 divisors 2.5; 
 # ===SORRY!=== Error while compiling: 
 # Calling divisors(Rat) will never work with declared signature (Int $n) 
</pre>
 <p><span class="indexed"><a id="880" name="anonymous arguments (Signature)"></a></span> Anonymous arguments are fine too, if a parameter is only needed for its type constraint.</p>
 <pre class="code">my $sig = :($, @, %a);              # two anonymous and a &quot;normal&quot; parameter
$sig = :(Int, Positional);          # just a type is also fine (two parameters)
sub baz(Str) { &quot;Got passed a Str&quot; }</pre>
 <p>Type constraints may also be <a href="#_type_Signature.pod6-Type_Captures">type captures</a>.</p>
 <p><span class="indexed"><a id="881" name="where clause (Signature)"></a></span> In addition to those <i>nominal</i> types, additional constraints can be placed on parameters in the form of code blocks which must return a true value to pass the type check</p>
 <pre class="code">sub f(Real $x where { $x &gt; 0 }, Real $y where { $y &gt;= $x }) { }</pre>
 <p>The code in <span class="code">where</span> clauses has some limitations: anything that produces side-effects (e.g. printing output, pulling from an iterator, or increasing a state variable) is not supported and may produce surprising results if used. Also, the code of the <span class="code">where</span> clause may run more than once for a single typecheck in some implementations.</p>
 <p>The <span class="code">where</span> clause doesn't need to be a code block, anything on the right of the <span class="code">where</span>-clause will be used to <a href="#_language_operators.pod6-infix_~~">smart-match</a> the argument against it. So you can also write:</p>
 <pre class="code">multi factorial(Int $ where 0) { 1 }
multi factorial(Int $x)        { $x * factorial($x - 1) }</pre>
 <p>The first of those can be shortened to</p>
 <pre class="code">multi factorial(0) { 1 }</pre>
 <p>i.e., you can use a literal directly as a type and value constraint on an anonymous parameter.</p>
 <p><b>Tip:</b> pay attention to not accidentally leave off a block when you, say, have several conditions:</p>
 <pre class="code">-&gt; $y where   .so &amp;&amp; .name    {}( sub one   {} ); # WRONG!!
-&gt; $y where { .so &amp;&amp; .name }  {}( sub two   {} ); # OK!
-&gt; $y where   .so &amp;  .name.so {}( sub three {} ); # Also good</pre>
 <p>The first version is wrong and will issue a warning about sub object coerced to string. The reason is the expression is equivalent to <span class="code">($y ~~ ($y.so &amp;&amp; $y.name))</span>; that is &quot;call <span class="code">.so</span>, and if that is <span class="code">True</span>, call <span class="code">.name</span>; if that is also <span class="code">True</span> use its value for smartmatching…&quot;. It's the <b>result</b> of <span class="code">(.so &amp;&amp; .name)</span> is will be smart-matched against, but we want to check that both <span class="code">.so</span> and <span class="code">.name</span> are truthy values. That is why an explicit Block or a <a href="#_type_Junction.pod6">Junction</a> is the right version.</p>
 <p>All previous arguments that are not part of a sub-signature in a <span class="code">Signature</span> are accessible in a <span class="code">where</span>-clause that follows an argument. Therefore, the <span class="code">where</span>-clause of the last argument has access to all arguments of a signature that are not part of a sub-signature. For a sub-signature place the <span class="code">where</span>-clause inside the sub-signature.</p>
 <pre class="code">sub one-of-them(:$a, :$b, :$c where { $a.defined ^^ $b.defined ^^ $c.defined }) {
    $a // $b // $c
};
say one-of-them(c=&gt;42); # OUTPUT: «42␤»</pre>
 <a name="t190.1.2.1"></a><h3 id="_type_Signature.pod6-Constraining_Optional_Arguments">190.1.2.1 Constraining Optional Arguments</h3>
 <p><a href="#189-Optional_and_Mandatory_Parameters">Optional arguments</a> can have constraints, too. Any <span class="code">where</span> clause on any parameter will be executed, even if it's optional and not provided by the caller. In that case you may have to guard against undefined values within the <span class="code">where</span> clause.</p>
 <pre class="code">sub f(Int $a, UInt $i? where { !$i.defined or $i &gt; 5 } ) { ... }</pre>
 <a name="t190.1.2.2"></a><h3 id="_type_Signature.pod6-Constraining_Slurpy_Arguments">190.1.2.2 Constraining Slurpy Arguments</h3>
 <p><a href="#189-Slurpy_(A.K.A._Variadic)_Parameters">Slurpy arguments</a> can not have type constraints. A <span class="code">where</span>-clause in conjunction with a <a href="#_type_Junction.pod6">Junction</a> can be used to that effect.</p>
 <pre class="code">sub f(*@a where {$_.all ~~ Int}) { say @a };
f(42);
f(&lt;a&gt;);
CATCH { default { say .^name, ' ==&gt; ', .Str }  }
# OUTPUT: «[42]␤Constraint type check failed in binding to parameter '@a' ...»</pre>
 <a name="t190.1.2.3"></a><h3 id="_type_Signature.pod6-Constraining_named_Arguments">190.1.2.3 Constraining named Arguments</h3>
 <p>Constraints against <a href="#189-Positional_vs._Named">Named arguments</a> apply to the value part of the <a href="#_type_Pair.pod6">colon-pair</a>.</p>
 <pre class="code">sub f(Int :$i){};
f :i&lt;forty-two&gt;;
CATCH { default { say .^name, ' ==&gt; ', .Str }  }
# OUTPUT: «X::TypeCheck::Binding::Parameter ==&gt; Type check failed in binding to parameter '$i'; expected Int but got Str (&quot;forty-two&quot;)␤»</pre>
 <a name="t190.1.2.4"></a><h3 id="_type_Signature.pod6-Constraining_Defined_and_Undefined_Values">190.1.2.4 <a name="882"></a>Constraining Defined and Undefined Values</h3>
 <p>Normally, a type constraint only checks whether the value of the parameter is of the correct type. Crucially, both <i>object instances</i> and <i>type objects</i> will satisfy such a constraint as illustrated below:</p>
 <pre class="code">say  42.^name;    # OUTPUT: «Int␤»
say  42 ~~ Int;   # OUTPUT: «True␤»
say Int ~~ Int;   # OUTPUT: «True␤»</pre>
 <p>Note how both <span class="code">42</span> and <span class="code">Int</span> satisfy the match.</p>
 <p>Sometimes we need to distinguish between these object instances (<span class="code">42</span>) and type objects (<span class="code">Int</span>). Consider the following code:</p>
 <pre class="code">sub limit-lines(Str $s, Int $limit) {
    my @lines = $s.lines;
    @lines[0 .. min @lines.elems, $limit].join(&quot;\n&quot;)
}
say (limit-lines &quot;a \n b \n c \n d \n&quot;, 3).perl; # &quot;a \n b \n c \n d &quot;
say limit-lines Str, 3;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Multi::NoMatch: Cannot resolve caller lines(Str: ); none of these signatures match:
#     (Str:D $: :$count!, *%_)
#     (Str:D $: $limit, *%_)
#     (Str:D $: *%_)»
say limit-lines &quot;a \n b&quot;, Int # Always returns the max number of lines</pre>
 <p>Here we really only want to deal with string instances, not type objects. To do this, we can use the <span class="code">:D</span> type constraint. This constraint checks that the value passed is an <i>object instance</i>, in a similar fashion to calling its <a href="#_language_mop.pod6-DEFINITE">DEFINITE</a> method.</p>
 <p>To warm up, let's apply <span class="code">:D</span> to the right hand side of our humble <span class="code">Int</span> example:</p>
 <pre class="code">say  42 ~~ Int:D;  # OUTPUT: «True␤»
say Int ~~ Int:D;  # OUTPUT: «False␤»</pre>
 <p>Note how only <span class="code">42</span> matches <span class="code">Int:D</span> in the above.</p>
 <p>Returning to <span class="code">limit-lines</span>, we can now amend its signature to catch the error early:</p>
 <pre class="code">sub limit-lines(Str:D $s, Int $limit) { };
say limit-lines Str, 3;
CATCH { default { put .^name ~ '--' ~ .Str } };
# OUTPUT: «Parameter '$s' of routine 'limit-lines' must be an object instance of type 'Str',
#          not a type object of type 'Str'.  Did you forget a '.new'?»</pre>
 <p>This is much better than the way the program failed before, since here the reason for failure is clearer.</p>
 <p>It's also possible that <i>type objects</i> are the only ones that make sense for a routine to accept. This can be done with the <span class="code">:U</span> type constraint, which checks whether the value passed is a type object rather than an object instance. Here's our <span class="code">Int</span> example again, this time with <span class="code">:U</span> applied:</p>
 <pre class="code">say  42 ~~ Int:U;  # OUTPUT: «False␤»
say Int ~~ Int:U;  # OUTPUT: «True␤»</pre>
 <p>Now <span class="code">42</span> fails to match <span class="code">Int:U</span> while <span class="code">Int</span> succeeds.</p>
 <p>Here's a more practical example:</p>
 <pre class="code">sub can-turn-into(Str $string, Any:U $type) {
   return so $string.$type;
}
say can-turn-into(&quot;3&quot;, Int);
say can-turn-into(&quot;6.5&quot;, Int);
say can-turn-into(&quot;6.5&quot;, Num);
say can-turn-into(&quot;a string&quot;, Num);
# OUTPUT: True True True False</pre>
 <p>Calling <span class="code">can-turn-into</span> with an object instance as its second parameter will yield a constraint violation as intended:</p>
 <pre class="code">say can-turn-into(&quot;a string&quot;, 123); 
 # OUTPUT: «Parameter '$type' of routine 'can-turn-into' must be a type object of type 'Any', not an object instance of type 'Int'...» 
</pre>
 <p>For explicitly indicating the normal behaviour, <span class="code">:_</span> can be used, but this is unnecessary. <span class="code">:(Num:_ $)</span> is the same as <span class="code">:(Num $)</span>.</p>
 <p>To recap, here is a quick illustration of these type constraints, also known collectively as <i>type smileys</i>:</p>
 <pre class="code"># Checking a type object
say Int ~~ Any:D;    # OUTPUT: «False␤»
say Int ~~ Any:U;    # OUTPUT: «True␤»
say Int ~~ Any:_;    # OUTPUT: «True␤»

# Checking an object instance
say 42 ~~ Any:D;     # OUTPUT: «True␤»
say 42 ~~ Any:U;     # OUTPUT: «False␤»
say 42 ~~ Any:_;     # OUTPUT: «True␤»

# Checking a user-supplied class
class Foo {};
say Foo ~~ Any:D;    # OUTPUT: «False␤»
say Foo ~~ Any:U;    # OUTPUT: «True␤»
say Foo ~~ Any:_;    # OUTPUT: «True␤»
my $f = Foo.new;
say $f  ~~ Any:D;    # OUTPUT: «True␤»
say $f  ~~ Any:U;    # OUTPUT: «False␤»
say $f  ~~ Any:_;    # OUTPUT: «True␤»</pre>
 <p>The <a href="#_language_classtut.pod6-Starting_with_class">Classes and Objects</a> document further elaborates on the concepts of instances and type objects and discovering them with the <span class="code">.DEFINITE</span> method.</p>
 <p>Keep in mind all parameters have values; even optional ones have default defaults that are the type object of the constrained type for explicit type constraints. If no explicit type constraint exists, the default default is an <a href="#_type_Any.pod6">Any</a> type object for methods, submethods, and subroutines, and a <a href="#_type_Mu.pod6">Mu</a> type object for blocks. This means that if you use the <span class="code">:D</span> type smiley, you'd need to provide a default value or make the parameter required. Otherwise, the default default would be a type object, which would fail the definiteness constraint.</p>
 <pre class="code">sub divide (Int:D :$a = 2, Int:D :$b!) { say $a/$b }
divide :1a, :2b; # OUTPUT: «0.5␤»</pre>
 <a name="t190.1.2.5"></a><h3 id="_type_Signature.pod6-Constraining_signatures_of_Callables">190.1.2.5 <a name="883"></a>Constraining signatures of Callables</h3>
 <p>A <a href="#_type_Callable.pod6">Callable</a> parameter can be constrained by its signature, by specifying a <a href="#_type_Signature.pod6">Signature</a> literal right after the parameter (no whitespace allowed):</p>
 <pre class="code">sub f(&amp;c:(Int, Str))  { say c(10, 'ten') };
sub g(Int $i, Str $s) { $s ~ $i };
f(&amp;g);
# OUTPUT: «ten10␤»</pre>
 <p>This shorthand syntax is available only for parameters with the <span class="code">&amp;</span> sigil. For others, you need to use the long version:</p>
 <pre class="code">sub f($c where .signature ~~ :(Int, Str))  { say $c(10, 'ten') }
sub g(Num $i, Str $s) { $s ~ $i }
sub h(Int $i, Str $s) { $s ~ $i }
# f(&amp;g); # Constraint type check failed
f(&amp;h);   # OUTPUT: «ten10␤»</pre>
 <a name="t190.1.2.6"></a><h3 id="_type_Signature.pod6-Constraining_Return_Types">190.1.2.6 <a name="884"></a>Constraining Return Types</h3>
 <p>There are multiple ways to constrain return types on a <a href="#_type_Routine.pod6">Routine</a>. All versions below are currently valid and will force a type check on successful execution of a routine.</p>
 <p><a href="#_type_Nil.pod6"><span class="code">Nil</span></a> and <a href="#_type_Failure.pod6"><span class="code">Failure</span></a> are always allowed as return types, regardless of any type constraint. This allows <a href="#_type_Failure.pod6">Failure</a> to be returned and passed on down the call chain.</p>
 <pre class="code">sub foo(--&gt; Int) { Nil };
say foo.perl; # OUTPUT: «Nil␤»</pre>
 <p>Type captures are not supported.</p>
 <ul><li><p><span class="code">--</span>&gt;</p>
</li></ul> <p>This form is preferred for several reasons: (1) it can handle constant values while the others can't; (2) for consistency, it is the only form accepted on this site;</p>
 <p>The return type arrow has to be placed at the end of the parameter list, with or without a <span class="code">,</span> before it.</p>
 <pre class="code">sub greeting1(Str $name  --&gt; Str) { say &quot;Hello, $name&quot; } # Valid 
 sub greeting2(Str $name, --&gt; Str) { say &quot;Hello, $name&quot; } # Valid 
 
 sub favorite-number1(--&gt; 42) {        } # OUTPUT: 42 
 sub favorite-number2(--&gt; 42) { return } # OUTPUT: 42 
</pre>
 <p>If the type constraint is a constant expression, it is used as the return value of the routine. Any return statement in that routine has to be argumentless.</p>
 <pre class="code">sub foo(Str $word --&gt; 123) { say $word; return; } 
 my $value = foo(&quot;hello&quot;); # OUTPUT: hello 
 say $value;               # OUTPUT: 123 
</pre>
 <pre class="code"># The code below will not compile 
 sub foo(Str $word --&gt; 123) { say $word; return $word; } 
 my $value = foo(&quot;hello&quot;); 
 say $value; 
</pre>
 <ul><li><p><span class="code">returns</span></p>
</li></ul> <p>The keyword <span class="code">returns</span> following a signature declaration has the same function as <span class="code">--</span>&gt; with two caveats.</p>
 <p>(1) This form is planned for future removal. (2) This form does not work with constant values</p>
 <pre class="code">    sub greeting(Str $name) returns Str { say &quot;Hello, $name&quot; } # Valid 
</pre>
 <pre class="code">    sub favorite-number returns 42 {        } # This will fail. 
</pre>
 <ul><li><p><span class="code">of</span></p>
</li></ul> <p><span class="code">of</span> is just the real name of the <span class="code">returns</span> keyword.</p>
 <pre class="code">    sub foo() of Int { 42 }; # Valid 
</pre>
 <pre class="code">    sub foo() of 42 {  };    # This will fail. 
</pre>
 <ul><li><p>prefix(C-like) form</p>
</li></ul> <p>This is similar to placing type constraints on variables like <span class="code">my Type $var = 20;</span>, except the <span class="code">$var</span> is a definition for a routine.</p>
 <pre class="code">    my Int sub bar { 1 };     # Valid 
</pre>
 <pre class="code">    my 42 sub bad-answer {};  # This will fail. 
</pre>
 <a name="t190.1.2.7"></a><h3 id="_type_Signature.pod6-Coercion_Type">190.1.2.7 <a name="885"></a>Coercion Type</h3>
 <p>To accept one type but coerce it automatically to another, use the accepted type as an argument to the target type. If the accepted type is <span class="code">Any</span> it can be omitted.</p>
 <pre class="code">sub f(Int(Str) $want-int, Str() $want-str) {
    say $want-int.^name ~ ' ' ~ $want-str.^name
}
f '10', 10;
# OUTPUT: «Int Str␤»

use MONKEY;
augment class Str { method Date() { Date.new(self) } };
sub foo(Date(Str) $d) { say $d.^name; say $d };
foo &quot;2016-12-01&quot;;
# OUTPUT: «Date␤2016-12-01␤»</pre>
 <p>The coercion is performed by calling the method with the name of the type to coerce to, if it exists (e.g. <span class="code">Foo(Bar)</span> coercer, would call method <span class="code">Foo</span>). The method is assumed to return the correct type—no additional checks on the result are currently performed.</p>
 <a name="t190.1.3"></a><h2 id="_type_Signature.pod6-Slurpy_(A.K.A._Variadic)_Parameters">190.1.3 <a name="886"></a>Slurpy (A.K.A. Variadic) Parameters</h2>
 <p>A function is <span class="indexed"><a id="887" name="">variadic</a></span> if it can take a varying number of arguments; that is, its arity is not fixed. Therefore, optional, named, and slurpy parameters are variadic. An array or hash parameter can be marked as <i>slurpy</i> by leading asterisk (*) or two leading asterisks (**) or a leading plus (+). A slurpy parameter can bind to an arbitrary number of arguments (zero or more).</p>
 <p>These are called &quot;slurpy&quot; because they slurp up any remaining arguments to a function, like someone slurping up noodles.</p>
 <pre class="code">$ = :($a, @b);     # exactly two arguments, where the second one must be Positional
$ = :($a, *@b);    # at least one argument, @b slurps up any beyond that
$ = :(*%h);        # no positional arguments, but any number of named arguments

sub one-arg (@)  { }
sub slurpy  (*@) { }
one-arg (5, 6, 7); # ok, same as one-arg((5, 6, 7))
slurpy  (5, 6, 7); # ok
slurpy   5, 6, 7 ; # ok
# one-arg(5, 6, 7) ; # X::TypeCheck::Argument
# one-arg  5, 6, 7 ; # X::TypeCheck::Argument

sub named-names (*%named-args) { %named-args.keys };
say named-names :foo(42) :bar&lt;baz&gt;; # OUTPUT: «foo bar␤»</pre>
 <p>Note that positional parameters aren't allowed after slurpy parameters.</p>
 <pre class="code">:(*@args, $last); 
 # ===SORRY!=== Error while compiling: 
 # Cannot put required parameter $last after variadic parameters 
</pre>
 <p>Normally a slurpy parameter will create an <a href="#_type_Array.pod6">Array</a>, create a new <a href="#_type_Scalar.pod6">Scalar</a> container for each argument, and assign the value from each argument to those Scalars. If the original argument also had an intermediary Scalar it is bypassed during this process, and is not available inside the called function.</p>
 <p>Slurpy parameters have special behaviors when combined with some <a href="#189-Parameter_Traits_and_Modifiers">traits and modifiers</a>, as described in <a href="#_type_Signature.pod6-Types_of_Slurpy_Array_Parameters">the section on slurpy array parameters</a>.</p>
 <a name="t190.1.4"></a><h2 id="_type_Signature.pod6-Types_of_Slurpy_Array_Parameters">190.1.4 Types of Slurpy Array Parameters</h2>
 <p>There are three variations to slurpy array parameters.</p>
 <ul><li><p>The single asterisk form flattens passed arguments.</p>
</li></ul> <ul><li><p>The double asterisk form does not flatten arguments.</p>
</li></ul> <ul><li><p>The plus form flattens according to the single argument rule.</p>
</li></ul> <p>Each will be described in detail in the next few sections. As the difference between each is a bit nuanced, examples are provided for each to demonstrate how each slurpy convention varies from the others.</p>
 <a name="t190.1.4.1"></a><h3 id="_type_Signature.pod6-Flattened_Slurpy">190.1.4.1 Flattened Slurpy</h3>
 <p>Slurpy parameters declared with one asterisk will flatten arguments by dissolving one or more layers of bare <a href="#_type_Iterable.pod6">Iterable</a>s.</p>
 <pre class="code">my @array = &lt;a b c&gt;; 
 my $list := &lt;d e f&gt;; 
 sub a(*@a)  { @a.perl.say }; 
 a(@array);                 # OUTPUT: «[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]» 
 a(1, $list, [2, 3]);       # OUTPUT: «[1, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, 2, 3]» 
 a([1, 2]);                 # OUTPUT: «[1, 2]» 
 a(1, [1, 2], ([3, 4], 5)); # OUTPUT: «[1, 1, 2, 3, 4 5]» 
 a(($_ for 1, 2, 3));       # OUTPUT: «[1, 2, 3]» 
</pre>
 <p>A single asterisk slurpy flattens all given iterables, effectively hoisting any object created with commas up to the top level.</p>
 <a name="t190.1.4.2"></a><h3 id="_type_Signature.pod6-Unflattened_Slurpy">190.1.4.2 <a name="888"></a>Unflattened Slurpy</h3>
 <p>Slurpy parameters declared with two stars do not flatten any <a href="#_type_Iterable.pod6">Iterable</a> arguments within the list, but keep the arguments more or less as-is:</p>
 <pre class="code">my @array = &lt;a b c&gt;; 
 my $list := &lt;d e f&gt;; 
 sub b(**@b) { @b.perl.say }; 
 b(@array);                 # OUTPUT: «[[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;],]␤» 
 b(1, $list, [2, 3]);       # OUTPUT: «[1, (&quot;d&quot;, &quot;e&quot;, &quot;f&quot;), [2, 3]]␤» 
 b([1, 2]);                 # OUTPUT: «[[1, 2],]␤» 
 b(1, [1, 2], ([3, 4], 5)); # OUTPUT: «[1, [1, 2], ([3, 4], 5)]␤» 
 b(($_ for 1, 2, 3));       # OUTPUT: «[(1, 2, 3),]␤» 
</pre>
 <p>The double asterisk slurpy hides the nested comma objects and leaves them as-is in the slurpy array.</p>
 <a name="t190.1.4.3"></a><h3 id="_type_Signature.pod6-Single_Argument_Rule_Slurpy">190.1.4.3 Single Argument Rule Slurpy <a name="889"></a></h3>
 <p>A slurpy parameter created using a plus engages the <i>&quot;single argument rule&quot;</i>, which decides how to handle the slurpy argument based upon context. Basically, if only a single argument is passed and that argument is <a href="#_type_Iterable.pod6">Iterable</a>, that argument is used to fill the slurpy parameter array. In any other case, <span class="code">+@</span> works like <span class="code">**@</span>.</p>
 <pre class="code">my @array = &lt;a b c&gt;; 
 my $list := &lt;d e f&gt;; 
 sub c(+@b) { @b.perl.say }; 
 c(@array);                 # OUTPUT: «[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]␤» 
 c(1, $list, [2, 3]);       # OUTPUT: «[1, (&quot;d&quot;, &quot;e&quot;, &quot;f&quot;), [2, 3]]␤» 
 c([1, 2]);                 # OUTPUT: «[1, 2]␤» 
 c(1, [1, 2], ([3, 4], 5)); # OUTPUT: «[1, [1, 2], ([3, 4], 5)]␤» 
 c(($_ for 1, 2, 3));       # OUTPUT: «[1, 2, 3]␤» 
</pre>
 <p>For additional discussion and examples, see <a href="#_language_functions.pod6-Slurpy_Conventions">Slurpy Conventions for Functions</a>.</p>
 <a name="t190.1.5"></a><h2 id="_type_Signature.pod6-Type_Captures">190.1.5 Type Captures <a name="890"></a></h2>
 <p>Type Captures allow deferring the specification of a type constraint to the time the function is called. They allow referring to a type both in the signature and the function body.</p>
 <pre class="code">sub f(::T $p1, T $p2, ::C){
    # $p1 and $p2 are of the same type T, that we don't know yet
    # C will hold a type we derive from a type object or value
    my C $closure = $p1 / $p2;
    return sub (T $p1) {
        $closure * $p1;
    }
}

# The first parameter is Int and so must be the 2nd.
# We derive the 3rd type from calling the operator that is used in &amp;f.
my &amp;s = f(10, 2, Int.new / Int.new);
say s(2); # 10 / 2 * 2 == 10</pre>
 <p><span class="indexed"><a id="891" name="positional argument (Signature) named argument (Signature)"></a></span></p>
 <a name="t190.1.6"></a><h2 id="_type_Signature.pod6-Positional_vs._Named">190.1.6 Positional vs. Named</h2>
 <p>A parameter can be <i>positional</i> or <i>named</i>. All parameters are positional, except slurpy hash parameters and parameters marked with a leading colon <span class="code">:</span>. The latter is called a <a href="#_type_Pair.pod6">colon-pair</a>.</p>
 <pre class="code">$ = :($a);               # a positional parameter
$ = :(:$a);              # a named parameter of name 'a'
$ = :(*@a);              # a slurpy positional parameter
$ = :(*%h);              # a slurpy named parameter</pre>
 <p>On the caller side, positional arguments are passed in the same order as the parameters were declared.</p>
 <pre class="code">sub pos($x, $y) { &quot;x=$x y=$y&quot; }
pos(4, 5);                          # OUTPUT: «x=4 y=5»</pre>
 <p>In the case of named arguments and parameters, only the name is used for mapping arguments to parameters. If a fat arrow is used to construct a <a href="#_type_Pair.pod6">Pair</a> only those with valid identifiers as keys are recognized as named arguments.</p>
 <pre class="code">sub named(:$x, :$y) { &quot;x=$x y=$y&quot; } 
 named( y =&gt; 5, x =&gt; 4);             # OUTPUT: «x=4 y=5» 
</pre>
 <p>It is possible to have a different name for a named parameter than the variable name:</p>
 <pre class="code">sub named(:official($private)) { &quot;Official business!&quot; if $private }
named :official;</pre>
 <p>Aliases are also possible that way:</p>
 <pre class="code">sub alias-named(:color(:$colour), :type(:class(:$kind))) { say $colour ~ &quot; &quot; ~ $kind }
alias-named(color =&gt; &quot;red&quot;, type =&gt; &quot;A&quot;);     # both names can be used
alias-named(colour =&gt; &quot;green&quot;, type =&gt; &quot;B&quot;);  # more than two names are ok
alias-named(color =&gt; &quot;white&quot;, class =&gt; &quot;C&quot;);  # every alias is independent</pre>
 <p>More use of aliases can be found in <a href="#_language_functions.pod6-sub_MAIN">sub MAIN</a></p>
 <p>A function with named arguments can be called dynamically, dereferencing a <a href="#_type_Pair.pod6">Pair</a> with <span class="code">|</span> to turn it into a named argument.</p>
 <pre class="code">multi f(:$named) { note &amp;?ROUTINE.signature };
multi f(:$also-named) { note &amp;?ROUTINE.signature };
for 'named', 'also-named' -&gt; $n {
    f(|($n =&gt; rand))                    # OUTPUT: «(:$named)␤(:$also-named)␤»
}

my $pair = :named(1);
f |$pair;                               # OUTPUT: «(:$named)␤»</pre>
 <p>The same can be used to convert a <span class="code">Hash</span> into named arguments.</p>
 <pre class="code">sub f(:$also-named) { note &amp;?ROUTINE.signature };
my %pairs = also-named =&gt; 4;
f |%pairs;                              # OUTPUT: «(:$also-named)␤»</pre>
 <p>A <span class="code">Hash</span> that contains a list may prove problematic when slipped into named arguments. To avoid the extra layer of containers coerce to <a href="#_type_Map.pod6">Map</a> before slipping.</p>
 <pre class="code">class C { has $.x; has $.y; has @.z };
my %h = &lt;x y z&gt; Z=&gt; (5, 20, [1,2]);
say C.new(|%h.Map);
# OUTPUT: «C.new(x =&gt; 5, y =&gt; 20, z =&gt; [1, 2])␤»</pre>
 <p><span class="indexed"><a id="892" name="optional argument (Signature)"></a></span></p>
 <a name="t190.1.7"></a><h2 id="_type_Signature.pod6-Optional_and_Mandatory_Parameters">190.1.7 Optional and Mandatory Parameters</h2>
 <p>Positional parameters are mandatory by default, and can be made optional with a default value or a trailing question mark:</p>
 <pre class="code">$ = :(Str $id);         # required parameter
$ = :($base = 10);      # optional parameter, default value 10
$ = :(Int $x?);         # optional parameter, default is the Int type object</pre>
 <p><span class="indexed"><a id="893" name="mandatory named argument (Signature)"></a></span> Named parameters are optional by default, and can be made mandatory with a trailing exclamation mark:</p>
 <pre class="code">$ = :(:%config);        # optional parameter
$ = :(:$debug = False); # optional parameter, defaults to False
$ = :(:$name!);         # mandatory 'name' named parameter</pre>
 <p>Default values can depend on previous parameters, and are (at least notionally) computed anew for each call</p>
 <pre class="code">$ = :($goal, $accuracy = $goal / 100);
$ = :(:$excludes = ['.', '..']);        # a new Array for every call</pre>
 <a name="t190.1.8"></a><h2 id="_type_Signature.pod6-Dynamic_Variables">190.1.8 Dynamic Variables</h2>
 <p><a href="#_language_variables.pod6-The_*_Twigil">Dynamic variables</a> are allowed in signatures although they don't provide special behaviour because argument binding does connect two scopes anyway.</p>
 <p><span class="indexed"><a id="894" name="destructuring arguments (Signature)"></a></span></p>
 <a name="t190.1.9"></a><h2 id="_type_Signature.pod6-Destructuring_Parameters">190.1.9 Destructuring Parameters</h2>
 <p>Parameters can be followed by a sub-signature in brackets, which will destructure the argument given. The destructuring of a list is just its elements:</p>
 <pre class="code">sub first(@array ($first, *@rest)) { $first }</pre>
 <p>or</p>
 <pre class="code">sub first([$f, *@]) { $f }</pre>
 <p>While the destructuring of a hash is its pairs:</p>
 <pre class="code">sub all-dimensions(% (:length(:$x), :width(:$y), :depth(:$z))) {
    $x andthen $y andthen $z andthen True
}</pre>
 <p>Pointy loops can also destructure hashes, allowing assignment to variables:</p>
 <pre class="code">my %hhgttu = (:40life, :41universe, :42everything);
for %hhgttu -&gt; (:$key, :$value) {
  say &quot;$key → $value&quot;;
}
# OUTPUT: «universe → 41␤life → 40␤everything → 42␤»</pre>
 <p>In general, an object is destructured based on its attributes. A common idiom is to unpack a <a href="&lt;span class=&quot;code&quot;&gt;Pair&lt;/span&gt;"><span class="code">Pair</span></a>'s key and value in a for loop:</p>
 <pre class="code">for &lt;Peter Paul Merry&gt;.pairs -&gt; (:key($index), :value($guest)) { }</pre>
 <p>However, this unpacking of objects as their attributes is only the default behavior. To make an object get destructured differently, change its <a href="#_routine_Capture.pod6"><span class="code">Capture</span></a> method.</p>
 <a name="t190.1.10"></a><h2 id="_type_Signature.pod6-Sub-signatures">190.1.10 Sub-signatures</h2>
 <p>To match against a compound parameter use a sub-signature following the argument name in parentheses.</p>
 <pre class="code">sub foo(|c(Int, Str)){
   put &quot;called with {c.perl}&quot;
};
foo(42, &quot;answer&quot;);
# OUTPUT: «called with \(42, &quot;answer&quot;)␤»</pre>
 <p><span class="indexed"><a id="895" name="Long Names"></a></span></p>
 <a name="t190.1.11"></a><h2 id="_type_Signature.pod6-Long_Names">190.1.11 Long Names</h2>
 <p>To exclude certain parameters from being considered in multiple dispatch, separate them with a double semi-colon.</p>
 <pre class="code">multi sub f(Int $i, Str $s;; :$b) { say &quot;$i, $s, {$b.perl}&quot; };
f(10, 'answer');
# OUTPUT: «10, answer, Any␤»</pre>
 <a name="t190.1.12"></a><h2 id="_type_Signature.pod6-Capture_Parameters">190.1.12 <a name="896"></a>Capture Parameters</h2>
 <p>Prefixing a parameter with a vertical bar <span class="code">|</span> makes the parameter a <a href="&lt;span class=&quot;code&quot;&gt;Capture&lt;/span&gt;"><span class="code">Capture</span></a>, using up all the remaining positional and named arguments.</p>
 <p>This is often used in <span class="code">proto</span> definitions (like <span class="code">proto foo (|) {*}</span>) to indicate that the routine's <a href="#_routine_multi.pod6"><span class="code">multi</span>  definitions</a> can have any <a href="#189-Type_Constraints">type constraints</a>. See <a href="#_language_functions.pod6-proto">proto</a> for an example.</p>
 <p>If bound to a variable arguments can be forwarded as a whole using the slip operator <span class="code">|</span>.</p>
 <pre class="code">sub a(Int $i, Str $s) { say $i.^name ~ ' ' ~ $s.^name }
sub b(|c) { say c.^name; a(|c) }
b(42, &quot;answer&quot;);
# OUTPUT: «Capture␤Int Str␤»</pre>
 <a name="t190.1.13"></a><h2 id="_type_Signature.pod6-Parameter_Traits_and_Modifiers">190.1.13 Parameter Traits and Modifiers</h2>
 <p>By default, parameters are bound to their argument and marked as read-only. One can change that with traits on the parameter.</p>
 <p><span class="indexed"><a id="897" name="trait is copy"></a></span> The <span class="code">is copy</span> trait causes the argument to be copied, and allows it to be modified inside the routine</p>
 <pre class="code">sub count-up($x is copy) {
    $x = ∞ if $x ~~ Whatever;
    .say for 1..$x;
}</pre>
 <p><span class="indexed"><a id="898" name="trait is rw"></a></span> The <span class="code">is rw</span> trait, which stands for <i>is read-write</i>, makes the parameter bind to a variable (or other writable container). Assigning to the parameter changes the value of the variable at the caller side.</p>
 <pre class="code">sub swap($x is rw, $y is rw) {
    ($x, $y) = ($y, $x);
}</pre>
 <p>On slurpy parameters, <span class="code">is rw</span> is reserved for future use by language designers.</p>
 <p><span class="indexed"><a id="899" name="trait  is raw"></a></span> The <a href="#_type_Parameter.pod6-method_raw"><span class="code">is raw</span>  trait</a> is automatically applied to parameters declared with a <a href="#_language_variables.pod6-Sigilless_variables">backslash</a> as a &quot;sigil&quot;, and may also be used to make normally sigiled parameters behave like these do. In the special case of slurpies, which normally produce an <span class="code">Array</span> full of <span class="code">Scalar</span>s as described above, <span class="code">is raw</span> will instead cause the parameter to produce a <span class="code">List</span>. Each element of that list will be bound directly as raw parameter.</p>
 <p><span class="indexed"><a id="900" name="trait is readonly"></a></span> To explicitly ask for a read-only parameter use the <span class="code">is readonly</span> trait. Please note that this applies only to the container. The object inside can very well have mutator methods and Perl 6 will not enforce immutability on the attributes of the object.</p>
 <p>Traits can be followed by the where clause:</p>
 <pre class="code">sub ip-expand-ipv6($ip is copy where m:i/^&lt;[a..f\d\:]&gt;**3..39$/) { }</pre>
 <a name="t190.2"></a><h1 id="_type_Signature.pod6-Methods">190.2 Methods</h1>
 <a name="t190.2.1"></a><h2 id="_type_Signature.pod6-method_params">190.2.1 method params</h2>
 <pre class="code">method params(Signature:D: --&gt; Positional)</pre>
 <p>Returns the list of <a href="&lt;span class=&quot;code&quot;&gt;Parameter&lt;/span&gt;"><span class="code">Parameter</span></a> objects that make up the signature.</p>
 <a name="t190.2.2"></a><h2 id="_type_Signature.pod6-method_arity">190.2.2 method arity</h2>
 <pre class="code">method arity(Signature:D: --&gt; Int:D)</pre>
 <p>Returns the <i>minimal</i> number of positional arguments required to satisfy the signature.</p>
 <a name="t190.2.3"></a><h2 id="_type_Signature.pod6-method_count">190.2.3 method count</h2>
 <pre class="code">method count(Signature:D: --&gt; Real:D)</pre>
 <p>Returns the <i>maximal</i> number of positional arguments which can be bound to the signature. Returns <span class="code">Inf</span> if there is a slurpy positional parameter.</p>
 <a name="t190.2.4"></a><h2 id="_type_Signature.pod6-method_returns">190.2.4 method returns</h2>
 <p>Whatever the Signature's return constraint is:</p>
 <pre class="code">:($a, $b --&gt; Int).returns # OUTPUT: «(Int)»</pre>
 <a name="t190.2.5"></a><h2 id="_type_Signature.pod6-method_ACCEPTS">190.2.5 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Signature:D: Signature $topic)
multi method ACCEPTS(Signature:D: Capture $topic)
multi method ACCEPTS(Signature:D: Mu \topic)</pre>
 <p>If <span class="code">$topic</span> is a <a href="#_type_Signature.pod6">Signature</a> returns <span class="code">True</span> if anything accepted by <span class="code">$topic</span> would also be accepted by the invocant, otherwise returns <span class="code">False</span>:</p>
 <pre class="code">:($a, $b) ~~ :($foo, $bar, $baz?);   # OUTPUT: «True»
:(Int $n) ~~ :(Str);                 # OUTPUT: «False»</pre>
 <p>The <span class="code">$topic</span> is a <a href="#_type_Capture.pod6">Capture</a>, returns <span class="code">True</span> if it can be bound to the invocant, i.e., if a function with invocant's <span class="code">Signature</span> would be able to be called with the <span class="code">$topic</span>:</p>
 <pre class="code">\(1, 2, :foo) ~~ :($a, $b, :foo($bar)); # OUTPUT: «True»
\(1, :bar)    ~~ :($a);                 # OUTPUT: «False»</pre>
 <p>Lastly, the candidate with <span class="code">Mu</span> <span class="code">topic</span> converts <span class="code">topic</span> to <a href="#_type_Capture.pod6">Capture</a> and follows the same semantics as <a href="#_type_Capture.pod6">Capture</a> <span class="code">$topic</span>:</p>
 <pre class="code">&lt;a b c d&gt;  ~~ :(Int $a);      # OUTPUT: «False»
42         ~~ :(Int);         # OUTPUT: «False» (Int.Capture throws)
set(&lt;a b&gt;) ~~ :(:$a, :$b);    # OUTPUT: «True»</pre>
 <p>Since <a href="#_type_Signature.pod6-index-entry-where_clause_(Signature)"><span class="code">where</span>  clauses</a> are not introspectable, the method cannot determine whether two signatures <a href="#_type_Signature.pod6-method_ACCEPTS">ACCEPTS</a> the same sort of <span class="code">where</span>-constrained parameters. Such comparisons will return <span class="code">False</span>. This includes signatures with literals, which are just sugar for the <span class="code">where</span>-constraints:</p>
 <pre class="code">say :(42) ~~ :($ where 42)    # OUTPUT: «False␤»</pre>
 <a name="t190.2.6"></a><h2 id="_type_Signature.pod6-method_Capture">190.2.6 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
</div>
<!-- /type/Slip.pod6 --><div class="pod-body"><a id="_type_Slip.pod6"></a><a name="t191"><h1 class="title">191 class Slip</h1></a> <p class="subtitle">A kind of List that automatically flattens into an outer container</p> <pre class="code">class Slip is List {}</pre>
 <p>A <span class="code">Slip</span> is a <a href="#_type_List.pod6">List</a> that automatically flatten into an outer List (or other list-like container or iterable).</p>
 <p>For example it allows you to write a <a href="#_routine_map.pod6">map</a> that produces more than one value into the result without nesting:</p>
 <pre class="code">say &lt;a b c&gt;.map({ ($_, $_.uc).Slip }).join('|');        # OUTPUT: «a|A|b|B|c|C␤»</pre>
 <p>In contrast, when returning an ordinary List, the resulting list is nested:</p>
 <pre class="code">say &lt;a b c&gt;.map({ $_, $_.uc }).join('|');               # OUTPUT: «a A|b B|c C␤»</pre>
 <p>To create a <span class="code">Slip</span>, either coerce another list-like type to it by calling the <span class="code">Slip</span> method, or use the <span class="code">slip</span> subroutine:</p>
 <pre class="code"># This says &quot;1&quot; and then says &quot;2&quot;, rather than saying &quot;(1 2)&quot;
.say for gather {
    take slip(1, 2);
}</pre>
 <p>A <span class="code">Slip</span> may also be created by using the <span class="code">prefix:&lt;|&gt;</span> operator. This differs from the <span class="code">slip</span> subroutine in both precedence and treatment of single arguments. In fact, <span class="code">prefix:&lt;|&gt;</span> only takes a single argument, so in that way, it behaves closer to the <span class="code">.Slip</span> method than the <span class="code">slip</span> subroutine.</p>
 <pre class="code">my $l = (1, 2, 3);
say (1, slip 2, 3).perl;  # says (1, 2, 3)      , slips 2, 3 into (1, …)
say (0, slip $l).perl;    # says (0, $(1, 2, 3)), $l does not break apart
say (0, $l.Slip).perl;    # says (0, 1, 2, 3)   , slips from $l into (0, …)
say (|$l).perl;           # says slip(1, 2, 3)  , breaks apart $l
say (0, (|$l, 4), 5);     # says (0 (1 2 3 4) 5), slips from $l into (…, 4)
say (0, ($l.Slip, 4), 5); # says (0 (1 2 3 4) 5), slips from $l into (…, 4)
say (0, (slip $l, 4), 5); # says (0 (1 2 3) 4 5), slips ($l, 4) into (0, …, 5)
say (0, ($l, 4).Slip, 5); # says (0 (1 2 3) 4 5), slips ($l, 4) into (0, …, 5)</pre>
 <p>Loops that do not want to produce a value for an iteration use <span class="code">Slips</span>, rather than empty <span class="code">List</span>s to do so, as do <span class="code">if</span> statements that do not run their blocks.</p>
 <p>Please note that <span class="code">prefix:&lt;|&gt;</span> will also apply parameters in a slippy manner to a routine call. It does not forward a <span class="code">Slip</span> to the called routine, that includes <span class="code">return</span> and <span class="code">take</span>.</p>
 <pre class="code">my \l = gather for 1..10 -&gt; $a, $b { take |($a, $b) }; say l.perl;
# OUTPUT: «((1, 2), (3, 4), (5, 6), (7, 8), (9, 10)).Seq␤»
my \m= gather for 1..10 -&gt; $a, $b { take ($a, $b).Slip }; say m.perl;
# OUTPUT: «(1, 2, 3, 4, 5, 6, 7, 8, 9, 10).Seq␤»</pre>
 <a name="t191.1"></a><h1 id="_type_Slip.pod6-Methods">191.1 Methods</h1>
 <a name="t191.1.1"></a><h2 id="_type_Slip.pod6-sub_slip">191.1.1 sub slip</h2>
 <pre class="code">sub slip(*@ --&gt; Slip:D)</pre>
 <p>Creates a <a href="#_type_Slip.pod6">Slip</a> from its arguments.</p>
 <a name="t191.2"></a><h1 id="_type_Slip.pod6-Constants">191.2 Constants</h1>
 <a name="t191.2.1"></a><h2 id="_type_Slip.pod6-Empty">191.2.1 <a name="901"></a><span class="code">Empty</span></h2>
 <p><span class="code">Empty</span> is a <span class="code">Slip</span> of the empty <span class="code">List</span>.</p>
 <pre class="code">say &quot;&quot;.comb ~~ Empty;
# OUTPUT: «True␤»</pre>
</div>
<!-- /type/Stash.pod6 --><div class="pod-body"><a id="_type_Stash.pod6"></a><a name="t192"><h1 class="title">192 class Stash</h1></a> <p class="subtitle">Table for "our"-scoped symbols</p> <pre class="code">class Stash is Hash { }</pre>
 <p>A <span class="code">Stash</span> is a hash that is used for symbol tables at the package scoping level in Perl 6.</p>
 <p>To get a Stash, you can call the <span class="code">.WHO</span> pseudo-method on a package (because it answers the question <i>who lives here?</i>), or if you write the package name as a literal, append two colons:</p>
 <pre class="code">class Boring {
    class Nested { };
    our sub package_sub { }
    my sub lexical { };
    method a_method() { }
}
say Boring::.^name;             # OUTPUT: «Stash␤»
say Boring.WHO === Boring::;    # OUTPUT: «True␤»</pre>
 <p>Since it inherits from <a href="#_type_Hash.pod6">Hash</a>, you can use all the usual hash functionality:</p>
 <pre class="code">say Boring::.keys.sort;         # OUTPUT: «(&amp;package_sub Nested)␤» 
 say Boring::&lt;Nested&gt;;           # OUTPUT: «(Nested)␤» 
</pre>
 <p>As the example above shows only &quot;our&quot;-scoped things appear in the <span class="code">Stash</span> (nested classes are &quot;our&quot; by default, but can be excluded with &quot;my&quot;.) Lexicals and methods are not included in a Stash, since they do not live in the package table. Lexicals live in a separate lexical pad, which is only visible from inside the scope. Methods (in the case that the package is also a class) have a separate method table, and are accessible through introspection on the class itself, via <span class="code">.can</span> and <span class="code">.^methods</span>.</p>
</div>
===WARNING: One or more tables evidence bad practice.
==          Set environment variable 'RAKUDO_POD_TABLE_DEBUG' for more details.
<!-- /type/Str.pod6 --><div class="pod-body"><a id="_type_Str.pod6"></a><a name="t193"><h1 class="title">193 class Str</h1></a> <p class="subtitle">String of characters</p> <pre class="code">class Str is Cool does Stringy { }</pre>
 <p>Built-in class for strings. Objects of type <span class="code">Str</span> are immutable.</p>
 <a name="t193.1"></a><h1 id="_type_Str.pod6-Methods">193.1 Methods</h1>
 <a name="t193.1.1"></a><h2 id="_type_Str.pod6-routine_chop">193.1.1 routine chop</h2>
 <pre class="code">multi sub    chop(Str:D --&gt; Str:D)
multi method chop(Str:D: $chars = 1 --&gt; Str:D)</pre>
 <p>Returns the string with <span class="code">$chars</span> characters removed from the end.</p>
 <a name="t193.1.2"></a><h2 id="_type_Str.pod6-routine_chomp">193.1.2 routine chomp</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    chomp(Str:D  --&gt; Str:D)
multi method chomp(Str:D: --&gt; Str:D)</pre>
 <p>Returns the string with a logical newline (any codepoint that has the <span class="code">NEWLINE</span> property) removed from the end.</p>
 <p>Examples:</p>
 <pre class="code">say chomp(&quot;abc\n&quot;);       # OUTPUT: «abc␤»
say &quot;def\r\n&quot;.chomp;      # OUTPUT: «def␤» NOTE: \r\n is a single grapheme!
say &quot;foo\r&quot;.chomp;        # OUTPUT: «foo␤»</pre>
 <a name="t193.1.3"></a><h2 id="_type_Str.pod6-routine_lc">193.1.3 routine lc</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub    lc(Str:D  --&gt; Str:D)
multi method lc(Str:D: --&gt; Str:D)</pre>
 <p>Returns a lower-case version of the string.</p>
 <p>Examples:</p>
 <pre class="code">lc(&quot;A&quot;); # RESULT: «&quot;a&quot;»
&quot;A&quot;.lc;  # RESULT: «&quot;a&quot;»</pre>
 <a name="t193.1.4"></a><h2 id="_type_Str.pod6-routine_uc">193.1.4 routine uc</h2>
 <pre class="code">multi sub    uc(Str:D  --&gt; Str:D)
multi method uc(Str:D: --&gt; Str:D)</pre>
 <p>Returns an uppercase version of the string.</p>
 <a name="t193.1.5"></a><h2 id="_type_Str.pod6-routine_fc">193.1.5 routine fc</h2>
 <pre class="code">multi sub    fc(Str:D  --&gt; Str:D)
multi method fc(Str:D: --&gt; Str:D)</pre>
 <p>Does a Unicode &quot;fold case&quot; operation suitable for doing caseless string comparisons. (In general, the returned string is unlikely to be useful for any purpose other than comparison.)</p>
 <a name="t193.1.6"></a><h2 id="_type_Str.pod6-routine_tc">193.1.6 routine tc</h2>
 <pre class="code">multi sub    tc(Str:D  --&gt; Str:D)
multi method tc(Str:D: --&gt; Str:D)</pre>
 <p>Does a Unicode &quot;titlecase&quot; operation, that is changes the first character in the string to title case, or to upper case if the character has no title case mapping</p>
 <a name="t193.1.7"></a><h2 id="_type_Str.pod6-routine_tclc">193.1.7 routine tclc</h2>
 <pre class="code">multi sub    tclc(Str:D  --&gt; Str:D)
multi method tclc(Str:D: --&gt; Str:D)</pre>
 <p>Turns the first character to title case, and all other characters to lower case</p>
 <a name="t193.1.8"></a><h2 id="_type_Str.pod6-routine_wordcase">193.1.8 routine wordcase</h2>
 <pre class="code">multi sub    wordcase(Cool $x  --&gt; Str) 
 multi sub    wordcase(Str:D $x --&gt; Str) 
 multi method wordcase(Str:D: :&amp;filter = &amp;tclc, Mu :$where = True --&gt; Str) 
</pre>
 <p>Returns a string in which <span class="code">&amp;filter</span> has been applied to all the words that match <span class="code">$where</span>. By default, this means that the first letter of every word is capitalized, and all the other letters lowercased.</p>
 <a name="t193.1.9"></a><h2 id="_type_Str.pod6-method_unival">193.1.9 method unival</h2>
 <pre class="code">multi method unival(Str:D --&gt; Numeric)</pre>
 <p>Returns the numeric value that the first codepoint in the invocant represents, or <span class="code">NaN</span> if it's not numeric.</p>
 <pre class="code">say '4'.unival;     # OUTPUT: «4␤»
say '¾'.unival;     # OUTPUT: «0.75␤»
say 'a'.unival;     # OUTPUT: «NaN␤»</pre>
 <a name="t193.1.10"></a><h2 id="_type_Str.pod6-method_univals">193.1.10 method univals</h2>
 <pre class="code">multi method univals(Str:D --&gt; List)</pre>
 <p>Returns a list of numeric values represented by each codepoint in the invocant string, and <span class="code">NaN</span> for non-numeric characters.</p>
 <pre class="code">say &quot;4a¾&quot;.univals;  # OUTPUT: «(4 NaN 0.75)␤»</pre>
 <a name="t193.1.11"></a><h2 id="_type_Str.pod6-routine_chars">193.1.11 routine chars</h2>
 <pre class="code">multi sub    chars(Cool  $x --&gt; Int:D)
multi sub    chars(Str:D $x --&gt; Int:D)
multi sub    chars(str   $x --&gt; int)
multi method chars(Str:D:   --&gt; Int:D)</pre>
 <p>Returns the number of characters in the string in graphemes. On the JVM, this currently erroneously returns the number of codepoints instead.</p>
 <a name="t193.1.12"></a><h2 id="_type_Str.pod6-method_encode">193.1.12 method encode</h2>
 <pre class="code">multi method encode(Str:D: $encoding, $nf --&gt; Blob)</pre>
 <p>Returns a <a href="#_type_Blob.pod6">Blob</a> which represents the original string in the given encoding and normal form. The actual return type is as specific as possible, so <span class="code">$str.encode('UTF-8')</span> returns a <span class="code">utf8</span> object, <span class="code">$str.encode('ISO-8859-1')</span> a <span class="code">buf8</span>.</p>
 <a name="t193.1.13"></a><h2 id="_type_Str.pod6-routine_index">193.1.13 routine index</h2>
 <pre class="code">multi sub    index(Cool $s, Str:D $needle, Cool $startpos = 0 --&gt; Int)
multi method index(Cool $needle, Cool $startpos = 0 --&gt; Int)</pre>
 <p>Searches for <span class="code">$needle</span> in the string starting from <span class="code">$startpos</span>. It returns the offset into the string where <span class="code">$needle</span> was found, and an undefined value if it was not found.</p>
 <p>Examples:</p>
 <pre class="code">say index &quot;Camelia is a butterfly&quot;, &quot;a&quot;;     # OUTPUT: «1␤»
say index &quot;Camelia is a butterfly&quot;, &quot;a&quot;, 2;  # OUTPUT: «6␤»
say index &quot;Camelia is a butterfly&quot;, &quot;er&quot;;    # OUTPUT: «17␤»
say index &quot;Camelia is a butterfly&quot;, &quot;Camel&quot;; # OUTPUT: «0␤»
say index &quot;Camelia is a butterfly&quot;, &quot;Onion&quot;; # OUTPUT: «Nil␤»

say index(&quot;Camelia is a butterfly&quot;, &quot;Onion&quot;).defined ?? 'OK' !! 'NOT'; # OUTPUT: «NOT␤»</pre>
 <a name="t193.1.14"></a><h2 id="_type_Str.pod6-routine_rindex">193.1.14 routine rindex</h2>
 <pre class="code">multi sub    rindex(Str:D $haystack, Str:D $needle, Int $startpos = $haystack.chars --&gt; Int)
multi method rindex(Str:D $haystack: Str:D $needle, Int $startpos = $haystack.chars --&gt; Int)</pre>
 <p>Returns the last position of <span class="code">$needle</span> in <span class="code">$haystack</span> not after <span class="code">$startpos</span>. Returns an undefined value if <span class="code">$needle</span> wasn't found.</p>
 <p>Examples:</p>
 <pre class="code">say rindex &quot;Camelia is a butterfly&quot;, &quot;a&quot;;     # OUTPUT: «11␤»
say rindex &quot;Camelia is a butterfly&quot;, &quot;a&quot;, 10; # OUTPUT: «6␤»</pre>
 <a name="t193.1.15"></a><h2 id="_type_Str.pod6-method_indices">193.1.15 method indices</h2>
 <p>Defined as:</p>
 <pre class="code">multi method indices(Str:D: Str:D $needle, :$overlap --&gt; List:D)
multi method indices(Str:D: Str:D $needle, Int:D $start, :$overlap --&gt; List:D)</pre>
 <p>Searches for all occurrences of <span class="code">$needle</span> in the string starting from position <span class="code">$start</span>, or zero if it is not specified, and returns a <span class="code">List</span> with all offsets in the string where <span class="code">$needle</span> was found, or an empty list if it was not found.</p>
 <p>If the optional parameter <span class="code">:overlap</span> is specified the search continues from the index directly following the previous match, otherwise the search will continue after the previous match.</p>
 <pre class="code">say &quot;banana&quot;.indices(&quot;a&quot;);              # OUTPUT: «(1 3 5)␤»
say &quot;banana&quot;.indices(&quot;ana&quot;);            # OUTPUT: «(1)␤»
say &quot;banana&quot;.indices(&quot;ana&quot;, :overlap);  # OUTPUT: «(1 3)␤»
say &quot;banana&quot;.indices(&quot;ana&quot;, 2);         # OUTPUT: «(3)␤»</pre>
 <a name="t193.1.16"></a><h2 id="_type_Str.pod6-method_match">193.1.16 method match</h2>
 <pre class="code">method match($pat, :continue(:$c), :pos(:$p), :global(:$g), :overlap(:$ov), :exhaustive(:$ex), :st(:$nd), :rd(:$th), :$nth, :$x --&gt; Match)</pre>
 <p>Performs a match of the string against <span class="code">$pat</span> and returns a <a href="#_type_Match.pod6">Match</a> object if there is a successful match, and <span class="code">(Any)</span> otherwise. Matches are stored in <span class="code">$/</span>. If <span class="code">$pat</span> is not a <a href="#_type_Regex.pod6">Regex</a> object, match will coerce the argument to a Str and then perform a literal match against <span class="code">$pat</span>.</p>
 <p>A number of optional named parameters can be specified, which alter how the match is performed.</p>
 <ul><li><p>:continue</p>
</li></ul> <p>The <span class="code">:continue</span> adverb takes as an argument the position where the regex should start to search. If no position is specified for <span class="code">:c</span> it will default to 0 unless <span class="code">$/</span> is set, in which case it defaults to <span class="code">$/.to</span>.</p>
 <ul><li><p>:pos</p>
</li></ul> <p>Takes a position as an argument. Fails if regex cannot be matched from that position, unlike <span class="code">:continue</span>.</p>
 <ul><li><p>:global</p>
</li></ul> <p>Instead of searching for just one match and returning a <span class="code">Match</span> object, search for every non-overlapping match and return them in a <span class="code">List</span>.</p>
 <ul><li><p>:overlap</p>
</li></ul> <p>Finds all matches including overlapping matches, but only returns one match from each starting position.</p>
 <ul><li><p>:exhaustive</p>
</li></ul> <p>Finds all possible matches of a regex, including overlapping matches and matches that start at the same position.</p>
 <ul><li><p>:st, :nd, rd, nth</p>
</li></ul> <p>Returns the nth match in the string. The argument can be a <a href="#_type_Numeric.pod6">Numeric</a> or an <a href="#_type_Iterable.pod6">Iterable</a> producing monotonically increasing numbers (that is, the next produced number must be larger than the previous one). The <a href="#_type_Iterable.pod6">Iterable</a> will be lazily <a href="#_language_glossary.pod6-index-entry-Reify">reified</a> and if non-monotonic sequence is encountered an exception will be thrown.</p>
 <p>If <a href="#_type_Iterable.pod6">Iterable</a> argument is provided the return value and <span class="code">$/</span> variable will be set to a possibly-empty <a href="#_type_List.pod6">List</a> of <a href="#_type_Match.pod6">Match</a> objects.</p>
 <ul><li><p>:x</p>
</li></ul> <p>Takes as an argument the number of matches to return, stopping once the specified number of matches has been reached. The value must be a <a href="#_type_Numeric.pod6">Numeric</a> or a <a href="#_type_Range.pod6">Range</a>; other values will cause <span class="code">.match</span> to return a <a href="#_type_Failure.pod6">Failure</a> containing <span class="code">X::Str::Match::x</span> exception.</p>
 <p>Examples:</p>
 <pre class="code">say &quot;properly&quot;.match('perl');                     # OUTPUT: «｢perl｣␤» 
 say &quot;properly&quot;.match(/p.../);                     # OUTPUT: «｢prop｣␤» 
 say &quot;1 2 3&quot;.match([1,2,3]);                       # OUTPUT: «｢1 2 3｣␤» 
 say &quot;a1xa2&quot;.match(/a./, :continue(2));            # OUTPUT: «｢a2｣␤» 
 say &quot;abracadabra&quot;.match(/ a .* a /, :exhaustive); 
 # OUTPUT: «(｢abracadabra｣ ｢abracada｣ ｢abraca｣ ｢abra｣ ｢acadabra｣ ｢acada｣ ｢aca｣ ｢adabra｣ ｢ada｣ ｢abra｣)␤» 
 say 'several words here'.match(/\w+/,:global);    # OUTPUT: «(｢several｣ ｢words｣ ｢here｣)␤» 
 say 'abcdef'.match(/.*/, :pos(2));                # OUTPUT: «｢cdef｣␤» 
 say &quot;foo[bar][baz]&quot;.match(/../, :1st);            # OUTPUT: «｢fo｣␤» 
 say &quot;foo[bar][baz]&quot;.match(/../, :2nd);            # OUTPUT: «｢o[｣␤» 
 say &quot;foo[bar][baz]&quot;.match(/../, :3rd);            # OUTPUT: «｢ba｣␤» 
 say &quot;foo[bar][baz]&quot;.match(/../, :4th);            # OUTPUT: «｢r]｣␤» 
 say &quot;foo[bar][baz]bada&quot;.match('ba', :x(2));       # OUTPUT: «(｢ba｣ ｢ba｣)␤» 
</pre>
 <a name="t193.1.17"></a><h2 id="_type_Str.pod6-method_Numeric">193.1.17 method Numeric</h2>
 <p>Defined as:</p>
 <pre class="code">method Numeric(Str:D: --&gt; Numeric:D)</pre>
 <p>Coerces the string to <a href="#_type_Numeric.pod6">Numeric</a>. <a href="#_routine_fail.pod6">Fails</a> with <span class="code">X::Str::Numeric</span> if the coercion cannot be done.</p>
 <p>Only Unicode characters with property <span class="code">Nd</span>, as well as leading and trailing whitespace are allowed, with the special case of the empty string being coerced to <span class="code">0</span>. Synthetic codepoints (e.g. <span class="code">&quot;7\x[308]&quot;</span>) are forbidden.</p>
 <p>While <span class="code">Nl</span> and <span class="code">No</span> characters can be used as numeric literals in the language, their conversion via <span class="code">Str.Numeric</span> will fail, by design. See <a href="#_routine_unival.pod6">unival</a> if you need to coerce such characters to <span class="code">Numeric</span>.</p>
 <a name="t193.1.18"></a><h2 id="_type_Str.pod6-method_Int">193.1.18 method Int</h2>
 <p>Defined as:</p>
 <pre class="code">method Int(Str:D: --&gt; Int:D)</pre>
 <p>Coerces the string to <a href="#_type_Int.pod6">Int</a>, using the same rules as <a href="#_type_Str.pod6-method_Numeric&gt;"><span class="code">Str.Numeric</span></a>.</p>
 <a name="t193.1.19"></a><h2 id="_type_Str.pod6-method_Bool">193.1.19 method Bool</h2>
 <p>Defined as:</p>
 <pre class="code">method Bool(Str:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> if the string is empty, <span class="code">True</span> otherwise.</p>
 <a name="t193.1.20"></a><h2 id="_type_Str.pod6-routine_parse-base">193.1.20 routine parse-base</h2>
 <pre class="code">multi sub    parse-base(Str:D $num, Int:D $radix --&gt; Numeric)
multi method parse-base(Str:D $num: Int:D $radix --&gt; Numeric)</pre>
 <p>Performs the reverse of <a href="#_routine_base.pod6"><span class="code">base</span></a> by converting a string with a base-<span class="code">$radix</span> number to its <a href="#_type_Numeric.pod6"><span class="code">Numeric</span></a> equivalent. Will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> if radix is not in range <span class="code">2..36</span> or of the string being parsed contains characters that are not valid for the specified base.</p>
 <pre class="code">1337.base(32).parse-base(32).say; # OUTPUT: «1337␤»
'Perl6'.parse-base(30).say;       # OUTPUT: «20652936␤»
'FF.DD'.parse-base(16).say;       # OUTPUT: «255.863281␤»</pre>
 <p>See also: <a href="#_syntax_Number%20literals.pod6">:16&lt;FF&gt; syntax for number literals</a></p>
 <a name="t193.1.21"></a><h2 id="_type_Str.pod6-routine_parse-names">193.1.21 routine parse-names</h2>
 <pre class="code">sub    parse-names(Str:D $names  --&gt; Str:D)
method parse-names(Str:D $names: --&gt; Str:D)</pre>
 <p><b>DEPRECATED</b>. Existed only in pre-release proposal version of 6.d language and was eventually renamed to <a href="#_routine_uniparse.pod6">uniparse</a>. In Rakudo implementation, issues deprecation warnings in 6.d language and will be removed entirely when 6.e language is released.</p>
 <a name="t193.1.22"></a><h2 id="_type_Str.pod6-routine_uniparse">193.1.22 routine uniparse</h2>
 <pre class="code">sub    uniparse(Str:D $names  --&gt; Str:D)
method uniparse(Str:D $names: --&gt; Str:D)</pre>
 <p>Takes string with comma-separated Unicode names of characters and returns a string composed of those characters. Will <a href="#_routine_fail.pod6"><span class="code">fail</span></a> if any of the characters' names are empty or not recognized. Whitespace around character names is ignored.</p>
 <pre class="code">say &quot;I {uniparse 'TWO HEARTS'} Perl&quot;; # OUTPUT: «I 💕 Perl␤»
'TWO HEARTS, BUTTERFLY'.uniparse.say; # OUTPUT: «💕🦋␤»</pre>
 <p>Note that unlike <span class="code">\c[...]</span> construct available in string interpolation, <span class="code">uniparse</span> does not accept decimal numerical values. Use <a href="#_routine_chr.pod6">chr</a> routine to convert those:</p>
 <pre class="code">say &quot;\c[1337]&quot;; # OUTPUT: «Թ␤»
say '1337'.chr; # OUTPUT: «Թ␤»</pre>
 <p><i>Note:</i> before being standardized in 2017.12, this routine was known under its working name of <a href="#_routine_parse-names.pod6">parse-names</a>, which will be removed in 6.e language.</p>
 <a name="t193.1.23"></a><h2 id="_type_Str.pod6-routine_split">193.1.23 routine split</h2>
 <pre class="code">multi sub    split(  Str:D $delimiter, Str:D $input, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <pre class="code">multi sub    split(Regex:D $delimiter, Str:D $input, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <pre class="code">multi sub    split(List:D $delimiters, Str:D $input, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <pre class="code">multi method split(Str:D:   Str:D $delimiter, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <pre class="code">multi method split(Str:D: Regex:D $delimiter, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <pre class="code">multi method split(Str:D: List:D $delimiters, $limit = Inf, 
   :$skip-empty, :$v, :$k, :$kv, :$p --&gt; Positional) 
</pre>
 <p>Splits a string up into pieces based on delimiters found in the string.</p>
 <p>If <span class="code">DELIMITER</span> is a string, it is searched for literally and not treated as a regex. If <span class="code">DELIMITER</span> is the empty string, it effectively returns all characters of the string separately (plus an empty string at the begin and at the end). If <span class="code">PATTERN</span> is a regular expression, then that will be used to split up the string. If <span class="code">DELIMITERS</span> is a list, then all of its elements will be considered a delimiter (either a string or a regular expression) to split the string on.</p>
 <p>The optional <span class="code">LIMIT</span> indicates in how many segments the string should be split, if possible. It defaults to <b>Inf</b> (or <b>*</b>, whichever way you look at it), which means &quot;as many as possible&quot;. Note that specifying negative limits will not produce any meaningful results.</p>
 <p>A number of optional named parameters can be specified, which alter the result being returned. The <span class="code">:v</span>, <span class="code">:k</span>, <span class="code">:kv</span> and <span class="code">:p</span> named parameters all perform a special action with regards to the delimiter found.</p>
 <ul><li><p>:skip-empty</p>
</li></ul> <p>If specified, do not return empty strings before or after a delimiter.</p>
 <ul><li><p>:v</p>
</li></ul> <p>Also return the delimiter. If the delimiter was a regular expression, then this will be the associated <span class="code">Match</span> object. Since this stringifies as the delimiter string found, you can always assume it is the delimiter string if you're not interested in further information about that particular match.</p>
 <ul><li><p>:k</p>
</li></ul> <p>Also return the <b>index</b> of the delimiter. Only makes sense if a list of delimiters was specified: in all other cases, this will be <b>0</b>.</p>
 <ul><li><p>:kv</p>
</li></ul> <p>Also return both the <b>index</b> of the delimiter, as well as the delimiter.</p>
 <ul><li><p>:p</p>
</li></ul> <p>Also return the <b>index</b> of the delimiter and the delimiter as a <span class="code">Pair</span>.</p>
 <p>Examples:</p>
 <pre class="code">say split(&quot;;&quot;, &quot;a;b;c&quot;).perl;           # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).Seq␤»
say split(&quot;;&quot;, &quot;a;b;c&quot;, :v).perl;       # OUTPUT: «(&quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;;&quot;, &quot;c&quot;).Seq␤»
say split(&quot;;&quot;, &quot;a;b;c&quot;, 2).perl;        # OUTPUT: «(&quot;a&quot;, &quot;b;c&quot;).Seq␤»
say split(&quot;;&quot;, &quot;a;b;c&quot;, 2, :v).perl;    # OUTPUT: «(&quot;a&quot;, &quot;;&quot;, &quot;b;c&quot;).Seq␤»
say split(&quot;;&quot;, &quot;a;b;c,d&quot;).perl;         # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c,d&quot;).Seq␤»
say split(/\;/, &quot;a;b;c,d&quot;).perl;        # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c,d&quot;).Seq␤»
say split(&lt;; ,&gt;, &quot;a;b;c,d&quot;).perl;       # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).Seq␤»
say split(/&lt;[;,]&gt;/, &quot;a;b;c,d&quot;).perl;    # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).Seq␤»
say split(&lt;; ,&gt;, &quot;a;b;c,d&quot;, :k).perl;   # OUTPUT: «(&quot;a&quot;, 0, &quot;b&quot;, 0, &quot;c&quot;, 1, &quot;d&quot;).Seq␤»
say split(&lt;; ,&gt;, &quot;a;b;c,d&quot;, :kv).perl;  # OUTPUT: «(&quot;a&quot;, 0, &quot;;&quot;, &quot;b&quot;, 0, &quot;;&quot;, &quot;c&quot;, 1, &quot;,&quot;, &quot;d&quot;).Seq␤»

say &quot;&quot;.split(&quot;x&quot;).perl;                 # OUTPUT: «(&quot;&quot;,).Seq␤»
say &quot;&quot;.split(&quot;x&quot;, :skip-empty).perl;    # OUTPUT: «().Seq␤»

say &quot;abcde&quot;.split(&quot;&quot;).perl;             # OUTPUT: «(&quot;&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;&quot;).Seq␤»
say &quot;abcde&quot;.split(&quot;&quot;,:skip-empty).perl; # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;).Seq␤»</pre>
 <a name="t193.1.24"></a><h2 id="_type_Str.pod6-routine_comb">193.1.24 routine comb</h2>
 <pre class="code">multi sub    comb(Str:D   $matcher, Str:D $input, $limit = Inf)
multi sub    comb(Regex:D $matcher, Str:D $input, $limit = Inf, Bool :$match)
multi sub    comb(Int:D $size, Str:D $input, $limit = Inf)
multi method comb(Str:D $input:)
multi method comb(Str:D $input: Str:D   $matcher, $limit = Inf)
multi method comb(Str:D $input: Regex:D $matcher, $limit = Inf, Bool :$match)
multi method comb(Str:D $input: Int:D $size, $limit = Inf)</pre>
 <p>Searches for <span class="code">$matcher</span> in <span class="code">$input</span> and returns a list of all matches (as <span class="code">Str</span> by default, or as <a href="#_type_Match.pod6">Match</a> if <span class="code">$match</span> is True), limited to at most <span class="code">$limit</span> matches.</p>
 <p>If no matcher is supplied, a list of characters in the string (e.g. <span class="code">$matcher = rx/./</span>) is returned.</p>
 <p>Examples:</p>
 <pre class="code">say &quot;abc&quot;.comb.perl;                 # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).Seq␤»
say 'abcdefghijk'.comb(3).perl;      # OUTPUT: «(&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jk&quot;).Seq␤»
say 'abcdefghijk'.comb(3, 2).perl;   # OUTPUT: «(&quot;abc&quot;, &quot;def&quot;).Seq␤»
say comb(/\w/, &quot;a;b;c&quot;).perl;        # OUTPUT: «(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).Seq␤»
say comb(/\N/, &quot;a;b;c&quot;).perl;        # OUTPUT: «(&quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;;&quot;, &quot;c&quot;).Seq␤»
say comb(/\w/, &quot;a;b;c&quot;, 2).perl;     # OUTPUT: «(&quot;a&quot;, &quot;b&quot;).Seq␤»
say comb(/\w\;\w/, &quot;a;b;c&quot;, 2).perl; # OUTPUT: «(&quot;a;b&quot;,).Seq␤»</pre>
 <p>If the matcher is an integer value, it is considered to be a matcher that is similar to / . ** matcher /, but which is about 30x faster.</p>
 <a name="t193.1.25"></a><h2 id="_type_Str.pod6-routine_lines">193.1.25 routine lines</h2>
 <pre class="code">multi sub    lines(Str:D $input, $limit = Inf --&gt; Positional)
multi method lines(Str:D $input: $limit = Inf --&gt; Positional)</pre>
 <p>Returns a list of lines (without trailing newline characters), i.e. the same as a call to <span class="code">$input.comb( / ^^ \N* /, $limit )</span> would.</p>
 <p>Examples:</p>
 <pre class="code">say lines(&quot;a\nb&quot;).perl;    # OUTPUT: «(&quot;a&quot;, &quot;b&quot;).Seq␤»
say lines(&quot;a\nb&quot;).elems;   # OUTPUT: «2␤»
say &quot;a\nb&quot;.lines.elems;    # OUTPUT: «2␤»
say &quot;a\n&quot;.lines.elems;     # OUTPUT: «1␤»</pre>
 <a name="t193.1.26"></a><h2 id="_type_Str.pod6-routine_words">193.1.26 routine words</h2>
 <pre class="code">multi sub    words(Str:D $input, $limit = Inf --&gt; Positional)
multi method words(Str:D $input: $limit = Inf --&gt; Positional)</pre>
 <p>Returns a list of non-whitespace bits, i.e. the same as a call to <span class="code">$input.comb( / \S+ /, $limit )</span> would.</p>
 <p>Examples:</p>
 <pre class="code">say &quot;a\nb\n&quot;.words.perl;       # OUTPUT: «(&quot;a&quot;, &quot;b&quot;).Seq␤»
say &quot;hello world&quot;.words.perl;  # OUTPUT: «(&quot;hello&quot;, &quot;world&quot;).Seq␤»
say &quot;foo:bar&quot;.words.perl;      # OUTPUT: «(&quot;foo:bar&quot;,).Seq␤»
say &quot;foo:bar\tbaz&quot;.words.perl; # OUTPUT: «(&quot;foo:bar&quot;, &quot;baz&quot;).Seq␤»</pre>
 <a name="t193.1.27"></a><h2 id="_type_Str.pod6-routine_flip">193.1.27 routine flip</h2>
 <pre class="code">multi sub    flip(Str:D  --&gt; Str:D)
multi method flip(Str:D: --&gt; Str:D)</pre>
 <p>Returns the string reversed character by character.</p>
 <p>Examples:</p>
 <pre class="code">&quot;Perl&quot;.flip;  # RESULT: «lreP»
&quot;ABBA&quot;.flip;  # RESULT: «ABBA»</pre>
 <a name="t193.1.28"></a><h2 id="_type_Str.pod6-routine_sprintf">193.1.28 routine sprintf</h2>
 <pre class="code">multi sub sprintf( Str:D $format, *@args --&gt; Str:D)</pre>
 <p>This function is mostly identical to the C library <span class="code">sprintf</span> and <span class="code">printf</span> functions. The only difference between the two functions is that <span class="code">sprintf</span> returns a string while the <span class="code">printf</span> function writes to a filehandle. <span class="code">sprintf</span> returns a <span class="code">Str</span>, not a literal.</p>
 <p>The <span class="code">$format</span> is scanned for <span class="code">%</span> characters. Any <span class="code">%</span> introduces a format token. Format tokens have the following grammar:</p>
 <pre class="code">grammar Str::SprintfFormat {
 regex format_token { '%': &lt;index&gt;? &lt;precision&gt;? &lt;modifier&gt;? &lt;directive&gt; }
 token index { \d+ '$' }
 token precision { &lt;flags&gt;? &lt;vector&gt;? &lt;precision_count&gt; }
 token flags { &lt;[ \x20 + 0 \# \- ]&gt;+ }
 token precision_count { [ &lt;[1..9]&gt;\d* | '*' ]? [ '.' [ \d* | '*' ] ]? }
 token vector { '*'? v }
 token modifier { &lt; ll l h V q L &gt; }
 token directive { &lt; % c s d u o x e f g X E G b p n i D U O F &gt; }
}</pre>
 <p>Directives guide the use (if any) of the arguments. When a directive (other than <span class="code">%</span>) is used, it indicates how the next argument passed is to be formatted into the string to be created.</p>
 <p>NOTE: The information below is for a fully functioning <span class="code">sprintf</span> implementation which hasn't been achieved yet. Formats or features not yet implemented are marked NYI.</p>
 <p>The directives are:</p>
 <table>
<tr><td>%</td> <td>a literal percent sign</td></tr>
 <tr><td>c</td> <td>a character with the given codepoint</td></tr>
 <tr><td>s</td> <td>a string</td></tr>
 <tr><td>d</td> <td>a signed integer, in decimal</td></tr>
 <tr><td>u</td> <td>an unsigned integer, in decimal</td></tr>
 <tr><td>o</td> <td>an unsigned integer, in octal</td></tr>
 <tr><td>x</td> <td>an unsigned integer, in hexadecimal</td></tr>
 <tr><td>e</td> <td>a floating-point number, in scientific notation</td></tr>
 <tr><td>f</td> <td>a floating-point number, in fixed decimal notation</td></tr>
 <tr><td>g</td> <td>a floating-point number, in %e or %f notation</td></tr>
 <tr><td>X</td> <td>like x, but using uppercase letters</td></tr>
 <tr><td>E</td> <td>like e, but using an uppercase &quot;E&quot;</td></tr>
 <tr><td>G</td> <td>like g, but with an uppercase &quot;E&quot; (if applicable)</td></tr>
 <tr><td>b</td> <td>an unsigned integer, in binary</td></tr>
</table> <p>Compatibility:</p>
 <table>
<tr><td>i</td> <td>a synonym for %d</td></tr>
 <tr><td>D</td> <td>a synonym for %ld</td></tr>
 <tr><td>U</td> <td>a synonym for %lu</td></tr>
 <tr><td>O</td> <td>a synonym for %lo</td></tr>
 <tr><td>F</td> <td>a synonym for %f</td></tr>
</table> <p>Modifiers change the meaning of format directives, but are largely no-ops (the semantics are still being determined).</p>
 <table>
<tr><td></td> <td>h</td> <td>interpret integer as native &quot;short&quot; (typically int16)</td></tr>
 <tr><td>NYI</td> <td>l</td> <td>interpret integer as native &quot;long&quot; (typically int32 or int64)</td></tr>
 <tr><td>NYI</td> <td>ll</td> <td>interpret integer as native &quot;long long&quot; (typically int64)</td></tr>
 <tr><td>NYI</td> <td>L</td> <td>interpret integer as native &quot;long long&quot; (typically uint64)</td></tr>
 <tr><td>NYI</td> <td>q</td> <td>interpret integer as native &quot;quads&quot; (typically int64 or larger)</td></tr>
</table> <p>Between the <span class="code">%</span> and the format letter, you may specify several additional attributes controlling the interpretation of the format. In order, these are:</p>
 <p><b>format parameter index</b></p>
 <p>An explicit format parameter index, such as <span class="code">2$</span>. By default, <span class="code">sprintf</span> will format the next unused argument in the list, but this allows you to take the arguments out of order:</p>
 <pre class="code">sprintf '%2$d %1$d', 12, 34;      # OUTPUT: «34 12␤»
sprintf '%3$d %d %1$d', 1, 2, 3;  # OUTPUT: «3 1 1␤»</pre>
 <p><b>flags</b></p>
 <p>One or more of:</p>
 <table>
<tr><td>space</td> <td>prefix non-negative number with a space</td></tr>
 <tr><td>+</td> <td>prefix non-negative number with a plus sign</td></tr>
 <tr><td>-</td> <td>left-justify within the field</td></tr>
 <tr><td>0</td> <td>use leading zeros, not spaces, for required padding</td></tr>
 <tr><td>#</td> <td>ensure the leading &quot;0&quot; for any octal,</td></tr>
 <tr><td></td> <td>prefix non-zero hexadecimal with &quot;0x&quot; or &quot;0X&quot;,</td></tr>
 <tr><td></td> <td>prefix non-zero binary with &quot;0b&quot; or &quot;0B&quot;</td></tr>
</table> <p>For example:</p>
 <pre class="code">sprintf '&lt;% d&gt;',  12;   # RESULT: «&lt; 12&gt;␤»
sprintf '&lt;% d&gt;',   0;   # RESULT: «&lt; 0&gt;&quot;»
sprintf '&lt;% d&gt;', -12;   # RESULT: «&lt;-12&gt;␤»
sprintf '&lt;%+d&gt;',  12;   # RESULT: «&lt;+12&gt;␤»
sprintf '&lt;%+d&gt;',   0;   # RESULT: «&lt;+0&gt;&quot;»
sprintf '&lt;%+d&gt;', -12;   # RESULT: «&lt;-12&gt;␤»
sprintf '&lt;%6s&gt;',  12;   # RESULT: «&lt;    12&gt;␤»
sprintf '&lt;%-6s&gt;', 12;   # RESULT: «&lt;12    &gt;␤»
sprintf '&lt;%06s&gt;', 12;   # RESULT: «&lt;000012&gt;␤»
sprintf '&lt;%#o&gt;',  12;   # RESULT: «&lt;014&gt;␤»
sprintf '&lt;%#x&gt;',  12;   # RESULT: «&lt;0xc&gt;␤»
sprintf '&lt;%#X&gt;',  12;   # RESULT: «&lt;0XC&gt;␤»
sprintf '&lt;%#b&gt;',  12;   # RESULT: «&lt;0b1100&gt;␤»
sprintf '&lt;%#B&gt;',  12;   # RESULT: «&lt;0B1100&gt;␤»</pre>
 <p>When a space and a plus sign are given as the flags at once, the space is ignored:</p>
 <pre class="code">sprintf '&lt;%+ d&gt;', 12;   # RESULT: «&lt;+12&gt;␤»
sprintf '&lt;% +d&gt;', 12;   # RESULT: «&lt;+12&gt;␤»</pre>
 <p>When the <span class="code">#</span> flag and a precision are given in the <span class="code">%o</span> conversion, the necessary number of 0s is added at the beginning. If the value of the number is <span class="code">0</span> and the precision is 0, it will output nothing; precision 0 or smaller than the actual number of elements will return the number with 0 to the left:</p>
 <pre class="code">say sprintf '&lt;%#.5o&gt;', 0o12;     # OUTPUT: «&lt;00012&gt;␤»
say sprintf '&lt;%#.5o&gt;', 0o12345;  # OUTPUT: «&lt;012345&gt;␤»
say sprintf '&lt;%#.0o&gt;', 0;        # OUTPUT: «&lt;&gt;␤» zero precision and value 0 results in no output!
say sprintf '&lt;%#.0o&gt;', 0o1       # OUTPUT: «&lt;01&gt;␤»</pre>
 <p><b>vector flag</b></p>
 <p>This flag tells Perl 6 to interpret the supplied string as a vector of integers, one for each character in the string. Perl 6 applies the format to each integer in turn, then joins the resulting strings with a separator (a dot, <span class="code">'.'</span>, by default). This can be useful for displaying ordinal values of characters in arbitrary strings:</p>
 <pre class="code">  NYI sprintf &quot;%vd&quot;, &quot;AB\x{100}&quot;;           # &quot;65.66.256&quot; 
</pre>
 <p>You can also explicitly specify the argument number to use for the join string using something like <span class="code">*2$v</span>; for example:</p>
 <pre class="code">  NYI sprintf '%*4$vX %*4$vX %*4$vX',       # 3 IPv6 addresses 
           @addr[1..3], &quot;:&quot;; 
</pre>
 <p><b>(minimum) width</b></p>
 <p>Arguments are usually formatted to be only as wide as required to display the given value. You can override the width by putting a number here, or get the width from the next argument (with <span class="code">*</span> ) or from a specified argument (e.g., with <span class="code">*2$</span>):</p>
 <pre class="code">sprintf &quot;&lt;%s&gt;&quot;, &quot;a&quot;;           # RESULT: «&lt;a&gt;␤»
sprintf &quot;&lt;%6s&gt;&quot;, &quot;a&quot;;          # RESULT: «&lt;     a&gt;␤»
sprintf &quot;&lt;%*s&gt;&quot;, 6, &quot;a&quot;;       # RESULT: «&lt;     a&gt;␤»</pre>
 <pre class="code"> NYI sprintf '&lt;%*2$s&gt;', &quot;a&quot;, 6; # &quot;&lt;     a&gt;&quot; 
</pre>
 <pre class="code">sprintf &quot;&lt;%2s&gt;&quot;, &quot;long&quot;;       # RESULT: «&lt;long&gt;␤» (does not truncate)</pre>
 <p>If a field width obtained through <span class="code">*</span> is negative, it has the same effect as the <span class="code">-</span> flag: left-justification.</p>
 <p><b>precision, or maximum width</b></p>
 <p>You can specify a precision (for numeric conversions) or a maximum width (for string conversions) by specifying a <span class="code">.</span> followed by a number. For floating-point formats, except <span class="code">g</span> and <span class="code">G</span>, this specifies how many places right of the decimal point to show (the default being 6). For example:</p>
 <pre class="code"># these examples are subject to system-specific variation
sprintf '&lt;%f&gt;', 1;    # RESULT: «&quot;&lt;1.000000&gt;&quot;␤»
sprintf '&lt;%.1f&gt;', 1;  # RESULT: «&quot;&lt;1.0&gt;&quot;␤»
sprintf '&lt;%.0f&gt;', 1;  # RESULT: «&quot;&lt;1&gt;&quot;␤»
sprintf '&lt;%e&gt;', 10;   # RESULT: «&quot;&lt;1.000000e+01&gt;&quot;␤»
sprintf '&lt;%.1e&gt;', 10; # RESULT: «&quot;&lt;1.0e+01&gt;&quot;␤»</pre>
 <p>For &quot;g&quot; and &quot;G&quot;, this specifies the maximum number of digits to show, including those prior to the decimal point and those after it; for example:</p>
 <pre class="code"># These examples are subject to system-specific variation.
sprintf '&lt;%g&gt;', 1;        # RESULT: «&lt;1&gt;␤»
sprintf '&lt;%.10g&gt;', 1;     # RESULT: «&lt;1&gt;␤»
sprintf '&lt;%g&gt;', 100;      # RESULT: «&lt;100&gt;␤»
sprintf '&lt;%.1g&gt;', 100;    # RESULT: «&lt;1e+02&gt;␤»
sprintf '&lt;%.2g&gt;', 100.01; # RESULT: «&lt;1e+02&gt;␤»
sprintf '&lt;%.5g&gt;', 100.01; # RESULT: «&lt;100.01&gt;␤»
sprintf '&lt;%.4g&gt;', 100.01; # RESULT: «&lt;100&gt;␤»</pre>
 <p>For integer conversions, specifying a precision implies that the output of the number itself should be zero-padded to this width, where the <span class="code">0</span> flag is ignored:</p>
 <p>(Note that this feature currently works for unsigned integer conversions, but not for signed integer.)</p>
 <pre class="code">sprintf '&lt;%.6d&gt;', 1;      # &lt;000001&gt; 
 NYI sprintf '&lt;%+.6d&gt;', 1;     # &lt;+000001&gt; 
 NYI sprintf '&lt;%-10.6d&gt;', 1;   # &lt;000001    &gt; 
 sprintf '&lt;%10.6d&gt;', 1;    # &lt;    000001&gt; 
 NYI sprintf '&lt;%010.6d&gt;', 1;   #     000001&gt; 
 NYI sprintf '&lt;%+10.6d&gt;', 1;   # &lt;   +000001&gt; 
 sprintf '&lt;%.6x&gt;', 1;         # RESULT: «&lt;000001&gt;␤» 
 sprintf '&lt;%#.6x&gt;', 1;        # RESULT: «&lt;0x000001&gt;␤» 
 sprintf '&lt;%-10.6x&gt;', 1;      # RESULT: «&lt;000001    &gt;␤» 
 sprintf '&lt;%10.6x&gt;', 1;       # RESULT: «&lt;    000001&gt;␤» 
 sprintf '&lt;%010.6x&gt;', 1;      # RESULT: «&lt;    000001&gt;␤» 
 sprintf '&lt;%#10.6x&gt;', 1;      # RESULT: «&lt;  0x000001&gt;␤» 
</pre>
 <p>For string conversions, specifying a precision truncates the string to fit the specified width:</p>
 <pre class="code">sprintf '&lt;%.5s&gt;', &quot;truncated&quot;;   # RESULT: «&lt;trunc&gt;␤»
sprintf '&lt;%10.5s&gt;', &quot;truncated&quot;; # RESULT: «&lt;     trunc&gt;␤»</pre>
 <p>You can also get the precision from the next argument using <span class="code">.*</span>, or from a specified argument (e.g., with <span class="code">.*2$</span>):</p>
 <pre class="code">sprintf '&lt;%.6x&gt;', 1;       # RESULT: «&lt;000001&gt;␤» 
 sprintf '&lt;%.*x&gt;', 6, 1;    # RESULT: «&lt;000001&gt;␤» 
 NYI sprintf '&lt;%.*2$x&gt;', 1, 6;  # &quot;&lt;000001&gt;&quot; 
 NYI sprintf '&lt;%6.*2$x&gt;', 1, 4; # &quot;&lt;  0001&gt;&quot; 
</pre>
 <p>If a precision obtained through <span class="code">*</span> is negative, it counts as having no precision at all:</p>
 <pre class="code">sprintf '&lt;%.*s&gt;',  7, &quot;string&quot;;   # RESULT: «&lt;string&gt;␤»
sprintf '&lt;%.*s&gt;',  3, &quot;string&quot;;   # RESULT: «&lt;str&gt;␤»
sprintf '&lt;%.*s&gt;',  0, &quot;string&quot;;   # RESULT: «&lt;&gt;␤»
sprintf '&lt;%.*s&gt;', -1, &quot;string&quot;;   # RESULT: «&lt;string&gt;␤»
sprintf '&lt;%.*d&gt;',  1, 0;          # RESULT: «&lt;0&gt;␤»
sprintf '&lt;%.*d&gt;',  0, 0;          # RESULT: «&lt;&gt;␤»
sprintf '&lt;%.*d&gt;', -1, 0;          # RESULT: «&lt;0&gt;␤»</pre>
 <p><b>size</b></p>
 <p>For numeric conversions, you can specify the size to interpret the number as using <span class="code">l</span>, <span class="code">h</span>, <span class="code">V</span>, <span class="code">q</span>, <span class="code">L</span>, or <span class="code">ll</span>. For integer conversions (<span class="code">d</span> <span class="code">u</span> <span class="code">o</span> <span class="code">x</span> <span class="code">X</span> <span class="code">b</span> <span class="code">i</span> <span class="code">D</span> <span class="code">U</span> <span class="code">O</span>), numbers are usually assumed to be whatever the default integer size is on your platform (usually 32 or 64 bits), but you can override this to use instead one of the standard C types, as supported by the compiler used to build Perl 6:</p>
 <p>(Note: None of the following have been implemented.)</p>
 <table>
<tr><td>hh</td> <td>interpret integer as C type &quot;char&quot; or &quot;unsigned char&quot;</td></tr>
 <tr><td>h</td> <td>interpret integer as C type &quot;short&quot; or &quot;unsigned short&quot;</td></tr>
 <tr><td>j</td> <td>interpret integer as C type &quot;intmax_t&quot;, only with a C99 compiler (unportable)</td></tr>
 <tr><td>l</td> <td>interpret integer as C type &quot;long&quot; or &quot;unsigned long&quot;</td></tr>
 <tr><td>q, L, or ll</td> <td>interpret integer as C type &quot;long long&quot;, &quot;unsigned long long&quot;, or &quot;quad&quot; (typically 64-bit integers)</td></tr>
 <tr><td>t</td> <td>interpret integer as C type &quot;ptrdiff_t&quot;</td></tr>
 <tr><td>z</td> <td>interpret integer as C type &quot;size_t&quot;</td></tr>
</table> <p><b>order of arguments</b></p>
 <p>Normally, <span class="code">sprintf</span> takes the next unused argument as the value to format for each format specification. If the format specification uses <span class="code">*</span> to require additional arguments, these are consumed from the argument list in the order they appear in the format specification before the value to format. Where an argument is specified by an explicit index, this does not affect the normal order for the arguments, even when the explicitly specified index would have been the next argument.</p>
 <p>So:</p>
 <pre class="code">my $a = 5; my $b = 2; my $c = 'net';
sprintf &quot;&lt;%*.*s&gt;&quot;, $a, $b, $c; # RESULT: «&lt;   ne&gt;␤»</pre>
 <p>uses <span class="code">$a</span> for the width, <span class="code">$b</span> for the precision, and <span class="code">$c</span> as the value to format; while:</p>
 <pre class="code">  NYI sprintf '&lt;%*1$.*s&gt;', $a, $b; 
</pre>
 <p>would use <span class="code">$a</span> for the width and precision and <span class="code">$b</span> as the value to format.</p>
 <p>Here are some more examples; be aware that when using an explicit index, the <span class="code">$</span> may need escaping:</p>
 <pre class="code"> sprintf &quot;%2\$d %d\n&quot;,      12, 34;     # RESULT: «34 12␤␤» 
  sprintf &quot;%2\$d %d %d\n&quot;,   12, 34;     # RESULT: «34 12 34␤␤» 
  sprintf &quot;%3\$d %d %d\n&quot;,   12, 34, 56; # RESULT: «56 12 34␤␤» 
  NYI sprintf &quot;%2\$*3\$d %d\n&quot;,  12, 34,  3; # &quot; 34 12\n&quot; 
  NYI sprintf &quot;%*1\$.*f\n&quot;,       4,  5, 10; # &quot;5.0000\n&quot; 
</pre>
 TODO: document effects of locale
 <p>Other examples:</p>
 <pre class="code"> NYI sprintf &quot;%ld a big number&quot;, 4294967295; 
  NYI sprintf &quot;%%lld a bigger number&quot;, 4294967296; 
  sprintf('%c', 97);                  # RESULT: «a␤» 
  sprintf(&quot;%.2f&quot;, 1.969);             # RESULT: «1.97␤» 
  sprintf(&quot;%+.3f&quot;, 3.141592);         # RESULT: «+3.142␤» 
  sprintf('%2$d %1$d', 12, 34);       # RESULT: «34 12␤» 
  sprintf(&quot;%x&quot;, 255);                 # RESULT: «ff␤» 
</pre>
 <p>Special case: <span class="code">sprintf(&quot;&lt;b&gt;%s&lt;/b&gt;\n&quot;, &quot;Perl 6&quot;)</span> will not work, but one of the following will:</p>
 <pre class="code">sprintf Q:b &quot;&lt;b&gt;%s&lt;/b&gt;\n&quot;,  &quot;Perl 6&quot;; # RESULT: «&lt;b&gt;Perl 6&lt;/b&gt;␤␤»
sprintf     &quot;&lt;b&gt;\%s&lt;/b&gt;\n&quot;, &quot;Perl 6&quot;; # RESULT: «&lt;b&gt;Perl 6&lt;/b&gt;␤␤»
sprintf     &quot;&lt;b&gt;%s\&lt;/b&gt;\n&quot;, &quot;Perl 6&quot;; # RESULT: «&lt;b&gt;Perl 6&lt;/b&gt;␤␤»</pre>
 <a name="t193.1.29"></a><h2 id="_type_Str.pod6-method_starts-with">193.1.29 method starts-with</h2>
 <pre class="code">multi method starts-with(Str:D: Str(Cool) $needle --&gt; True:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is identical to or starts with <span class="code">$needle</span>.</p>
 <pre class="code">say &quot;Hello, World&quot;.starts-with(&quot;Hello&quot;);     # OUTPUT: «True␤»
say &quot;https://perl6.org/&quot;.starts-with('ftp'); # OUTPUT: «False␤»</pre>
 <a name="t193.1.30"></a><h2 id="_type_Str.pod6-method_ends-with">193.1.30 method ends-with</h2>
 <pre class="code">multi method ends-with(Str:D: Str(Cool) $needle --&gt; True:D)</pre>
 <p>Returns <span class="code">True</span> if the invocant is identical to or ends with <span class="code">$needle</span>.</p>
 <pre class="code">say &quot;Hello, World&quot;.ends-with('Hello');      # OUTPUT: «False␤»
say &quot;Hello, World&quot;.ends-with('ld');         # OUTPUT: «True␤»</pre>
 <a name="t193.1.31"></a><h2 id="_type_Str.pod6-method_subst">193.1.31 method subst</h2>
 <pre class="code">multi method subst(Str:D: $matcher, $replacement, *%opts)</pre>
 <p>Returns the invocant string where <span class="code">$matcher</span> is replaced by <span class="code">$replacement</span> (or the original string, if no match was found).</p>
 <p>There is an in-place syntactic variant of <span class="code">subst</span> spelled <a href="#_syntax_s$SOLIDUS%20$SOLIDUS%20$SOLIDUS.pod6"><span class="code">s/matcher/replacement/</span></a> as well as the <a href="#_routine_subst-mutate.pod6"><span class="code">.subst-mutate</span>  method</a>.</p>
 <p><span class="code">$matcher</span> can be a <a href="#_type_Regex.pod6">Regex</a>, or a literal <span class="code">Str</span>. Non-Str matcher arguments of type <a href="#_type_Cool.pod6">Cool</a> are coerced to <span class="code">Str</span> for literal matching. If a <a href="#_type_Regex.pod6">Regex</a> <span class="code">$matcher</span> is used, the <a href="#_syntax_$$SOLIDUS.pod6"><span class="code">$/</span>  special variable</a> will be set to <span class="code">Nil</span> (if no matches occurred), a <a href="#_type_Match.pod6">Match</a> object, or a <a href="#_type_List.pod6">List</a> of <a href="#_type_Match.pod6">Match</a> objects (if multi-match options like <span class="code">:g</span> are used).</p>
 <a name="t193.1.31.1"></a><h3 id="_type_Str.pod6-Literal_replacement_substitution">193.1.31.1 Literal replacement substitution</h3>
 <pre class="code">my $some-string = &quot;Some foo&quot;;
my $another-string = $some-string.subst(/foo/, &quot;string&quot;); # gives 'Some string'
$some-string.=subst(/foo/, &quot;string&quot;); # in-place substitution. $some-string is now 'Some string'</pre>
 <a name="t193.1.31.2"></a><h3 id="_type_Str.pod6-Callable">193.1.31.2 Callable</h3>
 <p>The replacement can be a <a href="#_type_Callable.pod6">Callable</a> in which the current <a href="#_type_Match.pod6">Match</a> object will be placed in the <span class="code">$/</span> variable, as well as the <span class="code">$_</span> topic variable. Using a <a href="#_type_Callable.pod6">Callable</a> as replacement is how you can refer to any of the captures created in the regex:</p>
 <pre class="code"># Using capture from $/ variable (the $0 is the first positional capture)
say 'abc123defg'.subst(/(\d+)/, { &quot; before $0 after &quot; });
# OUTPUT: «abc before 123 after defg␤»

# Using capture from $/ variable (the $&lt;foo&gt; is a named capture)
say 'abc123defg'.subst(/$&lt;foo&gt;=\d+/, { &quot; before $&lt;foo&gt; after &quot; });
# OUTPUT: «abc before 123 after defg␤»

# Using WhateverCode to operate on the Match given in $_:
say 'abc123defg'.subst(/(\d+)/, &quot;[ &quot; ~ *.flip ~ &quot; ]&quot;);
# OUTPUT: «abc[ 321 ]defg␤»

# Using a Callable to generate substitution without involving current Match:
my $i = 41;
my $str = &quot;The answer is secret.&quot;;
say $str.subst(/secret/, {++$i}); # The answer to everything
# OUTPUT: «The answer is 42.␤»</pre>
 <a name="t193.1.31.3"></a><h3 id="_type_Str.pod6-More_Examples">193.1.31.3 More Examples</h3>
 <p>Here are other examples of usage:</p>
 <pre class="code">my $str = &quot;Hey foo foo foo&quot;;
$str.subst(/foo/, &quot;bar&quot;, :g); # global substitution - returns Hey bar bar bar

$str.subst(/foo/, &quot;no subst&quot;, :x(0)); # targeted substitution. Number of times to substitute. Returns back unmodified.
$str.subst(/foo/, &quot;bar&quot;, :x(1)); #replace just the first occurrence.

$str.subst(/foo/, &quot;bar&quot;, :nth(3)); # replace nth match alone. Replaces the third foo. Returns Hey foo foo bar</pre>
 <p>The <span class="code">:nth</span> adverb has readable English-looking variants:</p>
 <pre class="code">say 'ooooo'.subst: 'o', 'x', :1st; # OUTPUT: «xoooo␤»
say 'ooooo'.subst: 'o', 'x', :2nd; # OUTPUT: «oxooo␤»
say 'ooooo'.subst: 'o', 'x', :3rd; # OUTPUT: «ooxoo␤»
say 'ooooo'.subst: 'o', 'x', :4th; # OUTPUT: «oooxo␤»</pre>
 <a name="t193.1.31.4"></a><h3 id="_type_Str.pod6-Adverbs">193.1.31.4 Adverbs</h3>
 <p>The following adverbs are supported</p>
 <table>
<tr><th>short</th> <th>long</th> <th>meaning</th></tr>
<tr><td>:g</td> <td>:global</td> <td>tries to match as often as possible</td></tr>
 <tr><td>:nth(Int|Callable|Whatever)</td> <td></td> <td>only substitute the nth match; aliases: :st, :nd, :rd, and :th</td></tr>
 <tr><td>:ss</td> <td>:samespace</td> <td>preserves whitespace on substitution</td></tr>
 <tr><td>:ii</td> <td>:samecase</td> <td>preserves case on substitution</td></tr>
 <tr><td>:mm</td> <td>:samemark</td> <td>preserves character marks (e.g. 'ü' replaced with 'o' will result in 'ö')</td></tr>
 <tr><td>:x(Int|Range|Whatever)</td> <td></td> <td>substitute exactly $x matches</td></tr>
</table> <p>Note that only in the <span class="code">s///</span> form <span class="code">:ii</span> implies <span class="code">:i</span> and <span class="code">:ss</span> implies <span class="code">:s</span>. In the method form, the <span class="code">:s</span> and <span class="code">:i</span> modifiers must be added to the regex, not the <span class="code">subst</span> method call.</p>
 <a name="t193.1.32"></a><h2 id="_type_Str.pod6-method_subst-mutate">193.1.32 method subst-mutate</h2>
 <p>Where <a href="#_routine_subst.pod6">subst</a> returns the modified string and leaves the original unchanged, it is possible to mutate the original string by using <span class="code">subst-mutate</span>. If the match is successful, the method returns a <a href="#_type_Match.pod6">Match</a> object representing the successful match, otherwise returns <a href="#_type_Nil.pod6">Nil</a>. If <span class="code">:nth</span> (or one of its aliases) with <a href="#_type_Iterable.pod6">Iterable</a> value, <span class="code">:g</span>, <span class="code">:global</span>, or <span class="code">:x</span> arguments are used, returns a <a href="#_type_List.pod6">List</a> of <a href="#_type_Match.pod6">Match</a> objects, or an empty <a href="#_type_List.pod6">List</a> if no matches occurred.</p>
 <pre class="code">my $some-string = &quot;Some foo&quot;;
my $match = $some-string.subst-mutate(/foo/, &quot;string&quot;);
say $some-string;  # OUTPUT: «Some string␤»
say $match;        # OUTPUT: «｢foo｣␤»
$some-string.subst-mutate(/&lt;[oe]&gt;/, '', :g); # remove every o and e, notice the :g named argument from .subst</pre>
 <p>If a <a href="#_type_Regex.pod6">Regex</a> <span class="code">$matcher</span> is used, the <a href="#_syntax_$$SOLIDUS.pod6"><span class="code">$/</span>  special variable</a> will be set to <span class="code">Nil</span> (if no matches occurred), a <a href="#_type_Match.pod6">Match</a> object, or a <a href="#_type_List.pod6">List</a> of <a href="#_type_Match.pod6">Match</a> objects (if multi-match options like <span class="code">:g</span> are used).</p>
 <a name="t193.1.33"></a><h2 id="_type_Str.pod6-routine_substr">193.1.33 routine substr</h2>
 <pre class="code">multi sub    substr(Str:D $s, $from, $chars?  --&gt; Str:D)
multi sub    substr(Str:D $s, Range  $from-to --&gt; Str:D)
multi method substr(Str:D $s: $from, $chars?  --&gt; Str:D)
multi method substr(Str:D $s: Range $from-to  --&gt; Str:D)</pre>
 <p>Returns a substring of the original string, between the indices specified by <span class="code">$from-to</span>'s endpoints (coerced to <a href="#_type_Int.pod6">Int</a>) or from index <span class="code">$from</span> and of length <span class="code">$chars</span>.</p>
 <p>Both <span class="code">$from</span> and <span class="code">$chars</span> can be specified as <a href="#_type_Callable.pod6">Callable</a>, which will be invoked with the <a href="#_routine_chars.pod6">length</a> of the original string and the returned value will be used as the value for the argument. If <span class="code">$from</span> or <span class="code">$chars</span> are not <a href="#_type_Callable.pod6">Callable</a>, they'll be coerced to <a href="#_type_Int.pod6">Int</a>.</p>
 <p>If <span class="code">$chars</span> is omitted or is larger than the available characters, the string from <span class="code">$from</span> until the end of the string is returned. If <span class="code">$from-to</span>'s starting index or <span class="code">$from</span> is less than zero, <span class="code">X::OutOfRange</span> exception is thrown. The <span class="code">$from-to</span>'s ending index is permitted to extend past the end of string, in which case it will be equivalent to the index of the last character.</p>
 <pre class="code">say substr(&quot;Long string&quot;, 3..6);     # RESULT: «g st␤»
say substr(&quot;Long string&quot;, 6, 3);     # RESULT: «tri␤»
say substr(&quot;Long string&quot;, 6);        # RESULT: «tring␤»
say substr(&quot;Long string&quot;, 6, *-1);   # RESULT: «trin␤»
say substr(&quot;Long string&quot;, *-3, *-1); # RESULT: «in␤»</pre>
 <a name="t193.1.34"></a><h2 id="_type_Str.pod6-method_substr-eq">193.1.34 method substr-eq</h2>
 <pre class="code">multi method substr-eq(Str:D:  Str(Cool) $test-string, Int(Cool) $from --&gt; Bool)
multi method substr-eq(Cool:D: Str(Cool) $test-string, Int(Cool) $from --&gt; Bool)</pre>
 <p>Returns <span class="code">True</span> if the <span class="code">$test-string</span> exactly matches the <span class="code">String</span> object, starting from the given initial index <span class="code">$from</span>. For example, beginning with the string <span class="code">&quot;foobar&quot;</span>, the substring <span class="code">&quot;bar&quot;</span> will match from index 3:</p>
 <pre class="code">my $string = &quot;foobar&quot;;
say $string.substr-eq(&quot;bar&quot;, 3);    # OUTPUT: «True␤»</pre>
 <p>However, the substring <span class="code">&quot;barz&quot;</span> starting from index 3 won't match even though the first three letters of the substring do match:</p>
 <pre class="code">my $string = &quot;foobar&quot;;
say $string.substr-eq(&quot;barz&quot;, 3);   # OUTPUT: «False␤»</pre>
 <p>Naturally, to match the entire string, one merely matches from index 0:</p>
 <pre class="code">my $string = &quot;foobar&quot;;
say $string.substr-eq(&quot;foobar&quot;, 0); # OUTPUT: «True␤»</pre>
 <p>Since this method is inherited from the <span class="code">Cool</span> type, it also works on integers. Thus the integer <span class="code">42</span> will match the value <span class="code">342</span> starting from index 1:</p>
 <pre class="code">my $integer = 342;
say $integer.substr-eq(42, 1);      # OUTPUT: «True␤»</pre>
 <p>As expected, one can match the entire value by starting at index 0:</p>
 <pre class="code">my $integer = 342;
say $integer.substr-eq(342, 0);     # OUTPUT: «True␤»</pre>
 <p>Also using a different value or an incorrect starting index won't match:</p>
 <pre class="code">my $integer = 342;
say $integer.substr-eq(42, 3);      # OUTPUT: «False␤»
say $integer.substr-eq(7342, 0);    # OUTPUT: «False␤»</pre>
 <a name="t193.1.35"></a><h2 id="_type_Str.pod6-method_substr-rw">193.1.35 method substr-rw</h2>
 <pre class="code">method substr-rw($from, $length?)</pre>
 <p>A version of <span class="code">substr</span> that returns a <a href="#_type_Proxy.pod6">Proxy</a> functioning as a writable reference to a part of a string variable. Its first argument, <span class="code">$from</span> specifies the index in the string from which a substitution should occur, and its last argument, <span class="code">$length</span> specifies how many characters are to be replaced.</p>
 <p>For example, in its method form, if one wants to take the string <span class="code">&quot;abc&quot;</span> and replace the second character (at index 1) with the letter <span class="code">&quot;z&quot;</span>, then one does this:</p>
 <pre class="code">my $string = &quot;abc&quot;;
$string.substr-rw(1, 1) = &quot;z&quot;;
$string.say;                         # OUTPUT: «azc␤»</pre>
 <p>Note that new characters can be inserted as well:</p>
 <pre class="code">my $string = 'azc';
$string.substr-rw(2, 0) = &quot;-Zorro-&quot;; # insert new characters BEFORE the character at index 2
$string.say;                         # OUTPUT: «az-Zorro-c␤»</pre>
 <p><span class="code">substr-rw</span> also has a function form, so the above examples can also be written like so:</p>
 <pre class="code">my $string = &quot;abc&quot;;
substr-rw($string, 1, 1) = &quot;z&quot;;
$string.say;                          # OUTPUT: «azc␤»
substr-rw($string, 2, 0) = &quot;-Zorro-&quot;;
$string.say;                          # OUTPUT: «az-Zorro-c␤»</pre>
 <p>It is also possible to alias the writable reference returned by <span class="code">substr-rw</span> for repeated operations:</p>
 <pre class="code">my $string = &quot;A character in the 'Flintstones' is: barney&quot;;
$string ~~ /(barney)/;
my $ref := substr-rw($string, $0.from, $0.to-$0.from);
$string.say;
# OUTPUT: «A character in the 'Flintstones' is: barney␤»
$ref = &quot;fred&quot;;
$string.say;
# OUTPUT: «A character in the 'Flintstones' is: fred␤»
$ref = &quot;wilma&quot;;
$string.say;
# OUTPUT: «A character in the 'Flintstones' is: wilma␤»</pre>
 <a name="t193.1.36"></a><h2 id="_type_Str.pod6-routine_samemark">193.1.36 routine samemark</h2>
 <pre class="code">multi sub samemark(Str:D $string, Str:D $pattern --&gt; Str:D)
method    samemark(Str:D: Str:D $pattern --&gt; Str:D)</pre>
 <p>Returns a copy of <span class="code">$string</span> with the mark/accent information for each character changed such that it matches the mark/accent of the corresponding character in <span class="code">$pattern</span>. If <span class="code">$string</span> is longer than <span class="code">$pattern</span>, the remaining characters in <span class="code">$string</span> receive the same mark/accent as the last character in <span class="code">$pattern</span>. If <span class="code">$pattern</span> is empty no changes will be made.</p>
 <p>Examples:</p>
 <pre class="code">say 'åäö'.samemark('aäo');                        # OUTPUT: «aäo␤»
say 'åäö'.samemark('a');                          # OUTPUT: «aao␤»

say samemark('Pêrl', 'a');                        # OUTPUT: «Perl␤»
say samemark('aöä', '');                          # OUTPUT: «aöä␤»</pre>
 <a name="t193.1.37"></a><h2 id="_type_Str.pod6-method_succ">193.1.37 method succ</h2>
 <pre class="code">method succ(Str:D --&gt; Str:D)</pre>
 <p>Returns the string incremented by one.</p>
 <p>String increment is &quot;magical&quot;. It searches for the last alphanumeric sequence that is not preceded by a dot, and increments it.</p>
 <pre class="code">'12.34'.succ;      # RESULT: «13.34»
'img001.png'.succ; # RESULT: «img002.png»</pre>
 <p>The actual increment step works by mapping the last alphanumeric character to a character range it belongs to, and choosing the next character in that range, carrying to the previous letter on overflow.</p>
 <pre class="code">'aa'.succ;   # RESULT: «ab»
'az'.succ;   # RESULT: «ba»
'109'.succ;  # RESULT: «110»
'α'.succ;    # RESULT: «β»
'a9'.succ;   # RESULT: «b0»</pre>
 <p>String increment is Unicode-aware, and generally works for scripts where a character can be uniquely classified as belonging to one range of characters.</p>
 <a name="t193.1.38"></a><h2 id="_type_Str.pod6-method_pred">193.1.38 method pred</h2>
 <pre class="code">method pred(Str:D: --&gt; Str:D)</pre>
 <p>Returns the string decremented by one.</p>
 <p>String decrementing is &quot;magical&quot; just like string increment (see <a href="#_routine_succ.pod6">succ</a>). It fails on underflow</p>
 <pre class="code">'b0'.pred;           # RESULT: «a9» 
 'a0'.pred;           # Failure 
 'img002.png'.pred;   # RESULT: «img001.png» 
</pre>
 <a name="t193.1.39"></a><h2 id="_type_Str.pod6-routine_ord">193.1.39 routine ord</h2>
 <pre class="code">multi sub    ord(Str:D  --&gt; Int:D)
multi method ord(Str:D: --&gt; Int:D)</pre>
 <p>Returns the codepoint number of the base characters of the first grapheme in the string.</p>
 <p>Example:</p>
 <pre class="code">ord(&quot;A&quot;); # 65
&quot;«&quot;.ord;  # 171</pre>
 <a name="t193.1.40"></a><h2 id="_type_Str.pod6-method_ords">193.1.40 method ords</h2>
 <pre class="code">multi method ords(Str:D: --&gt; Positional)</pre>
 <p>Returns a list of Unicode codepoint numbers that describe the codepoints making up the string.</p>
 <p>Example:</p>
 <pre class="code">&quot;aå«&quot;.ords; # (97 229 171)</pre>
 <p>Strings are represented as graphemes. If a character in the string is represented by multiple codepoints, then all of those codepoints will appear in the result of <span class="code">ords</span>. Therefore, the number of elements in the result may not always be equal to <a href="#_routine_chars.pod6">chars</a>, but will be equal to <a href="#_routine_codes.pod6">codes</a>; <a href="#_routine_codes.pod6">codes</a> computes the codepoints in a different way, so the result might be faster.</p>
 <p>The codepoints returned will represent the string in <a href="#_type_NFC.pod6">NFC</a>. See the <a href="#_type_NFD.pod6">NFD</a>, <a href="#_type_NFKC.pod6">NFKC</a>, and <a href="#_type_NFKD.pod6">NFKD</a> methods if other forms are required.</p>
 <a name="t193.1.41"></a><h2 id="_type_Str.pod6-method_trans">193.1.41 method trans</h2>
 <pre class="code">multi method trans(Str:D: Pair:D \what, *%n --&gt; Str)
multi method trans(Str:D: *@changes, :complement(:$c), :squash(:$s), :delete(:$d) --&gt; Str)</pre>
 <p>Replaces one or many characters with one or many characters. Ranges are supported, both for keys and values. Regexes work as keys. In case a list of keys and values is used, substrings can be replaced as well. When called with <span class="code">:complement</span> anything but the matched value or range is replaced with a single value. With <span class="code">:delete</span> the matched characters are without corresponding replacement are removed. Combining <span class="code">:complement</span> and <span class="code">:delete</span> will remove anything but the matched values, <i>unless replacement characters have been specified</i>, in which case, <span class="code">:delete</span> would be ignored. The adverb <span class="code">:squash</span> will reduce repeated matched characters to a single character.</p>
 <p>Example:</p>
 <pre class="code">my $str = 'say $x&lt;b&gt; &amp;&amp; $y&lt;a&gt;';
$str.=trans( '&lt;' =&gt; '«' );
$str.=trans( '&lt;' =&gt; '«', '&gt;' =&gt; '»' );

$str.=trans( [ '&lt;'   , '&gt;'   , '&amp;' ] =&gt;
             [ '&amp;lt;', '&amp;gt;', '&amp;amp;' ]);

$str.=trans( ['a'..'y'] =&gt; ['A'..'z'] );

&quot;abcdefghij&quot;.trans(/&lt;[aeiou]&gt; \w/ =&gt; '');                     # RESULT: «cdgh»

&quot;a123b123c&quot;.trans(['a'..'z'] =&gt; 'x', :complement);            # RESULT: «axxxbxxxc»
&quot;a123b123c&quot;.trans('23' =&gt; '', :delete);                       # RESULT: «a1b1c»
&quot;aaa1123bb123c&quot;.trans('a'..'z' =&gt; 'A'..'Z', :squash);         # RESULT: «A1123B123C»
&quot;aaa1123bb123c&quot;.trans('a'..'z' =&gt; 'x', :complement, :squash); # RESULT: «aaaxbbxc»</pre>
 <a name="t193.1.42"></a><h2 id="_type_Str.pod6-method_indent">193.1.42 method indent</h2>
 <pre class="code">multi method indent(Int $steps where { $_ == 0 } )
multi method indent(Int $steps where { $_ &gt; 0  } )
multi method indent($steps where { .isa(Whatever) || .isa(Int) &amp;&amp; $_ &lt; 0 } )</pre>
 <p>Indents each line of the string by <span class="code">$steps</span>. If <span class="code">$steps</span> is negative, it outdents instead. If <span class="code">$steps</span> is <a href="*"><span class="code">*</span></a>, then the string is outdented to the margin:</p>
 <pre class="code">&quot;  indented by 2 spaces\n    indented even more&quot;.indent(*)
    eq &quot;indented by 2 spaces\n  indented even more&quot;</pre>
 <a name="t193.1.43"></a><h2 id="_type_Str.pod6-method_trim">193.1.43 method trim</h2>
 <pre class="code">method trim(Str:D: --&gt; Str)</pre>
 <p>Remove leading and trailing whitespace. It can be used both as a method on strings and as a function. When used as a method it will return the trimmed string. In order to do in-place trimming, one needs to write <span class="code">.=trim</span></p>
 <pre class="code">my $line = '   hello world    ';
say '&lt;' ~ $line.trim ~ '&gt;';        # OUTPUT: «&lt;hello world&gt;␤»
say '&lt;' ~ trim($line) ~ '&gt;';       # OUTPUT: «&lt;hello world&gt;␤»
$line.trim;
say '&lt;' ~ $line ~ '&gt;';             # OUTPUT: «&lt;   hello world    &gt;␤»
$line.=trim;
say '&lt;' ~ $line ~ '&gt;';             # OUTPUT: «&lt;hello world&gt;␤»</pre>
 <p>See also <a href="#_routine_trim-trailing.pod6">trim-trailing</a> and <a href="#_routine_trim-leading.pod6">trim-leading</a></p>
 <a name="t193.1.44"></a><h2 id="_type_Str.pod6-method_trim-trailing">193.1.44 method trim-trailing</h2>
 <pre class="code">method trim-trailing(Str:D: --&gt; Str)</pre>
 <p>Remove the whitespace characters from the end of a string. See also <a href="#_routine_trim.pod6">trim</a>.</p>
 <a name="t193.1.45"></a><h2 id="_type_Str.pod6-method_trim-leading">193.1.45 method trim-leading</h2>
 <pre class="code">method trim-leading(Str:D: --&gt; Str)</pre>
 <p>Remove the whitespace characters from the beginning of a string. See also <a href="#_routine_trim.pod6">trim</a>.</p>
 <a name="t193.1.46"></a><h2 id="_type_Str.pod6-method_NFC">193.1.46 method NFC</h2>
 <pre class="code">method NFC(Str:D: --&gt; NFC:D)</pre>
 <p>Returns a codepoint string in <a href="#_type_NFC.pod6">NFC</a> format (Unicode Normalization Form C / Composed).</p>
 <a name="t193.1.47"></a><h2 id="_type_Str.pod6-method_NFD">193.1.47 method NFD</h2>
 <pre class="code">method NFD(Str:D: --&gt; NFD:D)</pre>
 <p>Returns a codepoint string in <a href="#_type_NFD.pod6">NFD</a> format (Unicode Normalization Form D / Decomposed).</p>
 <a name="t193.1.48"></a><h2 id="_type_Str.pod6-method_NFKC">193.1.48 method NFKC</h2>
 <pre class="code">method NFKC(Str:D: --&gt; NFKC:D)</pre>
 <p>Returns a codepoint string in <a href="#_type_NFKC.pod6">NFKC</a> format (Unicode Normalization Form KC / Compatibility Composed).</p>
 <a name="t193.1.49"></a><h2 id="_type_Str.pod6-method_NFKD">193.1.49 method NFKD</h2>
 <pre class="code">method NFKD(Str:D: --&gt; NFKD:D)</pre>
 <p>Returns a codepoint string in <a href="#_type_NFKD.pod6">NFKD</a> format (Unicode Normalization Form KD / Compatibility Decomposed).</p>
 <a name="t193.1.50"></a><h2 id="_type_Str.pod6-method_ACCEPTS">193.1.50 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Str:D: $other)</pre>
 <p>Returns <span class="code">True</span> if the string is <a href="#_routine_eq.pod6">the same as</a> <span class="code">$other</span>.</p>
 <a name="t193.1.51"></a><h2 id="_type_Str.pod6-method_Capture">193.1.51 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
 <a name="t193.1.52"></a><h2 id="_type_Str.pod6-routine_val">193.1.52 routine val</h2>
 <pre class="code">multi sub val(Str:D $MAYBEVAL, :$val-or-fail)</pre>
 <p>Given a <span class="code">Str</span> that may be parsable as a numeric value, it will attempt to construct the appropriate <a href="#_language_glossary.pod6-Allomorph">allomorph</a>, returning one of <a href="#_type_IntStr.pod6">IntStr</a>, <a href="#_type_NumStr.pod6">NumStr</a>, <a href="#_type_RatStr.pod6">RatStr</a> or <a href="#_type_ComplexStr.pod6">ComplexStr</a> or a plain <span class="code">Str</span> if a numeric value cannot be parsed. If the <span class="code">:val-or-fail</span> adverb is provided it will return an <a href="#_type_X::Str::Numeric.pod6">X::Str::Numeric</a> rather than the original string if it cannot parse the string as a number.</p>
 <pre class="code">say val(&quot;42&quot;).^name;    # OUTPUT: «IntStr␤»
say val(&quot;42e0&quot;).^name;  # OUTPUT: «NumStr␤»
say val(&quot;42.0&quot;).^name;  # OUTPUT: «RatStr␤»
say val(&quot;42+0i&quot;).^name; # OUTPUT: «ComplexStr␤»</pre>
</div>
<!-- /type/Stringy.pod6 --><div class="pod-body"><a id="_type_Stringy.pod6"></a><a name="t194"><h1 class="title">194 role Stringy</h1></a> <p class="subtitle">String or object that can act as a string</p> <pre class="code">role Stringy { ... }</pre>
 <p>Common role for string types (such as Str).</p>
</div>
<!-- /type/Sub.pod6 --><div class="pod-body"><a id="_type_Sub.pod6"></a><a name="t195"><h1 class="title">195 class Sub</h1></a> <p class="subtitle">Subroutine</p> <pre class="code">class Sub is Routine { }</pre>
 <p>A type for subroutines and operators. Subs are created with the <span class="code">sub</span> declarator keyword followed by an <a href="#_language_syntax.pod6-Identifiers">identifier</a>. Operators are declared by <span class="code">sub</span> followed by <span class="code">prefix</span>, <span class="code">infix</span>, <span class="code">postfix</span>, <span class="code">circumfix</span>, or <span class="code">postcircumfix</span>; then a colon and the operator name in a quote construct. For (post-)circumfix operators separate the two parts by white space.</p>
 <pre class="code">my $s = sub ($a, $b) { $a + $b };
say $s.^name;       # OUTPUT: «Sub␤»
say $s(2, 5);       # OUTPUT: «7␤»

sub postfix:&lt;♥&gt;($a){ say „I love $a!“ }
42♥;
# OUTPUT: «I love 42!␤»
sub postcircumfix:&lt;⸨ ⸩&gt;(Positional $a, Whatever){ say $a[0], '…', $a[*-1] }
[1,2,3,4]⸨*⸩;
# OUTPUT: «1…4␤»
constant term:&lt;♥&gt; = &quot;♥&quot;; # We don't want to quote &quot;love&quot;, do we?
sub circumfix:&lt;α ω&gt;($a){ say „$a is the beginning and the end.“ };
α♥ω;
# OUTPUT: «♥ is the beginning and the end.␤»</pre>
 <p>Note that subs that go by the same name as <a href="#_language_typesystem.pod6-Coercion">coercers</a> will not take precedence over coercers. To call them use the <span class="code">&amp;</span>-sigil.</p>
 <pre class="code">sub Int(Str $s){'oi‽'};
say [Int, Int('42'),&amp;Int('42')];
# OUTPUT: «[(Int) 42 oi‽]␤»</pre>
 <p><span class="indexed"><a id="902" name="my (Sub)"></a></span><span class="indexed"><a id="903" name="our (Sub)"></a></span> Subs can be nested and scoped with <span class="code">my</span> and <span class="code">our</span>, whereby <span class="code">my</span> is the default. A sub declared with <span class="code">my</span> can not be reached from any outer scope. An <span class="code">our</span> scoped sub will not redefine a sub of the same name in the outer scope. Any sub can be accessed via a closure from any outer scope.</p>
 <a name="t195.1"></a><h1 id="_type_Sub.pod6-Traits">195.1 Traits <a name="904"></a></h1>
 <p>A Trait is a sub that is applied at compile time to various objects like classes, routines or <a href="#_language_phasers.pod6-index-entry-will_trait">containers</a>. It is declared with the <span class="code">trait_mod</span> declarator followed by a colon and a string literal containing the name of the trait. A single positional parameter defines the type of the object that the trait is applied to. A single named argument defines the secondary name and may carry arguments when the trait is called. Traits are a special grammar category and are allowed to be places after most language object names or parameter lists.</p>
 <pre class="code">say 'start';
multi sub trait_mod:&lt;is&gt;(Sub $s, :$foo){
    say &quot;⟨is foo⟩ has been called with ⟨$foo⟩ on {$s.WHICH}&quot;;
}
sub bar() is foo&lt;oi‽&gt; {
    say 'bar has been called'
}
bar();
# OUTPUT: «⟨is foo⟩ has been called with ⟨oi‽⟩ on Sub|47563000␤start␤bar has been called␤»</pre>
 <p>Use <a href="#_type_Signature.pod6-Destructuring_Parameters">destructuring</a> to call traits with complex arguments.</p>
 <pre class="code">multi trait_mod:&lt;is&gt;(Variable $a, :@foo [$firstpos, *@restpos, :$named, *%restnameds]) {
    say [$firstpos, @restpos, $named, %restnameds]
}
my $x is foo[1,2,3,:named&lt;a&gt;, :2b, :3c] = 1
# OUTPUT: «[1 [2 3] a {b =&gt; 2, c =&gt; 3}]␤»</pre>
 <p>Despite its funky syntax, a trait is just a normal <span class="code">Sub</span>. We can apply traits to it (or even themselves) and we can apply traits to objects at runtime.</p>
 <pre class="code">multi sub trait_mod:&lt;is&gt; (Sub $s, :$foo) is foo {
    say 'is foo called'
}
sub bar {}
&amp;trait_mod:&lt;is&gt;(&amp;bar, :foo);
# OUTPUT: «is foo called␤is foo called␤»</pre>
</div>
<!-- /type/Submethod.pod6 --><div class="pod-body"><a id="_type_Submethod.pod6"></a><a name="t196"><h1 class="title">196 class Submethod</h1></a> <p class="subtitle">Member function that is not inherited by subclasses</p> <pre class="code">class Submethod is Routine {}</pre>
 <p>A Submethod is a method that is not inherited by child classes. They are typically used for per-class initialization and tear-down tasks which are called explicitly per class in an inheritance tree, usually for enforcing a particular order. For example object construction with the <span class="code">BUILD</span> submethod happens from the least-derived to most-derived, so that the most-derived (child) classes can depend on the parent already being initialized.</p>
 <p>Submethods are of type <span class="code">Submethod</span>, and are declared with the <span class="code">submethod</span> declarator:</p>
 <pre class="code">class Area {
    has $.size;
    submethod BUILD(:$x, :$y, :$z) {
        $!size = $x * $y * $z;
    }
}</pre>
 <a name="t196.1"></a><h1 id="_type_Submethod.pod6-Methods">196.1 Methods</h1>
 TODO
</div>
<!-- /type/Supplier.pod6 --><div class="pod-body"><a id="_type_Supplier.pod6"></a><a name="t197"><h1 class="title">197 class Supplier</h1></a> <p class="subtitle">Live Supply factory</p> <pre class="code">class Supplier { }</pre>
 <p>This is a factory for <i>live</i> <a href="#_type_Supply.pod6">Supply</a> objects, which provides the mechanism for emitting new values onto the supplies:</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply_1 = $supplier.Supply;
$supply_1.tap(-&gt; $v { say &quot;One $v&quot; });
my $supply_2 = $supplier.Supply;
$supply_2.tap(-&gt; $v { say &quot;Two $v&quot; });
$supplier.emit(42);</pre>
 <p>Will output:</p>
 <pre class="code">One 42 
 Two 42 
</pre>
 <p><i>on demand</i> supplies are created by the factory methods of the <a href="#_type_Supply.pod6">Supply</a> class or by the <span class="code">supply</span> keyword. A mixture of a live and on-demand <span class="code">Supply</span> can be created with a <a href="#_type_Supplier::Preserving.pod6">Supplier::Preserving</a>.</p>
 <a name="t197.1"></a><h1 id="_type_Supplier.pod6-Methods">197.1 Methods</h1>
 <a name="t197.1.1"></a><h2 id="_type_Supplier.pod6-method_new">197.1.1 method new</h2>
 <pre class="code">method new()</pre>
 <p>The <span class="code">Supplier</span> constructor.</p>
 <a name="t197.1.2"></a><h2 id="_type_Supplier.pod6-method_Supply">197.1.2 method Supply</h2>
 <pre class="code">method Supply(Supplier:D: --&gt; Supply)</pre>
 <p>This creates a new <span class="code">Supply</span> object to which any values which are emitted on this supplier are passed. This is the factory for all <span class="code">live</span> supplies.</p>
 <a name="t197.1.3"></a><h2 id="_type_Supplier.pod6-method_emit">197.1.3 method emit</h2>
 <pre class="code">method emit(Supplier:D: Mu \value)</pre>
 <p>Sends the given value to all of the taps on all of the supplies created by <span class="code">Supply</span> on this <span class="code">Supplier</span>.</p>
 <a name="t197.1.4"></a><h2 id="_type_Supplier.pod6-method_done">197.1.4 method done</h2>
 <pre class="code">method done(Supplier:D:)</pre>
 <p>Calls the <span class="code">done</span> callback on all the taps that have one.</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply   = $supplier.Supply;
$supply.tap(-&gt; $v { say $v }, done =&gt; { say &quot;no more answers&quot; });
$supplier.emit(42);
$supplier.done;</pre>
 <p>Will output:</p>
 <pre class="code">42 
 no more answers 
</pre>
 <a name="t197.1.5"></a><h2 id="_type_Supplier.pod6-method_quit">197.1.5 method quit</h2>
 <pre class="code">multi method quit(Supplier:D: Exception $ex)
multi method quit(Supplier:D: Str() $message)</pre>
 <p>Calls the <span class="code">quit</span> callback on all the taps that have one, passing the exception to them. If called with a <a href="#_type_Str.pod6">Str</a> the exception will be an <a href="#_type_X::AdHoc.pod6">X::AdHoc</a> with the supplied message.</p>
 <p>This is meant for shutting down a supply with an error.</p>
</div>
<!-- /type/Supplier/Preserving.pod6 --><div class="pod-body"><a id="_type_Supplier_Preserving.pod6"></a><a name="t198"><h1 class="title">198 class Supplier::Preserving</h1></a> <p class="subtitle">Cached live Supply factory</p> <pre class="code">class Supplier::Preserving is Supplier { }</pre>
 <p>This is a factory for live <a href="#_type_Supply.pod6">Supply</a> objects, which provides the mechanism for emitting new values onto the supplies, whereby values are kept when no consumer has tapped into the <span class="code">Supply</span>. Any tapping will consume the already stored and future values.</p>
 <p>Starting a preserving <span class="code">Supply</span> and consuming its values after it is <span class="code">done</span>:</p>
 <pre class="code">my $p = Supplier::Preserving.new;
start for ^3 {
    $p.emit($_);
    LAST {
        say „done after { now - BEGIN now}s“;
        $p.done;
    }
}
sleep 2;
react {
    whenever $p.Supply { $_.say; }
    whenever Promise.in(2) { done }
}
say „also done after { now - BEGIN now }s“</pre>
 <p>Will output:</p>
 <pre class="code">done after 0.0638467s 
 0 
 1 
 2 
 also done after 4.0534119s 
</pre>
 <a name="t198.1"></a><h1 id="_type_Supplier_Preserving.pod6-Methods">198.1 Methods</h1>
 <a name="t198.1.1"></a><h2 id="_type_Supplier_Preserving.pod6-method_new">198.1.1 method new</h2>
 <pre class="code">method new()</pre>
 <p>The <span class="code">Supplier</span> constructor.</p>
</div>
<!-- /type/Supply.pod6 --><div class="pod-body"><a id="_type_Supply.pod6"></a><a name="t199"><h1 class="title">199 class Supply</h1></a> <p class="subtitle">Asynchronous data stream with multiple subscribers</p> <pre class="code">class Supply {}</pre>
 <p>A supply is a thread-safe, asynchronous data stream like a <a href="#_type_Channel.pod6">Channel</a>, but it can have multiple subscribers (<i>taps</i>) that all get the same values flowing through the supply.</p>
 <p>It is a thread-safe implementation of the <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer Pattern</a>, and central to supporting reactive programming in Perl 6.</p>
 <p>There are two types of Supplies: <span class="code">live</span> and <span class="code">on demand</span>. When tapping into a <span class="code">live</span> supply, the tap will only see values that are flowing through the supply <b>after</b> the tap has been created. Such supplies are normally infinite in nature, such as mouse movements. Closing such a tap does not stop mouse events from occurring, it just means that the values will go by unseen. All tappers see the same flow of values.</p>
 <p>A tap on an <span class="code">on demand</span> supply will initiate the production of values, and tapping the supply again may result in a new set of values. For example, <span class="code">Supply.interval</span> produces a fresh timer with the appropriate interval each time it is tapped. If the tap is closed, the timer simply stops emitting values to that tap.</p>
 <p>A <span class="code">live</span> <span class="code">Supply</span> is obtained from the <a href="#_type_Supplier.pod6">Supplier</a> factory method <span class="code">Supply</span>. New values are emitted by calling <span class="code">emit</span> on the <span class="code">Supplier</span> object.</p>
 <pre class="code">my $supplier = Supplier.new;
my $supply = $supplier.Supply;
$supply.tap(-&gt; $v { say &quot;$v&quot; });
$supplier.emit(42); # Will cause the tap to output &quot;42&quot;</pre>
 <p>The <a href="#198-method live">live method</a> returns <span class="code">True</span> on live supplies. Factory methods such as <a href="#198-method interval">interval</a>, <a href="#198-method from-list">from-list</a> will return <i>on demand</i> supplies.</p>
 <p>A live <span class="code">Supply</span> that keeps values until tapped the first time can be created with <a href="#_type_Supplier::Preserving.pod6">Supplier::Preserving</a>.</p>
 <p>Further examples can be found in the <a href="#_language_concurrency.pod6-Supplies">concurrency page</a>.</p>
 <a name="t199.1"></a><h1 id="_type_Supply.pod6-Methods_that_return_Taps">199.1 Methods that return Taps</h1>
 <a name="t199.1.1"></a><h2 id="_type_Supply.pod6-method_tap">199.1.1 method tap</h2>
 <pre class="code">method tap(Supply:D: &amp;emit = -&gt; $ { }, 
         :&amp;done, 
         :&amp;quit, 
     --&gt; Tap:D) 
</pre>
 <p>Creates a new tap (a kind of subscription if you will), in addition to all existing taps. The first positional argument is a piece of code that will be called when a new value becomes available through the <span class="code">emit</span> call.</p>
 <p>The <span class="code">&amp;done</span> callback is called when the <span class="code">done</span> method on the supply is called, indicating the end of life of the channel. For a <span class="code">live</span> supply the <span class="code">done</span> routine will be called on the parent <span class="code">Supplier</span>.</p>
 <p>The <span class="code">&amp;quit</span> callback is called when the <span class="code">quit</span> method on the supply is called, indicating an erroneous termination of the supply. For a <span class="code">live</span> supply the <span class="code">quit</span> routine will be called on the parent <span class="code">Supplier</span></p>
 <p>Method <span class="code">tap</span> returns an object of type <a href="#_type_Tap.pod6">Tap</a>, on which you can call the <span class="code">close</span> method to cancel the subscription.</p>
 <pre class="code">my $s = Supply.from-list(0 .. 5);
my $t = $s.tap(-&gt; $v { say $v }, done =&gt; { say &quot;no more ticks&quot; });</pre>
 <p>Produces:</p>
 <pre class="code">0 
 1 
 2 
 3 
 4 
 5 
 no more ticks 
</pre>
 <a name="t199.1.2"></a><h2 id="_type_Supply.pod6-method_act">199.1.2 method act</h2>
 <pre class="code">method act(Supply:D: &amp;act --&gt; Tap:D)</pre>
 <p>Creates a tap on the given supply with the given code. Differently from <span class="code">tap</span>, the given code is guaranteed to be only executed by one thread at a time.</p>
 <a name="t199.2"></a><h1 id="_type_Supply.pod6-Utility_methods">199.2 Utility methods</h1>
 <a name="t199.2.1"></a><h2 id="_type_Supply.pod6-method_Capture">199.2.1 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture(Supply:D --&gt; Capture:D)</pre>
 <p>Equivalent to calling <a href="#_type_List.pod6-method_Capture"><span class="code">.List.Capture</span></a> on the invocant.</p>
 <a name="t199.2.2"></a><h2 id="_type_Supply.pod6-method_Channel">199.2.2 method Channel</h2>
 <pre class="code">method Channel(Supply:D: --&gt; Channel:D)</pre>
 <p>Returns a <a href="#_type_Channel.pod6">Channel</a> object that will receive all future values from the supply, and will be <span class="code">close</span>d when the Supply is done, and quit (shut down with error) when the supply is quit.</p>
 <a name="t199.2.3"></a><h2 id="_type_Supply.pod6-method_Promise">199.2.3 method Promise</h2>
 <pre class="code">method Promise(Supply:D: --&gt; Promise:D)</pre>
 <p>Returns a <a href="#_type_Promise.pod6">Promise</a> that will be kept when the <span class="code">Supply</span> is <span class="code">done</span>. If the <span class="code">Supply</span> also emits any values, then the <span class="code">Promise</span> will be kept with the final value. Otherwise, it will be kept with <span class="code">Nil</span>. If the <span class="code">Supply</span> ends with a <span class="code">quit</span> instead of a <span class="code">done</span>, then the <span class="code">Promise</span> will be broken with that exception.</p>
 <pre class="code">my $supplier = Supplier.new;
my $s = $supplier.Supply;
my $p = $s.Promise;
$p.then(-&gt; $v { say &quot;got $v.result()&quot; });
$supplier.emit('cha');         # not output yet
$supplier.done();              # got cha</pre>
 <p>The <span class="code">Promise</span> method is most useful when dealing with supplies that will tend to produce just one value, when only the final value is of interest, or when only completion (successful or not) is relevant.</p>
 <a name="t199.2.4"></a><h2 id="_type_Supply.pod6-method_live">199.2.4 method live</h2>
 <pre class="code">method live(Supply:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if the supply is &quot;live&quot;, that is, values are emitted to taps as soon as they arrive. Always returns <span class="code">True</span> in the default <span class="code">Supply</span> (but for example on the supply returned from <span class="code">Supply.from-list</span> it's <span class="code">False</span>).</p>
 <pre class="code">say Supplier.new.Supply.live;    # OUTPUT: «True␤»</pre>
 <a name="t199.2.5"></a><h2 id="_type_Supply.pod6-method_schedule-on">199.2.5 method schedule-on</h2>
 <pre class="code">method schedule-on(Supply:D: Scheduler $scheduler)</pre>
 <p>Runs the emit, done and quit callbacks on the specified scheduler.</p>
 <p>This is useful for GUI toolkits that require certain actions to be run from the GUI thread.</p>
 <a name="t199.3"></a><h1 id="_type_Supply.pod6-Methods_that_wait_until_the_supply_is_done">199.3 Methods that wait until the supply is done</h1>
 <a name="t199.3.1"></a><h2 id="_type_Supply.pod6-method_wait">199.3.1 method wait</h2>
 <pre class="code">method wait(Supply:D:)</pre>
 <p>Taps the <span class="code">Supply</span> it is called on, and blocks execution until the either the supply is <span class="code">done</span> (in which case it evaluates to the final value that was emitted on the <span class="code">Supply</span>, or <span class="code">Nil</span> if not value was emitted) or <span class="code">quit</span> (in which case it will throw the exception that was passed to <span class="code">quit</span>).</p>
 <pre class="code">my $s = Supplier.new;
start {
  sleep 1;
  say &quot;One second: running.&quot;;
  sleep 1;
  $s.emit(42);
  $s.done;
}
$s.Supply.wait;
say &quot;Two seconds: done&quot;;</pre>
 <a name="t199.3.2"></a><h2 id="_type_Supply.pod6-method_list">199.3.2 method list</h2>
 <pre class="code">method list(Supply:D: --&gt; List:D)</pre>
 <p>Taps the <span class="code">Supply</span> it is called on, and returns a lazy list that will be reified as the <span class="code">Supply</span> emits values. The list will be terminated once the <span class="code">Supply</span> is <span class="code">done</span>. If the <span class="code">Supply</span> <span class="code">quit</span>s, then an exception will be thrown once that point in the lazy list is reached.</p>
 <a name="t199.3.3"></a><h2 id="_type_Supply.pod6-method_grab">199.3.3 method grab</h2>
 <pre class="code">method grab(Supply:D: &amp;when-done --&gt; Supply:D)</pre>
 <p>Taps the <span class="code">Supply</span> it is called on. When it is <span class="code">done</span>, calls <span class="code">&amp;when-done</span> and then emits the list of values that it returns on the result <span class="code">Supply</span>. If the original <span class="code">Supply</span> <span class="code">quit</span>s, then the exception is immediately conveyed on the return <span class="code">Supply</span>.</p>
 <pre class="code">my $s = Supply.from-list(4, 10, 3, 2);
my $t = $s.grab(&amp;sum);
$t.tap(&amp;say);           # OUTPUT: «19␤»</pre>
 <a name="t199.3.4"></a><h2 id="_type_Supply.pod6-method_reverse">199.3.4 method reverse</h2>
 <pre class="code">method reverse(Supply:D: --&gt; Supply:D)</pre>
 <p>Taps the <span class="code">Supply</span> it is called on. Once that <span class="code">Supply</span> emits <span class="code">done</span>, all of the values it emitted will be emitted on the returned <span class="code">Supply</span> in reverse order. If the original <span class="code">Supply</span> <span class="code">quit</span>s, then the exception is immediately conveyed on the return <span class="code">Supply</span>.</p>
 <pre class="code">my $s = Supply.from-list(1, 2, 3);
my $t = $s.reverse;
$t.tap(&amp;say);           # OUTPUT: «3␤2␤1␤»</pre>
 <a name="t199.3.5"></a><h2 id="_type_Supply.pod6-method_sort">199.3.5 method sort</h2>
 <pre class="code">method sort(Supply:D: &amp;custom-routine-to-use? --&gt; Supply:D)</pre>
 <p>Taps the <span class="code">Supply</span> it is called on. Once that <span class="code">Supply</span> emits <span class="code">done</span>, all of the values that it emitted will be sorted, and the results emitted on the returned <span class="code">Supply</span> in the sorted order. Optionally accepts a comparator <a href="#_type_Block.pod6">Block</a>. If the original <span class="code">Supply</span> <span class="code">quit</span>s, then the exception is immediately conveyed on the return <span class="code">Supply</span>.</p>
 <pre class="code">my $s = Supply.from-list(4, 10, 3, 2);
my $t = $s.sort();
$t.tap(&amp;say);           # OUTPUT: «2␤3␤4␤10␤»</pre>
 <a name="t199.4"></a><h1 id="_type_Supply.pod6-Methods_that_return_another_Supply">199.4 Methods that return another Supply</h1>
 <a name="t199.4.1"></a><h2 id="_type_Supply.pod6-method_from-list">199.4.1 method from-list</h2>
 <pre class="code">method from-list(Supply:U: +@values --&gt; Supply:D)</pre>
 <p>Creates an on-demand supply from the values passed to this method.</p>
 <pre class="code">my $s = Supply.from-list(1, 2, 3);
$s.tap(&amp;say);           # OUTPUT: «1␤2␤3␤»</pre>
 <a name="t199.4.2"></a><h2 id="_type_Supply.pod6-method_share">199.4.2 method share</h2>
 <pre class="code">method share(Supply:D: --&gt; Supply:D)</pre>
 <p>Creates a live supply from an on-demand supply, thus making it possible to share the values of the on-demand supply on multiple taps, instead of each tap seeing its own copy of all values from the on-demand supply.</p>
 <pre class="code"># this says in turn: &quot;first 1&quot; &quot;first 2&quot; &quot;second 2&quot; &quot;first 3&quot; &quot;second 3&quot;
my $s = Supply.interval(1).share;
$s.tap: { &quot;first $_&quot;.say };
sleep 1.1;
$s.tap: { &quot;second $_&quot;.say };
sleep 2</pre>
 <a name="t199.4.3"></a><h2 id="_type_Supply.pod6-method_flat">199.4.3 method flat</h2>
 <pre class="code">method flat(Supply:D: --&gt; Supply:D)</pre>
 <p>Creates a supply on which all of the values seen in the given supply are flattened before being emitted again.</p>
 <a name="t199.4.4"></a><h2 id="_type_Supply.pod6-method_do">199.4.4 method do</h2>
 <pre class="code">method do(Supply:D: &amp;do --&gt; Supply:D)</pre>
 <p>Creates a supply to which all values seen in the given supply, are emitted again. The given code, executed for its side-effects only, is guaranteed to be only executed by one thread at a time.</p>
 <a name="t199.4.5"></a><h2 id="_type_Supply.pod6-method_on-close">199.4.5 method on-close</h2>
 <pre class="code">method on-close(Supply:D: &amp;on-close --&gt; Supply:D)</pre>
 <p>Returns a new <span class="code">Supply</span> which will run <span class="code">&amp;on-close</span> whenever a <a href="#_type_Tap.pod6">Tap</a> of that <span class="code">Supply</span> is closed. This includes if further operations are chained on to the <span class="code">Supply</span>. (for example, <span class="code">$supply.on-close(&amp;on-close).map(*.uc)</span>). When using a <span class="code">react</span> or <span class="code">supply</span> block, using the <a href="#_language_phasers.pod6-CLOSE">CLOSE</a> phaser is usually a better choice.</p>
 <pre class="code">my $s = Supplier.new;
my $tap = $s.Supply.on-close({ say &quot;Tap closed&quot; }).tap(
    -&gt; $v { say &quot;the value is $v&quot; },
    done    =&gt; { say &quot;Supply is done&quot; },
    quit    =&gt; -&gt; $ex { say &quot;Supply finished with error $ex&quot; },
);

$s.emit('Perl 6');
$tap.close;        # OUTPUT: «Tap closed␤»</pre>
 <a name="t199.4.6"></a><h2 id="_type_Supply.pod6-method_interval">199.4.6 method interval</h2>
 <pre class="code">method interval(Supply:U: $interval, $delay = 0, :$scheduler = $*SCHEDULER --&gt; Supply:D)</pre>
 <p>Creates a supply that emits a value every <span class="code">$interval</span> seconds, starting <span class="code">$delay</span> seconds from the call. The emitted value is an integer, starting from 0, and is incremented by one for each value emitted.</p>
 <p>Implementations may treat too-small values as lowest resolution they support, possibly warning in such situations; e.g. treating <span class="code">0.0001</span> as <span class="code">0.001</span>.</p>
 <a name="t199.4.7"></a><h2 id="_type_Supply.pod6-method_grep">199.4.7 method grep</h2>
 <pre class="code">method grep(Supply:D: Mu $test --&gt; Supply:D)</pre>
 <p>Creates a new supply that only emits those values from the original supply that smart-match against <span class="code">$test</span>.</p>
 <pre class="code">my $supplier = Supplier.new;
my $all      = $supplier.Supply;
my $ints     = $all.grep(Int);
$ints.tap(&amp;say);
$supplier.emit($_) for 1, 'a string', 3.14159;   # prints only 1</pre>
 <a name="t199.4.8"></a><h2 id="_type_Supply.pod6-method_map">199.4.8 method map</h2>
 <pre class="code">method map(Supply:D: &amp;mapper --&gt; Supply:D)</pre>
 <p>Returns a new supply that maps each value of the given supply through <span class="code">&amp;mapper</span> and emits it to the new supply.</p>
 <pre class="code">my $supplier = Supplier.new;
my $all      = $supplier.Supply;
my $double   = $all.map(-&gt; $value { $value * 2 });
$double.tap(&amp;say);
$supplier.emit(4);           # RESULT: «8»</pre>
 <a name="t199.4.9"></a><h2 id="_type_Supply.pod6-method_batch">199.4.9 method batch</h2>
 <pre class="code">method batch(Supply:D: :$elems, :$seconds --&gt; Supply:D)</pre>
 <p>Creates a new supply that batches the values of the given supply by either the number of elements in the batch (using <span class="code">:elems</span>) or the maximum number of seconds (using the <span class="code">:seconds</span>) or both. Any remaining values are emitted in a final batch when the supply is done.</p>
 <a name="t199.4.10"></a><h2 id="_type_Supply.pod6-method_elems">199.4.10 method elems</h2>
 <pre class="code">method elems(Supply:D: $seconds? --&gt; Supply:D)</pre>
 <p>Creates a new supply in which changes to the number of values seen are emitted. It optionally also takes an interval (in seconds) if you only want to be updated every so many seconds.</p>
 <a name="t199.4.11"></a><h2 id="_type_Supply.pod6-method_head">199.4.11 method head</h2>
 <pre class="code">method head(Supply:D: Int(Cool) $number = 1 --&gt; Supply:D)</pre>
 <p>Creates a &quot;head&quot; supply with the same semantics as <a href="#_type_List.pod6-method_head">List.head</a>.</p>
 <pre class="code">my $s = Supply.from-list(4, 10, 3, 2);
my $hs = $s.head(2);
$hs.tap(&amp;say);           # OUTPUT: «4␤10␤»</pre>
 <a name="t199.4.12"></a><h2 id="_type_Supply.pod6-method_tail">199.4.12 method tail</h2>
 <pre class="code">method tail(Supply:D: Int(Cool) $number = 1 --&gt; Supply:D)</pre>
 <p>Creates a &quot;tail&quot; supply with the same semantics as <a href="#_type_List.pod6-method_tail">List.tail</a>.</p>
 <pre class="code">my $s = Supply.from-list(4, 10, 3, 2);
my $ts = $s.tail(2);
$ts.tap(&amp;say);           # OUTPUT: «3␤2␤»</pre>
 <a name="t199.4.13"></a><h2 id="_type_Supply.pod6-method_rotor">199.4.13 method rotor</h2>
 <pre class="code">method rotor(Supply:D: @cycle --&gt; Supply:D)</pre>
 <p>Creates a &quot;rotoring&quot; supply with the same semantics as <a href="#_type_List.pod6-method_rotor">List.rotor</a>.</p>
 <a name="t199.4.14"></a><h2 id="_type_Supply.pod6-method_delayed">199.4.14 method delayed</h2>
 <pre class="code">method delayed(Supply:D: $seconds, :$scheduler = $*SCHEDULER --&gt; Supply:D)</pre>
 <p>Creates a new supply in which all values flowing through the given supply are emitted, but with the given delay in seconds.</p>
 <a name="t199.4.15"></a><h2 id="_type_Supply.pod6-method_throttle">199.4.15 method throttle</h2>
 <pre class="code">method throttle(Supply:D: 
   $limit,                 # values / time or simultaneous processing 
   $seconds or $callable,  # time-unit / code to process simultaneously 
   $delay = 0,             # initial delay before starting, in seconds 
   :$control,              # supply to emit control messages on (optional) 
   :$status,               # supply to tap status messages from (optional) 
   :$bleed,                # supply to bleed messages to (optional) 
   :$vent-at,              # bleed when so many buffered (optional) 
   :$scheduler,            # scheduler to use, default $*SCHEDULER 
   --&gt; Supply:D) 
</pre>
 <p>Produces a <span class="code">Supply</span> from a given Supply, but makes sure the number of messages passed through, is limited.</p>
 <p>It has two modes of operation: per time-unit or by maximum number of execution of a block of code: this is determined by the second positional parameter.</p>
 <p>The first positional parameter specifies the limit that should be applied.</p>
 <p>If the second positional parameter is a <span class="code">Callable</span>, then the limit indicates the maximum number of parallel processes executing the Callable, which is given the value that was received. The emitted values in this case will be the <span class="code">Promise</span>s that were obtained from <span class="code">start</span>ing the Callable.</p>
 <p>If the second positional parameter is a numeric value, it is interpreted as the time-unit (in seconds). If you specify <b>.1</b> as the value, then it makes sure you don't exceed the limit for every tenth of a second.</p>
 <p>If the limit is exceeded, then incoming messages are buffered until there is room to pass on / execute the Callable again.</p>
 <p>The third positional parameter is optional: it indicates the number of seconds the throttle will wait before passing on any values.</p>
 <p>The <span class="code">:control</span> named parameter optionally specifies a Supply that you can use to control the throttle while it is in operation. Messages that can be sent, are strings in the form of &quot;key:value&quot;. Please see below for the types of messages that you can send to control the throttle.</p>
 <p>The <span class="code">:status</span> named parameter optionally specifies a Supply that will receive any status messages. If specified, it will at least send one status message after the original Supply is exhausted. See <a href="#198-status_message">status message</a> below.</p>
 <p>The <span class="code">:bleed</span> named parameter optionally specifies a Supply that will receive any values that were either explicitly bled (with the <b>bleed</b> control message), or automatically bled (if there's a <b>vent-at</b> active).</p>
 <p>The <span class="code">:vent-at</span> named parameter indicates the number of values that may be buffered before any additional value will be routed to the <span class="code">:bleed</span> Supply. Defaults to 0 if not specified (causing no automatic bleeding to happen). Only makes sense if a <span class="code">:bleed</span> Supply has also been specified.</p>
 <p>The <span class="code">:scheduler</span> named parameter indicates the scheduler to be used. Defaults to <span class="code">$*SCHEDULER</span>.</p>
 <a name="t199.4.15.1"></a><h3 id="_type_Supply.pod6-control_messages">199.4.15.1 control messages</h3>
 <p>These messages can be sent to the <span class="code">:control</span> Supply. A control message consists of a string of the form &quot;key: value&quot;, e.g. &quot;limit: 4&quot;.</p>
 <ul><li><p>limit</p>
</li></ul> <p>Change the number of messages (as initially given in the first positional) to the value given.</p>
 <ul><li><p>bleed</p>
</li></ul> <p>Route the given number of buffered messages to the <span class="code">:bleed</span> Supply.</p>
 <ul><li><p>vent-at</p>
</li></ul> <p>Change the maximum number of buffered values before automatic bleeding takes place. If the value is lower than before, will cause immediate rerouting of buffered values to match the new maximum.</p>
 <ul><li><p>status</p>
</li></ul> <p>Send a status message to the <span class="code">:status</span> Supply with the given id.</p>
 <a name="t199.4.15.2"></a><h3 id="_type_Supply.pod6-status_message">199.4.15.2 status message</h3>
 <p>The status return message is a hash with the following keys:</p>
 <ul><li><p>allowed</p>
</li></ul> <p>The current number of messages / callables that is still allowed to be passed / executed.</p>
 <ul><li><p>bled</p>
</li></ul> <p>The number of messages routed to the <span class="code">:bleed</span> Supply.</p>
 <ul><li><p>buffered</p>
</li></ul> <p>The number of messages currently buffered because of overflow.</p>
 <ul><li><p>emitted</p>
</li></ul> <p>The number of messages emitted (passed through).</p>
 <ul><li><p>id</p>
</li></ul> <p>The id of this status message (a monotonically increasing number). Handy if you want to log status messages.</p>
 <ul><li><p>limit</p>
</li></ul> <p>The current limit that is being applied.</p>
 <ul><li><p>vent-at</p>
</li></ul> <p>The maximum number of messages that may be buffered before they're automatically re-routed to the <span class="code">:bleed</span> Supply.</p>
 <a name="t199.4.15.3"></a><h3 id="_type_Supply.pod6-Examples">199.4.15.3 Examples</h3>
 <p>Have a simple piece of code announce when it starts running asynchronously, wait a random amount of time, then announce when it is done. Do this 6 times, but don't let more than 3 of them run simultaneously.</p>
 <pre class="code">my $s = Supply.from-list(^6);  # set up supply
my $t = $s.throttle: 3,        # only allow 3 at a time
{                              # code block to run
    say &quot;running $_&quot;;          # announce we've started
    sleep rand;                # wait some random time
    say &quot;done $_&quot;              # announce we're done
}                              # don't need ; because } at end of line
$t.wait;                       # wait for the supply to be done</pre>
 <p>and the result of one run will be:</p>
 <pre class="code">running 0 
 running 1 
 running 2 
 done 2 
 running 3 
 done 1 
 running 4 
 done 4 
 running 5 
 done 0 
 done 3 
 done 5 
</pre>
 <a name="t199.4.16"></a><h2 id="_type_Supply.pod6-method_stable">199.4.16 method stable</h2>
 <pre class="code">method stable(Supply:D: $time, :$scheduler = $*SCHEDULER --&gt; Supply:D)</pre>
 <p>Creates a new supply that only passes on a value flowing through the given supply if it wasn't superseded by another value in the given <span class="code">$time</span> (in seconds). Optionally uses another scheduler than the default scheduler, using the <span class="code">:scheduler</span> parameter.</p>
 <p>To clarify the above, if, during the timeout <span class="code">$time</span>, additional values are emitted to the <span class="code">Supplier</span> all but the last one will be thrown away. Each time an additional value is emitted to the <span class="code">Supplier</span>, during the timeout, <span class="code">$time</span> is reset.</p>
 <p>This method can be quite useful when handling UI input, where it is not desired to perform an operation until the user has stopped typing for a while rather than on every keystroke.</p>
 <pre class="code">my $supplier = Supplier.new; 
 my $supply1 = $supplier.Supply; 
 $supply1.tap(-&gt; $v { say &quot;Supply1 got: $v&quot; }); 
 $supplier.emit(42); 
 
 my Supply $supply2 = $supply1.stable(5); 
 $supply2.tap(-&gt; $v { say &quot;Supply2 got: $v&quot; }); 
 sleep(3); 
 $supplier.emit(43);  # will not be seen by $supply2 but will reset $time 
 $supplier.emit(44); 
 sleep(10); 
 # OUTPUT: «Supply1 got: 42␤Supply1 got: 43␤Supply1 got: 44␤Supply2 got: 44␤» 
</pre>
 <p>As can be seen above, <span class="code">$supply1</span> received all values emitted to the <span class="code">Supplier</span> while <span class="code">$supply2</span> only received one value. The 43 was thrown away because it was followed by another 'last' value 44 which was retained and sent to <span class="code">$supply2</span> after approximately eight seconds, this due to the fact that the timeout <span class="code">$time</span> was reset after three seconds.</p>
 <a name="t199.4.17"></a><h2 id="_type_Supply.pod6-method_reduce">199.4.17 method reduce</h2>
 <pre class="code">method reduce(Supply:D: &amp;with --&gt; Supply:D)</pre>
 <p>Creates a &quot;reducing&quot; supply with the same semantics as <a href="#_type_List.pod6-routine_reduce">List.reduce</a>.</p>
 <pre class="code">my $supply = Supply.from-list(1..5).reduce({$^a + $^b});
$supply.tap(-&gt; $v { say &quot;$v&quot; }); # OUTPUT: «15␤»</pre>
 <a name="t199.4.18"></a><h2 id="_type_Supply.pod6-method_produce">199.4.18 method produce</h2>
 <pre class="code">method produce(Supply:D: &amp;with --&gt; Supply:D)</pre>
 <p>Creates a &quot;producing&quot; supply with the same semantics as <a href="#_type_List.pod6-routine_produce">List.produce</a>.</p>
 <pre class="code">my $supply = Supply.from-list(1..5).produce({$^a + $^b});
$supply.tap(-&gt; $v { say &quot;$v&quot; }); # OUTPUT: «1␤3␤6␤10␤15␤»</pre>
 <a name="t199.4.19"></a><h2 id="_type_Supply.pod6-method_lines">199.4.19 method lines</h2>
 <pre class="code">method lines(Supply:D: :$chomp = True --&gt; Supply:D)</pre>
 <p>Creates a supply that will emit the characters coming in line by line from a supply that's usually created by some asynchronous I/O operation. The optional <span class="code">:chomp</span> parameter indicates whether to remove line separators: the default is <span class="code">True</span>.</p>
 <a name="t199.4.20"></a><h2 id="_type_Supply.pod6-method_words">199.4.20 method words</h2>
 <pre class="code">method words(Supply:D: --&gt; Supply:D)</pre>
 <p>Creates a supply that will emit the characters coming in word for word from a supply that's usually created by some asynchronous I/O operation.</p>
 <pre class="code">my $s = Supply.from-list(&quot;Hello Word!&quot;.comb);
my $ws = $s.words;
$ws.tap(&amp;say);           # OUTPUT: «Hello␤Word!␤»</pre>
 <a name="t199.4.21"></a><h2 id="_type_Supply.pod6-method_unique">199.4.21 method unique</h2>
 <pre class="code">method unique(Supply:D: :$as, :$with, :$expires --&gt; Supply:D)</pre>
 <p>Creates a supply that only provides unique values, as defined by the optional <span class="code">:as</span> and <span class="code">:with</span> parameters (same as with <a href="#_type_List.pod6-routine_unique">List.unique</a>). The optional <span class="code">:expires</span> parameter how long to wait (in seconds) before &quot;resetting&quot; and not considering a value to have been seen, even if it's the same as an old value.</p>
 <a name="t199.4.22"></a><h2 id="_type_Supply.pod6-method_squish">199.4.22 method squish</h2>
 <pre class="code">method squish(Supply:D: :$as, :$with --&gt; Supply:D)</pre>
 <p>Creates a supply that only provides unique values, as defined by the optional <span class="code">:as</span> and <span class="code">:with</span> parameters (same as with <a href="#_type_List.pod6-routine_squish">List.squish</a>).</p>
 <a name="t199.4.23"></a><h2 id="_type_Supply.pod6-method_max">199.4.23 method max</h2>
 <pre class="code">method max(Supply:D: &amp;custom-routine-to-use = &amp;infix:&lt;cmp&gt; --&gt; Supply:D)</pre>
 <p>Creates a supply that only emits values from the given supply if they are larger than any value seen before. In other words, from a continuously ascending supply it will emit all the values. From a continuously descending supply it will only emit the first value. The optional parameter specifies the comparator, just as with <a href="#_type_Any.pod6-method_max">Any.max</a>.</p>
 <a name="t199.4.24"></a><h2 id="_type_Supply.pod6-method_min">199.4.24 method min</h2>
 <pre class="code">method min(Supply:D: &amp;custom-routine-to-use = &amp;infix:&lt;cmp&gt; --&gt; Supply:D)</pre>
 <p>Creates a supply that only emits values from the given supply if they are smaller than any value seen before. In other words, from a continuously descending supply it will emit all the values. From a continuously ascending supply it will only emit the first value. The optional parameter specifies the comparator, just as with <a href="#_type_Any.pod6-method_min">Any.min</a>.</p>
 <a name="t199.4.25"></a><h2 id="_type_Supply.pod6-method_minmax">199.4.25 method minmax</h2>
 <pre class="code">method minmax(Supply:D: &amp;custom-routine-to-use = &amp;infix:&lt;cmp&gt; --&gt; Supply:D)</pre>
 <p>Creates a supply that emits a Range every time a new minimum or maximum values is seen from the given supply. The optional parameter specifies the comparator, just as with <a href="#_type_Any.pod6-method_minmax">Any.minmax</a>.</p>
 <a name="t199.4.26"></a><h2 id="_type_Supply.pod6-method_skip">199.4.26 method skip</h2>
 <pre class="code">method skip(Supply:D: Int(Cool) $number = 1 --&gt; Supply:D)</pre>
 <p>Returns a new <span class="code">Supply</span> which will emit all values from the given <span class="code">Supply</span> except for the first <span class="code">$number</span> values, which will be thrown away.</p>
 <pre class="code">my $supplier = Supplier.new; 
 my $supply = $supplier.Supply; 
 $supply = $supply.skip(3); 
 $supply.tap({ say $_ }); 
 $supplier.emit($_) for 1..10; # OUTPUT: «4␤5␤6␤7␤8␤9␤10␤» 
</pre>
 <a name="t199.4.27"></a><h2 id="_type_Supply.pod6-method_start">199.4.27 method start</h2>
 <pre class="code">method start(Supply:D: &amp;startee --&gt; Supply:D)</pre>
 <p>Creates a supply of supplies. For each value in the original supply, the code object is scheduled on another thread, and returns a supply either of a single value (if the code succeeds), or one that quits without a value (if the code fails).</p>
 <p>This is useful for asynchronously starting work that you don't block on.</p>
 <p>Use <span class="code">migrate</span> to join the values into a single supply again.</p>
 <a name="t199.4.28"></a><h2 id="_type_Supply.pod6-method_migrate">199.4.28 method migrate</h2>
 <pre class="code">method migrate(Supply:D: --&gt; Supply:D)</pre>
 <p>Takes a <span class="code">Supply</span> which itself has values that are of type <span class="code">Supply</span> as input. Each time the outer <span class="code">Supply</span> emits a new <span class="code">Supply</span>, this will be tapped and its values emitted. Any previously tapped <span class="code">Supply</span> will be closed. This is useful for migrating between different data sources, and only paying attention to the latest one.</p>
 <p>For example, imagine an application where the user can switch between different stocks. When they switch to a new one, a connection is established to a web socket to get the latest values, and any previous connection should be closed. Each stream of values coming over the web socket would be represented as a Supply, which themselves are emitted into a Supply of latest data sources to watch. The <span class="code">migrate</span> method could be used to flatten this supply of supplies into a single Supply of the current values that the user cares about.</p>
 <p>Here is a simple simulation of such a program:</p>
 <pre class="code">my Supplier $stock-sources .= new; 
 
 sub watch-stock($symbol) { 
     $stock-sources.emit: supply { 
         say &quot;Starting to watch $symbol&quot;; 
         whenever Supply.interval(1) { 
             emit &quot;$symbol: 111.&quot; ~ 99.rand.Int; 
         } 
         CLOSE say &quot;Lost interest in $symbol&quot;; 
     } 
 } 
 
 $stock-sources.Supply.migrate.tap: *.say; 
 
 watch-stock('GOOG'); 
 sleep 3; 
 watch-stock('AAPL'); 
 sleep 3; 
</pre>
 <p>Which produces output like:</p>
 <pre class="code">Starting to watch GOOG 
 GOOG: 111.67 
 GOOG: 111.20 
 GOOG: 111.37 
 Lost interest in GOOG 
 Starting to watch AAPL 
 AAPL: 111.55 
 AAPL: 111.6 
 AAPL: 111.6 
</pre>
 <a name="t199.5"></a><h1 id="_type_Supply.pod6-Methods_that_combine_supplies">199.5 Methods that combine supplies</h1>
 <a name="t199.5.1"></a><h2 id="_type_Supply.pod6-method_merge">199.5.1 method merge</h2>
 <pre class="code">method merge(Supply @*supplies --&gt; Supply:D)</pre>
 <p>Creates a supply to which any value seen from the given supplies, is emitted. The resulting supply is done Only when all given supplies are done. Can also be called as a class method.</p>
 <a name="t199.5.2"></a><h2 id="_type_Supply.pod6-method_zip">199.5.2 method zip</h2>
 <pre class="code">method zip(Supply @*supplies, :&amp;with = &amp;[,] --&gt; Supply:D)</pre>
 <p>Creates a supply that emits combined values as soon as there is a new value seen on <b>all</b> of the supplies. By default, <a href="#_type_List.pod6">Lists</a> are created, but this can be changed by specifying your own combiner with the <span class="code">:with</span> parameter. The resulting supply is done as soon as <b>any</b> of the given supplies are done. Can also be called as a class method.</p>
 <a name="t199.5.3"></a><h2 id="_type_Supply.pod6-method_zip-latest">199.5.3 method zip-latest</h2>
 <pre class="code">method zip-latest(Supply @*supplies, :&amp;with = &amp;[,], :$initial --&gt; Supply:D)</pre>
 <p>Creates a supply that emits combined values as soon as there is a new value seen on <b>any</b> of the supplies. By default, <a href="#_type_List.pod6">Lists</a> are created, but this can be changed by specifying your own combiner with the <span class="code">:with</span> parameter. The optional :initial parameter can be used to indicate the initial state of the combined values. By default, all supplies have to have at least one value emitted on them before the first combined values is emitted on the resulting supply. The resulting supply is done as soon as <b>any</b> of the given supplies are done. Can also be called as a class method.</p>
 <a name="t199.6"></a><h1 id="_type_Supply.pod6-I/O_features_exposed_as_supplies">199.6 I/O features exposed as supplies</h1>
 <a name="t199.6.1"></a><h2 id="_type_Supply.pod6-sub_signal">199.6.1 sub signal</h2>
 <pre class="code">sub signal(*@signals, :$scheduler = $*SCHEDULER)</pre>
 <p>Creates a supply for the Signal enums (such as SIGINT) specified, and an optional <span class="code">:scheduler</span> parameter. Any signals received, will be emitted on the supply. For example:</p>
 <pre class="code">signal(SIGINT).tap( { say &quot;Thank you for your attention&quot;; exit 0 } );</pre>
 <p>would catch Control-C, thank you, and then exit.</p>
 <p>To go from a signal number to a <span class="indexed"><a id="905" name="">Signal</a></span>, you can do something like this:</p>
 <pre class="code">signal(Signal(2)).tap( -&gt; $sig { say &quot;Received signal: $sig&quot; } );</pre>
 <p>The list of supported signals can be found by checking <span class="code">Signal::.keys</span> (as you would any enum). For more details on how enums work see <a href="#_language_typesystem.pod6-enum">enum</a>.</p>
 <p><b>Note:</b> Currently <a href="#_language_glossary.pod6-Rakudo">Rakudo</a> has a bug which makes it use numeric values of signals that may be incorrect for a particular system. For example, <span class="code">Signal(10)</span> may return <span class="code">SIGBUS</span> even if it is actually <span class="code">SIGUSR1</span> on your system. <a href="https://rt.perl.org/Ticket/Display.html?id=132012">RT #132012</a></p>
 <a name="t199.6.2"></a><h2 id="_type_Supply.pod6-method_IO::Notification.watch-path">199.6.2 method IO::Notification.watch-path</h2>
 <pre class="code">method watch-path($path --&gt; Supply:D) 
</pre>
 <p>Creates a supply to which the OS will emit values to indicate changes on the file system for the given path. Also has a shortcut with the <span class="code">watch</span> method on an IO object, like this:</p>
 <pre class="code">IO::Notification.watch-path(&quot;.&quot;).act( { say &quot;$^file changed&quot; } ); 
 &quot;.&quot;.IO.watch.act(                     { say &quot;$^file changed&quot; } );   # same 
</pre>
</div>
<!-- /type/Tap.pod6 --><div class="pod-body"><a id="_type_Tap.pod6"></a><a name="t200"><h1 class="title">200 class Tap</h1></a> <p class="subtitle">Subscription to a Supply</p> <pre class="code">class Tap {}</pre>
 <p>A Tap is a subscription to a <a href="#_type_Supply.pod6">Supply</a>.</p>
 <pre class="code">my $s = Supplier.new;
my $tap = $s.Supply.on-close({ say &quot;Tap closed&quot; }).tap(
    -&gt; $v { say &quot;the value is $v&quot; },
    done    =&gt; { say &quot;Supply is done&quot; },
    quit    =&gt; -&gt; $ex { say &quot;Supply finished with error $ex&quot; },
);

# later
$tap.close;</pre>
 <a name="t200.1"></a><h1 id="_type_Tap.pod6-Methods">200.1 Methods</h1>
 <a name="t200.1.1"></a><h2 id="_type_Tap.pod6-method_close">200.1.1 method close</h2>
 <pre class="code">method close(Tap:D:)</pre>
 <p>Closes the tap.</p>
</div>
<!-- /type/Telemetry.pod6 --><div class="pod-body"><a id="_type_Telemetry.pod6"></a><a name="t201"><h1 class="title">201 class Telemetry</h1></a> <p class="subtitle">Collect performance state for analysis</p> <pre class="code">class Telemetry { }</pre>
 <p><b>Note: </b> This class is a Rakudo-specific feature and not standard Perl 6.</p>
 <p>On creation, a <span class="code">Telemetry</span> object contains a snapshot of various aspects of the current state of the virtual machine. This is in itself useful, but generally one needs two snapshots for the difference (which is a <a href="#_type_Telemetry::Period.pod6">Telemetry::Period</a> object).</p>
 <p>The Telemetry object is really a collection of snapshots taken by different &quot;instruments&quot;. By default, the <a href="#_type_Telemetry::Instrument::Usage.pod6">Telemetry::Instrument::Usage</a> and <a href="#_type_Telemetry::Instrument::ThreadPool.pod6">Telemetry::Instrument::ThreadPool</a> instruments are activated.</p>
 <p>The Telemetry (and Telemetry::Period) object also <span class="code">Associative</span>. This means that you can treat a Telemetry object as a read-only <span class="code">Hash</span>, with all of the data values of the instruments as keys.</p>
 <p>You can determine which instruments <span class="code">Telemetry</span> should use by setting the <span class="code">$*SAMPLER</span> dynamic variable, which is a <a href="#_type_Telemetry::Sampler.pod6">Telemetry::Sampler</a> object.</p>
 <p>Currently, the following instruments are supported by the Rakudo core:</p>
 <ul><li><p>Telemetry::Instrument::Usage</p>
</li></ul> <p>Provides (in alphabetical order): <span class="code">cpu</span>, <span class="code">cpu-sys</span>, <span class="code">cpu-user</span>, <span class="code">cpus</span>, <span class="code">id-rss</span>, <span class="code">inb</span>, <span class="code">invcsw</span>, <span class="code">is-rss</span>, <span class="code">ix-rss</span>, <span class="code">majf</span>, <span class="code">max-rss</span>, <span class="code">minf</span>, <span class="code">mrcv</span>, <span class="code">msnd</span>, <span class="code">nsig</span>, <span class="code">nswp</span>, <span class="code">volcsw</span>, <span class="code">outb</span>, <span class="code">util%</span> and <span class="code">wallclock</span>. For complete documentation of the meaning of these data values, see <a href="#_type_Telemetry::Instrument::Usage.pod6">Telemetry::Instrument::Usage</a>.</p>
 <ul><li><p>Telemetry::Instrument::Thread</p>
</li></ul> <p>Provides (in alphabetical order): <span class="code">tad</span>, <span class="code">tcd</span>, <span class="code">thid</span>, <span class="code">tjd</span>, <span class="code">tsd</span> and <span class="code">tys</span>. For complete documentation of the meaning of these data values, see <a href="#_type_Telemetry::Instrument::Thread.pod6">Telemetry::Instrument::Thread</a>.</p>
 <ul><li><p>Telemetry::Instrument::ThreadPool</p>
</li></ul> <p>Provides (in alphabetical order): <span class="code">atc</span>, <span class="code">atq</span>, <span class="code">aw</span>, <span class="code">gtc</span>, <span class="code">gtq</span>, <span class="code">gw</span>, <span class="code">s</span>, <span class="code">ttc</span>, <span class="code">ttq</span> and <span class="code">tw</span>. For complete documentation of the meaning of these data values, see <a href="#_type_Telemetry::Instrument::ThreadPool.pod6">Telemetry::Instrument::ThreadPool</a>.</p>
 <ul><li><p>Telemetry::Instrument::AdHoc</p>
</li></ul> <p>Does not provide any data by itself: one must indicate which variables are to be monitored, which will then become available as methods with the same name on the instrument. For complete documentation, see <a href="#_type_Telemetry::Instrument::AdHoc.pod6">Telemetry::Instrument::AdHoc</a>.</p>
 <a name="t201.0.1"></a><h2 id="_type_Telemetry.pod6-routine_T">201.0.1 routine T</h2>
 <pre class="code">sub T()</pre>
 <p>Shortcut for <span class="code">Telemetry.new</span>. It is exported by default. Since the <span class="code">Telemetry</span> class also provides an <span class="code">Associative</span> interface, one can easily interpolate multiple values in a single statement:</p>
 <pre class="code">use Telemetry; 
 say &quot;Used {T&lt;max-rss cpu&gt;} (KiB CPU) so far&quot;; 
</pre>
 <a name="t201.0.2"></a><h2 id="_type_Telemetry.pod6-routine_snap">201.0.2 routine snap</h2>
 <pre class="code">multi sub snap(--&gt; Nil)
multi sub snap(@s --&gt; Nil)</pre>
 <p>The <span class="code">snap</span> subroutine is shorthand for creating a new <span class="code">Telemetry</span> object and pushing it to an array for later processing. It is exported by default.</p>
 <pre class="code">use Telemetry; 
 my @t; 
 for ^5 { 
     snap(@t); 
     # do some stuff 
     LAST snap(@t); 
 } 
</pre>
 <p>If no array is specified, it will use an internal array for convenience.</p>
 <a name="t201.0.3"></a><h2 id="_type_Telemetry.pod6-routine_snapper">201.0.3 routine snapper</h2>
 <pre class="code">sub snapper($sleep = 0.1, :$stop, :$reset --&gt; Nil)</pre>
 <p>The <span class="code">snapper</span> routine starts a separate thread that will call <span class="code">snap</span> repeatedly until the end of program. It is exported by default.</p>
 <p>By default, it will call <span class="code">snap</span> every <b>0.1</b> second. The only positional parameter is taken to be the delay between <span class="code">snap</span>s.</p>
 <p>Please see the <a href="#_routine_snapper.pod6">snapper</a> module for externally starting a snapper without having to change the code. Simply adding <span class="code">-Msnapper</span> as a command line parameter, will then start a snapper for you.</p>
 <a name="t201.0.4"></a><h2 id="_type_Telemetry.pod6-routine_periods">201.0.4 routine periods</h2>
 <pre class="code">multi sub periods( --&gt; Seq)
multi sub periods(@s --&gt; Seq)</pre>
 <p>The <span class="code">periods</span> subroutine processes an array of <span class="code">Telemetry</span> objects and generates a <a href="#_type_Seq.pod6">Seq</a> of <span class="code">Telemetry::Period</span> objects out of that. It is exported by default.</p>
 <pre class="code">.&lt;cpu wallclock&gt;.say for periods(@t); 
 
 # OUTPUT: 
 # ==================== 
 # (164 / 160) 
 # (23 / 21) 
 # (17 / 17) 
 # (15 / 16) 
 # (29 / 28) 
</pre>
 <p>If no array is specified, it will use the internal array of <span class="code">snap</span> without parameters <b>and</b> will reset that array upon completion (so that new <span class="code">snap</span>s can be added again).</p>
 <pre class="code">use Telemetry; 
 for ^5 { 
     snap; 
     LAST snap; 
 } 
 say .&lt;cpu wallclock&gt;.join(&quot; / &quot;) for periods; 
 
 # OUTPUT: 
 # ==================== 
 # 172 / 168 
 # 24 / 21 
 # 17 / 18 
 # 17 / 16 
 # 27 / 27 
</pre>
 <p>If only one <span class="code">snap</span> was done, another <span class="code">snap</span> will be done to create at least one <span class="code">Telemetry::Period</span> object.</p>
 <a name="t201.0.5"></a><h2 id="_type_Telemetry.pod6-routine_report">201.0.5 routine report</h2>
 <pre class="code">multi sub report(:@columns, :$legend, :$header-repeat, :$csv, :@format)</pre>
 <p>The <span class="code">report</span> subroutine generates a report about an array of <span class="code">Telemetry</span> objects. It is exported by default. These can have been created by regularly calling <span class="code">snap</span>, or by having a <a href="#_routine_snapper.pod6">snapper</a> running. If no positional parameter is used, it will assume the internal array to which the parameterless <span class="code">snap</span> pushes.</p>
 <p>Below are the additional named parameters of <span class="code">report</span>.</p>
 <ul><li><p><span class="code">:columns</span></p>
</li></ul> <p>Specify the names of the columns to be included in the report. Names can be specified with the column name (e.g. <span class="code">gw</span>). If not specified, defaults to what is specified in the <span class="code">RAKUDO_REPORT_COLUMNS</span> environment variable. If that is not set either, defaults to:</p>
 <pre class="code">wallclock util% max-rss gw gtc tw ttc aw atc 
</pre>
 <ul><li><p><span class="code">:header-repeat</span></p>
</li></ul> <p>Specifies after how many lines the header should be repeated in the report. If not specified, defaults to what is specified in the <span class="code">RAKUDO_REPORT_HEADER_REPEAT</span> environment variable. If that is not set either, defaults to 32.</p>
 <ul><li><p><span class="code">:legend</span></p>
</li></ul> <p>Specifies whether a legend should be added to the report. If not specified, defaults to what is specified in the <span class="code">RAKUDO_REPORT_LEGEND</span> environment variable. If that is not set either, defaults to True.</p>
 <p>If there are <span class="code">snap</span>s available in the internal array at the end of the program, then <span class="code">report</span> will be automatically generated and printed on <span class="code">STDERR</span>.</p>
 <a name="t201.0.6"></a><h2 id="_type_Telemetry.pod6-module_snapper">201.0.6 module snapper</h2>
 <p>Start a thread taking repeated system state snapshots.</p>
 <p>This module contains no subroutines or methods or anything. It is intended as a shortcut for starting the <a href="#_routine_snapper.pod6">snapper</a> subroutine of the <span class="code">Telemetry</span> module, allowing taking snapshots of the execution of a program without needing to change the program. Simple loading the module with <span class="code">-Msnapper</span> will do all that is needed to start the snapper, and have a report printed on STDERR upon completion of the program.</p>
 <p>The <span class="code">RAKUDO_SNAPPER</span> environment variable can be set to indicate the time between snapshots. If not specified, it will default to <b>0.1</b> seconds.</p>
</div>
<!-- /type/Telemetry/Instrument/Thread.pod6 --><div class="pod-body"><a id="_type_Telemetry_Instrument_Thread.pod6"></a><a name="t202"><h1 class="title">202 class Telemetry::Instrument::Thread</h1></a> <p class="subtitle">Instrument for collecting Thread data</p> <pre class="code">class Telemetry::Instrument::Thread { }</pre>
 <p><b>Note: </b> This class is a Rakudo-specific feature and not standard Perl 6.</p>
 <p>Objects of this class are generally not created by themselves, but rather through making a <a href="#_type_Telemetry.pod6">snap</a>shot.</p>
 <p>This class provides the following data points (in alphabetical order):</p>
 <ul><li><p>tad</p>
</li></ul> <p>The number of threads that ended with an exception (<b>t</b>hreads-<b>a</b>borte<b>d</b>).</p>
 <ul><li><p>tcd</p>
</li></ul> <p>The number of threads that completed without any problem (<b>t</b>hreads-<b>c</b>omplete<b>d</b>).</p>
 <ul><li><p>thid</p>
</li></ul> <p>Highest OS thread ID seen (<b>t</b>hread-<b>h</b>ighest-<b>id</b>).</p>
 <ul><li><p>tjd</p>
</li></ul> <p>The number of threads that were joined (<b>t</b>hreads-<b>j</b>oine<b>d</b>).</p>
 <ul><li><p>tsd</p>
</li></ul> <p>The number of threads that were started (<b>t</b>hreads-<b>s</b>tarte<b>d</b>).</p>
 <ul><li><p>tyd</p>
</li></ul> <p>The number of times a thread was yielded (<b>t</b>hreads-<b>y</b>ielde<b>d</b>).</p>
</div>
<!-- /type/Telemetry/Instrument/Usage.pod6 --><div class="pod-body"><a id="_type_Telemetry_Instrument_Usage.pod6"></a><a name="t203"><h1 class="title">203 class Telemetry::Instrument::Usage</h1></a> <p class="subtitle">Instrument for collecting getrusage data</p> <pre class="code">class Telemetry::Instrument::Usage { }</pre>
 <p><b>Note: </b> This class is a Rakudo-specific feature and not standard Perl 6.</p>
 <p>Objects of this class are generally not created by themselves, but rather through making a <a href="#_type_Telemetry.pod6">snap</a>shot.</p>
 <a name="t203.0.1"></a><h2 id="_type_Telemetry_Instrument_Usage.pod6-Useful_readings">203.0.1 Useful readings</h2>
 <p>This class provides the following generally usable readings (in alphabetical order):</p>
 <ul><li><p>cpu</p>
</li></ul> <p>The total amount of CPU time (in microseconds), essentially the sum of <span class="code">cpu-user</span> and <span class="code">cpu-sys</span>.</p>
 <ul><li><p>cpu-sys</p>
</li></ul> <p>The number of microseconds of CPU used by the system.</p>
 <ul><li><p>cpu-user</p>
</li></ul> <p>The number of microseconds of CPU used by the user program.</p>
 <ul><li><p>cpus</p>
</li></ul> <p>The number of CPU's active, essentially <span class="code">cpu</span> divided by <span class="code">wallclock</span>.</p>
 <ul><li><p>max-rss</p>
</li></ul> <p>The maximum resident set size (in KiB).</p>
 <ul><li><p>util%</p>
</li></ul> <p>Percentage of CPU utilization, essentially 100 * <span class="code">cpus</span> / number of CPU cores.</p>
 <ul><li><p>wallclock</p>
</li></ul> <p>The time the program has been executing (in microseconds).</p>
 <p>Less useful readings</p>
 <p>The following readings may or may not contain sensible information, mostly depending on hardware and OS being used. Please check your local <span class="code">getrusage</span> documentation for their exact meaning:</p>
 <pre class="code">name        getrusage struct name 
 ====        ===================== 
 max-rss     ru_maxrss 
 ix-rss      ru_ixress 
 id-rss      ru_idrss 
 is-rss      ru_isrss 
 minf        ru_minflt 
 majf        ru_majflt 
 nswp        ru_nswap 
 inb         ru_inblock 
 outb        ru_oublock 
 msnd        ru_msgsnd 
 mrcv        ru_msgrcv 
 nsig        ru_nsignals 
 volcsw      ru_nvcsw 
 invcsw      ru_nivcsw 
</pre>
</div>
<!-- /type/Telemetry/Period.pod6 --><div class="pod-body"><a id="_type_Telemetry_Period.pod6"></a><a name="t204"><h1 class="title">204 class Telemetry::Period</h1></a> <p class="subtitle">Performance data over a period</p> <pre class="code">class Telemetry::Period is Telemetry { } 
</pre>
 <p><b>Note: </b> This class is a Rakudo-specific feature and not standard Perl 6.</p>
 <pre class="code"># basic usage 
 use Telemetry; 
 my $t0 = Telemetry.new; 
 # execute some code 
 my $t1 = Telemetry.new; 
 my $period = $t1 - $t0;  # creates Telemetry::Period object 
 say &quot;Code took $period&lt;wallclock&gt; microseconds to execute&quot;; 
</pre>
 <p>A <span class="code">Telemetry::Period</span> object contains the difference between two <a href="#_type_Telemetry.pod6">Telemetry</a> objects. It is generally not created by calling .new, but it can be if needed. For all practical purposes, it is the same as the <span class="code">Telemetry</span> object, but the <b>meaning</b> of the values is different (and the values are generally much smaller, as they usually are the difference of two big values of the <span class="code">Telemetry</span> objects from which it was created).</p>
</div>
<!-- /type/Telemetry/Sampler.pod6 --><div class="pod-body"><a id="_type_Telemetry_Sampler.pod6"></a><a name="t205"><h1 class="title">205 class Telemetry::Sampler</h1></a> <p class="subtitle">Telemetry Instrument Pod</p> <pre class="code">class Telemetry::Sampler { } 
</pre>
 <p><b>Note: </b> This class is a Rakudo-specific feature and not standard Perl 6.</p>
 <pre class="code">use Telemetry; 
 $*SAMPLER.set-instruments(&lt;Usage ThreadPool&gt;); # default setting 
</pre>
 <p>One usually does not create any <span class="code">Telemetry::Sampler</span> objects: when the <a href="#_type_Telemetry.pod6">Telemetry</a> module is loaded, a <span class="code">Telemetry::Sampler</span> object is automatically created in the <span class="code">$*SAMPLER</span> dynamic variable.</p>
 <p>An object of the <span class="code">Telemetry::Sampler</span> class knows about which instruments to use when making a snapshot.</p>
 <a name="t205.0.1"></a><h2 id="_type_Telemetry_Sampler.pod6-method_new">205.0.1 method new</h2>
 <pre class="code">method new(Telemetry::Sampler: @instruments --&gt; Telemetry::Sampler:D)</pre>
 <p>The <span class="code">new</span> method takes a list of instruments. If no instruments are specified, then it will look at the <span class="code">RAKUDO_TELEMETRY_INSTRUMENTS</span> environment variable to find specification of instruments. If that is not available either, then <span class="code">Thread::Instrument::Usage</span> and <span class="code">Thread::Instrument::ThreadPool</span> will be assumed.</p>
 <p>Instruments can be specified by either the type object of the instrument class (e.g. <span class="code">Telemetry::Instrument::Usage</span>) or by a string, in which case it will be automatically prefixed with &quot;Telemetry::Instrument::&quot;, so &quot;Usage&quot; would be the same as <span class="code">Telemetry::Instrument::Usage</span>.</p>
 <a name="t205.0.2"></a><h2 id="_type_Telemetry_Sampler.pod6-method_set-instruments">205.0.2 method set-instruments</h2>
 <pre class="code">method set-instruments(Telemetry::Sampler:D @instruments --&gt; Nil)</pre>
 <p>Allows one to change the instruments on an existing <span class="code">Instrument::Sampler</span> object. Generally only used by calling it on the <span class="code">$*SAMPLER</span> dynamic variable. Takes the same parameters as <a href="#_routine_new.pod6">new</a>, except that specifying <b>no</b> instruments will actually remove all of the instruments, effectively blocking any snap taking.</p>
</div>
<!-- /type/Thread.pod6 --><div class="pod-body"><a id="_type_Thread.pod6"></a><a name="t206"><h1 class="title">206 class Thread</h1></a> <p class="subtitle">Concurrent execution of code (low-level)</p> <pre class="code">class Thread {}</pre>
 <p>A <a href="https://en.wikipedia.org/wiki/Thread_%28computing%29">thread</a> is a sequence of instructions that can (potentially) run in parallel to others. Class <span class="code">Thread</span> provides a bit of abstraction over threads provided by the underlying virtual machines (which in turn might or might not be operating system threads).</p>
 <p>Since threads are fairly low-level, most applications should use other primitives, like <a href="#_type_Promise.pod6-method start">start</a>, which also runs in parallel and returns a <a href="#_type_Promise.pod6">Promise</a>.</p>
 <pre class="code">use v6.c; 
 my @threads = (^10).map: { 
     Thread.start( 
         name =&gt; &quot;Sleepsorter $_&quot;, 
         sub { 
             my $rand = (^10).pick; 
             sleep $rand; 
             say $rand; 
         }, 
     ); 
 } 
 
 .finish for @threads; 
</pre>
 <p>The current thread is available in the dynamic variable <span class="code">$*THREAD</span>.</p>
 <a name="t206.1"></a><h1 id="_type_Thread.pod6-Methods">206.1 Methods</h1>
 <a name="t206.1.1"></a><h2 id="_type_Thread.pod6-method_new">206.1.1 method new</h2>
 <pre class="code">method new(:&amp;code!, Bool :$app_lifetime = False, Str :$name = '&lt;anon&gt;' --&gt; Thread:D)</pre>
 <p>Creates and returns a new <span class="code">Thread</span>, without starting it yet. <span class="code">&amp;code</span> is the code that will be run in a separate thread.</p>
 <p><span class="code">$name</span> is a user-specified string that identifies the thread.</p>
 <p>If <span class="code">$app_lifetime</span> is set to <span class="code">True</span>, then the thread is killed when the main thread of the process terminates. If set to <span class="code">False</span>, the process will only terminate when the thread has finished.</p>
 <a name="t206.1.2"></a><h2 id="_type_Thread.pod6-method_start">206.1.2 method start</h2>
 <pre class="code">method start(Thread:U: &amp;code, Bool :$app_lifetime = False, Str :$name = '&lt;anon&gt;' --&gt; Thread:D)</pre>
 <p>Creates, runs and returns a new <span class="code">Thread</span>. Note that it can (and often does) return before the thread's code has finished running.</p>
 <a name="t206.1.3"></a><h2 id="_type_Thread.pod6-method_run">206.1.3 method run</h2>
 <pre class="code">method run(Thread:D:)</pre>
 <p>Runs the thread, and returns the invocant. It is an error to run a thread that has already been started.</p>
 <a name="t206.1.4"></a><h2 id="_type_Thread.pod6-method_id">206.1.4 method id</h2>
 <pre class="code">method id(Thread:D: --&gt; Int:D)</pre>
 <p>Returns a numeric, unique thread identifier.</p>
 <a name="t206.1.5"></a><h2 id="_type_Thread.pod6-method_finish">206.1.5 method finish</h2>
 <pre class="code">method finish(Thread:D)</pre>
 <p>Waits for the thread to finish. This is called <a href="#205-method_join">join</a> in other programming systems.</p>
 <a name="t206.1.6"></a><h2 id="_type_Thread.pod6-method_join">206.1.6 method join</h2>
 <pre class="code">method join(Thread:D)</pre>
 <p>Waits for the thread to finish.</p>
 <a name="t206.1.7"></a><h2 id="_type_Thread.pod6-method_yield">206.1.7 method yield</h2>
 <pre class="code">method yield(Thread:U)</pre>
 <p>Tells the scheduler to prefer another thread for now.</p>
 <pre class="code">Thread.yield;</pre>
 <a name="t206.1.8"></a><h2 id="_type_Thread.pod6-method_app_lifetime">206.1.8 method app_lifetime</h2>
 <pre class="code">method app_lifetime(Thread:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">False</span> unless the named parameter <span class="code">:app_lifetime</span> is specifically set to <span class="code">True</span> during object creation. If the method returns <span class="code">False</span> it means that the process will only terminate when the thread has finished while <span class="code">True</span> means that the thread will be killed when the main thread of the process terminates.</p>
 <pre class="code">my $t1 = Thread.new(code =&gt; { for 1..5 -&gt; $v { say $v }});
my $t2 = Thread.new(code =&gt; { for 1..5 -&gt; $v { say $v }}, :app_lifetime);

say $t1.app_lifetime;                 # OUTPUT: «False␤»
say $t2.app_lifetime;                 # OUTPUT: «True␤»</pre>
 <a name="t206.1.9"></a><h2 id="_type_Thread.pod6-method_name">206.1.9 method name</h2>
 <pre class="code">method name(Thread:D: --&gt; Str:D)</pre>
 <p>Returns the user defined string, which can optionally be set during object creation in order to identify the <span class="code">Thread</span>, or '&lt;anon&gt;' if no such string was specified.</p>
 <pre class="code">my $t1 = Thread.new(code =&gt; { for 1..5 -&gt; $v { say $v }});
my $t2 = Thread.new(code =&gt; { for 1..5 -&gt; $v { say $v }}, name =&gt; 'my thread');

say $t1.name;                 # OUTPUT: «&lt;anon&gt;␤»
say $t2.name;                 # OUTPUT: «my thread␤»</pre>
 <a name="t206.1.10"></a><h2 id="_type_Thread.pod6-method_Numeric">206.1.10 method Numeric</h2>
 <pre class="code">method Numeric(Thread:D: --&gt; Int:D)</pre>
 <p>Returns a numeric, unique thread identifier, i.e. the same as <a href="#205-method_id">id</a>.</p>
 <a name="t206.1.11"></a><h2 id="_type_Thread.pod6-method_Str">206.1.11 method Str</h2>
 <pre class="code">method Str(Thread:D: --&gt; Str:D)</pre>
 <p>Returns a string which contains the invocants <a href="#205-method_id">thread id</a> and <a href="#205-method_name">name</a>.</p>
 <pre class="code">my $t = Thread.new(code =&gt; { for 1..5 -&gt; $v { say $v }}, name =&gt; 'calc thread');
say $t.Str;                           # OUTPUT: «Thread&lt;3&gt;(calc thread)␤»</pre>
 <a name="t206.1.12"></a><h2 id="_type_Thread.pod6-method_is-initial-thread">206.1.12 method is-initial-thread</h2>
 <pre class="code">method is-initial-thread(--&gt; Bool)</pre>
 <p>Returns a Bool indicating whether the current thread (if called as a class method) or the Thread object on which it is called, is the initial thread the program started on.</p>
 <pre class="code">say Thread.is-initial-thread;    # True if this is the initial thread
say $*THREAD.is-initial-thread;  # True if $*THREAD is the initial thread</pre>
 <p>Please note there is no guarantee that this is actually the main thread from the OS's point of view. Also note that if you need this other than from a pure introspection / debugging point of view, that there are probably better ways to achieve what you're trying to achieve.</p>
 <a name="t206.2"></a><h1 id="_type_Thread.pod6-Routines">206.2 Routines</h1>
 <a name="t206.2.1"></a><h2 id="_type_Thread.pod6-sub_full-barrier">206.2.1 sub full-barrier</h2>
 <pre class="code">sub full-barrier()</pre>
 <p>Performs a full memory barrier, preventing re-ordering of reads/writes. Required for implementing some lock-free data structures and algorithms.</p>
</div>
<!-- /type/ThreadPoolScheduler.pod6 --><div class="pod-body"><a id="_type_ThreadPoolScheduler.pod6"></a><a name="t207"><h1 class="title">207 class ThreadPoolScheduler</h1></a> <p class="subtitle">Scheduler that distributes work among a pool of threads</p> <pre class="code">class ThreadPoolScheduler does Scheduler {} 
</pre>
 <p>The <span class="code">ThreadPoolScheduler</span> has a range of number of threads that it maintains, and it distributes work among those threads. When the upper limit of threads isn't reached yet, and there is work pending, it spawns new threads to handle the work.</p>
 <a name="t207.1"></a><h1 id="_type_ThreadPoolScheduler.pod6-Methods">207.1 Methods</h1>
 <a name="t207.1.1"></a><h2 id="_type_ThreadPoolScheduler.pod6-new">207.1.1 new</h2>
 <pre class="code">method new(Int :$initial_threads = 0, Int :$max_threads=16)</pre>
 <p>Creates a new <span class="code">ThreadPoolScheduler</span> object with the given range of threads to maintain.</p>
</div>
<!-- /type/UInt.pod6 --><div class="pod-body"><a id="_type_UInt.pod6"></a><a name="t208"><h1 class="title">208 subset UInt</h1></a> <p class="subtitle">Unsigned Integer (arbitrary-precision)</p> <p>The <span class="code">UInt</span> is defined as a subset of <span class="code">Int</span>:</p>
 <pre class="code">my subset UInt of Int where {not .defined or $_ &gt;= 0}; 
</pre>
 <p>Consequently, it cannot be instantiated or subclassed; however, that shouldn't affect most normal uses.</p>
 <p>Some examples of its behavior and uses:</p>
 <pre class="code">my UInt $u = 0xffff_ffff_ffff_ffff_ffff_ffff_ffff_ffff; # 64-bit unsigned value
say $u.base(16); # OUTPUT: «FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF␤» (32 digits)
++$u;
say $u.base(16); # OUTPUT: «100000000000000000000000000000000␤» (33 digits!)
my Int $i = $u;
say $i.base(16); # same as above
say $u.^name;    # OUTPUT: «Int␤» - UInt is a subset, so the type is still Int.
say $i.^name;    # OUTPUT: «Int␤»
# Difference in assignment
my UInt $a = 5;  # nothing wrong
my UInt $b = -5; # Exception about failed type check
my UInt $c = 0;
--$c;            # Exception again
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $b; expected UInt but got Int (-5)␤»

# Non-assignment operations are fine
my UInt $d = 0;
say $d - 3;      # OUTPUT: «-3␤»</pre>
</div>
<!-- /type/Uni.pod6 --><div class="pod-body"><a id="_type_Uni.pod6"></a><a name="t209"><h1 class="title">209 class Uni</h1></a> <p class="subtitle">A string of Unicode codepoints</p> <pre class="code">class Uni does Positional[uint32] does Stringy { }</pre>
 <p>Unlike <a href="#_type_Str.pod6">Str</a>, which is made of Grapheme clusters, Uni is string strictly made of Unicode codepoints. That is, base characters and combining characters are separate elements of a <span class="code">Uni</span> instance.</p>
 <p><span class="code">Uni</span> presents itself with a list-like interface of integer Codepoints.</p>
 <p>Typical usage of <span class="code">Uni</span> is through one of its subclasses, <span class="code">NFC</span>, <span class="code">NFD</span>, <span class="code">NFKD</span> and <span class="code">NFKC</span>, which represent strings in one of the <a href="http://www.unicode.org/reports/tr15/">Unicode Normalization Forms</a> of the same name.</p>
 <a name="t209.1"></a><h1 id="_type_Uni.pod6-Methods">209.1 Methods</h1>
 <a name="t209.1.1"></a><h2 id="_type_Uni.pod6-method_new">209.1.1 method new</h2>
 <pre class="code">method new(*@codes --&gt; Uni:D)</pre>
 <p>Creates a new <span class="code">Uni</span> instance from the given codepoint numbers.</p>
 <a name="t209.1.2"></a><h2 id="_type_Uni.pod6-method_NFC">209.1.2 method NFC</h2>
 <pre class="code">method NFC(Uni:D: --&gt; NFC:D)</pre>
 <p>Returns a NFC (Normal Form Composed)-converted version of the invocant.</p>
 <a name="t209.1.3"></a><h2 id="_type_Uni.pod6-method_NFD">209.1.3 method NFD</h2>
 <pre class="code">method NFD(Uni:D: --&gt; NFD:D)</pre>
 <p>Returns a NFD (Normal Form Decomposed)-converted version of the invocant.</p>
 <a name="t209.1.4"></a><h2 id="_type_Uni.pod6-method_NFKC">209.1.4 method NFKC</h2>
 <pre class="code">method NFKC(Uni:D: --&gt; NFKC:D)</pre>
 <p>Returns a NFKC (Normal Form Compatibility Composed)-converted version of the invocant.</p>
 <a name="t209.1.5"></a><h2 id="_type_Uni.pod6-method_NFKD">209.1.5 method NFKD</h2>
 <pre class="code">method NFKD(Uni:D: --&gt; NFKD:D)</pre>
 <p>Returns a NFKD (Normal Form Compatibility Decomposed)-converted version of the invocant.</p>
 <a name="t209.1.6"></a><h2 id="_type_Uni.pod6-method_codes">209.1.6 method codes</h2>
 <pre class="code">method codes(Uni:D: --&gt; Int:D)</pre>
 <p>Returns the number of codepoints in the invocant.</p>
 <a name="t209.1.7"></a><h2 id="_type_Uni.pod6-method_elems">209.1.7 method elems</h2>
 <pre class="code">method elems(Uni:D: --&gt; Int:D)</pre>
 <p>Returns the number of codepoints in the invocant.</p>
</div>
<!-- /type/VM.pod6 --><div class="pod-body"><a id="_type_VM.pod6"></a><a name="t210"><h1 class="title">210 class VM</h1></a> <p class="subtitle">Perl 6 Virtual Machine related information</p> <pre class="code">class VM does Systemic { }</pre>
 <p>Built-in class for providing information about the virtual machine in which Perl 6 is running. Usually accessed through the <a href="#_language_variables.pod6-index-entry-%24*VM">$*VM</a> dynamic variable.</p>
 <a name="t210.1"></a><h1 id="_type_VM.pod6-Methods">210.1 Methods</h1>
 <a name="t210.1.1"></a><h2 id="_type_VM.pod6-method_auth">210.1.1 method auth</h2>
 <p>Instance method returning the &quot;auth&quot; (as in &quot;author&quot; or &quot;authority&quot;) of the VM object. Returns &quot;unknown&quot; if the &quot;auth&quot; could not be established.</p>
 <a name="t210.1.2"></a><h2 id="_type_VM.pod6-method_config">210.1.2 method config</h2>
 <p>Instance returning a hash with configuration information of the VM object. Subject to change without notice, but can be helpful in environments where only one type of virtual machine is in use.</p>
 <a name="t210.1.3"></a><h2 id="_type_VM.pod6-method_desc">210.1.3 method desc</h2>
 <p>Instance method returning the &quot;desc&quot; (as in &quot;description&quot;) of the VM object. Returns a <span class="code">Str</span> type object if the &quot;desc&quot; could not be established.</p>
 <a name="t210.1.4"></a><h2 id="_type_VM.pod6-method_name">210.1.4 method name</h2>
 <p>Instance method returning the name of the VM object.</p>
 <a name="t210.1.5"></a><h2 id="_type_VM.pod6-method_osname">210.1.5 method osname</h2>
 <p>Instance / Class method returning the name of the Operating System, as known by the configuration of the VM object / currently running virtual machine.</p>
 <a name="t210.1.6"></a><h2 id="_type_VM.pod6-method_precomp-ext">210.1.6 method precomp-ext</h2>
 <p>Instance method returning a string of the extension that should be used for precompiled files of the VM object.</p>
 <a name="t210.1.7"></a><h2 id="_type_VM.pod6-method_precomp-target">210.1.7 method precomp-target</h2>
 <p>Instance method returning a string of the value of the compilation target that should be used when pre-compiling source-files with the VM object.</p>
 <a name="t210.1.8"></a><h2 id="_type_VM.pod6-method_prefix">210.1.8 method prefix</h2>
 <p>Instance method returning a string of the path in which the virtual machine of the VM object is installed.</p>
 <a name="t210.1.9"></a><h2 id="_type_VM.pod6-method_signature">210.1.9 method signature</h2>
 <p>Instance method returning the signature of the VM object. Returns a <span class="code">Blob</span> type object if the signature could not be established.</p>
 <a name="t210.1.10"></a><h2 id="_type_VM.pod6-method_version">210.1.10 method version</h2>
 <p>Instance method returning the version of the VM object as a <a href="#_type_Version.pod6">Version</a> object. Returns a Version object &quot;unknown&quot; if the version could not be established.</p>
 <p>See Also: <span class="code">Systemic</span></p>
</div>
<!-- /type/Variable.pod6 --><div class="pod-body"><a id="_type_Variable.pod6"></a><a name="t211"><h1 class="title">211 class Variable</h1></a> <p class="subtitle">Object representation of a variable for use in traits</p> <pre class="code">class Variable {}</pre>
 <p>Variables have a wealth of compile-time information, but at run time, accesses to a variable usually act on the value stored inside the variable, not the variable itself. The run-time class of a variable is <a href="#_type_Scalar.pod6">Scalar</a>.</p>
 <p>Class <span class="code">Variable</span> holds the compile-time information that traits can use to introspect and manipulate variables.</p>
 <a name="t211.1"></a><h1 id="_type_Variable.pod6-Routines">211.1 Routines</h1>
 <a name="t211.1.1"></a><h2 id="_type_Variable.pod6-method_name">211.1.1 method name</h2>
 <pre class="code">method name(Variable:D: str)</pre>
 <p>Returns the name of the variable, including the sigil.</p>
 <a name="t211.1.2"></a><h2 id="_type_Variable.pod6-trait_is_default">211.1.2 <a name="906"></a>trait is default</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Variable:D, :$default!)</pre>
 <p>Sets the default value with which a variable is initialized, and to which it is reset when <a href="#_type_Nil.pod6">Nil</a> is assigned to it. Trait arguments are evaluated at compile time. Closures won't do what you expect: they are stored as is and need to be called by hand.</p>
 <pre class="code">my Int $x is default(42);
say $x;     # OUTPUT: «42␤»
$x = 5;
say $x;     # OUTPUT: «5␤»
# explicit reset:
$x = Nil;
say $x;     # OUTPUT: «42␤»</pre>
 <p>The trait <span class="code">is default</span> can be used also with subscripting things like arrays and hashes:</p>
 <pre class="code">my @array is default( 'N/A' ); 
 @array[22].say;  # OUTPUT: N/A 
 @array = Nil; 
 @array.say;      # OUTPUT: [N/A] 
 @array[4].say;   # OUTPUT: N/A 
 
 my %hash is default( 'no-value-here' ); 
 %hash&lt;non-existent-key&gt;.say; # OUTPUT: no-value-here 
 %hash&lt;foo&gt; = 'bar'; 
 %hash&lt;&gt;.say;                 # OUTPUT: {foo =&gt; bar} 
 %hash&lt;wrong-key&gt;.say;        # OUTPUT: no-value-here 
</pre>
 <a name="t211.1.3"></a><h2 id="_type_Variable.pod6-trait_is_dynamic">211.1.3 trait is dynamic</h2>
 <pre class="code">multi sub trait_mod:&lt;is&gt;(Variable:D, :$dynamic)</pre>
 <p>Marks a variable as dynamic, that is, accessible from inner dynamic scopes without being in an inner lexical scope.</p>
 <pre class="code">sub introspect() { 
     say  <b>$CALLER::x</b> ; 
 } 
 my $x  <b>is dynamic</b>  = 23; 
 introspect;         # OUTPUT: «23␤» 
 { 
     # not dynamic 
     my $x; 
     introspect()    # dies with an exception of  <a href="#_type_X::Caller::NotDynamic.pod6">type X::Caller::NotDynamic</a> 
 } 
</pre>
 <a name="t211.1.4"></a><h2 id="_type_Variable.pod6-trait_of">211.1.4 trait of</h2>
 <pre class="code">multi sub trait_mod:&lt;of&gt;(Mu:U $target, Mu:U $type)</pre>
 <p>Sets the type constraint of a container bound to a variable.</p>
 <pre class="code">my $i of Int = 42;
$i = &quot;forty plus two&quot;;
CATCH { default { say .^name, ' ', .Str } }
# OUTPUT: «X::TypeCheck::Assignment Type check failed in assignment to $i; expected Int but got Str (&quot;forty plus two&quot;)␤»</pre>
</div>
<!-- /type/Version.pod6 --><div class="pod-body"><a id="_type_Version.pod6"></a><a name="t212"><h1 class="title">212 class Version</h1></a> <p class="subtitle">Module version descriptor</p> <pre class="code">class Version { }</pre>
 <p>Version objects identify version of software components (and potentially other entities). Perl 6 uses them internally for versioning modules.</p>
 <p><span class="indexed"><a id="907" name="v (version)"></a></span></p>
 <p>A version consists of several parts, which are visually represented by joining them with a dot. A version part is usually an integer, a string like <span class="code">alpha</span>, or a <a href="#_type_Whatever.pod6">Whatever</a>-star <span class="code">*</span>. The latter is used to indicate that any version part is acceptable in another version that is compared to the current one.</p>
 <pre class="code">say v1.0.1 ~~ v1.*;     # OUTPUT: «True␤»</pre>
 <p>Version literals can only contain numeric and <a href="#_type_Whatever.pod6">Whatever</a> parts. They start with a lower-case <span class="code">v</span>, and are followed by at least one part. Multiple parts are separate with a dot <span class="code">.</span>. A trailing <span class="code">+</span> indicates that higher versions are OK in comparisons:</p>
 <pre class="code">say v1.2 ~~ v1.0;       # OUTPUT: «False␤»
say v1.2 ~~ v1.0+;      # OUTPUT: «True␤»</pre>
 <p>In comparisons, early parts take precedence over later parts.</p>
 <pre class="code">say v1.2 cmp v2.1;      # OUTPUT: «Less␤»</pre>
 <p>Please note that method calls, including pseudo methods like <span class="code">WHAT</span> require version literals to be enclosed with parentheses.</p>
 <a name="t212.1"></a><h1 id="_type_Version.pod6-Methods">212.1 Methods</h1>
 <a name="t212.1.1"></a><h2 id="_type_Version.pod6-method_new">212.1.1 method new</h2>
 <pre class="code">method new(Str:D $s)</pre>
 <p>Creates a Version from a string <span class="code">$s</span>. The string is combed for the numeric, alphabetic, and wildcard components of the version object. Any characters other than alphanumerics and asterisks are assumed to be equivalent to a dot. A dot is also assumed between any adjacent numeric and alphabetic characters.</p>
 <a name="t212.1.2"></a><h2 id="_type_Version.pod6-method_parts">212.1.2 method parts</h2>
 <pre class="code">method parts(Version:D: --&gt; List:D)</pre>
 <p>Returns the list of parts that make up this Version object</p>
 <pre class="code">my $v1 = v1.0.1;
my $v2 = v1.0.1+;
say $v1.parts;                                    # OUTPUT: «(1 0 1)␤»
say $v2.parts;                                    # OUTPUT: «(1 0 1)␤»</pre>
 <a name="t212.1.3"></a><h2 id="_type_Version.pod6-method_plus">212.1.3 method plus</h2>
 <pre class="code">method plus(Version:D: --&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> if comparisons against this version allow larger versions too.</p>
 <pre class="code">my $v1 = v1.0.1;
my $v2 = v1.0.1+;
say $v1.plus;                                     # OUTPUT: «False␤»
say $v2.plus;                                     # OUTPUT: «True␤»</pre>
 <a name="t212.1.4"></a><h2 id="_type_Version.pod6-method_Str">212.1.4 method Str</h2>
 <pre class="code">method Str(Version:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the invocant.</p>
 <pre class="code">my $v1 = v1.0.1;
my $v2 = Version.new('1.0.1');
say $v1.Str;                                      # OUTPUT: «1.0.1␤»
say $v2.Str;                                      # OUTPUT: «1.0.1␤»</pre>
 <a name="t212.1.5"></a><h2 id="_type_Version.pod6-method_gist">212.1.5 method gist</h2>
 <pre class="code">method gist(Version:D: --&gt; Str:D)</pre>
 <p>Returns a string representation of the invocant, just like <a href="#211-method_Str">Str</a>, prepended with a lower-case <span class="code">v</span>.</p>
 <pre class="code">my $v1 = v1.0.1;
my $v2 = Version.new('1.0.1');
say $v1.gist;                                      # OUTPUT: «v1.0.1␤»
say $v2.gist;                                      # OUTPUT: «v1.0.1␤»</pre>
 <a name="t212.1.6"></a><h2 id="_type_Version.pod6-method_Capture">212.1.6 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
</div>
<!-- /type/Whatever.pod6 --><div class="pod-body"><a id="_type_Whatever.pod6"></a><a name="t213"><h1 class="title">213 class Whatever</h1></a> <p class="subtitle">Placeholder for an unspecified value/argument</p> <pre class="code">class Whatever { }</pre>
 <p><span class="code">Whatever</span> is a class whose objects don't really do much; it gets its semantics from other routines that accept <span class="code">Whatever</span>-objects as markers to do something special. The <span class="code">*</span> literal in term position creates a <span class="code">Whatever</span> object.</p>
 <p>Much of <span class="code">*</span>'s charm comes from <i>Whatever-currying</i>. When <span class="code">*</span> is used in term position in combination with most operators, the compiler will transform the expression into a closure of type <a href="#_type_WhateverCode.pod6">WhateverCode</a>.</p>
 <pre class="code">my $c = * + 2;          # same as   -&gt; $x { $x + 2 };
say $c(4);              # OUTPUT: «6␤»</pre>
 <p>Multiple <span class="code">*</span> in one expression generate closures with as many arguments:</p>
 <pre class="code">my $c = * + *;          # same as   -&gt; $x, $y { $x + $y }</pre>
 <p>Using <span class="code">*</span> in complex expressions will also generate closures:</p>
 <pre class="code">my $c = 4 * * + 5;      # same as   -&gt; $x { 4 * $x + 5 }</pre>
 <p>Calling a method on <span class="code">*</span> also creates a closure:</p>
 <pre class="code">&lt;a b c&gt;.map: *.uc;      # same as    &lt;a b c&gt;.map: -&gt; $char { $char.uc }</pre>
 <p>As mentioned before, not all operators and syntactic constructs curry <span class="code">*</span> (or <span class="code">Whatever</span>-stars) to <span class="code">WhateverCode</span>. In the following cases, <span class="code">*</span> will remain a <span class="code">Whatever</span> object.</p>
 <table>
<tr><th>Exception</th> <th>Example</th> <th>What it does</th></tr>
<tr><td>comma</td> <td>1, *, 2</td> <td>generates a List with a * element</td></tr>
 <tr><td>range operators</td> <td>1 .. *</td> <td>Range.new(:from(1), :to(*));</td></tr>
 <tr><td>series operator</td> <td>1 ... *</td> <td>infinite list</td></tr>
 <tr><td>assignment</td> <td>$x = *</td> <td>assign * to $x</td></tr>
 <tr><td>binding</td> <td>$x := *</td> <td>bind * to $x</td></tr>
 <tr><td>list repetition</td> <td>1 xx *</td> <td>generates an infinite list</td></tr>
</table> <p>The range operators are handled specially. They do not curry with <span class="code">Whatever</span>-stars, but they do curry with <span class="code">WhateverCode</span></p>
 <pre class="code">say (1..*).^name;       # OUTPUT: «Range␤»
say ((1..*-1)).^name;   # OUTPUT: «WhateverCode␤»</pre>
 <p>This allows all these constructs to work:</p>
 <pre class="code">.say for 1..*;          # infinite loop 
</pre>
 <p>and</p>
 <pre class="code">my @a = 1..4;
say @a[0..*];           # OUTPUT: «(1 2 3 4)␤»
say @a[0..*-2];         # OUTPUT: «(1 2 3)␤»</pre>
 <p>Because <i>Whatever-currying</i> is a purely syntactic compiler transform, you will get no runtime currying of stored <span class="code">Whatever</span>-stars into <span class="code">WhateverCode</span>s.</p>
 <pre class="code">my $x = *;
$x + 2;   # Not a closure, dies because it can't coerce $x to Numeric
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Multi::NoMatch: Cannot resolve caller Numeric(Whatever: ); none of these signatures match:␤
# (Mu:U \v: *%_)»</pre>
 <p>The use cases for stored <span class="code">Whatever</span>-stars involve those curry-exception cases mentioned above. For example, if you want an infinite series by default.</p>
 <pre class="code">my $max    = potential-upper-limit() // *; 
 my $series = known-lower-limit() ... $max; 
</pre>
 <p>A stored <span class="code">*</span> will also result in the generation of a <span class="code">WhateverCode</span> in the specific case of smart match. Note that this is not actually the stored <span class="code">*</span> which is being curried, but rather the <span class="code">*</span> on the LHS.</p>
 <pre class="code">my $constraint           = find-constraint() // *; 
 my $maybe-always-matcher = * ~~ $constraint; 
</pre>
 <p>If this hypothetical <span class="code">find-constraint</span> were to have found no constraint, <span class="code">$maybe-always-matcher</span> would evaluate to <span class="code">True</span> for anything.</p>
 <pre class="code">$maybe-always-matcher(555);      # True 
 $maybe-always-matcher(Any);      # True 
</pre>
 <a name="t213.1"></a><h1 id="_type_Whatever.pod6-Methods">213.1 Methods</h1>
 <a name="t213.1.1"></a><h2 id="_type_Whatever.pod6-method_ACCEPTS">213.1.1 method ACCEPTS</h2>
 <pre class="code">multi method ACCEPTS(Whatever:D: Mu $other)
multi method ACCEPTS(Whatever:U: Mu $other)</pre>
 <p>If the invocant is <a href="#_language_classtut.pod6-index-entry-.DEFINITE">an instance</a>, always returns <span class="code">True</span>. If the invocant is a type object, performs a typecheck.</p>
 <pre class="code">say 42 ~~ (*);       # OUTPUT: «True␤»
say 42 ~~ Whatever;  # OUTPUT: «False␤»</pre>
 <a name="t213.1.2"></a><h2 id="_type_Whatever.pod6-method_Capture">213.1.2 method Capture</h2>
 <p>Defined as:</p>
 <pre class="code">method Capture()</pre>
 <p>Throws <span class="code">X::Cannot::Capture</span>.</p>
</div>
<!-- /type/WhateverCode.pod6 --><div class="pod-body"><a id="_type_WhateverCode.pod6"></a><a name="t214"><h1 class="title">214 class WhateverCode</h1></a> <p class="subtitle">Code object constructed by Whatever-currying</p> <pre class="code">class WhateverCode is Code { }</pre>
 <p><span class="code">WhateverCode</span> objects are the result of <a href="#_type_Whatever.pod6">Whatever</a>-currying. See the <a href="#_type_Whatever.pod6">Whatever</a> documentation for details.</p>
 <p>When you wish to control how a method or function interprets any <i>Whatever stars</i>, you may use multi dispatch with <span class="code">Whatever</span> and <span class="code">WhateverCode</span> parameters to do so, as in the following example:</p>
 <pre class="code">class Cycle {
      has $.pos;
      has @.vals;
}

multi sub get-val(Cycle $c, Int $idx) {
      $c.vals[$idx % $c.vals.elems]
}

# Define what to do with a stand-alone * as the second argument
multi sub get-val(Cycle $c, Whatever $idx) {
    get-val($c, $c.pos);
}

# Define what to do with a * WhateverCode in an expression
multi sub get-val(Cycle $c, WhateverCode $idx) {
    get-val($c, $idx($c.pos));
}

my Cycle $c .= new(:pos(2), :vals(0..^10));

say get-val($c, 3);   # OUTPUT: «3␤»
say get-val($c, *);   # OUTPUT: «2␤»
say get-val($c, *-1); # OUTPUT: «1␤»</pre>
 <p>The <span class="code">WhateverCode</span> <span class="code">does</span> <a href="#_type_Callable.pod6">Callable</a> role, so it's possible to introspect the type of <span class="code">Callable</span> it contains. Continuing the previous example, we can add a multi that handles a <span class="code">WhateverCode</span> with two arguments:</p>
 <pre class="code"># Define what to do with two * in an expression 
 multi sub get-val(Cycle $c, WhateverCode $idx where { .arity == 2 }) { 
     get-val($c, $idx($c.pos, $c.vals.elems)); 
 } 
 
 say get-val($c, * + * div 2); # 2 + 10/2 = 7 
</pre>
 <p>Note, though, that subexpressions may impose their own <i>Whatever star</i> rules:</p>
 <pre class="code">my @a = (0, 1, 2); 
 say get-val($c, @a[*-1]) # 2, because the star belongs to the Array class 
</pre>
 <p>This can make the ownership of <i>Whatever stars</i> become confusing rather quickly, so be careful not to overdo it.</p>
 <p>You type-constraint using <a href="#_type_Callable.pod6">Callable</a> type to accept any <span class="code">Callable</span>, including <span class="code">WhateverCode</span>:</p>
 <pre class="code">sub run-with-rand (Callable $code) { $code(rand) };
run-with-rand *.say;           # OUTPUT: «0.773672071688484␤»
run-with-rand {.say};          # OUTPUT: «0.38673179353983␤»
run-with-rand sub { $^v.say }; # OUTPUT: «0.0589543603685792␤»</pre>
 <p>Type-constraining with <span class="code">&amp;</span>-sigiled parameter works equally well and is shorter to type:</p>
 <pre class="code">sub run-with-rand (&amp;code) { code time };</pre>
</div>
<!-- /type/WrapHandle.pod6 --><div class="pod-body"><a id="_type_WrapHandle.pod6"></a><a name="t215"><h1 class="title">215 class WrapHandle</h1></a> <p class="subtitle">Holds all information needed to unwrap a wrapped routine.</p> <p>class WrapHandle { ... }</p>
 <p><span class="code">WrapHandle</span> is created and returned by <a href="#_type_Routine.pod6-method_wrap">wrap</a>. Its only use is to unwrap wrapped routines. Either call <a href="#_type_Routine.pod6-method_unwrap">unwrap</a> on a routine object or call the method <span class="code">restore</span> on a <span class="code">WrapHandle</span> object.</p>
 <pre class="code">sub f() { say 'f was called' }
my $wrap-handle = &amp;f.wrap({ say 'before'; callsame; say 'after' });

f;
$wrap-handle.restore;
f;
# OUTPUT: «before␤f was called␤after␤f was called␤»</pre>
 <a name="t215.1"></a><h1 id="_type_WrapHandle.pod6-Methods">215.1 Methods</h1>
 <a name="t215.1.1"></a><h2 id="_type_WrapHandle.pod6-method_restore">215.1.1 method restore</h2>
 <pre class="code">method restore(--&gt; Bool:D)</pre>
 <p>Unwraps a wrapped routine and returns <span class="code">Bool::True</span> on success.</p>
</div>
<!-- /type/X/AdHoc.pod6 --><div class="pod-body"><a id="_type_X_AdHoc.pod6"></a><a name="t216"><h1 class="title">216 class X::AdHoc</h1></a> <p class="subtitle">Error with a custom error message</p> <pre class="code">class X::AdHoc is Exception { } 
</pre>
 <p><span class="code">X::AdHoc</span> is the type into which objects are wrapped if they are thrown as exceptions, but don't inherit from <a href="#_type_Exception.pod6">Exception</a>.</p>
 <p>Its benefit over returning non-<span class="code">Exception</span> objects is that it gives access to all the methods from class <a href="#_type_Exception.pod6">Exception</a>, like <span class="code">backtrace</span> and <span class="code">rethrow</span>.</p>
 <p>You can obtain the original object with the <span class="code">payload</span> method.</p>
 <pre class="code">try {
    die [404, 'File not found']; # throw non-exception object
}
print &quot;Got HTTP code &quot;,
    $!.payload[0],          # 404
    &quot; and backtrace &quot;,
    $!.backtrace;</pre>
 <p>Note that young code will often be prototyped using <span class="code">X::AdHoc</span> and then later be revised to use more specific subtypes of <span class="code">Exception</span>. As such it is usually best not to explicitly rely on receiving an <span class="code">X::AdHoc</span> – in many cases using the string returned by the <span class="code">.message</span> method, which all <span class="code">Exception</span>s must have, is preferable.</p>
 <a name="t216.1"></a><h1 id="_type_X_AdHoc.pod6-Methods">216.1 Methods</h1>
 <a name="t216.1.1"></a><h2 id="_type_X_AdHoc.pod6-method_payload">216.1.1 method payload</h2>
 <pre class="code">method payload(X::AdHoc:D)</pre>
 <p>Returns the original object which was passed to <span class="code">die</span>.</p>
</div>
<!-- /type/X/Anon/Augment.pod6 --><div class="pod-body"><a id="_type_X_Anon_Augment.pod6"></a><a name="t217"><h1 class="title">217 class X::Anon::Augment</h1></a> <p class="subtitle">Compilation error due to augmenting an anonymous package</p> <pre class="code">class X::Anon::Augment does X::Comp { }</pre>
 <p>Compile time error thrown when trying to augment an anonymous package.</p>
 <p>For example</p>
 <pre class="code">use MONKEY-TYPING; 
 augment class { } 
</pre>
 <p>Dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot augment anonymous class 
</pre>
 <a name="t217.1"></a><h1 id="_type_X_Anon_Augment.pod6-Methods">217.1 Methods</h1>
 <a name="t217.1.1"></a><h2 id="_type_X_Anon_Augment.pod6-method_package-kind">217.1.1 method package-kind</h2>
 <pre class="code">method package-kind returns Str:D</pre>
 <p>Returns the kind of package (module, class, grammar, ...) that the code tried to augment.</p>
</div>
<!-- /type/X/Anon/Multi.pod6 --><div class="pod-body"><a id="_type_X_Anon_Multi.pod6"></a><a name="t218"><h1 class="title">218 class X::Anon::Multi</h1></a> <p class="subtitle">Compilation error due to declaring an anonymous multi</p> <pre class="code">class X::Anon::Multi does X::Comp { }</pre>
 <p>Compile time error thrown when an anonymous multi is being declared.</p>
 <p>For example</p>
 <pre class="code">multi method () { } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot put multi on anonymous method 
</pre>
 <a name="t218.1"></a><h1 id="_type_X_Anon_Multi.pod6-Methods">218.1 Methods</h1>
 <a name="t218.1.1"></a><h2 id="_type_X_Anon_Multi.pod6-method_multiness">218.1.1 method multiness</h2>
 <pre class="code">method multiness(--&gt; Str:D)</pre>
 <p>Returns a string describing the multiness that the original code used, for example <span class="code">&quot;multi&quot;</span> or <span class="code">&quot;proto&quot;</span>.</p>
 <a name="t218.1.2"></a><h2 id="_type_X_Anon_Multi.pod6-method_routine-type">218.1.2 method routine-type</h2>
 <pre class="code">method routine-type(--&gt; Str:D)</pre>
 <p>Returns a string describing the type of routine that was declared, for example <span class="code">&quot;sub&quot;</span> or <span class="code">&quot;method&quot;</span>.</p>
</div>
<!-- /type/X/Assignment/RO.pod6 --><div class="pod-body"><a id="_type_X_Assignment_RO.pod6"></a><a name="t219"><h1 class="title">219 class X::Assignment::RO</h1></a> <p class="subtitle">Exception thrown when trying to assign to something read-only</p> <pre class="code">class X::Assignment::RO is Exception {}</pre>
 <p>Code like</p>
 <pre class="code">sub f() { 42 };
f() = 'new value';  # throws an X::Assignment::RO
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Assignment::RO: Cannot modify an immutable Any␤»</pre>
 <p>throws an exception of type <span class="code">X::Assignment::RO</span>.</p>
 <a name="t219.1"></a><h1 id="_type_X_Assignment_RO.pod6-Methods">219.1 Methods</h1>
 <a name="t219.1.1"></a><h2 id="_type_X_Assignment_RO.pod6-method_typename">219.1.1 method typename</h2>
 <pre class="code">method typename(X::Assignment::RO:D: --&gt; Str)</pre>
 <p>Returns the type name of the value on the left-hand side</p>
</div>
<!-- /type/X/Attribute/NoPackage.pod6 --><div class="pod-body"><a id="_type_X_Attribute_NoPackage.pod6"></a><a name="t220"><h1 class="title">220 class X::Attribute::NoPackage</h1></a> <p class="subtitle">Compilation error due to declaring an attribute outside of a package</p> <pre class="code">class X::Attribute::NoPackage does X::Comp { }</pre>
 <p>Compile time error thrown when an attribute is declared where it does not make sense (for example in the mainline).</p>
 <p>For example</p>
 <pre class="code">has $.x; 
</pre>
 <p>Dies with</p>
 <pre class="code">===SORRY!=== 
 You cannot declare attribute '$.x' here; maybe you'd like a class or a role? 
</pre>
 <a name="t220.1"></a><h1 id="_type_X_Attribute_NoPackage.pod6-Methods">220.1 Methods</h1>
 <a name="t220.1.1"></a><h2 id="_type_X_Attribute_NoPackage.pod6-method_name">220.1.1 method name</h2>
 <pre class="code">method name(--&gt; Str:D)</pre>
 <p>Returns the name of the attribute</p>
</div>
<!-- /type/X/Attribute/Package.pod6 --><div class="pod-body"><a id="_type_X_Attribute_Package.pod6"></a><a name="t221"><h1 class="title">221 class X::Attribute::Package</h1></a> <p class="subtitle">Compilation error due to declaring an attribute in an ineligible package</p> <pre class="code">class X::Attribute::Package does X::Comp { }</pre>
 <p>Compile time error, thrown when the compiler encounters an attribute declaration inside a package that does not support attributes.</p>
 <p>For example</p>
 <pre class="code">module A { has $.x } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 A module cannot have attributes, but you tried to declare '$.x' 
</pre>
 <a name="t221.1"></a><h1 id="_type_X_Attribute_Package.pod6-Methods">221.1 Methods</h1>
 <a name="t221.1.1"></a><h2 id="_type_X_Attribute_Package.pod6-method_name">221.1.1 method name</h2>
 <pre class="code">method name(--&gt; Str:D)</pre>
 <p>Returns the name of the attribute that triggered this error.</p>
 <a name="t221.1.2"></a><h2 id="_type_X_Attribute_Package.pod6-method_package-kind">221.1.2 method package-kind</h2>
 <pre class="code">method package-kind(--&gt; Str:D)</pre>
 <p>Returns the kind of package (package, module) that doesn't support attributes.</p>
</div>
<!-- /type/X/Attribute/Undeclared.pod6 --><div class="pod-body"><a id="_type_X_Attribute_Undeclared.pod6"></a><a name="t222"><h1 class="title">222 class X::Attribute::Undeclared</h1></a> <p class="subtitle">Compilation error due to an undeclared attribute</p> <pre class="code">class X::Attribute::Undeclared is X::Undeclared { }</pre>
 <p>Thrown when code refers to an attribute that has not been declared.</p>
 <p>For example the code</p>
 <pre class="code">class A { method m { $!notthere } } 
</pre>
 <p>Produces the error</p>
 <pre class="code">Attribute $!notthere not declared in class A 
</pre>
 <a name="t222.1"></a><h1 id="_type_X_Attribute_Undeclared.pod6-Methods">222.1 Methods</h1>
 <a name="t222.1.1"></a><h2 id="_type_X_Attribute_Undeclared.pod6-method_package-kind">222.1.1 method package-kind</h2>
 <p>Returns the kind of package the attribute was used in (for example <span class="code">class</span>, <span class="code">grammar</span>)</p>
 <a name="t222.1.2"></a><h2 id="_type_X_Attribute_Undeclared.pod6-method_package-name">222.1.2 method package-name</h2>
 <p>Returns the name of the package in which the offensive attribute reference was performed.</p>
</div>
<!-- /type/X/Augment/NoSuchType.pod6 --><div class="pod-body"><a id="_type_X_Augment_NoSuchType.pod6"></a><a name="t223"><h1 class="title">223 class X::Augment::NoSuchType</h1></a> <p class="subtitle">Compilation error due to augmenting a non-existing type</p> <pre class="code">class X::Augment::NoSuchType does X::Comp { }</pre>
 <p>Thrown when trying to augment a type which doesn't exist.</p>
 <p>For example</p>
 <pre class="code">use MONKEY-TYPING; 
 augment class NoSuch { } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 You tried to augment class NoSuch, but it does not exist 
</pre>
 <a name="t223.1"></a><h1 id="_type_X_Augment_NoSuchType.pod6-Methods">223.1 Methods</h1>
 <a name="t223.1.1"></a><h2 id="_type_X_Augment_NoSuchType.pod6-method_package-kind">223.1.1 method package-kind</h2>
 <pre class="code">method package-kind(--&gt; Str:D)</pre>
 <p>Returns the kind of package (class, grammar) that is being tried to augment</p>
 <a name="t223.1.2"></a><h2 id="_type_X_Augment_NoSuchType.pod6-method_package">223.1.2 method package</h2>
 <p>Returns the name that was tried to augment, but which doesn't exist.</p>
</div>
<!-- /type/X/Bind.pod6 --><div class="pod-body"><a id="_type_X_Bind.pod6"></a><a name="t224"><h1 class="title">224 class X::Bind</h1></a> <p class="subtitle">Error due to binding to something that is not a variable or container</p> <pre class="code">class X::Bind is Exception {}</pre>
 <p>If you write code like this:</p>
 <pre class="code">floor(1.1) := 42; 
</pre>
 <p>it dies with an <span class="code">X::Bind</span> exception:</p>
 <pre class="code">Cannot use bind operator with this left-hand side 
</pre>
</div>
<!-- /type/X/Bind/NativeType.pod6 --><div class="pod-body"><a id="_type_X_Bind_NativeType.pod6"></a><a name="t225"><h1 class="title">225 class X::Bind::NativeType</h1></a> <p class="subtitle">Compilation error due to binding to a natively typed variable</p> <pre class="code">class X::Bind::NativeType does X::Comp { }</pre>
 <p>Compile-time error thrown when trying to bind to a natively typed variable.</p>
 <p>Since native variables explicitly don't have the concept of a container at run time. Thus it does not make sense to support both binding and assignment, and Perl 6 supports only assignment (which makes more sense, because native types are value types). So use assignment for natively typed variables.</p>
 <p>For example the code</p>
 <pre class="code">my int $x := 3; 
</pre>
 <p>dies with</p>
 <pre class="code">Cannot bind to natively typed variable '$x'; use assignment instead 
</pre>
 <p>and can be fixed by writing it as</p>
 <pre class="code">my int $x = 3;</pre>
 <a name="t225.1"></a><h1 id="_type_X_Bind_NativeType.pod6-Methods">225.1 Methods</h1>
 <a name="t225.1.1"></a><h2 id="_type_X_Bind_NativeType.pod6-method_name">225.1.1 method name</h2>
 <pre class="code">method name(--&gt; Str:D)</pre>
 <p>Returns the name of the variable.</p>
</div>
<!-- /type/X/Bind/Slice.pod6 --><div class="pod-body"><a id="_type_X_Bind_Slice.pod6"></a><a name="t226"><h1 class="title">226 class X::Bind::Slice</h1></a> <p class="subtitle">Error due to binding to a slice</p> <pre class="code">class X::Bind::Slice is Exception {}</pre>
 <p>When you try to bind to an array or hash slice:</p>
 <pre class="code">my @a; @a[0, 1] := [42];
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Bind::Slice: Cannot bind to Array slice␤»</pre>
 <p>and</p>
 <pre class="code">my %h; %h&lt;a b&gt; := {};
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Bind::Slice: Cannot bind to Hash slice␤»</pre>
 <p>you get an exception of type <span class="indexed"><a id="908" name="">::Bind::Slice</a></span></p>
 <a name="t226.1"></a><h1 id="_type_X_Bind_Slice.pod6-Methods">226.1 Methods</h1>
 <a name="t226.1.1"></a><h2 id="_type_X_Bind_Slice.pod6-method_type">226.1.1 method type</h2>
 <pre class="code">method type(X::Bind::Slice:D:)</pre>
 <p>returns the type object of the thing that you tried to slice-bind, for example <a href="#_type_Array.pod6">Array</a>, <a href="#_type_List.pod6">List</a> or <a href="#_type_Hash.pod6">Hash</a>.</p>
</div>
<!-- /type/X/Caller/NotDynamic.pod6 --><div class="pod-body"><a id="_type_X_Caller_NotDynamic.pod6"></a><a name="t227"><h1 class="title">227 class X::Caller::NotDynamic</h1></a> <p class="subtitle">Error while trying to access a non dynamic variable through CALLER</p> <pre class="code">class X::Caller::NotDynamic is Exception { }</pre>
 <p>Thrown when trying to access a non dynamic variable through CALLER</p>
 <p>A typical error message is</p>
 <pre class="code">Cannot access '$x' through CALLER, because it is not declared as dynamic 
</pre>
 <a name="t227.1"></a><h1 id="_type_X_Caller_NotDynamic.pod6-Methods">227.1 Methods</h1>
 <a name="t227.1.1"></a><h2 id="_type_X_Caller_NotDynamic.pod6-method_symbol">227.1.1 method symbol</h2>
 <p>Returns the name of the symbol that was passed to CALLER.</p>
</div>
<!-- /type/X/Channel/ReceiveOnClosed.pod6 --><div class="pod-body"><a id="_type_X_Channel_ReceiveOnClosed.pod6"></a><a name="t228"><h1 class="title">228 class X::Channel::ReceiveOnClosed</h1></a> <p class="subtitle">Error due to calling receive on a closed channel</p> <pre class="code">class X::Channel::ReceiveOnClosed {}</pre>
 <p>This exception is thrown when a calling <span class="code">receive</span> on a <a href="#_type_Channel.pod6">Channel</a> that has been closed:</p>
 <pre class="code">my $s = Channel.new;
$s.close;
$s.receive;     # Cannot receive a message on a closed channel
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Channel::ReceiveOnClosed: Cannot receive a message on a closed channel␤»</pre>
 <a name="t228.1"></a><h1 id="_type_X_Channel_ReceiveOnClosed.pod6-Methods">228.1 Methods</h1>
 <a name="t228.1.1"></a><h2 id="_type_X_Channel_ReceiveOnClosed.pod6-method_channel">228.1.1 method channel</h2>
 <pre class="code">method Channel(X::Channel::ReceiveOnClosed:D: --&gt; Channel:D)</pre>
 <p>Returns the Channel object on which the <span class="code">receive</span> method was called.</p>
</div>
<!-- /type/X/Channel/SendOnClosed.pod6 --><div class="pod-body"><a id="_type_X_Channel_SendOnClosed.pod6"></a><a name="t229"><h1 class="title">229 class X::Channel::SendOnClosed</h1></a> <p class="subtitle">Error due to calling send on a closed channel</p> <pre class="code">class X::Channel::SendOnClosed {}</pre>
 <p>This exception is thrown when a calling <span class="code">send</span> on a <a href="#_type_Channel.pod6">Channel</a> that has been closed:</p>
 <pre class="code">my $s = Channel.new;
$s.close;
$s.send(42);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Channel::SendOnClosed: Cannot send a message on a closed channel␤»</pre>
 <a name="t229.1"></a><h1 id="_type_X_Channel_SendOnClosed.pod6-Methods">229.1 Methods</h1>
 <a name="t229.1.1"></a><h2 id="_type_X_Channel_SendOnClosed.pod6-method_channel">229.1.1 method channel</h2>
 <pre class="code">method Channel(X::Channel::SendOnClosed:D: --&gt; Channel:D)</pre>
 <p>Returns the Channel object on which the <span class="code">send</span> method was called.</p>
</div>
<!-- /type/X/Comp.pod6 --><div class="pod-body"><a id="_type_X_Comp.pod6"></a><a name="t230"><h1 class="title">230 role X::Comp</h1></a> <p class="subtitle">Common role for compile-time errors</p> <pre class="code">role X::Comp is Exception { }</pre>
 <p>Common role for compile-time errors.</p>
 <p>Note that since the backtrace of a compile time error generally shows routines from the compiler, not from user-space programs, the <a href="#_type_Backtrace.pod6">Backtrace</a> returned from the <a href="#_routine_backtrace.pod6">backtrace</a> method is not very informative. Instead the exception carries its own <span class="code">filename</span>, <span class="code">line</span> and <span class="code">column</span> attributes and public accessors.</p>
 <p>If an error occurs while creating an object (like a class or routine) at compile time, generally the exception associated with it does not hold a reference to the object (for example a class would not be fully composed, and thus not usable). In those cases the name of the would-be-created object is included in the error message instead.</p>
 <a name="t230.1"></a><h1 id="_type_X_Comp.pod6-Methods">230.1 Methods</h1>
 <a name="t230.1.1"></a><h2 id="_type_X_Comp.pod6-method_filename">230.1.1 method filename</h2>
 <p>The filename in which the compilation error occurred</p>
 <a name="t230.1.2"></a><h2 id="_type_X_Comp.pod6-method_line">230.1.2 method line</h2>
 <p>The line number in which the compilation error occurred.</p>
 <a name="t230.1.3"></a><h2 id="_type_X_Comp.pod6-method_column">230.1.3 method column</h2>
 <p>The column number of location where the compilation error occurred. (Rakudo does not implement that yet).</p>
</div>
<!-- /type/X/Composition/NotComposable.pod6 --><div class="pod-body"><a id="_type_X_Composition_NotComposable.pod6"></a><a name="t231"><h1 class="title">231 class X::Composition::NotComposable</h1></a> <p class="subtitle">Compilation error due to composing an ineligible type</p> <pre class="code">class X::Composition::NotComposable is Exception { }</pre>
 <p>Thrown when trying to compose a type into a target type, but the composer type cannot be used for composition (roles and enums are generally OK).</p>
 <p>For example</p>
 <pre class="code">class A { } 
 class B does A { } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 ␤A is not composable, so B cannot compose it 
</pre>
 <p>because <span class="code">does</span> is reserved for role composition, and <span class="code">A</span> is not a role, nor something that knows how to turn into a role.</p>
 <p>The fix is to either make <span class="code">A</span> a role, or use inheritance (<span class="code">class B is A { }</span>) instead.</p>
 <a name="t231.1"></a><h1 id="_type_X_Composition_NotComposable.pod6-Methods">231.1 Methods</h1>
 <a name="t231.1.1"></a><h2 id="_type_X_Composition_NotComposable.pod6-method_target-name">231.1.1 method target-name</h2>
 <pre class="code">method target-name(--&gt; Str:D)</pre>
 <p>Returns the name of the type that should be composed, but failed.</p>
 <a name="t231.1.2"></a><h2 id="_type_X_Composition_NotComposable.pod6-method_composer">231.1.2 method composer</h2>
 <pre class="code">method composer(--&gt; Mu)</pre>
 <p>Returns the type that should be composed into the target, but which isn't a role.</p>
</div>
<!-- /type/X/Constructor/Positional.pod6 --><div class="pod-body"><a id="_type_X_Constructor_Positional.pod6"></a><a name="t232"><h1 class="title">232 class X::Constructor::Positional</h1></a> <p class="subtitle">Error due to passing positional arguments to a default constructor</p> <pre class="code">class X::Constructor::Positional is Exception { }</pre>
 <p>Thrown from <a href="#_type_Mu.pod6-method_new">Mu.new</a> when positional arguments are passed to it.</p>
 <p>For example</p>
 <pre class="code">class A { };
A.new(2, 3);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Constructor::Positional: Default constructor for 'A' only takes named arguments␤»</pre>
</div>
<!-- /type/X/ControlFlow.pod6 --><div class="pod-body"><a id="_type_X_ControlFlow.pod6"></a><a name="t233"><h1 class="title">233 class X::ControlFlow</h1></a> <p class="subtitle">Error due to calling a loop control command in an ineligible scope</p> <pre class="code">class X::ControlFlow is Exception { }</pre>
 <p>Thrown when a control flow construct (such as <span class="code">next</span> or <span class="code">redo</span>) is called outside the dynamic scope of an enclosing construct that is supposed to catch them.</p>
 <p>For example</p>
 <pre class="code">last;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::ControlFlow: last without loop construct␤»</pre>
 <a name="t233.1"></a><h1 id="_type_X_ControlFlow.pod6-Methods">233.1 Methods</h1>
 <a name="t233.1.1"></a><h2 id="_type_X_ControlFlow.pod6-method_illegal">233.1.1 method illegal</h2>
 <pre class="code">method illegal returns Str:D</pre>
 <p>Returns the name of the control flow command that was called.</p>
 <a name="t233.1.2"></a><h2 id="_type_X_ControlFlow.pod6-method_enclosing">233.1.2 method enclosing</h2>
 <pre class="code">method enclosing returns Str:D</pre>
 <p>Returns the name of the missing enclosing construct.</p>
</div>
<!-- /type/X/ControlFlow/Return.pod6 --><div class="pod-body"><a id="_type_X_ControlFlow_Return.pod6"></a><a name="t234"><h1 class="title">234 class X::ControlFlow::Return</h1></a> <p class="subtitle">Error due to calling return outside a routine</p> <pre class="code">class X::ControlFlow::Return is X::ControlFlow { }</pre>
 <p>Thrown when a <span class="code">return</span> is called from outside a routine.</p>
 <pre class="code">return;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::ControlFlow::Return: Attempt to return outside of any Routine␤»</pre>
</div>
<!-- /type/X/DateTime/TimezoneClash.pod6 --><div class="pod-body"><a id="_type_X_DateTime_TimezoneClash.pod6"></a><a name="t235"><h1 class="title">235 class X::DateTime::TimezoneClash</h1></a> <p class="subtitle">Error due to using both timezone offset and :timezone</p> <pre class="code">class X::DateTime::TimezoneClash does X::Temporal is Exception { } 
</pre>
 <p>This exception is thrown when code tries to create a <span class="code">DateTime</span> object specifying both a timezone offset and the named argument <span class="code">:timezone</span>.</p>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200');                   # works
say DateTime.new('2015-12-24T12:23:00', timezone =&gt; 7200);      # works</pre>
 <pre class="code">say DateTime.new('2015-12-24T12:23:00+0200', timezone =&gt; 7200); # exception 
</pre>
 <a name="t235.1"></a><h1 id="_type_X_DateTime_TimezoneClash.pod6-Methods">235.1 Methods</h1>
 <a name="t235.1.1"></a><h2 id="_type_X_DateTime_TimezoneClash.pod6-message">235.1.1 message</h2>
 <p>Returns 'DateTime.new(Str): :timezone argument not allowed with a timestamp offset'</p>
</div>
<!-- /type/X/Declaration/Scope.pod6 --><div class="pod-body"><a id="_type_X_Declaration_Scope.pod6"></a><a name="t236"><h1 class="title">236 class X::Declaration::Scope</h1></a> <p class="subtitle">Compilation error due to a declaration with an ineligible scope</p> <pre class="code">class X::Declaration::Scope does X::Comp { } 
</pre>
 <p>Compile time error thrown when a declaration does not harmonize with the declared scope.</p>
 <p>For example</p>
 <pre class="code">has sub f() { } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot use 'has' with sub declaration 
</pre>
 <a name="t236.1"></a><h1 id="_type_X_Declaration_Scope.pod6-Methods">236.1 Methods</h1>
 <a name="t236.1.1"></a><h2 id="_type_X_Declaration_Scope.pod6-method_scope">236.1.1 method scope</h2>
 <pre class="code">method scope(--&gt; Str:D)</pre>
 <p>Returns a string representation of the scope, usually the same keyword that is used for the declaration (<span class="code">&quot;my&quot;</span>, <span class="code">&quot;our&quot;</span>, <span class="code">&quot;has&quot;</span>, ...);</p>
 <a name="t236.1.2"></a><h2 id="_type_X_Declaration_Scope.pod6-method_declaration">236.1.2 method declaration</h2>
 <pre class="code">method declaration(--&gt; Str:D)</pre>
 <p>Describes the symbol that has been declared in a wrong scope.</p>
</div>
<!-- /type/X/Declaration/Scope/Multi.pod6 --><div class="pod-body"><a id="_type_X_Declaration_Scope_Multi.pod6"></a><a name="t237"><h1 class="title">237 class X::Declaration::Scope::Multi</h1></a> <p class="subtitle">Compilation error due to declaring a multi with an ineligible scope</p> <pre class="code">class X::Declaration::Scope::Multi is X::Declaration::Scope { }</pre>
 <p>Thrown when a multi is declared with an incompatible scope.</p>
 <p>For example <span class="code">our multi sub foo() { }</span> dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot use 'our' with individual multi candidates. Please declare an our-scoped proto instead 
</pre>
</div>
<!-- /type/X/Does/TypeObject.pod6 --><div class="pod-body"><a id="_type_X_Does_TypeObject.pod6"></a><a name="t238"><h1 class="title">238 class X::Does::TypeObject</h1></a> <p class="subtitle">Error due to mixing into a type object</p> <pre class="code">class X::Does::TypeObject is Exception {}</pre>
 <p>When you try to add one or more roles to a type object with <span class="code">does</span> after it has been composed, an error of type <span class="code">X::Does::TypeObject</span> is thrown:</p>
 <pre class="code">Mu does Numeric;    # Cannot use 'does' operator with a type object. 
</pre>
 <p>The correct way to apply roles to a type is at declaration time:</p>
 <pre class="code">class GrassmannNumber does Numeric { ... }; 
 role AlgebraDebugger does IO { ... }; 
 grammar IntegralParser does AlgebraParser { ... }; 
</pre>
 <p>Roles may only be runtime-mixed into defined object instances:</p>
 <pre class="code">GrassmannNumber.new does AlgebraDebugger; 
</pre>
 <p>(This restriction may be worked around by using <a href="#_language_variables.pod6-The_augment_Declarator">augment or supersede</a>, or with dark Metamodel magics, but this will likely result in a significant performance penalty.)</p>
 <a name="t238.1"></a><h1 id="_type_X_Does_TypeObject.pod6-Methods">238.1 Methods</h1>
 <a name="t238.1.1"></a><h2 id="_type_X_Does_TypeObject.pod6-method_type">238.1.1 method type</h2>
 <pre class="code">method type(X::Does::TypeObject:D: --&gt; Mu:U)</pre>
 <p>Returns the type object into which the code tried to mix in a role.</p>
</div>
<!-- /type/X/Eval/NoSuchLang.pod6 --><div class="pod-body"><a id="_type_X_Eval_NoSuchLang.pod6"></a><a name="t239"><h1 class="title">239 class X::Eval::NoSuchLang</h1></a> <p class="subtitle">Error due to specifying an unknown language for EVAL</p> <pre class="code">class X::Eval::NoSuchLang is Exception { }</pre>
 <p>Error thrown when <span class="code">EVAL($str, :$lang)</span> specifies a language that the compiler does not know how to handle.</p>
 <p>For example</p>
 <pre class="code">EVAL 'boo', lang =&gt; &quot;bar&quot;;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Eval::NoSuchLang: No compiler available for language 'bar'␤»</pre>
 <a name="t239.1"></a><h1 id="_type_X_Eval_NoSuchLang.pod6-Methods">239.1 Methods</h1>
 <a name="t239.1.1"></a><h2 id="_type_X_Eval_NoSuchLang.pod6-method_lang">239.1.1 method lang</h2>
 <pre class="code">method lang()</pre>
 <p>Returns the language that <a href="#_routine_EVAL.pod6">/routine/EVAL</a> did not know how to handle.</p>
</div>
<!-- /type/X/Export/NameClash.pod6 --><div class="pod-body"><a id="_type_X_Export_NameClash.pod6"></a><a name="t240"><h1 class="title">240 class X::Export::NameClash</h1></a> <p class="subtitle">Compilation error due to exporting the same symbol twice</p> <pre class="code">class X::Export::NameClash does X::Comp { }</pre>
 <p>Compile time error thrown when a symbol is exported twice.</p>
 <p>For example</p>
 <pre class="code">sub f() is export { }; 
 { 
     sub f() is export { } 
 } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 A symbol '&amp;f' has already been exported 
</pre>
 <a name="t240.1"></a><h1 id="_type_X_Export_NameClash.pod6-Methods">240.1 Methods</h1>
 <a name="t240.1.1"></a><h2 id="_type_X_Export_NameClash.pod6-method_symbol">240.1.1 method symbol</h2>
 <p>Returns the symbol that is exported twice.</p>
</div>
<!-- /type/X/IO.pod6 --><div class="pod-body"><a id="_type_X_IO.pod6"></a><a name="t241"><h1 class="title">241 role X::IO</h1></a> <p class="subtitle">IO related error</p> <pre class="code">role X::IO does X::OS {}</pre>
 <p>Common role for IO related errors.</p>
 <p>This role does not provide any additional methods.</p>
</div>
<!-- /type/X/IO/Chdir.pod6 --><div class="pod-body"><a id="_type_X_IO_Chdir.pod6"></a><a name="t242"><h1 class="title">242 class X::IO::Chdir</h1></a> <p class="subtitle">Error while trying to change the working directory</p> <pre class="code">class X::IO::Chdir does X::IO is Exception { } 
</pre>
 <p>Error class when a <a href="#_routine_chdir.pod6">chdir</a> call failed.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to change the working directory to '/home/other': permission denied 
</pre>
 <a name="t242.1"></a><h1 id="_type_X_IO_Chdir.pod6-Methods">242.1 Methods</h1>
 <a name="t242.1.1"></a><h2 id="_type_X_IO_Chdir.pod6-method_path">242.1.1 method path</h2>
 <p>Returns the path that was passed to the failed <span class="code">chdir</span> call.</p>
</div>
<!-- /type/X/IO/Chmod.pod6 --><div class="pod-body"><a id="_type_X_IO_Chmod.pod6"></a><a name="t243"><h1 class="title">243 class X::IO::Chmod</h1></a> <p class="subtitle">Error while trying to change file permissions</p> <pre class="code">class X::IO::Chmod does X::IO is Exception { } 
</pre>
 <p>Error class for failed <span class="code">chmod</span> calls.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to set the mode of '/home/other' to '0o777': Permission denied 
</pre>
</div>
<!-- /type/X/IO/Copy.pod6 --><div class="pod-body"><a id="_type_X_IO_Copy.pod6"></a><a name="t244"><h1 class="title">244 class X::IO::Copy</h1></a> <p class="subtitle">Error while trying to copy a file</p> <pre class="code">class X::IO::Copy does X::IO is Exception { } 
</pre>
 <p>Error class for failed file copy operations. A typical error message is</p>
 <pre class="code">Failed to copy 'source' to 'destination': permission denied 
</pre>
 <a name="t244.1"></a><h1 id="_type_X_IO_Copy.pod6-Methods">244.1 Methods</h1>
 <a name="t244.1.1"></a><h2 id="_type_X_IO_Copy.pod6-method_from">244.1.1 method from</h2>
 <p>Returns the source of the failed copy operation</p>
 <a name="t244.1.2"></a><h2 id="_type_X_IO_Copy.pod6-method_to">244.1.2 method to</h2>
 <p>Returns the destination of the failed copy operation</p>
</div>
<!-- /type/X/IO/Cwd.pod6 --><div class="pod-body"><a id="_type_X_IO_Cwd.pod6"></a><a name="t245"><h1 class="title">245 class X::IO::Cwd</h1></a> <p class="subtitle">Error while trying to determine the current working directory</p> <pre class="code">class X::IO::Cwd does X::IO is Exception { } 
</pre>
 <p>Error class when the runtime fails to determine the current directory.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to get the working directory: permission denied 
</pre>
</div>
<!-- /type/X/IO/Dir.pod6 --><div class="pod-body"><a id="_type_X_IO_Dir.pod6"></a><a name="t246"><h1 class="title">246 class X::IO::Dir</h1></a> <p class="subtitle">Error while trying to get a directory's contents</p> <pre class="code">class X::IO::Dir does X::IO is Exception { } 
</pre>
 <p>Error class that is thrown when a <a href="#_routine_dir.pod6">/routine/dir</a> call fails.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to get the directory contents of '/tmp/': No such file or directory 
</pre>
 <a name="t246.1"></a><h1 id="_type_X_IO_Dir.pod6-Methods">246.1 Methods</h1>
 <a name="t246.1.1"></a><h2 id="_type_X_IO_Dir.pod6-method_path">246.1.1 method path</h2>
 <p>Returns the path that <a href="#_routine_dir.pod6">/routine/dir</a> failed to read.</p>
</div>
<!-- /type/X/IO/DoesNotExist.pod6 --><div class="pod-body"><a id="_type_X_IO_DoesNotExist.pod6"></a><a name="t247"><h1 class="title">247 class X::IO::DoesNotExist</h1></a> <p class="subtitle">Error while doing file tests on a non existing path</p> <pre class="code">class X::IO::DoesNotExist does X::IO is Exception { } 
</pre>
 <p>Thrown when doing e.g. file test operations on a non existing path.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to find 'euler-5.p6' while trying to do '.f' 
</pre>
 <a name="t247.1"></a><h1 id="_type_X_IO_DoesNotExist.pod6-Methods">247.1 Methods</h1>
 <a name="t247.1.1"></a><h2 id="_type_X_IO_DoesNotExist.pod6-method_path">247.1.1 method path</h2>
 <p>Returns the path that was passed to the failed call.</p>
 <a name="t247.1.2"></a><h2 id="_type_X_IO_DoesNotExist.pod6-method_trying">247.1.2 method trying</h2>
 <p>Returns a string describing the failed operation.</p>
</div>
<!-- /type/X/IO/Link.pod6 --><div class="pod-body"><a id="_type_X_IO_Link.pod6"></a><a name="t248"><h1 class="title">248 class X::IO::Link</h1></a> <p class="subtitle">Error while trying to create a link</p> <pre class="code">class X::IO::Link does X::IO is Exception { } 
</pre>
 <p>Error class for failed <a href="#_routine_link.pod6">/routine/link</a> operation.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to create link called 'my-link' on target 'does-not exist': Failed to link file 
</pre>
 <a name="t248.1"></a><h1 id="_type_X_IO_Link.pod6-Methods">248.1 Methods</h1>
 <a name="t248.1.1"></a><h2 id="_type_X_IO_Link.pod6-method_target">248.1.1 method target</h2>
 <p>Returns the name of the link target, i.e. the existing file.</p>
 <a name="t248.1.2"></a><h2 id="_type_X_IO_Link.pod6-method_name">248.1.2 method name</h2>
 <p>Returns the name of the link that could not be created.</p>
</div>
<!-- /type/X/IO/Mkdir.pod6 --><div class="pod-body"><a id="_type_X_IO_Mkdir.pod6"></a><a name="t249"><h1 class="title">249 class X::IO::Mkdir</h1></a> <p class="subtitle">Error while trying to create a directory</p> <pre class="code">class X::IO::Mkdir does X::IO is Exception { } 
</pre>
 <p>Error class for failed <a href="#_routine_mkdir.pod6">mkdir</a> operations.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to create directory 'destination' with mode '0o755': File exists 
</pre>
 <a name="t249.1"></a><h1 id="_type_X_IO_Mkdir.pod6-Methods">249.1 Methods</h1>
 <a name="t249.1.1"></a><h2 id="_type_X_IO_Mkdir.pod6-method_path">249.1.1 method path</h2>
 <p>Returns the path that the <a href="#_routine_mkdir.pod6">mkdir</a> operation failed to create.</p>
 <a name="t249.1.2"></a><h2 id="_type_X_IO_Mkdir.pod6-method_mode">249.1.2 method mode</h2>
 <p>Returns the permissions mask of the failed <a href="#_routine_mkdir.pod6">mkdir</a> operation as an <a href="#_type_Int.pod6">Int</a>.</p>
</div>
<!-- /type/X/IO/Move.pod6 --><div class="pod-body"><a id="_type_X_IO_Move.pod6"></a><a name="t250"><h1 class="title">250 class X::IO::Move</h1></a> <p class="subtitle">Error while trying to move a file</p> <pre class="code">class X::IO::Move does X::IO is Exception { } 
</pre>
 <p>Error class for a failed file move operation. A typical error message is</p>
 <pre class="code">Failed to move '/tmp/alpha.p6' to 'test.p6': :createonly specified and destination exists 
</pre>
 <a name="t250.1"></a><h1 id="_type_X_IO_Move.pod6-Methods">250.1 Methods</h1>
 <a name="t250.1.1"></a><h2 id="_type_X_IO_Move.pod6-method_from">250.1.1 method from</h2>
 <p>Returns the source of the failed <a href="#_routine_move.pod6">move</a> operation</p>
 <a name="t250.1.2"></a><h2 id="_type_X_IO_Move.pod6-method_to">250.1.2 method to</h2>
 <p>Returns the destination of the failed <a href="#_routine_move.pod6">move</a> operation</p>
</div>
<!-- /type/X/IO/Rename.pod6 --><div class="pod-body"><a id="_type_X_IO_Rename.pod6"></a><a name="t251"><h1 class="title">251 class X::IO::Rename</h1></a> <p class="subtitle">Error while trying to rename a file or directory</p> <pre class="code">class X::IO::Rename does X::IO is Exception { } 
</pre>
 <p>Error class for failed file or directory rename operations. A typical error message is</p>
 <pre class="code">Failed to rename 'source' to 'destination': is a directory 
</pre>
 <a name="t251.1"></a><h1 id="_type_X_IO_Rename.pod6-Methods">251.1 Methods</h1>
 <a name="t251.1.1"></a><h2 id="_type_X_IO_Rename.pod6-method_from">251.1.1 method from</h2>
 <p>Returns the source of the failed rename operation</p>
 <a name="t251.1.2"></a><h2 id="_type_X_IO_Rename.pod6-method_to">251.1.2 method to</h2>
 <p>Returns the destination of the failed rename operation</p>
</div>
<!-- /type/X/IO/Rmdir.pod6 --><div class="pod-body"><a id="_type_X_IO_Rmdir.pod6"></a><a name="t252"><h1 class="title">252 class X::IO::Rmdir</h1></a> <p class="subtitle">Error while trying to remove a directory</p> <pre class="code">my class X::IO::Rmdir does X::IO is Exception { } 
</pre>
 <p>Error class for failed <a href="#_routine_rmdir.pod6">/routine/rmdir</a> operations.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to remove the directory 'lib': Directory not empty 
</pre>
 <a name="t252.1"></a><h1 id="_type_X_IO_Rmdir.pod6-Methods">252.1 Methods</h1>
 <a name="t252.1.1"></a><h2 id="_type_X_IO_Rmdir.pod6-method_path">252.1.1 method path</h2>
 <p>Returns the path <a href="#_routine_rmdir.pod6">/routine/rmdir</a> failed to remove</p>
</div>
<!-- /type/X/IO/Symlink.pod6 --><div class="pod-body"><a id="_type_X_IO_Symlink.pod6"></a><a name="t253"><h1 class="title">253 class X::IO::Symlink</h1></a> <p class="subtitle">Error while trying to create a symbolic link</p> <pre class="code">class X::IO::Symlink does X::IO is Exception { } 
</pre>
 <p>Error class for failed <a href="#_routine_symlink.pod6">symlink</a> creation.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to create symlink called 'euler' on target '/home/myhome/euler-1.p6': Failed to symlink file: file already exist 
</pre>
 <a name="t253.1"></a><h1 id="_type_X_IO_Symlink.pod6-Methods">253.1 Methods</h1>
 <a name="t253.1.1"></a><h2 id="_type_X_IO_Symlink.pod6-method_name">253.1.1 method name</h2>
 <p>Returns the path that <a href="#_routine_symlink.pod6">symlink</a> failed to create.</p>
 <a name="t253.1.2"></a><h2 id="_type_X_IO_Symlink.pod6-method_target">253.1.2 method target</h2>
 <p>Returns the path that <a href="#_routine_symlink.pod6">symlink</a> failed to create a link to.</p>
</div>
<!-- /type/X/IO/Unlink.pod6 --><div class="pod-body"><a id="_type_X_IO_Unlink.pod6"></a><a name="t254"><h1 class="title">254 class X::IO::Unlink</h1></a> <p class="subtitle">Error while trying to remove a file</p> <pre class="code">class X::IO::Unlink does X::IO is Exception { } 
</pre>
 <p>Error class for failed <a href="#_routine_unlink.pod6">/routine/unlink</a> operation.</p>
 <p>A typical error message is</p>
 <pre class="code">Failed to remove the file 'secret': Permission defined 
</pre>
 <a name="t254.1"></a><h1 id="_type_X_IO_Unlink.pod6-Methods">254.1 Methods</h1>
 <a name="t254.1.1"></a><h2 id="_type_X_IO_Unlink.pod6-method_path">254.1.1 method path</h2>
 <p>Returns the path that <a href="#_routine_unlink.pod6">/routine/unlink</a> failed to delete.</p>
</div>
<!-- /type/X/Inheritance/NotComposed.pod6 --><div class="pod-body"><a id="_type_X_Inheritance_NotComposed.pod6"></a><a name="t255"><h1 class="title">255 class X::Inheritance::NotComposed</h1></a> <p class="subtitle">Error due to inheriting from a type that's not composed yet</p> <pre class="code">class X::Inheritance::NotComposed is Exception {}</pre>
 <p>When you try to inherit from a class that hasn't been <a href="#_language_mop.pod6-Composition time and static reasoning">composed</a>, an exception of type X::Inheritance::NotComposed is thrown.</p>
 <p>Usually this happens because it's not yet fully parsed, or that is stubbed:</p>
 <pre class="code">class A { ... };    # literal ... for stubbing 
 class B is A { };   # dies with 
                     # 'B' cannot inherit from 'A' because 'A' 
                     # isn't compose yet (maybe it is stubbed) 
</pre>
 <p>The second common way to trigger this error is by trying to inherit from a class from within the class body.</p>
 <pre class="code">class Outer { 
     class Inner is Outer {  # dies with 
     }                       # 'Inner' cannot inherit from 'Outer' because 
 }                           # 'Outer' isn't compose yet (maybe it is 
                             # stubbed) 
</pre>
 <a name="t255.1"></a><h1 id="_type_X_Inheritance_NotComposed.pod6-Methods">255.1 Methods</h1>
 <a name="t255.1.1"></a><h2 id="_type_X_Inheritance_NotComposed.pod6-method_child-name">255.1.1 method child-name</h2>
 <pre class="code">method child-name(X::Inheritance::NotComposed:D: --&gt; Str:D)</pre>
 <p>Returns the name of the type that tries to inherit.</p>
 <a name="t255.1.2"></a><h2 id="_type_X_Inheritance_NotComposed.pod6-method_parent-name">255.1.2 method parent-name</h2>
 <pre class="code">method parent-name(X::Inheritance::NotComposed:D: --&gt; Str:D)</pre>
 <p>Returns the name of the parent type that the type tries to inherit from</p>
</div>
<!-- /type/X/Inheritance/Unsupported.pod6 --><div class="pod-body"><a id="_type_X_Inheritance_Unsupported.pod6"></a><a name="t256"><h1 class="title">256 class X::Inheritance::Unsupported</h1></a> <p class="subtitle">Compilation error due to inheriting from an ineligible type</p> <pre class="code">class X::Inheritance::Unsupported does X::Comp { }</pre>
 <p>Compile time error thrown when trying to inherit from a type that does not support inheritance (like a package or an enum).</p>
 <p>For example</p>
 <pre class="code">enum A &lt;Ax Ay&gt;; 
 class B is A { }; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 A does not support inheritance, so B cannot inherit from it 
</pre>
 <a name="t256.1"></a><h1 id="_type_X_Inheritance_Unsupported.pod6-Methods">256.1 Methods</h1>
 <a name="t256.1.1"></a><h2 id="_type_X_Inheritance_Unsupported.pod6-method_child-typename">256.1.1 method child-typename</h2>
 <p>The name of the type that tries to inherit.</p>
 <a name="t256.1.2"></a><h2 id="_type_X_Inheritance_Unsupported.pod6-method_parent">256.1.2 method parent</h2>
 <p>The type object that the child tried to inherit from.</p>
</div>
<!-- /type/X/Method/InvalidQualifier.pod6 --><div class="pod-body"><a id="_type_X_Method_InvalidQualifier.pod6"></a><a name="t257"><h1 class="title">257 class X::Method::InvalidQualifier</h1></a> <p class="subtitle">Error due to calling a qualified method from an ineligible class</p> <pre class="code">class X::Method::InvalidQualifier is Exception { }</pre>
 <p>Thrown when a method is call in the form <span class="code">$invocant.TheClass::method</span> if &lt;$invocant&gt; does not conform to <span class="code">TheClass</span>.</p>
 <p>For example</p>
 <pre class="code">1.Str::split(/a/);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Method::InvalidQualifier: Cannot dispatch to method split on Str because it is not inherited or done by Int␤»</pre>
 <a name="t257.1"></a><h1 id="_type_X_Method_InvalidQualifier.pod6-Methods">257.1 Methods</h1>
 <a name="t257.1.1"></a><h2 id="_type_X_Method_InvalidQualifier.pod6-method_method">257.1.1 method method</h2>
 <pre class="code">method method(--&gt; Str:D)</pre>
 <p>Returns the name of the (unqualified) method.</p>
 <a name="t257.1.2"></a><h2 id="_type_X_Method_InvalidQualifier.pod6-method_invocant">257.1.2 method invocant</h2>
 <p>Returns the invocant of the failed, qualified method call</p>
 <a name="t257.1.3"></a><h2 id="_type_X_Method_InvalidQualifier.pod6-method_qualifier-type">257.1.3 method qualifier-type</h2>
 <p>Returns the type by which the method call was qualified.</p>
</div>
<!-- /type/X/Method/NotFound.pod6 --><div class="pod-body"><a id="_type_X_Method_NotFound.pod6"></a><a name="t258"><h1 class="title">258 X::Method::NotFound</h1></a> <p class="subtitle">Error due to calling a method that isn't there</p> <pre class="code">class X::Method::NotFound is Exception {}</pre>
 <p>Thrown when the user tries to call a method that isn't there.</p>
 <p>For example <span class="code">1.no-such</span> dies with</p>
 <pre class="code">No such method 'no-such' for invocant of type 'Int' 
</pre>
 <a name="t258.1"></a><h1 id="_type_X_Method_NotFound.pod6-Methods">258.1 Methods</h1>
 <a name="t258.1.1"></a><h2 id="_type_X_Method_NotFound.pod6-method_method">258.1.1 method method</h2>
 <pre class="code">method method(--&gt; Str:D)</pre>
 <p>Returns the method name that was invoked.</p>
 <a name="t258.1.2"></a><h2 id="_type_X_Method_NotFound.pod6-method_typename">258.1.2 method typename</h2>
 <pre class="code">method typename returns Str:D</pre>
 <p>Returns the name of the invocant type.</p>
 <a name="t258.1.3"></a><h2 id="_type_X_Method_NotFound.pod6-method_private">258.1.3 method private</h2>
 <pre class="code">method private(--&gt; Bool:D)</pre>
 <p>Returns <span class="code">True</span> for private methods, and <span class="code">False</span> for public methods.</p>
</div>
<!-- /type/X/Method/Private/Permission.pod6 --><div class="pod-body"><a id="_type_X_Method_Private_Permission.pod6"></a><a name="t259"><h1 class="title">259 class X::Method::Private::Permission</h1></a> <p class="subtitle">Compilation error due to calling a private method without permission</p> <pre class="code">class X::Method::Private::Permission does X::Comp { }</pre>
 <p>Compile time error thrown when the code contains a call to a private method that isn't defined in the current class, and when no appropriate trusts relation is defined that permits the private method call.</p>
 <p>For example the code</p>
 <pre class="code">1!Int::foo 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot call private method 'foo' on package Int because it does not trust GLOBAL 
</pre>
 <a name="t259.1"></a><h1 id="_type_X_Method_Private_Permission.pod6-Methods">259.1 Methods</h1>
 <a name="t259.1.1"></a><h2 id="_type_X_Method_Private_Permission.pod6-method_method">259.1.1 method method</h2>
 <pre class="code">method method(--&gt; Str:D)</pre>
 <p>The name of the private method</p>
 <a name="t259.1.2"></a><h2 id="_type_X_Method_Private_Permission.pod6-method_source-package">259.1.2 method source-package</h2>
 <pre class="code">method source-package(--&gt; Mu:D)</pre>
 <p>Returns the type object that (supposedly) contains the private method.</p>
 <a name="t259.1.3"></a><h2 id="_type_X_Method_Private_Permission.pod6-method_calling-package">259.1.3 method calling-package</h2>
 <pre class="code">method calling-package(--&gt; Mu:D)</pre>
 <p>Returns the package in which the calling code is, and which the source package does not trust.</p>
</div>
<!-- /type/X/Method/Private/Unqualified.pod6 --><div class="pod-body"><a id="_type_X_Method_Private_Unqualified.pod6"></a><a name="t260"><h1 class="title">260 class X::Method::Private::Unqualified</h1></a> <p class="subtitle">Compilation error due to an unqualified private method call</p> <pre class="code">class X::Method::Private::Unqualified does X::Comp { }</pre>
 <p>Compile time error thrown when a private method call on anything but <span class="code">self</span> is not fully qualified.</p>
 <p>For example</p>
 <pre class="code">1!priv 
</pre>
 <p>dies with</p>
 <pre class="code">Private method call to priv must be fully qualified with the package containing the method 
</pre>
 <a name="t260.1"></a><h1 id="_type_X_Method_Private_Unqualified.pod6-Methods">260.1 Methods</h1>
 <a name="t260.1.1"></a><h2 id="_type_X_Method_Private_Unqualified.pod6-method_method">260.1.1 method method</h2>
 <pre class="code">method method(--&gt; Str:D)</pre>
 <p>Returns the name of the private method that triggered the error.</p>
</div>
<!-- /type/X/Mixin/NotComposable.pod6 --><div class="pod-body"><a id="_type_X_Mixin_NotComposable.pod6"></a><a name="t261"><h1 class="title">261 class X::Mixin::NotComposable</h1></a> <p class="subtitle">Error due to using an ineligible type as a mixin</p> <pre class="code">class X::Mixin::NotComposable is Exception { }</pre>
 <p>Thrown when a mixin with infix <span class="code">does</span> or <span class="code">but</span> is done with a composer that cannot be used for mixin.</p>
 <p>For example</p>
 <pre class="code">class A { };
1 but A;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Mixin::NotComposable: Cannot mix in non-composable type A into object of type Int␤»</pre>
 <p>The compile-time equivalent of this error is <a href="#_type_X::Composition::NotComposable.pod6">X::Composition::NotComposable</a></p>
 <a name="t261.1"></a><h1 id="_type_X_Mixin_NotComposable.pod6-Methods">261.1 Methods</h1>
 <a name="t261.1.1"></a><h2 id="_type_X_Mixin_NotComposable.pod6-method_target">261.1.1 method target</h2>
 <pre class="code">method target()</pre>
 <p>Returns the target of the failed mixin operation.</p>
 <a name="t261.1.2"></a><h2 id="_type_X_Mixin_NotComposable.pod6-method_rolish">261.1.2 method rolish</h2>
 <pre class="code">method rolish()</pre>
 <p>Returns the thing that could not act as a role for mixing it in</p>
</div>
<!-- /type/X/NYI.pod6 --><div class="pod-body"><a id="_type_X_NYI.pod6"></a><a name="t262"><h1 class="title">262 class X::NYI</h1></a> <p class="subtitle">Error due to use of an unimplemented feature</p> <pre class="code">class X::NYI is Exception { }</pre>
 <p>Error class for unimplemented features. <i>NYI</i> stands for <i>Not Yet Implemented</i>.</p>
 <p>If a Perl 6 compiler is not yet feature complete, it may throw an <span class="code">X::NYI</span> exception when a program uses a feature that it can detect is not yet implemented.</p>
 <p>A full-featured Perl 6 compiler must not throw such exceptions, but still provide the <span class="code">X::NYI</span> class for compatibility reasons.</p>
 <p>A typical error message is</p>
 <pre class="code">HyperWhatever is not yet implemented. Sorry. 
</pre>
 <a name="t262.1"></a><h1 id="_type_X_NYI.pod6-Methods">262.1 Methods</h1>
 <a name="t262.1.1"></a><h2 id="_type_X_NYI.pod6-method_features">262.1.1 method features</h2>
 <p>Returns a <span class="code">Str</span> describing the missing feature.</p>
</div>
<!-- /type/X/NoDispatcher.pod6 --><div class="pod-body"><a id="_type_X_NoDispatcher.pod6"></a><a name="t263"><h1 class="title">263 class X::NoDispatcher</h1></a> <p class="subtitle">Error due to calling a dispatch command in an ineligible scope</p> <pre class="code">class X::NoDispatcher is Exception { }</pre>
 <p>When a redispatcher like <span class="code">nextsame</span> is called without being in the dynamic scope of a call where a redispatch is possible, an X::NoDispatcher is thrown.</p>
 <p>For example</p>
 <pre class="code">nextsame; # In the mainline
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::NoDispatcher: nextsame is not in the dynamic scope of a dispatcher␤»</pre>
 <a name="t263.1"></a><h1 id="_type_X_NoDispatcher.pod6-Methods">263.1 Methods</h1>
 <a name="t263.1.1"></a><h2 id="_type_X_NoDispatcher.pod6-method_redispatcher">263.1.1 method redispatcher</h2>
 <pre class="code">method redispatcher(--&gt; Str:D)</pre>
 <p>Returns the name of the redispatcher function that did not succeed.</p>
</div>
<!-- /type/X/Numeric/Real.pod6 --><div class="pod-body"><a id="_type_X_Numeric_Real.pod6"></a><a name="t264"><h1 class="title">264 class X::Numeric::Real</h1></a> <p class="subtitle">Error while trying to coerce a number to a Real type</p> <pre class="code">class X::Numeric::Real is Exception { }</pre>
 <p>Occurs when an attempt to coerce a <span class="code">Numeric</span> to a <span class="code">Real</span>, <span class="code">Num</span>, <span class="code">Int</span> or <span class="code">Rat</span> fails (due to a number with a nonzero imaginary part, for instance).</p>
 <p>For example</p>
 <pre class="code">say (1+2i).Int;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Numeric::Real: Can not convert 1+2i to Int: imaginary part not zero␤»</pre>
 <a name="t264.1"></a><h1 id="_type_X_Numeric_Real.pod6-Methods">264.1 Methods</h1>
 <a name="t264.1.1"></a><h2 id="_type_X_Numeric_Real.pod6-method_source">264.1.1 method source</h2>
 <pre class="code">method source(--&gt; Numeric:D)</pre>
 <p>Returns the number that failed to coerce to <a href="#_type_Real.pod6">Real</a>.</p>
 <a name="t264.1.2"></a><h2 id="_type_X_Numeric_Real.pod6-method_target">264.1.2 method target</h2>
 <pre class="code">method target()</pre>
 <p>Returns the type to which the coercion was attempted.</p>
 <a name="t264.1.3"></a><h2 id="_type_X_Numeric_Real.pod6-method_reason">264.1.3 method reason</h2>
 <pre class="code">method reason(--&gt; Str:D)</pre>
 <p>Returns the reason that the conversion failed.</p>
</div>
<!-- /type/X/OS.pod6 --><div class="pod-body"><a id="_type_X_OS.pod6"></a><a name="t265"><h1 class="title">265 role X::OS</h1></a> <p class="subtitle">Error reported by the operating system</p> <pre class="code">role X::OS { has $.os-error }</pre>
 <p>Common role for all exceptions that are triggered by some error reported by the operating system (failed IO, system calls, fork, memory allocation).</p>
 <a name="t265.1"></a><h1 id="_type_X_OS.pod6-Methods">265.1 Methods</h1>
 <a name="t265.1.1"></a><h2 id="_type_X_OS.pod6-method_os-error">265.1.1 method os-error</h2>
 <pre class="code">method os-error(--&gt; Str:D)</pre>
 <p>Returns the error as reported by the operating system.</p>
</div>
<!-- /type/X/Obsolete.pod6 --><div class="pod-body"><a id="_type_X_Obsolete.pod6"></a><a name="t266"><h1 class="title">266 class X::Obsolete</h1></a> <p class="subtitle">Compilation error due to use of obsolete syntax</p> <pre class="code">class X::Obsolete does X::Comp { }</pre>
 <p>Syntax error thrown when the user is attempting to use constructs from other languages.</p>
 <p>For example</p>
 <pre class="code">m/abc/i 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Unsupported use of /i; in Perl 6 please use :i 
</pre>
 <a name="t266.1"></a><h1 id="_type_X_Obsolete.pod6-Methods">266.1 Methods</h1>
 <a name="t266.1.1"></a><h2 id="_type_X_Obsolete.pod6-method_old">266.1.1 method old</h2>
 <pre class="code">method old(--&gt; Str:D)</pre>
 <p>Returns a textual description of the obsolete syntax construct</p>
 <a name="t266.1.2"></a><h2 id="_type_X_Obsolete.pod6-method_replacement">266.1.2 method replacement</h2>
 <pre class="code">method replacement(--&gt; Str:D)</pre>
 <p>Describes what to use instead of the obsolete syntax.</p>
 <a name="t266.1.3"></a><h2 id="_type_X_Obsolete.pod6-method_when">266.1.3 method when</h2>
 <pre class="code">method when(--&gt; Str:D)</pre>
 <p>Returns a string describing the state of the language (usually <span class="code">&quot; in Perl 6&quot;</span>).</p>
</div>
<!-- /type/X/OutOfRange.pod6 --><div class="pod-body"><a id="_type_X_OutOfRange.pod6"></a><a name="t267"><h1 class="title">267 class X::OutOfRange</h1></a> <p class="subtitle">Error due to indexing outside of an allowed range</p> <pre class="code">class X::OutOfRange is Exception { }</pre>
 <p>General error when something (for example an array index) is out of an allowed range.</p>
 <p>For example</p>
 <pre class="code">say 42[2];
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::OutOfRange: Index out of range. Is: 2, should be in 0..0␤»</pre>
 <p>since scalars generally act as a one-element list.</p>
 <a name="t267.1"></a><h1 id="_type_X_OutOfRange.pod6-Methods">267.1 Methods</h1>
 <a name="t267.1.1"></a><h2 id="_type_X_OutOfRange.pod6-method_what">267.1.1 method what</h2>
 <pre class="code">method what(--&gt; Str:D)</pre>
 <p>Verbal description of the thing that was out of range (e.g. <span class="code">&quot;array index&quot;</span>, <span class="code">&quot;month&quot;</span>).</p>
 <a name="t267.1.2"></a><h2 id="_type_X_OutOfRange.pod6-method_got">267.1.2 method got</h2>
 <pre class="code">method got()</pre>
 <p>Returns the object that was considered out of range (often an integer)</p>
 <a name="t267.1.3"></a><h2 id="_type_X_OutOfRange.pod6-method_range">267.1.3 method range</h2>
 <pre class="code">method range(--&gt; Range:D)</pre>
 <p>Returns a <a href="#_type_Range.pod6">Range</a> object describing the permissible range for the object returned from <span class="code">.got</span>.</p>
 <a name="t267.1.4"></a><h2 id="_type_X_OutOfRange.pod6-method_comment">267.1.4 method comment</h2>
 <pre class="code">method comment(--&gt; Str)</pre>
 <p>Returns an additional comment that is included in the error message.</p>
</div>
<!-- /type/X/Package/Stubbed.pod6 --><div class="pod-body"><a id="_type_X_Package_Stubbed.pod6"></a><a name="t268"><h1 class="title">268 class X::Package::Stubbed</h1></a> <p class="subtitle">Compilation error due to a stubbed package that is never defined</p> <pre class="code">class X::Package::Stubbed does X::Comp { }</pre>
 <p>Thrown at <span class="code">CHECK</span> time when there are packages stubbed but not later defined.</p>
 <p>For example</p>
 <pre class="code">class A { ... }     # literal ... 
 class B { ... }     # literal ... 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 The following packages were stubbed but not defined: 
     A 
     B 
</pre>
 <a name="t268.1"></a><h1 id="_type_X_Package_Stubbed.pod6-Methods">268.1 Methods</h1>
 <a name="t268.1.1"></a><h2 id="_type_X_Package_Stubbed.pod6-method_packages">268.1.1 method packages</h2>
 <pre class="code">method packages(--&gt; Positional:D)</pre>
 <p>Returns a list of packages that were stubbed but not defined.</p>
</div>
<!-- /type/X/Parameter/Default.pod6 --><div class="pod-body"><a id="_type_X_Parameter_Default.pod6"></a><a name="t269"><h1 class="title">269 class X::Parameter::Default</h1></a> <p class="subtitle">Compilation error due to an unallowed default value in a signature</p> <pre class="code">class X::Parameter::Default does X::Comp { }</pre>
 <p>Compile-time error thrown when a parameter in a signature has default value, but isn't allowed to have one. That is the case with slurpy parameters (because a slurpy always binds successfully, even to zero arguments) and with mandatory parameters.</p>
 <p>Example:</p>
 <pre class="code">sub f($x! = 3) { } 
</pre>
 <p>Produces</p>
 <pre class="code">===SORRY!=== 
 Cannot put default on required parameter $x 
</pre>
 <p>And</p>
 <pre class="code">sub f(*@ = 3) { } 
</pre>
 <p>produces</p>
 <pre class="code">Cannot put default on anonymous slurpy parameter 
</pre>
 <a name="t269.1"></a><h1 id="_type_X_Parameter_Default.pod6-Methods">269.1 Methods</h1>
 <a name="t269.1.1"></a><h2 id="_type_X_Parameter_Default.pod6-method_how">269.1.1 method how</h2>
 <p>Returns a string describing how the parameter is qualified that makes it disallow default values, for example <span class="code">&quot;slurpy&quot;</span> or <span class="code">&quot;mandatory&quot;</span>.</p>
 <a name="t269.1.2"></a><h2 id="_type_X_Parameter_Default.pod6-method_parameter">269.1.2 method parameter</h2>
 <p>Returns the parameter name</p>
</div>
<!-- /type/X/Parameter/MultipleTypeConstraints.pod6 --><div class="pod-body"><a id="_type_X_Parameter_MultipleTypeConstraints.pod6"></a><a name="t270"><h1 class="title">270 X::Parameter::MultipleTypeConstraints</h1></a> <p class="subtitle">Compilation error due to a parameter with multiple type constraints</p> <pre class="code">class X::Parameter::MultipleTypeConstraints does X::Comp { }</pre>
 <p>Compile time error thrown when a parameter has multiple type constraints. This is not allowed in Perl 6.0.</p>
 <p>Example:</p>
 <pre class="code">sub f(Cool Real $x) { } 
</pre>
 <p>produces</p>
 <pre class="code">Parameter $x may only have one prefix type constraint 
</pre>
 <a name="t270.1"></a><h1 id="_type_X_Parameter_MultipleTypeConstraints.pod6-Methods">270.1 Methods</h1>
 <a name="t270.1.1"></a><h2 id="_type_X_Parameter_MultipleTypeConstraints.pod6-method_parameter">270.1.1 method parameter</h2>
 <p>Returns the name of the offensive parameter.</p>
</div>
<!-- /type/X/Parameter/Placeholder.pod6 --><div class="pod-body"><a id="_type_X_Parameter_Placeholder.pod6"></a><a name="t271"><h1 class="title">271 class X::Parameter::Placeholder</h1></a> <p class="subtitle">Compilation error due to an unallowed placeholder in a signature</p> <pre class="code">class X::Parameter::Placeholder does X::Comp { }</pre>
 <p>Thrown when a placeholder parameter is used inside a signature where a normal parameter is expected. The reason is often that a named parameter <span class="code">:$param</span> was misspelled as <span class="code">$:param</span>.</p>
 <p>For example</p>
 <pre class="code">sub f($:param) { } 
</pre>
 <p>produces</p>
 <pre class="code">===SORRY!=== 
 In signature parameter, placeholder variables like $:param are illegal 
 you probably meant a named parameter: ':$param' 
</pre>
 <a name="t271.1"></a><h1 id="_type_X_Parameter_Placeholder.pod6-Methods">271.1 Methods</h1>
 <a name="t271.1.1"></a><h2 id="_type_X_Parameter_Placeholder.pod6-method_parameter">271.1.1 method parameter</h2>
 <p>The text of the offensive parameter declaration (<span class="code">$:param</span> in the example above).</p>
 <a name="t271.1.2"></a><h2 id="_type_X_Parameter_Placeholder.pod6-method_right">271.1.2 method right</h2>
 <p>Suggestion on how to write the parameter declaration instead (<span class="code">:$param</span> in the example above).</p>
</div>
<!-- /type/X/Parameter/Twigil.pod6 --><div class="pod-body"><a id="_type_X_Parameter_Twigil.pod6"></a><a name="t272"><h1 class="title">272 class X::Parameter::Twigil</h1></a> <p class="subtitle">Compilation error due to an unallowed twigil in a signature</p> <pre class="code">class X::Parameter::Twigil does X::Comp { }</pre>
 <p>Thrown when a parameter in a signature has a twigil that it may not have. Only <span class="code">!</span>, <span class="code">.</span> and <span class="code">*</span> as twigils are allowed.</p>
 <p>Example:</p>
 <pre class="code">sub f($=foo) { } 
</pre>
 <p>produces</p>
 <pre class="code">===SORRY!=== 
 In signature parameter $=foo, it is illegal to use the = twigil 
</pre>
 <a name="t272.1"></a><h1 id="_type_X_Parameter_Twigil.pod6-Methods">272.1 Methods</h1>
 <a name="t272.1.1"></a><h2 id="_type_X_Parameter_Twigil.pod6-method_parameter">272.1.1 method parameter</h2>
 <p>The name of the offensive parameter (<span class="code">$=foo</span> in the example above)</p>
 <a name="t272.1.2"></a><h2 id="_type_X_Parameter_Twigil.pod6-method_twigil">272.1.2 method twigil</h2>
 <p>The illegally used twigil.</p>
</div>
<!-- /type/X/Parameter/WrongOrder.pod6 --><div class="pod-body"><a id="_type_X_Parameter_WrongOrder.pod6"></a><a name="t273"><h1 class="title">273 X::Parameter::WrongOrder</h1></a> <p class="subtitle">Compilation error due to passing parameters in the wrong order</p> <pre class="code">class X::Parameter::WrongOrder does X::Comp { }</pre>
 <p>Compile time error that is thrown when parameters in a signature in the wrong order (for example if an optional parameter comes before a mandatory parameter).</p>
 <p>For example</p>
 <pre class="code">sub f($a?, $b) { } 
</pre>
 <p>produces</p>
 <pre class="code">Cannot put required parameter $b after optional parameters 
</pre>
 <a name="t273.1"></a><h1 id="_type_X_Parameter_WrongOrder.pod6-Methods">273.1 Methods</h1>
 <a name="t273.1.1"></a><h2 id="_type_X_Parameter_WrongOrder.pod6-method_misplaced">273.1.1 method misplaced</h2>
 <p>Returns the kind of misplaced parameter (for example <span class="code">&quot;mandatory&quot;</span>, <span class="code">&quot;positional&quot;</span>).</p>
 <a name="t273.1.2"></a><h2 id="_type_X_Parameter_WrongOrder.pod6-method_parameter">273.1.2 method parameter</h2>
 <p>Returns the name of the (first) misplaced parameter</p>
 <a name="t273.1.3"></a><h2 id="_type_X_Parameter_WrongOrder.pod6-method_after">273.1.3 method after</h2>
 <p>Returns a string describing other parameters after which the current parameter was illegally placed (for example <span class="code">&quot;variadic&quot;</span>, <span class="code">&quot;positional&quot;</span> or <span class="code">&quot;optional&quot;</span>).</p>
</div>
<!-- /type/X/Phaser/Multiple.pod6 --><div class="pod-body"><a id="_type_X_Phaser_Multiple.pod6"></a><a name="t274"><h1 class="title">274 class X::Phaser::Multiple</h1></a> <p class="subtitle">Compilation error due to multiple phasers of the same type</p> <pre class="code">class X::Phaser::Multiple does X::Comp { }</pre>
 <p>Thrown when multiple phasers of the same type occur in a block, but only one is allowed (for example <span class="code">CATCH</span> or <span class="code">CONTROL</span>).</p>
 <p>Example</p>
 <pre class="code">CATCH { }; CATCH { } 
</pre>
 <p>Produces</p>
 <pre class="code">===SORRY!=== 
 Only one CATCH block is allowed 
</pre>
 <a name="t274.1"></a><h1 id="_type_X_Phaser_Multiple.pod6-Methods">274.1 Methods</h1>
 <a name="t274.1.1"></a><h2 id="_type_X_Phaser_Multiple.pod6-method_block">274.1.1 method block</h2>
 <p>Returns the name of the phaser that occurred more than once.</p>
</div>
<!-- /type/X/Phaser/PrePost.pod6 --><div class="pod-body"><a id="_type_X_Phaser_PrePost.pod6"></a><a name="t275"><h1 class="title">275 class X::Phaser::PrePost</h1></a> <p class="subtitle">Error due to a false return value of a PRE/POST phaser</p> <pre class="code">class X::Phaser::PrePost is Exception { } 
</pre>
 <p>Thrown when the condition inside a <span class="code">PRE</span> or <span class="code">POST</span> phaser evaluate to a false value.</p>
 <p>For example</p>
 <pre class="code">sub f($x) { PRE { $x ~~ Int } };
f &quot;foo&quot;;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: X::Phaser::PrePost: Precondition '{ $x ~~ Int }' failed«␤»</pre>
 <a name="t275.1"></a><h1 id="_type_X_Phaser_PrePost.pod6-Methods">275.1 Methods</h1>
 <a name="t275.1.1"></a><h2 id="_type_X_Phaser_PrePost.pod6-method_phaser">275.1.1 method phaser</h2>
 <pre class="code">method phaser(--&gt; Str:D)</pre>
 <p>Returns the name of the failed phaser, <span class="code">&quot;PRE&quot;</span> or <span class="code">&quot;POST&quot;</span>.</p>
 <a name="t275.1.2"></a><h2 id="_type_X_Phaser_PrePost.pod6-method_condition">275.1.2 method condition</h2>
 <pre class="code">method condition(--&gt; Str:D)</pre>
 <p>Returns the part of the source code that describes the phaser condition.</p>
</div>
<!-- /type/X/Placeholder/Block.pod6 --><div class="pod-body"><a id="_type_X_Placeholder_Block.pod6"></a><a name="t276"><h1 class="title">276 class X::Placeholder::Block</h1></a> <p class="subtitle">Compilation error due to a placeholder in an ineligible block</p> <pre class="code">class X::Placeholder::Block does X::Comp {}</pre>
 <p>Thrown when a placeholder variable is used in a block that does not allow a signature (for example <span class="code">class A { $^foo }</span>.</p>
 <p>A typical error message is</p>
 <pre class="code">Placeholder variable $^foo may not be used here because the surrounding block takes no signature 
</pre>
 <a name="t276.1"></a><h1 id="_type_X_Placeholder_Block.pod6-Methods">276.1 Methods</h1>
 <a name="t276.1.1"></a><h2 id="_type_X_Placeholder_Block.pod6-method_placeholder">276.1.1 method placeholder</h2>
 <p>Returns the name of the (first) illegally used placeholder.</p>
</div>
<!-- /type/X/Placeholder/Mainline.pod6 --><div class="pod-body"><a id="_type_X_Placeholder_Mainline.pod6"></a><a name="t277"><h1 class="title">277 X::Placeholder::Mainline</h1></a> <p class="subtitle">Compilation error due to a placeholder in the mainline</p> <pre class="code">class X::Placeholder::Mainline is X::Placeholder::Block { }</pre>
 <p>Thrown when a placeholder variable is used in the mainline, i.e. outside of any explicit block.</p>
 <p>Example:</p>
 <pre class="code">$^x; 
</pre>
 <p>Produces the error message</p>
 <pre class="code">Cannot use placeholder parameter $^x in the mainline 
</pre>
 <p>Note that this error can also occur when you think something is a block, but it really is a <a href="#_routine_{ }.pod6">postcircumfix:&lt;{ }&gt;</a>, for example</p>
 <pre class="code">my %h; 
 say %h{ $^x }; 
 #     ^^^^^^^  not a block, so $^x is part of the mainline 
</pre>
</div>
<!-- /type/X/Pod.pod6 --><div class="pod-body"><a id="_type_X_Pod.pod6"></a><a name="t278"><h1 class="title">278 role X::Pod</h1></a> <p class="subtitle">Pod related error</p> <pre class="code">role X::Pod { }</pre>
 <p>Common role for Pod related errors.</p>
</div>
<!-- /type/X/Proc/Async.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async.pod6"></a><a name="t279"><h1 class="title">279 role X::Proc::Async</h1></a> <p class="subtitle">Exception thrown by Proc::Async</p> <pre class="code">role X::Proc::Async is Exception { ... }</pre>
 <p>All exceptions thrown by <a href="#_type_Proc::Async.pod6">Proc::Async</a> do this common role.</p>
 <a name="t279.1"></a><h1 id="_type_X_Proc_Async.pod6-Methods">279.1 Methods</h1>
 <a name="t279.1.1"></a><h2 id="_type_X_Proc_Async.pod6-method_proc">279.1.1 method proc</h2>
 <pre class="code">method proc(X::Proc::Async:D --&gt; Proc::Async)</pre>
 <p>Returns the object that threw the exception.</p>
</div>
<!-- /type/X/Proc/Async/AlreadyStarted.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async_AlreadyStarted.pod6"></a><a name="t280"><h1 class="title">280 class X::Proc::Async::AlreadyStarted</h1></a> <p class="subtitle">Error due to calling start on an already started Proc::Async object</p> <pre class="code">class X::Proc::Async::AlreadyStarted is Exception {}</pre>
 <p>When you call <span class="code">start</span> twice on the same <a href="#_type_Proc::Async.pod6">Proc::Async</a> object, the second invocation will die with an <span class="code">X::Proc::Async::AlreadyStarted</span> exception.</p>
 <pre class="code">my $proc = Proc::Async.new(&quot;echo&quot;);
$proc.start;
$proc.start;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Proc::Async::AlreadyStarted: Process has already been started␤»</pre>
</div>
<!-- /type/X/Proc/Async/CharsOrBytes.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async_CharsOrBytes.pod6"></a><a name="t281"><h1 class="title">281 class X::Proc::Async::CharsOrBytes</h1></a> <p class="subtitle">Error due to tapping the same Proc::Async stream for both text and binary reading</p> <pre class="code">class X::Proc::Async::CharsOrBytes is Exception {}</pre>
 <p>A <a href="#_type_Proc::Async.pod6">Proc::Async</a> object allows subscription to the output or error stream either for bytes (<a href="#_type_Blob.pod6">Blob</a>) or for text data (<a href="#_type_Str.pod6">Str</a>), but not for both. If you do try both, it throws an exception of type <span class="code">X::Proc::Async::CharsOrBytes</span>.</p>
 <pre class="code">my $proc = Proc::Async.new('echo');
$proc.stdout.tap(&amp;print);
$proc.stdout(:bin).tap(&amp;print);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Proc::Async::CharsOrBytes: Can only tap one of chars or bytes supply for stdout␤»</pre>
 <a name="t281.1"></a><h1 id="_type_X_Proc_Async_CharsOrBytes.pod6-Methods">281.1 Methods</h1>
 <a name="t281.1.1"></a><h2 id="_type_X_Proc_Async_CharsOrBytes.pod6-method_handle">281.1.1 method handle</h2>
 <pre class="code">method handle(X::Proc::Async::CharsOrBytes:D: --&gt; Str:D)</pre>
 <p>Returns the name of the handle that was accessed both for text and for binary data, <span class="code">stdout</span> or <span class="code">stderr</span>.</p>
</div>
<!-- /type/X/Proc/Async/MustBeStarted.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async_MustBeStarted.pod6"></a><a name="t282"><h1 class="title">282 class X::Proc::Async::MustBeStarted</h1></a> <p class="subtitle">Error due to interacting with a Proc::Async stream before spawning its process</p> <pre class="code">class X::Proc::Async::MustBeStarted is Exception {}</pre>
 <p>Several methods from <a href="#_type_Proc::Async.pod6">Proc::Async</a> expect that the external program has been spawned (by calling <span class="code">.start</span> on it), including <span class="code">say</span>, <span class="code">write</span>, <span class="code">print</span> and <span class="code">close-stdin</span>. If one of those methods is called before <span class="code">.start</span> was called, they throw an exception of type <span class="code">X::Proc::Async::MustBeStarted</span>.</p>
 <pre class="code">Proc::Async.new('echo', :w).say(42);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Proc::Async::MustBeStarted: Process must be started first before calling 'say'␤»</pre>
 <a name="t282.1"></a><h1 id="_type_X_Proc_Async_MustBeStarted.pod6-Methods">282.1 Methods</h1>
 <a name="t282.1.1"></a><h2 id="_type_X_Proc_Async_MustBeStarted.pod6-method_method">282.1.1 method method</h2>
 <pre class="code">method method(X::Proc::Async::MustBeStarted:D --&gt; Str:D)</pre>
 <p>Returns the name of the method that was illegally called before starting the external program.</p>
</div>
<!-- /type/X/Proc/Async/OpenForWriting.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async_OpenForWriting.pod6"></a><a name="t283"><h1 class="title">283 class X::Proc::Async::OpenForWriting</h1></a> <p class="subtitle">Error due to writing to a read-only Proc::Async object</p> <pre class="code">class X::Proc::Async::OpenForWriting is Exception {}</pre>
 <p>When a <a href="#_type_Proc::Async.pod6">Proc::Async</a> object is opened only for reading from the external program (no <span class="code">:w</span> passed to open), and a write operation such as <span class="code">write</span>, <span class="code">print</span> and <span class="code">say</span> is performed, an exception of type <span class="indexed"><a id="909" name="">X::Proc::Async::OpenForWriting</a></span> is thrown:</p>
 <pre class="code">my $proc = Proc::Async.new(&quot;echo&quot;);
$proc.start;
$proc.say(42);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Proc::Async::OpenForWriting: Process must be opened for writing with :w to call 'say'␤»</pre>
 <p>To fix that you can use writable commands with :w flag:</p>
 <pre class="code">my $prog = Proc::Async.new(:w, 'cat');
$prog.stdout.tap( -&gt; $str {
    print $str;
});
my $promise = $prog.start;
await $prog.say('foo');
$prog.close-stdin;
await $promise;</pre>
 <a name="t283.1"></a><h1 id="_type_X_Proc_Async_OpenForWriting.pod6-Methods">283.1 Methods</h1>
 <a name="t283.1.1"></a><h2 id="_type_X_Proc_Async_OpenForWriting.pod6-method_method">283.1.1 method method</h2>
 <pre class="code">method method(X::Proc::Async::OpenForWriting:D:)</pre>
 <p>Returns the method name that was called and which caused the exception.</p>
</div>
<!-- /type/X/Proc/Async/TapBeforeSpawn.pod6 --><div class="pod-body"><a id="_type_X_Proc_Async_TapBeforeSpawn.pod6"></a><a name="t284"><h1 class="title">284 class X::Proc::Async::TapBeforeSpawn</h1></a> <p class="subtitle">Error due to tapping a Proc::Async stream after spawning its process</p> <pre class="code">class X::Proc::Async::TapBeforeSpawn is Exception {}</pre>
 <p>If the <span class="code">stdout</span> or <span class="code">stderr</span> methods of <a href="#_type_Proc::Async.pod6">Proc::Async</a> are called after the program has been <span class="code">start</span>ed, an exception of type <a href="#_type_X::Proc::Async::TapBeforeSpawn.pod6">X::Proc::Async::TapBeforeSpawn</a> is thrown.</p>
 <pre class="code">my $proc = Proc::Async.new(&quot;echo&quot;, &quot;foo&quot;);
$proc.start;
$proc.stdout.tap(&amp;print);
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Proc::Async::TapBeforeSpawn: To avoid data races, you must tap stdout before running the process␤»</pre>
 <p>The right way is the reverse order</p>
 <pre class="code">my $proc = Proc::Async.new(&quot;echo&quot;, &quot;foo&quot;);
$proc.stdout.tap(&amp;print);
await $proc.start;</pre>
 <a name="t284.1"></a><h1 id="_type_X_Proc_Async_TapBeforeSpawn.pod6-Methods">284.1 Methods</h1>
 <a name="t284.1.1"></a><h2 id="_type_X_Proc_Async_TapBeforeSpawn.pod6-method_handle">284.1.1 method handle</h2>
 <pre class="code">method handle(X::Proc::Async::TapBeforeSpawn:D: --&gt; Str:D)</pre>
 <p>Returns the name of the handle (<span class="code">stdout</span> or <span class="code">stderr</span>) that was accessed after the program started.</p>
</div>
<!-- /type/X/Proc/Unsuccessful.pod6 --><div class="pod-body"><a id="_type_X_Proc_Unsuccessful.pod6"></a><a name="t285"><h1 class="title">285 class X::Proc::Unsuccessful</h1></a> <p class="subtitle">Exception thrown if a Proc object is sunk after the process it ran exited unsuccessfully</p> <pre class="code">class X::Proc::Unsuccessful is Exception {}</pre>
 <a name="t285.1"></a><h1 id="_type_X_Proc_Unsuccessful.pod6-Methods">285.1 Methods</h1>
 <a name="t285.1.1"></a><h2 id="_type_X_Proc_Unsuccessful.pod6-method_proc">285.1.1 method proc</h2>
 <pre class="code">method proc(X::Proc::Unsuccessful:D --&gt; Proc)</pre>
 <p>Returns the object that threw the exception.</p>
</div>
<!-- /type/X/Promise/CauseOnlyValidOnBroken.pod6 --><div class="pod-body"><a id="_type_X_Promise_CauseOnlyValidOnBroken.pod6"></a><a name="t286"><h1 class="title">286 class X::Promise::CauseOnlyValidOnBroken</h1></a> <p class="subtitle">Error due to asking why an unbroken promise has been broken.</p> <pre class="code">class X::Promise::CauseOnlyValidOnBroken is Exception { }</pre>
 <p>This exception is thrown when code expects a Promise to be broken, and asks why it has been broken, but the Promise has in fact, not yet been broken.</p>
 <a name="t286.1"></a><h1 id="_type_X_Promise_CauseOnlyValidOnBroken.pod6-Methods">286.1 Methods</h1>
 <a name="t286.1.1"></a><h2 id="_type_X_Promise_CauseOnlyValidOnBroken.pod6-method_promise">286.1.1 method promise</h2>
 <pre class="code">method promise()</pre>
 <p>Returns the Promise that was asked about.</p>
 <a name="t286.1.2"></a><h2 id="_type_X_Promise_CauseOnlyValidOnBroken.pod6-method_status">286.1.2 method status</h2>
 <pre class="code">method status()</pre>
 <p>Returns the status the Promise had at that time.</p>
</div>
<!-- /type/X/Promise/Vowed.pod6 --><div class="pod-body"><a id="_type_X_Promise_Vowed.pod6"></a><a name="t287"><h1 class="title">287 class X::Promise::Vowed</h1></a> <p class="subtitle">Error due to directly trying to keep/break a vowed promise.</p> <pre class="code">class X::Promise::Vowed is Exception { }</pre>
 <p>This exception is thrown when code tries to keep/break an already vowed promise without going through the corresponding <span class="code">Vow</span> object.</p>
 <a name="t287.1"></a><h1 id="_type_X_Promise_Vowed.pod6-Methods">287.1 Methods</h1>
 <a name="t287.1.1"></a><h2 id="_type_X_Promise_Vowed.pod6-method_promise">287.1.1 method promise</h2>
 <pre class="code">method promise()</pre>
 <p>Returns the vowed Promise.</p>
</div>
<!-- /type/X/Redeclaration.pod6 --><div class="pod-body"><a id="_type_X_Redeclaration.pod6"></a><a name="t288"><h1 class="title">288 class X::Redeclaration</h1></a> <p class="subtitle">Compilation error due to declaring an already declared symbol</p> <pre class="code">class X::Redeclaration does X::Comp { }</pre>
 <p>Thrown when a symbol (variable, routine, type, parameter, ...) is redeclared. Note that redeclarations are generally fine in an inner scope, but if the redeclaration appears in the same scope as the original declaration, it usually indicates an error and is treated as one.</p>
 <p>Examples</p>
 <pre class="code">my $x; my $x; 
</pre>
 <p>will throw</p>
 <pre class="code">===SORRY!=== 
 Redeclaration of symbol $x 
</pre>
 <p>It works with routines too:</p>
 <pre class="code">sub f() { } 
 sub f() { } 
 ===SORRY!=== 
 Redeclaration of routine f 
</pre>
 <p>But those are fine</p>
 <pre class="code">my $x;
sub f() {
    my $x;          # not a redeclaration,
                    # because it's in an inner scope
    sub f() { };    # same
}</pre>
 <a name="t288.1"></a><h1 id="_type_X_Redeclaration.pod6-Methods">288.1 Methods</h1>
 <a name="t288.1.1"></a><h2 id="_type_X_Redeclaration.pod6-method_symbol">288.1.1 method symbol</h2>
 <p>Returns the name of the symbol that was redeclared.</p>
 <a name="t288.1.2"></a><h2 id="_type_X_Redeclaration.pod6-method_what">288.1.2 method what</h2>
 <p>Returns the kind of symbol that was redeclared. Usually <span class="code">symbol</span>, but can also be <span class="code">routine</span>, <span class="code">type</span> etc.</p>
 <a name="t288.1.3"></a><h2 id="_type_X_Redeclaration.pod6-method_postfix">288.1.3 method postfix</h2>
 <p>Returns a string that is attached to the end of the error message. It usually explains the particular problem in more detail, or suggests way to fix the problem.</p>
</div>
<!-- /type/X/Role/Initialization.pod6 --><div class="pod-body"><a id="_type_X_Role_Initialization.pod6"></a><a name="t289"><h1 class="title">289 class X::Role::Initialization</h1></a> <p class="subtitle">Error due to passing an initialization value to an ineligible role</p> <pre class="code">class X::Role::Initialization is Exception { }</pre>
 <p>Thrown when the <span class="code">SomeRole($init)</span> syntax is used, but SomeRole does not have exactly one public attribute.</p>
 <p>For example:</p>
 <pre class="code">role R { }; &quot;D2&quot; but R(2) 
 CATCH { default { put .^name, ': ', .Str } } 
 # OUTPUT: «X::Role::Initialization: Can only supply an initialization value for a role if it has a single public attribute, but this is not the case for 'R'␤» 
</pre>
 <a name="t289.1"></a><h1 id="_type_X_Role_Initialization.pod6-Methods">289.1 Methods</h1>
 <a name="t289.1.1"></a><h2 id="_type_X_Role_Initialization.pod6-method_role">289.1.1 method role</h2>
 <pre class="code">method role()</pre>
 <p>Returns the role that caused the error.</p>
</div>
<!-- /type/X/Seq/Consumed.pod6 --><div class="pod-body"><a id="_type_X_Seq_Consumed.pod6"></a><a name="t290"><h1 class="title">290 class X::Seq::Consumed</h1></a> <p class="subtitle">Error due to trying to reuse a consumed sequence</p> <pre class="code">class X::Seq::Consumed is Exception { }</pre>
 <p>This exception is thrown when a piece of code tries to reuse a <span class="code">Seq</span> which has already been iterated.</p>
</div>
<!-- /type/X/Sequence/Deduction.pod6 --><div class="pod-body"><a id="_type_X_Sequence_Deduction.pod6"></a><a name="t291"><h1 class="title">291 class X::Sequence::Deduction</h1></a> <p class="subtitle">Error due to constructing a sequence from ineligible input</p> <pre class="code">class X::Sequence::Deduction is Exception { }</pre>
 <p>Exception type thrown when the <span class="code">...</span> sequence operator is being called without an explicit closure, and the sequence cannot be deduced.</p>
</div>
<!-- /type/X/Signature/NameClash.pod6 --><div class="pod-body"><a id="_type_X_Signature_NameClash.pod6"></a><a name="t292"><h1 class="title">292 class X::Signature::NameClash</h1></a> <p class="subtitle">Compilation error due to two named parameters with the same name</p> <pre class="code">my class X::Signature::NameClash does X::Comp { }</pre>
 <p>Compile time error thrown when two named parameters have the same name, potentially through aliases.</p>
 <p>For example</p>
 <pre class="code">sub f(:$a, :a(:@b)) { } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Name a used for more than one named parameter 
</pre>
 <a name="t292.1"></a><h1 id="_type_X_Signature_NameClash.pod6-Methods">292.1 Methods</h1>
 <a name="t292.1.1"></a><h2 id="_type_X_Signature_NameClash.pod6-method_name">292.1.1 method name</h2>
 <pre class="code">method name(--&gt; Str:D)</pre>
 <p>Returns the name that was used for more than one parameter.</p>
</div>
<!-- /type/X/Signature/Placeholder.pod6 --><div class="pod-body"><a id="_type_X_Signature_Placeholder.pod6"></a><a name="t293"><h1 class="title">293 class X::Signature::Placeholder</h1></a> <p class="subtitle">Compilation error due to placeholders in a block with a signature</p> <pre class="code">class X::Signature::Placeholder does X::Comp { } 
</pre>
 <p>Compile time error thrown when a block has both an explicit signature and placeholder parameters.</p>
 <p>For example</p>
 <pre class="code">sub f() { $^x } 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Placeholder variable '$^x' cannot override existing signature 
</pre>
 <a name="t293.1"></a><h1 id="_type_X_Signature_Placeholder.pod6-Methods">293.1 Methods</h1>
 <a name="t293.1.1"></a><h2 id="_type_X_Signature_Placeholder.pod6-method_placeholder">293.1.1 method placeholder</h2>
 <pre class="code">method placeholder(--&gt; Str:D)</pre>
 <p>Returns the name of a placeholder that was used in a block that already had a signature.</p>
</div>
<!-- /type/X/Str/Numeric.pod6 --><div class="pod-body"><a id="_type_X_Str_Numeric.pod6"></a><a name="t294"><h1 class="title">294 class X::Str::Numeric</h1></a> <p class="subtitle">Error while trying to coerce a string to a number</p> <pre class="code">class X::Str::Numeric is Exception { }</pre>
 <p>Error thrown (or wrapped in a <span class="code">Failure</span>) when a conversion from string to a number fails.</p>
 <p>For example</p>
 <pre class="code">say +&quot;42 answers&quot;;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::Str::Numeric: Cannot convert string to number: trailing characters after number in '42⏏ answers' (indicated by ⏏)␤»</pre>
 <a name="t294.1"></a><h1 id="_type_X_Str_Numeric.pod6-Methods">294.1 Methods</h1>
 <a name="t294.1.1"></a><h2 id="_type_X_Str_Numeric.pod6-method_source">294.1.1 method source</h2>
 <pre class="code">method source(--&gt; Str:D)</pre>
 <p>Returns the string that was attempted to convert to a number</p>
 <a name="t294.1.2"></a><h2 id="_type_X_Str_Numeric.pod6-method_pos">294.1.2 method pos</h2>
 <pre class="code">method pos(--&gt; Int:D)</pre>
 <p>Gives the position into the string where the parsing failed.</p>
 <a name="t294.1.3"></a><h2 id="_type_X_Str_Numeric.pod6-method_reason">294.1.3 method reason</h2>
 <pre class="code">method reason(--&gt; Int:D)</pre>
 <p>Verbal description of the reason why the conversion failed.</p>
</div>
<!-- /type/X/StubCode.pod6 --><div class="pod-body"><a id="_type_X_StubCode.pod6"></a><a name="t295"><h1 class="title">295 class X::StubCode</h1></a> <p class="subtitle">Runtime error due to execution of stub code</p> <pre class="code">class X::StubCode is Exception { }</pre>
 <p>Thrown when a piece of stub code (created via <span class="code">!!!</span> or <span class="code">...</span>) is executed.</p>
 <a name="t295.1"></a><h1 id="_type_X_StubCode.pod6-Methods">295.1 Methods</h1>
 <a name="t295.1.1"></a><h2 id="_type_X_StubCode.pod6-method_message">295.1.1 method message</h2>
 <p>Returns the custom message provided to <span class="code">!!!</span>, or a reasonable default if none was provided.</p>
</div>
<!-- /type/X/Syntax.pod6 --><div class="pod-body"><a id="_type_X_Syntax.pod6"></a><a name="t296"><h1 class="title">296 role X::Syntax</h1></a> <p class="subtitle">Syntax error thrown by the compiler</p> <pre class="code">role X::Syntax does X::Comp { }</pre>
 <p>Common role for syntax errors thrown by the compiler.</p>
</div>
<!-- /type/X/Syntax/Augment/WithoutMonkeyTyping.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Augment_WithoutMonkeyTyping.pod6"></a><a name="t297"><h1 class="title">297 class X::Syntax::Augment::WithoutMonkeyTyping</h1></a> <p class="subtitle">Compilation error due to augmenting a type without `MONKEY-TYPING`</p> <pre class="code">class X::Syntax::Augment::WithoutMonkeyTyping does X::Syntax { }</pre>
 <p>Compile time error thrown when <span class="code">augment</span> is used without <span class="code">use MONKEY-TYPING</span>.</p>
 <p>Since <span class="code">augment</span> is considered a rather unsafe and impolite action, you have to pre-declare your intent with the <span class="code">use MONKEY-TYPING;</span> pragma.</p>
 <p>If you don't do that, for example</p>
 <pre class="code">augment class Int { }; 
</pre>
 <p>you get the error</p>
 <pre class="code">===SORRY!=== 
 augment not allowed without 'use MONKEY-TYPING' 
</pre>
</div>
<!-- /type/X/Syntax/Comment/Embedded.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Comment_Embedded.pod6"></a><a name="t298"><h1 class="title">298 class X::Syntax::Comment::Embedded</h1></a> <p class="subtitle">Compilation error due to a malformed inline comment</p> <pre class="code">class X::Syntax::Comment::Embedded does X::Syntax { }</pre>
 <p>Syntax error thrown when <span class="code">#`</span> is encountered and it is not followed by an opening bracket.</p>
 <p>For example</p>
 <pre class="code">#` 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Opening bracket is required for #` comment 
</pre>
</div>
<!-- /type/X/Syntax/Confused.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Confused.pod6"></a><a name="t299"><h1 class="title">299 class X::Syntax::Confused</h1></a> <p class="subtitle">Compilation error due to unrecognized syntax</p> <pre class="code">class X::Syntax::Confused does X::Syntax { } 
</pre>
 <p>The most general syntax error, if no more specific error message can be given.</p>
 <p>For example</p>
 <pre class="code">1∞ 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Confused 
</pre>
</div>
<!-- /type/X/Syntax/InfixInTermPosition.pod6 --><div class="pod-body"><a id="_type_X_Syntax_InfixInTermPosition.pod6"></a><a name="t300"><h1 class="title">300 class X::Syntax::InfixInTermPosition</h1></a> <p class="subtitle">Compilation error due to an infix in term position</p> <pre class="code">class X::Syntax::InfixInTermPosition does X::Syntax { }</pre>
 <p>Syntax error thrown when the parser expects a term, but finds an infix operator instead.</p>
 <p>For example</p>
 <pre class="code">1, =&gt; 2; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Preceding context expects a term, but found infix =&gt; instead 
</pre>
 <a name="t300.1"></a><h1 id="_type_X_Syntax_InfixInTermPosition.pod6-Methods">300.1 Methods</h1>
 <a name="t300.1.1"></a><h2 id="_type_X_Syntax_InfixInTermPosition.pod6-method_infix">300.1.1 method infix</h2>
 <pre class="code">method infix(--&gt; Str:D)</pre>
 <p>Returns the symbol of the infix that was found in term position.</p>
</div>
<!-- /type/X/Syntax/Malformed.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Malformed.pod6"></a><a name="t301"><h1 class="title">301 class X::Syntax::Malformed</h1></a> <p class="subtitle">Compilation error due to a malformed construct (usually a declarator)</p> <pre class="code">class X::Syntax::Malformed does X::Syntax {}</pre>
 <p>The Perl 6 compiler throws errors of type <span class="code">X::Syntax::Malformed</span> when it knows what kind of declaration it is parsing, and encounters a syntax error, but can't give a more specific error message.</p>
 <pre class="code">my Int a;   # throws an X::Syntax::Malformed 
</pre>
 <p>produces</p>
 <pre class="code">===SORRY!=== 
 Malformed my 
 at -e:1 
 ------&gt; my Int ⏏a 
</pre>
 <a name="t301.1"></a><h1 id="_type_X_Syntax_Malformed.pod6-Methods">301.1 Methods</h1>
 <a name="t301.1.1"></a><h2 id="_type_X_Syntax_Malformed.pod6-method_what">301.1.1 method what</h2>
 <pre class="code">method what(X::Syntax::Malformed:D: --&gt; Str)</pre>
 <p>Returns a description of the thing that was being parsed.</p>
</div>
<!-- /type/X/Syntax/Missing.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Missing.pod6"></a><a name="t302"><h1 class="title">302 class X::Syntax::Missing</h1></a> <p class="subtitle">Compilation error due to a missing piece of syntax</p> <pre class="code">class X::Syntax::Missing does X::Syntax { }</pre>
 <p>Syntax error thrown when the previous piece of syntax requires the existence of another piece of syntax, and that second piece is missing.</p>
 <p>For example</p>
 <pre class="code">for 1, 2, 3; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Missing block 
</pre>
 <p>because a <span class="code">for</span> that is not a statement modifier must be followed by a block.</p>
 <a name="t302.1"></a><h1 id="_type_X_Syntax_Missing.pod6-Methods">302.1 Methods</h1>
 <a name="t302.1.1"></a><h2 id="_type_X_Syntax_Missing.pod6-method_what">302.1.1 method what</h2>
 <pre class="code">method what(--&gt; Str:D)</pre>
 <p>Returns a string description of the missing syntax element.</p>
</div>
<!-- /type/X/Syntax/NegatedPair.pod6 --><div class="pod-body"><a id="_type_X_Syntax_NegatedPair.pod6"></a><a name="t303"><h1 class="title">303 class X::Syntax::NegatedPair</h1></a> <p class="subtitle">Compilation error due to passing an argument to a negated colonpair</p> <pre class="code">class X::Syntax::NegatedPair does X::Syntax { }</pre>
 <p>Thrown if a colonpair illegally has a value, for example <span class="code">:!a(1)</span>. This is an error because the <span class="code">!</span> negation implies that the value is <span class="code">False</span>.</p>
 <p>A typical error message from this class is <i>Argument not allowed on negated pair with key 'a'</i>.</p>
 <a name="t303.1"></a><h1 id="_type_X_Syntax_NegatedPair.pod6-Methods">303.1 Methods</h1>
 <a name="t303.1.1"></a><h2 id="_type_X_Syntax_NegatedPair.pod6-method_key">303.1.1 method key</h2>
 <p>Returns the key of the pair that caused the error.</p>
</div>
<!-- /type/X/Syntax/NoSelf.pod6 --><div class="pod-body"><a id="_type_X_Syntax_NoSelf.pod6"></a><a name="t304"><h1 class="title">304 class X::Syntax::NoSelf</h1></a> <p class="subtitle">Compilation error due to implicitly using a `self` that is not there</p> <pre class="code">class X::Syntax::NoSelf does X::Syntax { }</pre>
 <p>Compile time error thrown when <span class="code">$.foo</span> style calls are used where no invocant is available.</p>
 <p>For example the code</p>
 <pre class="code">$.meth; 
</pre>
 <p>in the mainline throws the error</p>
 <pre class="code">===SORRY!=== 
 Variable $.meth used where no 'self' is available 
</pre>
 <p>because <span class="code">$.meth</span> is short for <span class="code">$(self.meth)</span>, and there is no <span class="code">self</span> available in mainline.</p>
 <a name="t304.1"></a><h1 id="_type_X_Syntax_NoSelf.pod6-Methods">304.1 Methods</h1>
 <a name="t304.1.1"></a><h2 id="_type_X_Syntax_NoSelf.pod6-method_variable">304.1.1 method variable</h2>
 <p>Returns the variable/method call that caused the error.</p>
</div>
<!-- /type/X/Syntax/Number/RadixOutOfRange.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Number_RadixOutOfRange.pod6"></a><a name="t305"><h1 class="title">305 class X::Syntax::Number::RadixOutOfRange</h1></a> <p class="subtitle">Compilation error due to an unallowed radix in a number literal</p> <pre class="code">class X::Syntax::Number::RadixOutOfRange does X::Syntax { }</pre>
 <p>Syntax error that is thrown when the radix of a radix number is not allowed, like <span class="code">:1&lt;1&gt; </span> or <span class="code">:42&lt;ouch&gt; </span>.</p>
 <a name="t305.1"></a><h1 id="_type_X_Syntax_Number_RadixOutOfRange.pod6-Methods">305.1 Methods</h1>
 <a name="t305.1.1"></a><h2 id="_type_X_Syntax_Number_RadixOutOfRange.pod6-method_radix">305.1.1 method radix</h2>
 <pre class="code">method radix(--&gt; Int:D)</pre>
 <p>The offensive radix.</p>
</div>
<!-- /type/X/Syntax/P5.pod6 --><div class="pod-body"><a id="_type_X_Syntax_P5.pod6"></a><a name="t306"><h1 class="title">306 class X::Syntax::P5</h1></a> <p class="subtitle">Compilation error due to use of Perl 5-only syntax</p> <pre class="code">class X::Syntax::P5 does X::Syntax { }</pre>
 <p>Syntax error thrown when some piece of code is clearly Perl 5, not Perl 6.</p>
 <p>For example</p>
 <pre class="code">for my $a (1, 2) { }; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 This appears to be Perl 5 code 
</pre>
</div>
<!-- /type/X/Syntax/Regex/Adverb.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Regex_Adverb.pod6"></a><a name="t307"><h1 class="title">307 class X::Syntax::Regex::Adverb</h1></a> <p class="subtitle">Compilation error due to an unrecognized regex adverb</p> <pre class="code">class X::Syntax::Regex::Adverb does X::Syntax { }</pre>
 <p>Syntax error thrown when an unrecognized or illegal regex adverb is encountered.</p>
 <p>For example <span class="code">rx:g/a/</span> dies with</p>
 <pre class="code">===SORRY!=== 
 Adverb g not allowed on rx 
</pre>
 <p>because <span class="code">:g</span> belongs to a match operation, not a regex itself.</p>
 <a name="t307.1"></a><h1 id="_type_X_Syntax_Regex_Adverb.pod6-Methods">307.1 Methods</h1>
 <a name="t307.1.1"></a><h2 id="_type_X_Syntax_Regex_Adverb.pod6-method_adverb">307.1.1 method adverb</h2>
 <pre class="code">method adverb(--&gt; Str:D)</pre>
 <p>Returns the illegally used adverb</p>
 <a name="t307.1.2"></a><h2 id="_type_X_Syntax_Regex_Adverb.pod6-method_construct">307.1.2 method construct</h2>
 <pre class="code">method construct(--&gt; Str:D)</pre>
 <p>Returns the name of the construct that adverb was used on (<span class="code">m</span>, <span class="code">ms</span>, <span class="code">rx</span>, <span class="code">s</span>, <span class="code">ss</span>).</p>
</div>
<!-- /type/X/Syntax/Regex/SolitaryQuantifier.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Regex_SolitaryQuantifier.pod6"></a><a name="t308"><h1 class="title">308 class X::Syntax::Regex::SolitaryQuantifier</h1></a> <p class="subtitle">Compilation error due to a regex quantifier without preceding atom</p> <pre class="code">class X::Syntax::Regex::SolitaryQuantifier does X::Syntax { }</pre>
 <p>Syntax error when a stand alone quantifier (without an preceding atom to quantify) is encountered in a regular expression.</p>
 <p>For example</p>
 <pre class="code">/ * /; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== Error while compiling 
 Quantifier quantifies nothing 
</pre>
</div>
<!-- /type/X/Syntax/Reserved.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Reserved.pod6"></a><a name="t309"><h1 class="title">309 class X::Syntax::Reserved</h1></a> <p class="subtitle">Compilation error due to use of syntax reserved for future use</p> <pre class="code">class X::Syntax::Reserved does X::Syntax { }</pre>
 <p>Syntax error thrown when a syntax is used which is reserved for future expansion.</p>
 <p>For example</p>
 <pre class="code">my @a(); 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 The () shape syntax in array declarations is reserved 
</pre>
 <a name="t309.1"></a><h1 id="_type_X_Syntax_Reserved.pod6-Methods">309.1 Methods</h1>
 <a name="t309.1.1"></a><h2 id="_type_X_Syntax_Reserved.pod6-method_reserved">309.1.1 method reserved</h2>
 <pre class="code">method reserved(--&gt; Str:D)</pre>
 <p>Returns a text description of the reserved syntax.</p>
 <a name="t309.1.2"></a><h2 id="_type_X_Syntax_Reserved.pod6-method_instead">309.1.2 method instead</h2>
 <pre class="code">method instead(--&gt; Str)</pre>
 <p>Describes what to use instead of the reserved syntax (if anything).</p>
</div>
<!-- /type/X/Syntax/Self/WithoutObject.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Self_WithoutObject.pod6"></a><a name="t310"><h1 class="title">310 class X::Syntax::Self::WithoutObject</h1></a> <p class="subtitle">Compilation error due to invoking `self` in an ineligible scope</p> <pre class="code">class X::Syntax::Self::WithoutObject does X::Syntax { }</pre>
 <p>Syntax error thrown when <span class="code">self</span> is referenced in a place where no invocant is available.</p>
 <p>For example</p>
 <pre class="code">self; 
</pre>
 <p>in the mainline dies with</p>
 <pre class="code">===SORRY!=== 
 'self' used where no object is available 
</pre>
</div>
<!-- /type/X/Syntax/Signature/InvocantMarker.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Signature_InvocantMarker.pod6"></a><a name="t311"><h1 class="title">311 class X::Syntax::Signature::InvocantMarker</h1></a> <p class="subtitle">Compilation error due to a misplaced invocant marker in a signature</p> <pre class="code">class X::Syntax::Signature::InvocantMarker does X::Syntax { }</pre>
 <p>Syntax error when the invocant in a signature is anywhere else than after the first parameter.</p>
 <p>For example</p>
 <pre class="code">:($a, $b: $c); 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Can only use : as invocant marker in a signature after the first parameter 
</pre>
 <p>See also: <a href="#_type_Signature.pod6">Signature</a>.</p>
</div>
<!-- /type/X/Syntax/Term/MissingInitializer.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Term_MissingInitializer.pod6"></a><a name="t312"><h1 class="title">312 class X::Syntax::Term::MissingInitializer</h1></a> <p class="subtitle">Compilation error due to declaring a term without initialization</p> <pre class="code">class X::Syntax::Term::MissingInitializer does X::Syntax { }</pre>
 <p>Syntax error when a term (a backslash variable) is declared without initialization assignment.</p>
 <p>For example</p>
 <pre class="code">my \foo; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Term definition requires an initializer 
</pre>
 <p>Valid code would be</p>
 <pre class="code">my \foo = 42;</pre>
</div>
<!-- /type/X/Syntax/UnlessElse.pod6 --><div class="pod-body"><a id="_type_X_Syntax_UnlessElse.pod6"></a><a name="t313"><h1 class="title">313 class X::Syntax::UnlessElse</h1></a> <p class="subtitle">Compilation error due to an `unless` clause followed by `else`</p> <pre class="code">class X::Syntax::UnlessElse does X::Syntax { }</pre>
 <p>Syntax error thrown when an <span class="code">unless</span> clause is followed by an <span class="code">else</span> clause.</p>
 <p>For example</p>
 <pre class="code">unless 1 { } else { }; 
</pre>
 <p>dies with</p>
 <pre class="code">&quot;unless&quot; does not take &quot;else&quot;, please rewrite using &quot;if&quot; 
</pre>
</div>
<!-- /type/X/Syntax/Variable/Match.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Variable_Match.pod6"></a><a name="t314"><h1 class="title">314 class X::Syntax::Variable::Match</h1></a> <p class="subtitle">Compilation error due to declaring a match variable</p> <pre class="code">class X::Syntax::Variable::Match does X::Syntax { }</pre>
 <p>Syntax error thrown when a match variable like <span class="code">$&lt;thing&gt; </span> was declared.</p>
 <p>For example</p>
 <pre class="code">my $&lt;thing&gt;; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot declare a match variable 
</pre>
</div>
<!-- /type/X/Syntax/Variable/Numeric.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Variable_Numeric.pod6"></a><a name="t315"><h1 class="title">315 class X::Syntax::Variable::Numeric</h1></a> <p class="subtitle">Compilation error due to declaring a numeric symbol</p> <pre class="code">class X::Syntax::Variable::Numeric does X::Syntax { }</pre>
 <p>Syntax error thrown when trying to declare numeric symbols.</p>
 <p>For example</p>
 <pre class="code">my @101; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot declare a numeric variable 
</pre>
 <a name="t315.1"></a><h1 id="_type_X_Syntax_Variable_Numeric.pod6-Methods">315.1 Methods</h1>
 <a name="t315.1.1"></a><h2 id="_type_X_Syntax_Variable_Numeric.pod6-method_what">315.1.1 method what</h2>
 <pre class="code">method what returns Str:D</pre>
 <p>Returns a verbal description of the kind of symbol that was declared (variable, parameter, attribute).</p>
</div>
<!-- /type/X/Syntax/Variable/Twigil.pod6 --><div class="pod-body"><a id="_type_X_Syntax_Variable_Twigil.pod6"></a><a name="t316"><h1 class="title">316 class X::Syntax::Variable::Twigil</h1></a> <p class="subtitle">Compilation error due to an unallowed twigil in a declaration</p> <pre class="code">class X::Syntax::Variable::Twigil does X::Syntax { }</pre>
 <p>Syntax error thrown when a variable with a twigil is used in an incompatible declaration.</p>
 <p>For example</p>
 <pre class="code">my $!foo; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Cannot use ! twigil on my variable 
</pre>
 <a name="t316.1"></a><h1 id="_type_X_Syntax_Variable_Twigil.pod6-Methods">316.1 Methods</h1>
 <a name="t316.1.1"></a><h2 id="_type_X_Syntax_Variable_Twigil.pod6-method_twigil">316.1.1 method twigil</h2>
 <pre class="code">method twigil(--&gt; Str:D)</pre>
 <p>Returns the twigil that was illegally used</p>
 <a name="t316.1.2"></a><h2 id="_type_X_Syntax_Variable_Twigil.pod6-method_scope">316.1.2 method scope</h2>
 <pre class="code">method scope(--&gt; Str:D)</pre>
 <p>Returns the scope that did not harmonize with the twigil.</p>
</div>
<!-- /type/X/Temporal.pod6 --><div class="pod-body"><a id="_type_X_Temporal.pod6"></a><a name="t317"><h1 class="title">317 role X::Temporal</h1></a> <p class="subtitle">Error related to DateTime or Date</p> <pre class="code">role X::Temporal is Exception { }</pre>
 <p>A common exception type for all errors related to <span class="code">DateTime</span> or <span class="code">Date</span>.</p>
</div>
<!-- /type/X/Temporal/InvalidFormat.pod6 --><div class="pod-body"><a id="_type_X_Temporal_InvalidFormat.pod6"></a><a name="t318"><h1 class="title">318 class X::Temporal::InvalidFormat</h1></a> <p class="subtitle">Error due to using an invalid format when creating a DateTime or Date</p> <pre class="code">class X::Temporal::InvalidFormat does X::Temporal is Exception { } 
</pre>
 <p>This exception is thrown when code tries to create a <span class="code">DateTime</span> or <span class="code">Date</span> object using an invalid format.</p>
 <pre class="code">my $dt = Date.new(&quot;12/25/2015&quot;); 
 CATCH { default { put .^name, ': ', .Str } }; 
 # OUTPUT: «X::Temporal::InvalidFormat: Invalid Date string '12/25/2015'; use yyyy-mm-dd instead␤» 
</pre>
 <a name="t318.1"></a><h1 id="_type_X_Temporal_InvalidFormat.pod6-Methods">318.1 Methods</h1>
 <a name="t318.1.1"></a><h2 id="_type_X_Temporal_InvalidFormat.pod6-method_invalid-str">318.1.1 method invalid-str</h2>
 <p>Returns the invalid format string (<span class="code">12/25/2015</span> in the example above)</p>
 <a name="t318.1.2"></a><h2 id="_type_X_Temporal_InvalidFormat.pod6-method_target">318.1.2 method target</h2>
 <p>Returns the target type (<span class="code">Date</span> in the example above)</p>
 <a name="t318.1.3"></a><h2 id="_type_X_Temporal_InvalidFormat.pod6-method_format">318.1.3 method format</h2>
 <p>Returns valid format strings for the target type in question, (<span class="code">yyyy-mm-dd</span> in the example above)</p>
</div>
<!-- /type/X/TypeCheck.pod6 --><div class="pod-body"><a id="_type_X_TypeCheck.pod6"></a><a name="t319"><h1 class="title">319 class X::TypeCheck</h1></a> <p class="subtitle">Error due to a failed type check</p> <pre class="code">class X::TypeCheck is Exception { }</pre>
 <p>Error class thrown when a type check fails.</p>
 <a name="t319.1"></a><h1 id="_type_X_TypeCheck.pod6-Methods">319.1 Methods</h1>
 <a name="t319.1.1"></a><h2 id="_type_X_TypeCheck.pod6-method_operation">319.1.1 method operation</h2>
 <pre class="code">method operation(--&gt; Str:D)</pre>
 <p>Returns a string description of the operation that failed, for example <span class="code">&quot;assignment&quot;</span>, <span class="code">&quot;binding&quot;</span>, <span class="code">&quot;return&quot;</span>.</p>
 <a name="t319.1.2"></a><h2 id="_type_X_TypeCheck.pod6-method_got">319.1.2 method got</h2>
 <pre class="code">method got()</pre>
 <p>Returns the object that failed to type check</p>
 <a name="t319.1.3"></a><h2 id="_type_X_TypeCheck.pod6-method_expected">319.1.3 method expected</h2>
 <pre class="code">method expected()</pre>
 <p>Returns the type object against which the check failed.</p>
</div>
<!-- /type/X/TypeCheck/Assignment.pod6 --><div class="pod-body"><a id="_type_X_TypeCheck_Assignment.pod6"></a><a name="t320"><h1 class="title">320 class X::TypeCheck::Assignment</h1></a> <p class="subtitle">Error due to a failed type check during assignment</p> <pre class="code">class X::TypeCheck::Assignment is X::TypeCheck { }</pre>
 <p>Error class thrown when the type check of an assignment fails.</p>
 <p>For example, this will die</p>
 <pre class="code">my Int $x = &quot;foo&quot;;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Assignment: Type check failed in assignment to $x; expected Int but got Str (&quot;foo&quot;)␤»</pre>
 <p>though compilers are allowed to detect obvious cases like this example and complain at compile time with a different error.</p>
</div>
<!-- /type/X/TypeCheck/Binding.pod6 --><div class="pod-body"><a id="_type_X_TypeCheck_Binding.pod6"></a><a name="t321"><h1 class="title">321 class X::TypeCheck::Binding</h1></a> <p class="subtitle">Error due to a failed type check during binding</p> <pre class="code">class X::TypeCheck::Binding is X::TypeCheck { }</pre>
 <p>Thrown when the type check of a binding operation fails.</p>
 <p>For example:</p>
 <pre class="code">my Int $x := &quot;foo&quot;;
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Binding: Type check failed in binding; expected Int but got Str (&quot;foo&quot;)␤»</pre>
 <p>Note that the compiler is free to detect obvious errors at compile time, and complain with a different error at compile time.</p>
</div>
<!-- /type/X/TypeCheck/Return.pod6 --><div class="pod-body"><a id="_type_X_TypeCheck_Return.pod6"></a><a name="t322"><h1 class="title">322 class X::TypeCheck::Return</h1></a> <p class="subtitle">Error due to a failed typecheck during `return`</p> <pre class="code">class X::TypeCheck::Return is X::TypeCheck { }</pre>
 <p>Thrown when a return type check fails.</p>
 <p>For example</p>
 <pre class="code">sub f(--&gt; Int) { &quot;foo&quot; }
f();
CATCH { default { put .^name, ': ', .Str } };
# OUTPUT: «X::TypeCheck::Return: Type check failed for return value; expected Int but got Str (&quot;foo&quot;)␤»</pre>
</div>
<!-- /type/X/TypeCheck/Splice.pod6 --><div class="pod-body"><a id="_type_X_TypeCheck_Splice.pod6"></a><a name="t323"><h1 class="title">323 class X::TypeCheck::Splice</h1></a> <p class="subtitle">Compilation error due to a macro trying to splice a non-AST value</p> <pre class="code">class X::TypeCheck::Splice is X::TypeCheck does X::Comp { }</pre>
 <p>Compile time error thrown when a <a href="#_type_Macro.pod6">Macro</a> or an unquote/hole in a <span class="code">quasi</span> quote does not return an <a href="#_type_AST.pod6">AST</a>.</p>
 <p>For example</p>
 <pre class="code">use experimental :macros; 
 macro a { 'foo' }; 
 say a; 
</pre>
 <p>dies with</p>
 <pre class="code">===SORRY!=== 
 Type check failed in macro application; expected AST but got Str 
</pre>
 <p>To fix, instead write</p>
 <pre class="code">use experimental :macros;
macro a {
    quasi { 'foo' }
}
say a;              # foo</pre>
 <a name="t323.1"></a><h1 id="_type_X_TypeCheck_Splice.pod6-Methods">323.1 Methods</h1>
 <a name="t323.1.1"></a><h2 id="_type_X_TypeCheck_Splice.pod6-method_action">323.1.1 method action</h2>
 <pre class="code">method action(--&gt; Str:D)</pre>
 <p>Returns a verbal description of the action that triggered the error, <span class="code">&quot;macro application&quot;</span> or <span class="code">&quot;unquote evaluation&quot;</span>.</p>
</div>
<!-- /type/X/Undeclared.pod6 --><div class="pod-body"><a id="_type_X_Undeclared.pod6"></a><a name="t324"><h1 class="title">324 class X::Undeclared</h1></a> <p class="subtitle">Compilation error due to an undeclared symbol</p> <pre class="code">class X::Undeclared does X::Comp {}</pre>
 <p>Thrown when the compiler encounters a symbol that has not been declared, but needs to be.</p>
 <p>Example</p>
 <pre class="code">$x; 
</pre>
 <p>results in</p>
 <pre class="code">===SORRY!=== 
 Variable $x is not declared 
</pre>
 <a name="t324.1"></a><h1 id="_type_X_Undeclared.pod6-Methods">324.1 Methods</h1>
 <a name="t324.1.1"></a><h2 id="_type_X_Undeclared.pod6-method_symbol">324.1.1 method symbol</h2>
 <p>Returns the name of the undeclared symbol</p>
 <a name="t324.1.2"></a><h2 id="_type_X_Undeclared.pod6-method_what">324.1.2 method what</h2>
 <p>Returns the kind of symbol that was not declared (for example variable, type, routine).</p>
 <p>Since The symbol wasn't declared, the compiler sometimes has to guess (or rather disambiguate) what kind of symbol it encounter that wasn't declared. For example if you write</p>
 <pre class="code">say a; 
</pre>
 <p>Then the disambiguation defaults to reporting a missing subroutine, even though declaring a <span class="code">constant a = 'a'</span> would also make the error go away.</p>
</div>
<!-- /type/atomicint.pod6 --><div class="pod-body"><a id="_type_atomicint.pod6"></a><a name="t325"><h1 class="title">325 class atomicint</h1></a> <p class="subtitle">Integer (native storage at the platform's atomic operation size)</p> <pre class="code">class atomicint is Int is repr('P6int') { }</pre>
 <p>An <span class="code">atomicint</span> is a native integer sized such that CPU-provided atomic operations can be performed upon it. On a 32-bit CPU it will typically be 32 bits in size, and on an a 64-bit CPU it will typically be 64 bits in size. It exists to allow writing portable code that uses atomic operations.</p>
 <pre class="code"># Would typically only work on a 64-bit machine and VM build.
my int64 $active = 0;
$active⚛++;

# Would typically only work on a 32-bit machine and VM build.
my int32 $active = 0;
$active⚛++;

# Will work portably, though can only portably assume range of 32 bits.
my atomicint $active = 0;
$active⚛++;</pre>
 <p>The use of the <span class="code">atomicint</span> type does not automatically provide atomicity; it must be used in conjunction with the atomic operations.</p>
 <pre class="code"># Correct (will always output 80000)
my atomicint $total = 0;
await start { for ^20000 { $total⚛++ } } xx 4;
say $total;

# *** WRONG *** due to lack of use of the atomicint type.
# Either works correctly or dies, depending on platform.
my int $total = 0;
await start { for ^20000 { $total⚛++ } } xx 4;
say $total;

# *** WRONG *** due to lack of use of the atomic increment operator.
my atomicint $total = 0;
await start { for ^20000 { $total++ } } xx 4;
say $total;</pre>
 <a name="t325.1"></a><h1 id="_type_atomicint.pod6-Routines">325.1 Routines</h1>
 <a name="t325.1.1"></a><h2 id="_type_atomicint.pod6-sub_atomic-assign">325.1.1 sub atomic-assign</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-assign(atomicint $ is rw, int $value)
multi sub atomic-assign(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic assignment to a native integer, which may be in a lexical, attribute, or native array element. If <span class="code">$value</span> cannot unbox to a 64-bit native integer due to being too large, an exception will be thrown. If the size of <span class="code">atomicint</span> is only 32 bits, then an out of range <span class="code">$value</span> will be silently truncated. The <span class="code">atomic-assign</span> routine ensures that any required barriers are performed such that the changed value will be &quot;published&quot; to other threads.</p>
 <a name="t325.1.2"></a><h2 id="_type_atomicint.pod6-sub_atomic-fetch">325.1.2 sub atomic-fetch</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-fetch(atomicint $ is rw)</pre>
 <p>Performs an atomic read of a native integer, which may live in a lexical, attribute, or native array element. Using this routine instead of simply using the variable ensures that the latest update to the variable from other threads will be seen, both by doing any required hardware barriers and also preventing the compiler from lifting reads. For example:</p>
 <pre class="code">my atomicint $i = 0;
start { atomic-assign($i, 1) }
while atomic-fetch($i) == 0 { }</pre>
 <p>Is certain to terminate, while in:</p>
 <pre class="code">my atomicint $i = 0;
start { atomic-assign($i, 1) }
while $i == 0 { }</pre>
 <p>It would be legal for a compiler to observe that <span class="code">$i</span> is not updated in the loop, and so lift the read out of the loop, thus causing the program to never terminate.</p>
 <a name="t325.1.3"></a><h2 id="_type_atomicint.pod6-sub_atomic-fetch-inc">325.1.3 sub atomic-fetch-inc</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-fetch-inc(atomicint $ is rw)</pre>
 <p>Performs an atomic increment on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before incrementing it. Overflow will wrap around silently.</p>
 <a name="t325.1.4"></a><h2 id="_type_atomicint.pod6-sub_atomic-fetch-dec">325.1.4 sub atomic-fetch-dec</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-fetch-dec(atomicint $ is rw)</pre>
 <p>Performs an atomic decrement on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before decrementing it. Overflow will wrap around silently.</p>
 <a name="t325.1.5"></a><h2 id="_type_atomicint.pod6-sub_atomic-fetch-add">325.1.5 sub atomic-fetch-add</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-fetch-add(atomicint $ is rw, int $value)
multi sub atomic-fetch-add(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic addition on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before the addition was performed. Overflow will wrap around silently. If <span class="code">$value</span> is too big to unbox to a 64-bit integer, an exception will be thrown. If <span class="code">$value</span> otherwise overflows <span class="code">atomicint</span> then it will be silently truncated before the addition is performed.</p>
 <a name="t325.1.6"></a><h2 id="_type_atomicint.pod6-sub_atomic-fetch-sub">325.1.6 sub atomic-fetch-sub</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub atomic-fetch-sub(atomicint $ is rw, int $value)
multi sub atomic-fetch-sub(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic subtraction on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before the subtraction was performed. Underflow will wrap around silently. If <span class="code">$value</span> is too big to unbox to a 64-bit integer, an exception will be thrown. If <span class="code">$value</span> otherwise overflows <span class="code">atomicint</span> then it will be silently truncated before the subtraction is performed.</p>
 <a name="t325.1.7"></a><h2 id="_type_atomicint.pod6-sub_atomic-inc-fetch">325.1.7 sub atomic-inc-fetch</h2>
 <pre class="code">multi sub atomic-inc-fetch(atomicint $ is rw)</pre>
 <p>Performs an atomic increment on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value resulting from the increment. Overflow will wrap around silently.</p>
 <a name="t325.1.8"></a><h2 id="_type_atomicint.pod6-sub_atomic-dec-fetch">325.1.8 sub atomic-dec-fetch</h2>
 <pre class="code">multi sub atomic-dec-fetch(atomicint $ is rw)</pre>
 <p>Performs an atomic decrement on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value resulting from the decrement. Overflow will wrap around silently.</p>
 <a name="t325.1.9"></a><h2 id="_type_atomicint.pod6-sub_cas">325.1.9 sub cas</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub cas(atomicint $target is rw, int $expected, int $value)
multi sub cas(atomicint $target is rw, Int() $expected, Int() $value)
multi sub cas(atomicint $target is rw, &amp;operation)</pre>
 <p>Performs an atomic compare and swap of the native integer value in location <span class="code">$target</span>. The first two forms have semantics like:</p>
 <pre class="code">my int $seen = $target; 
 if $seen == $expected { 
     $target = $value; 
 } 
 return $seen; 
</pre>
 <p>Except it is performed as a single hardware-supported atomic instruction, as if all memory access to <span class="code">$target</span> were blocked while it took place. Therefore it is safe to attempt the operation from multiple threads without any other synchronization. For example:</p>
 <pre class="code">my atomicint $master = 0;
await start {
    if cas($master, 0, 1) == 0 {
        say &quot;Master!&quot;
    }
} xx 4</pre>
 <p>Will reliably only ever print <span class="code">Master!</span> one time, as only one of the threads will be successful in changing the 0 into a 1.</p>
 <p>Both <span class="code">$expected</span> and <span class="code">$value</span> will be coerced to <span class="code">Int</span> and unboxed if needed. An exception will be thrown if the value cannot be represented as a 64-bit integer. If the size of <span class="code">atomicint</span> is only 32 bits then the values will be silently truncated to this size.</p>
 <p>The third form, taking a code object, will first do an atomic fetch of the current value and invoke the code object with it. It will then try to do an atomic compare and swap of the target, using the value passed to the code object as <span class="code">$expected</span> and the result of the code object as <span class="code">$value</span>. If this fails, it will read the latest value, and retry, until a CAS operation succeeds. Therefore, an atomic multiply of an <span class="code">atomicint</span> <span class="code">$i</span> by 2 could be implemented as:</p>
 <pre class="code">cas $i, -&gt; int $current { $current * 2 } 
</pre>
 <p>If another thread changed the value while <span class="code">$current * 2</span> was being calculated then the block would be called again with the latest value for a further attempt, and this would be repeated until success.</p>
 <a name="t325.2"></a><h1 id="_type_atomicint.pod6-Operators">325.2 Operators</h1>
 <a name="t325.2.1"></a><h2 id="_type_atomicint.pod6-infix_⚛=">325.2.1 infix ⚛=</h2>
 <pre class="code">multi sub infix:&lt;⚛=&gt;(atomicint $ is rw, int $value)
multi sub infix:&lt;⚛=&gt;(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic assignment to a native integer, which may be in a lexical, attribute, or native array element. If <span class="code">$value</span> cannot unbox to a 64-bit native integer due to being too large, an exception will be thrown. If the size of <span class="code">atomicint</span> is only 32 bits, then an out of range <span class="code">$value</span> will be silently truncated. The <span class="code">⚛=</span> operator ensures that any required barriers are performed such that the changed value will be &quot;published&quot; to other threads.</p>
 <a name="t325.2.2"></a><h2 id="_type_atomicint.pod6-prefix_⚛">325.2.2 prefix ⚛</h2>
 <pre class="code">multi sub prefix:&lt;⚛&gt;(atomicint $ is rw)</pre>
 <p>Performs an atomic read of a native integer, which may live in a lexical, attribute, or native array element. Using this operator instead of simply using the variable ensures that the latest update to the variable from other threads will be seen, both by doing any required hardware barriers and also preventing the compiler from lifting reads. For example:</p>
 <pre class="code">my atomicint $i = 0;
start { $i ⚛= 1 }
while ⚛$i == 0 { }</pre>
 <p>Is certain to terminate, while in:</p>
 <pre class="code">my atomicint $i = 0;
start { $i ⚛= 1 }
while $i == 0 { }</pre>
 <p>It would be legal for a compiler to observe that <span class="code">$i</span> is not updated in the loop, and so lift the read out of the loop, thus causing the program to never terminate.</p>
 <a name="t325.2.3"></a><h2 id="_type_atomicint.pod6-prefix_++⚛">325.2.3 prefix ++⚛</h2>
 <pre class="code">multi sub prefix:&lt;++⚛&gt;(atomicint $ is rw)</pre>
 <p>Performs an atomic increment on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value resulting from the increment. Overflow will wrap around silently.</p>
 <a name="t325.2.4"></a><h2 id="_type_atomicint.pod6-postfix_⚛++">325.2.4 postfix ⚛++</h2>
 <pre class="code">multi sub postfix:&lt;⚛++&gt;(atomicint $ is rw)</pre>
 <p>Performs an atomic increment on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before incrementing it. Overflow will wrap around silently.</p>
 <a name="t325.2.5"></a><h2 id="_type_atomicint.pod6-prefix_--⚛">325.2.5 prefix --⚛</h2>
 <pre class="code">multi sub prefix:&lt;--⚛&gt;(atomicint $ is rw)</pre>
 <p>Performs an atomic decrement on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value resulting from the decrement. Overflow will wrap around silently.</p>
 <a name="t325.2.6"></a><h2 id="_type_atomicint.pod6-postfix_⚛--">325.2.6 postfix ⚛--</h2>
 <pre class="code">multi sub postfix:&lt;⚛--&gt;(atomicint $ is rw)</pre>
 <p>Performs an atomic decrement on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Returns the value as seen before decrementing it. Overflow will wrap around silently.</p>
 <a name="t325.2.7"></a><h2 id="_type_atomicint.pod6-infix_⚛+=">325.2.7 infix ⚛+=</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub infix:&lt;⚛+=&gt;(atomicint $ is rw, int $value)
multi sub infix:&lt;⚛+=&gt;(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic addition on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Evaluates to the result of the addition. Overflow will wrap around silently. If <span class="code">$value</span> is too big to unbox to a 64-bit integer, an exception will be thrown. If <span class="code">$value</span> otherwise overflows <span class="code">atomicint</span> then it will be silently truncated before the addition is performed.</p>
 <a name="t325.2.8"></a><h2 id="_type_atomicint.pod6-infix_⚛-=">325.2.8 infix ⚛-=</h2>
 <p>Defined as:</p>
 <pre class="code">multi sub infix:&lt;⚛-=&gt;(atomicint $ is rw, int $value)
multi sub infix:&lt;⚛-=&gt;(atomicint $ is rw, Int() $value)</pre>
 <p>Performs an atomic subtraction on a native integer. This will be performed using hardware-provided atomic operations. Since the operation is atomic, it is safe to use without acquiring a lock. Evaluates to the result of the subtraction. Underflow will wrap around silently. If <span class="code">$value</span> is too big to unbox to a 64-bit integer, an exception will be thrown. If <span class="code">$value</span> otherwise overflows <span class="code">atomicint</span> then it will be silently truncated before the subtraction is performed.</p>
 <a name="t325.2.9"></a><h2 id="_type_atomicint.pod6-infix_⚛−=">325.2.9 infix ⚛−=</h2>
 <p>Synonym for ⚛-= using U+2212 minus.</p>
</div>
<!-- /type/nativeInt.pod6 --><div class="pod-body"><a id="_type_nativeInt.pod6"></a><a name="t326"><h1 class="title">326 class int</h1></a> <p class="subtitle">Integer (native storage; machine precision)</p> <pre class="code">class int is Int is repr('P6int') { }</pre>
 <p>TODO</p>
</div>
<!-- /type/utf8.pod6 --><div class="pod-body"><a id="_type_utf8.pod6"></a><a name="t327"><h1 class="title">327 class utf8</h1></a> <p class="subtitle">Mutable uint8 buffer for utf8 binary data</p> <pre class="code">class utf8 does Blob[uint8] is repr('VMArray') {}</pre>
 <p>A <span class="code">utf8</span> is a subtype of Blob which is specifically uint8 data for holding UTF-8 encoded text.</p>
 <pre class="code">my utf8 $b = &quot;hello&quot;.encode;
say $b[1].fmt(&quot;0x%X&quot;); # OUTPUT: «0x65␤»</pre>
</div>
<div id="left-side-menu-header"><a href="#toc"><span class="selection">TOC</span></a><a href="#index"><span class="selection">Index</span></a></div><div id="left-side-menu"><div id="toc"><ul class="toc">
<a href="#t1"><li class="toc-level toc-level-0"><span class="toc-number">1</span> Perl 5 to Perl 6 guide - Overview</li></a>
<a href="#t1.1"><li class="toc-level toc-level-1"><span class="toc-number">1.1</span> CPAN</li></a>
<a href="#t1.2"><li class="toc-level toc-level-1"><span class="toc-number">1.2</span> Syntax</li></a>
<a href="#t1.2.1"><li class="toc-level toc-level-2"><span class="toc-number">1.2.1</span> Identifiers</li></a>
<a href="#t1.2.2"><li class="toc-level toc-level-2"><span class="toc-number">1.2.2</span> <span class="code">-&gt;</span> Method calls</li></a>
<a href="#t1.2.3"><li class="toc-level toc-level-2"><span class="toc-number">1.2.3</span> Whitespace</li></a>
<a href="#t1.2.4"><li class="toc-level toc-level-2"><span class="toc-number">1.2.4</span> Sigils</li></a>
<a href="#t1.2.4.1"><li class="toc-level toc-level-3"><span class="toc-number">1.2.4.1</span> <span class="code">$</span> Scalar</li></a>
<a href="#t1.2.4.2"><li class="toc-level toc-level-3"><span class="toc-number">1.2.4.2</span> <span class="code">@</span> Array</li></a>
<a href="#t1.2.4.3"><li class="toc-level toc-level-3"><span class="toc-number">1.2.4.3</span> <span class="code">%</span> Hash</li></a>
<a href="#t1.2.4.4"><li class="toc-level toc-level-3"><span class="toc-number">1.2.4.4</span> <span class="code">&amp;</span> Sub</li></a>
<a href="#t1.2.4.5"><li class="toc-level toc-level-3"><span class="toc-number">1.2.4.5</span> <span class="code">*</span> Glob</li></a>
<a href="#t1.2.5"><li class="toc-level toc-level-2"><span class="toc-number">1.2.5</span> [] Array indexing/slicing</li></a>
<a href="#t1.2.6"><li class="toc-level toc-level-2"><span class="toc-number">1.2.6</span> {} Hash indexing/slicing</li></a>
<a href="#t1.2.7"><li class="toc-level toc-level-2"><span class="toc-number">1.2.7</span> Reference creation</li></a>
<a href="#t1.2.8"><li class="toc-level toc-level-2"><span class="toc-number">1.2.8</span> Dereferencing</li></a>
<a href="#t1.3"><li class="toc-level toc-level-1"><span class="toc-number">1.3</span> Operators</li></a>
<a href="#t1.3.1"><li class="toc-level toc-level-2"><span class="toc-number">1.3.1</span> <span class="code">,</span> (Comma) List Separator</li></a>
<a href="#t1.3.2"><li class="toc-level toc-level-2"><span class="toc-number">1.3.2</span> <span class="code">&lt;=&gt; cmp</span> Three-way comparisons</li></a>
<a href="#t1.3.3"><li class="toc-level toc-level-2"><span class="toc-number">1.3.3</span> <span class="code">~~</span> Smart-match operator</li></a>
<a href="#t1.3.4"><li class="toc-level toc-level-2"><span class="toc-number">1.3.4</span> <span class="code">&amp; | ^</span> String Bitwise ops</li></a>
<a href="#t1.3.5"><li class="toc-level toc-level-2"><span class="toc-number">1.3.5</span> <span class="code">&amp; | ^</span> Numeric Bitwise ops</li></a>
<a href="#t1.3.6"><li class="toc-level toc-level-2"><span class="toc-number">1.3.6</span> <span class="code">&amp; | ^</span> Boolean ops</li></a>
<a href="#t1.3.7"><li class="toc-level toc-level-2"><span class="toc-number">1.3.7</span> <span class="code">&lt;&lt; &gt;&gt;</span> Numeric shift left|right ops</li></a>
<a href="#t1.3.8"><li class="toc-level toc-level-2"><span class="toc-number">1.3.8</span> <span class="code">=&gt;</span> Fat comma</li></a>
<a href="#t1.3.9"><li class="toc-level toc-level-2"><span class="toc-number">1.3.9</span> <span class="code">? :</span> Ternary operator</li></a>
<a href="#t1.3.10"><li class="toc-level toc-level-2"><span class="toc-number">1.3.10</span> <span class="code">.</span> (Dot) String Concatenation</li></a>
<a href="#t1.3.11"><li class="toc-level toc-level-2"><span class="toc-number">1.3.11</span> <span class="code">x</span> List Repetition or String Repetition operator</li></a>
<a href="#t1.3.12"><li class="toc-level toc-level-2"><span class="toc-number">1.3.12</span> <span class="code">..</span> <span class="code">...</span> Two Dots or Three Dots, Range op or Flipflop op</li></a>
<a href="#t1.3.13"><li class="toc-level toc-level-2"><span class="toc-number">1.3.13</span> String interpolation</li></a>
<a href="#t1.4"><li class="toc-level toc-level-1"><span class="toc-number">1.4</span> Compound Statements</li></a>
<a href="#t1.4.1"><li class="toc-level toc-level-2"><span class="toc-number">1.4.1</span> Conditionals</li></a>
<a href="#t1.4.1.1"><li class="toc-level toc-level-3"><span class="toc-number">1.4.1.1</span> <span class="code">if</span> <span class="code">elsif</span> <span class="code">else</span> <span class="code">unless</span></li></a>
<a href="#t1.4.1.2"><li class="toc-level toc-level-3"><span class="toc-number">1.4.1.2</span> <span class="code">given</span>-<span class="code">when</span></li></a>
<a href="#t1.4.2"><li class="toc-level toc-level-2"><span class="toc-number">1.4.2</span> Loops</li></a>
<a href="#t1.4.2.1"><li class="toc-level toc-level-3"><span class="toc-number">1.4.2.1</span> <span class="code">while</span> <span class="code">until</span></li></a>
<a href="#t1.4.2.2"><li class="toc-level toc-level-3"><span class="toc-number">1.4.2.2</span> <span class="code">do</span> <span class="code">while</span>/<span class="code">until</span></li></a>
<a href="#t1.4.2.3"><li class="toc-level toc-level-3"><span class="toc-number">1.4.2.3</span> <span class="code">for</span> <span class="code">foreach</span></li></a>
<a href="#t1.4.2.3.1"><li class="toc-level toc-level-4"><span class="toc-number">1.4.2.3.1</span> <span class="code">each</span></li></a>
<a href="#t1.4.3"><li class="toc-level toc-level-2"><span class="toc-number">1.4.3</span> Flow Control statements</li></a>
<a href="#t1.4.3.1"><li class="toc-level toc-level-3"><span class="toc-number">1.4.3.1</span> <span class="code">continue</span></li></a>
<a href="#t1.5"><li class="toc-level toc-level-1"><span class="toc-number">1.5</span> Functions</li></a>
<a href="#t1.5.1"><li class="toc-level toc-level-2"><span class="toc-number">1.5.1</span> Built-ins with bare blocks</li></a>
<a href="#t1.5.2"><li class="toc-level toc-level-2"><span class="toc-number">1.5.2</span> <span class="code">delete</span></li></a>
<a href="#t1.5.3"><li class="toc-level toc-level-2"><span class="toc-number">1.5.3</span> <span class="code">exists</span></li></a>
<a href="#t1.6"><li class="toc-level toc-level-1"><span class="toc-number">1.6</span> Regular Expressions ( Regex / Regexp )</li></a>
<a href="#t1.6.1"><li class="toc-level toc-level-2"><span class="toc-number">1.6.1</span> Change <span class="code">=~</span> and <span class="code">!~</span> to <span class="code">~~</span> and <span class="code">!~~</span> .</li></a>
<a href="#t1.6.2"><li class="toc-level toc-level-2"><span class="toc-number">1.6.2</span> Captures start with 0, not 1</li></a>
<a href="#t1.6.3"><li class="toc-level toc-level-2"><span class="toc-number">1.6.3</span> Move modifiers</li></a>
<a href="#t1.6.4"><li class="toc-level toc-level-2"><span class="toc-number">1.6.4</span> Add :P5 or :Perl5 adverb</li></a>
<a href="#t1.6.5"><li class="toc-level toc-level-2"><span class="toc-number">1.6.5</span> Special matchers generally fall under the &lt;&gt; syntax</li></a>
<a href="#t1.6.6"><li class="toc-level toc-level-2"><span class="toc-number">1.6.6</span> Longest token matching (LTM) displaces alternation</li></a>
<a href="#t1.6.6.1"><li class="toc-level toc-level-3"><span class="toc-number">1.6.6.1</span> Comments</li></a>
<a href="#t1.7"><li class="toc-level toc-level-1"><span class="toc-number">1.7</span> Pragmas</li></a>
<a href="#t1.7.0.1"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.1</span> <span class="code">strict</span></li></a>
<a href="#t1.7.0.2"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.2</span> <span class="code">warnings</span></li></a>
<a href="#t1.7.0.3"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.3</span> <span class="code">autodie</span></li></a>
<a href="#t1.7.0.4"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.4</span> <span class="code">base</span></li></a>
<a href="#t1.7.0.5"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.5</span> <span class="code">parent</span></li></a>
<a href="#t1.7.0.6"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.6</span> <span class="code">bigint</span> <span class="code">bignum</span> <span class="code">bigrat</span></li></a>
<a href="#t1.7.0.7"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.7</span> <a name="1"></a><span class="code">constant</span></li></a>
<a href="#t1.7.0.8"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.8</span> <span class="code">encoding</span></li></a>
<a href="#t1.7.0.9"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.9</span> <span class="code">integer</span></li></a>
<a href="#t1.7.0.10"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.10</span> <span class="code">lib</span></li></a>
<a href="#t1.7.0.11"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.11</span> <span class="code">mro</span></li></a>
<a href="#t1.7.0.12"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.12</span> <span class="code">utf8</span></li></a>
<a href="#t1.7.0.13"><li class="toc-level toc-level-3"><span class="toc-number">1.7.0.13</span> <span class="code">vars</span></li></a>
<a href="#t1.8"><li class="toc-level toc-level-1"><span class="toc-number">1.8</span> Command-line flags</li></a>
<a href="#t1.8.0.1"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.1</span> <span class="code">-a</span></li></a>
<a href="#t1.8.0.2"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.2</span> <span class="code">-F</span></li></a>
<a href="#t1.8.0.3"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.3</span> <span class="code">-l</span></li></a>
<a href="#t1.8.0.4"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.4</span> <span class="code">-M</span> <span class="code">-m</span></li></a>
<a href="#t1.8.0.5"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.5</span> <span class="code">-E</span></li></a>
<a href="#t1.8.0.6"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.6</span> <span class="code">-d</span>, <span class="code">-dt</span>, <span class="code">-d:foo</span>, <span class="code">-D</span>, etc.</li></a>
<a href="#t1.8.0.7"><li class="toc-level toc-level-3"><span class="toc-number">1.8.0.7</span> -s</li></a>
<a href="#t1.9"><li class="toc-level toc-level-1"><span class="toc-number">1.9</span> File-related operations</li></a>
<a href="#t1.9.1"><li class="toc-level toc-level-2"><span class="toc-number">1.9.1</span> Reading the lines of a text file into an array</li></a>
<a href="#t1.9.2"><li class="toc-level toc-level-2"><span class="toc-number">1.9.2</span> Trapping the standard output of executables.</li></a>
<a href="#t1.10"><li class="toc-level toc-level-1"><span class="toc-number">1.10</span> Environment variables</li></a>
<a href="#t1.10.1"><li class="toc-level toc-level-2"><span class="toc-number">1.10.1</span> Perl module library path</li></a>
<a href="#t1.11"><li class="toc-level toc-level-1"><span class="toc-number">1.11</span> Misc.</li></a>
<a href="#t1.11.1"><li class="toc-level toc-level-2"><span class="toc-number">1.11.1</span> <span class="code">'0'</span> is True</li></a>
<a href="#t1.11.2"><li class="toc-level toc-level-2"><span class="toc-number">1.11.2</span> <span class="code">dump</span></li></a>
<a href="#t1.11.3"><li class="toc-level toc-level-2"><span class="toc-number">1.11.3</span> AUTOLOAD</li></a>
<a href="#t1.11.4"><li class="toc-level toc-level-2"><span class="toc-number">1.11.4</span> Importing specific functions from a module <a name="3"></a></li></a>
<a href="#t1.12"><li class="toc-level toc-level-1"><span class="toc-number">1.12</span> Core modules</li></a>
<a href="#t1.12.0.1"><li class="toc-level toc-level-3"><span class="toc-number">1.12.0.1</span> <span class="code">Data::Dumper</span></li></a>
<a href="#t1.12.0.2"><li class="toc-level toc-level-3"><span class="toc-number">1.12.0.2</span> <span class="code">Getopt::Long</span></li></a>
<a href="#t1.13"><li class="toc-level toc-level-1"><span class="toc-number">1.13</span> Automated Translation</li></a>
<a href="#t1.13.1"><li class="toc-level toc-level-2"><span class="toc-number">1.13.1</span> Blue Tiger</li></a>
<a href="#t1.13.2"><li class="toc-level toc-level-2"><span class="toc-number">1.13.2</span> Perlito</li></a>
<a href="#t1.13.3"><li class="toc-level toc-level-2"><span class="toc-number">1.13.3</span> MAD</li></a>
<a href="#t1.13.4"><li class="toc-level toc-level-2"><span class="toc-number">1.13.4</span> Perl-ToPerl6</li></a>
<a href="#t1.14"><li class="toc-level toc-level-1"><span class="toc-number">1.14</span> Other sources of translation knowledge</li></a>
<a href="#t2"><li class="toc-level toc-level-0"><span class="toc-number">2</span> Perl 5 to Perl 6 guide - Functions</li></a>
<a href="#t2.1"><li class="toc-level toc-level-1"><span class="toc-number">2.1</span> DESCRIPTION</li></a>
<a href="#t2.2"><li class="toc-level toc-level-1"><span class="toc-number">2.2</span> NOTE</li></a>
<a href="#t2.3"><li class="toc-level toc-level-1"><span class="toc-number">2.3</span> Alphabetical Listing of Perl Functions</li></a>
<a href="#t2.3.1"><li class="toc-level toc-level-2"><span class="toc-number">2.3.1</span> Filetests</li></a>
<a href="#t2.3.2"><li class="toc-level toc-level-2"><span class="toc-number">2.3.2</span> abs</li></a>
<a href="#t2.3.3"><li class="toc-level toc-level-2"><span class="toc-number">2.3.3</span> accept</li></a>
<a href="#t2.3.4"><li class="toc-level toc-level-2"><span class="toc-number">2.3.4</span> alarm</li></a>
<a href="#t2.3.5"><li class="toc-level toc-level-2"><span class="toc-number">2.3.5</span> atan2</li></a>
<a href="#t2.3.6"><li class="toc-level toc-level-2"><span class="toc-number">2.3.6</span> bind</li></a>
<a href="#t2.3.7"><li class="toc-level toc-level-2"><span class="toc-number">2.3.7</span> binmode</li></a>
<a href="#t2.3.8"><li class="toc-level toc-level-2"><span class="toc-number">2.3.8</span> bless</li></a>
<a href="#t2.3.9"><li class="toc-level toc-level-2"><span class="toc-number">2.3.9</span> break</li></a>
<a href="#t2.3.10"><li class="toc-level toc-level-2"><span class="toc-number">2.3.10</span> caller</li></a>
<a href="#t2.3.11"><li class="toc-level toc-level-2"><span class="toc-number">2.3.11</span> chdir</li></a>
<a href="#t2.3.12"><li class="toc-level toc-level-2"><span class="toc-number">2.3.12</span> chmod</li></a>
<a href="#t2.3.13"><li class="toc-level toc-level-2"><span class="toc-number">2.3.13</span> chomp</li></a>
<a href="#t2.3.14"><li class="toc-level toc-level-2"><span class="toc-number">2.3.14</span> chop</li></a>
<a href="#t2.3.15"><li class="toc-level toc-level-2"><span class="toc-number">2.3.15</span> chown</li></a>
<a href="#t2.3.16"><li class="toc-level toc-level-2"><span class="toc-number">2.3.16</span> chr</li></a>
<a href="#t2.3.17"><li class="toc-level toc-level-2"><span class="toc-number">2.3.17</span> chroot</li></a>
<a href="#t2.3.18"><li class="toc-level toc-level-2"><span class="toc-number">2.3.18</span> close</li></a>
<a href="#t2.3.19"><li class="toc-level toc-level-2"><span class="toc-number">2.3.19</span> closedir</li></a>
<a href="#t2.3.20"><li class="toc-level toc-level-2"><span class="toc-number">2.3.20</span> connect</li></a>
<a href="#t2.3.21"><li class="toc-level toc-level-2"><span class="toc-number">2.3.21</span> continue</li></a>
<a href="#t2.3.22"><li class="toc-level toc-level-2"><span class="toc-number">2.3.22</span> cos</li></a>
<a href="#t2.3.23"><li class="toc-level toc-level-2"><span class="toc-number">2.3.23</span> crypt</li></a>
<a href="#t2.3.24"><li class="toc-level toc-level-2"><span class="toc-number">2.3.24</span> dbm functions</li></a>
<a href="#t2.3.25"><li class="toc-level toc-level-2"><span class="toc-number">2.3.25</span> defined</li></a>
<a href="#t2.3.26"><li class="toc-level toc-level-2"><span class="toc-number">2.3.26</span> delete</li></a>
<a href="#t2.3.27"><li class="toc-level toc-level-2"><span class="toc-number">2.3.27</span> die</li></a>
<a href="#t2.3.28"><li class="toc-level toc-level-2"><span class="toc-number">2.3.28</span> do</li></a>
<a href="#t2.3.29"><li class="toc-level toc-level-2"><span class="toc-number">2.3.29</span> dump</li></a>
<a href="#t2.3.30"><li class="toc-level toc-level-2"><span class="toc-number">2.3.30</span> each</li></a>
<a href="#t2.3.31"><li class="toc-level toc-level-2"><span class="toc-number">2.3.31</span> eof</li></a>
<a href="#t2.3.32"><li class="toc-level toc-level-2"><span class="toc-number">2.3.32</span> eval</li></a>
<a href="#t2.3.33"><li class="toc-level toc-level-2"><span class="toc-number">2.3.33</span> evalbytes</li></a>
<a href="#t2.3.34"><li class="toc-level toc-level-2"><span class="toc-number">2.3.34</span> exec</li></a>
<a href="#t2.3.35"><li class="toc-level toc-level-2"><span class="toc-number">2.3.35</span> exists</li></a>
<a href="#t2.3.36"><li class="toc-level toc-level-2"><span class="toc-number">2.3.36</span> exit</li></a>
<a href="#t2.3.37"><li class="toc-level toc-level-2"><span class="toc-number">2.3.37</span> exp</li></a>
<a href="#t2.3.38"><li class="toc-level toc-level-2"><span class="toc-number">2.3.38</span> fc</li></a>
<a href="#t2.3.39"><li class="toc-level toc-level-2"><span class="toc-number">2.3.39</span> fcntl</li></a>
<a href="#t2.3.40"><li class="toc-level toc-level-2"><span class="toc-number">2.3.40</span> __FILE__</li></a>
<a href="#t2.3.41"><li class="toc-level toc-level-2"><span class="toc-number">2.3.41</span> fileno</li></a>
<a href="#t2.3.42"><li class="toc-level toc-level-2"><span class="toc-number">2.3.42</span> flock</li></a>
<a href="#t2.3.43"><li class="toc-level toc-level-2"><span class="toc-number">2.3.43</span> fork</li></a>
<a href="#t2.3.44"><li class="toc-level toc-level-2"><span class="toc-number">2.3.44</span> formats</li></a>
<a href="#t2.3.45"><li class="toc-level toc-level-2"><span class="toc-number">2.3.45</span> getc</li></a>
<a href="#t2.3.46"><li class="toc-level toc-level-2"><span class="toc-number">2.3.46</span> getlogin</li></a>
<a href="#t2.3.47"><li class="toc-level toc-level-2"><span class="toc-number">2.3.47</span> getpeername</li></a>
<a href="#t2.3.48"><li class="toc-level toc-level-2"><span class="toc-number">2.3.48</span> getpgrp</li></a>
<a href="#t2.3.49"><li class="toc-level toc-level-2"><span class="toc-number">2.3.49</span> getpriority</li></a>
<a href="#t2.3.50"><li class="toc-level toc-level-2"><span class="toc-number">2.3.50</span> get and set functions</li></a>
<a href="#t2.3.51"><li class="toc-level toc-level-2"><span class="toc-number">2.3.51</span> getsock*</li></a>
<a href="#t2.3.52"><li class="toc-level toc-level-2"><span class="toc-number">2.3.52</span> glob</li></a>
<a href="#t2.3.53"><li class="toc-level toc-level-2"><span class="toc-number">2.3.53</span> gmtime</li></a>
<a href="#t2.3.54"><li class="toc-level toc-level-2"><span class="toc-number">2.3.54</span> goto</li></a>
<a href="#t2.3.55"><li class="toc-level toc-level-2"><span class="toc-number">2.3.55</span> grep</li></a>
<a href="#t2.3.56"><li class="toc-level toc-level-2"><span class="toc-number">2.3.56</span> hex</li></a>
<a href="#t2.3.57"><li class="toc-level toc-level-2"><span class="toc-number">2.3.57</span> import</li></a>
<a href="#t2.3.58"><li class="toc-level toc-level-2"><span class="toc-number">2.3.58</span> index</li></a>
<a href="#t2.3.59"><li class="toc-level toc-level-2"><span class="toc-number">2.3.59</span> int</li></a>
<a href="#t2.3.60"><li class="toc-level toc-level-2"><span class="toc-number">2.3.60</span> ioctl</li></a>
<a href="#t2.3.61"><li class="toc-level toc-level-2"><span class="toc-number">2.3.61</span> join</li></a>
<a href="#t2.3.62"><li class="toc-level toc-level-2"><span class="toc-number">2.3.62</span> keys</li></a>
<a href="#t2.3.63"><li class="toc-level toc-level-2"><span class="toc-number">2.3.63</span> kill</li></a>
<a href="#t2.3.64"><li class="toc-level toc-level-2"><span class="toc-number">2.3.64</span> last</li></a>
<a href="#t2.3.65"><li class="toc-level toc-level-2"><span class="toc-number">2.3.65</span> lc</li></a>
<a href="#t2.3.66"><li class="toc-level toc-level-2"><span class="toc-number">2.3.66</span> lcfirst</li></a>
<a href="#t2.3.67"><li class="toc-level toc-level-2"><span class="toc-number">2.3.67</span> length</li></a>
<a href="#t2.3.68"><li class="toc-level toc-level-2"><span class="toc-number">2.3.68</span> __LINE__</li></a>
<a href="#t2.3.69"><li class="toc-level toc-level-2"><span class="toc-number">2.3.69</span> link</li></a>
<a href="#t2.3.70"><li class="toc-level toc-level-2"><span class="toc-number">2.3.70</span> listen</li></a>
<a href="#t2.3.71"><li class="toc-level toc-level-2"><span class="toc-number">2.3.71</span> local</li></a>
<a href="#t2.3.72"><li class="toc-level toc-level-2"><span class="toc-number">2.3.72</span> localtime</li></a>
<a href="#t2.3.73"><li class="toc-level toc-level-2"><span class="toc-number">2.3.73</span> lock</li></a>
<a href="#t2.3.74"><li class="toc-level toc-level-2"><span class="toc-number">2.3.74</span> log</li></a>
<a href="#t2.3.75"><li class="toc-level toc-level-2"><span class="toc-number">2.3.75</span> lstat</li></a>
<a href="#t2.3.76"><li class="toc-level toc-level-2"><span class="toc-number">2.3.76</span> m//</li></a>
<a href="#t2.3.77"><li class="toc-level toc-level-2"><span class="toc-number">2.3.77</span> map</li></a>
<a href="#t2.3.78"><li class="toc-level toc-level-2"><span class="toc-number">2.3.78</span> mkdir</li></a>
<a href="#t2.3.79"><li class="toc-level toc-level-2"><span class="toc-number">2.3.79</span> msg*</li></a>
<a href="#t2.3.80"><li class="toc-level toc-level-2"><span class="toc-number">2.3.80</span> my</li></a>
<a href="#t2.3.81"><li class="toc-level toc-level-2"><span class="toc-number">2.3.81</span> next</li></a>
<a href="#t2.3.82"><li class="toc-level toc-level-2"><span class="toc-number">2.3.82</span> no</li></a>
<a href="#t2.3.83"><li class="toc-level toc-level-2"><span class="toc-number">2.3.83</span> oct</li></a>
<a href="#t2.3.84"><li class="toc-level toc-level-2"><span class="toc-number">2.3.84</span> open</li></a>
<a href="#t2.3.85"><li class="toc-level toc-level-2"><span class="toc-number">2.3.85</span> opendir</li></a>
<a href="#t2.3.86"><li class="toc-level toc-level-2"><span class="toc-number">2.3.86</span> ord</li></a>
<a href="#t2.3.87"><li class="toc-level toc-level-2"><span class="toc-number">2.3.87</span> our</li></a>
<a href="#t2.3.88"><li class="toc-level toc-level-2"><span class="toc-number">2.3.88</span> pack</li></a>
<a href="#t2.3.89"><li class="toc-level toc-level-2"><span class="toc-number">2.3.89</span> package</li></a>
<a href="#t2.3.90"><li class="toc-level toc-level-2"><span class="toc-number">2.3.90</span> __PACKAGE__</li></a>
<a href="#t2.3.91"><li class="toc-level toc-level-2"><span class="toc-number">2.3.91</span> pipe</li></a>
<a href="#t2.3.92"><li class="toc-level toc-level-2"><span class="toc-number">2.3.92</span> pop</li></a>
<a href="#t2.3.93"><li class="toc-level toc-level-2"><span class="toc-number">2.3.93</span> pos</li></a>
<a href="#t2.3.94"><li class="toc-level toc-level-2"><span class="toc-number">2.3.94</span> print</li></a>
<a href="#t2.3.95"><li class="toc-level toc-level-2"><span class="toc-number">2.3.95</span> printf</li></a>
<a href="#t2.3.96"><li class="toc-level toc-level-2"><span class="toc-number">2.3.96</span> prototype</li></a>
<a href="#t2.3.97"><li class="toc-level toc-level-2"><span class="toc-number">2.3.97</span> push</li></a>
<a href="#t2.3.98"><li class="toc-level toc-level-2"><span class="toc-number">2.3.98</span> quoting</li></a>
<a href="#t2.3.99"><li class="toc-level toc-level-2"><span class="toc-number">2.3.99</span> rand</li></a>
<a href="#t2.3.100"><li class="toc-level toc-level-2"><span class="toc-number">2.3.100</span> read</li></a>
<a href="#t2.3.101"><li class="toc-level toc-level-2"><span class="toc-number">2.3.101</span> readdir</li></a>
<a href="#t2.3.102"><li class="toc-level toc-level-2"><span class="toc-number">2.3.102</span> readline</li></a>
<a href="#t2.3.103"><li class="toc-level toc-level-2"><span class="toc-number">2.3.103</span> readlink</li></a>
<a href="#t2.3.104"><li class="toc-level toc-level-2"><span class="toc-number">2.3.104</span> readpipe</li></a>
<a href="#t2.3.105"><li class="toc-level toc-level-2"><span class="toc-number">2.3.105</span> recv</li></a>
<a href="#t2.3.106"><li class="toc-level toc-level-2"><span class="toc-number">2.3.106</span> redo</li></a>
<a href="#t2.3.107"><li class="toc-level toc-level-2"><span class="toc-number">2.3.107</span> ref</li></a>
<a href="#t2.3.108"><li class="toc-level toc-level-2"><span class="toc-number">2.3.108</span> rename</li></a>
<a href="#t2.3.109"><li class="toc-level toc-level-2"><span class="toc-number">2.3.109</span> requires</li></a>
<a href="#t2.3.110"><li class="toc-level toc-level-2"><span class="toc-number">2.3.110</span> reset</li></a>
<a href="#t2.3.111"><li class="toc-level toc-level-2"><span class="toc-number">2.3.111</span> return</li></a>
<a href="#t2.3.112"><li class="toc-level toc-level-2"><span class="toc-number">2.3.112</span> reverse</li></a>
<a href="#t2.3.113"><li class="toc-level toc-level-2"><span class="toc-number">2.3.113</span> rewinddir</li></a>
<a href="#t2.3.114"><li class="toc-level toc-level-2"><span class="toc-number">2.3.114</span> rindex</li></a>
<a href="#t2.3.115"><li class="toc-level toc-level-2"><span class="toc-number">2.3.115</span> rmdir</li></a>
<a href="#t2.3.116"><li class="toc-level toc-level-2"><span class="toc-number">2.3.116</span> s///</li></a>
<a href="#t2.3.117"><li class="toc-level toc-level-2"><span class="toc-number">2.3.117</span> say</li></a>
<a href="#t2.3.118"><li class="toc-level toc-level-2"><span class="toc-number">2.3.118</span> scalar</li></a>
<a href="#t2.3.119"><li class="toc-level toc-level-2"><span class="toc-number">2.3.119</span> seek</li></a>
<a href="#t2.3.120"><li class="toc-level toc-level-2"><span class="toc-number">2.3.120</span> seekdir</li></a>
<a href="#t2.3.121"><li class="toc-level toc-level-2"><span class="toc-number">2.3.121</span> select</li></a>
<a href="#t2.3.122"><li class="toc-level toc-level-2"><span class="toc-number">2.3.122</span> semctl</li></a>
<a href="#t2.3.123"><li class="toc-level toc-level-2"><span class="toc-number">2.3.123</span> semget</li></a>
<a href="#t2.3.124"><li class="toc-level toc-level-2"><span class="toc-number">2.3.124</span> semop</li></a>
<a href="#t2.3.125"><li class="toc-level toc-level-2"><span class="toc-number">2.3.125</span> send</li></a>
<a href="#t2.3.126"><li class="toc-level toc-level-2"><span class="toc-number">2.3.126</span> setpgrp</li></a>
<a href="#t2.3.127"><li class="toc-level toc-level-2"><span class="toc-number">2.3.127</span> setpriority</li></a>
<a href="#t2.3.128"><li class="toc-level toc-level-2"><span class="toc-number">2.3.128</span> setsockopt</li></a>
<a href="#t2.3.129"><li class="toc-level toc-level-2"><span class="toc-number">2.3.129</span> shift</li></a>
<a href="#t2.3.130"><li class="toc-level toc-level-2"><span class="toc-number">2.3.130</span> shm*</li></a>
<a href="#t2.3.131"><li class="toc-level toc-level-2"><span class="toc-number">2.3.131</span> shutdown</li></a>
<a href="#t2.3.132"><li class="toc-level toc-level-2"><span class="toc-number">2.3.132</span> sin</li></a>
<a href="#t2.3.133"><li class="toc-level toc-level-2"><span class="toc-number">2.3.133</span> sleep</li></a>
<a href="#t2.3.134"><li class="toc-level toc-level-2"><span class="toc-number">2.3.134</span> sockets</li></a>
<a href="#t2.3.135"><li class="toc-level toc-level-2"><span class="toc-number">2.3.135</span> sort</li></a>
<a href="#t2.3.136"><li class="toc-level toc-level-2"><span class="toc-number">2.3.136</span> splice</li></a>
<a href="#t2.3.137"><li class="toc-level toc-level-2"><span class="toc-number">2.3.137</span> split</li></a>
<a href="#t2.3.138"><li class="toc-level toc-level-2"><span class="toc-number">2.3.138</span> sprintf</li></a>
<a href="#t2.3.139"><li class="toc-level toc-level-2"><span class="toc-number">2.3.139</span> sqrt</li></a>
<a href="#t2.3.140"><li class="toc-level toc-level-2"><span class="toc-number">2.3.140</span> srand</li></a>
<a href="#t2.3.141"><li class="toc-level toc-level-2"><span class="toc-number">2.3.141</span> stat</li></a>
<a href="#t2.3.142"><li class="toc-level toc-level-2"><span class="toc-number">2.3.142</span> state</li></a>
<a href="#t2.3.143"><li class="toc-level toc-level-2"><span class="toc-number">2.3.143</span> study</li></a>
<a href="#t2.3.144"><li class="toc-level toc-level-2"><span class="toc-number">2.3.144</span> sub</li></a>
<a href="#t2.3.145"><li class="toc-level toc-level-2"><span class="toc-number">2.3.145</span> __SUB__</li></a>
<a href="#t2.3.146"><li class="toc-level toc-level-2"><span class="toc-number">2.3.146</span> substr</li></a>
<a href="#t2.3.147"><li class="toc-level toc-level-2"><span class="toc-number">2.3.147</span> symlink</li></a>
<a href="#t2.3.148"><li class="toc-level toc-level-2"><span class="toc-number">2.3.148</span> syscall</li></a>
<a href="#t2.3.149"><li class="toc-level toc-level-2"><span class="toc-number">2.3.149</span> sys*</li></a>
<a href="#t2.3.150"><li class="toc-level toc-level-2"><span class="toc-number">2.3.150</span> system</li></a>
<a href="#t2.3.151"><li class="toc-level toc-level-2"><span class="toc-number">2.3.151</span> syswrite</li></a>
<a href="#t2.3.152"><li class="toc-level toc-level-2"><span class="toc-number">2.3.152</span> tell</li></a>
<a href="#t2.3.153"><li class="toc-level toc-level-2"><span class="toc-number">2.3.153</span> telldir</li></a>
<a href="#t2.3.154"><li class="toc-level toc-level-2"><span class="toc-number">2.3.154</span> tie</li></a>
<a href="#t2.3.155"><li class="toc-level toc-level-2"><span class="toc-number">2.3.155</span> time</li></a>
<a href="#t2.3.156"><li class="toc-level toc-level-2"><span class="toc-number">2.3.156</span> times</li></a>
<a href="#t2.3.157"><li class="toc-level toc-level-2"><span class="toc-number">2.3.157</span> tr///</li></a>
<a href="#t2.3.158"><li class="toc-level toc-level-2"><span class="toc-number">2.3.158</span> truncate</li></a>
<a href="#t2.3.159"><li class="toc-level toc-level-2"><span class="toc-number">2.3.159</span> uc</li></a>
<a href="#t2.3.160"><li class="toc-level toc-level-2"><span class="toc-number">2.3.160</span> ucfirst</li></a>
<a href="#t2.3.161"><li class="toc-level toc-level-2"><span class="toc-number">2.3.161</span> undef</li></a>
<a href="#t2.3.162"><li class="toc-level toc-level-2"><span class="toc-number">2.3.162</span> unlink</li></a>
<a href="#t2.3.163"><li class="toc-level toc-level-2"><span class="toc-number">2.3.163</span> unpack</li></a>
<a href="#t2.3.164"><li class="toc-level toc-level-2"><span class="toc-number">2.3.164</span> unshift</li></a>
<a href="#t2.3.165"><li class="toc-level toc-level-2"><span class="toc-number">2.3.165</span> untie</li></a>
<a href="#t2.3.166"><li class="toc-level toc-level-2"><span class="toc-number">2.3.166</span> use</li></a>
<a href="#t2.3.167"><li class="toc-level toc-level-2"><span class="toc-number">2.3.167</span> utime</li></a>
<a href="#t2.3.168"><li class="toc-level toc-level-2"><span class="toc-number">2.3.168</span> values</li></a>
<a href="#t2.3.169"><li class="toc-level toc-level-2"><span class="toc-number">2.3.169</span> vec</li></a>
<a href="#t2.3.170"><li class="toc-level toc-level-2"><span class="toc-number">2.3.170</span> wait</li></a>
<a href="#t2.3.171"><li class="toc-level toc-level-2"><span class="toc-number">2.3.171</span> waitpid</li></a>
<a href="#t2.3.172"><li class="toc-level toc-level-2"><span class="toc-number">2.3.172</span> wantarray</li></a>
<a href="#t2.3.173"><li class="toc-level toc-level-2"><span class="toc-number">2.3.173</span> warn</li></a>
<a href="#t2.3.174"><li class="toc-level toc-level-2"><span class="toc-number">2.3.174</span> write</li></a>
<a href="#t2.3.175"><li class="toc-level toc-level-2"><span class="toc-number">2.3.175</span> y///</li></a>
<a href="#t3"><li class="toc-level toc-level-0"><span class="toc-number">3</span> Perl 5 to Perl 6 guide - Operators</li></a>
<a href="#t3.1"><li class="toc-level toc-level-1"><span class="toc-number">3.1</span> DESCRIPTION</li></a>
<a href="#t3.2"><li class="toc-level toc-level-1"><span class="toc-number">3.2</span> NOTE</li></a>
<a href="#t3.2.1"><li class="toc-level toc-level-2"><span class="toc-number">3.2.1</span> Operator Precedence and Associativity</li></a>
<a href="#t3.2.2"><li class="toc-level toc-level-2"><span class="toc-number">3.2.2</span> Terms and List Operators</li></a>
<a href="#t3.2.3"><li class="toc-level toc-level-2"><span class="toc-number">3.2.3</span> The Arrow Operator</li></a>
<a href="#t3.2.4"><li class="toc-level toc-level-2"><span class="toc-number">3.2.4</span> Auto-increment and Auto-decrement</li></a>
<a href="#t3.2.5"><li class="toc-level toc-level-2"><span class="toc-number">3.2.5</span> Exponentiation</li></a>
<a href="#t3.2.6"><li class="toc-level toc-level-2"><span class="toc-number">3.2.6</span> Symbolic Unary Operators</li></a>
<a href="#t3.2.7"><li class="toc-level toc-level-2"><span class="toc-number">3.2.7</span> Binding Operators</li></a>
<a href="#t3.2.8"><li class="toc-level toc-level-2"><span class="toc-number">3.2.8</span> Multiplicative Operators</li></a>
<a href="#t3.2.9"><li class="toc-level toc-level-2"><span class="toc-number">3.2.9</span> Additive Operators</li></a>
<a href="#t3.2.10"><li class="toc-level toc-level-2"><span class="toc-number">3.2.10</span> Shift Operators</li></a>
<a href="#t3.2.11"><li class="toc-level toc-level-2"><span class="toc-number">3.2.11</span> Named Unary Operators</li></a>
<a href="#t3.2.12"><li class="toc-level toc-level-2"><span class="toc-number">3.2.12</span> Relational Operators</li></a>
<a href="#t3.2.13"><li class="toc-level toc-level-2"><span class="toc-number">3.2.13</span> Equality Operators</li></a>
<a href="#t3.2.14"><li class="toc-level toc-level-2"><span class="toc-number">3.2.14</span> Smartmatch Operator</li></a>
<a href="#t3.2.15"><li class="toc-level toc-level-2"><span class="toc-number">3.2.15</span> Bitwise And</li></a>
<a href="#t3.2.16"><li class="toc-level toc-level-2"><span class="toc-number">3.2.16</span> Bitwise Or and Exclusive Or</li></a>
<a href="#t3.2.17"><li class="toc-level toc-level-2"><span class="toc-number">3.2.17</span> C-style Logical And</li></a>
<a href="#t3.2.18"><li class="toc-level toc-level-2"><span class="toc-number">3.2.18</span> C-style Logical Or</li></a>
<a href="#t3.2.19"><li class="toc-level toc-level-2"><span class="toc-number">3.2.19</span> Logical Defined-Or</li></a>
<a href="#t3.2.20"><li class="toc-level toc-level-2"><span class="toc-number">3.2.20</span> Range Operators</li></a>
<a href="#t3.2.21"><li class="toc-level toc-level-2"><span class="toc-number">3.2.21</span> Conditional Operator</li></a>
<a href="#t3.2.22"><li class="toc-level toc-level-2"><span class="toc-number">3.2.22</span> Assignment Operators</li></a>
<a href="#t3.2.23"><li class="toc-level toc-level-2"><span class="toc-number">3.2.23</span> Comma Operator</li></a>
<a href="#t3.2.24"><li class="toc-level toc-level-2"><span class="toc-number">3.2.24</span> List Operators (Rightward)</li></a>
<a href="#t3.2.25"><li class="toc-level toc-level-2"><span class="toc-number">3.2.25</span> Logical Not</li></a>
<a href="#t3.2.26"><li class="toc-level toc-level-2"><span class="toc-number">3.2.26</span> Logical And</li></a>
<a href="#t3.2.27"><li class="toc-level toc-level-2"><span class="toc-number">3.2.27</span> Logical or and Exclusive Or</li></a>
<a href="#t3.2.28"><li class="toc-level toc-level-2"><span class="toc-number">3.2.28</span> Quote and Quote-like Operators</li></a>
<a href="#t3.2.29"><li class="toc-level toc-level-2"><span class="toc-number">3.2.29</span> I/O Operators</li></a>
<a href="#t3.2.30"><li class="toc-level toc-level-2"><span class="toc-number">3.2.30</span> No-ops</li></a>
<a href="#t3.2.31"><li class="toc-level toc-level-2"><span class="toc-number">3.2.31</span> Bitwise String Operators</li></a>
<a href="#t4"><li class="toc-level toc-level-0"><span class="toc-number">4</span> Perl 5 to Perl 6 guide - Syntax</li></a>
<a href="#t4.1"><li class="toc-level toc-level-1"><span class="toc-number">4.1</span> DESCRIPTION</li></a>
<a href="#t4.2"><li class="toc-level toc-level-1"><span class="toc-number">4.2</span> NOTE</li></a>
<a href="#t4.3"><li class="toc-level toc-level-1"><span class="toc-number">4.3</span> Free Form</li></a>
<a href="#t4.3.1"><li class="toc-level toc-level-2"><span class="toc-number">4.3.1</span> Declarations</li></a>
<a href="#t4.3.2"><li class="toc-level toc-level-2"><span class="toc-number">4.3.2</span> Comments</li></a>
<a href="#t4.3.3"><li class="toc-level toc-level-2"><span class="toc-number">4.3.3</span> Truth and Falsehood</li></a>
<a href="#t4.3.4"><li class="toc-level toc-level-2"><span class="toc-number">4.3.4</span> Statement Modifiers</li></a>
<a href="#t4.3.5"><li class="toc-level toc-level-2"><span class="toc-number">4.3.5</span> Compound Statements</li></a>
<a href="#t4.3.6"><li class="toc-level toc-level-2"><span class="toc-number">4.3.6</span> Loop Control</li></a>
<a href="#t4.3.7"><li class="toc-level toc-level-2"><span class="toc-number">4.3.7</span> For Loops</li></a>
<a href="#t4.3.8"><li class="toc-level toc-level-2"><span class="toc-number">4.3.8</span> Foreach Loops</li></a>
<a href="#t4.3.9"><li class="toc-level toc-level-2"><span class="toc-number">4.3.9</span> Switch Statements</li></a>
<a href="#t4.3.10"><li class="toc-level toc-level-2"><span class="toc-number">4.3.10</span> Goto</li></a>
<a href="#t4.3.11"><li class="toc-level toc-level-2"><span class="toc-number">4.3.11</span> The Ellipsis Statement</li></a>
<a href="#t4.3.12"><li class="toc-level toc-level-2"><span class="toc-number">4.3.12</span> PODs: Embedded Documentation</li></a>
<a href="#t5"><li class="toc-level toc-level-0"><span class="toc-number">5</span> Perl 5 to Perl 6 guide - Special Variables</li></a>
<a href="#t5.1"><li class="toc-level toc-level-1"><span class="toc-number">5.1</span> DESCRIPTION</li></a>
<a href="#t5.2"><li class="toc-level toc-level-1"><span class="toc-number">5.2</span> NOTE</li></a>
<a href="#t5.3"><li class="toc-level toc-level-1"><span class="toc-number">5.3</span> SPECIAL VARIABLES</li></a>
<a href="#t5.3.1"><li class="toc-level toc-level-2"><span class="toc-number">5.3.1</span> General Variables</li></a>
<a href="#t5.3.2"><li class="toc-level toc-level-2"><span class="toc-number">5.3.2</span> Variables related to regular expressions</li></a>
<a href="#t5.3.2.1"><li class="toc-level toc-level-3"><span class="toc-number">5.3.2.1</span> Performance issues</li></a>
<a href="#t5.3.3"><li class="toc-level toc-level-2"><span class="toc-number">5.3.3</span> Variables related to filehandles</li></a>
<a href="#t5.3.3.1"><li class="toc-level toc-level-3"><span class="toc-number">5.3.3.1</span> Variables related to formats</li></a>
<a href="#t5.3.4"><li class="toc-level toc-level-2"><span class="toc-number">5.3.4</span> Error Variables</li></a>
<a href="#t5.3.5"><li class="toc-level toc-level-2"><span class="toc-number">5.3.5</span> Variables related to the interpreter state</li></a>
<a href="#t5.3.6"><li class="toc-level toc-level-2"><span class="toc-number">5.3.6</span> Deprecated and removed variables</li></a>
<a href="#t6"><li class="toc-level toc-level-0"><span class="toc-number">6</span> About the Docs</li></a>
<a href="#t6.1"><li class="toc-level toc-level-1"><span class="toc-number">6.1</span> Structure</li></a>
<a href="#t6.2"><li class="toc-level toc-level-1"><span class="toc-number">6.2</span> Generating HTML from Pod</li></a>
<a href="#t6.3"><li class="toc-level toc-level-1"><span class="toc-number">6.3</span> Contributing</li></a>
<a href="#t6.3.1"><li class="toc-level toc-level-2"><span class="toc-number">6.3.1</span> Adding definitions</li></a>
<a href="#t7"><li class="toc-level toc-level-0"><span class="toc-number">7</span> Classes and Objects</li></a>
<a href="#t7.1"><li class="toc-level toc-level-1"><span class="toc-number">7.1</span> Starting with class</li></a>
<a href="#t7.2"><li class="toc-level toc-level-1"><span class="toc-number">7.2</span> State</li></a>
<a href="#t7.3"><li class="toc-level toc-level-1"><span class="toc-number">7.3</span> Static fields?</li></a>
<a href="#t7.4"><li class="toc-level toc-level-1"><span class="toc-number">7.4</span> Methods</li></a>
<a href="#t7.4.1"><li class="toc-level toc-level-2"><span class="toc-number">7.4.1</span> Private Methods</li></a>
<a href="#t7.5"><li class="toc-level toc-level-1"><span class="toc-number">7.5</span> Constructors</li></a>
<a href="#t7.6"><li class="toc-level toc-level-1"><span class="toc-number">7.6</span> Consuming our class</li></a>
<a href="#t7.7"><li class="toc-level toc-level-1"><span class="toc-number">7.7</span> Inheritance</li></a>
<a href="#t7.7.1"><li class="toc-level toc-level-2"><span class="toc-number">7.7.1</span> Overriding inherited methods</li></a>
<a href="#t7.7.2"><li class="toc-level toc-level-2"><span class="toc-number">7.7.2</span> Multiple inheritance</li></a>
<a href="#t7.7.3"><li class="toc-level toc-level-2"><span class="toc-number">7.7.3</span> The <a name="46"></a><span class="code">also</span> declarator</li></a>
<a href="#t7.8"><li class="toc-level toc-level-1"><span class="toc-number">7.8</span> Introspection</li></a>
<a href="#t8"><li class="toc-level toc-level-0"><span class="toc-number">8</span> Community </li></a>
<a href="#t8.1"><li class="toc-level toc-level-1"><span class="toc-number">8.1</span> Overview</li></a>
<a href="#t8.2"><li class="toc-level toc-level-1"><span class="toc-number">8.2</span> The Perl 6 community</li></a>
<a href="#t8.3"><li class="toc-level toc-level-1"><span class="toc-number">8.3</span> Perl 6 Weekly</li></a>
<a href="#t9"><li class="toc-level toc-level-0"><span class="toc-number">9</span> Concurrency</li></a>
<a href="#t9.1"><li class="toc-level toc-level-1"><span class="toc-number">9.1</span> High-level APIs</li></a>
<a href="#t9.1.1"><li class="toc-level toc-level-2"><span class="toc-number">9.1.1</span> Promises</li></a>
<a href="#t9.1.2"><li class="toc-level toc-level-2"><span class="toc-number">9.1.2</span> Supplies</li></a>
<a href="#t9.1.2.1"><li class="toc-level toc-level-3"><span class="toc-number">9.1.2.1</span> <a name="49"></a><span class="code">react</span> and <a name="50"></a><span class="code">whenever</span></li></a>
<a href="#t9.1.3"><li class="toc-level toc-level-2"><span class="toc-number">9.1.3</span> Channels</li></a>
<a href="#t9.1.4"><li class="toc-level toc-level-2"><span class="toc-number">9.1.4</span> Proc::Async</li></a>
<a href="#t9.2"><li class="toc-level toc-level-1"><span class="toc-number">9.2</span> Low-level APIs</li></a>
<a href="#t9.2.1"><li class="toc-level toc-level-2"><span class="toc-number">9.2.1</span> Threads</li></a>
<a href="#t9.2.2"><li class="toc-level toc-level-2"><span class="toc-number">9.2.2</span> Schedulers</li></a>
<a href="#t9.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">9.2.2.1</span> ThreadPoolScheduler</li></a>
<a href="#t9.2.2.2"><li class="toc-level toc-level-3"><span class="toc-number">9.2.2.2</span> CurrentThreadScheduler</li></a>
<a href="#t9.2.3"><li class="toc-level toc-level-2"><span class="toc-number">9.2.3</span> Locks</li></a>
<a href="#t9.3"><li class="toc-level toc-level-1"><span class="toc-number">9.3</span> Safety Concerns</li></a>
<a href="#t10"><li class="toc-level toc-level-0"><span class="toc-number">10</span> Containers</li></a>
<a href="#t10.1"><li class="toc-level toc-level-1"><span class="toc-number">10.1</span> What is a variable?</li></a>
<a href="#t10.2"><li class="toc-level toc-level-1"><span class="toc-number">10.2</span> Scalar containers</li></a>
<a href="#t10.3"><li class="toc-level toc-level-1"><span class="toc-number">10.3</span> Callable containers</li></a>
<a href="#t10.4"><li class="toc-level toc-level-1"><span class="toc-number">10.4</span> Binding</li></a>
<a href="#t10.5"><li class="toc-level toc-level-1"><span class="toc-number">10.5</span> Scalar containers and listy things</li></a>
<a href="#t10.6"><li class="toc-level toc-level-1"><span class="toc-number">10.6</span> Assigning and binding to array variables</li></a>
<a href="#t10.7"><li class="toc-level toc-level-1"><span class="toc-number">10.7</span> Binding to array elements</li></a>
<a href="#t10.8"><li class="toc-level toc-level-1"><span class="toc-number">10.8</span> Flattening, items and containers</li></a>
<a href="#t10.9"><li class="toc-level toc-level-1"><span class="toc-number">10.9</span> Self-Referential Data</li></a>
<a href="#t10.10"><li class="toc-level toc-level-1"><span class="toc-number">10.10</span> Type Constraints</li></a>
<a href="#t10.11"><li class="toc-level toc-level-1"><span class="toc-number">10.11</span> Custom containers</li></a>
<a href="#t11"><li class="toc-level toc-level-0"><span class="toc-number">11</span> Contributors</li></a>
<a href="#t11.1"><li class="toc-level toc-level-1"><span class="toc-number">11.1</span> A</li></a>
<a href="#t11.2"><li class="toc-level toc-level-1"><span class="toc-number">11.2</span> B</li></a>
<a href="#t11.3"><li class="toc-level toc-level-1"><span class="toc-number">11.3</span> C</li></a>
<a href="#t11.4"><li class="toc-level toc-level-1"><span class="toc-number">11.4</span> D</li></a>
<a href="#t11.5"><li class="toc-level toc-level-1"><span class="toc-number">11.5</span> E</li></a>
<a href="#t11.6"><li class="toc-level toc-level-1"><span class="toc-number">11.6</span> F</li></a>
<a href="#t11.7"><li class="toc-level toc-level-1"><span class="toc-number">11.7</span> G</li></a>
<a href="#t11.8"><li class="toc-level toc-level-1"><span class="toc-number">11.8</span> H</li></a>
<a href="#t11.9"><li class="toc-level toc-level-1"><span class="toc-number">11.9</span> I</li></a>
<a href="#t11.10"><li class="toc-level toc-level-1"><span class="toc-number">11.10</span> J</li></a>
<a href="#t11.11"><li class="toc-level toc-level-1"><span class="toc-number">11.11</span> K</li></a>
<a href="#t11.12"><li class="toc-level toc-level-1"><span class="toc-number">11.12</span> L</li></a>
<a href="#t11.13"><li class="toc-level toc-level-1"><span class="toc-number">11.13</span> M</li></a>
<a href="#t11.14"><li class="toc-level toc-level-1"><span class="toc-number">11.14</span> N</li></a>
<a href="#t11.15"><li class="toc-level toc-level-1"><span class="toc-number">11.15</span> O</li></a>
<a href="#t11.16"><li class="toc-level toc-level-1"><span class="toc-number">11.16</span> P</li></a>
<a href="#t11.17"><li class="toc-level toc-level-1"><span class="toc-number">11.17</span> Q</li></a>
<a href="#t11.18"><li class="toc-level toc-level-1"><span class="toc-number">11.18</span> R</li></a>
<a href="#t11.19"><li class="toc-level toc-level-1"><span class="toc-number">11.19</span> S</li></a>
<a href="#t11.20"><li class="toc-level toc-level-1"><span class="toc-number">11.20</span> T</li></a>
<a href="#t11.21"><li class="toc-level toc-level-1"><span class="toc-number">11.21</span> U</li></a>
<a href="#t11.22"><li class="toc-level toc-level-1"><span class="toc-number">11.22</span> V</li></a>
<a href="#t11.23"><li class="toc-level toc-level-1"><span class="toc-number">11.23</span> W</li></a>
<a href="#t11.24"><li class="toc-level toc-level-1"><span class="toc-number">11.24</span> X</li></a>
<a href="#t11.25"><li class="toc-level toc-level-1"><span class="toc-number">11.25</span> Y</li></a>
<a href="#t11.26"><li class="toc-level toc-level-1"><span class="toc-number">11.26</span> Z</li></a>
<a href="#t12"><li class="toc-level toc-level-0"><span class="toc-number">12</span> Control Flow</li></a>
<a href="#t12.1"><li class="toc-level toc-level-1"><span class="toc-number">12.1</span> <a name="53"></a>statements</li></a>
<a href="#t12.2"><li class="toc-level toc-level-1"><span class="toc-number">12.2</span> <a name="54"></a>blocks</li></a>
<a href="#t12.3"><li class="toc-level toc-level-1"><span class="toc-number">12.3</span> <a name="55"></a>do</li></a>
<a href="#t12.4"><li class="toc-level toc-level-1"><span class="toc-number">12.4</span> <a name="56"></a>if</li></a>
<a href="#t12.4.1"><li class="toc-level toc-level-2"><span class="toc-number">12.4.1</span> <a name="57"></a>else/elsif</li></a>
<a href="#t12.4.2"><li class="toc-level toc-level-2"><span class="toc-number">12.4.2</span> <a name="58"></a>unless</li></a>
<a href="#t12.4.3"><li class="toc-level toc-level-2"><span class="toc-number">12.4.3</span> <a name="59"></a>with, orwith, without</li></a>
<a href="#t12.5"><li class="toc-level toc-level-1"><span class="toc-number">12.5</span> <a name="60"></a>when</li></a>
<a href="#t12.6"><li class="toc-level toc-level-1"><span class="toc-number">12.6</span> <a name="61"></a>for</li></a>
<a href="#t12.7"><li class="toc-level toc-level-1"><span class="toc-number">12.7</span> <a name="62"></a>gather/take</li></a>
<a href="#t12.8"><li class="toc-level toc-level-1"><span class="toc-number">12.8</span> <a name="65"></a>given <a name="66"></a></li></a>
<a href="#t12.8.1"><li class="toc-level toc-level-2"><span class="toc-number">12.8.1</span> <a name="67"></a>default and when</li></a>
<a href="#t12.8.2"><li class="toc-level toc-level-2"><span class="toc-number">12.8.2</span> <a name="68"></a>proceed</li></a>
<a href="#t12.8.3"><li class="toc-level toc-level-2"><span class="toc-number">12.8.3</span> <a name="69"></a>succeed</li></a>
<a href="#t12.8.4"><li class="toc-level toc-level-2"><span class="toc-number">12.8.4</span> <a name="70"></a>given as a statement</li></a>
<a href="#t12.9"><li class="toc-level toc-level-1"><span class="toc-number">12.9</span> <a name="71"></a>loop</li></a>
<a href="#t12.10"><li class="toc-level toc-level-1"><span class="toc-number">12.10</span> <a name="72"></a>while, until</li></a>
<a href="#t12.11"><li class="toc-level toc-level-1"><span class="toc-number">12.11</span> <a name="73"></a>repeat/while, repeat/until</li></a>
<a href="#t12.12"><li class="toc-level toc-level-1"><span class="toc-number">12.12</span> <a name="74"></a>return</li></a>
<a href="#t12.13"><li class="toc-level toc-level-1"><span class="toc-number">12.13</span> <a name="75"></a>return-rw</li></a>
<a href="#t12.14"><li class="toc-level toc-level-1"><span class="toc-number">12.14</span> <a name="76"></a>fail</li></a>
<a href="#t12.15"><li class="toc-level toc-level-1"><span class="toc-number">12.15</span> <a name="77"></a>once</li></a>
<a href="#t12.16"><li class="toc-level toc-level-1"><span class="toc-number">12.16</span> <a name="78"></a>quietly</li></a>
<a href="#t12.17"><li class="toc-level toc-level-1"><span class="toc-number">12.17</span> LABELs</li></a>
<a href="#t12.18"><li class="toc-level toc-level-1"><span class="toc-number">12.18</span> <a name="79"></a>next</li></a>
<a href="#t12.19"><li class="toc-level toc-level-1"><span class="toc-number">12.19</span> <a name="80"></a>last</li></a>
<a href="#t12.20"><li class="toc-level toc-level-1"><span class="toc-number">12.20</span> <a name="81"></a>redo</li></a>
<a href="#t13"><li class="toc-level toc-level-0"><span class="toc-number">13</span> Enumeration</li></a>
<a href="#t13.1"><li class="toc-level toc-level-1"><span class="toc-number">13.1</span> An example using the enum type</li></a>
<a href="#t14"><li class="toc-level toc-level-0"><span class="toc-number">14</span> Exceptions</li></a>
<a href="#t14.1"><li class="toc-level toc-level-1"><span class="toc-number">14.1</span> Ad hoc exceptions</li></a>
<a href="#t14.2"><li class="toc-level toc-level-1"><span class="toc-number">14.2</span> Typed exceptions</li></a>
<a href="#t14.3"><li class="toc-level toc-level-1"><span class="toc-number">14.3</span> Catching exceptions</li></a>
<a href="#t14.3.1"><li class="toc-level toc-level-2"><span class="toc-number">14.3.1</span> Exception handlers and enclosing blocks.</li></a>
<a href="#t14.4"><li class="toc-level toc-level-1"><span class="toc-number">14.4</span> <a name="83"></a><span class="code">try</span></li></a>
<a href="#t14.5"><li class="toc-level toc-level-1"><span class="toc-number">14.5</span> Throwing exceptions</li></a>
<a href="#t14.6"><li class="toc-level toc-level-1"><span class="toc-number">14.6</span> Resuming of Exceptions</li></a>
<a href="#t14.7"><li class="toc-level toc-level-1"><span class="toc-number">14.7</span> Uncaught Exceptions</li></a>
<a href="#t14.8"><li class="toc-level toc-level-1"><span class="toc-number">14.8</span> Control Exceptions</li></a>
<a href="#t15"><li class="toc-level toc-level-0"><span class="toc-number">15</span> Experimental Features</li></a>
<a href="#t15.1"><li class="toc-level toc-level-1"><span class="toc-number">15.1</span> Collation</li></a>
<a href="#t15.1.1"><li class="toc-level toc-level-2"><span class="toc-number">15.1.1</span> collate (method)</li></a>
<a href="#t15.1.2"><li class="toc-level toc-level-2"><span class="toc-number">15.1.2</span> Collation Levels</li></a>
<a href="#t16"><li class="toc-level toc-level-0"><span class="toc-number">16</span> FAQ</li></a>
<a href="#t16.1"><li class="toc-level toc-level-1"><span class="toc-number">16.1</span> General</li></a>
<a href="#t16.1.1"><li class="toc-level toc-level-2"><span class="toc-number">16.1.1</span> What's the difference between Rakudo and Perl 6?</li></a>
<a href="#t16.1.2"><li class="toc-level toc-level-2"><span class="toc-number">16.1.2</span> Has Perl 6 been released?</li></a>
<a href="#t16.1.3"><li class="toc-level toc-level-2"><span class="toc-number">16.1.3</span> Is there a Perl 6 version 6.0.0?</li></a>
<a href="#t16.1.4"><li class="toc-level toc-level-2"><span class="toc-number">16.1.4</span> When is v6.d going to be released?</li></a>
<a href="#t16.1.5"><li class="toc-level toc-level-2"><span class="toc-number">16.1.5</span> As a Perl 6 user, what should I install?</li></a>
<a href="#t16.1.6"><li class="toc-level toc-level-2"><span class="toc-number">16.1.6</span> As an advanced user I want to track Rakudo development.</li></a>
<a href="#t16.1.7"><li class="toc-level toc-level-2"><span class="toc-number">16.1.7</span> Where can I find good documentation on Perl 6?</li></a>
<a href="#t16.1.8"><li class="toc-level toc-level-2"><span class="toc-number">16.1.8</span> What is the Perl 6 specification?</li></a>
<a href="#t16.1.9"><li class="toc-level toc-level-2"><span class="toc-number">16.1.9</span> Is there a glossary of Perl 6 related terms?</li></a>
<a href="#t16.1.10"><li class="toc-level toc-level-2"><span class="toc-number">16.1.10</span> I'm a Perl 5 programmer. Where is a list of differences between Perl 5 and Perl 6?</li></a>
<a href="#t16.1.11"><li class="toc-level toc-level-2"><span class="toc-number">16.1.11</span> I'm a Ruby programmer looking for quickstart type docs?</li></a>
<a href="#t16.2"><li class="toc-level toc-level-1"><span class="toc-number">16.2</span> Modules</li></a>
<a href="#t16.2.1"><li class="toc-level toc-level-2"><span class="toc-number">16.2.1</span> Is there a CPAN (repository of third party library modules) for Perl 6?</li></a>
<a href="#t16.2.2"><li class="toc-level toc-level-2"><span class="toc-number">16.2.2</span> Is there a perldoc (command line documentation viewer) for Perl 6?</li></a>
<a href="#t16.2.3"><li class="toc-level toc-level-2"><span class="toc-number">16.2.3</span> Can I use Perl 5 modules from Perl 6?</li></a>
<a href="#t16.2.4"><li class="toc-level toc-level-2"><span class="toc-number">16.2.4</span> Can I use C and C++ from Perl 6?</li></a>
<a href="#t16.2.5"><li class="toc-level toc-level-2"><span class="toc-number">16.2.5</span> Nativecall can't find libfoo.so and I only have libfoo.so.1.2!</li></a>
<a href="#t16.2.6"><li class="toc-level toc-level-2"><span class="toc-number">16.2.6</span> Where have all the traditional UNIX library functions gone?</li></a>
<a href="#t16.2.7"><li class="toc-level toc-level-2"><span class="toc-number">16.2.7</span> Does Rakudo have a core standard library?</li></a>
<a href="#t16.2.8"><li class="toc-level toc-level-2"><span class="toc-number">16.2.8</span> Is there something like <span class="code">B::Deparse</span>/How can I get hold of the AST?</li></a>
<a href="#t16.2.9"><li class="toc-level toc-level-2"><span class="toc-number">16.2.9</span> What is Precompilation?</li></a>
<a href="#t16.2.10"><li class="toc-level toc-level-2"><span class="toc-number">16.2.10</span> Can I have circular dependencies between modules?</li></a>
<a href="#t16.3"><li class="toc-level toc-level-1"><span class="toc-number">16.3</span> Language Features</li></a>
<a href="#t16.3.1"><li class="toc-level toc-level-2"><span class="toc-number">16.3.1</span> How can I dump Perl 6 data structures (like Perl 5 Data::Dumper and similar)?</li></a>
<a href="#t16.3.2"><li class="toc-level toc-level-2"><span class="toc-number">16.3.2</span> How can I get command line history in the Perl 6 prompt (REPL)?</li></a>
<a href="#t16.3.3"><li class="toc-level toc-level-2"><span class="toc-number">16.3.3</span> Why is the Rakudo compiler so apologetic?</li></a>
<a href="#t16.3.4"><li class="toc-level toc-level-2"><span class="toc-number">16.3.4</span> What is <span class="code">(Any)</span>?</li></a>
<a href="#t16.3.5"><li class="toc-level toc-level-2"><span class="toc-number">16.3.5</span> What is <span class="code">so</span>?</li></a>
<a href="#t16.3.6"><li class="toc-level toc-level-2"><span class="toc-number">16.3.6</span> What are those <span class="code">:D</span> and <span class="code">:U</span> things in signatures?</li></a>
<a href="#t16.3.7"><li class="toc-level toc-level-2"><span class="toc-number">16.3.7</span> What is the <span class="code">--&gt;</span> thing in the signature?</li></a>
<a href="#t16.3.8"><li class="toc-level toc-level-2"><span class="toc-number">16.3.8</span> How can I extract the values from a Junction?</li></a>
<a href="#t16.3.9"><li class="toc-level toc-level-2"><span class="toc-number">16.3.9</span> If Str is immutable, how does <span class="code">s///</span> work? If Int is immutable, how does <span class="code">$i++</span> work?</li></a>
<a href="#t16.3.10"><li class="toc-level toc-level-2"><span class="toc-number">16.3.10</span> What's up with array references and automatic dereferencing? Do I need the <span class="code">@</span> sigil?</li></a>
<a href="#t16.3.11"><li class="toc-level toc-level-2"><span class="toc-number">16.3.11</span> Why sigils? Couldn't you do without them?</li></a>
<a href="#t16.3.12"><li class="toc-level toc-level-2"><span class="toc-number">16.3.12</span> &quot;Type Str does not support associative indexing.&quot;</li></a>
<a href="#t16.3.13"><li class="toc-level toc-level-2"><span class="toc-number">16.3.13</span> Does Perl 6 have coroutines? What about <span class="code">yield</span>?</li></a>
<a href="#t16.3.14"><li class="toc-level toc-level-2"><span class="toc-number">16.3.14</span> Why can't I initialize private attributes from the new method, and how can I fix this?</li></a>
<a href="#t16.3.15"><li class="toc-level toc-level-2"><span class="toc-number">16.3.15</span> How and why do <span class="code">say</span>, <span class="code">put</span> and <span class="code">print</span> differ?</li></a>
<a href="#t16.3.16"><li class="toc-level toc-level-2"><span class="toc-number">16.3.16</span> What's the difference between <span class="code">token</span> and <span class="code">rule</span> ?</li></a>
<a href="#t16.3.17"><li class="toc-level toc-level-2"><span class="toc-number">16.3.17</span> What's the difference between <span class="code">die</span> and <span class="code">fail</span>?</li></a>
<a href="#t16.3.18"><li class="toc-level toc-level-2"><span class="toc-number">16.3.18</span> Why is <span class="code">wantarray</span> or <span class="code">want</span> gone? Can I return different things in different contexts?</li></a>
<a href="#t16.3.19"><li class="toc-level toc-level-2"><span class="toc-number">16.3.19</span> What's the difference between <span class="code">Pointer</span> and <span class="code">OpaquePointer</span>?</li></a>
<a href="#t16.3.20"><li class="toc-level toc-level-2"><span class="toc-number">16.3.20</span> You can have colonpairs in identifiers. What's the justification?</li></a>
<a href="#t16.4"><li class="toc-level toc-level-1"><span class="toc-number">16.4</span> Perl 6 Implementation</li></a>
<a href="#t16.4.1"><li class="toc-level toc-level-2"><span class="toc-number">16.4.1</span> What Perl 6 Implementations are available?</li></a>
<a href="#t16.4.2"><li class="toc-level toc-level-2"><span class="toc-number">16.4.2</span> What language is Rakudo written in?</li></a>
<a href="#t16.4.3"><li class="toc-level toc-level-2"><span class="toc-number">16.4.3</span> What language is NQP written in?</li></a>
<a href="#t16.4.4"><li class="toc-level toc-level-2"><span class="toc-number">16.4.4</span> Is Perl 6 Lisp?</li></a>
<a href="#t16.5"><li class="toc-level toc-level-1"><span class="toc-number">16.5</span> Perl 6 Distribution</li></a>
<a href="#t16.5.1"><li class="toc-level toc-level-2"><span class="toc-number">16.5.1</span> When will the next version of Rakudo Star be released?</li></a>
<a href="#t16.6"><li class="toc-level toc-level-1"><span class="toc-number">16.6</span> Meta Questions and Advocacy</li></a>
<a href="#t16.6.1"><li class="toc-level toc-level-2"><span class="toc-number">16.6.1</span> Why is Perl 6 called Perl?</li></a>
<a href="#t16.6.2"><li class="toc-level toc-level-2"><span class="toc-number">16.6.2</span> When will Perl 6 be ready? Is it ready now?</li></a>
<a href="#t16.6.3"><li class="toc-level toc-level-2"><span class="toc-number">16.6.3</span> Why should I learn Perl 6? What's so great about it?</li></a>
<a href="#t16.6.4"><li class="toc-level toc-level-2"><span class="toc-number">16.6.4</span> Is Perl 6 fast enough for me?</li></a>
<a href="#t17"><li class="toc-level toc-level-0"><span class="toc-number">17</span> Functions</li></a>
<a href="#t17.1"><li class="toc-level toc-level-1"><span class="toc-number">17.1</span> Defining/Creating/Using Functions</li></a>
<a href="#t17.1.1"><li class="toc-level toc-level-2"><span class="toc-number">17.1.1</span> <a name="122"></a>Subroutines</li></a>
<a href="#t17.1.2"><li class="toc-level toc-level-2"><span class="toc-number">17.1.2</span> <a name="123"></a>Blocks and Lambdas</li></a>
<a href="#t17.1.3"><li class="toc-level toc-level-2"><span class="toc-number">17.1.3</span> Signatures</li></a>
<a href="#t17.1.3.1"><li class="toc-level toc-level-3"><span class="toc-number">17.1.3.1</span> Automatic Signatures</li></a>
<a href="#t17.1.4"><li class="toc-level toc-level-2"><span class="toc-number">17.1.4</span> Arguments <a name="126"></a></li></a>
<a href="#t17.1.5"><li class="toc-level toc-level-2"><span class="toc-number">17.1.5</span> Return values</li></a>
<a href="#t17.1.6"><li class="toc-level toc-level-2"><span class="toc-number">17.1.6</span> Return Type Constraints</li></a>
<a href="#t17.1.7"><li class="toc-level toc-level-2"><span class="toc-number">17.1.7</span> <a name="127"></a>Multi-dispatch</li></a>
<a href="#t17.1.7.1"><li class="toc-level toc-level-3"><span class="toc-number">17.1.7.1</span> <a name="128"></a>proto</li></a>
<a href="#t17.2"><li class="toc-level toc-level-1"><span class="toc-number">17.2</span> Conventions and Idioms</li></a>
<a href="#t17.2.1"><li class="toc-level toc-level-2"><span class="toc-number">17.2.1</span> Slurpy Conventions</li></a>
<a href="#t17.3"><li class="toc-level toc-level-1"><span class="toc-number">17.3</span> Functions are First-Class Objects</li></a>
<a href="#t17.3.1"><li class="toc-level toc-level-2"><span class="toc-number">17.3.1</span> <!--  -->Infix Form</li></a>
<a href="#t17.3.2"><li class="toc-level toc-level-2"><span class="toc-number">17.3.2</span> Closures</li></a>
<a href="#t17.3.3"><li class="toc-level toc-level-2"><span class="toc-number">17.3.3</span> Routines</li></a>
<a href="#t17.4"><li class="toc-level toc-level-1"><span class="toc-number">17.4</span> Defining Operators</li></a>
<a href="#t17.4.1"><li class="toc-level toc-level-2"><span class="toc-number">17.4.1</span> Precedence</li></a>
<a href="#t17.4.2"><li class="toc-level toc-level-2"><span class="toc-number">17.4.2</span> Associativity</li></a>
<a href="#t17.5"><li class="toc-level toc-level-1"><span class="toc-number">17.5</span> Traits</li></a>
<a href="#t17.6"><li class="toc-level toc-level-1"><span class="toc-number">17.6</span> Re-dispatching</li></a>
<a href="#t17.6.1"><li class="toc-level toc-level-2"><span class="toc-number">17.6.1</span> sub callsame</li></a>
<a href="#t17.6.2"><li class="toc-level toc-level-2"><span class="toc-number">17.6.2</span> sub callwith</li></a>
<a href="#t17.6.3"><li class="toc-level toc-level-2"><span class="toc-number">17.6.3</span> sub nextsame</li></a>
<a href="#t17.6.4"><li class="toc-level toc-level-2"><span class="toc-number">17.6.4</span> sub nextwith</li></a>
<a href="#t17.6.5"><li class="toc-level toc-level-2"><span class="toc-number">17.6.5</span> sub samewith</li></a>
<a href="#t17.6.6"><li class="toc-level toc-level-2"><span class="toc-number">17.6.6</span> sub nextcallee</li></a>
<a href="#t17.6.7"><li class="toc-level toc-level-2"><span class="toc-number">17.6.7</span> wrapped routines</li></a>
<a href="#t17.6.8"><li class="toc-level toc-level-2"><span class="toc-number">17.6.8</span> routines of parent class</li></a>
<a href="#t17.7"><li class="toc-level toc-level-1"><span class="toc-number">17.7</span> Coercion Types</li></a>
<a href="#t17.8"><li class="toc-level toc-level-1"><span class="toc-number">17.8</span> sub MAIN</li></a>
<a href="#t17.8.1"><li class="toc-level toc-level-2"><span class="toc-number">17.8.1</span> <span class="code">%*SUB-MAIN-OPTS</span></li></a>
<a href="#t17.8.1.1"><li class="toc-level toc-level-3"><span class="toc-number">17.8.1.1</span> <span class="code">named-anywhere</span></li></a>
<a href="#t17.8.2"><li class="toc-level toc-level-2"><span class="toc-number">17.8.2</span> <a name="145"></a>Unit-scoped definition of MAIN</li></a>
<a href="#t17.9"><li class="toc-level toc-level-1"><span class="toc-number">17.9</span> sub USAGE</li></a>
<a href="#t18"><li class="toc-level toc-level-0"><span class="toc-number">18</span> Glossary</li></a>
<a href="#t18.1"><li class="toc-level toc-level-1"><span class="toc-number">18.1</span> Abstract Class <a name="148"></a></li></a>
<a href="#t18.2"><li class="toc-level toc-level-1"><span class="toc-number">18.2</span> Advent Calendar <a name="149"></a></li></a>
<a href="#t18.3"><li class="toc-level toc-level-1"><span class="toc-number">18.3</span> Adverb <a name="150"></a></li></a>
<a href="#t18.4"><li class="toc-level toc-level-1"><span class="toc-number">18.4</span> Adverbial Pair <a name="151"></a></li></a>
<a href="#t18.5"><li class="toc-level toc-level-1"><span class="toc-number">18.5</span> Allomorph <a name="152"></a></li></a>
<a href="#t18.6"><li class="toc-level toc-level-1"><span class="toc-number">18.6</span> Anonymous <a name="153"></a></li></a>
<a href="#t18.7"><li class="toc-level toc-level-1"><span class="toc-number">18.7</span> API <a name="154"></a></li></a>
<a href="#t18.8"><li class="toc-level toc-level-1"><span class="toc-number">18.8</span> Apocalypse <a name="155"></a></li></a>
<a href="#t18.9"><li class="toc-level toc-level-1"><span class="toc-number">18.9</span> Arity <a name="156"></a></li></a>
<a href="#t18.10"><li class="toc-level toc-level-1"><span class="toc-number">18.10</span> Autothreading <a name="157"></a></li></a>
<a href="#t18.11"><li class="toc-level toc-level-1"><span class="toc-number">18.11</span> Backtracking <a name="158"></a></li></a>
<a href="#t18.12"><li class="toc-level toc-level-1"><span class="toc-number">18.12</span> binder</li></a>
<a href="#t18.13"><li class="toc-level toc-level-1"><span class="toc-number">18.13</span> block <a name="159"></a></li></a>
<a href="#t18.14"><li class="toc-level toc-level-1"><span class="toc-number">18.14</span> bytecode <a name="160"></a></li></a>
<a href="#t18.15"><li class="toc-level toc-level-1"><span class="toc-number">18.15</span> Camelia <a name="161"></a></li></a>
<a href="#t18.16"><li class="toc-level toc-level-1"><span class="toc-number">18.16</span> Colon Pair and Colon List <a name="162"></a> <a name="163"></a></li></a>
<a href="#t18.17"><li class="toc-level toc-level-1"><span class="toc-number">18.17</span> Community <a name="164"></a></li></a>
<a href="#t18.18"><li class="toc-level toc-level-1"><span class="toc-number">18.18</span> Damian Conway</li></a>
<a href="#t18.19"><li class="toc-level toc-level-1"><span class="toc-number">18.19</span> diffy <a name="165"></a></li></a>
<a href="#t18.20"><li class="toc-level toc-level-1"><span class="toc-number">18.20</span> Exegesis <a name="166"></a></li></a>
<a href="#t18.21"><li class="toc-level toc-level-1"><span class="toc-number">18.21</span> fiddly <a name="167"></a></li></a>
<a href="#t18.22"><li class="toc-level toc-level-1"><span class="toc-number">18.22</span> Huffmanize</li></a>
<a href="#t18.23"><li class="toc-level toc-level-1"><span class="toc-number">18.23</span> iffy <a name="168"></a></li></a>
<a href="#t18.24"><li class="toc-level toc-level-1"><span class="toc-number">18.24</span> Instance <a name="169"></a></li></a>
<a href="#t18.25"><li class="toc-level toc-level-1"><span class="toc-number">18.25</span> Interface <a name="170"></a></li></a>
<a href="#t18.26"><li class="toc-level toc-level-1"><span class="toc-number">18.26</span> Invocant</li></a>
<a href="#t18.27"><li class="toc-level toc-level-1"><span class="toc-number">18.27</span> IRC <a name="171"></a></li></a>
<a href="#t18.27.1"><li class="toc-level toc-level-2"><span class="toc-number">18.27.1</span> camelia <a name="172"></a></li></a>
<a href="#t18.27.2"><li class="toc-level toc-level-2"><span class="toc-number">18.27.2</span> dalek <a name="173"></a></li></a>
<a href="#t18.27.3"><li class="toc-level toc-level-2"><span class="toc-number">18.27.3</span> yoleaux <a name="174"></a></li></a>
<a href="#t18.27.3.1"><li class="toc-level toc-level-3"><span class="toc-number">18.27.3.1</span> .tell</li></a>
<a href="#t18.27.3.2"><li class="toc-level toc-level-3"><span class="toc-number">18.27.3.2</span> .u</li></a>
<a href="#t18.28"><li class="toc-level toc-level-1"><span class="toc-number">18.28</span> IRC Lingo</li></a>
<a href="#t18.28.1"><li class="toc-level toc-level-2"><span class="toc-number">18.28.1</span> ALAP <a name="175"></a></li></a>
<a href="#t18.28.2"><li class="toc-level toc-level-2"><span class="toc-number">18.28.2</span> autopun <a name="176"></a></li></a>
<a href="#t18.28.3"><li class="toc-level toc-level-2"><span class="toc-number">18.28.3</span> backlog <a name="177"></a></li></a>
<a href="#t18.28.4"><li class="toc-level toc-level-2"><span class="toc-number">18.28.4</span> Bot <a name="178"></a></li></a>
<a href="#t18.28.5"><li class="toc-level toc-level-2"><span class="toc-number">18.28.5</span> DWIM <a name="179"></a></li></a>
<a href="#t18.28.6"><li class="toc-level toc-level-2"><span class="toc-number">18.28.6</span> flap <a name="180"></a></li></a>
<a href="#t18.28.7"><li class="toc-level toc-level-2"><span class="toc-number">18.28.7</span> fossil <a name="181"></a></li></a>
<a href="#t18.28.8"><li class="toc-level toc-level-2"><span class="toc-number">18.28.8</span> FSVO <a name="182"></a></li></a>
<a href="#t18.28.9"><li class="toc-level toc-level-2"><span class="toc-number">18.28.9</span> FTFY <a name="183"></a></li></a>
<a href="#t18.28.10"><li class="toc-level toc-level-2"><span class="toc-number">18.28.10</span> IIRC <a name="184"></a></li></a>
<a href="#t18.28.11"><li class="toc-level toc-level-2"><span class="toc-number">18.28.11</span> IMHO <a name="185"></a></li></a>
<a href="#t18.28.12"><li class="toc-level toc-level-2"><span class="toc-number">18.28.12</span> IWBN <a name="186"></a></li></a>
<a href="#t18.28.13"><li class="toc-level toc-level-2"><span class="toc-number">18.28.13</span> LHF <a name="187"></a></li></a>
<a href="#t18.28.14"><li class="toc-level toc-level-2"><span class="toc-number">18.28.14</span> LGTM <a name="188"></a></li></a>
<a href="#t18.28.15"><li class="toc-level toc-level-2"><span class="toc-number">18.28.15</span> LTA <a name="189"></a></li></a>
<a href="#t18.28.16"><li class="toc-level toc-level-2"><span class="toc-number">18.28.16</span> NST <a name="190"></a></li></a>
<a href="#t18.28.17"><li class="toc-level toc-level-2"><span class="toc-number">18.28.17</span> Opt <a name="191"></a></li></a>
<a href="#t18.28.18"><li class="toc-level toc-level-2"><span class="toc-number">18.28.18</span> PB <a name="192"></a></li></a>
<a href="#t18.28.19"><li class="toc-level toc-level-2"><span class="toc-number">18.28.19</span> PR <a name="193"></a></li></a>
<a href="#t18.28.20"><li class="toc-level toc-level-2"><span class="toc-number">18.28.20</span> P5 <a name="194"></a></li></a>
<a href="#t18.28.21"><li class="toc-level toc-level-2"><span class="toc-number">18.28.21</span> P6 <a name="195"></a></li></a>
<a href="#t18.28.22"><li class="toc-level toc-level-2"><span class="toc-number">18.28.22</span> RSN <a name="196"></a></li></a>
<a href="#t18.28.23"><li class="toc-level toc-level-2"><span class="toc-number">18.28.23</span> RT <a name="197"></a></li></a>
<a href="#t18.28.24"><li class="toc-level toc-level-2"><span class="toc-number">18.28.24</span> TIMTOWTDI <a name="198"></a></li></a>
<a href="#t18.28.25"><li class="toc-level toc-level-2"><span class="toc-number">18.28.25</span> TMI <a name="199"></a></li></a>
<a href="#t18.28.26"><li class="toc-level toc-level-2"><span class="toc-number">18.28.26</span> TMTOWTDI <a name="200"></a></li></a>
<a href="#t18.28.27"><li class="toc-level toc-level-2"><span class="toc-number">18.28.27</span> UGT <a name="201"></a></li></a>
<a href="#t18.28.28"><li class="toc-level toc-level-2"><span class="toc-number">18.28.28</span> WFM <a name="202"></a></li></a>
<a href="#t18.28.29"><li class="toc-level toc-level-2"><span class="toc-number">18.28.29</span> WIP <a name="203"></a></li></a>
<a href="#t18.28.30"><li class="toc-level toc-level-2"><span class="toc-number">18.28.30</span> WP <a name="204"></a></li></a>
<a href="#t18.28.31"><li class="toc-level toc-level-2"><span class="toc-number">18.28.31</span> WW <a name="205"></a></li></a>
<a href="#t18.29"><li class="toc-level toc-level-1"><span class="toc-number">18.29</span> Larry Wall</li></a>
<a href="#t18.30"><li class="toc-level toc-level-1"><span class="toc-number">18.30</span> Lexing <a name="206"></a></li></a>
<a href="#t18.31"><li class="toc-level toc-level-1"><span class="toc-number">18.31</span> Literal <a name="207"></a></li></a>
<a href="#t18.32"><li class="toc-level toc-level-1"><span class="toc-number">18.32</span> lvalue <a name="208"></a></li></a>
<a href="#t18.33"><li class="toc-level toc-level-1"><span class="toc-number">18.33</span> Mainline <a name="209"></a></li></a>
<a href="#t18.34"><li class="toc-level toc-level-1"><span class="toc-number">18.34</span> MoarVM <a name="210"></a></li></a>
<a href="#t18.35"><li class="toc-level toc-level-1"><span class="toc-number">18.35</span> Multi-Dispatch <a name="211"></a><a name="212"></a></li></a>
<a href="#t18.36"><li class="toc-level toc-level-1"><span class="toc-number">18.36</span> multi-method <a name="213"></a></li></a>
<a href="#t18.37"><li class="toc-level toc-level-1"><span class="toc-number">18.37</span> NFG <a name="214"></a></li></a>
<a href="#t18.38"><li class="toc-level toc-level-1"><span class="toc-number">18.38</span> Niecza <a name="215"></a></li></a>
<a href="#t18.39"><li class="toc-level toc-level-1"><span class="toc-number">18.39</span> Not Quite Perl <a name="216"></a></li></a>
<a href="#t18.40"><li class="toc-level toc-level-1"><span class="toc-number">18.40</span> NQP <a name="217"></a></li></a>
<a href="#t18.41"><li class="toc-level toc-level-1"><span class="toc-number">18.41</span> NYI <a name="218"></a></li></a>
<a href="#t18.42"><li class="toc-level toc-level-1"><span class="toc-number">18.42</span> opcode <a name="219"></a></li></a>
<a href="#t18.43"><li class="toc-level toc-level-1"><span class="toc-number">18.43</span> Operator <a name="220"></a></li></a>
<a href="#t18.44"><li class="toc-level toc-level-1"><span class="toc-number">18.44</span> Parse Tree <a name="221"></a></li></a>
<a href="#t18.45"><li class="toc-level toc-level-1"><span class="toc-number">18.45</span> Parameter <a name="222"></a></li></a>
<a href="#t18.46"><li class="toc-level toc-level-1"><span class="toc-number">18.46</span> Parrot <a name="223"></a></li></a>
<a href="#t18.47"><li class="toc-level toc-level-1"><span class="toc-number">18.47</span> PAST <a name="224"></a></li></a>
<a href="#t18.48"><li class="toc-level toc-level-1"><span class="toc-number">18.48</span> Perl <a name="225"></a></li></a>
<a href="#t18.49"><li class="toc-level toc-level-1"><span class="toc-number">18.49</span> PERL <a name="226"></a></li></a>
<a href="#t18.50"><li class="toc-level toc-level-1"><span class="toc-number">18.50</span> POD <a name="227"></a></li></a>
<a href="#t18.51"><li class="toc-level toc-level-1"><span class="toc-number">18.51</span> Pull Request <a name="228"></a></li></a>
<a href="#t18.52"><li class="toc-level toc-level-1"><span class="toc-number">18.52</span> pugs <a name="229"></a></li></a>
<a href="#t18.53"><li class="toc-level toc-level-1"><span class="toc-number">18.53</span> QAST <a name="230"></a></li></a>
<a href="#t18.54"><li class="toc-level toc-level-1"><span class="toc-number">18.54</span> Rakudo <a name="231"></a></li></a>
<a href="#t18.55"><li class="toc-level toc-level-1"><span class="toc-number">18.55</span> Reify <a name="232"></a></li></a>
<a href="#t18.56"><li class="toc-level toc-level-1"><span class="toc-number">18.56</span> Repository <a name="233"></a></li></a>
<a href="#t18.57"><li class="toc-level toc-level-1"><span class="toc-number">18.57</span> roast <a name="234"></a></li></a>
<a href="#t18.58"><li class="toc-level toc-level-1"><span class="toc-number">18.58</span> Roles <a name="235"></a></li></a>
<a href="#t18.59"><li class="toc-level toc-level-1"><span class="toc-number">18.59</span> rule <a name="236"></a></li></a>
<a href="#t18.60"><li class="toc-level toc-level-1"><span class="toc-number">18.60</span> rvalue <a name="237"></a></li></a>
<a href="#t18.61"><li class="toc-level toc-level-1"><span class="toc-number">18.61</span> <a name="238"></a>Semilist</li></a>
<a href="#t18.62"><li class="toc-level toc-level-1"><span class="toc-number">18.62</span> Sigil <a name="239"></a></li></a>
<a href="#t18.63"><li class="toc-level toc-level-1"><span class="toc-number">18.63</span> Sigilless Variable <a name="240"></a></li></a>
<a href="#t18.64"><li class="toc-level toc-level-1"><span class="toc-number">18.64</span> Spesh <a name="241"></a></li></a>
<a href="#t18.65"><li class="toc-level toc-level-1"><span class="toc-number">18.65</span> STD <a name="242"></a></li></a>
<a href="#t18.66"><li class="toc-level toc-level-1"><span class="toc-number">18.66</span> Stub <a name="243"></a></li></a>
<a href="#t18.67"><li class="toc-level toc-level-1"><span class="toc-number">18.67</span> Symbol <a name="244"></a></li></a>
<a href="#t18.68"><li class="toc-level toc-level-1"><span class="toc-number">18.68</span> Synopsis <a name="245"></a></li></a>
<a href="#t18.69"><li class="toc-level toc-level-1"><span class="toc-number">18.69</span> Syntax Analysis <a name="246"></a></li></a>
<a href="#t18.70"><li class="toc-level toc-level-1"><span class="toc-number">18.70</span> test suite <a name="247"></a></li></a>
<a href="#t18.71"><li class="toc-level toc-level-1"><span class="toc-number">18.71</span> ASCII operator <a name="248"></a> <a name="249"></a></li></a>
<a href="#t18.72"><li class="toc-level toc-level-1"><span class="toc-number">18.72</span> TheDamian</li></a>
<a href="#t18.73"><li class="toc-level toc-level-1"><span class="toc-number">18.73</span> TimToady</li></a>
<a href="#t18.74"><li class="toc-level toc-level-1"><span class="toc-number">18.74</span> Thunk <a name="250"></a></li></a>
<a href="#t18.75"><li class="toc-level toc-level-1"><span class="toc-number">18.75</span> twine <a name="251"></a></li></a>
<a href="#t18.76"><li class="toc-level toc-level-1"><span class="toc-number">18.76</span> value <a name="252"></a></li></a>
<a href="#t18.77"><li class="toc-level toc-level-1"><span class="toc-number">18.77</span> Value type <a name="253"></a></li></a>
<a href="#t18.78"><li class="toc-level toc-level-1"><span class="toc-number">18.78</span> Variable <a name="254"></a></li></a>
<a href="#t18.79"><li class="toc-level toc-level-1"><span class="toc-number">18.79</span> Variable Interpolation <a name="255"></a></li></a>
<a href="#t18.80"><li class="toc-level toc-level-1"><span class="toc-number">18.80</span> Virtual Machine <a name="256"></a></li></a>
<a href="#t18.81"><li class="toc-level toc-level-1"><span class="toc-number">18.81</span> whitespace <a name="257"></a></li></a>
<a href="#t18.82"><li class="toc-level toc-level-1"><span class="toc-number">18.82</span> 6model <a name="258"></a></li></a>
<a href="#t19"><li class="toc-level toc-level-0"><span class="toc-number">19</span> Grammar Tutorial</li></a>
<a href="#t19.1"><li class="toc-level toc-level-1"><span class="toc-number">19.1</span> Before We Start</li></a>
<a href="#t19.1.1"><li class="toc-level toc-level-2"><span class="toc-number">19.1.1</span> Why grammars?</li></a>
<a href="#t19.1.2"><li class="toc-level toc-level-2"><span class="toc-number">19.1.2</span> When would I use grammars?</li></a>
<a href="#t19.1.3"><li class="toc-level toc-level-2"><span class="toc-number">19.1.3</span> The broad concept of grammars</li></a>
<a href="#t19.2"><li class="toc-level toc-level-1"><span class="toc-number">19.2</span> Getting More Technical</li></a>
<a href="#t19.2.1"><li class="toc-level toc-level-2"><span class="toc-number">19.2.1</span> The conceptual overview</li></a>
<a href="#t19.2.2"><li class="toc-level toc-level-2"><span class="toc-number">19.2.2</span> The technical overview</li></a>
<a href="#t19.3"><li class="toc-level toc-level-1"><span class="toc-number">19.3</span> Learning By Example - a REST Contrivance</li></a>
<a href="#t19.3.1"><li class="toc-level toc-level-2"><span class="toc-number">19.3.1</span> Adding some flexibility</li></a>
<a href="#t19.3.2"><li class="toc-level toc-level-2"><span class="toc-number">19.3.2</span> Adding some constraints</li></a>
<a href="#t19.3.3"><li class="toc-level toc-level-2"><span class="toc-number">19.3.3</span> Putting our RESTful grammar together</li></a>
<a href="#t19.4"><li class="toc-level toc-level-1"><span class="toc-number">19.4</span> Grammar Actions</li></a>
<a href="#t19.4.1"><li class="toc-level toc-level-2"><span class="toc-number">19.4.1</span> Grammars by example with actions</li></a>
<a href="#t19.4.2"><li class="toc-level toc-level-2"><span class="toc-number">19.4.2</span> Keeping grammars with actions tidy with <span class="code">make</span> and <span class="code">made</span></li></a>
<a href="#t19.4.3"><li class="toc-level toc-level-2"><span class="toc-number">19.4.3</span> Add actions directly</li></a>
<a href="#t20"><li class="toc-level toc-level-0"><span class="toc-number">20</span> Grammars</li></a>
<a href="#t20.1"><li class="toc-level toc-level-1"><span class="toc-number">20.1</span> <a name="259"></a>Named Regexes</li></a>
<a href="#t20.2"><li class="toc-level toc-level-1"><span class="toc-number">20.2</span> <a name="260"></a>Creating Grammars</li></a>
<a href="#t20.2.1"><li class="toc-level toc-level-2"><span class="toc-number">20.2.1</span> <a name="261"></a>Proto regexes</li></a>
<a href="#t20.2.2"><li class="toc-level toc-level-2"><span class="toc-number">20.2.2</span> Special Tokens</li></a>
<a href="#t20.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">20.2.2.1</span> <a name="262"></a><span class="code">TOP</span></li></a>
<a href="#t20.2.2.2"><li class="toc-level toc-level-3"><span class="toc-number">20.2.2.2</span> <a name="263"></a><span class="code">ws</span></li></a>
<a href="#t20.2.2.3"><li class="toc-level toc-level-3"><span class="toc-number">20.2.2.3</span> <a name="264"></a><span class="code">sym</span></li></a>
<a href="#t20.2.2.4"><li class="toc-level toc-level-3"><span class="toc-number">20.2.2.4</span> <a name="265"></a>Always Succeed Assertion</li></a>
<a href="#t20.2.3"><li class="toc-level toc-level-2"><span class="toc-number">20.2.3</span> Methods in Grammar</li></a>
<a href="#t20.3"><li class="toc-level toc-level-1"><span class="toc-number">20.3</span> <a name="266"></a>Action Objects</li></a>
<a href="#t21"><li class="toc-level toc-level-0"><span class="toc-number">21</span> Perl 6 from Haskell - Nutshell</li></a>
<a href="#t21.1"><li class="toc-level toc-level-1"><span class="toc-number">21.1</span> Types</li></a>
<a href="#t21.1.1"><li class="toc-level toc-level-2"><span class="toc-number">21.1.1</span> Types vs Values</li></a>
<a href="#t21.1.2"><li class="toc-level toc-level-2"><span class="toc-number">21.1.2</span> Maybe</li></a>
<a href="#t21.1.3"><li class="toc-level toc-level-2"><span class="toc-number">21.1.3</span> Data Definitions</li></a>
<a href="#t21.1.4"><li class="toc-level toc-level-2"><span class="toc-number">21.1.4</span> Type Aliases and Subsets</li></a>
<a href="#t21.1.5"><li class="toc-level toc-level-2"><span class="toc-number">21.1.5</span> Typeclasses</li></a>
<a href="#t21.2"><li class="toc-level toc-level-1"><span class="toc-number">21.2</span> Functions</li></a>
<a href="#t21.2.1"><li class="toc-level toc-level-2"><span class="toc-number">21.2.1</span> Definitions and Signatures</li></a>
<a href="#t21.2.2"><li class="toc-level toc-level-2"><span class="toc-number">21.2.2</span> Currying</li></a>
<a href="#t21.2.3"><li class="toc-level toc-level-2"><span class="toc-number">21.2.3</span> Composing</li></a>
<a href="#t21.3"><li class="toc-level toc-level-1"><span class="toc-number">21.3</span> Case / Matching</li></a>
<a href="#t21.4"><li class="toc-level toc-level-1"><span class="toc-number">21.4</span> Lists</li></a>
<a href="#t21.4.1"><li class="toc-level toc-level-2"><span class="toc-number">21.4.1</span> List Comprehensions</li></a>
<a href="#t21.4.2"><li class="toc-level toc-level-2"><span class="toc-number">21.4.2</span> Fold</li></a>
<a href="#t21.4.3"><li class="toc-level toc-level-2"><span class="toc-number">21.4.3</span> Map</li></a>
<a href="#t21.4.4"><li class="toc-level toc-level-2"><span class="toc-number">21.4.4</span> Ranges</li></a>
<a href="#t21.4.5"><li class="toc-level toc-level-2"><span class="toc-number">21.4.5</span> Laziness vs Eagerness</li></a>
<a href="#t21.5"><li class="toc-level toc-level-1"><span class="toc-number">21.5</span> Contexts (let-in / where)</li></a>
<a href="#t21.6"><li class="toc-level toc-level-1"><span class="toc-number">21.6</span> Parsers</li></a>
<a href="#t21.6.1"><li class="toc-level toc-level-2"><span class="toc-number">21.6.1</span> Parser Combinators vs Grammars</li></a>
<a href="#t22"><li class="toc-level toc-level-0"><span class="toc-number">22</span> Input/Output The Definitive Guide</li></a>
<a href="#t22.1"><li class="toc-level toc-level-1"><span class="toc-number">22.1</span> The Basics</li></a>
<a href="#t22.2"><li class="toc-level toc-level-1"><span class="toc-number">22.2</span> Navigating Paths</li></a>
<a href="#t22.2.1"><li class="toc-level toc-level-2"><span class="toc-number">22.2.1</span> What's an IO::Path Anyway?</li></a>
<a href="#t22.2.2"><li class="toc-level toc-level-2"><span class="toc-number">22.2.2</span> Working with Files</li></a>
<a href="#t22.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">22.2.2.1</span> Writing into files</li></a>
<a href="#t22.2.2.1.1"><li class="toc-level toc-level-4"><span class="toc-number">22.2.2.1.1</span> Writing new content</li></a>
<a href="#t22.2.2.1.2"><li class="toc-level toc-level-4"><span class="toc-number">22.2.2.1.2</span> Appending content</li></a>
<a href="#t22.2.2.2"><li class="toc-level toc-level-3"><span class="toc-number">22.2.2.2</span> Reading from files</li></a>
<a href="#t22.2.2.2.1"><li class="toc-level toc-level-4"><span class="toc-number">22.2.2.2.1</span> Using IO::Path</li></a>
<a href="#t22.2.2.2.2"><li class="toc-level toc-level-4"><span class="toc-number">22.2.2.2.2</span> Using IO::Handle</li></a>
<a href="#t22.3"><li class="toc-level toc-level-1"><span class="toc-number">22.3</span> The Wrong Way To Do Things</li></a>
<a href="#t22.3.1"><li class="toc-level toc-level-2"><span class="toc-number">22.3.1</span> Leave $*SPEC Alone</li></a>
<a href="#t22.3.2"><li class="toc-level toc-level-2"><span class="toc-number">22.3.2</span> Stringifying IO::Path</li></a>
<a href="#t22.3.3"><li class="toc-level toc-level-2"><span class="toc-number">22.3.3</span> Be mindful of $*CWD</li></a>
<a href="#t22.3.3.1"><li class="toc-level toc-level-3"><span class="toc-number">22.3.3.1</span> temp the $*CWD</li></a>
<a href="#t23"><li class="toc-level toc-level-0"><span class="toc-number">23</span> Input/Output</li></a>
<a href="#t23.1"><li class="toc-level toc-level-1"><span class="toc-number">23.1</span> Reading from files</li></a>
<a href="#t23.1.1"><li class="toc-level toc-level-2"><span class="toc-number">23.1.1</span> Line by line</li></a>
<a href="#t23.2"><li class="toc-level toc-level-1"><span class="toc-number">23.2</span> Writing to files</li></a>
<a href="#t23.3"><li class="toc-level toc-level-1"><span class="toc-number">23.3</span> Copying and renaming files</li></a>
<a href="#t23.4"><li class="toc-level toc-level-1"><span class="toc-number">23.4</span> Checking files and directories</li></a>
<a href="#t23.5"><li class="toc-level toc-level-1"><span class="toc-number">23.5</span> Getting a directory listing</li></a>
<a href="#t23.6"><li class="toc-level toc-level-1"><span class="toc-number">23.6</span> Creating and removing directories</li></a>
<a href="#t24"><li class="toc-level toc-level-0"><span class="toc-number">24</span> Inter-Process Communication</li></a>
<a href="#t24.1"><li class="toc-level toc-level-1"><span class="toc-number">24.1</span> <a name="268"></a>running</li></a>
<a href="#t24.2"><li class="toc-level toc-level-1"><span class="toc-number">24.2</span> <a name="269"></a>proc</li></a>
<a href="#t24.3"><li class="toc-level toc-level-1"><span class="toc-number">24.3</span> <a name="270"></a>async</li></a>
<a href="#t25"><li class="toc-level toc-level-0"><span class="toc-number">25</span> Lists, Sequences, and Arrays</li></a>
<a href="#t25.1"><li class="toc-level toc-level-1"><span class="toc-number">25.1</span> Literal Lists</li></a>
<a href="#t25.2"><li class="toc-level toc-level-1"><span class="toc-number">25.2</span> The @ sigil</li></a>
<a href="#t25.3"><li class="toc-level toc-level-1"><span class="toc-number">25.3</span> Reset a List Container</li></a>
<a href="#t25.4"><li class="toc-level toc-level-1"><span class="toc-number">25.4</span> Iteration</li></a>
<a href="#t25.4.1"><li class="toc-level toc-level-2"><span class="toc-number">25.4.1</span> <a name="271"></a>Single Argument Rule</li></a>
<a href="#t25.5"><li class="toc-level toc-level-1"><span class="toc-number">25.5</span> Testing for Elements</li></a>
<a href="#t25.5.1"><li class="toc-level toc-level-2"><span class="toc-number">25.5.1</span> Sequences</li></a>
<a href="#t25.5.2"><li class="toc-level toc-level-2"><span class="toc-number">25.5.2</span> Slips</li></a>
<a href="#t25.6"><li class="toc-level toc-level-1"><span class="toc-number">25.6</span> Lazy Lists <a name="272"></a></li></a>
<a href="#t25.7"><li class="toc-level toc-level-1"><span class="toc-number">25.7</span> Immutability</li></a>
<a href="#t25.8"><li class="toc-level toc-level-1"><span class="toc-number">25.8</span> List Contexts</li></a>
<a href="#t25.8.1"><li class="toc-level toc-level-2"><span class="toc-number">25.8.1</span> List Assignment Context</li></a>
<a href="#t25.8.2"><li class="toc-level toc-level-2"><span class="toc-number">25.8.2</span> Flattening &quot;Context&quot;</li></a>
<a href="#t25.8.3"><li class="toc-level toc-level-2"><span class="toc-number">25.8.3</span> Argument List (Capture) Context</li></a>
<a href="#t25.8.4"><li class="toc-level toc-level-2"><span class="toc-number">25.8.4</span> Slice Indexing Context</li></a>
<a href="#t25.8.5"><li class="toc-level toc-level-2"><span class="toc-number">25.8.5</span> Range as Slice</li></a>
<a href="#t25.8.6"><li class="toc-level toc-level-2"><span class="toc-number">25.8.6</span> Array Constructor Context</li></a>
<a href="#t25.9"><li class="toc-level toc-level-1"><span class="toc-number">25.9</span> Arrays</li></a>
<a href="#t25.9.1"><li class="toc-level toc-level-2"><span class="toc-number">25.9.1</span> Typing</li></a>
<a href="#t25.9.2"><li class="toc-level toc-level-2"><span class="toc-number">25.9.2</span> Fixed Size Arrays</li></a>
<a href="#t25.9.3"><li class="toc-level toc-level-2"><span class="toc-number">25.9.3</span> Itemization</li></a>
<a href="#t25.9.4"><li class="toc-level toc-level-2"><span class="toc-number">25.9.4</span> Literal Arrays</li></a>
<a href="#t25.9.5"><li class="toc-level toc-level-2"><span class="toc-number">25.9.5</span> Mutability</li></a>
<a href="#t25.9.5.1"><li class="toc-level toc-level-3"><span class="toc-number">25.9.5.1</span> Assigning</li></a>
<a href="#t25.9.5.2"><li class="toc-level toc-level-3"><span class="toc-number">25.9.5.2</span> Binding</li></a>
<a href="#t26"><li class="toc-level toc-level-0"><span class="toc-number">26</span> Module Packages</li></a>
<a href="#t26.1"><li class="toc-level toc-level-1"><span class="toc-number">26.1</span> What are modules?</li></a>
<a href="#t26.1.1"><li class="toc-level toc-level-2"><span class="toc-number">26.1.1</span> When to use modules</li></a>
<a href="#t26.1.2"><li class="toc-level toc-level-2"><span class="toc-number">26.1.2</span> Working with modules</li></a>
<a href="#t26.2"><li class="toc-level toc-level-1"><span class="toc-number">26.2</span> Modules on disk</li></a>
<a href="#t26.2.1"><li class="toc-level toc-level-2"><span class="toc-number">26.2.1</span> File and module naming</li></a>
<a href="#t26.2.1.1"><li class="toc-level toc-level-3"><span class="toc-number">26.2.1.1</span> The <span class="code">unit</span> keyword</li></a>
<a href="#t26.2.2"><li class="toc-level toc-level-2"><span class="toc-number">26.2.2</span> What happens if I omit <span class="code">module</span>?</li></a>
<a href="#t26.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">26.2.2.1</span> Lexical aliasing and safety</li></a>
<a href="#t27"><li class="toc-level toc-level-0"><span class="toc-number">27</span> Core Modules</li></a>
<a href="#t27.0.1"><li class="toc-level toc-level-2"><span class="toc-number">27.0.1</span> <span class="code">CompUnit::*</span> modules and Roles <a name="275"></a></li></a>
<a href="#t27.0.2"><li class="toc-level toc-level-2"><span class="toc-number">27.0.2</span> <span class="code">NativeCall</span> modules</li></a>
<a href="#t27.0.3"><li class="toc-level toc-level-2"><span class="toc-number">27.0.3</span> Other modules</li></a>
<a href="#t28"><li class="toc-level toc-level-0"><span class="toc-number">28</span> Module Development Utilities</li></a>
<a href="#t28.1"><li class="toc-level toc-level-1"><span class="toc-number">28.1</span> Module builder and Authoring tools</li></a>
<a href="#t28.2"><li class="toc-level toc-level-1"><span class="toc-number">28.2</span> Tests</li></a>
<a href="#t28.3"><li class="toc-level toc-level-1"><span class="toc-number">28.3</span> NativeCall</li></a>
<a href="#t28.4"><li class="toc-level toc-level-1"><span class="toc-number">28.4</span> Sample modules</li></a>
<a href="#t29"><li class="toc-level toc-level-0"><span class="toc-number">29</span> Modules</li></a>
<a href="#t29.1"><li class="toc-level toc-level-1"><span class="toc-number">29.1</span> Creating and Using Modules</li></a>
<a href="#t29.1.1"><li class="toc-level toc-level-2"><span class="toc-number">29.1.1</span> Looking for and installing modules.</li></a>
<a href="#t29.1.2"><li class="toc-level toc-level-2"><span class="toc-number">29.1.2</span> Basic Structure</li></a>
<a href="#t29.1.3"><li class="toc-level toc-level-2"><span class="toc-number">29.1.3</span> Loading and Basic Importing</li></a>
<a href="#t29.1.3.1"><li class="toc-level toc-level-3"><span class="toc-number">29.1.3.1</span> <a name="276"></a>need</li></a>
<a href="#t29.1.3.2"><li class="toc-level toc-level-3"><span class="toc-number">29.1.3.2</span> <a name="277"></a>use</li></a>
<a href="#t29.1.3.3"><li class="toc-level toc-level-3"><span class="toc-number">29.1.3.3</span> <a name="278"></a>require</li></a>
<a href="#t29.1.4"><li class="toc-level toc-level-2"><span class="toc-number">29.1.4</span> Exporting and Selective Importing</li></a>
<a href="#t29.1.4.1"><li class="toc-level toc-level-3"><span class="toc-number">29.1.4.1</span> is export</li></a>
<a href="#t29.1.4.2"><li class="toc-level toc-level-3"><span class="toc-number">29.1.4.2</span> UNIT::EXPORT::*</li></a>
<a href="#t29.1.4.3"><li class="toc-level toc-level-3"><span class="toc-number">29.1.4.3</span> EXPORT <a name="279"></a></li></a>
<a href="#t29.1.5"><li class="toc-level toc-level-2"><span class="toc-number">29.1.5</span> Introspection</li></a>
<a href="#t29.1.6"><li class="toc-level toc-level-2"><span class="toc-number">29.1.6</span> Finding Modules</li></a>
<a href="#t29.2"><li class="toc-level toc-level-1"><span class="toc-number">29.2</span> Distributing Modules</li></a>
<a href="#t29.2.1"><li class="toc-level toc-level-2"><span class="toc-number">29.2.1</span> Preparing the Module</li></a>
<a href="#t29.2.2"><li class="toc-level toc-level-2"><span class="toc-number">29.2.2</span> Upload your Module to CPAN</li></a>
<a href="#t29.2.3"><li class="toc-level toc-level-2"><span class="toc-number">29.2.3</span> Upload your Module to p6c</li></a>
<a href="#t29.3"><li class="toc-level toc-level-1"><span class="toc-number">29.3</span> Modules and Tools Related to Module Authoring</li></a>
<a href="#t29.3.1"><li class="toc-level toc-level-2"><span class="toc-number">29.3.1</span> Contact Information</li></a>
<a href="#t30"><li class="toc-level toc-level-0"><span class="toc-number">30</span> Meta-Object Protocol</li></a>
<a href="#t30.1"><li class="toc-level toc-level-1"><span class="toc-number">30.1</span> Metamethods</li></a>
<a href="#t30.1.1"><li class="toc-level toc-level-2"><span class="toc-number">30.1.1</span> <a name="284"></a>WHAT</li></a>
<a href="#t30.1.2"><li class="toc-level toc-level-2"><span class="toc-number">30.1.2</span> <a name="285"></a>WHICH</li></a>
<a href="#t30.1.3"><li class="toc-level toc-level-2"><span class="toc-number">30.1.3</span> <a name="286"></a>WHO</li></a>
<a href="#t30.1.4"><li class="toc-level toc-level-2"><span class="toc-number">30.1.4</span> <a name="287"></a>WHERE</li></a>
<a href="#t30.1.5"><li class="toc-level toc-level-2"><span class="toc-number">30.1.5</span> <a name="288"></a>HOW</li></a>
<a href="#t30.1.6"><li class="toc-level toc-level-2"><span class="toc-number">30.1.6</span> <a name="289"></a>WHY</li></a>
<a href="#t30.1.7"><li class="toc-level toc-level-2"><span class="toc-number">30.1.7</span> <a name="290"></a>DEFINITE</li></a>
<a href="#t30.1.8"><li class="toc-level toc-level-2"><span class="toc-number">30.1.8</span> <a name="291"></a>VAR</li></a>
<a href="#t30.2"><li class="toc-level toc-level-1"><span class="toc-number">30.2</span> Structure of the meta object system</li></a>
<a href="#t30.2.1"><li class="toc-level toc-level-2"><span class="toc-number">30.2.1</span> Bootstrapping concerns</li></a>
<a href="#t30.2.2"><li class="toc-level toc-level-2"><span class="toc-number">30.2.2</span> Composition time and static reasoning</li></a>
<a href="#t30.2.3"><li class="toc-level toc-level-2"><span class="toc-number">30.2.3</span> Power and Responsibility</li></a>
<a href="#t30.2.4"><li class="toc-level toc-level-2"><span class="toc-number">30.2.4</span> Power, Convenience and Pitfalls</li></a>
<a href="#t31"><li class="toc-level toc-level-0"><span class="toc-number">31</span> Native Calling Interface</li></a>
<a href="#t31.1"><li class="toc-level toc-level-1"><span class="toc-number">31.1</span> Getting Started</li></a>
<a href="#t31.2"><li class="toc-level toc-level-1"><span class="toc-number">31.2</span> Changing names</li></a>
<a href="#t31.3"><li class="toc-level toc-level-1"><span class="toc-number">31.3</span> Passing and Returning Values</li></a>
<a href="#t31.4"><li class="toc-level toc-level-1"><span class="toc-number">31.4</span> Basic use of Pointers</li></a>
<a href="#t31.5"><li class="toc-level toc-level-1"><span class="toc-number">31.5</span> Function Pointers</li></a>
<a href="#t31.6"><li class="toc-level toc-level-1"><span class="toc-number">31.6</span> Arrays</li></a>
<a href="#t31.6.1"><li class="toc-level toc-level-2"><span class="toc-number">31.6.1</span> CArray methods</li></a>
<a href="#t31.7"><li class="toc-level toc-level-1"><span class="toc-number">31.7</span> Structs</li></a>
<a href="#t31.7.1"><li class="toc-level toc-level-2"><span class="toc-number">31.7.1</span> CUnions</li></a>
<a href="#t31.7.2"><li class="toc-level toc-level-2"><span class="toc-number">31.7.2</span> Embedding CStructs and CUnions</li></a>
<a href="#t31.7.3"><li class="toc-level toc-level-2"><span class="toc-number">31.7.3</span> Notes on Memory management</li></a>
<a href="#t31.7.3.1"><li class="toc-level toc-level-3"><span class="toc-number">31.7.3.1</span> In your Perl6 code...</li></a>
<a href="#t31.7.3.2"><li class="toc-level toc-level-3"><span class="toc-number">31.7.3.2</span> In your C code...</li></a>
<a href="#t31.8"><li class="toc-level toc-level-1"><span class="toc-number">31.8</span> Typed Pointers</li></a>
<a href="#t31.9"><li class="toc-level toc-level-1"><span class="toc-number">31.9</span> Strings</li></a>
<a href="#t31.9.1"><li class="toc-level toc-level-2"><span class="toc-number">31.9.1</span> Explicit memory management</li></a>
<a href="#t31.9.2"><li class="toc-level toc-level-2"><span class="toc-number">31.9.2</span> Buffers and blobs</li></a>
<a href="#t31.10"><li class="toc-level toc-level-1"><span class="toc-number">31.10</span> Function arguments</li></a>
<a href="#t31.11"><li class="toc-level toc-level-1"><span class="toc-number">31.11</span> Library Paths and Names</li></a>
<a href="#t31.11.1"><li class="toc-level toc-level-2"><span class="toc-number">31.11.1</span> ABI/API Version</li></a>
<a href="#t31.11.2"><li class="toc-level toc-level-2"><span class="toc-number">31.11.2</span> Routine</li></a>
<a href="#t31.11.3"><li class="toc-level toc-level-2"><span class="toc-number">31.11.3</span> Calling into the standard library</li></a>
<a href="#t31.12"><li class="toc-level toc-level-1"><span class="toc-number">31.12</span> Exported variables</li></a>
<a href="#t31.13"><li class="toc-level toc-level-1"><span class="toc-number">31.13</span> C++ Support</li></a>
<a href="#t31.14"><li class="toc-level toc-level-1"><span class="toc-number">31.14</span> Helper Functions</li></a>
<a href="#t31.14.1"><li class="toc-level toc-level-2"><span class="toc-number">31.14.1</span> sub nativecast</li></a>
<a href="#t31.14.2"><li class="toc-level toc-level-2"><span class="toc-number">31.14.2</span> sub cglobal</li></a>
<a href="#t31.14.3"><li class="toc-level toc-level-2"><span class="toc-number">31.14.3</span> sub nativesizeof</li></a>
<a href="#t31.14.4"><li class="toc-level toc-level-2"><span class="toc-number">31.14.4</span> sub explicitly-manage</li></a>
<a href="#t31.15"><li class="toc-level toc-level-1"><span class="toc-number">31.15</span> Examples</li></a>
<a href="#t31.15.1"><li class="toc-level toc-level-2"><span class="toc-number">31.15.1</span> MySQL</li></a>
<a href="#t31.15.2"><li class="toc-level toc-level-2"><span class="toc-number">31.15.2</span> Microsoft Windows</li></a>
<a href="#t31.15.3"><li class="toc-level toc-level-2"><span class="toc-number">31.15.3</span> Short Tutorial on calling a C function</li></a>
<a href="#t32"><li class="toc-level toc-level-0"><span class="toc-number">32</span> Object Orientation</li></a>
<a href="#t32.1"><li class="toc-level toc-level-1"><span class="toc-number">32.1</span> Using Objects</li></a>
<a href="#t32.1.1"><li class="toc-level toc-level-2"><span class="toc-number">32.1.1</span> Type Objects</li></a>
<a href="#t32.2"><li class="toc-level toc-level-1"><span class="toc-number">32.2</span> <a name="313"></a>Classes</li></a>
<a href="#t32.2.1"><li class="toc-level toc-level-2"><span class="toc-number">32.2.1</span> Attributes <a name="314"></a> <a name="315"></a> <a name="316"></a> <a name="317"></a></li></a>
<a href="#t32.2.2"><li class="toc-level toc-level-2"><span class="toc-number">32.2.2</span> Methods</li></a>
<a href="#t32.2.3"><li class="toc-level toc-level-2"><span class="toc-number">32.2.3</span> Class and Instance Methods</li></a>
<a href="#t32.2.4"><li class="toc-level toc-level-2"><span class="toc-number">32.2.4</span> self</li></a>
<a href="#t32.2.5"><li class="toc-level toc-level-2"><span class="toc-number">32.2.5</span> Private Methods</li></a>
<a href="#t32.2.6"><li class="toc-level toc-level-2"><span class="toc-number">32.2.6</span> Submethods</li></a>
<a href="#t32.2.7"><li class="toc-level toc-level-2"><span class="toc-number">32.2.7</span> Inheritance</li></a>
<a href="#t32.2.8"><li class="toc-level toc-level-2"><span class="toc-number">32.2.8</span> <a name="318"></a>Object Construction</li></a>
<a href="#t32.2.9"><li class="toc-level toc-level-2"><span class="toc-number">32.2.9</span> Object Cloning</li></a>
<a href="#t32.3"><li class="toc-level toc-level-1"><span class="toc-number">32.3</span> <a name="320"></a>Roles</li></a>
<a href="#t32.3.1"><li class="toc-level toc-level-2"><span class="toc-number">32.3.1</span> Application of Role</li></a>
<a href="#t32.3.2"><li class="toc-level toc-level-2"><span class="toc-number">32.3.2</span> Stubs</li></a>
<a href="#t32.3.3"><li class="toc-level toc-level-2"><span class="toc-number">32.3.3</span> Inheritance</li></a>
<a href="#t32.3.4"><li class="toc-level toc-level-2"><span class="toc-number">32.3.4</span> Pecking order</li></a>
<a href="#t32.3.5"><li class="toc-level toc-level-2"><span class="toc-number">32.3.5</span> Automatic Role Punning</li></a>
<a href="#t32.3.6"><li class="toc-level toc-level-2"><span class="toc-number">32.3.6</span> Parameterized Roles</li></a>
<a href="#t32.3.7"><li class="toc-level toc-level-2"><span class="toc-number">32.3.7</span> <a name="322"></a>Mixins of Roles</li></a>
<a href="#t32.4"><li class="toc-level toc-level-1"><span class="toc-number">32.4</span> Meta-Object Programming and Introspection</li></a>
<a href="#t33"><li class="toc-level toc-level-0"><span class="toc-number">33</span> Operators</li></a>
<a href="#t33.1"><li class="toc-level toc-level-1"><span class="toc-number">33.1</span> Operator Precedence</li></a>
<a href="#t33.2"><li class="toc-level toc-level-1"><span class="toc-number">33.2</span> Operator classification</li></a>
<a href="#t33.3"><li class="toc-level toc-level-1"><span class="toc-number">33.3</span> Meta Operators</li></a>
<a href="#t33.4"><li class="toc-level toc-level-1"><span class="toc-number">33.4</span> Substitution Operators</li></a>
<a href="#t33.4.1"><li class="toc-level toc-level-2"><span class="toc-number">33.4.1</span> <span class="code">s///</span> in-place substitution</li></a>
<a href="#t33.4.2"><li class="toc-level toc-level-2"><span class="toc-number">33.4.2</span> <span class="code">S///</span> non-destructive substitution</li></a>
<a href="#t33.4.3"><li class="toc-level toc-level-2"><span class="toc-number">33.4.3</span> <span class="code">tr///</span> in-place transliteration</li></a>
<a href="#t33.4.4"><li class="toc-level toc-level-2"><span class="toc-number">33.4.4</span> <span class="code">TR///</span> non-destructive transliteration</li></a>
<a href="#t33.5"><li class="toc-level toc-level-1"><span class="toc-number">33.5</span> Assignment Operators</li></a>
<a href="#t33.6"><li class="toc-level toc-level-1"><span class="toc-number">33.6</span> Negated Relational Operators <a name="328"></a><a name="329"></a><a name="330"></a></li></a>
<a href="#t33.7"><li class="toc-level toc-level-1"><span class="toc-number">33.7</span> Reversed Operators <a name="331"></a></li></a>
<a href="#t33.8"><li class="toc-level toc-level-1"><span class="toc-number">33.8</span> <a name="332"></a>Hyper Operators</li></a>
<a href="#t33.9"><li class="toc-level toc-level-1"><span class="toc-number">33.9</span> Reduction Operators <a name="333"></a><a name="334"></a></li></a>
<a href="#t33.10"><li class="toc-level toc-level-1"><span class="toc-number">33.10</span> Cross Operators <a name="335"></a></li></a>
<a href="#t33.11"><li class="toc-level toc-level-1"><span class="toc-number">33.11</span> Zip Operators <a name="336"></a></li></a>
<a href="#t33.12"><li class="toc-level toc-level-1"><span class="toc-number">33.12</span> Sequential Operators <a name="337"></a></li></a>
<a href="#t33.13"><li class="toc-level toc-level-1"><span class="toc-number">33.13</span> Nesting of Meta Operators</li></a>
<a href="#t33.14"><li class="toc-level toc-level-1"><span class="toc-number">33.14</span> <!--  -->Term Precedence</li></a>
<a href="#t33.14.1"><li class="toc-level toc-level-2"><span class="toc-number">33.14.1</span> term <span class="code">&lt; &gt;</span></li></a>
<a href="#t33.14.2"><li class="toc-level toc-level-2"><span class="toc-number">33.14.2</span> term <span class="code">( )</span></li></a>
<a href="#t33.14.3"><li class="toc-level toc-level-2"><span class="toc-number">33.14.3</span> term <span class="code">{ }</span></li></a>
<a href="#t33.14.4"><li class="toc-level toc-level-2"><span class="toc-number">33.14.4</span> circumfix <span class="code">[ ]</span></li></a>
<a href="#t33.15"><li class="toc-level toc-level-1"><span class="toc-number">33.15</span> Method Postfix Precedence</li></a>
<a href="#t33.15.1"><li class="toc-level toc-level-2"><span class="toc-number">33.15.1</span> postcircumfix <span class="code">[ ]</span></li></a>
<a href="#t33.15.2"><li class="toc-level toc-level-2"><span class="toc-number">33.15.2</span> postcircumfix <span class="code">{ }</span></li></a>
<a href="#t33.15.3"><li class="toc-level toc-level-2"><span class="toc-number">33.15.3</span> postcircumfix <span class="code">&lt; &gt;</span></li></a>
<a href="#t33.15.4"><li class="toc-level toc-level-2"><span class="toc-number">33.15.4</span> postcircumfix <span class="code">« »</span></li></a>
<a href="#t33.15.5"><li class="toc-level toc-level-2"><span class="toc-number">33.15.5</span> postcircumfix <span class="code">( )</span></li></a>
<a href="#t33.15.6"><li class="toc-level toc-level-2"><span class="toc-number">33.15.6</span> postfix <span class="code">.</span></li></a>
<a href="#t33.15.7"><li class="toc-level toc-level-2"><span class="toc-number">33.15.7</span> postfix <span class="code">.&amp;</span></li></a>
<a href="#t33.15.8"><li class="toc-level toc-level-2"><span class="toc-number">33.15.8</span> postfix <span class="code">.=</span></li></a>
<a href="#t33.15.9"><li class="toc-level toc-level-2"><span class="toc-number">33.15.9</span> postfix <span class="code">.^</span></li></a>
<a href="#t33.15.10"><li class="toc-level toc-level-2"><span class="toc-number">33.15.10</span> postfix <span class="code">.?</span></li></a>
<a href="#t33.15.11"><li class="toc-level toc-level-2"><span class="toc-number">33.15.11</span> postfix <span class="code">.+</span></li></a>
<a href="#t33.15.12"><li class="toc-level toc-level-2"><span class="toc-number">33.15.12</span> postfix <span class="code">.*</span></li></a>
<a href="#t33.15.13"><li class="toc-level toc-level-2"><span class="toc-number">33.15.13</span> postfix <span class="code">».</span> / postfix <span class="code">&gt;&gt;.</span></li></a>
<a href="#t33.15.14"><li class="toc-level toc-level-2"><span class="toc-number">33.15.14</span> postfix <span class="code">.postfix</span> / <span class="code">.postcircumfix</span> <a name="357"></a><a name="358"></a><a name="359"></a></li></a>
<a href="#t33.15.15"><li class="toc-level toc-level-2"><span class="toc-number">33.15.15</span> postfix <span class="code">.:&lt;prefix&gt;</span></li></a>
<a href="#t33.15.16"><li class="toc-level toc-level-2"><span class="toc-number">33.15.16</span> postfix <span class="code">.::</span></li></a>
<a href="#t33.16"><li class="toc-level toc-level-1"><span class="toc-number">33.16</span> Autoincrement Precedence</li></a>
<a href="#t33.16.1"><li class="toc-level toc-level-2"><span class="toc-number">33.16.1</span> prefix <a name="363"></a><span class="code">++</span></li></a>
<a href="#t33.16.2"><li class="toc-level toc-level-2"><span class="toc-number">33.16.2</span> prefix <a name="365"></a><span class="code">--</span></li></a>
<a href="#t33.16.3"><li class="toc-level toc-level-2"><span class="toc-number">33.16.3</span> postfix <a name="367"></a><span class="code">++</span></li></a>
<a href="#t33.16.4"><li class="toc-level toc-level-2"><span class="toc-number">33.16.4</span> postfix <span class="code">--</span></li></a>
<a href="#t33.17"><li class="toc-level toc-level-1"><span class="toc-number">33.17</span> Exponentiation Precedence</li></a>
<a href="#t33.17.1"><li class="toc-level toc-level-2"><span class="toc-number">33.17.1</span> infix <span class="code">**</span></li></a>
<a href="#t33.18"><li class="toc-level toc-level-1"><span class="toc-number">33.18</span> Symbolic Unary Precedence</li></a>
<a href="#t33.18.1"><li class="toc-level toc-level-2"><span class="toc-number">33.18.1</span> prefix <span class="code">?</span></li></a>
<a href="#t33.18.2"><li class="toc-level toc-level-2"><span class="toc-number">33.18.2</span> prefix <span class="code">!</span></li></a>
<a href="#t33.18.3"><li class="toc-level toc-level-2"><span class="toc-number">33.18.3</span> prefix <span class="code">+</span></li></a>
<a href="#t33.18.4"><li class="toc-level toc-level-2"><span class="toc-number">33.18.4</span> prefix <span class="code">-</span></li></a>
<a href="#t33.18.5"><li class="toc-level toc-level-2"><span class="toc-number">33.18.5</span> prefix <span class="code">~</span></li></a>
<a href="#t33.18.6"><li class="toc-level toc-level-2"><span class="toc-number">33.18.6</span> prefix <span class="code">|</span></li></a>
<a href="#t33.18.7"><li class="toc-level toc-level-2"><span class="toc-number">33.18.7</span> prefix <span class="code">||</span></li></a>
<a href="#t33.18.8"><li class="toc-level toc-level-2"><span class="toc-number">33.18.8</span> prefix <span class="code">+^</span></li></a>
<a href="#t33.18.9"><li class="toc-level toc-level-2"><span class="toc-number">33.18.9</span> prefix <span class="code">~^</span></li></a>
<a href="#t33.18.10"><li class="toc-level toc-level-2"><span class="toc-number">33.18.10</span> prefix <span class="code">?^</span></li></a>
<a href="#t33.18.11"><li class="toc-level toc-level-2"><span class="toc-number">33.18.11</span> prefix <span class="code">^</span></li></a>
<a href="#t33.19"><li class="toc-level toc-level-1"><span class="toc-number">33.19</span> Dotty Infix Precedence</li></a>
<a href="#t33.19.1"><li class="toc-level toc-level-2"><span class="toc-number">33.19.1</span> infix <span class="code">.=</span></li></a>
<a href="#t33.19.2"><li class="toc-level toc-level-2"><span class="toc-number">33.19.2</span> infix <span class="code">.</span></li></a>
<a href="#t33.20"><li class="toc-level toc-level-1"><span class="toc-number">33.20</span> Multiplicative Precedence</li></a>
<a href="#t33.20.1"><li class="toc-level toc-level-2"><span class="toc-number">33.20.1</span> infix <span class="code">*</span></li></a>
<a href="#t33.20.2"><li class="toc-level toc-level-2"><span class="toc-number">33.20.2</span> infix <span class="code">/</span></li></a>
<a href="#t33.20.3"><li class="toc-level toc-level-2"><span class="toc-number">33.20.3</span> infix <span class="code">div</span></li></a>
<a href="#t33.20.4"><li class="toc-level toc-level-2"><span class="toc-number">33.20.4</span> infix <span class="code">%</span></li></a>
<a href="#t33.20.5"><li class="toc-level toc-level-2"><span class="toc-number">33.20.5</span> infix <span class="code">%%</span></li></a>
<a href="#t33.20.6"><li class="toc-level toc-level-2"><span class="toc-number">33.20.6</span> infix <span class="code">mod</span></li></a>
<a href="#t33.20.7"><li class="toc-level toc-level-2"><span class="toc-number">33.20.7</span> infix <span class="code">+&amp;</span></li></a>
<a href="#t33.20.8"><li class="toc-level toc-level-2"><span class="toc-number">33.20.8</span> infix <span class="code">+&lt;</span></li></a>
<a href="#t33.20.9"><li class="toc-level toc-level-2"><span class="toc-number">33.20.9</span> infix <span class="code">+&gt;</span></li></a>
<a href="#t33.20.10"><li class="toc-level toc-level-2"><span class="toc-number">33.20.10</span> infix <span class="code">~&amp;</span></li></a>
<a href="#t33.20.11"><li class="toc-level toc-level-2"><span class="toc-number">33.20.11</span> infix <span class="code">~&lt;</span></li></a>
<a href="#t33.20.12"><li class="toc-level toc-level-2"><span class="toc-number">33.20.12</span> infix <span class="code">~&gt;</span></li></a>
<a href="#t33.20.13"><li class="toc-level toc-level-2"><span class="toc-number">33.20.13</span> infix <span class="code">gcd</span></li></a>
<a href="#t33.20.14"><li class="toc-level toc-level-2"><span class="toc-number">33.20.14</span> infix <span class="code">lcm</span></li></a>
<a href="#t33.21"><li class="toc-level toc-level-1"><span class="toc-number">33.21</span> Additive Precedence</li></a>
<a href="#t33.21.1"><li class="toc-level toc-level-2"><span class="toc-number">33.21.1</span> infix <span class="code">+</span></li></a>
<a href="#t33.21.2"><li class="toc-level toc-level-2"><span class="toc-number">33.21.2</span> infix <span class="code">-</span></li></a>
<a href="#t33.21.3"><li class="toc-level toc-level-2"><span class="toc-number">33.21.3</span> infix <span class="code">+|</span></li></a>
<a href="#t33.21.4"><li class="toc-level toc-level-2"><span class="toc-number">33.21.4</span> infix <span class="code">+^</span></li></a>
<a href="#t33.21.5"><li class="toc-level toc-level-2"><span class="toc-number">33.21.5</span> infix <span class="code">~|</span></li></a>
<a href="#t33.21.6"><li class="toc-level toc-level-2"><span class="toc-number">33.21.6</span> infix <span class="code">~^</span></li></a>
<a href="#t33.21.7"><li class="toc-level toc-level-2"><span class="toc-number">33.21.7</span> infix <span class="code">?|</span></li></a>
<a href="#t33.22"><li class="toc-level toc-level-1"><span class="toc-number">33.22</span> Replication Precedence</li></a>
<a href="#t33.22.1"><li class="toc-level toc-level-2"><span class="toc-number">33.22.1</span> infix <span class="code">x</span></li></a>
<a href="#t33.22.2"><li class="toc-level toc-level-2"><span class="toc-number">33.22.2</span> infix <span class="code">xx</span></li></a>
<a href="#t33.23"><li class="toc-level toc-level-1"><span class="toc-number">33.23</span> Concatenation</li></a>
<a href="#t33.23.1"><li class="toc-level toc-level-2"><span class="toc-number">33.23.1</span> infix <span class="code">~</span></li></a>
<a href="#t33.23.2"><li class="toc-level toc-level-2"><span class="toc-number">33.23.2</span> infix <span class="code">∘</span></li></a>
<a href="#t33.24"><li class="toc-level toc-level-1"><span class="toc-number">33.24</span> Junctive AND (all) Precedence</li></a>
<a href="#t33.24.1"><li class="toc-level toc-level-2"><span class="toc-number">33.24.1</span> infix <span class="code">&amp;</span></li></a>
<a href="#t33.25"><li class="toc-level toc-level-1"><span class="toc-number">33.25</span> Junctive OR (any) Precedence</li></a>
<a href="#t33.25.1"><li class="toc-level toc-level-2"><span class="toc-number">33.25.1</span> infix <span class="code">|</span></li></a>
<a href="#t33.25.2"><li class="toc-level toc-level-2"><span class="toc-number">33.25.2</span> infix <span class="code">^</span></li></a>
<a href="#t33.26"><li class="toc-level toc-level-1"><span class="toc-number">33.26</span> Named Unary Precedence</li></a>
<a href="#t33.26.1"><li class="toc-level toc-level-2"><span class="toc-number">33.26.1</span> prefix <span class="code">temp</span></li></a>
<a href="#t33.26.2"><li class="toc-level toc-level-2"><span class="toc-number">33.26.2</span> prefix <span class="code">let</span></li></a>
<a href="#t33.27"><li class="toc-level toc-level-1"><span class="toc-number">33.27</span> Nonchaining Binary Precedence</li></a>
<a href="#t33.27.1"><li class="toc-level toc-level-2"><span class="toc-number">33.27.1</span> infix <span class="code">does</span></li></a>
<a href="#t33.27.2"><li class="toc-level toc-level-2"><span class="toc-number">33.27.2</span> infix <span class="code">but</span></li></a>
<a href="#t33.27.3"><li class="toc-level toc-level-2"><span class="toc-number">33.27.3</span> infix <span class="code">cmp</span></li></a>
<a href="#t33.27.4"><li class="toc-level toc-level-2"><span class="toc-number">33.27.4</span> infix <span class="code">leg</span></li></a>
<a href="#t33.27.5"><li class="toc-level toc-level-2"><span class="toc-number">33.27.5</span> infix <span class="code">&lt;=&gt;</span></li></a>
<a href="#t33.27.6"><li class="toc-level toc-level-2"><span class="toc-number">33.27.6</span> infix <span class="code">..</span></li></a>
<a href="#t33.27.7"><li class="toc-level toc-level-2"><span class="toc-number">33.27.7</span> infix <span class="code">..^</span></li></a>
<a href="#t33.27.8"><li class="toc-level toc-level-2"><span class="toc-number">33.27.8</span> infix <span class="code">^..</span></li></a>
<a href="#t33.27.9"><li class="toc-level toc-level-2"><span class="toc-number">33.27.9</span> infix <span class="code">^..^</span></li></a>
<a href="#t33.28"><li class="toc-level toc-level-1"><span class="toc-number">33.28</span> Chaining Binary Precedence</li></a>
<a href="#t33.28.1"><li class="toc-level toc-level-2"><span class="toc-number">33.28.1</span> infix <span class="code">==</span></li></a>
<a href="#t33.28.2"><li class="toc-level toc-level-2"><span class="toc-number">33.28.2</span> infix <span class="code">!=</span></li></a>
<a href="#t33.28.3"><li class="toc-level toc-level-2"><span class="toc-number">33.28.3</span> infix <span class="code">≠</span></li></a>
<a href="#t33.28.4"><li class="toc-level toc-level-2"><span class="toc-number">33.28.4</span> infix <span class="code">&lt;</span></li></a>
<a href="#t33.28.5"><li class="toc-level toc-level-2"><span class="toc-number">33.28.5</span> infix <span class="code">&lt;=</span></li></a>
<a href="#t33.28.6"><li class="toc-level toc-level-2"><span class="toc-number">33.28.6</span> infix <span class="code">≤</span></li></a>
<a href="#t33.28.7"><li class="toc-level toc-level-2"><span class="toc-number">33.28.7</span> infix <span class="code">&gt;</span></li></a>
<a href="#t33.28.8"><li class="toc-level toc-level-2"><span class="toc-number">33.28.8</span> infix <span class="code">&gt;=</span></li></a>
<a href="#t33.28.9"><li class="toc-level toc-level-2"><span class="toc-number">33.28.9</span> infix <span class="code">≥</span></li></a>
<a href="#t33.28.10"><li class="toc-level toc-level-2"><span class="toc-number">33.28.10</span> infix <span class="code">eq</span></li></a>
<a href="#t33.28.11"><li class="toc-level toc-level-2"><span class="toc-number">33.28.11</span> infix <span class="code">ne</span></li></a>
<a href="#t33.28.12"><li class="toc-level toc-level-2"><span class="toc-number">33.28.12</span> infix <span class="code">gt</span></li></a>
<a href="#t33.28.13"><li class="toc-level toc-level-2"><span class="toc-number">33.28.13</span> infix <span class="code">ge</span></li></a>
<a href="#t33.28.14"><li class="toc-level toc-level-2"><span class="toc-number">33.28.14</span> infix <span class="code">lt</span></li></a>
<a href="#t33.28.15"><li class="toc-level toc-level-2"><span class="toc-number">33.28.15</span> infix <span class="code">le</span></li></a>
<a href="#t33.28.16"><li class="toc-level toc-level-2"><span class="toc-number">33.28.16</span> infix <span class="code">before</span></li></a>
<a href="#t33.28.17"><li class="toc-level toc-level-2"><span class="toc-number">33.28.17</span> infix <span class="code">after</span></li></a>
<a href="#t33.28.18"><li class="toc-level toc-level-2"><span class="toc-number">33.28.18</span> infix <span class="code">eqv</span></li></a>
<a href="#t33.28.19"><li class="toc-level toc-level-2"><span class="toc-number">33.28.19</span> infix <span class="code">===</span></li></a>
<a href="#t33.28.20"><li class="toc-level toc-level-2"><span class="toc-number">33.28.20</span> infix <span class="code">=:=</span></li></a>
<a href="#t33.28.21"><li class="toc-level toc-level-2"><span class="toc-number">33.28.21</span> infix <span class="code">~~</span></li></a>
<a href="#t33.28.22"><li class="toc-level toc-level-2"><span class="toc-number">33.28.22</span> infix <span class="code">=~=</span></li></a>
<a href="#t33.29"><li class="toc-level toc-level-1"><span class="toc-number">33.29</span> Tight AND Precedence</li></a>
<a href="#t33.29.1"><li class="toc-level toc-level-2"><span class="toc-number">33.29.1</span> infix <span class="code">&amp;&amp;</span></li></a>
<a href="#t33.30"><li class="toc-level toc-level-1"><span class="toc-number">33.30</span> Tight OR Precedence</li></a>
<a href="#t33.30.1"><li class="toc-level toc-level-2"><span class="toc-number">33.30.1</span> infix <span class="code">||</span></li></a>
<a href="#t33.30.2"><li class="toc-level toc-level-2"><span class="toc-number">33.30.2</span> infix <span class="code">^^</span></li></a>
<a href="#t33.30.3"><li class="toc-level toc-level-2"><span class="toc-number">33.30.3</span> infix <span class="code">//</span></li></a>
<a href="#t33.30.4"><li class="toc-level toc-level-2"><span class="toc-number">33.30.4</span> infix <span class="code">min</span></li></a>
<a href="#t33.30.5"><li class="toc-level toc-level-2"><span class="toc-number">33.30.5</span> infix <span class="code">max</span></li></a>
<a href="#t33.30.6"><li class="toc-level toc-level-2"><span class="toc-number">33.30.6</span> infix <span class="code">minmax</span></li></a>
<a href="#t33.31"><li class="toc-level toc-level-1"><span class="toc-number">33.31</span> Conditional Operator Precedence</li></a>
<a href="#t33.31.1"><li class="toc-level toc-level-2"><span class="toc-number">33.31.1</span> infix <span class="code">?? !!</span></li></a>
<a href="#t33.31.2"><li class="toc-level toc-level-2"><span class="toc-number">33.31.2</span> infix <span class="code">ff</span></li></a>
<a href="#t33.31.3"><li class="toc-level toc-level-2"><span class="toc-number">33.31.3</span> infix <span class="code">^ff</span></li></a>
<a href="#t33.31.4"><li class="toc-level toc-level-2"><span class="toc-number">33.31.4</span> infix <span class="code">ff^</span></li></a>
<a href="#t33.31.5"><li class="toc-level toc-level-2"><span class="toc-number">33.31.5</span> infix <span class="code">^ff^</span></li></a>
<a href="#t33.31.6"><li class="toc-level toc-level-2"><span class="toc-number">33.31.6</span> infix <span class="code">fff</span></li></a>
<a href="#t33.31.7"><li class="toc-level toc-level-2"><span class="toc-number">33.31.7</span> infix <span class="code">^fff</span></li></a>
<a href="#t33.31.8"><li class="toc-level toc-level-2"><span class="toc-number">33.31.8</span> infix <span class="code">fff^</span></li></a>
<a href="#t33.31.9"><li class="toc-level toc-level-2"><span class="toc-number">33.31.9</span> infix <span class="code">^fff^</span></li></a>
<a href="#t33.32"><li class="toc-level toc-level-1"><span class="toc-number">33.32</span> Item Assignment Precedence</li></a>
<a href="#t33.32.1"><li class="toc-level toc-level-2"><span class="toc-number">33.32.1</span> infix <span class="code">=</span></li></a>
<a href="#t33.32.2"><li class="toc-level toc-level-2"><span class="toc-number">33.32.2</span> infix <span class="code">=&gt;</span></li></a>
<a href="#t33.33"><li class="toc-level toc-level-1"><span class="toc-number">33.33</span> Loose Unary Precedence</li></a>
<a href="#t33.33.1"><li class="toc-level toc-level-2"><span class="toc-number">33.33.1</span> prefix <span class="code">not</span></li></a>
<a href="#t33.33.2"><li class="toc-level toc-level-2"><span class="toc-number">33.33.2</span> prefix <span class="code">so</span></li></a>
<a href="#t33.34"><li class="toc-level toc-level-1"><span class="toc-number">33.34</span> Comma Operator Precedence</li></a>
<a href="#t33.34.1"><li class="toc-level toc-level-2"><span class="toc-number">33.34.1</span> infix <span class="code">,</span></li></a>
<a href="#t33.34.2"><li class="toc-level toc-level-2"><span class="toc-number">33.34.2</span> infix <span class="code">:</span></li></a>
<a href="#t33.35"><li class="toc-level toc-level-1"><span class="toc-number">33.35</span> List Infix Precedence</li></a>
<a href="#t33.35.1"><li class="toc-level toc-level-2"><span class="toc-number">33.35.1</span> infix <span class="code">Z</span></li></a>
<a href="#t33.35.2"><li class="toc-level toc-level-2"><span class="toc-number">33.35.2</span> infix <span class="code">X</span></li></a>
<a href="#t33.35.3"><li class="toc-level toc-level-2"><span class="toc-number">33.35.3</span> infix <span class="code">...</span> <a name="436"></a><a name="437"></a><a name="438"></a><a name="439"></a><a name="440"></a></li></a>
<a href="#t33.36"><li class="toc-level toc-level-1"><span class="toc-number">33.36</span> List Prefix Precedence</li></a>
<a href="#t33.36.1"><li class="toc-level toc-level-2"><span class="toc-number">33.36.1</span> infix <span class="code">=</span></li></a>
<a href="#t33.36.2"><li class="toc-level toc-level-2"><span class="toc-number">33.36.2</span> infix <span class="code">:=</span></li></a>
<a href="#t33.36.3"><li class="toc-level toc-level-2"><span class="toc-number">33.36.3</span> infix <span class="code">::=</span></li></a>
<a href="#t33.36.4"><li class="toc-level toc-level-2"><span class="toc-number">33.36.4</span> listop <span class="code">...</span></li></a>
<a href="#t33.36.5"><li class="toc-level toc-level-2"><span class="toc-number">33.36.5</span> listop <span class="code">!!!</span></li></a>
<a href="#t33.36.6"><li class="toc-level toc-level-2"><span class="toc-number">33.36.6</span> listop <span class="code">???</span></li></a>
<a href="#t33.36.7"><li class="toc-level toc-level-2"><span class="toc-number">33.36.7</span> Reduction operators</li></a>
<a href="#t33.37"><li class="toc-level toc-level-1"><span class="toc-number">33.37</span> Loose AND precedence</li></a>
<a href="#t33.37.1"><li class="toc-level toc-level-2"><span class="toc-number">33.37.1</span> infix <span class="code">and</span></li></a>
<a href="#t33.37.2"><li class="toc-level toc-level-2"><span class="toc-number">33.37.2</span> infix <span class="code">andthen</span> <a name="448"></a></li></a>
<a href="#t33.37.3"><li class="toc-level toc-level-2"><span class="toc-number">33.37.3</span> infix <span class="code">notandthen</span></li></a>
<a href="#t33.38"><li class="toc-level toc-level-1"><span class="toc-number">33.38</span> Loose OR Precedence</li></a>
<a href="#t33.38.1"><li class="toc-level toc-level-2"><span class="toc-number">33.38.1</span> infix <span class="code">or</span></li></a>
<a href="#t33.38.2"><li class="toc-level toc-level-2"><span class="toc-number">33.38.2</span> <a name="450"></a>infix  <span class="code">orelse</span></li></a>
<a href="#t33.38.3"><li class="toc-level toc-level-2"><span class="toc-number">33.38.3</span> infix <span class="code">xor</span></li></a>
<a href="#t33.39"><li class="toc-level toc-level-1"><span class="toc-number">33.39</span> Sequencer Precedence</li></a>
<a href="#t33.39.1"><li class="toc-level toc-level-2"><span class="toc-number">33.39.1</span> infix <span class="code">==&gt;</span></li></a>
<a href="#t33.39.2"><li class="toc-level toc-level-2"><span class="toc-number">33.39.2</span> infix <span class="code">&lt;==</span></li></a>
<a href="#t34"><li class="toc-level toc-level-0"><span class="toc-number">34</span> Packages</li></a>
<a href="#t34.1"><li class="toc-level toc-level-1"><span class="toc-number">34.1</span> Names</li></a>
<a href="#t34.1.1"><li class="toc-level toc-level-2"><span class="toc-number">34.1.1</span> Package-qualified names</li></a>
<a href="#t34.2"><li class="toc-level toc-level-1"><span class="toc-number">34.2</span> Pseudo-packages</li></a>
<a href="#t34.3"><li class="toc-level toc-level-1"><span class="toc-number">34.3</span> Looking up names</li></a>
<a href="#t34.3.1"><li class="toc-level toc-level-2"><span class="toc-number">34.3.1</span> Interpolating into names</li></a>
<a href="#t34.3.2"><li class="toc-level toc-level-2"><span class="toc-number">34.3.2</span> Direct lookup</li></a>
<a href="#t34.3.3"><li class="toc-level toc-level-2"><span class="toc-number">34.3.3</span> Package lookup</li></a>
<a href="#t34.3.4"><li class="toc-level toc-level-2"><span class="toc-number">34.3.4</span> Class member lookup</li></a>
<a href="#t34.4"><li class="toc-level toc-level-1"><span class="toc-number">34.4</span> Globals</li></a>
<a href="#t34.5"><li class="toc-level toc-level-1"><span class="toc-number">34.5</span> Version</li></a>
<a href="#t35"><li class="toc-level toc-level-0"><span class="toc-number">35</span> Performance</li></a>
<a href="#t35.1"><li class="toc-level toc-level-1"><span class="toc-number">35.1</span> First, profile your code</li></a>
<a href="#t35.1.1"><li class="toc-level toc-level-2"><span class="toc-number">35.1.1</span> Time with <span class="code">now - INIT now</span></li></a>
<a href="#t35.1.2"><li class="toc-level toc-level-2"><span class="toc-number">35.1.2</span> Profile locally</li></a>
<a href="#t35.1.3"><li class="toc-level toc-level-2"><span class="toc-number">35.1.3</span> Profile compiling</li></a>
<a href="#t35.1.4"><li class="toc-level toc-level-2"><span class="toc-number">35.1.4</span> Create or view benchmarks</li></a>
<a href="#t35.1.5"><li class="toc-level toc-level-2"><span class="toc-number">35.1.5</span> Share problems</li></a>
<a href="#t35.2"><li class="toc-level toc-level-1"><span class="toc-number">35.2</span> Solve problems</li></a>
<a href="#t35.2.1"><li class="toc-level toc-level-2"><span class="toc-number">35.2.1</span> Line by line</li></a>
<a href="#t35.2.2"><li class="toc-level toc-level-2"><span class="toc-number">35.2.2</span> Routine by routine</li></a>
<a href="#t35.2.3"><li class="toc-level toc-level-2"><span class="toc-number">35.2.3</span> Speed up type-checks and call resolution</li></a>
<a href="#t35.2.4"><li class="toc-level toc-level-2"><span class="toc-number">35.2.4</span> Choose better algorithms</li></a>
<a href="#t35.2.4.1"><li class="toc-level toc-level-3"><span class="toc-number">35.2.4.1</span> Change sequential/blocking code to parallel/non-blocking</li></a>
<a href="#t35.2.5"><li class="toc-level toc-level-2"><span class="toc-number">35.2.5</span> Use existing high performance code</li></a>
<a href="#t35.2.6"><li class="toc-level toc-level-2"><span class="toc-number">35.2.6</span> Make the Rakudo compiler generate faster code</li></a>
<a href="#t35.2.7"><li class="toc-level toc-level-2"><span class="toc-number">35.2.7</span> Still need more ideas?</li></a>
<a href="#t35.3"><li class="toc-level toc-level-1"><span class="toc-number">35.3</span> Not getting the results you need/want?</li></a>
<a href="#t36"><li class="toc-level toc-level-0"><span class="toc-number">36</span> Phasers</li></a>
<a href="#t36.1"><li class="toc-level toc-level-1"><span class="toc-number">36.1</span> Phasers</li></a>
<a href="#t36.1.1"><li class="toc-level toc-level-2"><span class="toc-number">36.1.1</span> Execution Order</li></a>
<a href="#t36.2"><li class="toc-level toc-level-1"><span class="toc-number">36.2</span> Program Execution Phasers</li></a>
<a href="#t36.2.1"><li class="toc-level toc-level-2"><span class="toc-number">36.2.1</span> <a name="475"></a>BEGIN</li></a>
<a href="#t36.2.2"><li class="toc-level toc-level-2"><span class="toc-number">36.2.2</span> <a name="476"></a>CHECK</li></a>
<a href="#t36.2.3"><li class="toc-level toc-level-2"><span class="toc-number">36.2.3</span> <a name="477"></a>INIT</li></a>
<a href="#t36.2.4"><li class="toc-level toc-level-2"><span class="toc-number">36.2.4</span> <a name="478"></a>END</li></a>
<a href="#t36.2.5"><li class="toc-level toc-level-2"><span class="toc-number">36.2.5</span> <a name="479"></a>CLOSE</li></a>
<a href="#t36.3"><li class="toc-level toc-level-1"><span class="toc-number">36.3</span> Block Phasers</li></a>
<a href="#t36.3.1"><li class="toc-level toc-level-2"><span class="toc-number">36.3.1</span> <a name="480"></a>ENTER</li></a>
<a href="#t36.3.2"><li class="toc-level toc-level-2"><span class="toc-number">36.3.2</span> <a name="481"></a>LEAVE</li></a>
<a href="#t36.3.3"><li class="toc-level toc-level-2"><span class="toc-number">36.3.3</span> <a name="482"></a>KEEP</li></a>
<a href="#t36.3.4"><li class="toc-level toc-level-2"><span class="toc-number">36.3.4</span> <a name="483"></a>UNDO</li></a>
<a href="#t36.3.5"><li class="toc-level toc-level-2"><span class="toc-number">36.3.5</span> <a name="484"></a>PRE</li></a>
<a href="#t36.3.6"><li class="toc-level toc-level-2"><span class="toc-number">36.3.6</span> <a name="485"></a>POST</li></a>
<a href="#t36.4"><li class="toc-level toc-level-1"><span class="toc-number">36.4</span> Loop Phasers</li></a>
<a href="#t36.4.1"><li class="toc-level toc-level-2"><span class="toc-number">36.4.1</span> <a name="486"></a>FIRST</li></a>
<a href="#t36.4.2"><li class="toc-level toc-level-2"><span class="toc-number">36.4.2</span> <a name="487"></a>NEXT</li></a>
<a href="#t36.4.3"><li class="toc-level toc-level-2"><span class="toc-number">36.4.3</span> <a name="488"></a>LAST</li></a>
<a href="#t36.5"><li class="toc-level toc-level-1"><span class="toc-number">36.5</span> Exception Handling Phasers</li></a>
<a href="#t36.5.1"><li class="toc-level toc-level-2"><span class="toc-number">36.5.1</span> <a name="489"></a>CATCH</li></a>
<a href="#t36.5.2"><li class="toc-level toc-level-2"><span class="toc-number">36.5.2</span> <a name="490"></a>CONTROL</li></a>
<a href="#t36.6"><li class="toc-level toc-level-1"><span class="toc-number">36.6</span> Asynchronous Phasers</li></a>
<a href="#t36.6.1"><li class="toc-level toc-level-2"><span class="toc-number">36.6.1</span> <a name="491"></a>LAST</li></a>
<a href="#t36.6.2"><li class="toc-level toc-level-2"><span class="toc-number">36.6.2</span> <a name="492"></a>QUIT</li></a>
<a href="#t36.7"><li class="toc-level toc-level-1"><span class="toc-number">36.7</span> DOC phasers</li></a>
<a href="#t36.7.1"><li class="toc-level toc-level-2"><span class="toc-number">36.7.1</span> <a name="493"></a>DOC</li></a>
<a href="#t37"><li class="toc-level toc-level-0"><span class="toc-number">37</span> Perl 6 Pod</li></a>
<a href="#t37.1"><li class="toc-level toc-level-1"><span class="toc-number">37.1</span> Block Structure</li></a>
<a href="#t37.1.1"><li class="toc-level toc-level-2"><span class="toc-number">37.1.1</span> Delimited blocks</li></a>
<a href="#t37.1.1.1"><li class="toc-level toc-level-3"><span class="toc-number">37.1.1.1</span> Configuration information</li></a>
<a href="#t37.1.2"><li class="toc-level toc-level-2"><span class="toc-number">37.1.2</span> Paragraph blocks</li></a>
<a href="#t37.1.3"><li class="toc-level toc-level-2"><span class="toc-number">37.1.3</span> Abbreviated blocks</li></a>
<a href="#t37.1.4"><li class="toc-level toc-level-2"><span class="toc-number">37.1.4</span> Declarator blocks</li></a>
<a href="#t37.2"><li class="toc-level toc-level-1"><span class="toc-number">37.2</span> Block types</li></a>
<a href="#t37.2.1"><li class="toc-level toc-level-2"><span class="toc-number">37.2.1</span> Headings</li></a>
<a href="#t37.2.2"><li class="toc-level toc-level-2"><span class="toc-number">37.2.2</span> Ordinary paragraphs</li></a>
<a href="#t37.2.3"><li class="toc-level toc-level-2"><span class="toc-number">37.2.3</span> Code blocks</li></a>
<a href="#t37.2.4"><li class="toc-level toc-level-2"><span class="toc-number">37.2.4</span> I/O blocks</li></a>
<a href="#t37.2.5"><li class="toc-level toc-level-2"><span class="toc-number">37.2.5</span> Lists</li></a>
<a href="#t37.2.5.1"><li class="toc-level toc-level-3"><span class="toc-number">37.2.5.1</span> Unordered Lists</li></a>
<a href="#t37.2.5.2"><li class="toc-level toc-level-3"><span class="toc-number">37.2.5.2</span> Definition Lists</li></a>
<a href="#t37.2.5.3"><li class="toc-level toc-level-3"><span class="toc-number">37.2.5.3</span> Multi-level Lists</li></a>
<a href="#t37.2.5.4"><li class="toc-level toc-level-3"><span class="toc-number">37.2.5.4</span> Multi-paragraph Lists</li></a>
<a href="#t37.2.6"><li class="toc-level toc-level-2"><span class="toc-number">37.2.6</span> Tables</li></a>
<a href="#t37.2.7"><li class="toc-level toc-level-2"><span class="toc-number">37.2.7</span> Pod comments</li></a>
<a href="#t37.2.8"><li class="toc-level toc-level-2"><span class="toc-number">37.2.8</span> Semantic blocks</li></a>
<a href="#t37.3"><li class="toc-level toc-level-1"><span class="toc-number">37.3</span> Formatting Codes</li></a>
<a href="#t37.3.1"><li class="toc-level toc-level-2"><span class="toc-number">37.3.1</span> Bold</li></a>
<a href="#t37.3.2"><li class="toc-level toc-level-2"><span class="toc-number">37.3.2</span> Italic</li></a>
<a href="#t37.3.3"><li class="toc-level toc-level-2"><span class="toc-number">37.3.3</span> Underlined</li></a>
<a href="#t37.3.4"><li class="toc-level toc-level-2"><span class="toc-number">37.3.4</span> Code</li></a>
<a href="#t37.3.5"><li class="toc-level toc-level-2"><span class="toc-number">37.3.5</span> Links</li></a>
<a href="#t37.3.6"><li class="toc-level toc-level-2"><span class="toc-number">37.3.6</span> Comments</li></a>
<a href="#t37.3.7"><li class="toc-level toc-level-2"><span class="toc-number">37.3.7</span> Notes</li></a>
<a href="#t37.3.8"><li class="toc-level toc-level-2"><span class="toc-number">37.3.8</span> Keyboard input</li></a>
<a href="#t37.3.9"><li class="toc-level toc-level-2"><span class="toc-number">37.3.9</span> Terminal Output</li></a>
<a href="#t37.3.10"><li class="toc-level toc-level-2"><span class="toc-number">37.3.10</span> Unicode</li></a>
<a href="#t37.4"><li class="toc-level toc-level-1"><span class="toc-number">37.4</span> Rendering Pod</li></a>
<a href="#t37.4.1"><li class="toc-level toc-level-2"><span class="toc-number">37.4.1</span> HTML</li></a>
<a href="#t37.4.2"><li class="toc-level toc-level-2"><span class="toc-number">37.4.2</span> Markdown</li></a>
<a href="#t37.4.3"><li class="toc-level toc-level-2"><span class="toc-number">37.4.3</span> Text</li></a>
<a href="#t37.5"><li class="toc-level toc-level-1"><span class="toc-number">37.5</span> Accessing Pod</li></a>
<a href="#t38"><li class="toc-level toc-level-0"><span class="toc-number">38</span> Pragmas</li></a>
<a href="#t39"><li class="toc-level toc-level-0"><span class="toc-number">39</span> Perl 6 from Python - Nutshell</li></a>
<a href="#t39.1"><li class="toc-level toc-level-1"><span class="toc-number">39.1</span> Basic Syntax</li></a>
<a href="#t39.1.1"><li class="toc-level toc-level-2"><span class="toc-number">39.1.1</span> Hello, world</li></a>
<a href="#t39.1.2"><li class="toc-level toc-level-2"><span class="toc-number">39.1.2</span> Statement Separators</li></a>
<a href="#t39.1.3"><li class="toc-level toc-level-2"><span class="toc-number">39.1.3</span> Blocks</li></a>
<a href="#t39.1.4"><li class="toc-level toc-level-2"><span class="toc-number">39.1.4</span> Variables</li></a>
<a href="#t39.1.5"><li class="toc-level toc-level-2"><span class="toc-number">39.1.5</span> Scope</li></a>
<a href="#t39.1.6"><li class="toc-level toc-level-2"><span class="toc-number">39.1.6</span> Control Flow</li></a>
<a href="#t39.1.7"><li class="toc-level toc-level-2"><span class="toc-number">39.1.7</span> Lambdas, Functions and Subroutines</li></a>
<a href="#t39.1.8"><li class="toc-level toc-level-2"><span class="toc-number">39.1.8</span> List Comprehensions</li></a>
<a href="#t39.1.9"><li class="toc-level toc-level-2"><span class="toc-number">39.1.9</span> Classes and Objects</li></a>
<a href="#t39.1.10"><li class="toc-level toc-level-2"><span class="toc-number">39.1.10</span> Decorators <a name="512"></a> <a name="513"></a></li></a>
<a href="#t39.1.11"><li class="toc-level toc-level-2"><span class="toc-number">39.1.11</span> Context Managers <a name="514"></a> <a name="515"></a></li></a>
<a href="#t39.1.12"><li class="toc-level toc-level-2"><span class="toc-number">39.1.12</span> Input <a name="516"></a> <a name="517"></a></li></a>
<a href="#t40"><li class="toc-level toc-level-0"><span class="toc-number">40</span> Quoting Constructs</li></a>
<a href="#t40.1"><li class="toc-level toc-level-1"><span class="toc-number">40.1</span> The Q Lang</li></a>
<a href="#t40.1.1"><li class="toc-level toc-level-2"><span class="toc-number">40.1.1</span> <a name="518"></a>Literal strings: Q</li></a>
<a href="#t40.1.2"><li class="toc-level toc-level-2"><span class="toc-number">40.1.2</span> <a name="545"></a>Escaping: q</li></a>
<a href="#t40.1.3"><li class="toc-level toc-level-2"><span class="toc-number">40.1.3</span> <a name="546"></a>Interpolation: qq</li></a>
<a href="#t40.1.4"><li class="toc-level toc-level-2"><span class="toc-number">40.1.4</span> Word quoting: qw <a name="549"></a></li></a>
<a href="#t40.1.5"><li class="toc-level toc-level-2"><span class="toc-number">40.1.5</span> Word quoting: &lt; &gt; <a name="550"></a></li></a>
<a href="#t40.1.6"><li class="toc-level toc-level-2"><span class="toc-number">40.1.6</span> <a name="551"></a>Word quoting with quote protection: qww</li></a>
<a href="#t40.1.7"><li class="toc-level toc-level-2"><span class="toc-number">40.1.7</span> <a name="552"></a>Word quoting with interpolation: qqw</li></a>
<a href="#t40.1.8"><li class="toc-level toc-level-2"><span class="toc-number">40.1.8</span> <a name="553"></a>Word quoting with interpolation and quote protection: qqww</li></a>
<a href="#t40.1.9"><li class="toc-level toc-level-2"><span class="toc-number">40.1.9</span> <a name="554"></a>Word quoting with interpolation and quote protection: « »</li></a>
<a href="#t40.1.10"><li class="toc-level toc-level-2"><span class="toc-number">40.1.10</span> <a name="555"></a>Shell quoting: qx</li></a>
<a href="#t40.1.11"><li class="toc-level toc-level-2"><span class="toc-number">40.1.11</span> <a name="556"></a>Shell quoting with interpolation: qqx</li></a>
<a href="#t40.1.12"><li class="toc-level toc-level-2"><span class="toc-number">40.1.12</span> <a name="557"></a>Heredocs: :to</li></a>
<a href="#t40.1.13"><li class="toc-level toc-level-2"><span class="toc-number">40.1.13</span> Unquoting</li></a>
<a href="#t40.2"><li class="toc-level toc-level-1"><span class="toc-number">40.2</span> Regexes</li></a>
<a href="#t41"><li class="toc-level toc-level-0"><span class="toc-number">41</span> Perl 6 from Ruby - Nutshell</li></a>
<a href="#t41.1"><li class="toc-level toc-level-1"><span class="toc-number">41.1</span> Basic Syntax</li></a>
<a href="#t41.1.1"><li class="toc-level toc-level-2"><span class="toc-number">41.1.1</span> Statement Ending Semi-Colons</li></a>
<a href="#t41.1.2"><li class="toc-level toc-level-2"><span class="toc-number">41.1.2</span> Whitespace</li></a>
<a href="#t41.1.3"><li class="toc-level toc-level-2"><span class="toc-number">41.1.3</span> <span class="code">.</span> Method calls, <span class="code">.send</span></li></a>
<a href="#t41.1.4"><li class="toc-level toc-level-2"><span class="toc-number">41.1.4</span> Variables, Sigils, Scope, and Common Types</li></a>
<a href="#t41.1.4.1"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.1</span> Variable Scope</li></a>
<a href="#t41.1.4.2"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.2</span> <span class="code">$</span> Scalar</li></a>
<a href="#t41.1.4.3"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.3</span> <span class="code">@</span> Array</li></a>
<a href="#t41.1.4.4"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.4</span> <span class="code">%</span> Hash</li></a>
<a href="#t41.1.4.5"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.5</span> <span class="code">&amp;</span> Sub</li></a>
<a href="#t41.1.4.6"><li class="toc-level toc-level-3"><span class="toc-number">41.1.4.6</span> <span class="code">*</span> Slurpy params / argument expansion</li></a>
<a href="#t41.1.5"><li class="toc-level toc-level-2"><span class="toc-number">41.1.5</span> Twigils</li></a>
<a href="#t41.1.6"><li class="toc-level toc-level-2"><span class="toc-number">41.1.6</span> <span class="code">:</span> Symbols</li></a>
<a href="#t41.2"><li class="toc-level toc-level-1"><span class="toc-number">41.2</span> Operators</li></a>
<a href="#t41.2.1"><li class="toc-level toc-level-2"><span class="toc-number">41.2.1</span> <span class="code">== != &lt; &gt; &lt;= &gt;=</span> Comparisons</li></a>
<a href="#t41.2.2"><li class="toc-level toc-level-2"><span class="toc-number">41.2.2</span> <span class="code">&lt;=&gt;</span> Three-way comparisons</li></a>
<a href="#t41.2.3"><li class="toc-level toc-level-2"><span class="toc-number">41.2.3</span> <span class="code">~~</span> Smart-match operator</li></a>
<a href="#t41.2.4"><li class="toc-level toc-level-2"><span class="toc-number">41.2.4</span> <span class="code">&amp; | ^</span> Numeric Bitwise ops</li></a>
<a href="#t41.2.5"><li class="toc-level toc-level-2"><span class="toc-number">41.2.5</span> <span class="code">&amp; | ^</span> Boolean ops</li></a>
<a href="#t41.2.6"><li class="toc-level toc-level-2"><span class="toc-number">41.2.6</span> <span class="code">&amp;.</span> Conditional chaining operator</li></a>
<a href="#t41.2.7"><li class="toc-level toc-level-2"><span class="toc-number">41.2.7</span> <span class="code">&lt;&lt; &gt;&gt;</span> Numeric shift left, right ops, shovel operator</li></a>
<a href="#t41.2.8"><li class="toc-level toc-level-2"><span class="toc-number">41.2.8</span> <span class="code">=&gt;</span> and <span class="code">:</span> Key-Value Separators</li></a>
<a href="#t41.2.9"><li class="toc-level toc-level-2"><span class="toc-number">41.2.9</span> <span class="code">? :</span> Ternary operator</li></a>
<a href="#t41.2.10"><li class="toc-level toc-level-2"><span class="toc-number">41.2.10</span> <span class="code">+</span> String Concatenation</li></a>
<a href="#t41.2.11"><li class="toc-level toc-level-2"><span class="toc-number">41.2.11</span> String interpolation</li></a>
<a href="#t41.3"><li class="toc-level toc-level-1"><span class="toc-number">41.3</span> Compound Statements</li></a>
<a href="#t41.3.1"><li class="toc-level toc-level-2"><span class="toc-number">41.3.1</span> Conditionals</li></a>
<a href="#t41.3.1.1"><li class="toc-level toc-level-3"><span class="toc-number">41.3.1.1</span> <span class="code">if</span> <span class="code">elsif</span> <span class="code">else</span> <span class="code">unless</span></li></a>
<a href="#t41.3.1.2"><li class="toc-level toc-level-3"><span class="toc-number">41.3.1.2</span> <span class="code">case</span>-<span class="code">when</span></li></a>
<a href="#t41.3.2"><li class="toc-level toc-level-2"><span class="toc-number">41.3.2</span> Loops</li></a>
<a href="#t41.3.2.1"><li class="toc-level toc-level-3"><span class="toc-number">41.3.2.1</span> <span class="code">while</span> <span class="code">until</span></li></a>
<a href="#t41.3.2.2"><li class="toc-level toc-level-3"><span class="toc-number">41.3.2.2</span> <span class="code">for</span> <span class="code">.each</span></li></a>
<a href="#t41.3.3"><li class="toc-level toc-level-2"><span class="toc-number">41.3.3</span> Flow Interruption statements</li></a>
<a href="#t41.4"><li class="toc-level toc-level-1"><span class="toc-number">41.4</span> Regular Expressions ( Regex / Regexp )</li></a>
<a href="#t41.4.1"><li class="toc-level toc-level-2"><span class="toc-number">41.4.1</span> <span class="code">.match</span> method and <span class="code">=~</span> operator</li></a>
<a href="#t41.4.2"><li class="toc-level toc-level-2"><span class="toc-number">41.4.2</span> <span class="code">.sub</span> and <span class="code">.sub!</span></li></a>
<a href="#t41.4.3"><li class="toc-level toc-level-2"><span class="toc-number">41.4.3</span> Regex options</li></a>
<a href="#t41.4.4"><li class="toc-level toc-level-2"><span class="toc-number">41.4.4</span> Whitespace is ignored, most things must be quoted</li></a>
<a href="#t41.4.5"><li class="toc-level toc-level-2"><span class="toc-number">41.4.5</span> Special matchers generally fall under the &lt;&gt; syntax</li></a>
<a href="#t41.4.6"><li class="toc-level toc-level-2"><span class="toc-number">41.4.6</span> Longest token matching (LTM) displaces alternation</li></a>
<a href="#t41.5"><li class="toc-level toc-level-1"><span class="toc-number">41.5</span> File-related operations</li></a>
<a href="#t41.5.1"><li class="toc-level toc-level-2"><span class="toc-number">41.5.1</span> Reading the lines of a text file into an array</li></a>
<a href="#t41.5.2"><li class="toc-level toc-level-2"><span class="toc-number">41.5.2</span> Iterating over the lines of a text file</li></a>
<a href="#t41.6"><li class="toc-level toc-level-1"><span class="toc-number">41.6</span> Object Orientation</li></a>
<a href="#t41.6.1"><li class="toc-level toc-level-2"><span class="toc-number">41.6.1</span> Basic classes, methods, attributes</li></a>
<a href="#t41.6.2"><li class="toc-level toc-level-2"><span class="toc-number">41.6.2</span> Private Methods</li></a>
<a href="#t41.6.3"><li class="toc-level toc-level-2"><span class="toc-number">41.6.3</span> Going Meta</li></a>
<a href="#t41.7"><li class="toc-level toc-level-1"><span class="toc-number">41.7</span> Environment variables</li></a>
<a href="#t41.7.1"><li class="toc-level toc-level-2"><span class="toc-number">41.7.1</span> Perl module library path</li></a>
<a href="#t41.8"><li class="toc-level toc-level-1"><span class="toc-number">41.8</span> Misc.</li></a>
<a href="#t41.8.1"><li class="toc-level toc-level-2"><span class="toc-number">41.8.1</span> Importing specific functions from a module</li></a>
<a href="#t41.8.2"><li class="toc-level toc-level-2"><span class="toc-number">41.8.2</span> <span class="code">OptionParser</span>, parsing command-line flags</li></a>
<a href="#t41.9"><li class="toc-level toc-level-1"><span class="toc-number">41.9</span> RubyGems, External Libraries</li></a>
<a href="#t42"><li class="toc-level toc-level-0"><span class="toc-number">42</span> Regexes</li></a>
<a href="#t42.1"><li class="toc-level toc-level-1"><span class="toc-number">42.1</span> <a name="559"></a>Lexical conventions</li></a>
<a href="#t42.2"><li class="toc-level toc-level-1"><span class="toc-number">42.2</span> Literals</li></a>
<a href="#t42.3"><li class="toc-level toc-level-1"><span class="toc-number">42.3</span> Wildcards and character classes</li></a>
<a href="#t42.3.1"><li class="toc-level toc-level-2"><span class="toc-number">42.3.1</span> <a name="560"></a>The dot matches any character:  <span class="code">.</span></li></a>
<a href="#t42.3.2"><li class="toc-level toc-level-2"><span class="toc-number">42.3.2</span> Backslashed, predefined character classes</li></a>
<a href="#t42.3.3"><li class="toc-level toc-level-2"><span class="toc-number">42.3.3</span> <a name="568"></a>Unicode properties</li></a>
<a href="#t42.3.4"><li class="toc-level toc-level-2"><span class="toc-number">42.3.4</span> <a name="569"></a>Enumerated character classes and ranges</li></a>
<a href="#t42.4"><li class="toc-level toc-level-1"><span class="toc-number">42.4</span> Quantifiers</li></a>
<a href="#t42.4.1"><li class="toc-level toc-level-2"><span class="toc-number">42.4.1</span> <a name="570"></a>One or more:  <span class="code">+</span></li></a>
<a href="#t42.4.2"><li class="toc-level toc-level-2"><span class="toc-number">42.4.2</span> <a name="571"></a>Zero or more:  <span class="code">*</span></li></a>
<a href="#t42.4.3"><li class="toc-level toc-level-2"><span class="toc-number">42.4.3</span> <a name="572"></a>Zero or one:  <span class="code">?</span></li></a>
<a href="#t42.4.4"><li class="toc-level toc-level-2"><span class="toc-number">42.4.4</span> <a name="573"></a>General quantifier:  <span class="code">** min..max</span></li></a>
<a href="#t42.4.5"><li class="toc-level toc-level-2"><span class="toc-number">42.4.5</span> <a name="574"></a>Modified quantifier:  <span class="code">%</span> ,  <span class="code">%%</span></li></a>
<a href="#t42.4.6"><li class="toc-level toc-level-2"><span class="toc-number">42.4.6</span> <a name="575"></a>Preventing backtracking:  <span class="code">:</span></li></a>
<a href="#t42.4.7"><li class="toc-level toc-level-2"><span class="toc-number">42.4.7</span> <a name="576"></a>Greedy versus frugal quantifiers:  <span class="code">?</span></li></a>
<a href="#t42.5"><li class="toc-level toc-level-1"><span class="toc-number">42.5</span> <a name="577"></a>Alternation:  <span class="code">||</span></li></a>
<a href="#t42.6"><li class="toc-level toc-level-1"><span class="toc-number">42.6</span> <a name="578"></a>Longest Alternation:  <span class="code">|</span></li></a>
<a href="#t42.6.1"><li class="toc-level toc-level-2"><span class="toc-number">42.6.1</span> Quoted lists are LTM matches</li></a>
<a href="#t42.7"><li class="toc-level toc-level-1"><span class="toc-number">42.7</span> <a name="579"></a>Conjunction:  <span class="code">&amp;&amp;</span></li></a>
<a href="#t42.8"><li class="toc-level toc-level-1"><span class="toc-number">42.8</span> <a name="580"></a>Conjunction:  <span class="code">&amp;</span></li></a>
<a href="#t42.9"><li class="toc-level toc-level-1"><span class="toc-number">42.9</span> Anchors</li></a>
<a href="#t42.9.1"><li class="toc-level toc-level-2"><span class="toc-number">42.9.1</span> <a name="581"></a><span class="code">^</span> , Start of String and  <span class="code">$</span> , End of String</li></a>
<a href="#t42.9.2"><li class="toc-level toc-level-2"><span class="toc-number">42.9.2</span> <a name="582"></a><span class="code">^^</span> , Start of Line and  <span class="code">$$</span> , End of Line</li></a>
<a href="#t42.9.3"><li class="toc-level toc-level-2"><span class="toc-number">42.9.3</span> <a name="583"></a><span class="code">&lt;|w&gt;</span>  and  <span class="code">&lt;!|w&gt;</span> , word boundary</li></a>
<a href="#t42.9.4"><li class="toc-level toc-level-2"><span class="toc-number">42.9.4</span> <span class="code">&lt;&lt;</span> and <span class="code">&gt;&gt;</span>, left and right word boundary</li></a>
<a href="#t42.9.5"><li class="toc-level toc-level-2"><span class="toc-number">42.9.5</span> <a name="587"></a>Lookahead assertions  <span class="code">&lt;?before pattern&gt;</span></li></a>
<a href="#t42.9.6"><li class="toc-level toc-level-2"><span class="toc-number">42.9.6</span> <a name="588"></a>Lookbehind assertions  <span class="code">&lt;?after pattern&gt;</span></li></a>
<a href="#t42.10"><li class="toc-level toc-level-1"><span class="toc-number">42.10</span> Grouping and Capturing</li></a>
<a href="#t42.10.1"><li class="toc-level toc-level-2"><span class="toc-number">42.10.1</span> <a name="589"></a>Capturing</li></a>
<a href="#t42.10.2"><li class="toc-level toc-level-2"><span class="toc-number">42.10.2</span> <a name="590"></a>Non-capturing grouping</li></a>
<a href="#t42.10.3"><li class="toc-level toc-level-2"><span class="toc-number">42.10.3</span> Capture numbers</li></a>
<a href="#t42.10.4"><li class="toc-level toc-level-2"><span class="toc-number">42.10.4</span> <a name="591"></a>Named captures</li></a>
<a href="#t42.10.5"><li class="toc-level toc-level-2"><span class="toc-number">42.10.5</span> <a name="592"></a>Capture markers:  <span class="code">&lt;( )&gt;</span></li></a>
<a href="#t42.11"><li class="toc-level toc-level-1"><span class="toc-number">42.11</span> Substitution</li></a>
<a href="#t42.11.1"><li class="toc-level toc-level-2"><span class="toc-number">42.11.1</span> <a name="594"></a>Lexical conventions</li></a>
<a href="#t42.11.2"><li class="toc-level toc-level-2"><span class="toc-number">42.11.2</span> Replacing string literals</li></a>
<a href="#t42.11.3"><li class="toc-level toc-level-2"><span class="toc-number">42.11.3</span> Wildcards and character classes</li></a>
<a href="#t42.11.4"><li class="toc-level toc-level-2"><span class="toc-number">42.11.4</span> Capturing Groups</li></a>
<a href="#t42.11.5"><li class="toc-level toc-level-2"><span class="toc-number">42.11.5</span> Common adverbs</li></a>
<a href="#t42.12"><li class="toc-level toc-level-1"><span class="toc-number">42.12</span> <a name="595"></a>Tilde for nesting structures</li></a>
<a href="#t42.13"><li class="toc-level toc-level-1"><span class="toc-number">42.13</span> <a name="596"></a>Subrules</li></a>
<a href="#t42.14"><li class="toc-level toc-level-1"><span class="toc-number">42.14</span> <a name="597"></a>Regex Interpolation</li></a>
<a href="#t42.14.1"><li class="toc-level toc-level-2"><span class="toc-number">42.14.1</span> Regex Boolean condition check</li></a>
<a href="#t42.15"><li class="toc-level toc-level-1"><span class="toc-number">42.15</span> Adverbs</li></a>
<a href="#t42.15.1"><li class="toc-level toc-level-2"><span class="toc-number">42.15.1</span> <a name="598"></a>Regex Adverbs</li></a>
<a href="#t42.15.1.1"><li class="toc-level toc-level-3"><span class="toc-number">42.15.1.1</span> <a name="599"></a>Ignoremark</li></a>
<a href="#t42.15.1.2"><li class="toc-level toc-level-3"><span class="toc-number">42.15.1.2</span> <a name="600"></a>Ratchet</li></a>
<a href="#t42.15.1.3"><li class="toc-level toc-level-3"><span class="toc-number">42.15.1.3</span> <a name="601"></a>Sigspace</li></a>
<a href="#t42.15.1.4"><li class="toc-level toc-level-3"><span class="toc-number">42.15.1.4</span> Perl 5 compatibility adverb</li></a>
<a href="#t42.15.2"><li class="toc-level toc-level-2"><span class="toc-number">42.15.2</span> Matching adverbs</li></a>
<a href="#t42.15.2.1"><li class="toc-level toc-level-3"><span class="toc-number">42.15.2.1</span> <a name="602"></a>Continue</li></a>
<a href="#t42.15.2.2"><li class="toc-level toc-level-3"><span class="toc-number">42.15.2.2</span> <a name="603"></a>Exhaustive</li></a>
<a href="#t42.15.2.3"><li class="toc-level toc-level-3"><span class="toc-number">42.15.2.3</span> <a name="604"></a>Global</li></a>
<a href="#t42.15.2.4"><li class="toc-level toc-level-3"><span class="toc-number">42.15.2.4</span> <a name="605"></a>Pos</li></a>
<a href="#t42.15.2.5"><li class="toc-level toc-level-3"><span class="toc-number">42.15.2.5</span> <a name="606"></a>Overlap</li></a>
<a href="#t42.15.3"><li class="toc-level toc-level-2"><span class="toc-number">42.15.3</span> Substitution Adverbs</li></a>
<a href="#t42.15.3.1"><li class="toc-level toc-level-3"><span class="toc-number">42.15.3.1</span> <a name="607"></a>Samecase</li></a>
<a href="#t42.15.3.2"><li class="toc-level toc-level-3"><span class="toc-number">42.15.3.2</span> <a name="608"></a>Samemark</li></a>
<a href="#t42.15.3.3"><li class="toc-level toc-level-3"><span class="toc-number">42.15.3.3</span> <a name="609"></a>Samespace</li></a>
<a href="#t42.16"><li class="toc-level toc-level-1"><span class="toc-number">42.16</span> Best practices and gotchas</li></a>
<a href="#t42.16.1"><li class="toc-level toc-level-2"><span class="toc-number">42.16.1</span> Code layout</li></a>
<a href="#t42.16.2"><li class="toc-level toc-level-2"><span class="toc-number">42.16.2</span> Keep it small</li></a>
<a href="#t42.16.3"><li class="toc-level toc-level-2"><span class="toc-number">42.16.3</span> What to match</li></a>
<a href="#t42.16.4"><li class="toc-level toc-level-2"><span class="toc-number">42.16.4</span> Matching Whitespace</li></a>
<a href="#t42.17"><li class="toc-level toc-level-1"><span class="toc-number">42.17</span> Backtracking</li></a>
<a href="#t42.18"><li class="toc-level toc-level-1"><span class="toc-number">42.18</span> <span class="code">$/</span> changes each time a regular expression is matched</li></a>
<a href="#t43"><li class="toc-level toc-level-0"><span class="toc-number">43</span> Sets, Bags, and Mixes</li></a>
<a href="#t43.1"><li class="toc-level toc-level-1"><span class="toc-number">43.1</span> Set/Bag Operators</li></a>
<a href="#t43.1.1"><li class="toc-level toc-level-2"><span class="toc-number">43.1.1</span> Operators that return <span class="code">Bool</span></li></a>
<a href="#t43.1.1.1"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.1</span> infix (elem)</li></a>
<a href="#t43.1.1.2"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.2</span> infix ∈</li></a>
<a href="#t43.1.1.3"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.3</span> infix ∉</li></a>
<a href="#t43.1.1.4"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.4</span> infix (cont)</li></a>
<a href="#t43.1.1.5"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.5</span> infix ∋</li></a>
<a href="#t43.1.1.6"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.6</span> infix ∌</li></a>
<a href="#t43.1.1.7"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.7</span> infix (&lt;=)</li></a>
<a href="#t43.1.1.8"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.8</span> infix ⊆</li></a>
<a href="#t43.1.1.9"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.9</span> infix ⊈</li></a>
<a href="#t43.1.1.10"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.10</span> infix (&lt;)</li></a>
<a href="#t43.1.1.11"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.11</span> infix ⊂</li></a>
<a href="#t43.1.1.12"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.12</span> infix ⊄</li></a>
<a href="#t43.1.1.13"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.13</span> infix (&gt;=)</li></a>
<a href="#t43.1.1.14"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.14</span> infix ⊇</li></a>
<a href="#t43.1.1.15"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.15</span> infix ⊉</li></a>
<a href="#t43.1.1.16"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.16</span> infix (&gt;)</li></a>
<a href="#t43.1.1.17"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.17</span> infix ⊃</li></a>
<a href="#t43.1.1.18"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.18</span> infix ⊅</li></a>
<a href="#t43.1.1.19"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.19</span> infix (&lt;+)</li></a>
<a href="#t43.1.1.20"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.20</span> infix ≼</li></a>
<a href="#t43.1.1.21"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.21</span> infix (&gt;+)</li></a>
<a href="#t43.1.1.22"><li class="toc-level toc-level-3"><span class="toc-number">43.1.1.22</span> infix ≽</li></a>
<a href="#t43.1.2"><li class="toc-level toc-level-2"><span class="toc-number">43.1.2</span> Operators that return <span class="code">Set</span> or <span class="code">Bag</span></li></a>
<a href="#t43.1.2.1"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.1</span> infix (|)</li></a>
<a href="#t43.1.2.2"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.2</span> infix ∪</li></a>
<a href="#t43.1.2.3"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.3</span> infix (&amp;)</li></a>
<a href="#t43.1.2.4"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.4</span> infix ∩</li></a>
<a href="#t43.1.2.5"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.5</span> infix (-)</li></a>
<a href="#t43.1.2.6"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.6</span> infix ∖</li></a>
<a href="#t43.1.2.7"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.7</span> infix (^)</li></a>
<a href="#t43.1.2.8"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.8</span> infix ⊖</li></a>
<a href="#t43.1.2.9"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.9</span> infix (.)</li></a>
<a href="#t43.1.2.10"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.10</span> infix ⊍</li></a>
<a href="#t43.1.2.11"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.11</span> infix (+)</li></a>
<a href="#t43.1.2.12"><li class="toc-level toc-level-3"><span class="toc-number">43.1.2.12</span> infix ⊎</li></a>
<a href="#t43.1.3"><li class="toc-level toc-level-2"><span class="toc-number">43.1.3</span> term ∅</li></a>
<a href="#t44"><li class="toc-level toc-level-0"><span class="toc-number">44</span> Subscripts</li></a>
<a href="#t44.1"><li class="toc-level toc-level-1"><span class="toc-number">44.1</span> Basics</li></a>
<a href="#t44.2"><li class="toc-level toc-level-1"><span class="toc-number">44.2</span> Nonexistent elements</li></a>
<a href="#t44.3"><li class="toc-level toc-level-1"><span class="toc-number">44.3</span> From the end</li></a>
<a href="#t44.4"><li class="toc-level toc-level-1"><span class="toc-number">44.4</span> Slices</li></a>
<a href="#t44.4.1"><li class="toc-level toc-level-2"><span class="toc-number">44.4.1</span> Truncating slices</li></a>
<a href="#t44.4.2"><li class="toc-level toc-level-2"><span class="toc-number">44.4.2</span> Zen slices</li></a>
<a href="#t44.5"><li class="toc-level toc-level-1"><span class="toc-number">44.5</span> Multiple dimensions</li></a>
<a href="#t44.6"><li class="toc-level toc-level-1"><span class="toc-number">44.6</span> Modifying elements</li></a>
<a href="#t44.7"><li class="toc-level toc-level-1"><span class="toc-number">44.7</span> Autovivification</li></a>
<a href="#t44.8"><li class="toc-level toc-level-1"><span class="toc-number">44.8</span> Binding</li></a>
<a href="#t44.9"><li class="toc-level toc-level-1"><span class="toc-number">44.9</span> Adverbs</li></a>
<a href="#t44.9.1"><li class="toc-level toc-level-2"><span class="toc-number">44.9.1</span> <a name="632"></a>:exists</li></a>
<a href="#t44.9.2"><li class="toc-level toc-level-2"><span class="toc-number">44.9.2</span> <a name="633"></a>:delete</li></a>
<a href="#t44.9.3"><li class="toc-level toc-level-2"><span class="toc-number">44.9.3</span> <a name="634"></a>:p</li></a>
<a href="#t44.9.4"><li class="toc-level toc-level-2"><span class="toc-number">44.9.4</span> <a name="635"></a>:kv</li></a>
<a href="#t44.9.5"><li class="toc-level toc-level-2"><span class="toc-number">44.9.5</span> <a name="636"></a>:k</li></a>
<a href="#t44.9.6"><li class="toc-level toc-level-2"><span class="toc-number">44.9.6</span> <a name="637"></a>:v</li></a>
<a href="#t44.10"><li class="toc-level toc-level-1"><span class="toc-number">44.10</span> Custom types</li></a>
<a href="#t44.10.1"><li class="toc-level toc-level-2"><span class="toc-number">44.10.1</span> Custom type example</li></a>
<a href="#t44.10.2"><li class="toc-level toc-level-2"><span class="toc-number">44.10.2</span> Methods to implement for positional subscripting</li></a>
<a href="#t44.10.2.1"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.1</span> method elems</li></a>
<a href="#t44.10.2.2"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.2</span> method AT-POS</li></a>
<a href="#t44.10.2.3"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.3</span> method EXISTS-POS</li></a>
<a href="#t44.10.2.4"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.4</span> method DELETE-POS</li></a>
<a href="#t44.10.2.5"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.5</span> method ASSIGN-POS</li></a>
<a href="#t44.10.2.6"><li class="toc-level toc-level-3"><span class="toc-number">44.10.2.6</span> method BIND-POS</li></a>
<a href="#t44.10.3"><li class="toc-level toc-level-2"><span class="toc-number">44.10.3</span> Methods to implement for associative subscripting</li></a>
<a href="#t44.10.3.1"><li class="toc-level toc-level-3"><span class="toc-number">44.10.3.1</span> method AT-KEY</li></a>
<a href="#t44.10.3.2"><li class="toc-level toc-level-3"><span class="toc-number">44.10.3.2</span> method EXISTS-KEY</li></a>
<a href="#t44.10.3.3"><li class="toc-level toc-level-3"><span class="toc-number">44.10.3.3</span> method DELETE-KEY</li></a>
<a href="#t44.10.3.4"><li class="toc-level toc-level-3"><span class="toc-number">44.10.3.4</span> method ASSIGN-KEY</li></a>
<a href="#t44.10.3.5"><li class="toc-level toc-level-3"><span class="toc-number">44.10.3.5</span> method BIND-KEY</li></a>
<a href="#t45"><li class="toc-level toc-level-0"><span class="toc-number">45</span> Syntax</li></a>
<a href="#t45.1"><li class="toc-level toc-level-1"><span class="toc-number">45.1</span> Lexical Conventions</li></a>
<a href="#t45.1.1"><li class="toc-level toc-level-2"><span class="toc-number">45.1.1</span> Free Form</li></a>
<a href="#t45.1.2"><li class="toc-level toc-level-2"><span class="toc-number">45.1.2</span> <a name="638"></a>Unspace <a name="639"></a></li></a>
<a href="#t45.1.3"><li class="toc-level toc-level-2"><span class="toc-number">45.1.3</span> Separating Statements with Semicolons</li></a>
<a href="#t45.1.4"><li class="toc-level toc-level-2"><span class="toc-number">45.1.4</span> Implied Separator Rule (for statements ending in blocks)</li></a>
<a href="#t45.1.5"><li class="toc-level toc-level-2"><span class="toc-number">45.1.5</span> Comments</li></a>
<a href="#t45.1.5.1"><li class="toc-level toc-level-3"><span class="toc-number">45.1.5.1</span> Single-line comments</li></a>
<a href="#t45.1.5.2"><li class="toc-level toc-level-3"><span class="toc-number">45.1.5.2</span> Multi-line / embedded comments</li></a>
<a href="#t45.1.5.3"><li class="toc-level toc-level-3"><span class="toc-number">45.1.5.3</span> Pod comments</li></a>
<a href="#t45.1.6"><li class="toc-level toc-level-2"><span class="toc-number">45.1.6</span> Identifiers</li></a>
<a href="#t45.1.7"><li class="toc-level toc-level-2"><span class="toc-number">45.1.7</span> Term term:&lt;&gt;</li></a>
<a href="#t45.2"><li class="toc-level toc-level-1"><span class="toc-number">45.2</span> Statements and Expressions</li></a>
<a href="#t45.3"><li class="toc-level toc-level-1"><span class="toc-number">45.3</span> Terms</li></a>
<a href="#t45.3.1"><li class="toc-level toc-level-2"><span class="toc-number">45.3.1</span> Variables</li></a>
<a href="#t45.3.2"><li class="toc-level toc-level-2"><span class="toc-number">45.3.2</span> Barewords (Constants, Type Names)</li></a>
<a href="#t45.3.3"><li class="toc-level toc-level-2"><span class="toc-number">45.3.3</span> Packages and Qualified Names</li></a>
<a href="#t45.3.4"><li class="toc-level toc-level-2"><span class="toc-number">45.3.4</span> Literals</li></a>
<a href="#t45.3.4.1"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.1</span> String literals</li></a>
<a href="#t45.3.4.2"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.2</span> <a name="640"></a>Number literals</li></a>
<a href="#t45.3.4.2.1"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.2.1</span> Int literals</li></a>
<a href="#t45.3.4.2.2"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.2.2</span> Rat literals</li></a>
<a href="#t45.3.4.2.3"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.2.3</span> Num literals</li></a>
<a href="#t45.3.4.2.4"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.2.4</span> Complex literals</li></a>
<a href="#t45.3.4.3"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.3</span> Pair literals</li></a>
<a href="#t45.3.4.3.1"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.3.1</span> Arrow pairs</li></a>
<a href="#t45.3.4.3.2"><li class="toc-level toc-level-4"><span class="toc-number">45.3.4.3.2</span> Adverbial pairs (colon pairs)</li></a>
<a href="#t45.3.4.4"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.4</span> Array literals</li></a>
<a href="#t45.3.4.5"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.5</span> Hash literals</li></a>
<a href="#t45.3.4.6"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.6</span> Regex literals</li></a>
<a href="#t45.3.4.7"><li class="toc-level toc-level-3"><span class="toc-number">45.3.4.7</span> Signature literals</li></a>
<a href="#t45.3.5"><li class="toc-level toc-level-2"><span class="toc-number">45.3.5</span> Declarations</li></a>
<a href="#t45.3.5.1"><li class="toc-level toc-level-3"><span class="toc-number">45.3.5.1</span> Variable declaration</li></a>
<a href="#t45.3.5.2"><li class="toc-level toc-level-3"><span class="toc-number">45.3.5.2</span> Subroutine declaration</li></a>
<a href="#t45.3.5.3"><li class="toc-level toc-level-3"><span class="toc-number">45.3.5.3</span> <a name="641"></a>Package, Module, Class, Role, and Grammar declaration</li></a>
<a href="#t45.3.5.4"><li class="toc-level toc-level-3"><span class="toc-number">45.3.5.4</span> Multi-dispatch declaration</li></a>
<a href="#t45.4"><li class="toc-level toc-level-1"><span class="toc-number">45.4</span> Subroutine calls</li></a>
<a href="#t45.4.1"><li class="toc-level toc-level-2"><span class="toc-number">45.4.1</span> Precedence Drop</li></a>
<a href="#t45.5"><li class="toc-level toc-level-1"><span class="toc-number">45.5</span> Operators</li></a>
<a href="#t45.5.1"><li class="toc-level toc-level-2"><span class="toc-number">45.5.1</span> Meta Operators</li></a>
<a href="#t46"><li class="toc-level toc-level-0"><span class="toc-number">46</span> Pod 6 Tables</li></a>
<a href="#t46.1"><li class="toc-level toc-level-1"><span class="toc-number">46.1</span> Restrictions</li></a>
<a href="#t46.2"><li class="toc-level toc-level-1"><span class="toc-number">46.2</span> Best Practices</li></a>
<a href="#t46.3"><li class="toc-level toc-level-1"><span class="toc-number">46.3</span> Good Tables</li></a>
<a href="#t46.4"><li class="toc-level toc-level-1"><span class="toc-number">46.4</span> Bad Tables</li></a>
<a href="#t46.5"><li class="toc-level toc-level-1"><span class="toc-number">46.5</span> Ugly Tables</li></a>
<a href="#t47"><li class="toc-level toc-level-0"><span class="toc-number">47</span> Terms</li></a>
<a href="#t47.1"><li class="toc-level toc-level-1"><span class="toc-number">47.1</span> Literals</li></a>
<a href="#t47.1.1"><li class="toc-level toc-level-2"><span class="toc-number">47.1.1</span> Int</li></a>
<a href="#t47.1.2"><li class="toc-level toc-level-2"><span class="toc-number">47.1.2</span> Rat</li></a>
<a href="#t47.1.3"><li class="toc-level toc-level-2"><span class="toc-number">47.1.3</span> Num</li></a>
<a href="#t47.1.4"><li class="toc-level toc-level-2"><span class="toc-number">47.1.4</span> Str</li></a>
<a href="#t47.1.5"><li class="toc-level toc-level-2"><span class="toc-number">47.1.5</span> Regex</li></a>
<a href="#t47.1.6"><li class="toc-level toc-level-2"><span class="toc-number">47.1.6</span> Pair</li></a>
<a href="#t47.1.7"><li class="toc-level toc-level-2"><span class="toc-number">47.1.7</span> List</li></a>
<a href="#t47.1.8"><li class="toc-level toc-level-2"><span class="toc-number">47.1.8</span> term *</li></a>
<a href="#t47.2"><li class="toc-level toc-level-1"><span class="toc-number">47.2</span> Identifier terms</li></a>
<a href="#t47.2.1"><li class="toc-level toc-level-2"><span class="toc-number">47.2.1</span> term self</li></a>
<a href="#t47.2.2"><li class="toc-level toc-level-2"><span class="toc-number">47.2.2</span> term now</li></a>
<a href="#t47.2.3"><li class="toc-level toc-level-2"><span class="toc-number">47.2.3</span> term time</li></a>
<a href="#t47.2.4"><li class="toc-level toc-level-2"><span class="toc-number">47.2.4</span> term rand</li></a>
<a href="#t47.2.5"><li class="toc-level toc-level-2"><span class="toc-number">47.2.5</span> term π</li></a>
<a href="#t47.2.6"><li class="toc-level toc-level-2"><span class="toc-number">47.2.6</span> term pi</li></a>
<a href="#t47.2.7"><li class="toc-level toc-level-2"><span class="toc-number">47.2.7</span> term τ</li></a>
<a href="#t47.2.8"><li class="toc-level toc-level-2"><span class="toc-number">47.2.8</span> term tau</li></a>
<a href="#t47.2.9"><li class="toc-level toc-level-2"><span class="toc-number">47.2.9</span> term e</li></a>
<a href="#t47.2.10"><li class="toc-level toc-level-2"><span class="toc-number">47.2.10</span> term i</li></a>
<a href="#t47.3"><li class="toc-level toc-level-1"><span class="toc-number">47.3</span> Variables</li></a>
<a href="#t47.4"><li class="toc-level toc-level-1"><span class="toc-number">47.4</span> Constants</li></a>
<a href="#t48"><li class="toc-level toc-level-0"><span class="toc-number">48</span> Testing</li></a>
<a href="#t48.1"><li class="toc-level toc-level-1"><span class="toc-number">48.1</span> Reference</li></a>
<a href="#t48.2"><li class="toc-level toc-level-1"><span class="toc-number">48.2</span> Writing tests</li></a>
<a href="#t48.2.1"><li class="toc-level toc-level-2"><span class="toc-number">48.2.1</span> Thread Safety</li></a>
<a href="#t48.3"><li class="toc-level toc-level-1"><span class="toc-number">48.3</span> Running tests</li></a>
<a href="#t48.4"><li class="toc-level toc-level-1"><span class="toc-number">48.4</span> Test plans</li></a>
<a href="#t48.5"><li class="toc-level toc-level-1"><span class="toc-number">48.5</span> Testing return values</li></a>
<a href="#t48.5.1"><li class="toc-level toc-level-2"><span class="toc-number">48.5.1</span> By <span class="code">Bool</span> value</li></a>
<a href="#t48.5.2"><li class="toc-level toc-level-2"><span class="toc-number">48.5.2</span> By string comparison</li></a>
<a href="#t48.5.3"><li class="toc-level toc-level-2"><span class="toc-number">48.5.3</span> By approximate numeric comparison</li></a>
<a href="#t48.5.3.1"><li class="toc-level toc-level-3"><span class="toc-number">48.5.3.1</span> Absolute Tolerance</li></a>
<a href="#t48.5.3.2"><li class="toc-level toc-level-3"><span class="toc-number">48.5.3.2</span> Relative Tolerance</li></a>
<a href="#t48.5.3.3"><li class="toc-level toc-level-3"><span class="toc-number">48.5.3.3</span> Both Absolute and Relative Tolerance Specified</li></a>
<a href="#t48.5.4"><li class="toc-level toc-level-2"><span class="toc-number">48.5.4</span> By structural comparison</li></a>
<a href="#t48.5.5"><li class="toc-level toc-level-2"><span class="toc-number">48.5.5</span> By arbitrary comparison</li></a>
<a href="#t48.5.6"><li class="toc-level toc-level-2"><span class="toc-number">48.5.6</span> By object type</li></a>
<a href="#t48.5.7"><li class="toc-level toc-level-2"><span class="toc-number">48.5.7</span> By method name</li></a>
<a href="#t48.5.8"><li class="toc-level toc-level-2"><span class="toc-number">48.5.8</span> By role</li></a>
<a href="#t48.5.9"><li class="toc-level toc-level-2"><span class="toc-number">48.5.9</span> By regex</li></a>
<a href="#t48.6"><li class="toc-level toc-level-1"><span class="toc-number">48.6</span> Testing modules</li></a>
<a href="#t48.7"><li class="toc-level toc-level-1"><span class="toc-number">48.7</span> Testing exceptions</li></a>
<a href="#t48.8"><li class="toc-level toc-level-1"><span class="toc-number">48.8</span> Grouping tests</li></a>
<a href="#t48.9"><li class="toc-level toc-level-1"><span class="toc-number">48.9</span> Skipping tests</li></a>
<a href="#t48.10"><li class="toc-level toc-level-1"><span class="toc-number">48.10</span> Manual control</li></a>
<a href="#t49"><li class="toc-level toc-level-0"><span class="toc-number">49</span> Traps to avoid</li></a>
<a href="#t49.1"><li class="toc-level toc-level-1"><span class="toc-number">49.1</span> Variables and Constants</li></a>
<a href="#t49.1.1"><li class="toc-level toc-level-2"><span class="toc-number">49.1.1</span> Constants are Computed at Compile Time</li></a>
<a href="#t49.2"><li class="toc-level toc-level-1"><span class="toc-number">49.2</span> Objects</li></a>
<a href="#t49.2.1"><li class="toc-level toc-level-2"><span class="toc-number">49.2.1</span> Assigning to attributes</li></a>
<a href="#t49.2.2"><li class="toc-level toc-level-2"><span class="toc-number">49.2.2</span> <span class="code">BUILD</span> prevents automatic attribute initialization from constructor arguments</li></a>
<a href="#t49.3"><li class="toc-level toc-level-1"><span class="toc-number">49.3</span> Whitespace</li></a>
<a href="#t49.3.1"><li class="toc-level toc-level-2"><span class="toc-number">49.3.1</span> Whitespace in Regexes does not match literally</li></a>
<a href="#t49.3.2"><li class="toc-level toc-level-2"><span class="toc-number">49.3.2</span> Ambiguities in Parsing</li></a>
<a href="#t49.3.2.1"><li class="toc-level toc-level-3"><span class="toc-number">49.3.2.1</span> Block vs. Hash slice ambiguity</li></a>
<a href="#t49.3.2.2"><li class="toc-level toc-level-3"><span class="toc-number">49.3.2.2</span> Reduction vs. Array constructor ambiguity</li></a>
<a href="#t49.3.2.3"><li class="toc-level toc-level-3"><span class="toc-number">49.3.2.3</span> Less than vs. Word quoting/Associative indexing</li></a>
<a href="#t49.4"><li class="toc-level toc-level-1"><span class="toc-number">49.4</span> Captures</li></a>
<a href="#t49.4.1"><li class="toc-level toc-level-2"><span class="toc-number">49.4.1</span> Containers versus values in a Capture</li></a>
<a href="#t49.5"><li class="toc-level toc-level-1"><span class="toc-number">49.5</span> <span class="code">Cool</span> tricks</li></a>
<a href="#t49.5.1"><li class="toc-level toc-level-2"><span class="toc-number">49.5.1</span> Strings are not <span class="code">List</span>s, so beware indexing</li></a>
<a href="#t49.5.2"><li class="toc-level toc-level-2"><span class="toc-number">49.5.2</span> <span class="code">List</span>s become strings, so beware <span class="code">.index()</span>ing</li></a>
<a href="#t49.5.3"><li class="toc-level toc-level-2"><span class="toc-number">49.5.3</span> <span class="code">List</span>s become strings, so beware <span class="code">.contains()</span></li></a>
<a href="#t49.5.4"><li class="toc-level toc-level-2"><span class="toc-number">49.5.4</span> <span class="code">Numeric</span> literals are parsed before coercion</li></a>
<a href="#t49.5.5"><li class="toc-level toc-level-2"><span class="toc-number">49.5.5</span> Getting a random item from a <span class="code">List</span></li></a>
<a href="#t49.6"><li class="toc-level toc-level-1"><span class="toc-number">49.6</span> Arrays</li></a>
<a href="#t49.6.1"><li class="toc-level toc-level-2"><span class="toc-number">49.6.1</span> Referencing the last element of an array</li></a>
<a href="#t49.6.2"><li class="toc-level toc-level-2"><span class="toc-number">49.6.2</span> Typed Array parameters</li></a>
<a href="#t49.6.3"><li class="toc-level toc-level-2"><span class="toc-number">49.6.3</span> Using <span class="code">«»</span> quoting when you don't need it</li></a>
<a href="#t49.7"><li class="toc-level toc-level-1"><span class="toc-number">49.7</span> Strings</li></a>
<a href="#t49.7.1"><li class="toc-level toc-level-2"><span class="toc-number">49.7.1</span> Quotes and interpolation</li></a>
<a href="#t49.7.2"><li class="toc-level toc-level-2"><span class="toc-number">49.7.2</span> Strings are not iterable</li></a>
<a href="#t49.7.3"><li class="toc-level toc-level-2"><span class="toc-number">49.7.3</span> <span class="code">.chars</span> Gets the Number of Graphemes, not Codepoints</li></a>
<a href="#t49.7.4"><li class="toc-level toc-level-2"><span class="toc-number">49.7.4</span> All Text is Normalized By Default</li></a>
<a href="#t49.7.5"><li class="toc-level toc-level-2"><span class="toc-number">49.7.5</span> Allomorphs Generally Follow Numeric Semantics</li></a>
<a href="#t49.7.6"><li class="toc-level toc-level-2"><span class="toc-number">49.7.6</span> Case-insensitive comparison of strings</li></a>
<a href="#t49.8"><li class="toc-level toc-level-1"><span class="toc-number">49.8</span> Pairs</li></a>
<a href="#t49.8.1"><li class="toc-level toc-level-2"><span class="toc-number">49.8.1</span> Constants on the LHS of pair notation</li></a>
<a href="#t49.8.2"><li class="toc-level toc-level-2"><span class="toc-number">49.8.2</span> Scalar values within <span class="code">Pair</span></li></a>
<a href="#t49.9"><li class="toc-level toc-level-1"><span class="toc-number">49.9</span> Operators</li></a>
<a href="#t49.9.1"><li class="toc-level toc-level-2"><span class="toc-number">49.9.1</span> Junctions</li></a>
<a href="#t49.9.2"><li class="toc-level toc-level-2"><span class="toc-number">49.9.2</span> Exclusive Sequence Operator</li></a>
<a href="#t49.9.3"><li class="toc-level toc-level-2"><span class="toc-number">49.9.3</span> String Ranges/Sequences</li></a>
<a href="#t49.9.4"><li class="toc-level toc-level-2"><span class="toc-number">49.9.4</span> Topicalizing Operators</li></a>
<a href="#t49.9.5"><li class="toc-level toc-level-2"><span class="toc-number">49.9.5</span> Fat Arrow and Constants</li></a>
<a href="#t49.9.6"><li class="toc-level toc-level-2"><span class="toc-number">49.9.6</span> Infix operator assignment</li></a>
<a href="#t49.10"><li class="toc-level toc-level-1"><span class="toc-number">49.10</span> Regexes</li></a>
<a href="#t49.10.1"><li class="toc-level toc-level-2"><span class="toc-number">49.10.1</span> <span class="code">&lt;{$x}&gt;</span> vs <span class="code">$($x)</span>: Implicit EVAL</li></a>
<a href="#t49.10.2"><li class="toc-level toc-level-2"><span class="toc-number">49.10.2</span> <span class="code">|</span> vs <span class="code">||</span>: which branch will win</li></a>
<a href="#t49.10.3"><li class="toc-level toc-level-2"><span class="toc-number">49.10.3</span> <span class="code">$/</span> changes each time a regular expression is matched</li></a>
<a href="#t49.10.4"><li class="toc-level toc-level-2"><span class="toc-number">49.10.4</span> <span class="code">&lt;foo&gt;</span> vs. <span class="code">&lt; foo&gt;</span>: named rules vs. quoted lists</li></a>
<a href="#t49.11"><li class="toc-level toc-level-1"><span class="toc-number">49.11</span> Common Precedence Mistakes</li></a>
<a href="#t49.11.1"><li class="toc-level toc-level-2"><span class="toc-number">49.11.1</span> Adverbs and Precedence</li></a>
<a href="#t49.11.2"><li class="toc-level toc-level-2"><span class="toc-number">49.11.2</span> Ranges and Precedence</li></a>
<a href="#t49.11.3"><li class="toc-level toc-level-2"><span class="toc-number">49.11.3</span> Loose boolean operators</li></a>
<a href="#t49.11.4"><li class="toc-level toc-level-2"><span class="toc-number">49.11.4</span> Exponentiation Operator and Prefix Minus</li></a>
<a href="#t49.11.5"><li class="toc-level toc-level-2"><span class="toc-number">49.11.5</span> <span class="code">but</span> in List Construction</li></a>
<a href="#t49.12"><li class="toc-level toc-level-1"><span class="toc-number">49.12</span> Subroutine and method calls</li></a>
<a href="#t49.12.1"><li class="toc-level toc-level-2"><span class="toc-number">49.12.1</span> Named Parameters</li></a>
<a href="#t49.12.2"><li class="toc-level toc-level-2"><span class="toc-number">49.12.2</span> Argument Count Limit</li></a>
<a href="#t49.13"><li class="toc-level toc-level-1"><span class="toc-number">49.13</span> Input and Output</li></a>
<a href="#t49.13.1"><li class="toc-level toc-level-2"><span class="toc-number">49.13.1</span> Closing Open File Handles and Pipes</li></a>
<a href="#t49.13.2"><li class="toc-level toc-level-2"><span class="toc-number">49.13.2</span> IO::Path Stringification</li></a>
<a href="#t49.13.3"><li class="toc-level toc-level-2"><span class="toc-number">49.13.3</span> Splitting the Input Data Into Lines</li></a>
<a href="#t49.13.4"><li class="toc-level toc-level-2"><span class="toc-number">49.13.4</span> Proc::Async and <span class="code">print</span></li></a>
<a href="#t49.13.5"><li class="toc-level toc-level-2"><span class="toc-number">49.13.5</span> Using <span class="code">.stdout</span> without <span class="code">.lines</span></li></a>
<a href="#t49.14"><li class="toc-level toc-level-1"><span class="toc-number">49.14</span> Exception Handling</li></a>
<a href="#t49.14.1"><li class="toc-level toc-level-2"><span class="toc-number">49.14.1</span> Sunk <span class="code">Proc</span></li></a>
<a href="#t49.15"><li class="toc-level toc-level-1"><span class="toc-number">49.15</span> Using Shortcuts</li></a>
<a href="#t49.15.1"><li class="toc-level toc-level-2"><span class="toc-number">49.15.1</span> The ^ twigil</li></a>
<a href="#t49.15.2"><li class="toc-level toc-level-2"><span class="toc-number">49.15.2</span> Using <span class="code">»</span> and <span class="code">map</span> interchangeably</li></a>
<a href="#t49.15.3"><li class="toc-level toc-level-2"><span class="toc-number">49.15.3</span> Word splitting in <span class="code">« »</span></li></a>
<a href="#t49.16"><li class="toc-level toc-level-1"><span class="toc-number">49.16</span> Scope</li></a>
<a href="#t49.16.1"><li class="toc-level toc-level-2"><span class="toc-number">49.16.1</span> Using a <span class="code">once</span> block</li></a>
<a href="#t49.16.2"><li class="toc-level toc-level-2"><span class="toc-number">49.16.2</span> <span class="code">LEAVE</span> phaser and <span class="code">exit</span></li></a>
<a href="#t49.16.3"><li class="toc-level toc-level-2"><span class="toc-number">49.16.3</span> <span class="code">LEAVE</span> phaser may run sooner than you think</li></a>
<a href="#t49.17"><li class="toc-level toc-level-1"><span class="toc-number">49.17</span> Grammars</li></a>
<a href="#t49.17.1"><li class="toc-level toc-level-2"><span class="toc-number">49.17.1</span> Using regexes within grammar's actions.</li></a>
<a href="#t49.18"><li class="toc-level toc-level-1"><span class="toc-number">49.18</span> Unfortunate generalization</li></a>
<a href="#t49.18.1"><li class="toc-level toc-level-2"><span class="toc-number">49.18.1</span> <span class="code">:exists</span> with more than one key</li></a>
<a href="#t49.18.2"><li class="toc-level toc-level-2"><span class="toc-number">49.18.2</span> Using <span class="code">[…]</span> meta-operator with a list of lists</li></a>
<a href="#t50"><li class="toc-level toc-level-0"><span class="toc-number">50</span> Typesystem</li></a>
<a href="#t50.1"><li class="toc-level toc-level-1"><span class="toc-number">50.1</span> Definition of a Perl 6 Type</li></a>
<a href="#t50.1.1"><li class="toc-level toc-level-2"><span class="toc-number">50.1.1</span> Default Types</li></a>
<a href="#t50.1.2"><li class="toc-level toc-level-2"><span class="toc-number">50.1.2</span> Type Objects</li></a>
<a href="#t50.1.2.1"><li class="toc-level toc-level-3"><span class="toc-number">50.1.2.1</span> Undefinedness</li></a>
<a href="#t50.1.2.2"><li class="toc-level toc-level-3"><span class="toc-number">50.1.2.2</span> Coercion</li></a>
<a href="#t50.2"><li class="toc-level toc-level-1"><span class="toc-number">50.2</span> Type Declarators</li></a>
<a href="#t50.2.1"><li class="toc-level toc-level-2"><span class="toc-number">50.2.1</span> <span class="code">class</span></li></a>
<a href="#t50.2.1.1"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.1</span> Mixins</li></a>
<a href="#t50.2.1.2"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.2</span> Introspection</li></a>
<a href="#t50.2.1.2.1"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.2.1</span> Metaclass</li></a>
<a href="#t50.2.1.3"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.3</span> Attributes</li></a>
<a href="#t50.2.1.3.1"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.3.1</span> Private Attributes</li></a>
<a href="#t50.2.1.4"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.4</span> Methods</li></a>
<a href="#t50.2.1.4.1"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.1</span> Inheritance and Multis</li></a>
<a href="#t50.2.1.4.2"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.2</span> Only Method</li></a>
<a href="#t50.2.1.4.3"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.3</span> Submethod BUILD</li></a>
<a href="#t50.2.1.4.4"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.4</span> Fallback method <a name="674"></a></li></a>
<a href="#t50.2.1.4.5"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.5</span> Reserved Method Names</li></a>
<a href="#t50.2.1.4.6"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.6</span> Methods in package scope</li></a>
<a href="#t50.2.1.4.7"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.7</span> Setting Attributes with Namesake Variables and Methods</li></a>
<a href="#t50.2.1.4.8"><li class="toc-level toc-level-4"><span class="toc-number">50.2.1.4.8</span> trait <span class="code">is nodal</span></li></a>
<a href="#t50.2.1.5"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.5</span> trait <a name="679"></a><span class="code">handles</span></li></a>
<a href="#t50.2.1.6"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.6</span> <a name="681"></a>trait  <span class="code">is</span></li></a>
<a href="#t50.2.1.7"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.7</span> trait <a name="682"></a><span class="code">is rw</span></li></a>
<a href="#t50.2.1.8"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.8</span> trait <span class="code">is required</span></li></a>
<a href="#t50.2.1.9"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.9</span> trait <span class="code">hides</span></li></a>
<a href="#t50.2.1.10"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.10</span> trait <span class="code">trusts</span></li></a>
<a href="#t50.2.1.11"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.11</span> Augmenting a class</li></a>
<a href="#t50.2.1.12"><li class="toc-level toc-level-3"><span class="toc-number">50.2.1.12</span> Versioning and Authorship</li></a>
<a href="#t50.2.2"><li class="toc-level toc-level-2"><span class="toc-number">50.2.2</span> <span class="code">role</span></li></a>
<a href="#t50.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">50.2.2.1</span> Auto-punning</li></a>
<a href="#t50.2.2.2"><li class="toc-level toc-level-3"><span class="toc-number">50.2.2.2</span> trait <span class="code">does</span></li></a>
<a href="#t50.2.2.3"><li class="toc-level toc-level-3"><span class="toc-number">50.2.2.3</span> Parameterized</li></a>
<a href="#t50.2.2.4"><li class="toc-level toc-level-3"><span class="toc-number">50.2.2.4</span> As Type Constraints</li></a>
<a href="#t50.2.2.5"><li class="toc-level toc-level-3"><span class="toc-number">50.2.2.5</span> Versioning and Authorship</li></a>
<a href="#t50.2.3"><li class="toc-level toc-level-2"><span class="toc-number">50.2.3</span> <span class="code">enum</span></li></a>
<a href="#t50.2.3.1"><li class="toc-level toc-level-3"><span class="toc-number">50.2.3.1</span> Introspection</li></a>
<a href="#t50.2.3.1.1"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.1.1</span> Metaclass</li></a>
<a href="#t50.2.3.2"><li class="toc-level toc-level-3"><span class="toc-number">50.2.3.2</span> Methods</li></a>
<a href="#t50.2.3.2.1"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.2.1</span> method enums</li></a>
<a href="#t50.2.3.2.2"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.2.2</span> method key</li></a>
<a href="#t50.2.3.2.3"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.2.3</span> method value</li></a>
<a href="#t50.2.3.2.4"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.2.4</span> method pair</li></a>
<a href="#t50.2.3.2.5"><li class="toc-level toc-level-4"><span class="toc-number">50.2.3.2.5</span> method kv</li></a>
<a href="#t50.2.3.3"><li class="toc-level toc-level-3"><span class="toc-number">50.2.3.3</span> Coercion</li></a>
<a href="#t50.2.4"><li class="toc-level toc-level-2"><span class="toc-number">50.2.4</span> <span class="code">module</span></li></a>
<a href="#t50.2.4.1"><li class="toc-level toc-level-3"><span class="toc-number">50.2.4.1</span> Versioning and Authorship</li></a>
<a href="#t50.2.5"><li class="toc-level toc-level-2"><span class="toc-number">50.2.5</span> <span class="code">package</span></li></a>
<a href="#t50.2.6"><li class="toc-level toc-level-2"><span class="toc-number">50.2.6</span> <span class="code">grammar</span></li></a>
<a href="#t50.2.6.1"><li class="toc-level toc-level-3"><span class="toc-number">50.2.6.1</span> Versioning and Authorship</li></a>
<a href="#t50.2.7"><li class="toc-level toc-level-2"><span class="toc-number">50.2.7</span> <span class="code">subset</span></li></a>
<a href="#t51"><li class="toc-level toc-level-0"><span class="toc-number">51</span> Unicode</li></a>
<a href="#t51.1"><li class="toc-level toc-level-1"><span class="toc-number">51.1</span> File Handles and I/O</li></a>
<a href="#t51.1.1"><li class="toc-level toc-level-2"><span class="toc-number">51.1.1</span> Normalization</li></a>
<a href="#t51.1.2"><li class="toc-level toc-level-2"><span class="toc-number">51.1.2</span> UTF8-C8</li></a>
<a href="#t51.2"><li class="toc-level toc-level-1"><span class="toc-number">51.2</span> Entering Unicode Codepoints and Codepoint Sequences</li></a>
<a href="#t51.2.1"><li class="toc-level toc-level-2"><span class="toc-number">51.2.1</span> Name Aliases</li></a>
<a href="#t51.2.2"><li class="toc-level toc-level-2"><span class="toc-number">51.2.2</span> Named Sequences</li></a>
<a href="#t51.2.2.1"><li class="toc-level toc-level-3"><span class="toc-number">51.2.2.1</span> Emoji Sequences</li></a>
<a href="#t52"><li class="toc-level toc-level-0"><span class="toc-number">52</span> Unicode versus ASCII symbols</li></a>
<a href="#t52.1"><li class="toc-level toc-level-1"><span class="toc-number">52.1</span> Alphabetic Characters</li></a>
<a href="#t52.2"><li class="toc-level toc-level-1"><span class="toc-number">52.2</span> Numeric characters</li></a>
<a href="#t52.3"><li class="toc-level toc-level-1"><span class="toc-number">52.3</span> Numeric values</li></a>
<a href="#t52.4"><li class="toc-level toc-level-1"><span class="toc-number">52.4</span> Whitespace characters</li></a>
<a href="#t52.5"><li class="toc-level toc-level-1"><span class="toc-number">52.5</span> Other acceptable single codepoints</li></a>
<a href="#t52.5.1"><li class="toc-level toc-level-2"><span class="toc-number">52.5.1</span> Atomic Operators</li></a>
<a href="#t52.6"><li class="toc-level toc-level-1"><span class="toc-number">52.6</span> Multiple codepoints</li></a>
<a href="#t53"><li class="toc-level toc-level-0"><span class="toc-number">53</span> Entering Unicode Characters</li></a>
<a href="#t53.1"><li class="toc-level toc-level-1"><span class="toc-number">53.1</span> XCompose (Linux)</li></a>
<a href="#t53.1.1"><li class="toc-level toc-level-2"><span class="toc-number">53.1.1</span> Getting Compose working in all Programs</li></a>
<a href="#t53.1.2"><li class="toc-level toc-level-2"><span class="toc-number">53.1.2</span> ibus</li></a>
<a href="#t53.1.2.1"><li class="toc-level toc-level-3"><span class="toc-number">53.1.2.1</span> KDE</li></a>
<a href="#t53.2"><li class="toc-level toc-level-1"><span class="toc-number">53.2</span> Editors and shells</li></a>
<a href="#t53.2.1"><li class="toc-level toc-level-2"><span class="toc-number">53.2.1</span> Vim</li></a>
<a href="#t53.2.1.1"><li class="toc-level toc-level-3"><span class="toc-number">53.2.1.1</span> vim-perl6</li></a>
<a href="#t53.2.2"><li class="toc-level toc-level-2"><span class="toc-number">53.2.2</span> Emacs</li></a>
<a href="#t53.2.3"><li class="toc-level toc-level-2"><span class="toc-number">53.2.3</span> Unix shell</li></a>
<a href="#t53.2.4"><li class="toc-level toc-level-2"><span class="toc-number">53.2.4</span> Screen</li></a>
<a href="#t53.3"><li class="toc-level toc-level-1"><span class="toc-number">53.3</span> Unicode characters useful in Perl 6</li></a>
<a href="#t53.3.1"><li class="toc-level toc-level-2"><span class="toc-number">53.3.1</span> <a href="https://en.wikipedia.org/wiki/Quotation_mark#Curved_quotes_and_Unicode">smart quotes</a></li></a>
<a href="#t53.3.2"><li class="toc-level toc-level-2"><span class="toc-number">53.3.2</span> <a href="https://en.wikipedia.org/wiki/Guillemet">Guillemets</a></li></a>
<a href="#t53.3.3"><li class="toc-level toc-level-2"><span class="toc-number">53.3.3</span> Set/bag operators</li></a>
<a href="#t53.3.4"><li class="toc-level toc-level-2"><span class="toc-number">53.3.4</span> Mathematical symbols</li></a>
<a href="#t53.3.5"><li class="toc-level toc-level-2"><span class="toc-number">53.3.5</span> Greek characters</li></a>
<a href="#t53.3.6"><li class="toc-level toc-level-2"><span class="toc-number">53.3.6</span> Superscripts and subscripts</li></a>
<a href="#t54"><li class="toc-level toc-level-0"><span class="toc-number">54</span> Variables</li></a>
<a href="#t54.1"><li class="toc-level toc-level-1"><span class="toc-number">54.1</span> Sigils <a name="769"></a><a name="770"></a><a name="771"></a>!% (sigil)<a name="772"></a></li></a>
<a href="#t54.1.1"><li class="toc-level toc-level-2"><span class="toc-number">54.1.1</span> Item and List Assignment</li></a>
<a href="#t54.1.2"><li class="toc-level toc-level-2"><span class="toc-number">54.1.2</span> Sigilless variables <a name="774"></a></li></a>
<a href="#t54.2"><li class="toc-level toc-level-1"><span class="toc-number">54.2</span> Twigils <a name="775"></a></li></a>
<a href="#t54.2.1"><li class="toc-level toc-level-2"><span class="toc-number">54.2.1</span> The <span class="code">*</span> Twigil <a name="776"></a></li></a>
<a href="#t54.2.2"><li class="toc-level toc-level-2"><span class="toc-number">54.2.2</span> The <span class="code">?</span> Twigil <a name="777"></a></li></a>
<a href="#t54.2.3"><li class="toc-level toc-level-2"><span class="toc-number">54.2.3</span> The <span class="code">!</span> Twigil <a name="778"></a></li></a>
<a href="#t54.2.4"><li class="toc-level toc-level-2"><span class="toc-number">54.2.4</span> The <span class="code">.</span> Twigil <a name="779"></a></li></a>
<a href="#t54.2.5"><li class="toc-level toc-level-2"><span class="toc-number">54.2.5</span> The <span class="code">^</span> Twigil <a name="780"></a></li></a>
<a href="#t54.2.6"><li class="toc-level toc-level-2"><span class="toc-number">54.2.6</span> The <span class="code">:</span> Twigil <a name="781"></a></li></a>
<a href="#t54.2.7"><li class="toc-level toc-level-2"><span class="toc-number">54.2.7</span> The <span class="code">=</span> Twigil <a name="782"></a></li></a>
<a href="#t54.2.8"><li class="toc-level toc-level-2"><span class="toc-number">54.2.8</span> The <span class="code">~</span> Twigil <a name="783"></a></li></a>
<a href="#t54.3"><li class="toc-level toc-level-1"><span class="toc-number">54.3</span> Variable Declarators and Scope</li></a>
<a href="#t54.3.1"><li class="toc-level toc-level-2"><span class="toc-number">54.3.1</span> The <span class="code">my</span> Declarator</li></a>
<a href="#t54.3.2"><li class="toc-level toc-level-2"><span class="toc-number">54.3.2</span> The <span class="code">our</span> Declarator</li></a>
<a href="#t54.3.3"><li class="toc-level toc-level-2"><span class="toc-number">54.3.3</span> Declaring a list of variables</li></a>
<a href="#t54.3.4"><li class="toc-level toc-level-2"><span class="toc-number">54.3.4</span> The <span class="code">has</span> Declarator</li></a>
<a href="#t54.3.5"><li class="toc-level toc-level-2"><span class="toc-number">54.3.5</span> The <span class="code">anon</span> Declarator</li></a>
<a href="#t54.3.6"><li class="toc-level toc-level-2"><span class="toc-number">54.3.6</span> The <span class="code">state</span> Declarator</li></a>
<a href="#t54.3.6.1"><li class="toc-level toc-level-3"><span class="toc-number">54.3.6.1</span> The <span class="code">$</span> Variable <a name="791"></a><a name="792"></a><a name="793"></a></li></a>
<a href="#t54.3.6.2"><li class="toc-level toc-level-3"><span class="toc-number">54.3.6.2</span> The <span class="code">@</span> Variable</li></a>
<a href="#t54.3.6.3"><li class="toc-level toc-level-3"><span class="toc-number">54.3.6.3</span> The <span class="code">%</span> Variable</li></a>
<a href="#t54.3.7"><li class="toc-level toc-level-2"><span class="toc-number">54.3.7</span> The <span class="code">augment</span> Declarator</li></a>
<a href="#t54.3.8"><li class="toc-level toc-level-2"><span class="toc-number">54.3.8</span> The <span class="code">temp</span> Prefix</li></a>
<a href="#t54.3.9"><li class="toc-level toc-level-2"><span class="toc-number">54.3.9</span> The <span class="code">let</span> Prefix</li></a>
<a href="#t54.4"><li class="toc-level toc-level-1"><span class="toc-number">54.4</span> Type Constraints and Initialization</li></a>
<a href="#t54.4.1"><li class="toc-level toc-level-2"><span class="toc-number">54.4.1</span> Default Defined Variables Pragma</li></a>
<a href="#t54.5"><li class="toc-level toc-level-1"><span class="toc-number">54.5</span> Special Variables</li></a>
<a href="#t54.5.1"><li class="toc-level toc-level-2"><span class="toc-number">54.5.1</span> Pre-defined lexical variables</li></a>
<a href="#t54.5.1.1"><li class="toc-level toc-level-3"><span class="toc-number">54.5.1.1</span> The <span class="code">$_</span> Variable</li></a>
<a href="#t54.5.1.2"><li class="toc-level toc-level-3"><span class="toc-number">54.5.1.2</span> The <span class="code">$/</span> Variable</li></a>
<a href="#t54.5.1.2.1"><li class="toc-level toc-level-4"><span class="toc-number">54.5.1.2.1</span> <a name="794"></a>Positional Attributes</li></a>
<a href="#t54.5.1.2.2"><li class="toc-level toc-level-4"><span class="toc-number">54.5.1.2.2</span> <a name="795"></a>Named Attributes</li></a>
<a href="#t54.5.1.3"><li class="toc-level toc-level-3"><span class="toc-number">54.5.1.3</span> The <span class="code">$!</span> Variable</li></a>
<a href="#t54.5.2"><li class="toc-level toc-level-2"><span class="toc-number">54.5.2</span> Compile-time variables</li></a>
<a href="#t54.5.2.1"><li class="toc-level toc-level-3"><span class="toc-number">54.5.2.1</span> Other compile-time variables:</li></a>
<a href="#t54.5.2.2"><li class="toc-level toc-level-3"><span class="toc-number">54.5.2.2</span> <a name="811"></a>&amp;?ROUTINE</li></a>
<a href="#t54.5.2.3"><li class="toc-level toc-level-3"><span class="toc-number">54.5.2.3</span> <a name="812"></a>&amp;?BLOCK</li></a>
<a href="#t54.5.3"><li class="toc-level toc-level-2"><span class="toc-number">54.5.3</span> Dynamic variables</li></a>
<a href="#t54.6"><li class="toc-level toc-level-1"><span class="toc-number">54.6</span> Naming Conventions</li></a>
<a href="#t55"><li class="toc-level toc-level-0"><span class="toc-number">55</span> Debugging</li></a>
<a href="#t55.0.1"><li class="toc-level toc-level-2"><span class="toc-number">55.0.1</span> <span class="code">trace</span> pragma</li></a>
<a href="#t55.0.2"><li class="toc-level toc-level-2"><span class="toc-number">55.0.2</span> Dumper function <span class="code">dd</span></li></a>
<a href="#t55.0.3"><li class="toc-level toc-level-2"><span class="toc-number">55.0.3</span> Using backtraces</li></a>
<a href="#t56"><li class="toc-level toc-level-0"><span class="toc-number">56</span> Reading the docs</li></a>
<a href="#t56.1"><li class="toc-level toc-level-1"><span class="toc-number">56.1</span> <a name="841"></a>INTRODUCTION</li></a>
<a href="#t56.2"><li class="toc-level toc-level-1"><span class="toc-number">56.2</span> SYNOPSIS</li></a>
<a href="#t56.3"><li class="toc-level toc-level-1"><span class="toc-number">56.3</span> DESCRIPTION</li></a>
<a href="#t56.4"><li class="toc-level toc-level-1"><span class="toc-number">56.4</span> LIMITATIONS</li></a>
<a href="#t57"><li class="toc-level toc-level-0"><span class="toc-number">57</span> class AST</li></a>
<a href="#t58"><li class="toc-level toc-level-0"><span class="toc-number">58</span> class Any</li></a>
<a href="#t58.1"><li class="toc-level toc-level-1"><span class="toc-number">58.1</span> Methods</li></a>
<a href="#t58.1.1"><li class="toc-level toc-level-2"><span class="toc-number">58.1.1</span> method ACCEPTS</li></a>
<a href="#t58.1.2"><li class="toc-level toc-level-2"><span class="toc-number">58.1.2</span> method any</li></a>
<a href="#t58.1.3"><li class="toc-level toc-level-2"><span class="toc-number">58.1.3</span> method all</li></a>
<a href="#t58.1.4"><li class="toc-level toc-level-2"><span class="toc-number">58.1.4</span> method one</li></a>
<a href="#t58.1.5"><li class="toc-level toc-level-2"><span class="toc-number">58.1.5</span> method none</li></a>
<a href="#t58.1.6"><li class="toc-level toc-level-2"><span class="toc-number">58.1.6</span> method list</li></a>
<a href="#t58.1.7"><li class="toc-level toc-level-2"><span class="toc-number">58.1.7</span> method push</li></a>
<a href="#t58.1.8"><li class="toc-level toc-level-2"><span class="toc-number">58.1.8</span> routine reverse</li></a>
<a href="#t58.1.9"><li class="toc-level toc-level-2"><span class="toc-number">58.1.9</span> method sort</li></a>
<a href="#t58.1.10"><li class="toc-level toc-level-2"><span class="toc-number">58.1.10</span> method map</li></a>
<a href="#t58.1.11"><li class="toc-level toc-level-2"><span class="toc-number">58.1.11</span> method deepmap</li></a>
<a href="#t58.1.12"><li class="toc-level toc-level-2"><span class="toc-number">58.1.12</span> method duckmap</li></a>
<a href="#t58.1.13"><li class="toc-level toc-level-2"><span class="toc-number">58.1.13</span> method nodemap</li></a>
<a href="#t58.1.14"><li class="toc-level toc-level-2"><span class="toc-number">58.1.14</span> method flat</li></a>
<a href="#t58.1.15"><li class="toc-level toc-level-2"><span class="toc-number">58.1.15</span> method eager</li></a>
<a href="#t58.1.16"><li class="toc-level toc-level-2"><span class="toc-number">58.1.16</span> method elems</li></a>
<a href="#t58.1.17"><li class="toc-level toc-level-2"><span class="toc-number">58.1.17</span> method end</li></a>
<a href="#t58.1.18"><li class="toc-level toc-level-2"><span class="toc-number">58.1.18</span> method pairup</li></a>
<a href="#t58.1.19"><li class="toc-level toc-level-2"><span class="toc-number">58.1.19</span> sub exit</li></a>
<a href="#t58.1.20"><li class="toc-level toc-level-2"><span class="toc-number">58.1.20</span> sub item</li></a>
<a href="#t58.1.21"><li class="toc-level toc-level-2"><span class="toc-number">58.1.21</span> method Array</li></a>
<a href="#t58.1.22"><li class="toc-level toc-level-2"><span class="toc-number">58.1.22</span> method List</li></a>
<a href="#t58.1.23"><li class="toc-level toc-level-2"><span class="toc-number">58.1.23</span> serial</li></a>
<a href="#t58.1.24"><li class="toc-level toc-level-2"><span class="toc-number">58.1.24</span> method Hash</li></a>
<a href="#t58.1.25"><li class="toc-level toc-level-2"><span class="toc-number">58.1.25</span> method hash</li></a>
<a href="#t58.1.26"><li class="toc-level toc-level-2"><span class="toc-number">58.1.26</span> method Slip</li></a>
<a href="#t58.1.27"><li class="toc-level toc-level-2"><span class="toc-number">58.1.27</span> method Map</li></a>
<a href="#t58.1.28"><li class="toc-level toc-level-2"><span class="toc-number">58.1.28</span> method Bag</li></a>
<a href="#t58.1.29"><li class="toc-level toc-level-2"><span class="toc-number">58.1.29</span> method BagHash</li></a>
<a href="#t58.1.30"><li class="toc-level toc-level-2"><span class="toc-number">58.1.30</span> method Set</li></a>
<a href="#t58.1.31"><li class="toc-level toc-level-2"><span class="toc-number">58.1.31</span> method SetHash</li></a>
<a href="#t58.1.32"><li class="toc-level toc-level-2"><span class="toc-number">58.1.32</span> method Mix</li></a>
<a href="#t58.1.33"><li class="toc-level toc-level-2"><span class="toc-number">58.1.33</span> method MixHash</li></a>
<a href="#t58.1.34"><li class="toc-level toc-level-2"><span class="toc-number">58.1.34</span> method Supply</li></a>
<a href="#t58.1.35"><li class="toc-level toc-level-2"><span class="toc-number">58.1.35</span> method min</li></a>
<a href="#t58.1.36"><li class="toc-level toc-level-2"><span class="toc-number">58.1.36</span> method max</li></a>
<a href="#t58.1.37"><li class="toc-level toc-level-2"><span class="toc-number">58.1.37</span> method minmax</li></a>
<a href="#t58.1.38"><li class="toc-level toc-level-2"><span class="toc-number">58.1.38</span> method minpairs</li></a>
<a href="#t58.1.39"><li class="toc-level toc-level-2"><span class="toc-number">58.1.39</span> method maxpairs</li></a>
<a href="#t58.1.40"><li class="toc-level toc-level-2"><span class="toc-number">58.1.40</span> method keys</li></a>
<a href="#t58.1.41"><li class="toc-level toc-level-2"><span class="toc-number">58.1.41</span> method flatmap</li></a>
<a href="#t58.1.42"><li class="toc-level toc-level-2"><span class="toc-number">58.1.42</span> method roll</li></a>
<a href="#t58.1.43"><li class="toc-level toc-level-2"><span class="toc-number">58.1.43</span> method pick</li></a>
<a href="#t58.1.44"><li class="toc-level toc-level-2"><span class="toc-number">58.1.44</span> method skip</li></a>
<a href="#t58.1.45"><li class="toc-level toc-level-2"><span class="toc-number">58.1.45</span> method prepend</li></a>
<a href="#t58.1.46"><li class="toc-level toc-level-2"><span class="toc-number">58.1.46</span> method unshift</li></a>
<a href="#t58.1.47"><li class="toc-level toc-level-2"><span class="toc-number">58.1.47</span> method first</li></a>
<a href="#t58.1.48"><li class="toc-level toc-level-2"><span class="toc-number">58.1.48</span> method unique</li></a>
<a href="#t58.1.49"><li class="toc-level toc-level-2"><span class="toc-number">58.1.49</span> method repeated</li></a>
<a href="#t58.1.50"><li class="toc-level toc-level-2"><span class="toc-number">58.1.50</span> method squish</li></a>
<a href="#t58.1.51"><li class="toc-level toc-level-2"><span class="toc-number">58.1.51</span> method permutations</li></a>
<a href="#t58.1.52"><li class="toc-level toc-level-2"><span class="toc-number">58.1.52</span> method categorize</li></a>
<a href="#t58.1.53"><li class="toc-level toc-level-2"><span class="toc-number">58.1.53</span> method classify</li></a>
<a href="#t58.1.54"><li class="toc-level toc-level-2"><span class="toc-number">58.1.54</span> method produce</li></a>
<a href="#t58.1.55"><li class="toc-level toc-level-2"><span class="toc-number">58.1.55</span> method pairs</li></a>
<a href="#t58.1.56"><li class="toc-level toc-level-2"><span class="toc-number">58.1.56</span> method antipairs</li></a>
<a href="#t58.1.57"><li class="toc-level toc-level-2"><span class="toc-number">58.1.57</span> method kv</li></a>
<a href="#t58.1.58"><li class="toc-level toc-level-2"><span class="toc-number">58.1.58</span> method toggle</li></a>
<a href="#t58.1.59"><li class="toc-level toc-level-2"><span class="toc-number">58.1.59</span> method tree</li></a>
<a href="#t58.1.60"><li class="toc-level toc-level-2"><span class="toc-number">58.1.60</span> method nl-out</li></a>
<a href="#t58.1.61"><li class="toc-level toc-level-2"><span class="toc-number">58.1.61</span> method invert</li></a>
<a href="#t58.1.62"><li class="toc-level toc-level-2"><span class="toc-number">58.1.62</span> method combinations</li></a>
<a href="#t58.1.63"><li class="toc-level toc-level-2"><span class="toc-number">58.1.63</span> method iterator</li></a>
<a href="#t58.1.64"><li class="toc-level toc-level-2"><span class="toc-number">58.1.64</span> method grep</li></a>
<a href="#t58.1.65"><li class="toc-level toc-level-2"><span class="toc-number">58.1.65</span> method append</li></a>
<a href="#t58.1.66"><li class="toc-level toc-level-2"><span class="toc-number">58.1.66</span> method values</li></a>
<a href="#t58.1.67"><li class="toc-level toc-level-2"><span class="toc-number">58.1.67</span> method collate</li></a>
<a href="#t58.1.68"><li class="toc-level toc-level-2"><span class="toc-number">58.1.68</span> method cache</li></a>
<a href="#t59"><li class="toc-level toc-level-0"><span class="toc-number">59</span> class Array</li></a>
<a href="#t59.1"><li class="toc-level toc-level-1"><span class="toc-number">59.1</span> Methods</li></a>
<a href="#t59.1.1"><li class="toc-level toc-level-2"><span class="toc-number">59.1.1</span> method gist</li></a>
<a href="#t59.1.2"><li class="toc-level toc-level-2"><span class="toc-number">59.1.2</span> routine pop</li></a>
<a href="#t59.1.3"><li class="toc-level toc-level-2"><span class="toc-number">59.1.3</span> routine push</li></a>
<a href="#t59.1.4"><li class="toc-level toc-level-2"><span class="toc-number">59.1.4</span> method append</li></a>
<a href="#t59.1.5"><li class="toc-level toc-level-2"><span class="toc-number">59.1.5</span> method elems</li></a>
<a href="#t59.1.6"><li class="toc-level toc-level-2"><span class="toc-number">59.1.6</span> method clone</li></a>
<a href="#t59.1.7"><li class="toc-level toc-level-2"><span class="toc-number">59.1.7</span> routine shift</li></a>
<a href="#t59.1.8"><li class="toc-level toc-level-2"><span class="toc-number">59.1.8</span> routine unshift</li></a>
<a href="#t59.1.9"><li class="toc-level toc-level-2"><span class="toc-number">59.1.9</span> method prepend</li></a>
<a href="#t59.1.10"><li class="toc-level toc-level-2"><span class="toc-number">59.1.10</span> routine splice</li></a>
<a href="#t59.1.11"><li class="toc-level toc-level-2"><span class="toc-number">59.1.11</span> method shape</li></a>
<a href="#t59.1.12"><li class="toc-level toc-level-2"><span class="toc-number">59.1.12</span> method default</li></a>
<a href="#t59.1.13"><li class="toc-level toc-level-2"><span class="toc-number">59.1.13</span> method of</li></a>
<a href="#t59.1.14"><li class="toc-level toc-level-2"><span class="toc-number">59.1.14</span> routine dynamic</li></a>
<a href="#t60"><li class="toc-level toc-level-0"><span class="toc-number">60</span> role Associative</li></a>
<a href="#t61"><li class="toc-level toc-level-0"><span class="toc-number">61</span> class Attribute</li></a>
<a href="#t61.1"><li class="toc-level toc-level-1"><span class="toc-number">61.1</span> Traits</li></a>
<a href="#t61.1.1"><li class="toc-level toc-level-2"><span class="toc-number">61.1.1</span> <a name="843"></a>Trait is default</li></a>
<a href="#t61.1.2"><li class="toc-level toc-level-2"><span class="toc-number">61.1.2</span> <a name="844"></a>Trait is required</li></a>
<a href="#t61.1.3"><li class="toc-level toc-level-2"><span class="toc-number">61.1.3</span> <a name="845"></a>trait is DEPRECATED</li></a>
<a href="#t61.2"><li class="toc-level toc-level-1"><span class="toc-number">61.2</span> Methods</li></a>
<a href="#t61.2.1"><li class="toc-level toc-level-2"><span class="toc-number">61.2.1</span> method name</li></a>
<a href="#t61.2.2"><li class="toc-level toc-level-2"><span class="toc-number">61.2.2</span> method package</li></a>
<a href="#t61.2.3"><li class="toc-level toc-level-2"><span class="toc-number">61.2.3</span> method has_accessor</li></a>
<a href="#t61.2.4"><li class="toc-level toc-level-2"><span class="toc-number">61.2.4</span> method readonly</li></a>
<a href="#t61.2.5"><li class="toc-level toc-level-2"><span class="toc-number">61.2.5</span> method type</li></a>
<a href="#t61.2.6"><li class="toc-level toc-level-2"><span class="toc-number">61.2.6</span> method get_value</li></a>
<a href="#t61.2.7"><li class="toc-level toc-level-2"><span class="toc-number">61.2.7</span> method set_value</li></a>
<a href="#t61.2.8"><li class="toc-level toc-level-2"><span class="toc-number">61.2.8</span> trait is required</li></a>
<a href="#t61.2.9"><li class="toc-level toc-level-2"><span class="toc-number">61.2.9</span> trait is rw</li></a>
<a href="#t62"><li class="toc-level toc-level-0"><span class="toc-number">62</span> class Backtrace</li></a>
<a href="#t62.1"><li class="toc-level toc-level-1"><span class="toc-number">62.1</span> Methods</li></a>
<a href="#t62.1.1"><li class="toc-level toc-level-2"><span class="toc-number">62.1.1</span> method new</li></a>
<a href="#t62.1.2"><li class="toc-level toc-level-2"><span class="toc-number">62.1.2</span> method gist</li></a>
<a href="#t62.1.3"><li class="toc-level toc-level-2"><span class="toc-number">62.1.3</span> method Str</li></a>
<a href="#t62.1.4"><li class="toc-level toc-level-2"><span class="toc-number">62.1.4</span> method full</li></a>
<a href="#t62.1.5"><li class="toc-level toc-level-2"><span class="toc-number">62.1.5</span> method list</li></a>
<a href="#t63"><li class="toc-level toc-level-0"><span class="toc-number">63</span> class Backtrace::Frame</li></a>
<a href="#t63.1"><li class="toc-level toc-level-1"><span class="toc-number">63.1</span> Methods</li></a>
<a href="#t63.1.1"><li class="toc-level toc-level-2"><span class="toc-number">63.1.1</span> method file</li></a>
<a href="#t63.1.2"><li class="toc-level toc-level-2"><span class="toc-number">63.1.2</span> method line</li></a>
<a href="#t63.1.3"><li class="toc-level toc-level-2"><span class="toc-number">63.1.3</span> method code</li></a>
<a href="#t63.1.4"><li class="toc-level toc-level-2"><span class="toc-number">63.1.4</span> method subname</li></a>
<a href="#t63.1.5"><li class="toc-level toc-level-2"><span class="toc-number">63.1.5</span> method is-hidden</li></a>
<a href="#t63.1.6"><li class="toc-level toc-level-2"><span class="toc-number">63.1.6</span> method is-routine</li></a>
<a href="#t63.1.7"><li class="toc-level toc-level-2"><span class="toc-number">63.1.7</span> method is-setting</li></a>
<a href="#t64"><li class="toc-level toc-level-0"><span class="toc-number">64</span> class Bag</li></a>
<a href="#t64.1"><li class="toc-level toc-level-1"><span class="toc-number">64.1</span> Creating <span class="code">Bag</span> objects</li></a>
<a href="#t64.2"><li class="toc-level toc-level-1"><span class="toc-number">64.2</span> Operators</li></a>
<a href="#t64.3"><li class="toc-level toc-level-1"><span class="toc-number">64.3</span> Subroutines</li></a>
<a href="#t64.3.1"><li class="toc-level toc-level-2"><span class="toc-number">64.3.1</span> sub bag</li></a>
<a href="#t64.4"><li class="toc-level toc-level-1"><span class="toc-number">64.4</span> See Also</li></a>
<a href="#t65"><li class="toc-level toc-level-0"><span class="toc-number">65</span> class BagHash</li></a>
<a href="#t65.1"><li class="toc-level toc-level-1"><span class="toc-number">65.1</span> Creating <span class="code">BagHash</span> objects</li></a>
<a href="#t65.2"><li class="toc-level toc-level-1"><span class="toc-number">65.2</span> Operators</li></a>
<a href="#t65.3"><li class="toc-level toc-level-1"><span class="toc-number">65.3</span> See Also</li></a>
<a href="#t66"><li class="toc-level toc-level-0"><span class="toc-number">66</span> role Baggy</li></a>
<a href="#t66.1"><li class="toc-level toc-level-1"><span class="toc-number">66.1</span> Methods</li></a>
<a href="#t66.1.1"><li class="toc-level toc-level-2"><span class="toc-number">66.1.1</span> method new-from-pairs</li></a>
<a href="#t66.1.2"><li class="toc-level toc-level-2"><span class="toc-number">66.1.2</span> method grab</li></a>
<a href="#t66.1.3"><li class="toc-level toc-level-2"><span class="toc-number">66.1.3</span> method grabpairs</li></a>
<a href="#t66.1.4"><li class="toc-level toc-level-2"><span class="toc-number">66.1.4</span> method pick</li></a>
<a href="#t66.1.5"><li class="toc-level toc-level-2"><span class="toc-number">66.1.5</span> method pickpairs</li></a>
<a href="#t66.1.6"><li class="toc-level toc-level-2"><span class="toc-number">66.1.6</span> method roll</li></a>
<a href="#t66.1.7"><li class="toc-level toc-level-2"><span class="toc-number">66.1.7</span> method pairs</li></a>
<a href="#t66.1.8"><li class="toc-level toc-level-2"><span class="toc-number">66.1.8</span> method antipairs</li></a>
<a href="#t66.1.9"><li class="toc-level toc-level-2"><span class="toc-number">66.1.9</span> method invert</li></a>
<a href="#t66.1.10"><li class="toc-level toc-level-2"><span class="toc-number">66.1.10</span> method classify-list</li></a>
<a href="#t66.1.11"><li class="toc-level toc-level-2"><span class="toc-number">66.1.11</span> method categorize-list</li></a>
<a href="#t66.1.12"><li class="toc-level toc-level-2"><span class="toc-number">66.1.12</span> method keys</li></a>
<a href="#t66.1.13"><li class="toc-level toc-level-2"><span class="toc-number">66.1.13</span> method values</li></a>
<a href="#t66.1.14"><li class="toc-level toc-level-2"><span class="toc-number">66.1.14</span> method kv</li></a>
<a href="#t66.1.15"><li class="toc-level toc-level-2"><span class="toc-number">66.1.15</span> method kxxv</li></a>
<a href="#t66.1.16"><li class="toc-level toc-level-2"><span class="toc-number">66.1.16</span> method elems</li></a>
<a href="#t66.1.17"><li class="toc-level toc-level-2"><span class="toc-number">66.1.17</span> method total</li></a>
<a href="#t66.1.18"><li class="toc-level toc-level-2"><span class="toc-number">66.1.18</span> method default</li></a>
<a href="#t66.1.19"><li class="toc-level toc-level-2"><span class="toc-number">66.1.19</span> method hash</li></a>
<a href="#t66.1.20"><li class="toc-level toc-level-2"><span class="toc-number">66.1.20</span> method Bool</li></a>
<a href="#t66.1.21"><li class="toc-level toc-level-2"><span class="toc-number">66.1.21</span> method Set</li></a>
<a href="#t66.1.22"><li class="toc-level toc-level-2"><span class="toc-number">66.1.22</span> method SetHash</li></a>
<a href="#t66.1.23"><li class="toc-level toc-level-2"><span class="toc-number">66.1.23</span> method ACCEPTS</li></a>
<a href="#t66.2"><li class="toc-level toc-level-1"><span class="toc-number">66.2</span> See Also</li></a>
<a href="#t67"><li class="toc-level toc-level-0"><span class="toc-number">67</span> role Blob</li></a>
<a href="#t67.1"><li class="toc-level toc-level-1"><span class="toc-number">67.1</span> Methods</li></a>
<a href="#t67.1.1"><li class="toc-level toc-level-2"><span class="toc-number">67.1.1</span> method new</li></a>
<a href="#t67.1.2"><li class="toc-level toc-level-2"><span class="toc-number">67.1.2</span> method Bool</li></a>
<a href="#t67.1.3"><li class="toc-level toc-level-2"><span class="toc-number">67.1.3</span> method Capture</li></a>
<a href="#t67.1.4"><li class="toc-level toc-level-2"><span class="toc-number">67.1.4</span> method elems</li></a>
<a href="#t67.1.5"><li class="toc-level toc-level-2"><span class="toc-number">67.1.5</span> method bytes</li></a>
<a href="#t67.1.6"><li class="toc-level toc-level-2"><span class="toc-number">67.1.6</span> method decode</li></a>
<a href="#t67.1.7"><li class="toc-level toc-level-2"><span class="toc-number">67.1.7</span> method gist</li></a>
<a href="#t67.1.8"><li class="toc-level toc-level-2"><span class="toc-number">67.1.8</span> method subbuf</li></a>
<a href="#t67.1.9"><li class="toc-level toc-level-2"><span class="toc-number">67.1.9</span> method allocate</li></a>
<a href="#t67.1.10"><li class="toc-level toc-level-2"><span class="toc-number">67.1.10</span> method unpack</li></a>
<a href="#t67.1.11"><li class="toc-level toc-level-2"><span class="toc-number">67.1.11</span> sub pack</li></a>
<a href="#t67.1.12"><li class="toc-level toc-level-2"><span class="toc-number">67.1.12</span> method reverse</li></a>
<a href="#t68"><li class="toc-level toc-level-0"><span class="toc-number">68</span> class Block</li></a>
<a href="#t69"><li class="toc-level toc-level-0"><span class="toc-number">69</span> enum Bool</li></a>
<a href="#t69.1"><li class="toc-level toc-level-1"><span class="toc-number">69.1</span> Methods</li></a>
<a href="#t69.1.1"><li class="toc-level toc-level-2"><span class="toc-number">69.1.1</span> routine succ</li></a>
<a href="#t69.1.2"><li class="toc-level toc-level-2"><span class="toc-number">69.1.2</span> routine pred</li></a>
<a href="#t69.1.3"><li class="toc-level toc-level-2"><span class="toc-number">69.1.3</span> routine enums</li></a>
<a href="#t69.1.4"><li class="toc-level toc-level-2"><span class="toc-number">69.1.4</span> routine pick</li></a>
<a href="#t69.1.5"><li class="toc-level toc-level-2"><span class="toc-number">69.1.5</span> routine roll</li></a>
<a href="#t69.1.6"><li class="toc-level toc-level-2"><span class="toc-number">69.1.6</span> routine Numeric</li></a>
<a href="#t69.2"><li class="toc-level toc-level-1"><span class="toc-number">69.2</span> Operators</li></a>
<a href="#t69.2.1"><li class="toc-level toc-level-2"><span class="toc-number">69.2.1</span> prefix ?</li></a>
<a href="#t69.2.2"><li class="toc-level toc-level-2"><span class="toc-number">69.2.2</span> prefix so</li></a>
<a href="#t70"><li class="toc-level toc-level-0"><span class="toc-number">70</span> role Buf</li></a>
<a href="#t70.1"><li class="toc-level toc-level-1"><span class="toc-number">70.1</span> Methods</li></a>
<a href="#t70.1.1"><li class="toc-level toc-level-2"><span class="toc-number">70.1.1</span> method subbuf-rw</li></a>
<a href="#t70.1.2"><li class="toc-level toc-level-2"><span class="toc-number">70.1.2</span> routine subbuf-rw</li></a>
<a href="#t70.1.3"><li class="toc-level toc-level-2"><span class="toc-number">70.1.3</span> method reallocate</li></a>
<a href="#t70.1.4"><li class="toc-level toc-level-2"><span class="toc-number">70.1.4</span> method push</li></a>
<a href="#t70.1.5"><li class="toc-level toc-level-2"><span class="toc-number">70.1.5</span> method pop</li></a>
<a href="#t70.1.6"><li class="toc-level toc-level-2"><span class="toc-number">70.1.6</span> method append</li></a>
<a href="#t70.1.7"><li class="toc-level toc-level-2"><span class="toc-number">70.1.7</span> method prepend</li></a>
<a href="#t70.1.8"><li class="toc-level toc-level-2"><span class="toc-number">70.1.8</span> method shift</li></a>
<a href="#t70.1.9"><li class="toc-level toc-level-2"><span class="toc-number">70.1.9</span> method unshift</li></a>
<a href="#t70.1.10"><li class="toc-level toc-level-2"><span class="toc-number">70.1.10</span> method splice</li></a>
<a href="#t71"><li class="toc-level toc-level-0"><span class="toc-number">71</span> class CallFrame</li></a>
<a href="#t71.1"><li class="toc-level toc-level-1"><span class="toc-number">71.1</span> Methods</li></a>
<a href="#t71.1.1"><li class="toc-level toc-level-2"><span class="toc-number">71.1.1</span> method code</li></a>
<a href="#t71.1.2"><li class="toc-level toc-level-2"><span class="toc-number">71.1.2</span> method file</li></a>
<a href="#t71.1.3"><li class="toc-level toc-level-2"><span class="toc-number">71.1.3</span> method level</li></a>
<a href="#t71.1.4"><li class="toc-level toc-level-2"><span class="toc-number">71.1.4</span> method line</li></a>
<a href="#t71.1.5"><li class="toc-level toc-level-2"><span class="toc-number">71.1.5</span> method annotations</li></a>
<a href="#t71.1.6"><li class="toc-level toc-level-2"><span class="toc-number">71.1.6</span> method my</li></a>
<a href="#t71.2"><li class="toc-level toc-level-1"><span class="toc-number">71.2</span> Routines</li></a>
<a href="#t71.2.1"><li class="toc-level toc-level-2"><span class="toc-number">71.2.1</span> sub callframe</li></a>
<a href="#t72"><li class="toc-level toc-level-0"><span class="toc-number">72</span> role Callable</li></a>
<a href="#t72.1"><li class="toc-level toc-level-1"><span class="toc-number">72.1</span> Methods</li></a>
<a href="#t72.1.1"><li class="toc-level toc-level-2"><span class="toc-number">72.1.1</span> method CALL-ME</li></a>
<a href="#t72.1.2"><li class="toc-level toc-level-2"><span class="toc-number">72.1.2</span> method Capture</li></a>
<a href="#t72.1.3"><li class="toc-level toc-level-2"><span class="toc-number">72.1.3</span> method assuming</li></a>
<a href="#t73"><li class="toc-level toc-level-0"><span class="toc-number">73</span> class Cancellation</li></a>
<a href="#t73.1"><li class="toc-level toc-level-1"><span class="toc-number">73.1</span> Methods</li></a>
<a href="#t73.1.1"><li class="toc-level toc-level-2"><span class="toc-number">73.1.1</span> method cancel</li></a>
<a href="#t74"><li class="toc-level toc-level-0"><span class="toc-number">74</span> class Capture</li></a>
<a href="#t74.1"><li class="toc-level toc-level-1"><span class="toc-number">74.1</span> Methods</li></a>
<a href="#t74.1.1"><li class="toc-level toc-level-2"><span class="toc-number">74.1.1</span> method list</li></a>
<a href="#t74.1.2"><li class="toc-level toc-level-2"><span class="toc-number">74.1.2</span> method hash</li></a>
<a href="#t74.1.3"><li class="toc-level toc-level-2"><span class="toc-number">74.1.3</span> method elems</li></a>
<a href="#t74.1.4"><li class="toc-level toc-level-2"><span class="toc-number">74.1.4</span> method keys</li></a>
<a href="#t74.1.5"><li class="toc-level toc-level-2"><span class="toc-number">74.1.5</span> method values</li></a>
<a href="#t74.1.6"><li class="toc-level toc-level-2"><span class="toc-number">74.1.6</span> method kv</li></a>
<a href="#t74.1.7"><li class="toc-level toc-level-2"><span class="toc-number">74.1.7</span> method pairs</li></a>
<a href="#t74.1.8"><li class="toc-level toc-level-2"><span class="toc-number">74.1.8</span> method antipairs</li></a>
<a href="#t74.1.9"><li class="toc-level toc-level-2"><span class="toc-number">74.1.9</span> method Bool</li></a>
<a href="#t74.1.10"><li class="toc-level toc-level-2"><span class="toc-number">74.1.10</span> method Capture</li></a>
<a href="#t74.1.11"><li class="toc-level toc-level-2"><span class="toc-number">74.1.11</span> method Numeric</li></a>
<a href="#t75"><li class="toc-level toc-level-0"><span class="toc-number">75</span> class Channel</li></a>
<a href="#t75.1"><li class="toc-level toc-level-1"><span class="toc-number">75.1</span> Methods</li></a>
<a href="#t75.1.1"><li class="toc-level toc-level-2"><span class="toc-number">75.1.1</span> method send</li></a>
<a href="#t75.1.2"><li class="toc-level toc-level-2"><span class="toc-number">75.1.2</span> method receive</li></a>
<a href="#t75.1.3"><li class="toc-level toc-level-2"><span class="toc-number">75.1.3</span> method poll</li></a>
<a href="#t75.1.4"><li class="toc-level toc-level-2"><span class="toc-number">75.1.4</span> method close</li></a>
<a href="#t75.1.5"><li class="toc-level toc-level-2"><span class="toc-number">75.1.5</span> method list</li></a>
<a href="#t75.1.6"><li class="toc-level toc-level-2"><span class="toc-number">75.1.6</span> method closed</li></a>
<a href="#t75.1.7"><li class="toc-level toc-level-2"><span class="toc-number">75.1.7</span> method fail</li></a>
<a href="#t75.1.8"><li class="toc-level toc-level-2"><span class="toc-number">75.1.8</span> method Capture</li></a>
<a href="#t75.1.9"><li class="toc-level toc-level-2"><span class="toc-number">75.1.9</span> method Supply</li></a>
<a href="#t75.1.10"><li class="toc-level toc-level-2"><span class="toc-number">75.1.10</span> sub await</li></a>
<a href="#t76"><li class="toc-level toc-level-0"><span class="toc-number">76</span> class Code</li></a>
<a href="#t76.1"><li class="toc-level toc-level-1"><span class="toc-number">76.1</span> Methods</li></a>
<a href="#t76.1.1"><li class="toc-level toc-level-2"><span class="toc-number">76.1.1</span> method ACCEPTS</li></a>
<a href="#t76.1.2"><li class="toc-level toc-level-2"><span class="toc-number">76.1.2</span> method arity</li></a>
<a href="#t76.1.3"><li class="toc-level toc-level-2"><span class="toc-number">76.1.3</span> method count</li></a>
<a href="#t76.1.4"><li class="toc-level toc-level-2"><span class="toc-number">76.1.4</span> of</li></a>
<a href="#t76.1.5"><li class="toc-level toc-level-2"><span class="toc-number">76.1.5</span> method signature</li></a>
<a href="#t76.1.6"><li class="toc-level toc-level-2"><span class="toc-number">76.1.6</span> method Str</li></a>
<a href="#t76.1.7"><li class="toc-level toc-level-2"><span class="toc-number">76.1.7</span> method file</li></a>
<a href="#t76.1.8"><li class="toc-level toc-level-2"><span class="toc-number">76.1.8</span> method line</li></a>
<a href="#t77"><li class="toc-level toc-level-0"><span class="toc-number">77</span> class Complex</li></a>
<a href="#t77.1"><li class="toc-level toc-level-1"><span class="toc-number">77.1</span> Operators</li></a>
<a href="#t77.1.1"><li class="toc-level toc-level-2"><span class="toc-number">77.1.1</span> postfix i</li></a>
<a href="#t77.2"><li class="toc-level toc-level-1"><span class="toc-number">77.2</span> Methods</li></a>
<a href="#t77.2.1"><li class="toc-level toc-level-2"><span class="toc-number">77.2.1</span> method new</li></a>
<a href="#t77.2.2"><li class="toc-level toc-level-2"><span class="toc-number">77.2.2</span> method re</li></a>
<a href="#t77.2.3"><li class="toc-level toc-level-2"><span class="toc-number">77.2.3</span> method im</li></a>
<a href="#t77.2.4"><li class="toc-level toc-level-2"><span class="toc-number">77.2.4</span> method reals</li></a>
<a href="#t77.2.5"><li class="toc-level toc-level-2"><span class="toc-number">77.2.5</span> method isNaN</li></a>
<a href="#t77.2.6"><li class="toc-level toc-level-2"><span class="toc-number">77.2.6</span> method polar</li></a>
<a href="#t77.2.7"><li class="toc-level toc-level-2"><span class="toc-number">77.2.7</span> method floor</li></a>
<a href="#t77.2.8"><li class="toc-level toc-level-2"><span class="toc-number">77.2.8</span> method ceiling</li></a>
<a href="#t77.2.9"><li class="toc-level toc-level-2"><span class="toc-number">77.2.9</span> method round</li></a>
<a href="#t77.2.10"><li class="toc-level toc-level-2"><span class="toc-number">77.2.10</span> method truncate</li></a>
<a href="#t77.2.11"><li class="toc-level toc-level-2"><span class="toc-number">77.2.11</span> method abs</li></a>
<a href="#t77.2.12"><li class="toc-level toc-level-2"><span class="toc-number">77.2.12</span> method conj</li></a>
<a href="#t77.2.13"><li class="toc-level toc-level-2"><span class="toc-number">77.2.13</span> method sqrt</li></a>
<a href="#t77.2.14"><li class="toc-level toc-level-2"><span class="toc-number">77.2.14</span> method gist</li></a>
<a href="#t77.2.15"><li class="toc-level toc-level-2"><span class="toc-number">77.2.15</span> method perl</li></a>
<a href="#t77.2.16"><li class="toc-level toc-level-2"><span class="toc-number">77.2.16</span> method Real</li></a>
<a href="#t78"><li class="toc-level toc-level-0"><span class="toc-number">78</span> class ComplexStr</li></a>
<a href="#t78.1"><li class="toc-level toc-level-1"><span class="toc-number">78.1</span> Methods</li></a>
<a href="#t78.1.1"><li class="toc-level toc-level-2"><span class="toc-number">78.1.1</span> method new</li></a>
<a href="#t78.1.2"><li class="toc-level toc-level-2"><span class="toc-number">78.1.2</span> method Bool</li></a>
<a href="#t78.1.3"><li class="toc-level toc-level-2"><span class="toc-number">78.1.3</span> method Capture</li></a>
<a href="#t78.1.4"><li class="toc-level toc-level-2"><span class="toc-number">78.1.4</span> method Complex</li></a>
<a href="#t78.1.5"><li class="toc-level toc-level-2"><span class="toc-number">78.1.5</span> method Numeric</li></a>
<a href="#t78.1.6"><li class="toc-level toc-level-2"><span class="toc-number">78.1.6</span> method Real</li></a>
<a href="#t78.1.7"><li class="toc-level toc-level-2"><span class="toc-number">78.1.7</span> method Str</li></a>
<a href="#t78.1.8"><li class="toc-level toc-level-2"><span class="toc-number">78.1.8</span> method ACCEPTS</li></a>
<a href="#t78.2"><li class="toc-level toc-level-1"><span class="toc-number">78.2</span> Operators</li></a>
<a href="#t78.2.1"><li class="toc-level toc-level-2"><span class="toc-number">78.2.1</span> infix cmp</li></a>
<a href="#t79"><li class="toc-level toc-level-0"><span class="toc-number">79</span> class Cool</li></a>
<a href="#t79.1"><li class="toc-level toc-level-1"><span class="toc-number">79.1</span> Methods</li></a>
<a href="#t79.1.1"><li class="toc-level toc-level-2"><span class="toc-number">79.1.1</span> routine abs</li></a>
<a href="#t79.1.2"><li class="toc-level toc-level-2"><span class="toc-number">79.1.2</span> method conj</li></a>
<a href="#t79.1.3"><li class="toc-level toc-level-2"><span class="toc-number">79.1.3</span> routine sqrt</li></a>
<a href="#t79.1.4"><li class="toc-level toc-level-2"><span class="toc-number">79.1.4</span> method sign</li></a>
<a href="#t79.1.5"><li class="toc-level toc-level-2"><span class="toc-number">79.1.5</span> method rand</li></a>
<a href="#t79.1.6"><li class="toc-level toc-level-2"><span class="toc-number">79.1.6</span> routine sin</li></a>
<a href="#t79.1.7"><li class="toc-level toc-level-2"><span class="toc-number">79.1.7</span> routine asin</li></a>
<a href="#t79.1.8"><li class="toc-level toc-level-2"><span class="toc-number">79.1.8</span> routine cos</li></a>
<a href="#t79.1.9"><li class="toc-level toc-level-2"><span class="toc-number">79.1.9</span> routine acos</li></a>
<a href="#t79.1.10"><li class="toc-level toc-level-2"><span class="toc-number">79.1.10</span> routine tan</li></a>
<a href="#t79.1.11"><li class="toc-level toc-level-2"><span class="toc-number">79.1.11</span> routine atan</li></a>
<a href="#t79.1.12"><li class="toc-level toc-level-2"><span class="toc-number">79.1.12</span> routine atan2</li></a>
<a href="#t79.1.13"><li class="toc-level toc-level-2"><span class="toc-number">79.1.13</span> method sec</li></a>
<a href="#t79.1.14"><li class="toc-level toc-level-2"><span class="toc-number">79.1.14</span> routine asec</li></a>
<a href="#t79.1.15"><li class="toc-level toc-level-2"><span class="toc-number">79.1.15</span> routine cosec</li></a>
<a href="#t79.1.16"><li class="toc-level toc-level-2"><span class="toc-number">79.1.16</span> routine acosec</li></a>
<a href="#t79.1.17"><li class="toc-level toc-level-2"><span class="toc-number">79.1.17</span> routine cotan</li></a>
<a href="#t79.1.18"><li class="toc-level toc-level-2"><span class="toc-number">79.1.18</span> routine acotan</li></a>
<a href="#t79.1.19"><li class="toc-level toc-level-2"><span class="toc-number">79.1.19</span> routine sinh</li></a>
<a href="#t79.1.20"><li class="toc-level toc-level-2"><span class="toc-number">79.1.20</span> routine asinh</li></a>
<a href="#t79.1.21"><li class="toc-level toc-level-2"><span class="toc-number">79.1.21</span> routine cosh</li></a>
<a href="#t79.1.22"><li class="toc-level toc-level-2"><span class="toc-number">79.1.22</span> routine acosh</li></a>
<a href="#t79.1.23"><li class="toc-level toc-level-2"><span class="toc-number">79.1.23</span> routine tanh</li></a>
<a href="#t79.1.24"><li class="toc-level toc-level-2"><span class="toc-number">79.1.24</span> routine atanh</li></a>
<a href="#t79.1.25"><li class="toc-level toc-level-2"><span class="toc-number">79.1.25</span> routine sech</li></a>
<a href="#t79.1.26"><li class="toc-level toc-level-2"><span class="toc-number">79.1.26</span> routine asech</li></a>
<a href="#t79.1.27"><li class="toc-level toc-level-2"><span class="toc-number">79.1.27</span> routine cosech</li></a>
<a href="#t79.1.28"><li class="toc-level toc-level-2"><span class="toc-number">79.1.28</span> routine acosech</li></a>
<a href="#t79.1.29"><li class="toc-level toc-level-2"><span class="toc-number">79.1.29</span> routine cotanh</li></a>
<a href="#t79.1.30"><li class="toc-level toc-level-2"><span class="toc-number">79.1.30</span> routine acotanh</li></a>
<a href="#t79.1.31"><li class="toc-level toc-level-2"><span class="toc-number">79.1.31</span> routine cis</li></a>
<a href="#t79.1.32"><li class="toc-level toc-level-2"><span class="toc-number">79.1.32</span> routine log</li></a>
<a href="#t79.1.33"><li class="toc-level toc-level-2"><span class="toc-number">79.1.33</span> routine log10</li></a>
<a href="#t79.1.34"><li class="toc-level toc-level-2"><span class="toc-number">79.1.34</span> method exp</li></a>
<a href="#t79.1.35"><li class="toc-level toc-level-2"><span class="toc-number">79.1.35</span> method unpolar</li></a>
<a href="#t79.1.36"><li class="toc-level toc-level-2"><span class="toc-number">79.1.36</span> routine round</li></a>
<a href="#t79.1.37"><li class="toc-level toc-level-2"><span class="toc-number">79.1.37</span> routine floor</li></a>
<a href="#t79.1.38"><li class="toc-level toc-level-2"><span class="toc-number">79.1.38</span> routine ceiling</li></a>
<a href="#t79.1.39"><li class="toc-level toc-level-2"><span class="toc-number">79.1.39</span> routine truncate</li></a>
<a href="#t79.1.40"><li class="toc-level toc-level-2"><span class="toc-number">79.1.40</span> routine ord</li></a>
<a href="#t79.1.41"><li class="toc-level toc-level-2"><span class="toc-number">79.1.41</span> method path</li></a>
<a href="#t79.1.42"><li class="toc-level toc-level-2"><span class="toc-number">79.1.42</span> routine chr</li></a>
<a href="#t79.1.43"><li class="toc-level toc-level-2"><span class="toc-number">79.1.43</span> routine chars</li></a>
<a href="#t79.1.44"><li class="toc-level toc-level-2"><span class="toc-number">79.1.44</span> routine codes</li></a>
<a href="#t79.1.45"><li class="toc-level toc-level-2"><span class="toc-number">79.1.45</span> routine flip</li></a>
<a href="#t79.1.46"><li class="toc-level toc-level-2"><span class="toc-number">79.1.46</span> routine trim</li></a>
<a href="#t79.1.47"><li class="toc-level toc-level-2"><span class="toc-number">79.1.47</span> routine trim-leading</li></a>
<a href="#t79.1.48"><li class="toc-level toc-level-2"><span class="toc-number">79.1.48</span> routine trim-trailing</li></a>
<a href="#t79.1.49"><li class="toc-level toc-level-2"><span class="toc-number">79.1.49</span> routine lc</li></a>
<a href="#t79.1.50"><li class="toc-level toc-level-2"><span class="toc-number">79.1.50</span> routine uc</li></a>
<a href="#t79.1.51"><li class="toc-level toc-level-2"><span class="toc-number">79.1.51</span> routine fc</li></a>
<a href="#t79.1.52"><li class="toc-level toc-level-2"><span class="toc-number">79.1.52</span> routine tc</li></a>
<a href="#t79.1.53"><li class="toc-level toc-level-2"><span class="toc-number">79.1.53</span> routine tclc</li></a>
<a href="#t79.1.54"><li class="toc-level toc-level-2"><span class="toc-number">79.1.54</span> routine wordcase</li></a>
<a href="#t79.1.55"><li class="toc-level toc-level-2"><span class="toc-number">79.1.55</span> routine samecase</li></a>
<a href="#t79.1.56"><li class="toc-level toc-level-2"><span class="toc-number">79.1.56</span> method uniprop</li></a>
<a href="#t79.1.57"><li class="toc-level toc-level-2"><span class="toc-number">79.1.57</span> method uniprops</li></a>
<a href="#t79.1.58"><li class="toc-level toc-level-2"><span class="toc-number">79.1.58</span> method uniname</li></a>
<a href="#t79.1.59"><li class="toc-level toc-level-2"><span class="toc-number">79.1.59</span> method uninames</li></a>
<a href="#t79.1.60"><li class="toc-level toc-level-2"><span class="toc-number">79.1.60</span> method unimatch</li></a>
<a href="#t79.1.61"><li class="toc-level toc-level-2"><span class="toc-number">79.1.61</span> routine chop</li></a>
<a href="#t79.1.62"><li class="toc-level toc-level-2"><span class="toc-number">79.1.62</span> routine chomp</li></a>
<a href="#t79.1.63"><li class="toc-level toc-level-2"><span class="toc-number">79.1.63</span> routine substr</li></a>
<a href="#t79.1.64"><li class="toc-level toc-level-2"><span class="toc-number">79.1.64</span> routine ords</li></a>
<a href="#t79.1.65"><li class="toc-level toc-level-2"><span class="toc-number">79.1.65</span> routine chrs</li></a>
<a href="#t79.1.66"><li class="toc-level toc-level-2"><span class="toc-number">79.1.66</span> routine split</li></a>
<a href="#t79.1.67"><li class="toc-level toc-level-2"><span class="toc-number">79.1.67</span> routine lines</li></a>
<a href="#t79.1.68"><li class="toc-level toc-level-2"><span class="toc-number">79.1.68</span> method words</li></a>
<a href="#t79.1.69"><li class="toc-level toc-level-2"><span class="toc-number">79.1.69</span> routine comb</li></a>
<a href="#t79.1.70"><li class="toc-level toc-level-2"><span class="toc-number">79.1.70</span> method contains</li></a>
<a href="#t79.1.71"><li class="toc-level toc-level-2"><span class="toc-number">79.1.71</span> routine index</li></a>
<a href="#t79.1.72"><li class="toc-level toc-level-2"><span class="toc-number">79.1.72</span> routine rindex</li></a>
<a href="#t79.1.73"><li class="toc-level toc-level-2"><span class="toc-number">79.1.73</span> routine match</li></a>
<a href="#t79.1.74"><li class="toc-level toc-level-2"><span class="toc-number">79.1.74</span> method fmt</li></a>
<a href="#t79.1.75"><li class="toc-level toc-level-2"><span class="toc-number">79.1.75</span> routine roots</li></a>
<a href="#t79.1.76"><li class="toc-level toc-level-2"><span class="toc-number">79.1.76</span> method IO</li></a>
<a href="#t79.1.77"><li class="toc-level toc-level-2"><span class="toc-number">79.1.77</span> routine EVAL</li></a>
<a href="#t79.1.78"><li class="toc-level toc-level-2"><span class="toc-number">79.1.78</span> routine EVALFILE</li></a>
<a href="#t80"><li class="toc-level toc-level-0"><span class="toc-number">80</span> class CurrentThreadScheduler</li></a>
<a href="#t81"><li class="toc-level toc-level-0"><span class="toc-number">81</span> class Cursor</li></a>
<a href="#t81.1"><li class="toc-level toc-level-1"><span class="toc-number">81.1</span> Methods</li></a>
<a href="#t81.1.1"><li class="toc-level toc-level-2"><span class="toc-number">81.1.1</span> method actions</li></a>
<a href="#t81.1.2"><li class="toc-level toc-level-2"><span class="toc-number">81.1.2</span> method orig</li></a>
<a href="#t81.1.3"><li class="toc-level toc-level-2"><span class="toc-number">81.1.3</span> method target</li></a>
<a href="#t81.1.4"><li class="toc-level toc-level-2"><span class="toc-number">81.1.4</span> method pos</li></a>
<a href="#t82"><li class="toc-level toc-level-0"><span class="toc-number">82</span> class Date</li></a>
<a href="#t82.1"><li class="toc-level toc-level-1"><span class="toc-number">82.1</span> Methods</li></a>
<a href="#t82.1.1"><li class="toc-level toc-level-2"><span class="toc-number">82.1.1</span> method new</li></a>
<a href="#t82.1.2"><li class="toc-level toc-level-2"><span class="toc-number">82.1.2</span> method new-from-daycount</li></a>
<a href="#t82.1.3"><li class="toc-level toc-level-2"><span class="toc-number">82.1.3</span> method clone</li></a>
<a href="#t82.1.4"><li class="toc-level toc-level-2"><span class="toc-number">82.1.4</span> method today</li></a>
<a href="#t82.1.5"><li class="toc-level toc-level-2"><span class="toc-number">82.1.5</span> method later</li></a>
<a href="#t82.1.6"><li class="toc-level toc-level-2"><span class="toc-number">82.1.6</span> method earlier</li></a>
<a href="#t82.1.7"><li class="toc-level toc-level-2"><span class="toc-number">82.1.7</span> method truncated-to</li></a>
<a href="#t82.1.8"><li class="toc-level toc-level-2"><span class="toc-number">82.1.8</span> method succ</li></a>
<a href="#t82.1.9"><li class="toc-level toc-level-2"><span class="toc-number">82.1.9</span> method pred</li></a>
<a href="#t82.1.10"><li class="toc-level toc-level-2"><span class="toc-number">82.1.10</span> method Str</li></a>
<a href="#t82.1.11"><li class="toc-level toc-level-2"><span class="toc-number">82.1.11</span> method gist</li></a>
<a href="#t82.1.12"><li class="toc-level toc-level-2"><span class="toc-number">82.1.12</span> method Date</li></a>
<a href="#t82.1.13"><li class="toc-level toc-level-2"><span class="toc-number">82.1.13</span> method DateTime</li></a>
<a href="#t82.2"><li class="toc-level toc-level-1"><span class="toc-number">82.2</span> Functions</li></a>
<a href="#t82.2.1"><li class="toc-level toc-level-2"><span class="toc-number">82.2.1</span> sub sleep</li></a>
<a href="#t82.2.2"><li class="toc-level toc-level-2"><span class="toc-number">82.2.2</span> sub sleep-timer</li></a>
<a href="#t82.2.3"><li class="toc-level toc-level-2"><span class="toc-number">82.2.3</span> sub sleep-until</li></a>
<a href="#t82.2.4"><li class="toc-level toc-level-2"><span class="toc-number">82.2.4</span> sub infix:&lt;-&gt;</li></a>
<a href="#t82.2.5"><li class="toc-level toc-level-2"><span class="toc-number">82.2.5</span> sub infix:&lt;+&gt;</li></a>
<a href="#t83"><li class="toc-level toc-level-0"><span class="toc-number">83</span> class DateTime</li></a>
<a href="#t83.1"><li class="toc-level toc-level-1"><span class="toc-number">83.1</span> Methods</li></a>
<a href="#t83.1.1"><li class="toc-level toc-level-2"><span class="toc-number">83.1.1</span> method new</li></a>
<a href="#t83.1.2"><li class="toc-level toc-level-2"><span class="toc-number">83.1.2</span> method now</li></a>
<a href="#t83.1.3"><li class="toc-level toc-level-2"><span class="toc-number">83.1.3</span> method clone</li></a>
<a href="#t83.1.4"><li class="toc-level toc-level-2"><span class="toc-number">83.1.4</span> method hh-mm-ss</li></a>
<a href="#t83.1.5"><li class="toc-level toc-level-2"><span class="toc-number">83.1.5</span> method hour</li></a>
<a href="#t83.1.6"><li class="toc-level toc-level-2"><span class="toc-number">83.1.6</span> method minute</li></a>
<a href="#t83.1.7"><li class="toc-level toc-level-2"><span class="toc-number">83.1.7</span> method second</li></a>
<a href="#t83.1.8"><li class="toc-level toc-level-2"><span class="toc-number">83.1.8</span> method whole-second</li></a>
<a href="#t83.1.9"><li class="toc-level toc-level-2"><span class="toc-number">83.1.9</span> method timezone</li></a>
<a href="#t83.1.10"><li class="toc-level toc-level-2"><span class="toc-number">83.1.10</span> method offset</li></a>
<a href="#t83.1.11"><li class="toc-level toc-level-2"><span class="toc-number">83.1.11</span> method offset-in-minutes</li></a>
<a href="#t83.1.12"><li class="toc-level toc-level-2"><span class="toc-number">83.1.12</span> method offset-in-hours</li></a>
<a href="#t83.1.13"><li class="toc-level toc-level-2"><span class="toc-number">83.1.13</span> method Str</li></a>
<a href="#t83.1.14"><li class="toc-level toc-level-2"><span class="toc-number">83.1.14</span> method Instant</li></a>
<a href="#t83.1.15"><li class="toc-level toc-level-2"><span class="toc-number">83.1.15</span> method posix</li></a>
<a href="#t83.1.16"><li class="toc-level toc-level-2"><span class="toc-number">83.1.16</span> method later</li></a>
<a href="#t83.1.17"><li class="toc-level toc-level-2"><span class="toc-number">83.1.17</span> method earlier</li></a>
<a href="#t83.1.18"><li class="toc-level toc-level-2"><span class="toc-number">83.1.18</span> method truncated-to</li></a>
<a href="#t83.1.19"><li class="toc-level toc-level-2"><span class="toc-number">83.1.19</span> method Date</li></a>
<a href="#t83.1.20"><li class="toc-level toc-level-2"><span class="toc-number">83.1.20</span> method DateTime</li></a>
<a href="#t83.1.21"><li class="toc-level toc-level-2"><span class="toc-number">83.1.21</span> method utc</li></a>
<a href="#t83.1.22"><li class="toc-level toc-level-2"><span class="toc-number">83.1.22</span> method in-timezone</li></a>
<a href="#t83.1.23"><li class="toc-level toc-level-2"><span class="toc-number">83.1.23</span> method local</li></a>
<a href="#t83.1.24"><li class="toc-level toc-level-2"><span class="toc-number">83.1.24</span> sub infix:&lt;-&gt;</li></a>
<a href="#t83.1.25"><li class="toc-level toc-level-2"><span class="toc-number">83.1.25</span> sub infix:&lt;+&gt;</li></a>
<a href="#t84"><li class="toc-level toc-level-0"><span class="toc-number">84</span> role Dateish</li></a>
<a href="#t84.1"><li class="toc-level toc-level-1"><span class="toc-number">84.1</span> Methods</li></a>
<a href="#t84.1.1"><li class="toc-level toc-level-2"><span class="toc-number">84.1.1</span> method year</li></a>
<a href="#t84.1.2"><li class="toc-level toc-level-2"><span class="toc-number">84.1.2</span> method month</li></a>
<a href="#t84.1.3"><li class="toc-level toc-level-2"><span class="toc-number">84.1.3</span> method day</li></a>
<a href="#t84.1.4"><li class="toc-level toc-level-2"><span class="toc-number">84.1.4</span> method formatter</li></a>
<a href="#t84.1.5"><li class="toc-level toc-level-2"><span class="toc-number">84.1.5</span> method is-leap-year</li></a>
<a href="#t84.1.6"><li class="toc-level toc-level-2"><span class="toc-number">84.1.6</span> method day-of-month</li></a>
<a href="#t84.1.7"><li class="toc-level toc-level-2"><span class="toc-number">84.1.7</span> method day-of-week</li></a>
<a href="#t84.1.8"><li class="toc-level toc-level-2"><span class="toc-number">84.1.8</span> method day-of-year</li></a>
<a href="#t84.1.9"><li class="toc-level toc-level-2"><span class="toc-number">84.1.9</span> method days-in-month</li></a>
<a href="#t84.1.10"><li class="toc-level toc-level-2"><span class="toc-number">84.1.10</span> method week</li></a>
<a href="#t84.1.11"><li class="toc-level toc-level-2"><span class="toc-number">84.1.11</span> method week-number</li></a>
<a href="#t84.1.12"><li class="toc-level toc-level-2"><span class="toc-number">84.1.12</span> method week-year</li></a>
<a href="#t84.1.13"><li class="toc-level toc-level-2"><span class="toc-number">84.1.13</span> method weekday-of-month</li></a>
<a href="#t84.1.14"><li class="toc-level toc-level-2"><span class="toc-number">84.1.14</span> method yyyy-mm-dd</li></a>
<a href="#t84.1.15"><li class="toc-level toc-level-2"><span class="toc-number">84.1.15</span> method daycount</li></a>
<a href="#t84.1.16"><li class="toc-level toc-level-2"><span class="toc-number">84.1.16</span> method IO</li></a>
<a href="#t85"><li class="toc-level toc-level-0"><span class="toc-number">85</span> class Distro</li></a>
<a href="#t85.1"><li class="toc-level toc-level-1"><span class="toc-number">85.1</span> Methods</li></a>
<a href="#t85.1.1"><li class="toc-level toc-level-2"><span class="toc-number">85.1.1</span> method auth</li></a>
<a href="#t85.1.2"><li class="toc-level toc-level-2"><span class="toc-number">85.1.2</span> method desc</li></a>
<a href="#t85.1.3"><li class="toc-level toc-level-2"><span class="toc-number">85.1.3</span> method is-win</li></a>
<a href="#t85.1.4"><li class="toc-level toc-level-2"><span class="toc-number">85.1.4</span> method name</li></a>
<a href="#t85.1.5"><li class="toc-level toc-level-2"><span class="toc-number">85.1.5</span> method path-sep</li></a>
<a href="#t85.1.6"><li class="toc-level toc-level-2"><span class="toc-number">85.1.6</span> method release</li></a>
<a href="#t85.1.7"><li class="toc-level toc-level-2"><span class="toc-number">85.1.7</span> method signature</li></a>
<a href="#t85.1.8"><li class="toc-level toc-level-2"><span class="toc-number">85.1.8</span> method version</li></a>
<a href="#t86"><li class="toc-level toc-level-0"><span class="toc-number">86</span> class Duration</li></a>
<a href="#t87"><li class="toc-level toc-level-0"><span class="toc-number">87</span> role Encoding</li></a>
<a href="#t87.1"><li class="toc-level toc-level-1"><span class="toc-number">87.1</span> Methods</li></a>
<a href="#t87.1.1"><li class="toc-level toc-level-2"><span class="toc-number">87.1.1</span> method name</li></a>
<a href="#t87.1.2"><li class="toc-level toc-level-2"><span class="toc-number">87.1.2</span> method alternative-names</li></a>
<a href="#t87.1.3"><li class="toc-level toc-level-2"><span class="toc-number">87.1.3</span> method decoder</li></a>
<a href="#t87.1.4"><li class="toc-level toc-level-2"><span class="toc-number">87.1.4</span> method encoder</li></a>
<a href="#t88"><li class="toc-level toc-level-0"><span class="toc-number">88</span> class Exception</li></a>
<a href="#t88.1"><li class="toc-level toc-level-1"><span class="toc-number">88.1</span> Methods</li></a>
<a href="#t88.1.1"><li class="toc-level toc-level-2"><span class="toc-number">88.1.1</span> method message</li></a>
<a href="#t88.1.2"><li class="toc-level toc-level-2"><span class="toc-number">88.1.2</span> method backtrace</li></a>
<a href="#t88.1.3"><li class="toc-level toc-level-2"><span class="toc-number">88.1.3</span> method throw</li></a>
<a href="#t88.1.4"><li class="toc-level toc-level-2"><span class="toc-number">88.1.4</span> method resume</li></a>
<a href="#t88.1.5"><li class="toc-level toc-level-2"><span class="toc-number">88.1.5</span> method rethrow</li></a>
<a href="#t88.1.6"><li class="toc-level toc-level-2"><span class="toc-number">88.1.6</span> method fail</li></a>
<a href="#t88.1.7"><li class="toc-level toc-level-2"><span class="toc-number">88.1.7</span> method gist</li></a>
<a href="#t88.1.8"><li class="toc-level toc-level-2"><span class="toc-number">88.1.8</span> sub die</li></a>
<a href="#t88.1.9"><li class="toc-level toc-level-2"><span class="toc-number">88.1.9</span> sub warn</li></a>
<a href="#t89"><li class="toc-level toc-level-0"><span class="toc-number">89</span> class Failure</li></a>
<a href="#t89.1"><li class="toc-level toc-level-1"><span class="toc-number">89.1</span> Methods</li></a>
<a href="#t89.1.1"><li class="toc-level toc-level-2"><span class="toc-number">89.1.1</span> method new</li></a>
<a href="#t89.1.2"><li class="toc-level toc-level-2"><span class="toc-number">89.1.2</span> method handled</li></a>
<a href="#t89.1.3"><li class="toc-level toc-level-2"><span class="toc-number">89.1.3</span> method exception</li></a>
<a href="#t89.1.4"><li class="toc-level toc-level-2"><span class="toc-number">89.1.4</span> method self</li></a>
<a href="#t89.1.5"><li class="toc-level toc-level-2"><span class="toc-number">89.1.5</span> method Bool</li></a>
<a href="#t89.1.6"><li class="toc-level toc-level-2"><span class="toc-number">89.1.6</span> method Capture</li></a>
<a href="#t89.1.7"><li class="toc-level toc-level-2"><span class="toc-number">89.1.7</span> method defined</li></a>
<a href="#t90"><li class="toc-level toc-level-0"><span class="toc-number">90</span> class FatRat</li></a>
<a href="#t91"><li class="toc-level toc-level-0"><span class="toc-number">91</span> class Grammar</li></a>
<a href="#t91.1"><li class="toc-level toc-level-1"><span class="toc-number">91.1</span> Methods</li></a>
<a href="#t91.1.1"><li class="toc-level toc-level-2"><span class="toc-number">91.1.1</span> method parse</li></a>
<a href="#t91.1.2"><li class="toc-level toc-level-2"><span class="toc-number">91.1.2</span> method subparse</li></a>
<a href="#t91.1.3"><li class="toc-level toc-level-2"><span class="toc-number">91.1.3</span> method parsefile</li></a>
<a href="#t92"><li class="toc-level toc-level-0"><span class="toc-number">92</span> class Hash</li></a>
<a href="#t92.1"><li class="toc-level toc-level-1"><span class="toc-number">92.1</span> Hash assignment</li></a>
<a href="#t92.1.1"><li class="toc-level toc-level-2"><span class="toc-number">92.1.1</span> Slices</li></a>
<a href="#t92.1.2"><li class="toc-level toc-level-2"><span class="toc-number">92.1.2</span> Non-string keys (object hash)</li></a>
<a href="#t92.1.3"><li class="toc-level toc-level-2"><span class="toc-number">92.1.3</span> Constraint value types</li></a>
<a href="#t92.2"><li class="toc-level toc-level-1"><span class="toc-number">92.2</span> Looping over hash keys and values</li></a>
<a href="#t92.2.1"><li class="toc-level toc-level-2"><span class="toc-number">92.2.1</span> In place editing of values</li></a>
<a href="#t92.3"><li class="toc-level toc-level-1"><span class="toc-number">92.3</span> Methods</li></a>
<a href="#t92.3.1"><li class="toc-level toc-level-2"><span class="toc-number">92.3.1</span> method classify-list</li></a>
<a href="#t92.3.1.1"><li class="toc-level toc-level-3"><span class="toc-number">92.3.1.1</span> Simple Classification</li></a>
<a href="#t92.3.1.2"><li class="toc-level toc-level-3"><span class="toc-number">92.3.1.2</span> Multi-Level Classification</li></a>
<a href="#t92.3.1.3"><li class="toc-level toc-level-3"><span class="toc-number">92.3.1.3</span> <span class="code">:&amp;as</span> value modifier</li></a>
<a href="#t92.3.2"><li class="toc-level toc-level-2"><span class="toc-number">92.3.2</span> method categorize-list</li></a>
<a href="#t92.3.2.1"><li class="toc-level toc-level-3"><span class="toc-number">92.3.2.1</span> Simple Categorization</li></a>
<a href="#t92.3.2.2"><li class="toc-level toc-level-3"><span class="toc-number">92.3.2.2</span> Multi-Level Categorization</li></a>
<a href="#t92.3.2.3"><li class="toc-level toc-level-3"><span class="toc-number">92.3.2.3</span> <span class="code">:&amp;as</span> value modifier</li></a>
<a href="#t92.3.3"><li class="toc-level toc-level-2"><span class="toc-number">92.3.3</span> method push</li></a>
<a href="#t92.3.4"><li class="toc-level toc-level-2"><span class="toc-number">92.3.4</span> method append</li></a>
<a href="#t92.3.5"><li class="toc-level toc-level-2"><span class="toc-number">92.3.5</span> method default</li></a>
<a href="#t92.3.6"><li class="toc-level toc-level-2"><span class="toc-number">92.3.6</span> method keyof</li></a>
<a href="#t92.3.7"><li class="toc-level toc-level-2"><span class="toc-number">92.3.7</span> method of</li></a>
<a href="#t92.3.8"><li class="toc-level toc-level-2"><span class="toc-number">92.3.8</span> routine dynamic</li></a>
<a href="#t92.4"><li class="toc-level toc-level-1"><span class="toc-number">92.4</span> Subscript Adverbs</li></a>
<a href="#t92.4.1"><li class="toc-level toc-level-2"><span class="toc-number">92.4.1</span> <span class="code">:exists</span></li></a>
<a href="#t92.4.2"><li class="toc-level toc-level-2"><span class="toc-number">92.4.2</span> <span class="code">:delete</span></li></a>
<a href="#t92.4.3"><li class="toc-level toc-level-2"><span class="toc-number">92.4.3</span> <span class="code">:p</span></li></a>
<a href="#t92.4.4"><li class="toc-level toc-level-2"><span class="toc-number">92.4.4</span> <span class="code">:v</span> and <span class="code">:k</span></li></a>
<a href="#t93"><li class="toc-level toc-level-0"><span class="toc-number">93</span> class HyperWhatever</li></a>
<a href="#t93.1"><li class="toc-level toc-level-1"><span class="toc-number">93.1</span> STANDALONE TERM</li></a>
<a href="#t93.2"><li class="toc-level toc-level-1"><span class="toc-number">93.2</span> CURRYING</li></a>
<a href="#t94"><li class="toc-level toc-level-0"><span class="toc-number">94</span> role IO</li></a>
<a href="#t94.1"><li class="toc-level toc-level-1"><span class="toc-number">94.1</span> Routines</li></a>
<a href="#t94.1.1"><li class="toc-level toc-level-2"><span class="toc-number">94.1.1</span> sub mkdir</li></a>
<a href="#t94.1.2"><li class="toc-level toc-level-2"><span class="toc-number">94.1.2</span> sub chdir</li></a>
<a href="#t94.1.3"><li class="toc-level toc-level-2"><span class="toc-number">94.1.3</span> sub &amp;*chdir</li></a>
<a href="#t94.1.4"><li class="toc-level toc-level-2"><span class="toc-number">94.1.4</span> sub chmod</li></a>
<a href="#t94.1.5"><li class="toc-level toc-level-2"><span class="toc-number">94.1.5</span> sub indir</li></a>
<a href="#t94.1.6"><li class="toc-level toc-level-2"><span class="toc-number">94.1.6</span> sub print</li></a>
<a href="#t94.1.7"><li class="toc-level toc-level-2"><span class="toc-number">94.1.7</span> sub put</li></a>
<a href="#t94.1.8"><li class="toc-level toc-level-2"><span class="toc-number">94.1.8</span> sub say</li></a>
<a href="#t94.1.9"><li class="toc-level toc-level-2"><span class="toc-number">94.1.9</span> routine note</li></a>
<a href="#t94.1.10"><li class="toc-level toc-level-2"><span class="toc-number">94.1.10</span> sub prompt</li></a>
<a href="#t94.1.11"><li class="toc-level toc-level-2"><span class="toc-number">94.1.11</span> sub open</li></a>
<a href="#t94.1.12"><li class="toc-level toc-level-2"><span class="toc-number">94.1.12</span> sub slurp</li></a>
<a href="#t94.1.13"><li class="toc-level toc-level-2"><span class="toc-number">94.1.13</span> sub spurt</li></a>
<a href="#t94.1.13.1"><li class="toc-level toc-level-3"><span class="toc-number">94.1.13.1</span> Options</li></a>
<a href="#t94.1.13.2"><li class="toc-level toc-level-3"><span class="toc-number">94.1.13.2</span> Examples</li></a>
<a href="#t94.1.14"><li class="toc-level toc-level-2"><span class="toc-number">94.1.14</span> sub run</li></a>
<a href="#t94.1.15"><li class="toc-level toc-level-2"><span class="toc-number">94.1.15</span> sub shell</li></a>
<a href="#t94.2"><li class="toc-level toc-level-1"><span class="toc-number">94.2</span> Related classes</li></a>
<a href="#t95"><li class="toc-level toc-level-0"><span class="toc-number">95</span> class IO::ArgFiles</li></a>
<a href="#t95.1"><li class="toc-level toc-level-1"><span class="toc-number">95.1</span> Variables</li></a>
<a href="#t95.1.1"><li class="toc-level toc-level-2"><span class="toc-number">95.1.1</span> <span class="code">$*ARGFILES</span></li></a>
<a href="#t96"><li class="toc-level toc-level-0"><span class="toc-number">96</span> class IO::CatHandle</li></a>
<a href="#t96.1"><li class="toc-level toc-level-1"><span class="toc-number">96.1</span> Methods</li></a>
<a href="#t96.1.1"><li class="toc-level toc-level-2"><span class="toc-number">96.1.1</span> method new</li></a>
<a href="#t96.1.2"><li class="toc-level toc-level-2"><span class="toc-number">96.1.2</span> method chomp</li></a>
<a href="#t96.1.3"><li class="toc-level toc-level-2"><span class="toc-number">96.1.3</span> method nl-in</li></a>
<a href="#t96.1.4"><li class="toc-level toc-level-2"><span class="toc-number">96.1.4</span> method close</li></a>
<a href="#t96.1.5"><li class="toc-level toc-level-2"><span class="toc-number">96.1.5</span> method comb</li></a>
<a href="#t96.1.6"><li class="toc-level toc-level-2"><span class="toc-number">96.1.6</span> method DESTROY</li></a>
<a href="#t96.1.7"><li class="toc-level toc-level-2"><span class="toc-number">96.1.7</span> method encoding</li></a>
<a href="#t96.1.8"><li class="toc-level toc-level-2"><span class="toc-number">96.1.8</span> method eof</li></a>
<a href="#t96.1.9"><li class="toc-level toc-level-2"><span class="toc-number">96.1.9</span> method get</li></a>
<a href="#t96.1.10"><li class="toc-level toc-level-2"><span class="toc-number">96.1.10</span> method getc</li></a>
<a href="#t96.1.11"><li class="toc-level toc-level-2"><span class="toc-number">96.1.11</span> method handles</li></a>
<a href="#t96.1.12"><li class="toc-level toc-level-2"><span class="toc-number">96.1.12</span> method IO</li></a>
<a href="#t96.1.13"><li class="toc-level toc-level-2"><span class="toc-number">96.1.13</span> method lines</li></a>
<a href="#t96.1.14"><li class="toc-level toc-level-2"><span class="toc-number">96.1.14</span> method lock</li></a>
<a href="#t96.1.15"><li class="toc-level toc-level-2"><span class="toc-number">96.1.15</span> method native-descriptor</li></a>
<a href="#t96.1.16"><li class="toc-level toc-level-2"><span class="toc-number">96.1.16</span> method next-handle</li></a>
<a href="#t96.1.17"><li class="toc-level toc-level-2"><span class="toc-number">96.1.17</span> method on-switch</li></a>
<a href="#t96.1.18"><li class="toc-level toc-level-2"><span class="toc-number">96.1.18</span> method open</li></a>
<a href="#t96.1.19"><li class="toc-level toc-level-2"><span class="toc-number">96.1.19</span> method opened</li></a>
<a href="#t96.1.20"><li class="toc-level toc-level-2"><span class="toc-number">96.1.20</span> method path</li></a>
<a href="#t96.1.21"><li class="toc-level toc-level-2"><span class="toc-number">96.1.21</span> method read</li></a>
<a href="#t96.1.22"><li class="toc-level toc-level-2"><span class="toc-number">96.1.22</span> method readchars</li></a>
<a href="#t96.1.23"><li class="toc-level toc-level-2"><span class="toc-number">96.1.23</span> method seek</li></a>
<a href="#t96.1.24"><li class="toc-level toc-level-2"><span class="toc-number">96.1.24</span> method tell</li></a>
<a href="#t96.1.25"><li class="toc-level toc-level-2"><span class="toc-number">96.1.25</span> method slurp</li></a>
<a href="#t96.1.26"><li class="toc-level toc-level-2"><span class="toc-number">96.1.26</span> method split</li></a>
<a href="#t96.1.27"><li class="toc-level toc-level-2"><span class="toc-number">96.1.27</span> method Str</li></a>
<a href="#t96.1.28"><li class="toc-level toc-level-2"><span class="toc-number">96.1.28</span> method Supply</li></a>
<a href="#t96.1.29"><li class="toc-level toc-level-2"><span class="toc-number">96.1.29</span> method t</li></a>
<a href="#t96.1.30"><li class="toc-level toc-level-2"><span class="toc-number">96.1.30</span> method unlock</li></a>
<a href="#t96.1.31"><li class="toc-level toc-level-2"><span class="toc-number">96.1.31</span> method words</li></a>
<a href="#t96.2"><li class="toc-level toc-level-1"><span class="toc-number">96.2</span> NYI Methods</li></a>
<a href="#t96.2.1"><li class="toc-level toc-level-2"><span class="toc-number">96.2.1</span> method flush</li></a>
<a href="#t96.2.2"><li class="toc-level toc-level-2"><span class="toc-number">96.2.2</span> method nl-out</li></a>
<a href="#t96.2.3"><li class="toc-level toc-level-2"><span class="toc-number">96.2.3</span> method out-buffer</li></a>
<a href="#t96.2.4"><li class="toc-level toc-level-2"><span class="toc-number">96.2.4</span> method print</li></a>
<a href="#t96.2.5"><li class="toc-level toc-level-2"><span class="toc-number">96.2.5</span> method printf</li></a>
<a href="#t96.2.6"><li class="toc-level toc-level-2"><span class="toc-number">96.2.6</span> method print-nl</li></a>
<a href="#t96.2.7"><li class="toc-level toc-level-2"><span class="toc-number">96.2.7</span> method put</li></a>
<a href="#t96.2.8"><li class="toc-level toc-level-2"><span class="toc-number">96.2.8</span> method say</li></a>
<a href="#t96.2.9"><li class="toc-level toc-level-2"><span class="toc-number">96.2.9</span> method write</li></a>
<a href="#t97"><li class="toc-level toc-level-0"><span class="toc-number">97</span> class IO::Handle</li></a>
<a href="#t97.1"><li class="toc-level toc-level-1"><span class="toc-number">97.1</span> Methods</li></a>
<a href="#t97.1.1"><li class="toc-level toc-level-2"><span class="toc-number">97.1.1</span> method open</li></a>
<a href="#t97.1.2"><li class="toc-level toc-level-2"><span class="toc-number">97.1.2</span> method comb</li></a>
<a href="#t97.1.3"><li class="toc-level toc-level-2"><span class="toc-number">97.1.3</span> method chomp</li></a>
<a href="#t97.1.4"><li class="toc-level toc-level-2"><span class="toc-number">97.1.4</span> routine get</li></a>
<a href="#t97.1.5"><li class="toc-level toc-level-2"><span class="toc-number">97.1.5</span> routine getc</li></a>
<a href="#t97.1.5.1"><li class="toc-level toc-level-3"><span class="toc-number">97.1.5.1</span> Buffering terminals</li></a>
<a href="#t97.1.5.2"><li class="toc-level toc-level-3"><span class="toc-number">97.1.5.2</span> Waiting for potential combiners</li></a>
<a href="#t97.1.6"><li class="toc-level toc-level-2"><span class="toc-number">97.1.6</span> submethod DESTROY</li></a>
<a href="#t97.1.7"><li class="toc-level toc-level-2"><span class="toc-number">97.1.7</span> method gist</li></a>
<a href="#t97.1.8"><li class="toc-level toc-level-2"><span class="toc-number">97.1.8</span> method eof</li></a>
<a href="#t97.1.9"><li class="toc-level toc-level-2"><span class="toc-number">97.1.9</span> method encoding</li></a>
<a href="#t97.1.10"><li class="toc-level toc-level-2"><span class="toc-number">97.1.10</span> routine lines</li></a>
<a href="#t97.1.11"><li class="toc-level toc-level-2"><span class="toc-number">97.1.11</span> method lock</li></a>
<a href="#t97.1.12"><li class="toc-level toc-level-2"><span class="toc-number">97.1.12</span> method unlock</li></a>
<a href="#t97.1.13"><li class="toc-level toc-level-2"><span class="toc-number">97.1.13</span> routine words</li></a>
<a href="#t97.1.14"><li class="toc-level toc-level-2"><span class="toc-number">97.1.14</span> method split</li></a>
<a href="#t97.1.15"><li class="toc-level toc-level-2"><span class="toc-number">97.1.15</span> method spurt</li></a>
<a href="#t97.1.16"><li class="toc-level toc-level-2"><span class="toc-number">97.1.16</span> method print</li></a>
<a href="#t97.1.17"><li class="toc-level toc-level-2"><span class="toc-number">97.1.17</span> method print-nl</li></a>
<a href="#t97.1.18"><li class="toc-level toc-level-2"><span class="toc-number">97.1.18</span> method printf</li></a>
<a href="#t97.1.19"><li class="toc-level toc-level-2"><span class="toc-number">97.1.19</span> method out-buffer</li></a>
<a href="#t97.1.20"><li class="toc-level toc-level-2"><span class="toc-number">97.1.20</span> method put</li></a>
<a href="#t97.1.21"><li class="toc-level toc-level-2"><span class="toc-number">97.1.21</span> method say</li></a>
<a href="#t97.1.22"><li class="toc-level toc-level-2"><span class="toc-number">97.1.22</span> method read</li></a>
<a href="#t97.1.23"><li class="toc-level toc-level-2"><span class="toc-number">97.1.23</span> method readchars</li></a>
<a href="#t97.1.24"><li class="toc-level toc-level-2"><span class="toc-number">97.1.24</span> method write</li></a>
<a href="#t97.1.25"><li class="toc-level toc-level-2"><span class="toc-number">97.1.25</span> method seek</li></a>
<a href="#t97.1.26"><li class="toc-level toc-level-2"><span class="toc-number">97.1.26</span> method tell</li></a>
<a href="#t97.1.27"><li class="toc-level toc-level-2"><span class="toc-number">97.1.27</span> method slurp-rest</li></a>
<a href="#t97.1.28"><li class="toc-level toc-level-2"><span class="toc-number">97.1.28</span> method slurp</li></a>
<a href="#t97.1.29"><li class="toc-level toc-level-2"><span class="toc-number">97.1.29</span> method Supply</li></a>
<a href="#t97.1.30"><li class="toc-level toc-level-2"><span class="toc-number">97.1.30</span> method path</li></a>
<a href="#t97.1.31"><li class="toc-level toc-level-2"><span class="toc-number">97.1.31</span> method IO</li></a>
<a href="#t97.1.32"><li class="toc-level toc-level-2"><span class="toc-number">97.1.32</span> method Str</li></a>
<a href="#t97.1.33"><li class="toc-level toc-level-2"><span class="toc-number">97.1.33</span> routine close</li></a>
<a href="#t97.1.34"><li class="toc-level toc-level-2"><span class="toc-number">97.1.34</span> method flush</li></a>
<a href="#t97.1.35"><li class="toc-level toc-level-2"><span class="toc-number">97.1.35</span> method native-descriptor</li></a>
<a href="#t97.1.36"><li class="toc-level toc-level-2"><span class="toc-number">97.1.36</span> method nl-in</li></a>
<a href="#t97.1.37"><li class="toc-level toc-level-2"><span class="toc-number">97.1.37</span> method nl-out</li></a>
<a href="#t97.1.38"><li class="toc-level toc-level-2"><span class="toc-number">97.1.38</span> method opened</li></a>
<a href="#t97.1.39"><li class="toc-level toc-level-2"><span class="toc-number">97.1.39</span> method t <a name="857"></a></li></a>
<a href="#t97.2"><li class="toc-level toc-level-1"><span class="toc-number">97.2</span> Related roles and classes</li></a>
<a href="#t98"><li class="toc-level toc-level-0"><span class="toc-number">98</span> class IO::Notification</li></a>
<a href="#t98.1"><li class="toc-level toc-level-1"><span class="toc-number">98.1</span> Methods</li></a>
<a href="#t98.1.1"><li class="toc-level toc-level-2"><span class="toc-number">98.1.1</span> method watch-path</li></a>
<a href="#t99"><li class="toc-level toc-level-0"><span class="toc-number">99</span> class IO::Path</li></a>
<a href="#t99.1"><li class="toc-level toc-level-1"><span class="toc-number">99.1</span> Methods</li></a>
<a href="#t99.1.1"><li class="toc-level toc-level-2"><span class="toc-number">99.1.1</span> method new</li></a>
<a href="#t99.1.2"><li class="toc-level toc-level-2"><span class="toc-number">99.1.2</span> attribute CWD</li></a>
<a href="#t99.1.3"><li class="toc-level toc-level-2"><span class="toc-number">99.1.3</span> attribute SPEC</li></a>
<a href="#t99.1.4"><li class="toc-level toc-level-2"><span class="toc-number">99.1.4</span> attribute path</li></a>
<a href="#t99.1.5"><li class="toc-level toc-level-2"><span class="toc-number">99.1.5</span> method ACCEPTS</li></a>
<a href="#t99.1.6"><li class="toc-level toc-level-2"><span class="toc-number">99.1.6</span> method basename</li></a>
<a href="#t99.1.7"><li class="toc-level toc-level-2"><span class="toc-number">99.1.7</span> method add</li></a>
<a href="#t99.1.8"><li class="toc-level toc-level-2"><span class="toc-number">99.1.8</span> method child</li></a>
<a href="#t99.1.9"><li class="toc-level toc-level-2"><span class="toc-number">99.1.9</span> method cleanup</li></a>
<a href="#t99.1.10"><li class="toc-level toc-level-2"><span class="toc-number">99.1.10</span> method comb</li></a>
<a href="#t99.1.11"><li class="toc-level toc-level-2"><span class="toc-number">99.1.11</span> method split</li></a>
<a href="#t99.1.12"><li class="toc-level toc-level-2"><span class="toc-number">99.1.12</span> method extension</li></a>
<a href="#t99.1.13"><li class="toc-level toc-level-2"><span class="toc-number">99.1.13</span> method dirname</li></a>
<a href="#t99.1.14"><li class="toc-level toc-level-2"><span class="toc-number">99.1.14</span> method volume</li></a>
<a href="#t99.1.15"><li class="toc-level toc-level-2"><span class="toc-number">99.1.15</span> method parts</li></a>
<a href="#t99.1.16"><li class="toc-level toc-level-2"><span class="toc-number">99.1.16</span> method perl</li></a>
<a href="#t99.1.17"><li class="toc-level toc-level-2"><span class="toc-number">99.1.17</span> method gist</li></a>
<a href="#t99.1.18"><li class="toc-level toc-level-2"><span class="toc-number">99.1.18</span> method Str</li></a>
<a href="#t99.1.19"><li class="toc-level toc-level-2"><span class="toc-number">99.1.19</span> method succ</li></a>
<a href="#t99.1.20"><li class="toc-level toc-level-2"><span class="toc-number">99.1.20</span> method open</li></a>
<a href="#t99.1.21"><li class="toc-level toc-level-2"><span class="toc-number">99.1.21</span> method pred</li></a>
<a href="#t99.1.22"><li class="toc-level toc-level-2"><span class="toc-number">99.1.22</span> method watch</li></a>
<a href="#t99.1.23"><li class="toc-level toc-level-2"><span class="toc-number">99.1.23</span> method is-absolute</li></a>
<a href="#t99.1.24"><li class="toc-level toc-level-2"><span class="toc-number">99.1.24</span> method is-relative</li></a>
<a href="#t99.1.25"><li class="toc-level toc-level-2"><span class="toc-number">99.1.25</span> method absolute</li></a>
<a href="#t99.1.26"><li class="toc-level toc-level-2"><span class="toc-number">99.1.26</span> method relative</li></a>
<a href="#t99.1.27"><li class="toc-level toc-level-2"><span class="toc-number">99.1.27</span> method parent</li></a>
<a href="#t99.1.28"><li class="toc-level toc-level-2"><span class="toc-number">99.1.28</span> method resolve</li></a>
<a href="#t99.1.29"><li class="toc-level toc-level-2"><span class="toc-number">99.1.29</span> routine dir</li></a>
<a href="#t99.1.30"><li class="toc-level toc-level-2"><span class="toc-number">99.1.30</span> File test operators</li></a>
<a href="#t99.1.31"><li class="toc-level toc-level-2"><span class="toc-number">99.1.31</span> method e</li></a>
<a href="#t99.1.32"><li class="toc-level toc-level-2"><span class="toc-number">99.1.32</span> method d</li></a>
<a href="#t99.1.33"><li class="toc-level toc-level-2"><span class="toc-number">99.1.33</span> method f</li></a>
<a href="#t99.1.34"><li class="toc-level toc-level-2"><span class="toc-number">99.1.34</span> method s</li></a>
<a href="#t99.1.35"><li class="toc-level toc-level-2"><span class="toc-number">99.1.35</span> method l</li></a>
<a href="#t99.1.36"><li class="toc-level toc-level-2"><span class="toc-number">99.1.36</span> method r</li></a>
<a href="#t99.1.37"><li class="toc-level toc-level-2"><span class="toc-number">99.1.37</span> method w</li></a>
<a href="#t99.1.38"><li class="toc-level toc-level-2"><span class="toc-number">99.1.38</span> method rw</li></a>
<a href="#t99.1.39"><li class="toc-level toc-level-2"><span class="toc-number">99.1.39</span> method x</li></a>
<a href="#t99.1.40"><li class="toc-level toc-level-2"><span class="toc-number">99.1.40</span> method rwx</li></a>
<a href="#t99.1.41"><li class="toc-level toc-level-2"><span class="toc-number">99.1.41</span> method z</li></a>
<a href="#t99.1.42"><li class="toc-level toc-level-2"><span class="toc-number">99.1.42</span> method sibling</li></a>
<a href="#t99.1.43"><li class="toc-level toc-level-2"><span class="toc-number">99.1.43</span> method words</li></a>
<a href="#t99.1.44"><li class="toc-level toc-level-2"><span class="toc-number">99.1.44</span> method lines</li></a>
<a href="#t99.1.45"><li class="toc-level toc-level-2"><span class="toc-number">99.1.45</span> routine slurp</li></a>
<a href="#t99.1.46"><li class="toc-level toc-level-2"><span class="toc-number">99.1.46</span> method spurt</li></a>
<a href="#t99.1.47"><li class="toc-level toc-level-2"><span class="toc-number">99.1.47</span> method chdir</li></a>
<a href="#t99.1.48"><li class="toc-level toc-level-2"><span class="toc-number">99.1.48</span> sub mkdir</li></a>
<a href="#t99.1.49"><li class="toc-level toc-level-2"><span class="toc-number">99.1.49</span> routine rmdir</li></a>
<a href="#t99.1.50"><li class="toc-level toc-level-2"><span class="toc-number">99.1.50</span> method chmod</li></a>
<a href="#t99.1.51"><li class="toc-level toc-level-2"><span class="toc-number">99.1.51</span> routine rename</li></a>
<a href="#t99.1.52"><li class="toc-level toc-level-2"><span class="toc-number">99.1.52</span> routine copy</li></a>
<a href="#t99.1.53"><li class="toc-level toc-level-2"><span class="toc-number">99.1.53</span> routine move</li></a>
<a href="#t99.1.54"><li class="toc-level toc-level-2"><span class="toc-number">99.1.54</span> method Numeric</li></a>
<a href="#t99.1.55"><li class="toc-level toc-level-2"><span class="toc-number">99.1.55</span> method Int</li></a>
<a href="#t99.1.56"><li class="toc-level toc-level-2"><span class="toc-number">99.1.56</span> routine symlink</li></a>
<a href="#t99.1.57"><li class="toc-level toc-level-2"><span class="toc-number">99.1.57</span> routine link</li></a>
<a href="#t99.1.58"><li class="toc-level toc-level-2"><span class="toc-number">99.1.58</span> routine unlink</li></a>
<a href="#t99.1.59"><li class="toc-level toc-level-2"><span class="toc-number">99.1.59</span> method IO</li></a>
<a href="#t99.1.60"><li class="toc-level toc-level-2"><span class="toc-number">99.1.60</span> method SPEC</li></a>
<a href="#t99.2"><li class="toc-level toc-level-1"><span class="toc-number">99.2</span> File timestamp retrieval</li></a>
<a href="#t99.2.1"><li class="toc-level toc-level-2"><span class="toc-number">99.2.1</span> method modified</li></a>
<a href="#t99.2.2"><li class="toc-level toc-level-2"><span class="toc-number">99.2.2</span> method accessed</li></a>
<a href="#t99.2.3"><li class="toc-level toc-level-2"><span class="toc-number">99.2.3</span> method changed</li></a>
<a href="#t99.3"><li class="toc-level toc-level-1"><span class="toc-number">99.3</span> File permissions retrieval</li></a>
<a href="#t99.3.1"><li class="toc-level toc-level-2"><span class="toc-number">99.3.1</span> method mode</li></a>
<a href="#t100"><li class="toc-level toc-level-0"><span class="toc-number">100</span> class IO::Path::Cygwin</li></a>
<a href="#t100.1"><li class="toc-level toc-level-1"><span class="toc-number">100.1</span> Methods</li></a>
<a href="#t100.1.1"><li class="toc-level toc-level-2"><span class="toc-number">100.1.1</span> method new</li></a>
<a href="#t100.1.2"><li class="toc-level toc-level-2"><span class="toc-number">100.1.2</span> method perl</li></a>
<a href="#t101"><li class="toc-level toc-level-0"><span class="toc-number">101</span> class IO::Path::QNX</li></a>
<a href="#t101.1"><li class="toc-level toc-level-1"><span class="toc-number">101.1</span> Methods</li></a>
<a href="#t101.1.1"><li class="toc-level toc-level-2"><span class="toc-number">101.1.1</span> method new</li></a>
<a href="#t101.1.2"><li class="toc-level toc-level-2"><span class="toc-number">101.1.2</span> method perl</li></a>
<a href="#t102"><li class="toc-level toc-level-0"><span class="toc-number">102</span> class IO::Path::Unix</li></a>
<a href="#t102.1"><li class="toc-level toc-level-1"><span class="toc-number">102.1</span> Methods</li></a>
<a href="#t102.1.1"><li class="toc-level toc-level-2"><span class="toc-number">102.1.1</span> method new</li></a>
<a href="#t102.1.2"><li class="toc-level toc-level-2"><span class="toc-number">102.1.2</span> method perl</li></a>
<a href="#t103"><li class="toc-level toc-level-0"><span class="toc-number">103</span> class IO::Path::Win32</li></a>
<a href="#t103.1"><li class="toc-level toc-level-1"><span class="toc-number">103.1</span> Methods</li></a>
<a href="#t103.1.1"><li class="toc-level toc-level-2"><span class="toc-number">103.1.1</span> method new</li></a>
<a href="#t103.1.2"><li class="toc-level toc-level-2"><span class="toc-number">103.1.2</span> method perl</li></a>
<a href="#t104"><li class="toc-level toc-level-0"><span class="toc-number">104</span> class IO::Pipe</li></a>
<a href="#t104.1"><li class="toc-level toc-level-1"><span class="toc-number">104.1</span> Methods</li></a>
<a href="#t104.1.1"><li class="toc-level toc-level-2"><span class="toc-number">104.1.1</span> method close</li></a>
<a href="#t104.1.2"><li class="toc-level toc-level-2"><span class="toc-number">104.1.2</span> method IO</li></a>
<a href="#t104.1.3"><li class="toc-level toc-level-2"><span class="toc-number">104.1.3</span> method path</li></a>
<a href="#t104.1.4"><li class="toc-level toc-level-2"><span class="toc-number">104.1.4</span> method proc</li></a>
<a href="#t105"><li class="toc-level toc-level-0"><span class="toc-number">105</span> role IO::Socket</li></a>
<a href="#t105.1"><li class="toc-level toc-level-1"><span class="toc-number">105.1</span> Methods</li></a>
<a href="#t105.1.1"><li class="toc-level toc-level-2"><span class="toc-number">105.1.1</span> method recv</li></a>
<a href="#t105.1.2"><li class="toc-level toc-level-2"><span class="toc-number">105.1.2</span> method read</li></a>
<a href="#t105.1.3"><li class="toc-level toc-level-2"><span class="toc-number">105.1.3</span> routine get</li></a>
<a href="#t105.1.4"><li class="toc-level toc-level-2"><span class="toc-number">105.1.4</span> method print</li></a>
<a href="#t105.1.5"><li class="toc-level toc-level-2"><span class="toc-number">105.1.5</span> method write</li></a>
<a href="#t105.1.6"><li class="toc-level toc-level-2"><span class="toc-number">105.1.6</span> method put</li></a>
<a href="#t105.1.7"><li class="toc-level toc-level-2"><span class="toc-number">105.1.7</span> method close</li></a>
<a href="#t105.1.8"><li class="toc-level toc-level-2"><span class="toc-number">105.1.8</span> method native-descriptor</li></a>
<a href="#t106"><li class="toc-level toc-level-0"><span class="toc-number">106</span> class IO::Socket::Async</li></a>
<a href="#t106.1"><li class="toc-level toc-level-1"><span class="toc-number">106.1</span> Methods</li></a>
<a href="#t106.1.1"><li class="toc-level toc-level-2"><span class="toc-number">106.1.1</span> method connect</li></a>
<a href="#t106.1.2"><li class="toc-level toc-level-2"><span class="toc-number">106.1.2</span> method listen</li></a>
<a href="#t106.1.3"><li class="toc-level toc-level-2"><span class="toc-number">106.1.3</span> method udp</li></a>
<a href="#t106.1.4"><li class="toc-level toc-level-2"><span class="toc-number">106.1.4</span> method bind-udp</li></a>
<a href="#t106.1.5"><li class="toc-level toc-level-2"><span class="toc-number">106.1.5</span> method print</li></a>
<a href="#t106.1.6"><li class="toc-level toc-level-2"><span class="toc-number">106.1.6</span> method print-to</li></a>
<a href="#t106.1.7"><li class="toc-level toc-level-2"><span class="toc-number">106.1.7</span> method write</li></a>
<a href="#t106.1.8"><li class="toc-level toc-level-2"><span class="toc-number">106.1.8</span> method write-to</li></a>
<a href="#t106.1.9"><li class="toc-level toc-level-2"><span class="toc-number">106.1.9</span> method Supply</li></a>
<a href="#t106.1.10"><li class="toc-level toc-level-2"><span class="toc-number">106.1.10</span> method close</li></a>
<a href="#t106.1.11"><li class="toc-level toc-level-2"><span class="toc-number">106.1.11</span> method socket-host</li></a>
<a href="#t106.1.12"><li class="toc-level toc-level-2"><span class="toc-number">106.1.12</span> method peer-host</li></a>
<a href="#t106.1.13"><li class="toc-level toc-level-2"><span class="toc-number">106.1.13</span> method socket-port</li></a>
<a href="#t106.1.14"><li class="toc-level toc-level-2"><span class="toc-number">106.1.14</span> method peer-port</li></a>
<a href="#t107"><li class="toc-level toc-level-0"><span class="toc-number">107</span> class IO::Socket::INET</li></a>
<a href="#t107.1"><li class="toc-level toc-level-1"><span class="toc-number">107.1</span> Methods</li></a>
<a href="#t107.1.1"><li class="toc-level toc-level-2"><span class="toc-number">107.1.1</span> method new</li></a>
<a href="#t107.2"><li class="toc-level toc-level-1"><span class="toc-number">107.2</span> Methods</li></a>
<a href="#t107.2.1"><li class="toc-level toc-level-2"><span class="toc-number">107.2.1</span> method get</li></a>
<a href="#t107.2.2"><li class="toc-level toc-level-2"><span class="toc-number">107.2.2</span> method lines</li></a>
<a href="#t107.2.3"><li class="toc-level toc-level-2"><span class="toc-number">107.2.3</span> method accept</li></a>
<a href="#t108"><li class="toc-level toc-level-0"><span class="toc-number">108</span> class IO::Spec</li></a>
<a href="#t108.1"><li class="toc-level toc-level-1"><span class="toc-number">108.1</span> Methods</li></a>
<a href="#t109"><li class="toc-level toc-level-0"><span class="toc-number">109</span> class IO::Spec::Cygwin</li></a>
<a href="#t109.1"><li class="toc-level toc-level-1"><span class="toc-number">109.1</span> Methods</li></a>
<a href="#t109.1.1"><li class="toc-level toc-level-2"><span class="toc-number">109.1.1</span> method abs2rel</li></a>
<a href="#t109.1.2"><li class="toc-level toc-level-2"><span class="toc-number">109.1.2</span> method canonpath</li></a>
<a href="#t109.1.3"><li class="toc-level toc-level-2"><span class="toc-number">109.1.3</span> method catdir</li></a>
<a href="#t109.1.4"><li class="toc-level toc-level-2"><span class="toc-number">109.1.4</span> method catpath</li></a>
<a href="#t109.1.5"><li class="toc-level toc-level-2"><span class="toc-number">109.1.5</span> method is-absolute</li></a>
<a href="#t109.1.6"><li class="toc-level toc-level-2"><span class="toc-number">109.1.6</span> method join</li></a>
<a href="#t109.1.7"><li class="toc-level toc-level-2"><span class="toc-number">109.1.7</span> method rel2abs</li></a>
<a href="#t109.1.8"><li class="toc-level toc-level-2"><span class="toc-number">109.1.8</span> method split</li></a>
<a href="#t109.1.9"><li class="toc-level toc-level-2"><span class="toc-number">109.1.9</span> method splitpath</li></a>
<a href="#t109.1.10"><li class="toc-level toc-level-2"><span class="toc-number">109.1.10</span> method tmpdir</li></a>
<a href="#t110"><li class="toc-level toc-level-0"><span class="toc-number">110</span> class IO::Spec::QNX</li></a>
<a href="#t110.1"><li class="toc-level toc-level-1"><span class="toc-number">110.1</span> Methods</li></a>
<a href="#t110.1.1"><li class="toc-level toc-level-2"><span class="toc-number">110.1.1</span> method canonpath</li></a>
<a href="#t111"><li class="toc-level toc-level-0"><span class="toc-number">111</span> class IO::Spec::Unix</li></a>
<a href="#t111.1"><li class="toc-level toc-level-1"><span class="toc-number">111.1</span> Methods</li></a>
<a href="#t111.1.1"><li class="toc-level toc-level-2"><span class="toc-number">111.1.1</span> method abs2rel</li></a>
<a href="#t111.1.2"><li class="toc-level toc-level-2"><span class="toc-number">111.1.2</span> method basename</li></a>
<a href="#t111.1.3"><li class="toc-level toc-level-2"><span class="toc-number">111.1.3</span> method canonpath</li></a>
<a href="#t111.1.4"><li class="toc-level toc-level-2"><span class="toc-number">111.1.4</span> method catdir</li></a>
<a href="#t111.1.5"><li class="toc-level toc-level-2"><span class="toc-number">111.1.5</span> method catfile</li></a>
<a href="#t111.1.6"><li class="toc-level toc-level-2"><span class="toc-number">111.1.6</span> method catpath</li></a>
<a href="#t111.1.7"><li class="toc-level toc-level-2"><span class="toc-number">111.1.7</span> method curdir</li></a>
<a href="#t111.1.8"><li class="toc-level toc-level-2"><span class="toc-number">111.1.8</span> method curupdir</li></a>
<a href="#t111.1.9"><li class="toc-level toc-level-2"><span class="toc-number">111.1.9</span> method devnull</li></a>
<a href="#t111.1.10"><li class="toc-level toc-level-2"><span class="toc-number">111.1.10</span> method dir-sep</li></a>
<a href="#t111.1.11"><li class="toc-level toc-level-2"><span class="toc-number">111.1.11</span> method extension</li></a>
<a href="#t111.1.12"><li class="toc-level toc-level-2"><span class="toc-number">111.1.12</span> method is-absolute</li></a>
<a href="#t111.1.13"><li class="toc-level toc-level-2"><span class="toc-number">111.1.13</span> method join</li></a>
<a href="#t111.1.14"><li class="toc-level toc-level-2"><span class="toc-number">111.1.14</span> method path</li></a>
<a href="#t111.1.15"><li class="toc-level toc-level-2"><span class="toc-number">111.1.15</span> method rel2abs</li></a>
<a href="#t111.1.16"><li class="toc-level toc-level-2"><span class="toc-number">111.1.16</span> method rootdir</li></a>
<a href="#t111.1.17"><li class="toc-level toc-level-2"><span class="toc-number">111.1.17</span> method split</li></a>
<a href="#t111.1.18"><li class="toc-level toc-level-2"><span class="toc-number">111.1.18</span> method splitdir</li></a>
<a href="#t111.1.19"><li class="toc-level toc-level-2"><span class="toc-number">111.1.19</span> method splitpath</li></a>
<a href="#t111.1.20"><li class="toc-level toc-level-2"><span class="toc-number">111.1.20</span> method tmpdir</li></a>
<a href="#t111.1.21"><li class="toc-level toc-level-2"><span class="toc-number">111.1.21</span> method updir</li></a>
<a href="#t112"><li class="toc-level toc-level-0"><span class="toc-number">112</span> class IO::Spec::Win32</li></a>
<a href="#t112.1"><li class="toc-level toc-level-1"><span class="toc-number">112.1</span> Methods</li></a>
<a href="#t112.1.1"><li class="toc-level toc-level-2"><span class="toc-number">112.1.1</span> method basename</li></a>
<a href="#t112.1.2"><li class="toc-level toc-level-2"><span class="toc-number">112.1.2</span> method canonpath</li></a>
<a href="#t112.1.3"><li class="toc-level toc-level-2"><span class="toc-number">112.1.3</span> method catdir</li></a>
<a href="#t112.1.4"><li class="toc-level toc-level-2"><span class="toc-number">112.1.4</span> method catfile</li></a>
<a href="#t112.1.5"><li class="toc-level toc-level-2"><span class="toc-number">112.1.5</span> method catpath</li></a>
<a href="#t112.1.6"><li class="toc-level toc-level-2"><span class="toc-number">112.1.6</span> method devnull</li></a>
<a href="#t112.1.7"><li class="toc-level toc-level-2"><span class="toc-number">112.1.7</span> method dir-sep</li></a>
<a href="#t112.1.8"><li class="toc-level toc-level-2"><span class="toc-number">112.1.8</span> method is-absolute</li></a>
<a href="#t112.1.9"><li class="toc-level toc-level-2"><span class="toc-number">112.1.9</span> method join</li></a>
<a href="#t112.1.10"><li class="toc-level toc-level-2"><span class="toc-number">112.1.10</span> method path</li></a>
<a href="#t112.1.11"><li class="toc-level toc-level-2"><span class="toc-number">112.1.11</span> method rel2abs</li></a>
<a href="#t112.1.12"><li class="toc-level toc-level-2"><span class="toc-number">112.1.12</span> method rootdir</li></a>
<a href="#t112.1.13"><li class="toc-level toc-level-2"><span class="toc-number">112.1.13</span> method split</li></a>
<a href="#t112.1.14"><li class="toc-level toc-level-2"><span class="toc-number">112.1.14</span> method splitdir</li></a>
<a href="#t112.1.15"><li class="toc-level toc-level-2"><span class="toc-number">112.1.15</span> method splitpath</li></a>
<a href="#t112.1.16"><li class="toc-level toc-level-2"><span class="toc-number">112.1.16</span> method tmpdir</li></a>
<a href="#t113"><li class="toc-level toc-level-0"><span class="toc-number">113</span> class IO::Special</li></a>
<a href="#t113.1"><li class="toc-level toc-level-1"><span class="toc-number">113.1</span> Methods</li></a>
<a href="#t113.1.1"><li class="toc-level toc-level-2"><span class="toc-number">113.1.1</span> method new</li></a>
<a href="#t113.1.2"><li class="toc-level toc-level-2"><span class="toc-number">113.1.2</span> attribute what</li></a>
<a href="#t113.1.3"><li class="toc-level toc-level-2"><span class="toc-number">113.1.3</span> method WHICH</li></a>
<a href="#t113.1.4"><li class="toc-level toc-level-2"><span class="toc-number">113.1.4</span> method Str</li></a>
<a href="#t113.1.5"><li class="toc-level toc-level-2"><span class="toc-number">113.1.5</span> method IO</li></a>
<a href="#t113.1.6"><li class="toc-level toc-level-2"><span class="toc-number">113.1.6</span> method e</li></a>
<a href="#t113.1.7"><li class="toc-level toc-level-2"><span class="toc-number">113.1.7</span> method d</li></a>
<a href="#t113.1.8"><li class="toc-level toc-level-2"><span class="toc-number">113.1.8</span> method f</li></a>
<a href="#t113.1.9"><li class="toc-level toc-level-2"><span class="toc-number">113.1.9</span> method s</li></a>
<a href="#t113.1.10"><li class="toc-level toc-level-2"><span class="toc-number">113.1.10</span> method l</li></a>
<a href="#t113.1.11"><li class="toc-level toc-level-2"><span class="toc-number">113.1.11</span> method r</li></a>
<a href="#t113.1.12"><li class="toc-level toc-level-2"><span class="toc-number">113.1.12</span> method w</li></a>
<a href="#t113.1.13"><li class="toc-level toc-level-2"><span class="toc-number">113.1.13</span> method x</li></a>
<a href="#t113.1.14"><li class="toc-level toc-level-2"><span class="toc-number">113.1.14</span> method modified</li></a>
<a href="#t113.1.15"><li class="toc-level toc-level-2"><span class="toc-number">113.1.15</span> method accessed</li></a>
<a href="#t113.1.16"><li class="toc-level toc-level-2"><span class="toc-number">113.1.16</span> method changed</li></a>
<a href="#t113.1.17"><li class="toc-level toc-level-2"><span class="toc-number">113.1.17</span> method mode</li></a>
<a href="#t114"><li class="toc-level toc-level-0"><span class="toc-number">114</span> class Instant</li></a>
<a href="#t114.1"><li class="toc-level toc-level-1"><span class="toc-number">114.1</span> Future Leap Seconds</li></a>
<a href="#t114.2"><li class="toc-level toc-level-1"><span class="toc-number">114.2</span> Methods</li></a>
<a href="#t114.2.1"><li class="toc-level toc-level-2"><span class="toc-number">114.2.1</span> method from-posix</li></a>
<a href="#t114.2.2"><li class="toc-level toc-level-2"><span class="toc-number">114.2.2</span> method to-posix</li></a>
<a href="#t114.2.3"><li class="toc-level toc-level-2"><span class="toc-number">114.2.3</span> method Date</li></a>
<a href="#t114.2.4"><li class="toc-level toc-level-2"><span class="toc-number">114.2.4</span> method DateTime</li></a>
<a href="#t115"><li class="toc-level toc-level-0"><span class="toc-number">115</span> class Int</li></a>
<a href="#t115.1"><li class="toc-level toc-level-1"><span class="toc-number">115.1</span> Methods</li></a>
<a href="#t115.1.1"><li class="toc-level toc-level-2"><span class="toc-number">115.1.1</span> method Capture</li></a>
<a href="#t115.1.2"><li class="toc-level toc-level-2"><span class="toc-number">115.1.2</span> routine chr</li></a>
<a href="#t115.1.3"><li class="toc-level toc-level-2"><span class="toc-number">115.1.3</span> routine expmod</li></a>
<a href="#t115.1.4"><li class="toc-level toc-level-2"><span class="toc-number">115.1.4</span> method polymod</li></a>
<a href="#t115.1.5"><li class="toc-level toc-level-2"><span class="toc-number">115.1.5</span> routine is-prime</li></a>
<a href="#t115.1.6"><li class="toc-level toc-level-2"><span class="toc-number">115.1.6</span> routine lsb</li></a>
<a href="#t115.1.7"><li class="toc-level toc-level-2"><span class="toc-number">115.1.7</span> routine msb</li></a>
<a href="#t115.1.8"><li class="toc-level toc-level-2"><span class="toc-number">115.1.8</span> routine unival</li></a>
<a href="#t115.2"><li class="toc-level toc-level-1"><span class="toc-number">115.2</span> Operators</li></a>
<a href="#t115.2.1"><li class="toc-level toc-level-2"><span class="toc-number">115.2.1</span> infix div</li></a>
<a href="#t116"><li class="toc-level toc-level-0"><span class="toc-number">116</span> class IntStr</li></a>
<a href="#t116.1"><li class="toc-level toc-level-1"><span class="toc-number">116.1</span> Methods</li></a>
<a href="#t116.1.1"><li class="toc-level toc-level-2"><span class="toc-number">116.1.1</span> method new</li></a>
<a href="#t116.1.2"><li class="toc-level toc-level-2"><span class="toc-number">116.1.2</span> method Bool</li></a>
<a href="#t116.1.3"><li class="toc-level toc-level-2"><span class="toc-number">116.1.3</span> method Int</li></a>
<a href="#t116.1.4"><li class="toc-level toc-level-2"><span class="toc-number">116.1.4</span> method Numeric</li></a>
<a href="#t116.1.5"><li class="toc-level toc-level-2"><span class="toc-number">116.1.5</span> method Real</li></a>
<a href="#t116.1.6"><li class="toc-level toc-level-2"><span class="toc-number">116.1.6</span> method Str</li></a>
<a href="#t116.1.7"><li class="toc-level toc-level-2"><span class="toc-number">116.1.7</span> method ACCEPTS</li></a>
<a href="#t116.2"><li class="toc-level toc-level-1"><span class="toc-number">116.2</span> Operators</li></a>
<a href="#t116.2.1"><li class="toc-level toc-level-2"><span class="toc-number">116.2.1</span> infix cmp</li></a>
<a href="#t117"><li class="toc-level toc-level-0"><span class="toc-number">117</span> role Iterable</li></a>
<a href="#t117.1"><li class="toc-level toc-level-1"><span class="toc-number">117.1</span> Methods</li></a>
<a href="#t117.1.1"><li class="toc-level toc-level-2"><span class="toc-number">117.1.1</span> method iterator</li></a>
<a href="#t117.1.2"><li class="toc-level toc-level-2"><span class="toc-number">117.1.2</span> method flat</li></a>
<a href="#t117.1.3"><li class="toc-level toc-level-2"><span class="toc-number">117.1.3</span> method lazy</li></a>
<a href="#t117.1.4"><li class="toc-level toc-level-2"><span class="toc-number">117.1.4</span> method hyper</li></a>
<a href="#t117.1.4.1"><li class="toc-level toc-level-3"><span class="toc-number">117.1.4.1</span> Options degree and batch</li></a>
<a href="#t117.1.5"><li class="toc-level toc-level-2"><span class="toc-number">117.1.5</span> method race</li></a>
<a href="#t118"><li class="toc-level toc-level-0"><span class="toc-number">118</span> role Iterator</li></a>
<a href="#t118.1"><li class="toc-level toc-level-1"><span class="toc-number">118.1</span> IterationEnd <a name="858"></a></li></a>
<a href="#t118.2"><li class="toc-level toc-level-1"><span class="toc-number">118.2</span> Methods</li></a>
<a href="#t118.2.1"><li class="toc-level toc-level-2"><span class="toc-number">118.2.1</span> method pull-one</li></a>
<a href="#t118.2.2"><li class="toc-level toc-level-2"><span class="toc-number">118.2.2</span> method push-exactly</li></a>
<a href="#t118.2.3"><li class="toc-level toc-level-2"><span class="toc-number">118.2.3</span> method push-at-least</li></a>
<a href="#t118.2.4"><li class="toc-level toc-level-2"><span class="toc-number">118.2.4</span> method push-all</li></a>
<a href="#t118.2.5"><li class="toc-level toc-level-2"><span class="toc-number">118.2.5</span> method push-until-lazy</li></a>
<a href="#t118.2.6"><li class="toc-level toc-level-2"><span class="toc-number">118.2.6</span> method is-lazy</li></a>
<a href="#t118.2.7"><li class="toc-level toc-level-2"><span class="toc-number">118.2.7</span> method sink-all</li></a>
<a href="#t118.2.8"><li class="toc-level toc-level-2"><span class="toc-number">118.2.8</span> method skip-one</li></a>
<a href="#t118.2.9"><li class="toc-level toc-level-2"><span class="toc-number">118.2.9</span> method skip-at-least</li></a>
<a href="#t118.2.10"><li class="toc-level toc-level-2"><span class="toc-number">118.2.10</span> method skip-at-least-pull-one</li></a>
<a href="#t118.2.11"><li class="toc-level toc-level-2"><span class="toc-number">118.2.11</span> method count-only</li></a>
<a href="#t118.2.12"><li class="toc-level toc-level-2"><span class="toc-number">118.2.12</span> method bool-only</li></a>
<a href="#t119"><li class="toc-level toc-level-0"><span class="toc-number">119</span> class Junction</li></a>
<a href="#t119.1"><li class="toc-level toc-level-1"><span class="toc-number">119.1</span> Failures and Exceptions</li></a>
<a href="#t119.2"><li class="toc-level toc-level-1"><span class="toc-number">119.2</span> Methods</li></a>
<a href="#t119.2.1"><li class="toc-level toc-level-2"><span class="toc-number">119.2.1</span> method Str</li></a>
<a href="#t119.2.2"><li class="toc-level toc-level-2"><span class="toc-number">119.2.2</span> method gist</li></a>
<a href="#t119.2.3"><li class="toc-level toc-level-2"><span class="toc-number">119.2.3</span> method perl</li></a>
<a href="#t119.3"><li class="toc-level toc-level-1"><span class="toc-number">119.3</span> See Also</li></a>
<a href="#t120"><li class="toc-level toc-level-0"><span class="toc-number">120</span> class Kernel</li></a>
<a href="#t120.1"><li class="toc-level toc-level-1"><span class="toc-number">120.1</span> Methods</li></a>
<a href="#t120.1.1"><li class="toc-level toc-level-2"><span class="toc-number">120.1.1</span> method arch</li></a>
<a href="#t120.1.2"><li class="toc-level toc-level-2"><span class="toc-number">120.1.2</span> method archname</li></a>
<a href="#t120.1.3"><li class="toc-level toc-level-2"><span class="toc-number">120.1.3</span> method auth</li></a>
<a href="#t120.1.4"><li class="toc-level toc-level-2"><span class="toc-number">120.1.4</span> method bits</li></a>
<a href="#t120.1.5"><li class="toc-level toc-level-2"><span class="toc-number">120.1.5</span> method cpu-cores</li></a>
<a href="#t120.1.6"><li class="toc-level toc-level-2"><span class="toc-number">120.1.6</span> method cpu-usage</li></a>
<a href="#t120.1.7"><li class="toc-level toc-level-2"><span class="toc-number">120.1.7</span> method desc</li></a>
<a href="#t120.1.8"><li class="toc-level toc-level-2"><span class="toc-number">120.1.8</span> method hardware</li></a>
<a href="#t120.1.9"><li class="toc-level toc-level-2"><span class="toc-number">120.1.9</span> method name</li></a>
<a href="#t120.1.10"><li class="toc-level toc-level-2"><span class="toc-number">120.1.10</span> method release</li></a>
<a href="#t120.1.11"><li class="toc-level toc-level-2"><span class="toc-number">120.1.11</span> method signal</li></a>
<a href="#t120.1.12"><li class="toc-level toc-level-2"><span class="toc-number">120.1.12</span> method signals</li></a>
<a href="#t120.1.13"><li class="toc-level toc-level-2"><span class="toc-number">120.1.13</span> method signature</li></a>
<a href="#t120.1.14"><li class="toc-level toc-level-2"><span class="toc-number">120.1.14</span> method version</li></a>
<a href="#t121"><li class="toc-level toc-level-0"><span class="toc-number">121</span> class Label</li></a>
<a href="#t121.1"><li class="toc-level toc-level-1"><span class="toc-number">121.1</span> Methods</li></a>
<a href="#t121.1.1"><li class="toc-level toc-level-2"><span class="toc-number">121.1.1</span> method next</li></a>
<a href="#t121.1.2"><li class="toc-level toc-level-2"><span class="toc-number">121.1.2</span> method redo</li></a>
<a href="#t121.1.3"><li class="toc-level toc-level-2"><span class="toc-number">121.1.3</span> method last</li></a>
<a href="#t122"><li class="toc-level toc-level-0"><span class="toc-number">122</span> class List</li></a>
<a href="#t122.1"><li class="toc-level toc-level-1"><span class="toc-number">122.1</span> Items, Flattening and Sigils</li></a>
<a href="#t122.2"><li class="toc-level toc-level-1"><span class="toc-number">122.2</span> Methods</li></a>
<a href="#t122.2.1"><li class="toc-level toc-level-2"><span class="toc-number">122.2.1</span> method ACCEPTS</li></a>
<a href="#t122.2.2"><li class="toc-level toc-level-2"><span class="toc-number">122.2.2</span> routine elems</li></a>
<a href="#t122.2.3"><li class="toc-level toc-level-2"><span class="toc-number">122.2.3</span> routine end</li></a>
<a href="#t122.2.4"><li class="toc-level toc-level-2"><span class="toc-number">122.2.4</span> routine keys</li></a>
<a href="#t122.2.5"><li class="toc-level toc-level-2"><span class="toc-number">122.2.5</span> routine values</li></a>
<a href="#t122.2.6"><li class="toc-level toc-level-2"><span class="toc-number">122.2.6</span> routine kv</li></a>
<a href="#t122.2.7"><li class="toc-level toc-level-2"><span class="toc-number">122.2.7</span> routine pairs</li></a>
<a href="#t122.2.8"><li class="toc-level toc-level-2"><span class="toc-number">122.2.8</span> routine antipairs</li></a>
<a href="#t122.2.9"><li class="toc-level toc-level-2"><span class="toc-number">122.2.9</span> routine join</li></a>
<a href="#t122.2.10"><li class="toc-level toc-level-2"><span class="toc-number">122.2.10</span> routine map</li></a>
<a href="#t122.2.11"><li class="toc-level toc-level-2"><span class="toc-number">122.2.11</span> sub flat</li></a>
<a href="#t122.2.12"><li class="toc-level toc-level-2"><span class="toc-number">122.2.12</span> method flatmap</li></a>
<a href="#t122.2.13"><li class="toc-level toc-level-2"><span class="toc-number">122.2.13</span> method gist</li></a>
<a href="#t122.2.14"><li class="toc-level toc-level-2"><span class="toc-number">122.2.14</span> routine grep</li></a>
<a href="#t122.2.15"><li class="toc-level toc-level-2"><span class="toc-number">122.2.15</span> routine first</li></a>
<a href="#t122.2.16"><li class="toc-level toc-level-2"><span class="toc-number">122.2.16</span> method head</li></a>
<a href="#t122.2.17"><li class="toc-level toc-level-2"><span class="toc-number">122.2.17</span> method tail</li></a>
<a href="#t122.2.18"><li class="toc-level toc-level-2"><span class="toc-number">122.2.18</span> routine categorize</li></a>
<a href="#t122.2.19"><li class="toc-level toc-level-2"><span class="toc-number">122.2.19</span> routine classify</li></a>
<a href="#t122.2.20"><li class="toc-level toc-level-2"><span class="toc-number">122.2.20</span> method Bool</li></a>
<a href="#t122.2.21"><li class="toc-level toc-level-2"><span class="toc-number">122.2.21</span> method Str</li></a>
<a href="#t122.2.22"><li class="toc-level toc-level-2"><span class="toc-number">122.2.22</span> method Int</li></a>
<a href="#t122.2.23"><li class="toc-level toc-level-2"><span class="toc-number">122.2.23</span> method Numeric</li></a>
<a href="#t122.2.24"><li class="toc-level toc-level-2"><span class="toc-number">122.2.24</span> method Capture</li></a>
<a href="#t122.2.25"><li class="toc-level toc-level-2"><span class="toc-number">122.2.25</span> routine pick</li></a>
<a href="#t122.2.26"><li class="toc-level toc-level-2"><span class="toc-number">122.2.26</span> routine roll</li></a>
<a href="#t122.2.27"><li class="toc-level toc-level-2"><span class="toc-number">122.2.27</span> routine eager</li></a>
<a href="#t122.2.28"><li class="toc-level toc-level-2"><span class="toc-number">122.2.28</span> routine reverse</li></a>
<a href="#t122.2.29"><li class="toc-level toc-level-2"><span class="toc-number">122.2.29</span> routine rotate</li></a>
<a href="#t122.2.30"><li class="toc-level toc-level-2"><span class="toc-number">122.2.30</span> routine sort</li></a>
<a href="#t122.2.31"><li class="toc-level toc-level-2"><span class="toc-number">122.2.31</span> routine unique</li></a>
<a href="#t122.2.32"><li class="toc-level toc-level-2"><span class="toc-number">122.2.32</span> routine repeated</li></a>
<a href="#t122.2.33"><li class="toc-level toc-level-2"><span class="toc-number">122.2.33</span> routine squish</li></a>
<a href="#t122.2.34"><li class="toc-level toc-level-2"><span class="toc-number">122.2.34</span> routine reduce</li></a>
<a href="#t122.2.35"><li class="toc-level toc-level-2"><span class="toc-number">122.2.35</span> routine produce</li></a>
<a href="#t122.2.36"><li class="toc-level toc-level-2"><span class="toc-number">122.2.36</span> routine combinations</li></a>
<a href="#t122.2.37"><li class="toc-level toc-level-2"><span class="toc-number">122.2.37</span> routine permutations</li></a>
<a href="#t122.2.38"><li class="toc-level toc-level-2"><span class="toc-number">122.2.38</span> method rotor</li></a>
<a href="#t122.2.39"><li class="toc-level toc-level-2"><span class="toc-number">122.2.39</span> routine cross</li></a>
<a href="#t122.2.40"><li class="toc-level toc-level-2"><span class="toc-number">122.2.40</span> routine zip</li></a>
<a href="#t122.2.41"><li class="toc-level toc-level-2"><span class="toc-number">122.2.41</span> routine roundrobin</li></a>
<a href="#t122.2.42"><li class="toc-level toc-level-2"><span class="toc-number">122.2.42</span> routine sum</li></a>
<a href="#t122.2.43"><li class="toc-level toc-level-2"><span class="toc-number">122.2.43</span> method fmt</li></a>
<a href="#t122.2.44"><li class="toc-level toc-level-2"><span class="toc-number">122.2.44</span> method from</li></a>
<a href="#t122.2.45"><li class="toc-level toc-level-2"><span class="toc-number">122.2.45</span> method to</li></a>
<a href="#t122.3"><li class="toc-level toc-level-1"><span class="toc-number">122.3</span> Operators</li></a>
<a href="#t122.3.1"><li class="toc-level toc-level-2"><span class="toc-number">122.3.1</span> infix <span class="code">cmp</span></li></a>
<a href="#t123"><li class="toc-level toc-level-0"><span class="toc-number">123</span> class Lock</li></a>
<a href="#t123.1"><li class="toc-level toc-level-1"><span class="toc-number">123.1</span> Methods</li></a>
<a href="#t123.1.1"><li class="toc-level toc-level-2"><span class="toc-number">123.1.1</span> method protect</li></a>
<a href="#t123.1.2"><li class="toc-level toc-level-2"><span class="toc-number">123.1.2</span> method lock</li></a>
<a href="#t123.1.3"><li class="toc-level toc-level-2"><span class="toc-number">123.1.3</span> method unlock</li></a>
<a href="#t123.1.4"><li class="toc-level toc-level-2"><span class="toc-number">123.1.4</span> method condition</li></a>
<a href="#t124"><li class="toc-level toc-level-0"><span class="toc-number">124</span> class Lock::Async</li></a>
<a href="#t124.1"><li class="toc-level toc-level-1"><span class="toc-number">124.1</span> Methods</li></a>
<a href="#t124.1.1"><li class="toc-level toc-level-2"><span class="toc-number">124.1.1</span> method protect</li></a>
<a href="#t124.1.2"><li class="toc-level toc-level-2"><span class="toc-number">124.1.2</span> method lock</li></a>
<a href="#t124.1.3"><li class="toc-level toc-level-2"><span class="toc-number">124.1.3</span> method unlock</li></a>
<a href="#t125"><li class="toc-level toc-level-0"><span class="toc-number">125</span> class Macro</li></a>
<a href="#t126"><li class="toc-level toc-level-0"><span class="toc-number">126</span> class Map</li></a>
<a href="#t126.1"><li class="toc-level toc-level-1"><span class="toc-number">126.1</span> Methods</li></a>
<a href="#t126.1.1"><li class="toc-level toc-level-2"><span class="toc-number">126.1.1</span> method new</li></a>
<a href="#t126.1.2"><li class="toc-level toc-level-2"><span class="toc-number">126.1.2</span> method elems</li></a>
<a href="#t126.1.3"><li class="toc-level toc-level-2"><span class="toc-number">126.1.3</span> method ACCEPTS</li></a>
<a href="#t126.1.4"><li class="toc-level toc-level-2"><span class="toc-number">126.1.4</span> method gist</li></a>
<a href="#t126.1.5"><li class="toc-level toc-level-2"><span class="toc-number">126.1.5</span> method keys</li></a>
<a href="#t126.1.6"><li class="toc-level toc-level-2"><span class="toc-number">126.1.6</span> method values</li></a>
<a href="#t126.1.7"><li class="toc-level toc-level-2"><span class="toc-number">126.1.7</span> method pairs</li></a>
<a href="#t126.1.8"><li class="toc-level toc-level-2"><span class="toc-number">126.1.8</span> method antipairs</li></a>
<a href="#t126.1.9"><li class="toc-level toc-level-2"><span class="toc-number">126.1.9</span> method invert</li></a>
<a href="#t126.1.10"><li class="toc-level toc-level-2"><span class="toc-number">126.1.10</span> method kv</li></a>
<a href="#t126.1.11"><li class="toc-level toc-level-2"><span class="toc-number">126.1.11</span> method Int</li></a>
<a href="#t126.1.12"><li class="toc-level toc-level-2"><span class="toc-number">126.1.12</span> method Numeric</li></a>
<a href="#t126.1.13"><li class="toc-level toc-level-2"><span class="toc-number">126.1.13</span> method Bool</li></a>
<a href="#t126.1.14"><li class="toc-level toc-level-2"><span class="toc-number">126.1.14</span> method Capture</li></a>
<a href="#t127"><li class="toc-level toc-level-0"><span class="toc-number">127</span> class Match</li></a>
<a href="#t127.1"><li class="toc-level toc-level-1"><span class="toc-number">127.1</span> Methods</li></a>
<a href="#t127.1.1"><li class="toc-level toc-level-2"><span class="toc-number">127.1.1</span> method orig</li></a>
<a href="#t127.1.2"><li class="toc-level toc-level-2"><span class="toc-number">127.1.2</span> method from</li></a>
<a href="#t127.1.3"><li class="toc-level toc-level-2"><span class="toc-number">127.1.3</span> method to</li></a>
<a href="#t127.1.4"><li class="toc-level toc-level-2"><span class="toc-number">127.1.4</span> method made</li></a>
<a href="#t127.1.5"><li class="toc-level toc-level-2"><span class="toc-number">127.1.5</span> method actions</li></a>
<a href="#t127.1.6"><li class="toc-level toc-level-2"><span class="toc-number">127.1.6</span> method ast</li></a>
<a href="#t127.1.7"><li class="toc-level toc-level-2"><span class="toc-number">127.1.7</span> method Bool</li></a>
<a href="#t127.1.8"><li class="toc-level toc-level-2"><span class="toc-number">127.1.8</span> method Str</li></a>
<a href="#t127.1.9"><li class="toc-level toc-level-2"><span class="toc-number">127.1.9</span> method caps</li></a>
<a href="#t127.1.10"><li class="toc-level toc-level-2"><span class="toc-number">127.1.10</span> method chunks</li></a>
<a href="#t127.1.11"><li class="toc-level toc-level-2"><span class="toc-number">127.1.11</span> method list</li></a>
<a href="#t127.1.12"><li class="toc-level toc-level-2"><span class="toc-number">127.1.12</span> method hash</li></a>
<a href="#t127.1.13"><li class="toc-level toc-level-2"><span class="toc-number">127.1.13</span> method prematch</li></a>
<a href="#t127.1.14"><li class="toc-level toc-level-2"><span class="toc-number">127.1.14</span> method postmatch</li></a>
<a href="#t127.1.15"><li class="toc-level toc-level-2"><span class="toc-number">127.1.15</span> method make</li></a>
<a href="#t128"><li class="toc-level toc-level-0"><span class="toc-number">128</span> role Metamodel::AttributeContainer</li></a>
<a href="#t128.1"><li class="toc-level toc-level-1"><span class="toc-number">128.1</span> Methods</li></a>
<a href="#t128.1.1"><li class="toc-level toc-level-2"><span class="toc-number">128.1.1</span> method add_attribute</li></a>
<a href="#t128.1.2"><li class="toc-level toc-level-2"><span class="toc-number">128.1.2</span> method attributes</li></a>
<a href="#t128.1.3"><li class="toc-level toc-level-2"><span class="toc-number">128.1.3</span> method set_rw</li></a>
<a href="#t128.1.4"><li class="toc-level toc-level-2"><span class="toc-number">128.1.4</span> method rw</li></a>
<a href="#t129"><li class="toc-level toc-level-0"><span class="toc-number">129</span> role Metamodel::C3MRO</li></a>
<a href="#t129.1"><li class="toc-level toc-level-1"><span class="toc-number">129.1</span> Methods</li></a>
<a href="#t129.1.1"><li class="toc-level toc-level-2"><span class="toc-number">129.1.1</span> compute_mro</li></a>
<a href="#t129.1.2"><li class="toc-level toc-level-2"><span class="toc-number">129.1.2</span> mro</li></a>
<a href="#t129.1.3"><li class="toc-level toc-level-2"><span class="toc-number">129.1.3</span> mro_unhidden</li></a>
<a href="#t130"><li class="toc-level toc-level-0"><span class="toc-number">130</span> class Metamodel::ClassHOW</li></a>
<a href="#t130.1"><li class="toc-level toc-level-1"><span class="toc-number">130.1</span> Methods</li></a>
<a href="#t130.1.1"><li class="toc-level toc-level-2"><span class="toc-number">130.1.1</span> method add_fallback</li></a>
<a href="#t130.1.2"><li class="toc-level toc-level-2"><span class="toc-number">130.1.2</span> method can</li></a>
<a href="#t130.1.3"><li class="toc-level toc-level-2"><span class="toc-number">130.1.3</span> method lookup</li></a>
<a href="#t130.1.4"><li class="toc-level toc-level-2"><span class="toc-number">130.1.4</span> method compose</li></a>
<a href="#t131"><li class="toc-level toc-level-0"><span class="toc-number">131</span> class Metamodel::EnumHOW</li></a>
<a href="#t131.1"><li class="toc-level toc-level-1"><span class="toc-number">131.1</span> Methods</li></a>
<a href="#t131.1.1"><li class="toc-level toc-level-2"><span class="toc-number">131.1.1</span> method add_enum_value</li></a>
<a href="#t131.1.2"><li class="toc-level toc-level-2"><span class="toc-number">131.1.2</span> method enum_values</li></a>
<a href="#t131.1.3"><li class="toc-level toc-level-2"><span class="toc-number">131.1.3</span> method elems</li></a>
<a href="#t131.1.4"><li class="toc-level toc-level-2"><span class="toc-number">131.1.4</span> method enum_from_value</li></a>
<a href="#t131.1.5"><li class="toc-level toc-level-2"><span class="toc-number">131.1.5</span> method enum_value_list</li></a>
<a href="#t132"><li class="toc-level toc-level-0"><span class="toc-number">132</span> role Metamodel::Finalization</li></a>
<a href="#t132.1"><li class="toc-level toc-level-1"><span class="toc-number">132.1</span> Methods</li></a>
<a href="#t132.1.1"><li class="toc-level toc-level-2"><span class="toc-number">132.1.1</span> method setup_finalization</li></a>
<a href="#t132.1.2"><li class="toc-level toc-level-2"><span class="toc-number">132.1.2</span> method destroyers</li></a>
<a href="#t133"><li class="toc-level toc-level-0"><span class="toc-number">133</span> role Metamodel::MROBasedMethodDispatch</li></a>
<a href="#t133.1"><li class="toc-level toc-level-1"><span class="toc-number">133.1</span> Methods</li></a>
<a href="#t133.1.1"><li class="toc-level toc-level-2"><span class="toc-number">133.1.1</span> method find_method</li></a>
<a href="#t133.1.2"><li class="toc-level toc-level-2"><span class="toc-number">133.1.2</span> method find_method_qualified</li></a>
<a href="#t134"><li class="toc-level toc-level-0"><span class="toc-number">134</span> role Metamodel::MethodContainer</li></a>
<a href="#t134.1"><li class="toc-level toc-level-1"><span class="toc-number">134.1</span> Methods</li></a>
<a href="#t134.1.1"><li class="toc-level toc-level-2"><span class="toc-number">134.1.1</span> method add_method</li></a>
<a href="#t134.1.2"><li class="toc-level toc-level-2"><span class="toc-number">134.1.2</span> method methods</li></a>
<a href="#t134.1.3"><li class="toc-level toc-level-2"><span class="toc-number">134.1.3</span> method method_table</li></a>
<a href="#t134.1.4"><li class="toc-level toc-level-2"><span class="toc-number">134.1.4</span> method lookup</li></a>
<a href="#t135"><li class="toc-level toc-level-0"><span class="toc-number">135</span> role Metamodel::MultipleInheritance</li></a>
<a href="#t135.1"><li class="toc-level toc-level-1"><span class="toc-number">135.1</span> Methods</li></a>
<a href="#t135.1.1"><li class="toc-level toc-level-2"><span class="toc-number">135.1.1</span> method add_parent</li></a>
<a href="#t135.1.2"><li class="toc-level toc-level-2"><span class="toc-number">135.1.2</span> method parents</li></a>
<a href="#t135.1.3"><li class="toc-level toc-level-2"><span class="toc-number">135.1.3</span> method hides</li></a>
<a href="#t135.1.4"><li class="toc-level toc-level-2"><span class="toc-number">135.1.4</span> method hidden</li></a>
<a href="#t135.1.5"><li class="toc-level toc-level-2"><span class="toc-number">135.1.5</span> method set_hidden</li></a>
<a href="#t136"><li class="toc-level toc-level-0"><span class="toc-number">136</span> role Metamodel::Naming</li></a>
<a href="#t136.1"><li class="toc-level toc-level-1"><span class="toc-number">136.1</span> Methods</li></a>
<a href="#t136.1.1"><li class="toc-level toc-level-2"><span class="toc-number">136.1.1</span> method name</li></a>
<a href="#t136.1.2"><li class="toc-level toc-level-2"><span class="toc-number">136.1.2</span> method set_name</li></a>
<a href="#t137"><li class="toc-level toc-level-0"><span class="toc-number">137</span> class Metamodel::Primitives</li></a>
<a href="#t137.1"><li class="toc-level toc-level-1"><span class="toc-number">137.1</span> Methods</li></a>
<a href="#t137.1.1"><li class="toc-level toc-level-2"><span class="toc-number">137.1.1</span> method create_type</li></a>
<a href="#t137.1.2"><li class="toc-level toc-level-2"><span class="toc-number">137.1.2</span> method set_package</li></a>
<a href="#t137.1.3"><li class="toc-level toc-level-2"><span class="toc-number">137.1.3</span> method install_method_cache</li></a>
<a href="#t137.1.4"><li class="toc-level toc-level-2"><span class="toc-number">137.1.4</span> method configure_type_checking</li></a>
<a href="#t137.1.5"><li class="toc-level toc-level-2"><span class="toc-number">137.1.5</span> method configure_destroy</li></a>
<a href="#t137.1.6"><li class="toc-level toc-level-2"><span class="toc-number">137.1.6</span> method compose_type</li></a>
<a href="#t137.1.7"><li class="toc-level toc-level-2"><span class="toc-number">137.1.7</span> method rebless</li></a>
<a href="#t137.1.8"><li class="toc-level toc-level-2"><span class="toc-number">137.1.8</span> method is_type</li></a>
<a href="#t138"><li class="toc-level toc-level-0"><span class="toc-number">138</span> role Metamodel::PrivateMethodContainer</li></a>
<a href="#t138.1"><li class="toc-level toc-level-1"><span class="toc-number">138.1</span> Methods</li></a>
<a href="#t138.1.1"><li class="toc-level toc-level-2"><span class="toc-number">138.1.1</span> method add_private_method</li></a>
<a href="#t138.1.2"><li class="toc-level toc-level-2"><span class="toc-number">138.1.2</span> method private_method_table</li></a>
<a href="#t139"><li class="toc-level toc-level-0"><span class="toc-number">139</span> role Metamodel::RoleContainer</li></a>
<a href="#t139.1"><li class="toc-level toc-level-1"><span class="toc-number">139.1</span> Methods</li></a>
<a href="#t139.1.1"><li class="toc-level toc-level-2"><span class="toc-number">139.1.1</span> method add_role</li></a>
<a href="#t139.1.2"><li class="toc-level toc-level-2"><span class="toc-number">139.1.2</span> method roles_to_compose</li></a>
<a href="#t140"><li class="toc-level toc-level-0"><span class="toc-number">140</span> role Metamodel::Trusting</li></a>
<a href="#t140.1"><li class="toc-level toc-level-1"><span class="toc-number">140.1</span> Methods</li></a>
<a href="#t140.1.1"><li class="toc-level toc-level-2"><span class="toc-number">140.1.1</span> method add_trustee</li></a>
<a href="#t140.1.2"><li class="toc-level toc-level-2"><span class="toc-number">140.1.2</span> method trusts</li></a>
<a href="#t140.1.3"><li class="toc-level toc-level-2"><span class="toc-number">140.1.3</span> method is_trusted</li></a>
<a href="#t141"><li class="toc-level toc-level-0"><span class="toc-number">141</span> class Method</li></a>
<a href="#t141.0.1"><li class="toc-level toc-level-2"><span class="toc-number">141.0.1</span> sub lastcall</li></a>
<a href="#t142"><li class="toc-level toc-level-0"><span class="toc-number">142</span> class Mix</li></a>
<a href="#t142.1"><li class="toc-level toc-level-1"><span class="toc-number">142.1</span> Creating <span class="code">Mix</span> objects</li></a>
<a href="#t142.2"><li class="toc-level toc-level-1"><span class="toc-number">142.2</span> Operators</li></a>
<a href="#t142.2.1"><li class="toc-level toc-level-2"><span class="toc-number">142.2.1</span> sub mix</li></a>
<a href="#t142.3"><li class="toc-level toc-level-1"><span class="toc-number">142.3</span> Methods</li></a>
<a href="#t142.3.1"><li class="toc-level toc-level-2"><span class="toc-number">142.3.1</span> method Bag</li></a>
<a href="#t142.3.2"><li class="toc-level toc-level-2"><span class="toc-number">142.3.2</span> method BagHash</li></a>
<a href="#t142.4"><li class="toc-level toc-level-1"><span class="toc-number">142.4</span> See Also</li></a>
<a href="#t143"><li class="toc-level toc-level-0"><span class="toc-number">143</span> class MixHash</li></a>
<a href="#t143.1"><li class="toc-level toc-level-1"><span class="toc-number">143.1</span> Creating <span class="code">MixHash</span> objects</li></a>
<a href="#t143.2"><li class="toc-level toc-level-1"><span class="toc-number">143.2</span> Operators</li></a>
<a href="#t143.3"><li class="toc-level toc-level-1"><span class="toc-number">143.3</span> Methods</li></a>
<a href="#t143.3.1"><li class="toc-level toc-level-2"><span class="toc-number">143.3.1</span> method Bag</li></a>
<a href="#t143.3.2"><li class="toc-level toc-level-2"><span class="toc-number">143.3.2</span> method BagHash</li></a>
<a href="#t143.4"><li class="toc-level toc-level-1"><span class="toc-number">143.4</span> See Also</li></a>
<a href="#t144"><li class="toc-level toc-level-0"><span class="toc-number">144</span> role Mixy</li></a>
<a href="#t144.1"><li class="toc-level toc-level-1"><span class="toc-number">144.1</span> Methods</li></a>
<a href="#t144.1.1"><li class="toc-level toc-level-2"><span class="toc-number">144.1.1</span> method total</li></a>
<a href="#t144.1.2"><li class="toc-level toc-level-2"><span class="toc-number">144.1.2</span> method roll</li></a>
<a href="#t144.2"><li class="toc-level toc-level-1"><span class="toc-number">144.2</span> See Also</li></a>
<a href="#t145"><li class="toc-level toc-level-0"><span class="toc-number">145</span> class Mu</li></a>
<a href="#t145.1"><li class="toc-level toc-level-1"><span class="toc-number">145.1</span> Methods</li></a>
<a href="#t145.1.1"><li class="toc-level toc-level-2"><span class="toc-number">145.1.1</span> method defined</li></a>
<a href="#t145.1.2"><li class="toc-level toc-level-2"><span class="toc-number">145.1.2</span> routine defined</li></a>
<a href="#t145.1.3"><li class="toc-level toc-level-2"><span class="toc-number">145.1.3</span> routine isa</li></a>
<a href="#t145.1.4"><li class="toc-level toc-level-2"><span class="toc-number">145.1.4</span> routine does</li></a>
<a href="#t145.1.5"><li class="toc-level toc-level-2"><span class="toc-number">145.1.5</span> routine Bool</li></a>
<a href="#t145.1.6"><li class="toc-level toc-level-2"><span class="toc-number">145.1.6</span> method Capture</li></a>
<a href="#t145.1.7"><li class="toc-level toc-level-2"><span class="toc-number">145.1.7</span> method Str</li></a>
<a href="#t145.1.8"><li class="toc-level toc-level-2"><span class="toc-number">145.1.8</span> routine gist</li></a>
<a href="#t145.1.9"><li class="toc-level toc-level-2"><span class="toc-number">145.1.9</span> routine perl</li></a>
<a href="#t145.1.10"><li class="toc-level toc-level-2"><span class="toc-number">145.1.10</span> method item</li></a>
<a href="#t145.1.11"><li class="toc-level toc-level-2"><span class="toc-number">145.1.11</span> method self</li></a>
<a href="#t145.1.12"><li class="toc-level toc-level-2"><span class="toc-number">145.1.12</span> method clone</li></a>
<a href="#t145.1.13"><li class="toc-level toc-level-2"><span class="toc-number">145.1.13</span> method new</li></a>
<a href="#t145.1.14"><li class="toc-level toc-level-2"><span class="toc-number">145.1.14</span> method bless</li></a>
<a href="#t145.1.15"><li class="toc-level toc-level-2"><span class="toc-number">145.1.15</span> method CREATE</li></a>
<a href="#t145.1.16"><li class="toc-level toc-level-2"><span class="toc-number">145.1.16</span> method print</li></a>
<a href="#t145.1.17"><li class="toc-level toc-level-2"><span class="toc-number">145.1.17</span> method put</li></a>
<a href="#t145.1.18"><li class="toc-level toc-level-2"><span class="toc-number">145.1.18</span> method say</li></a>
<a href="#t145.1.19"><li class="toc-level toc-level-2"><span class="toc-number">145.1.19</span> method ACCEPTS</li></a>
<a href="#t145.1.20"><li class="toc-level toc-level-2"><span class="toc-number">145.1.20</span> method WHICH</li></a>
<a href="#t145.1.21"><li class="toc-level toc-level-2"><span class="toc-number">145.1.21</span> method WHERE</li></a>
<a href="#t145.1.22"><li class="toc-level toc-level-2"><span class="toc-number">145.1.22</span> method WHY</li></a>
<a href="#t145.1.23"><li class="toc-level toc-level-2"><span class="toc-number">145.1.23</span> trait is export</li></a>
<a href="#t145.1.24"><li class="toc-level toc-level-2"><span class="toc-number">145.1.24</span> method return</li></a>
<a href="#t145.1.25"><li class="toc-level toc-level-2"><span class="toc-number">145.1.25</span> method return-rw</li></a>
<a href="#t145.1.26"><li class="toc-level toc-level-2"><span class="toc-number">145.1.26</span> method emit</li></a>
<a href="#t145.1.27"><li class="toc-level toc-level-2"><span class="toc-number">145.1.27</span> method take</li></a>
<a href="#t145.1.28"><li class="toc-level toc-level-2"><span class="toc-number">145.1.28</span> routine take</li></a>
<a href="#t145.1.29"><li class="toc-level toc-level-2"><span class="toc-number">145.1.29</span> routine take-rw</li></a>
<a href="#t145.1.30"><li class="toc-level toc-level-2"><span class="toc-number">145.1.30</span> method so</li></a>
<a href="#t145.1.31"><li class="toc-level toc-level-2"><span class="toc-number">145.1.31</span> method not</li></a>
<a href="#t146"><li class="toc-level toc-level-0"><span class="toc-number">146</span> class NFC</li></a>
<a href="#t147"><li class="toc-level toc-level-0"><span class="toc-number">147</span> class NFD</li></a>
<a href="#t148"><li class="toc-level toc-level-0"><span class="toc-number">148</span> class NFKC</li></a>
<a href="#t149"><li class="toc-level toc-level-0"><span class="toc-number">149</span> class NFKD</li></a>
<a href="#t150"><li class="toc-level toc-level-0"><span class="toc-number">150</span> class Nil</li></a>
<a href="#t150.1"><li class="toc-level toc-level-1"><span class="toc-number">150.1</span> Methods</li></a>
<a href="#t150.1.1"><li class="toc-level toc-level-2"><span class="toc-number">150.1.1</span> method append</li></a>
<a href="#t150.1.2"><li class="toc-level toc-level-2"><span class="toc-number">150.1.2</span> method gist</li></a>
<a href="#t150.1.3"><li class="toc-level toc-level-2"><span class="toc-number">150.1.3</span> method Str</li></a>
<a href="#t150.1.4"><li class="toc-level toc-level-2"><span class="toc-number">150.1.4</span> method new</li></a>
<a href="#t150.1.5"><li class="toc-level toc-level-2"><span class="toc-number">150.1.5</span> method prepend</li></a>
<a href="#t150.1.6"><li class="toc-level toc-level-2"><span class="toc-number">150.1.6</span> method push</li></a>
<a href="#t150.1.7"><li class="toc-level toc-level-2"><span class="toc-number">150.1.7</span> method unshift</li></a>
<a href="#t150.1.8"><li class="toc-level toc-level-2"><span class="toc-number">150.1.8</span> method Numeric</li></a>
<a href="#t151"><li class="toc-level toc-level-0"><span class="toc-number">151</span> class Num</li></a>
<a href="#t151.0.1"><li class="toc-level toc-level-2"><span class="toc-number">151.0.1</span> Inf</li></a>
<a href="#t151.0.2"><li class="toc-level toc-level-2"><span class="toc-number">151.0.2</span> NaN</li></a>
<a href="#t151.0.3"><li class="toc-level toc-level-2"><span class="toc-number">151.0.3</span> method rand</li></a>
<a href="#t151.0.4"><li class="toc-level toc-level-2"><span class="toc-number">151.0.4</span> sub srand</li></a>
<a href="#t151.0.5"><li class="toc-level toc-level-2"><span class="toc-number">151.0.5</span> method Capture</li></a>
<a href="#t151.0.6"><li class="toc-level toc-level-2"><span class="toc-number">151.0.6</span> Int</li></a>
<a href="#t151.0.7"><li class="toc-level toc-level-2"><span class="toc-number">151.0.7</span> Rat</li></a>
<a href="#t151.0.8"><li class="toc-level toc-level-2"><span class="toc-number">151.0.8</span> FatRat</li></a>
<a href="#t152"><li class="toc-level toc-level-0"><span class="toc-number">152</span> class NumStr</li></a>
<a href="#t152.1"><li class="toc-level toc-level-1"><span class="toc-number">152.1</span> Methods</li></a>
<a href="#t152.1.1"><li class="toc-level toc-level-2"><span class="toc-number">152.1.1</span> method new</li></a>
<a href="#t152.1.2"><li class="toc-level toc-level-2"><span class="toc-number">152.1.2</span> method Bool</li></a>
<a href="#t152.1.3"><li class="toc-level toc-level-2"><span class="toc-number">152.1.3</span> method Num</li></a>
<a href="#t152.1.4"><li class="toc-level toc-level-2"><span class="toc-number">152.1.4</span> method Numeric</li></a>
<a href="#t152.1.5"><li class="toc-level toc-level-2"><span class="toc-number">152.1.5</span> method Real</li></a>
<a href="#t152.1.6"><li class="toc-level toc-level-2"><span class="toc-number">152.1.6</span> method Str</li></a>
<a href="#t152.1.7"><li class="toc-level toc-level-2"><span class="toc-number">152.1.7</span> method ACCEPTS</li></a>
<a href="#t152.2"><li class="toc-level toc-level-1"><span class="toc-number">152.2</span> Operators</li></a>
<a href="#t152.2.1"><li class="toc-level toc-level-2"><span class="toc-number">152.2.1</span> infix cmp</li></a>
<a href="#t153"><li class="toc-level toc-level-0"><span class="toc-number">153</span> role Numeric</li></a>
<a href="#t153.1"><li class="toc-level toc-level-1"><span class="toc-number">153.1</span> Methods</li></a>
<a href="#t153.1.1"><li class="toc-level toc-level-2"><span class="toc-number">153.1.1</span> method Numeric</li></a>
<a href="#t153.1.2"><li class="toc-level toc-level-2"><span class="toc-number">153.1.2</span> method Int</li></a>
<a href="#t153.1.3"><li class="toc-level toc-level-2"><span class="toc-number">153.1.3</span> method Rat</li></a>
<a href="#t153.1.4"><li class="toc-level toc-level-2"><span class="toc-number">153.1.4</span> method Num</li></a>
<a href="#t153.1.5"><li class="toc-level toc-level-2"><span class="toc-number">153.1.5</span> method narrow</li></a>
<a href="#t153.1.6"><li class="toc-level toc-level-2"><span class="toc-number">153.1.6</span> method ACCEPTS</li></a>
<a href="#t153.1.7"><li class="toc-level toc-level-2"><span class="toc-number">153.1.7</span> routine log</li></a>
<a href="#t153.1.8"><li class="toc-level toc-level-2"><span class="toc-number">153.1.8</span> routine log10</li></a>
<a href="#t153.1.9"><li class="toc-level toc-level-2"><span class="toc-number">153.1.9</span> routine exp</li></a>
<a href="#t153.1.10"><li class="toc-level toc-level-2"><span class="toc-number">153.1.10</span> method roots</li></a>
<a href="#t153.1.11"><li class="toc-level toc-level-2"><span class="toc-number">153.1.11</span> routine abs</li></a>
<a href="#t153.1.12"><li class="toc-level toc-level-2"><span class="toc-number">153.1.12</span> routine sqrt</li></a>
<a href="#t153.1.13"><li class="toc-level toc-level-2"><span class="toc-number">153.1.13</span> method conj</li></a>
<a href="#t153.1.14"><li class="toc-level toc-level-2"><span class="toc-number">153.1.14</span> method Bool</li></a>
<a href="#t153.1.15"><li class="toc-level toc-level-2"><span class="toc-number">153.1.15</span> method succ</li></a>
<a href="#t153.1.16"><li class="toc-level toc-level-2"><span class="toc-number">153.1.16</span> method pred</li></a>
<a href="#t154"><li class="toc-level toc-level-0"><span class="toc-number">154</span> class ObjAt</li></a>
<a href="#t155"><li class="toc-level toc-level-0"><span class="toc-number">155</span> enum Order</li></a>
<a href="#t155.1"><li class="toc-level toc-level-1"><span class="toc-number">155.1</span> Operators</li></a>
<a href="#t155.1.1"><li class="toc-level toc-level-2"><span class="toc-number">155.1.1</span> infix cmp</li></a>
<a href="#t155.1.2"><li class="toc-level toc-level-2"><span class="toc-number">155.1.2</span> infix &lt;=&gt;</li></a>
<a href="#t156"><li class="toc-level toc-level-0"><span class="toc-number">156</span> class Pair</li></a>
<a href="#t156.1"><li class="toc-level toc-level-1"><span class="toc-number">156.1</span> Methods</li></a>
<a href="#t156.1.1"><li class="toc-level toc-level-2"><span class="toc-number">156.1.1</span> method new</li></a>
<a href="#t156.1.2"><li class="toc-level toc-level-2"><span class="toc-number">156.1.2</span> method ACCEPTS</li></a>
<a href="#t156.1.3"><li class="toc-level toc-level-2"><span class="toc-number">156.1.3</span> method antipair</li></a>
<a href="#t156.1.4"><li class="toc-level toc-level-2"><span class="toc-number">156.1.4</span> method key</li></a>
<a href="#t156.1.5"><li class="toc-level toc-level-2"><span class="toc-number">156.1.5</span> method value</li></a>
<a href="#t156.1.6"><li class="toc-level toc-level-2"><span class="toc-number">156.1.6</span> infix cmp</li></a>
<a href="#t156.1.7"><li class="toc-level toc-level-2"><span class="toc-number">156.1.7</span> method fmt</li></a>
<a href="#t156.1.8"><li class="toc-level toc-level-2"><span class="toc-number">156.1.8</span> method kv</li></a>
<a href="#t156.1.9"><li class="toc-level toc-level-2"><span class="toc-number">156.1.9</span> method pairs</li></a>
<a href="#t156.1.10"><li class="toc-level toc-level-2"><span class="toc-number">156.1.10</span> method antipairs</li></a>
<a href="#t156.1.11"><li class="toc-level toc-level-2"><span class="toc-number">156.1.11</span> method invert</li></a>
<a href="#t156.1.12"><li class="toc-level toc-level-2"><span class="toc-number">156.1.12</span> method keys</li></a>
<a href="#t156.1.13"><li class="toc-level toc-level-2"><span class="toc-number">156.1.13</span> method values</li></a>
<a href="#t156.1.14"><li class="toc-level toc-level-2"><span class="toc-number">156.1.14</span> method freeze</li></a>
<a href="#t156.1.15"><li class="toc-level toc-level-2"><span class="toc-number">156.1.15</span> method Str</li></a>
<a href="#t157"><li class="toc-level toc-level-0"><span class="toc-number">157</span> class Parameter</li></a>
<a href="#t157.1"><li class="toc-level toc-level-1"><span class="toc-number">157.1</span> Methods</li></a>
<a href="#t157.1.1"><li class="toc-level toc-level-2"><span class="toc-number">157.1.1</span> method name</li></a>
<a href="#t157.1.2"><li class="toc-level toc-level-2"><span class="toc-number">157.1.2</span> method sigil</li></a>
<a href="#t157.1.3"><li class="toc-level toc-level-2"><span class="toc-number">157.1.3</span> method type</li></a>
<a href="#t157.1.4"><li class="toc-level toc-level-2"><span class="toc-number">157.1.4</span> method constraints</li></a>
<a href="#t157.1.5"><li class="toc-level toc-level-2"><span class="toc-number">157.1.5</span> method named</li></a>
<a href="#t157.1.6"><li class="toc-level toc-level-2"><span class="toc-number">157.1.6</span> method named_names</li></a>
<a href="#t157.1.7"><li class="toc-level toc-level-2"><span class="toc-number">157.1.7</span> method positional</li></a>
<a href="#t157.1.8"><li class="toc-level toc-level-2"><span class="toc-number">157.1.8</span> method slurpy</li></a>
<a href="#t157.1.9"><li class="toc-level toc-level-2"><span class="toc-number">157.1.9</span> method twigil</li></a>
<a href="#t157.1.10"><li class="toc-level toc-level-2"><span class="toc-number">157.1.10</span> method optional</li></a>
<a href="#t157.1.11"><li class="toc-level toc-level-2"><span class="toc-number">157.1.11</span> method raw</li></a>
<a href="#t157.1.12"><li class="toc-level toc-level-2"><span class="toc-number">157.1.12</span> method capture</li></a>
<a href="#t157.1.13"><li class="toc-level toc-level-2"><span class="toc-number">157.1.13</span> method rw</li></a>
<a href="#t157.1.14"><li class="toc-level toc-level-2"><span class="toc-number">157.1.14</span> method copy</li></a>
<a href="#t157.1.15"><li class="toc-level toc-level-2"><span class="toc-number">157.1.15</span> method readonly</li></a>
<a href="#t157.1.16"><li class="toc-level toc-level-2"><span class="toc-number">157.1.16</span> method invocant</li></a>
<a href="#t157.1.17"><li class="toc-level toc-level-2"><span class="toc-number">157.1.17</span> method default</li></a>
<a href="#t157.1.18"><li class="toc-level toc-level-2"><span class="toc-number">157.1.18</span> method type_captures</li></a>
<a href="#t157.1.19"><li class="toc-level toc-level-2"><span class="toc-number">157.1.19</span> method sub_signature</li></a>
<a href="#t158"><li class="toc-level toc-level-0"><span class="toc-number">158</span> class Perl</li></a>
<a href="#t158.1"><li class="toc-level toc-level-1"><span class="toc-number">158.1</span> Methods</li></a>
<a href="#t158.1.1"><li class="toc-level toc-level-2"><span class="toc-number">158.1.1</span> method auth</li></a>
<a href="#t158.1.2"><li class="toc-level toc-level-2"><span class="toc-number">158.1.2</span> method compiler</li></a>
<a href="#t158.1.3"><li class="toc-level toc-level-2"><span class="toc-number">158.1.3</span> method DISTROnames</li></a>
<a href="#t158.1.4"><li class="toc-level toc-level-2"><span class="toc-number">158.1.4</span> method desc</li></a>
<a href="#t158.1.5"><li class="toc-level toc-level-2"><span class="toc-number">158.1.5</span> method KERNELnames</li></a>
<a href="#t158.1.6"><li class="toc-level toc-level-2"><span class="toc-number">158.1.6</span> method name</li></a>
<a href="#t158.1.7"><li class="toc-level toc-level-2"><span class="toc-number">158.1.7</span> method signature</li></a>
<a href="#t158.1.8"><li class="toc-level toc-level-2"><span class="toc-number">158.1.8</span> method version</li></a>
<a href="#t158.1.9"><li class="toc-level toc-level-2"><span class="toc-number">158.1.9</span> method VMnames</li></a>
<a href="#t158.2"><li class="toc-level toc-level-1"><span class="toc-number">158.2</span> See Also</li></a>
<a href="#t159"><li class="toc-level toc-level-0"><span class="toc-number">159</span> class Pod::Block</li></a>
<a href="#t159.1"><li class="toc-level toc-level-1"><span class="toc-number">159.1</span> Methods</li></a>
<a href="#t159.1.1"><li class="toc-level toc-level-2"><span class="toc-number">159.1.1</span> method contents</li></a>
<a href="#t159.1.2"><li class="toc-level toc-level-2"><span class="toc-number">159.1.2</span> method config</li></a>
<a href="#t160"><li class="toc-level toc-level-0"><span class="toc-number">160</span> class Pod::Block::Code</li></a>
<a href="#t160.1"><li class="toc-level toc-level-1"><span class="toc-number">160.1</span> Methods</li></a>
<a href="#t160.1.1"><li class="toc-level toc-level-2"><span class="toc-number">160.1.1</span> method allowed</li></a>
<a href="#t161"><li class="toc-level toc-level-0"><span class="toc-number">161</span> class Pod::Block::Comment</li></a>
<a href="#t162"><li class="toc-level toc-level-0"><span class="toc-number">162</span> class Pod::Block::Declarator</li></a>
<a href="#t162.1"><li class="toc-level toc-level-1"><span class="toc-number">162.1</span> Methods</li></a>
<a href="#t162.1.1"><li class="toc-level toc-level-2"><span class="toc-number">162.1.1</span> method leading</li></a>
<a href="#t162.1.2"><li class="toc-level toc-level-2"><span class="toc-number">162.1.2</span> method trailing</li></a>
<a href="#t162.1.3"><li class="toc-level toc-level-2"><span class="toc-number">162.1.3</span> method WHEREFORE</li></a>
<a href="#t163"><li class="toc-level toc-level-0"><span class="toc-number">163</span> class Pod::Block::Named</li></a>
<a href="#t163.1"><li class="toc-level toc-level-1"><span class="toc-number">163.1</span> Methods</li></a>
<a href="#t163.1.1"><li class="toc-level toc-level-2"><span class="toc-number">163.1.1</span> method name</li></a>
<a href="#t164"><li class="toc-level toc-level-0"><span class="toc-number">164</span> class Pod::Block::Para</li></a>
<a href="#t165"><li class="toc-level toc-level-0"><span class="toc-number">165</span> class Pod::Block::Table</li></a>
<a href="#t165.1"><li class="toc-level toc-level-1"><span class="toc-number">165.1</span> Methods</li></a>
<a href="#t165.1.1"><li class="toc-level toc-level-2"><span class="toc-number">165.1.1</span> method caption</li></a>
<a href="#t165.1.2"><li class="toc-level toc-level-2"><span class="toc-number">165.1.2</span> method headers</li></a>
<a href="#t166"><li class="toc-level toc-level-0"><span class="toc-number">166</span> class Pod::Heading</li></a>
<a href="#t166.1"><li class="toc-level toc-level-1"><span class="toc-number">166.1</span> Methods</li></a>
<a href="#t166.1.1"><li class="toc-level toc-level-2"><span class="toc-number">166.1.1</span> method level</li></a>
<a href="#t167"><li class="toc-level toc-level-0"><span class="toc-number">167</span> class Pod::Item</li></a>
<a href="#t167.1"><li class="toc-level toc-level-1"><span class="toc-number">167.1</span> Methods</li></a>
<a href="#t167.1.1"><li class="toc-level toc-level-2"><span class="toc-number">167.1.1</span> method level</li></a>
<a href="#t168"><li class="toc-level toc-level-0"><span class="toc-number">168</span> role Positional</li></a>
<a href="#t168.1"><li class="toc-level toc-level-1"><span class="toc-number">168.1</span> Methods</li></a>
<a href="#t168.1.1"><li class="toc-level toc-level-2"><span class="toc-number">168.1.1</span> method of</li></a>
<a href="#t169"><li class="toc-level toc-level-0"><span class="toc-number">169</span> role PositionalBindFailover</li></a>
<a href="#t169.1"><li class="toc-level toc-level-1"><span class="toc-number">169.1</span> Methods</li></a>
<a href="#t169.1.1"><li class="toc-level toc-level-2"><span class="toc-number">169.1.1</span> method cache</li></a>
<a href="#t169.1.2"><li class="toc-level toc-level-2"><span class="toc-number">169.1.2</span> method list</li></a>
<a href="#t169.1.3"><li class="toc-level toc-level-2"><span class="toc-number">169.1.3</span> method iterator</li></a>
<a href="#t170"><li class="toc-level toc-level-0"><span class="toc-number">170</span> class Proc</li></a>
<a href="#t170.1"><li class="toc-level toc-level-1"><span class="toc-number">170.1</span> Methods</li></a>
<a href="#t170.1.1"><li class="toc-level toc-level-2"><span class="toc-number">170.1.1</span> method new</li></a>
<a href="#t170.1.2"><li class="toc-level toc-level-2"><span class="toc-number">170.1.2</span> method sink</li></a>
<a href="#t170.1.3"><li class="toc-level toc-level-2"><span class="toc-number">170.1.3</span> method spawn</li></a>
<a href="#t170.1.4"><li class="toc-level toc-level-2"><span class="toc-number">170.1.4</span> method shell</li></a>
<a href="#t170.1.5"><li class="toc-level toc-level-2"><span class="toc-number">170.1.5</span> method command</li></a>
<a href="#t170.1.6"><li class="toc-level toc-level-2"><span class="toc-number">170.1.6</span> method pid</li></a>
<a href="#t170.1.7"><li class="toc-level toc-level-2"><span class="toc-number">170.1.7</span> method exitcode</li></a>
<a href="#t170.1.8"><li class="toc-level toc-level-2"><span class="toc-number">170.1.8</span> method signal</li></a>
<a href="#t171"><li class="toc-level toc-level-0"><span class="toc-number">171</span> class Proc::Async</li></a>
<a href="#t171.1"><li class="toc-level toc-level-1"><span class="toc-number">171.1</span> Methods</li></a>
<a href="#t171.1.1"><li class="toc-level toc-level-2"><span class="toc-number">171.1.1</span> method new</li></a>
<a href="#t171.1.2"><li class="toc-level toc-level-2"><span class="toc-number">171.1.2</span> method stdout</li></a>
<a href="#t171.1.3"><li class="toc-level toc-level-2"><span class="toc-number">171.1.3</span> method stderr</li></a>
<a href="#t171.1.4"><li class="toc-level toc-level-2"><span class="toc-number">171.1.4</span> method bind-stdin</li></a>
<a href="#t171.1.5"><li class="toc-level toc-level-2"><span class="toc-number">171.1.5</span> method bind-stdout</li></a>
<a href="#t171.1.6"><li class="toc-level toc-level-2"><span class="toc-number">171.1.6</span> method bind-stderr</li></a>
<a href="#t171.1.7"><li class="toc-level toc-level-2"><span class="toc-number">171.1.7</span> method w</li></a>
<a href="#t171.1.8"><li class="toc-level toc-level-2"><span class="toc-number">171.1.8</span> method start</li></a>
<a href="#t171.1.9"><li class="toc-level toc-level-2"><span class="toc-number">171.1.9</span> method started</li></a>
<a href="#t171.1.10"><li class="toc-level toc-level-2"><span class="toc-number">171.1.10</span> method ready</li></a>
<a href="#t171.1.11"><li class="toc-level toc-level-2"><span class="toc-number">171.1.11</span> method path</li></a>
<a href="#t171.1.12"><li class="toc-level toc-level-2"><span class="toc-number">171.1.12</span> method args</li></a>
<a href="#t171.1.13"><li class="toc-level toc-level-2"><span class="toc-number">171.1.13</span> method write</li></a>
<a href="#t171.1.14"><li class="toc-level toc-level-2"><span class="toc-number">171.1.14</span> method print</li></a>
<a href="#t171.1.15"><li class="toc-level toc-level-2"><span class="toc-number">171.1.15</span> method say</li></a>
<a href="#t171.1.16"><li class="toc-level toc-level-2"><span class="toc-number">171.1.16</span> method Supply</li></a>
<a href="#t171.1.17"><li class="toc-level toc-level-2"><span class="toc-number">171.1.17</span> method close-stdin</li></a>
<a href="#t171.1.18"><li class="toc-level toc-level-2"><span class="toc-number">171.1.18</span> method kill</li></a>
<a href="#t172"><li class="toc-level toc-level-0"><span class="toc-number">172</span> class Promise</li></a>
<a href="#t172.1"><li class="toc-level toc-level-1"><span class="toc-number">172.1</span> Methods</li></a>
<a href="#t172.1.1"><li class="toc-level toc-level-2"><span class="toc-number">172.1.1</span> method start</li></a>
<a href="#t172.1.2"><li class="toc-level toc-level-2"><span class="toc-number">172.1.2</span> method in</li></a>
<a href="#t172.1.3"><li class="toc-level toc-level-2"><span class="toc-number">172.1.3</span> method at</li></a>
<a href="#t172.1.4"><li class="toc-level toc-level-2"><span class="toc-number">172.1.4</span> method allof</li></a>
<a href="#t172.1.5"><li class="toc-level toc-level-2"><span class="toc-number">172.1.5</span> method anyof</li></a>
<a href="#t172.1.6"><li class="toc-level toc-level-2"><span class="toc-number">172.1.6</span> method then</li></a>
<a href="#t172.1.7"><li class="toc-level toc-level-2"><span class="toc-number">172.1.7</span> method keep</li></a>
<a href="#t172.1.8"><li class="toc-level toc-level-2"><span class="toc-number">172.1.8</span> method break</li></a>
<a href="#t172.1.9"><li class="toc-level toc-level-2"><span class="toc-number">172.1.9</span> method result</li></a>
<a href="#t172.1.10"><li class="toc-level toc-level-2"><span class="toc-number">172.1.10</span> method cause</li></a>
<a href="#t172.1.11"><li class="toc-level toc-level-2"><span class="toc-number">172.1.11</span> method Bool</li></a>
<a href="#t172.1.12"><li class="toc-level toc-level-2"><span class="toc-number">172.1.12</span> method status</li></a>
<a href="#t172.1.13"><li class="toc-level toc-level-2"><span class="toc-number">172.1.13</span> method scheduler</li></a>
<a href="#t172.1.14"><li class="toc-level toc-level-2"><span class="toc-number">172.1.14</span> method vow</li></a>
<a href="#t172.1.15"><li class="toc-level toc-level-2"><span class="toc-number">172.1.15</span> method Supply</li></a>
<a href="#t172.1.16"><li class="toc-level toc-level-2"><span class="toc-number">172.1.16</span> sub await</li></a>
<a href="#t173"><li class="toc-level toc-level-0"><span class="toc-number">173</span> class Proxy</li></a>
<a href="#t173.1"><li class="toc-level toc-level-1"><span class="toc-number">173.1</span> Methods</li></a>
<a href="#t173.1.1"><li class="toc-level toc-level-2"><span class="toc-number">173.1.1</span> method new</li></a>
<a href="#t174"><li class="toc-level toc-level-0"><span class="toc-number">174</span> class PseudoStash</li></a>
<a href="#t175"><li class="toc-level toc-level-0"><span class="toc-number">175</span> role QuantHash</li></a>
<a href="#t176"><li class="toc-level toc-level-0"><span class="toc-number">176</span> class Range</li></a>
<a href="#t176.0.1"><li class="toc-level toc-level-2"><span class="toc-number">176.0.1</span> Ranges in subscripts</li></a>
<a href="#t176.0.2"><li class="toc-level toc-level-2"><span class="toc-number">176.0.2</span> Shifting and scaling intervals</li></a>
<a href="#t176.1"><li class="toc-level toc-level-1"><span class="toc-number">176.1</span> Methods</li></a>
<a href="#t176.1.1"><li class="toc-level toc-level-2"><span class="toc-number">176.1.1</span> method ACCEPTS</li></a>
<a href="#t176.1.2"><li class="toc-level toc-level-2"><span class="toc-number">176.1.2</span> method min</li></a>
<a href="#t176.1.3"><li class="toc-level toc-level-2"><span class="toc-number">176.1.3</span> method excludes-min</li></a>
<a href="#t176.1.4"><li class="toc-level toc-level-2"><span class="toc-number">176.1.4</span> method max</li></a>
<a href="#t176.1.5"><li class="toc-level toc-level-2"><span class="toc-number">176.1.5</span> method excludes-max</li></a>
<a href="#t176.1.6"><li class="toc-level toc-level-2"><span class="toc-number">176.1.6</span> method bounds</li></a>
<a href="#t176.1.7"><li class="toc-level toc-level-2"><span class="toc-number">176.1.7</span> method infinite</li></a>
<a href="#t176.1.8"><li class="toc-level toc-level-2"><span class="toc-number">176.1.8</span> method is-int</li></a>
<a href="#t176.1.9"><li class="toc-level toc-level-2"><span class="toc-number">176.1.9</span> method int-bounds</li></a>
<a href="#t176.1.10"><li class="toc-level toc-level-2"><span class="toc-number">176.1.10</span> method minmax</li></a>
<a href="#t176.1.11"><li class="toc-level toc-level-2"><span class="toc-number">176.1.11</span> method elems</li></a>
<a href="#t176.1.12"><li class="toc-level toc-level-2"><span class="toc-number">176.1.12</span> method list</li></a>
<a href="#t176.1.13"><li class="toc-level toc-level-2"><span class="toc-number">176.1.13</span> method flat</li></a>
<a href="#t176.1.14"><li class="toc-level toc-level-2"><span class="toc-number">176.1.14</span> method pick</li></a>
<a href="#t176.1.15"><li class="toc-level toc-level-2"><span class="toc-number">176.1.15</span> method roll</li></a>
<a href="#t176.1.16"><li class="toc-level toc-level-2"><span class="toc-number">176.1.16</span> method sum</li></a>
<a href="#t176.1.17"><li class="toc-level toc-level-2"><span class="toc-number">176.1.17</span> method reverse</li></a>
<a href="#t176.1.18"><li class="toc-level toc-level-2"><span class="toc-number">176.1.18</span> method Capture</li></a>
<a href="#t176.1.19"><li class="toc-level toc-level-2"><span class="toc-number">176.1.19</span> method rand</li></a>
<a href="#t177"><li class="toc-level toc-level-0"><span class="toc-number">177</span> class Rat</li></a>
<a href="#t177.1"><li class="toc-level toc-level-1"><span class="toc-number">177.1</span> Methods</li></a>
<a href="#t177.1.1"><li class="toc-level toc-level-2"><span class="toc-number">177.1.1</span> method perl</li></a>
<a href="#t178"><li class="toc-level toc-level-0"><span class="toc-number">178</span> class RatStr</li></a>
<a href="#t178.1"><li class="toc-level toc-level-1"><span class="toc-number">178.1</span> Methods</li></a>
<a href="#t178.1.1"><li class="toc-level toc-level-2"><span class="toc-number">178.1.1</span> method new</li></a>
<a href="#t178.1.2"><li class="toc-level toc-level-2"><span class="toc-number">178.1.2</span> method Bool</li></a>
<a href="#t178.1.3"><li class="toc-level toc-level-2"><span class="toc-number">178.1.3</span> method Capture</li></a>
<a href="#t178.1.4"><li class="toc-level toc-level-2"><span class="toc-number">178.1.4</span> method Numeric</li></a>
<a href="#t178.1.5"><li class="toc-level toc-level-2"><span class="toc-number">178.1.5</span> method Rat</li></a>
<a href="#t178.1.6"><li class="toc-level toc-level-2"><span class="toc-number">178.1.6</span> method Real</li></a>
<a href="#t178.1.7"><li class="toc-level toc-level-2"><span class="toc-number">178.1.7</span> method Str</li></a>
<a href="#t178.1.8"><li class="toc-level toc-level-2"><span class="toc-number">178.1.8</span> method ACCEPTS</li></a>
<a href="#t178.2"><li class="toc-level toc-level-1"><span class="toc-number">178.2</span> Operators</li></a>
<a href="#t178.2.1"><li class="toc-level toc-level-2"><span class="toc-number">178.2.1</span> infix cmp</li></a>
<a href="#t179"><li class="toc-level toc-level-0"><span class="toc-number">179</span> role Rational</li></a>
<a href="#t179.1"><li class="toc-level toc-level-1"><span class="toc-number">179.1</span> Methods</li></a>
<a href="#t179.1.1"><li class="toc-level toc-level-2"><span class="toc-number">179.1.1</span> method new</li></a>
<a href="#t179.1.2"><li class="toc-level toc-level-2"><span class="toc-number">179.1.2</span> method Bool</li></a>
<a href="#t179.1.3"><li class="toc-level toc-level-2"><span class="toc-number">179.1.3</span> method Int</li></a>
<a href="#t179.1.4"><li class="toc-level toc-level-2"><span class="toc-number">179.1.4</span> method Num</li></a>
<a href="#t179.1.5"><li class="toc-level toc-level-2"><span class="toc-number">179.1.5</span> method isNaN</li></a>
<a href="#t179.1.6"><li class="toc-level toc-level-2"><span class="toc-number">179.1.6</span> method numerator</li></a>
<a href="#t179.1.7"><li class="toc-level toc-level-2"><span class="toc-number">179.1.7</span> method denominator</li></a>
<a href="#t179.1.8"><li class="toc-level toc-level-2"><span class="toc-number">179.1.8</span> method nude</li></a>
<a href="#t179.1.9"><li class="toc-level toc-level-2"><span class="toc-number">179.1.9</span> method norm</li></a>
<a href="#t179.1.10"><li class="toc-level toc-level-2"><span class="toc-number">179.1.10</span> method base-repeating</li></a>
<a href="#t180"><li class="toc-level toc-level-0"><span class="toc-number">180</span> role Real</li></a>
<a href="#t180.1"><li class="toc-level toc-level-1"><span class="toc-number">180.1</span> Methods</li></a>
<a href="#t180.1.1"><li class="toc-level toc-level-2"><span class="toc-number">180.1.1</span> method Bridge</li></a>
<a href="#t180.1.2"><li class="toc-level toc-level-2"><span class="toc-number">180.1.2</span> method Rat</li></a>
<a href="#t180.1.3"><li class="toc-level toc-level-2"><span class="toc-number">180.1.3</span> method Real</li></a>
<a href="#t180.1.4"><li class="toc-level toc-level-2"><span class="toc-number">180.1.4</span> routine rand</li></a>
<a href="#t180.1.5"><li class="toc-level toc-level-2"><span class="toc-number">180.1.5</span> method sign</li></a>
<a href="#t180.1.6"><li class="toc-level toc-level-2"><span class="toc-number">180.1.6</span> method round</li></a>
<a href="#t180.1.7"><li class="toc-level toc-level-2"><span class="toc-number">180.1.7</span> method floor</li></a>
<a href="#t180.1.8"><li class="toc-level toc-level-2"><span class="toc-number">180.1.8</span> method ceiling</li></a>
<a href="#t180.1.9"><li class="toc-level toc-level-2"><span class="toc-number">180.1.9</span> method truncate</li></a>
<a href="#t180.1.10"><li class="toc-level toc-level-2"><span class="toc-number">180.1.10</span> method base</li></a>
<a href="#t181"><li class="toc-level toc-level-0"><span class="toc-number">181</span> class Regex</li></a>
<a href="#t181.1"><li class="toc-level toc-level-1"><span class="toc-number">181.1</span> Methods</li></a>
<a href="#t181.1.1"><li class="toc-level toc-level-2"><span class="toc-number">181.1.1</span> method ACCEPTS</li></a>
<a href="#t181.1.2"><li class="toc-level toc-level-2"><span class="toc-number">181.1.2</span> method Bool</li></a>
<a href="#t182"><li class="toc-level toc-level-0"><span class="toc-number">182</span> class Routine</li></a>
<a href="#t182.0.1"><li class="toc-level toc-level-2"><span class="toc-number">182.0.1</span> <a name="873"></a>Trait is default</li></a>
<a href="#t182.1"><li class="toc-level toc-level-1"><span class="toc-number">182.1</span> Methods</li></a>
<a href="#t182.1.1"><li class="toc-level toc-level-2"><span class="toc-number">182.1.1</span> method name</li></a>
<a href="#t182.1.2"><li class="toc-level toc-level-2"><span class="toc-number">182.1.2</span> method package</li></a>
<a href="#t182.1.3"><li class="toc-level toc-level-2"><span class="toc-number">182.1.3</span> method multi</li></a>
<a href="#t182.1.4"><li class="toc-level toc-level-2"><span class="toc-number">182.1.4</span> method candidates</li></a>
<a href="#t182.1.5"><li class="toc-level toc-level-2"><span class="toc-number">182.1.5</span> method cando</li></a>
<a href="#t182.1.6"><li class="toc-level toc-level-2"><span class="toc-number">182.1.6</span> method wrap</li></a>
<a href="#t182.1.7"><li class="toc-level toc-level-2"><span class="toc-number">182.1.7</span> method unwrap</li></a>
<a href="#t182.1.8"><li class="toc-level toc-level-2"><span class="toc-number">182.1.8</span> method yada</li></a>
<a href="#t182.1.9"><li class="toc-level toc-level-2"><span class="toc-number">182.1.9</span> trait is cached</li></a>
<a href="#t182.1.10"><li class="toc-level toc-level-2"><span class="toc-number">182.1.10</span> trait is pure</li></a>
<a href="#t182.1.11"><li class="toc-level toc-level-2"><span class="toc-number">182.1.11</span> trait is rw</li></a>
<a href="#t182.1.12"><li class="toc-level toc-level-2"><span class="toc-number">182.1.12</span> trait is export</li></a>
<a href="#t182.1.13"><li class="toc-level toc-level-2"><span class="toc-number">182.1.13</span> trait is DEPRECATED</li></a>
<a href="#t182.1.14"><li class="toc-level toc-level-2"><span class="toc-number">182.1.14</span> trait is hidden-from-backtrace</li></a>
<a href="#t183"><li class="toc-level toc-level-0"><span class="toc-number">183</span> class Scalar</li></a>
<a href="#t183.1"><li class="toc-level toc-level-1"><span class="toc-number">183.1</span> Atomic Operations on Scalar</li></a>
<a href="#t183.2"><li class="toc-level toc-level-1"><span class="toc-number">183.2</span> Routines</li></a>
<a href="#t183.2.1"><li class="toc-level toc-level-2"><span class="toc-number">183.2.1</span> atomic-assign</li></a>
<a href="#t183.2.2"><li class="toc-level toc-level-2"><span class="toc-number">183.2.2</span> atomic-fetch</li></a>
<a href="#t183.2.3"><li class="toc-level toc-level-2"><span class="toc-number">183.2.3</span> cas</li></a>
<a href="#t183.2.4"><li class="toc-level toc-level-2"><span class="toc-number">183.2.4</span> method of</li></a>
<a href="#t183.3"><li class="toc-level toc-level-1"><span class="toc-number">183.3</span> Operators</li></a>
<a href="#t183.3.1"><li class="toc-level toc-level-2"><span class="toc-number">183.3.1</span> infix ⚛=</li></a>
<a href="#t183.3.2"><li class="toc-level toc-level-2"><span class="toc-number">183.3.2</span> prefix ⚛</li></a>
<a href="#t184"><li class="toc-level toc-level-0"><span class="toc-number">184</span> role Scheduler</li></a>
<a href="#t184.1"><li class="toc-level toc-level-1"><span class="toc-number">184.1</span> Methods</li></a>
<a href="#t184.1.1"><li class="toc-level toc-level-2"><span class="toc-number">184.1.1</span> method uncaught_handler</li></a>
<a href="#t184.1.2"><li class="toc-level toc-level-2"><span class="toc-number">184.1.2</span> method cue</li></a>
<a href="#t185"><li class="toc-level toc-level-0"><span class="toc-number">185</span> class Semaphore</li></a>
<a href="#t185.1"><li class="toc-level toc-level-1"><span class="toc-number">185.1</span> Methods</li></a>
<a href="#t185.1.1"><li class="toc-level toc-level-2"><span class="toc-number">185.1.1</span> method new</li></a>
<a href="#t185.1.2"><li class="toc-level toc-level-2"><span class="toc-number">185.1.2</span> method acquire</li></a>
<a href="#t185.1.3"><li class="toc-level toc-level-2"><span class="toc-number">185.1.3</span> method try_acquire</li></a>
<a href="#t185.1.4"><li class="toc-level toc-level-2"><span class="toc-number">185.1.4</span> method release</li></a>
<a href="#t186"><li class="toc-level toc-level-0"><span class="toc-number">186</span> class Seq</li></a>
<a href="#t186.1"><li class="toc-level toc-level-1"><span class="toc-number">186.1</span> Methods</li></a>
<a href="#t186.1.1"><li class="toc-level toc-level-2"><span class="toc-number">186.1.1</span> method new</li></a>
<a href="#t186.1.2"><li class="toc-level toc-level-2"><span class="toc-number">186.1.2</span> method iterator</li></a>
<a href="#t186.1.3"><li class="toc-level toc-level-2"><span class="toc-number">186.1.3</span> method is-lazy</li></a>
<a href="#t186.1.4"><li class="toc-level toc-level-2"><span class="toc-number">186.1.4</span> method eager</li></a>
<a href="#t186.1.5"><li class="toc-level toc-level-2"><span class="toc-number">186.1.5</span> method from-loop</li></a>
<a href="#t186.1.6"><li class="toc-level toc-level-2"><span class="toc-number">186.1.6</span> method skip</li></a>
<a href="#t187"><li class="toc-level toc-level-0"><span class="toc-number">187</span> class Set</li></a>
<a href="#t187.1"><li class="toc-level toc-level-1"><span class="toc-number">187.1</span> Creating <span class="code">Set</span> objects</li></a>
<a href="#t187.2"><li class="toc-level toc-level-1"><span class="toc-number">187.2</span> Operators</li></a>
<a href="#t187.3"><li class="toc-level toc-level-1"><span class="toc-number">187.3</span> Subroutines</li></a>
<a href="#t187.3.1"><li class="toc-level toc-level-2"><span class="toc-number">187.3.1</span> sub set</li></a>
<a href="#t187.4"><li class="toc-level toc-level-1"><span class="toc-number">187.4</span> See Also</li></a>
<a href="#t188"><li class="toc-level toc-level-0"><span class="toc-number">188</span> class SetHash</li></a>
<a href="#t188.1"><li class="toc-level toc-level-1"><span class="toc-number">188.1</span> Creating <span class="code">SetHash</span> objects</li></a>
<a href="#t188.2"><li class="toc-level toc-level-1"><span class="toc-number">188.2</span> Operators</li></a>
<a href="#t188.3"><li class="toc-level toc-level-1"><span class="toc-number">188.3</span> See Also</li></a>
<a href="#t189"><li class="toc-level toc-level-0"><span class="toc-number">189</span> role Setty</li></a>
<a href="#t189.1"><li class="toc-level toc-level-1"><span class="toc-number">189.1</span> Methods</li></a>
<a href="#t189.1.1"><li class="toc-level toc-level-2"><span class="toc-number">189.1.1</span> method new-from-pairs</li></a>
<a href="#t189.1.2"><li class="toc-level toc-level-2"><span class="toc-number">189.1.2</span> method grab</li></a>
<a href="#t189.1.3"><li class="toc-level toc-level-2"><span class="toc-number">189.1.3</span> method grabpairs</li></a>
<a href="#t189.1.4"><li class="toc-level toc-level-2"><span class="toc-number">189.1.4</span> method pick</li></a>
<a href="#t189.1.5"><li class="toc-level toc-level-2"><span class="toc-number">189.1.5</span> method pickpairs</li></a>
<a href="#t189.1.6"><li class="toc-level toc-level-2"><span class="toc-number">189.1.6</span> method roll</li></a>
<a href="#t189.1.7"><li class="toc-level toc-level-2"><span class="toc-number">189.1.7</span> method keys</li></a>
<a href="#t189.1.8"><li class="toc-level toc-level-2"><span class="toc-number">189.1.8</span> method values</li></a>
<a href="#t189.1.9"><li class="toc-level toc-level-2"><span class="toc-number">189.1.9</span> method kv</li></a>
<a href="#t189.1.10"><li class="toc-level toc-level-2"><span class="toc-number">189.1.10</span> method elems</li></a>
<a href="#t189.1.11"><li class="toc-level toc-level-2"><span class="toc-number">189.1.11</span> method total</li></a>
<a href="#t189.1.12"><li class="toc-level toc-level-2"><span class="toc-number">189.1.12</span> method minpairs</li></a>
<a href="#t189.1.13"><li class="toc-level toc-level-2"><span class="toc-number">189.1.13</span> method maxpairs</li></a>
<a href="#t189.1.14"><li class="toc-level toc-level-2"><span class="toc-number">189.1.14</span> method default</li></a>
<a href="#t189.1.15"><li class="toc-level toc-level-2"><span class="toc-number">189.1.15</span> method ACCEPTS</li></a>
<a href="#t189.1.16"><li class="toc-level toc-level-2"><span class="toc-number">189.1.16</span> method Bag</li></a>
<a href="#t189.1.17"><li class="toc-level toc-level-2"><span class="toc-number">189.1.17</span> method BagHash</li></a>
<a href="#t189.1.18"><li class="toc-level toc-level-2"><span class="toc-number">189.1.18</span> method Bool</li></a>
<a href="#t189.1.19"><li class="toc-level toc-level-2"><span class="toc-number">189.1.19</span> method Mix</li></a>
<a href="#t189.1.20"><li class="toc-level toc-level-2"><span class="toc-number">189.1.20</span> method MixHash</li></a>
<a href="#t189.2"><li class="toc-level toc-level-1"><span class="toc-number">189.2</span> See Also</li></a>
<a href="#t190"><li class="toc-level toc-level-0"><span class="toc-number">190</span> class Signature</li></a>
<a href="#t190.1"><li class="toc-level toc-level-1"><span class="toc-number">190.1</span> Signature Literals</li></a>
<a href="#t190.1.1"><li class="toc-level toc-level-2"><span class="toc-number">190.1.1</span> Parameter Separators</li></a>
<a href="#t190.1.2"><li class="toc-level toc-level-2"><span class="toc-number">190.1.2</span> Type Constraints <a name="879"></a></li></a>
<a href="#t190.1.2.1"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.1</span> Constraining Optional Arguments</li></a>
<a href="#t190.1.2.2"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.2</span> Constraining Slurpy Arguments</li></a>
<a href="#t190.1.2.3"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.3</span> Constraining named Arguments</li></a>
<a href="#t190.1.2.4"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.4</span> <a name="882"></a>Constraining Defined and Undefined Values</li></a>
<a href="#t190.1.2.5"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.5</span> <a name="883"></a>Constraining signatures of Callables</li></a>
<a href="#t190.1.2.6"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.6</span> <a name="884"></a>Constraining Return Types</li></a>
<a href="#t190.1.2.7"><li class="toc-level toc-level-3"><span class="toc-number">190.1.2.7</span> <a name="885"></a>Coercion Type</li></a>
<a href="#t190.1.3"><li class="toc-level toc-level-2"><span class="toc-number">190.1.3</span> <a name="886"></a>Slurpy (A.K.A. Variadic) Parameters</li></a>
<a href="#t190.1.4"><li class="toc-level toc-level-2"><span class="toc-number">190.1.4</span> Types of Slurpy Array Parameters</li></a>
<a href="#t190.1.4.1"><li class="toc-level toc-level-3"><span class="toc-number">190.1.4.1</span> Flattened Slurpy</li></a>
<a href="#t190.1.4.2"><li class="toc-level toc-level-3"><span class="toc-number">190.1.4.2</span> <a name="888"></a>Unflattened Slurpy</li></a>
<a href="#t190.1.4.3"><li class="toc-level toc-level-3"><span class="toc-number">190.1.4.3</span> Single Argument Rule Slurpy <a name="889"></a></li></a>
<a href="#t190.1.5"><li class="toc-level toc-level-2"><span class="toc-number">190.1.5</span> Type Captures <a name="890"></a></li></a>
<a href="#t190.1.6"><li class="toc-level toc-level-2"><span class="toc-number">190.1.6</span> Positional vs. Named</li></a>
<a href="#t190.1.7"><li class="toc-level toc-level-2"><span class="toc-number">190.1.7</span> Optional and Mandatory Parameters</li></a>
<a href="#t190.1.8"><li class="toc-level toc-level-2"><span class="toc-number">190.1.8</span> Dynamic Variables</li></a>
<a href="#t190.1.9"><li class="toc-level toc-level-2"><span class="toc-number">190.1.9</span> Destructuring Parameters</li></a>
<a href="#t190.1.10"><li class="toc-level toc-level-2"><span class="toc-number">190.1.10</span> Sub-signatures</li></a>
<a href="#t190.1.11"><li class="toc-level toc-level-2"><span class="toc-number">190.1.11</span> Long Names</li></a>
<a href="#t190.1.12"><li class="toc-level toc-level-2"><span class="toc-number">190.1.12</span> <a name="896"></a>Capture Parameters</li></a>
<a href="#t190.1.13"><li class="toc-level toc-level-2"><span class="toc-number">190.1.13</span> Parameter Traits and Modifiers</li></a>
<a href="#t190.2"><li class="toc-level toc-level-1"><span class="toc-number">190.2</span> Methods</li></a>
<a href="#t190.2.1"><li class="toc-level toc-level-2"><span class="toc-number">190.2.1</span> method params</li></a>
<a href="#t190.2.2"><li class="toc-level toc-level-2"><span class="toc-number">190.2.2</span> method arity</li></a>
<a href="#t190.2.3"><li class="toc-level toc-level-2"><span class="toc-number">190.2.3</span> method count</li></a>
<a href="#t190.2.4"><li class="toc-level toc-level-2"><span class="toc-number">190.2.4</span> method returns</li></a>
<a href="#t190.2.5"><li class="toc-level toc-level-2"><span class="toc-number">190.2.5</span> method ACCEPTS</li></a>
<a href="#t190.2.6"><li class="toc-level toc-level-2"><span class="toc-number">190.2.6</span> method Capture</li></a>
<a href="#t191"><li class="toc-level toc-level-0"><span class="toc-number">191</span> class Slip</li></a>
<a href="#t191.1"><li class="toc-level toc-level-1"><span class="toc-number">191.1</span> Methods</li></a>
<a href="#t191.1.1"><li class="toc-level toc-level-2"><span class="toc-number">191.1.1</span> sub slip</li></a>
<a href="#t191.2"><li class="toc-level toc-level-1"><span class="toc-number">191.2</span> Constants</li></a>
<a href="#t191.2.1"><li class="toc-level toc-level-2"><span class="toc-number">191.2.1</span> <a name="901"></a><span class="code">Empty</span></li></a>
<a href="#t192"><li class="toc-level toc-level-0"><span class="toc-number">192</span> class Stash</li></a>
<a href="#t193"><li class="toc-level toc-level-0"><span class="toc-number">193</span> class Str</li></a>
<a href="#t193.1"><li class="toc-level toc-level-1"><span class="toc-number">193.1</span> Methods</li></a>
<a href="#t193.1.1"><li class="toc-level toc-level-2"><span class="toc-number">193.1.1</span> routine chop</li></a>
<a href="#t193.1.2"><li class="toc-level toc-level-2"><span class="toc-number">193.1.2</span> routine chomp</li></a>
<a href="#t193.1.3"><li class="toc-level toc-level-2"><span class="toc-number">193.1.3</span> routine lc</li></a>
<a href="#t193.1.4"><li class="toc-level toc-level-2"><span class="toc-number">193.1.4</span> routine uc</li></a>
<a href="#t193.1.5"><li class="toc-level toc-level-2"><span class="toc-number">193.1.5</span> routine fc</li></a>
<a href="#t193.1.6"><li class="toc-level toc-level-2"><span class="toc-number">193.1.6</span> routine tc</li></a>
<a href="#t193.1.7"><li class="toc-level toc-level-2"><span class="toc-number">193.1.7</span> routine tclc</li></a>
<a href="#t193.1.8"><li class="toc-level toc-level-2"><span class="toc-number">193.1.8</span> routine wordcase</li></a>
<a href="#t193.1.9"><li class="toc-level toc-level-2"><span class="toc-number">193.1.9</span> method unival</li></a>
<a href="#t193.1.10"><li class="toc-level toc-level-2"><span class="toc-number">193.1.10</span> method univals</li></a>
<a href="#t193.1.11"><li class="toc-level toc-level-2"><span class="toc-number">193.1.11</span> routine chars</li></a>
<a href="#t193.1.12"><li class="toc-level toc-level-2"><span class="toc-number">193.1.12</span> method encode</li></a>
<a href="#t193.1.13"><li class="toc-level toc-level-2"><span class="toc-number">193.1.13</span> routine index</li></a>
<a href="#t193.1.14"><li class="toc-level toc-level-2"><span class="toc-number">193.1.14</span> routine rindex</li></a>
<a href="#t193.1.15"><li class="toc-level toc-level-2"><span class="toc-number">193.1.15</span> method indices</li></a>
<a href="#t193.1.16"><li class="toc-level toc-level-2"><span class="toc-number">193.1.16</span> method match</li></a>
<a href="#t193.1.17"><li class="toc-level toc-level-2"><span class="toc-number">193.1.17</span> method Numeric</li></a>
<a href="#t193.1.18"><li class="toc-level toc-level-2"><span class="toc-number">193.1.18</span> method Int</li></a>
<a href="#t193.1.19"><li class="toc-level toc-level-2"><span class="toc-number">193.1.19</span> method Bool</li></a>
<a href="#t193.1.20"><li class="toc-level toc-level-2"><span class="toc-number">193.1.20</span> routine parse-base</li></a>
<a href="#t193.1.21"><li class="toc-level toc-level-2"><span class="toc-number">193.1.21</span> routine parse-names</li></a>
<a href="#t193.1.22"><li class="toc-level toc-level-2"><span class="toc-number">193.1.22</span> routine uniparse</li></a>
<a href="#t193.1.23"><li class="toc-level toc-level-2"><span class="toc-number">193.1.23</span> routine split</li></a>
<a href="#t193.1.24"><li class="toc-level toc-level-2"><span class="toc-number">193.1.24</span> routine comb</li></a>
<a href="#t193.1.25"><li class="toc-level toc-level-2"><span class="toc-number">193.1.25</span> routine lines</li></a>
<a href="#t193.1.26"><li class="toc-level toc-level-2"><span class="toc-number">193.1.26</span> routine words</li></a>
<a href="#t193.1.27"><li class="toc-level toc-level-2"><span class="toc-number">193.1.27</span> routine flip</li></a>
<a href="#t193.1.28"><li class="toc-level toc-level-2"><span class="toc-number">193.1.28</span> routine sprintf</li></a>
<a href="#t193.1.29"><li class="toc-level toc-level-2"><span class="toc-number">193.1.29</span> method starts-with</li></a>
<a href="#t193.1.30"><li class="toc-level toc-level-2"><span class="toc-number">193.1.30</span> method ends-with</li></a>
<a href="#t193.1.31"><li class="toc-level toc-level-2"><span class="toc-number">193.1.31</span> method subst</li></a>
<a href="#t193.1.31.1"><li class="toc-level toc-level-3"><span class="toc-number">193.1.31.1</span> Literal replacement substitution</li></a>
<a href="#t193.1.31.2"><li class="toc-level toc-level-3"><span class="toc-number">193.1.31.2</span> Callable</li></a>
<a href="#t193.1.31.3"><li class="toc-level toc-level-3"><span class="toc-number">193.1.31.3</span> More Examples</li></a>
<a href="#t193.1.31.4"><li class="toc-level toc-level-3"><span class="toc-number">193.1.31.4</span> Adverbs</li></a>
<a href="#t193.1.32"><li class="toc-level toc-level-2"><span class="toc-number">193.1.32</span> method subst-mutate</li></a>
<a href="#t193.1.33"><li class="toc-level toc-level-2"><span class="toc-number">193.1.33</span> routine substr</li></a>
<a href="#t193.1.34"><li class="toc-level toc-level-2"><span class="toc-number">193.1.34</span> method substr-eq</li></a>
<a href="#t193.1.35"><li class="toc-level toc-level-2"><span class="toc-number">193.1.35</span> method substr-rw</li></a>
<a href="#t193.1.36"><li class="toc-level toc-level-2"><span class="toc-number">193.1.36</span> routine samemark</li></a>
<a href="#t193.1.37"><li class="toc-level toc-level-2"><span class="toc-number">193.1.37</span> method succ</li></a>
<a href="#t193.1.38"><li class="toc-level toc-level-2"><span class="toc-number">193.1.38</span> method pred</li></a>
<a href="#t193.1.39"><li class="toc-level toc-level-2"><span class="toc-number">193.1.39</span> routine ord</li></a>
<a href="#t193.1.40"><li class="toc-level toc-level-2"><span class="toc-number">193.1.40</span> method ords</li></a>
<a href="#t193.1.41"><li class="toc-level toc-level-2"><span class="toc-number">193.1.41</span> method trans</li></a>
<a href="#t193.1.42"><li class="toc-level toc-level-2"><span class="toc-number">193.1.42</span> method indent</li></a>
<a href="#t193.1.43"><li class="toc-level toc-level-2"><span class="toc-number">193.1.43</span> method trim</li></a>
<a href="#t193.1.44"><li class="toc-level toc-level-2"><span class="toc-number">193.1.44</span> method trim-trailing</li></a>
<a href="#t193.1.45"><li class="toc-level toc-level-2"><span class="toc-number">193.1.45</span> method trim-leading</li></a>
<a href="#t193.1.46"><li class="toc-level toc-level-2"><span class="toc-number">193.1.46</span> method NFC</li></a>
<a href="#t193.1.47"><li class="toc-level toc-level-2"><span class="toc-number">193.1.47</span> method NFD</li></a>
<a href="#t193.1.48"><li class="toc-level toc-level-2"><span class="toc-number">193.1.48</span> method NFKC</li></a>
<a href="#t193.1.49"><li class="toc-level toc-level-2"><span class="toc-number">193.1.49</span> method NFKD</li></a>
<a href="#t193.1.50"><li class="toc-level toc-level-2"><span class="toc-number">193.1.50</span> method ACCEPTS</li></a>
<a href="#t193.1.51"><li class="toc-level toc-level-2"><span class="toc-number">193.1.51</span> method Capture</li></a>
<a href="#t193.1.52"><li class="toc-level toc-level-2"><span class="toc-number">193.1.52</span> routine val</li></a>
<a href="#t194"><li class="toc-level toc-level-0"><span class="toc-number">194</span> role Stringy</li></a>
<a href="#t195"><li class="toc-level toc-level-0"><span class="toc-number">195</span> class Sub</li></a>
<a href="#t195.1"><li class="toc-level toc-level-1"><span class="toc-number">195.1</span> Traits <a name="904"></a></li></a>
<a href="#t196"><li class="toc-level toc-level-0"><span class="toc-number">196</span> class Submethod</li></a>
<a href="#t196.1"><li class="toc-level toc-level-1"><span class="toc-number">196.1</span> Methods</li></a>
<a href="#t197"><li class="toc-level toc-level-0"><span class="toc-number">197</span> class Supplier</li></a>
<a href="#t197.1"><li class="toc-level toc-level-1"><span class="toc-number">197.1</span> Methods</li></a>
<a href="#t197.1.1"><li class="toc-level toc-level-2"><span class="toc-number">197.1.1</span> method new</li></a>
<a href="#t197.1.2"><li class="toc-level toc-level-2"><span class="toc-number">197.1.2</span> method Supply</li></a>
<a href="#t197.1.3"><li class="toc-level toc-level-2"><span class="toc-number">197.1.3</span> method emit</li></a>
<a href="#t197.1.4"><li class="toc-level toc-level-2"><span class="toc-number">197.1.4</span> method done</li></a>
<a href="#t197.1.5"><li class="toc-level toc-level-2"><span class="toc-number">197.1.5</span> method quit</li></a>
<a href="#t198"><li class="toc-level toc-level-0"><span class="toc-number">198</span> class Supplier::Preserving</li></a>
<a href="#t198.1"><li class="toc-level toc-level-1"><span class="toc-number">198.1</span> Methods</li></a>
<a href="#t198.1.1"><li class="toc-level toc-level-2"><span class="toc-number">198.1.1</span> method new</li></a>
<a href="#t199"><li class="toc-level toc-level-0"><span class="toc-number">199</span> class Supply</li></a>
<a href="#t199.1"><li class="toc-level toc-level-1"><span class="toc-number">199.1</span> Methods that return Taps</li></a>
<a href="#t199.1.1"><li class="toc-level toc-level-2"><span class="toc-number">199.1.1</span> method tap</li></a>
<a href="#t199.1.2"><li class="toc-level toc-level-2"><span class="toc-number">199.1.2</span> method act</li></a>
<a href="#t199.2"><li class="toc-level toc-level-1"><span class="toc-number">199.2</span> Utility methods</li></a>
<a href="#t199.2.1"><li class="toc-level toc-level-2"><span class="toc-number">199.2.1</span> method Capture</li></a>
<a href="#t199.2.2"><li class="toc-level toc-level-2"><span class="toc-number">199.2.2</span> method Channel</li></a>
<a href="#t199.2.3"><li class="toc-level toc-level-2"><span class="toc-number">199.2.3</span> method Promise</li></a>
<a href="#t199.2.4"><li class="toc-level toc-level-2"><span class="toc-number">199.2.4</span> method live</li></a>
<a href="#t199.2.5"><li class="toc-level toc-level-2"><span class="toc-number">199.2.5</span> method schedule-on</li></a>
<a href="#t199.3"><li class="toc-level toc-level-1"><span class="toc-number">199.3</span> Methods that wait until the supply is done</li></a>
<a href="#t199.3.1"><li class="toc-level toc-level-2"><span class="toc-number">199.3.1</span> method wait</li></a>
<a href="#t199.3.2"><li class="toc-level toc-level-2"><span class="toc-number">199.3.2</span> method list</li></a>
<a href="#t199.3.3"><li class="toc-level toc-level-2"><span class="toc-number">199.3.3</span> method grab</li></a>
<a href="#t199.3.4"><li class="toc-level toc-level-2"><span class="toc-number">199.3.4</span> method reverse</li></a>
<a href="#t199.3.5"><li class="toc-level toc-level-2"><span class="toc-number">199.3.5</span> method sort</li></a>
<a href="#t199.4"><li class="toc-level toc-level-1"><span class="toc-number">199.4</span> Methods that return another Supply</li></a>
<a href="#t199.4.1"><li class="toc-level toc-level-2"><span class="toc-number">199.4.1</span> method from-list</li></a>
<a href="#t199.4.2"><li class="toc-level toc-level-2"><span class="toc-number">199.4.2</span> method share</li></a>
<a href="#t199.4.3"><li class="toc-level toc-level-2"><span class="toc-number">199.4.3</span> method flat</li></a>
<a href="#t199.4.4"><li class="toc-level toc-level-2"><span class="toc-number">199.4.4</span> method do</li></a>
<a href="#t199.4.5"><li class="toc-level toc-level-2"><span class="toc-number">199.4.5</span> method on-close</li></a>
<a href="#t199.4.6"><li class="toc-level toc-level-2"><span class="toc-number">199.4.6</span> method interval</li></a>
<a href="#t199.4.7"><li class="toc-level toc-level-2"><span class="toc-number">199.4.7</span> method grep</li></a>
<a href="#t199.4.8"><li class="toc-level toc-level-2"><span class="toc-number">199.4.8</span> method map</li></a>
<a href="#t199.4.9"><li class="toc-level toc-level-2"><span class="toc-number">199.4.9</span> method batch</li></a>
<a href="#t199.4.10"><li class="toc-level toc-level-2"><span class="toc-number">199.4.10</span> method elems</li></a>
<a href="#t199.4.11"><li class="toc-level toc-level-2"><span class="toc-number">199.4.11</span> method head</li></a>
<a href="#t199.4.12"><li class="toc-level toc-level-2"><span class="toc-number">199.4.12</span> method tail</li></a>
<a href="#t199.4.13"><li class="toc-level toc-level-2"><span class="toc-number">199.4.13</span> method rotor</li></a>
<a href="#t199.4.14"><li class="toc-level toc-level-2"><span class="toc-number">199.4.14</span> method delayed</li></a>
<a href="#t199.4.15"><li class="toc-level toc-level-2"><span class="toc-number">199.4.15</span> method throttle</li></a>
<a href="#t199.4.15.1"><li class="toc-level toc-level-3"><span class="toc-number">199.4.15.1</span> control messages</li></a>
<a href="#t199.4.15.2"><li class="toc-level toc-level-3"><span class="toc-number">199.4.15.2</span> status message</li></a>
<a href="#t199.4.15.3"><li class="toc-level toc-level-3"><span class="toc-number">199.4.15.3</span> Examples</li></a>
<a href="#t199.4.16"><li class="toc-level toc-level-2"><span class="toc-number">199.4.16</span> method stable</li></a>
<a href="#t199.4.17"><li class="toc-level toc-level-2"><span class="toc-number">199.4.17</span> method reduce</li></a>
<a href="#t199.4.18"><li class="toc-level toc-level-2"><span class="toc-number">199.4.18</span> method produce</li></a>
<a href="#t199.4.19"><li class="toc-level toc-level-2"><span class="toc-number">199.4.19</span> method lines</li></a>
<a href="#t199.4.20"><li class="toc-level toc-level-2"><span class="toc-number">199.4.20</span> method words</li></a>
<a href="#t199.4.21"><li class="toc-level toc-level-2"><span class="toc-number">199.4.21</span> method unique</li></a>
<a href="#t199.4.22"><li class="toc-level toc-level-2"><span class="toc-number">199.4.22</span> method squish</li></a>
<a href="#t199.4.23"><li class="toc-level toc-level-2"><span class="toc-number">199.4.23</span> method max</li></a>
<a href="#t199.4.24"><li class="toc-level toc-level-2"><span class="toc-number">199.4.24</span> method min</li></a>
<a href="#t199.4.25"><li class="toc-level toc-level-2"><span class="toc-number">199.4.25</span> method minmax</li></a>
<a href="#t199.4.26"><li class="toc-level toc-level-2"><span class="toc-number">199.4.26</span> method skip</li></a>
<a href="#t199.4.27"><li class="toc-level toc-level-2"><span class="toc-number">199.4.27</span> method start</li></a>
<a href="#t199.4.28"><li class="toc-level toc-level-2"><span class="toc-number">199.4.28</span> method migrate</li></a>
<a href="#t199.5"><li class="toc-level toc-level-1"><span class="toc-number">199.5</span> Methods that combine supplies</li></a>
<a href="#t199.5.1"><li class="toc-level toc-level-2"><span class="toc-number">199.5.1</span> method merge</li></a>
<a href="#t199.5.2"><li class="toc-level toc-level-2"><span class="toc-number">199.5.2</span> method zip</li></a>
<a href="#t199.5.3"><li class="toc-level toc-level-2"><span class="toc-number">199.5.3</span> method zip-latest</li></a>
<a href="#t199.6"><li class="toc-level toc-level-1"><span class="toc-number">199.6</span> I/O features exposed as supplies</li></a>
<a href="#t199.6.1"><li class="toc-level toc-level-2"><span class="toc-number">199.6.1</span> sub signal</li></a>
<a href="#t199.6.2"><li class="toc-level toc-level-2"><span class="toc-number">199.6.2</span> method IO::Notification.watch-path</li></a>
<a href="#t200"><li class="toc-level toc-level-0"><span class="toc-number">200</span> class Tap</li></a>
<a href="#t200.1"><li class="toc-level toc-level-1"><span class="toc-number">200.1</span> Methods</li></a>
<a href="#t200.1.1"><li class="toc-level toc-level-2"><span class="toc-number">200.1.1</span> method close</li></a>
<a href="#t201"><li class="toc-level toc-level-0"><span class="toc-number">201</span> class Telemetry</li></a>
<a href="#t201.0.1"><li class="toc-level toc-level-2"><span class="toc-number">201.0.1</span> routine T</li></a>
<a href="#t201.0.2"><li class="toc-level toc-level-2"><span class="toc-number">201.0.2</span> routine snap</li></a>
<a href="#t201.0.3"><li class="toc-level toc-level-2"><span class="toc-number">201.0.3</span> routine snapper</li></a>
<a href="#t201.0.4"><li class="toc-level toc-level-2"><span class="toc-number">201.0.4</span> routine periods</li></a>
<a href="#t201.0.5"><li class="toc-level toc-level-2"><span class="toc-number">201.0.5</span> routine report</li></a>
<a href="#t201.0.6"><li class="toc-level toc-level-2"><span class="toc-number">201.0.6</span> module snapper</li></a>
<a href="#t202"><li class="toc-level toc-level-0"><span class="toc-number">202</span> class Telemetry::Instrument::Thread</li></a>
<a href="#t203"><li class="toc-level toc-level-0"><span class="toc-number">203</span> class Telemetry::Instrument::Usage</li></a>
<a href="#t203.0.1"><li class="toc-level toc-level-2"><span class="toc-number">203.0.1</span> Useful readings</li></a>
<a href="#t204"><li class="toc-level toc-level-0"><span class="toc-number">204</span> class Telemetry::Period</li></a>
<a href="#t205"><li class="toc-level toc-level-0"><span class="toc-number">205</span> class Telemetry::Sampler</li></a>
<a href="#t205.0.1"><li class="toc-level toc-level-2"><span class="toc-number">205.0.1</span> method new</li></a>
<a href="#t205.0.2"><li class="toc-level toc-level-2"><span class="toc-number">205.0.2</span> method set-instruments</li></a>
<a href="#t206"><li class="toc-level toc-level-0"><span class="toc-number">206</span> class Thread</li></a>
<a href="#t206.1"><li class="toc-level toc-level-1"><span class="toc-number">206.1</span> Methods</li></a>
<a href="#t206.1.1"><li class="toc-level toc-level-2"><span class="toc-number">206.1.1</span> method new</li></a>
<a href="#t206.1.2"><li class="toc-level toc-level-2"><span class="toc-number">206.1.2</span> method start</li></a>
<a href="#t206.1.3"><li class="toc-level toc-level-2"><span class="toc-number">206.1.3</span> method run</li></a>
<a href="#t206.1.4"><li class="toc-level toc-level-2"><span class="toc-number">206.1.4</span> method id</li></a>
<a href="#t206.1.5"><li class="toc-level toc-level-2"><span class="toc-number">206.1.5</span> method finish</li></a>
<a href="#t206.1.6"><li class="toc-level toc-level-2"><span class="toc-number">206.1.6</span> method join</li></a>
<a href="#t206.1.7"><li class="toc-level toc-level-2"><span class="toc-number">206.1.7</span> method yield</li></a>
<a href="#t206.1.8"><li class="toc-level toc-level-2"><span class="toc-number">206.1.8</span> method app_lifetime</li></a>
<a href="#t206.1.9"><li class="toc-level toc-level-2"><span class="toc-number">206.1.9</span> method name</li></a>
<a href="#t206.1.10"><li class="toc-level toc-level-2"><span class="toc-number">206.1.10</span> method Numeric</li></a>
<a href="#t206.1.11"><li class="toc-level toc-level-2"><span class="toc-number">206.1.11</span> method Str</li></a>
<a href="#t206.1.12"><li class="toc-level toc-level-2"><span class="toc-number">206.1.12</span> method is-initial-thread</li></a>
<a href="#t206.2"><li class="toc-level toc-level-1"><span class="toc-number">206.2</span> Routines</li></a>
<a href="#t206.2.1"><li class="toc-level toc-level-2"><span class="toc-number">206.2.1</span> sub full-barrier</li></a>
<a href="#t207"><li class="toc-level toc-level-0"><span class="toc-number">207</span> class ThreadPoolScheduler</li></a>
<a href="#t207.1"><li class="toc-level toc-level-1"><span class="toc-number">207.1</span> Methods</li></a>
<a href="#t207.1.1"><li class="toc-level toc-level-2"><span class="toc-number">207.1.1</span> new</li></a>
<a href="#t208"><li class="toc-level toc-level-0"><span class="toc-number">208</span> subset UInt</li></a>
<a href="#t209"><li class="toc-level toc-level-0"><span class="toc-number">209</span> class Uni</li></a>
<a href="#t209.1"><li class="toc-level toc-level-1"><span class="toc-number">209.1</span> Methods</li></a>
<a href="#t209.1.1"><li class="toc-level toc-level-2"><span class="toc-number">209.1.1</span> method new</li></a>
<a href="#t209.1.2"><li class="toc-level toc-level-2"><span class="toc-number">209.1.2</span> method NFC</li></a>
<a href="#t209.1.3"><li class="toc-level toc-level-2"><span class="toc-number">209.1.3</span> method NFD</li></a>
<a href="#t209.1.4"><li class="toc-level toc-level-2"><span class="toc-number">209.1.4</span> method NFKC</li></a>
<a href="#t209.1.5"><li class="toc-level toc-level-2"><span class="toc-number">209.1.5</span> method NFKD</li></a>
<a href="#t209.1.6"><li class="toc-level toc-level-2"><span class="toc-number">209.1.6</span> method codes</li></a>
<a href="#t209.1.7"><li class="toc-level toc-level-2"><span class="toc-number">209.1.7</span> method elems</li></a>
<a href="#t210"><li class="toc-level toc-level-0"><span class="toc-number">210</span> class VM</li></a>
<a href="#t210.1"><li class="toc-level toc-level-1"><span class="toc-number">210.1</span> Methods</li></a>
<a href="#t210.1.1"><li class="toc-level toc-level-2"><span class="toc-number">210.1.1</span> method auth</li></a>
<a href="#t210.1.2"><li class="toc-level toc-level-2"><span class="toc-number">210.1.2</span> method config</li></a>
<a href="#t210.1.3"><li class="toc-level toc-level-2"><span class="toc-number">210.1.3</span> method desc</li></a>
<a href="#t210.1.4"><li class="toc-level toc-level-2"><span class="toc-number">210.1.4</span> method name</li></a>
<a href="#t210.1.5"><li class="toc-level toc-level-2"><span class="toc-number">210.1.5</span> method osname</li></a>
<a href="#t210.1.6"><li class="toc-level toc-level-2"><span class="toc-number">210.1.6</span> method precomp-ext</li></a>
<a href="#t210.1.7"><li class="toc-level toc-level-2"><span class="toc-number">210.1.7</span> method precomp-target</li></a>
<a href="#t210.1.8"><li class="toc-level toc-level-2"><span class="toc-number">210.1.8</span> method prefix</li></a>
<a href="#t210.1.9"><li class="toc-level toc-level-2"><span class="toc-number">210.1.9</span> method signature</li></a>
<a href="#t210.1.10"><li class="toc-level toc-level-2"><span class="toc-number">210.1.10</span> method version</li></a>
<a href="#t211"><li class="toc-level toc-level-0"><span class="toc-number">211</span> class Variable</li></a>
<a href="#t211.1"><li class="toc-level toc-level-1"><span class="toc-number">211.1</span> Routines</li></a>
<a href="#t211.1.1"><li class="toc-level toc-level-2"><span class="toc-number">211.1.1</span> method name</li></a>
<a href="#t211.1.2"><li class="toc-level toc-level-2"><span class="toc-number">211.1.2</span> <a name="906"></a>trait is default</li></a>
<a href="#t211.1.3"><li class="toc-level toc-level-2"><span class="toc-number">211.1.3</span> trait is dynamic</li></a>
<a href="#t211.1.4"><li class="toc-level toc-level-2"><span class="toc-number">211.1.4</span> trait of</li></a>
<a href="#t212"><li class="toc-level toc-level-0"><span class="toc-number">212</span> class Version</li></a>
<a href="#t212.1"><li class="toc-level toc-level-1"><span class="toc-number">212.1</span> Methods</li></a>
<a href="#t212.1.1"><li class="toc-level toc-level-2"><span class="toc-number">212.1.1</span> method new</li></a>
<a href="#t212.1.2"><li class="toc-level toc-level-2"><span class="toc-number">212.1.2</span> method parts</li></a>
<a href="#t212.1.3"><li class="toc-level toc-level-2"><span class="toc-number">212.1.3</span> method plus</li></a>
<a href="#t212.1.4"><li class="toc-level toc-level-2"><span class="toc-number">212.1.4</span> method Str</li></a>
<a href="#t212.1.5"><li class="toc-level toc-level-2"><span class="toc-number">212.1.5</span> method gist</li></a>
<a href="#t212.1.6"><li class="toc-level toc-level-2"><span class="toc-number">212.1.6</span> method Capture</li></a>
<a href="#t213"><li class="toc-level toc-level-0"><span class="toc-number">213</span> class Whatever</li></a>
<a href="#t213.1"><li class="toc-level toc-level-1"><span class="toc-number">213.1</span> Methods</li></a>
<a href="#t213.1.1"><li class="toc-level toc-level-2"><span class="toc-number">213.1.1</span> method ACCEPTS</li></a>
<a href="#t213.1.2"><li class="toc-level toc-level-2"><span class="toc-number">213.1.2</span> method Capture</li></a>
<a href="#t214"><li class="toc-level toc-level-0"><span class="toc-number">214</span> class WhateverCode</li></a>
<a href="#t215"><li class="toc-level toc-level-0"><span class="toc-number">215</span> class WrapHandle</li></a>
<a href="#t215.1"><li class="toc-level toc-level-1"><span class="toc-number">215.1</span> Methods</li></a>
<a href="#t215.1.1"><li class="toc-level toc-level-2"><span class="toc-number">215.1.1</span> method restore</li></a>
<a href="#t216"><li class="toc-level toc-level-0"><span class="toc-number">216</span> class X::AdHoc</li></a>
<a href="#t216.1"><li class="toc-level toc-level-1"><span class="toc-number">216.1</span> Methods</li></a>
<a href="#t216.1.1"><li class="toc-level toc-level-2"><span class="toc-number">216.1.1</span> method payload</li></a>
<a href="#t217"><li class="toc-level toc-level-0"><span class="toc-number">217</span> class X::Anon::Augment</li></a>
<a href="#t217.1"><li class="toc-level toc-level-1"><span class="toc-number">217.1</span> Methods</li></a>
<a href="#t217.1.1"><li class="toc-level toc-level-2"><span class="toc-number">217.1.1</span> method package-kind</li></a>
<a href="#t218"><li class="toc-level toc-level-0"><span class="toc-number">218</span> class X::Anon::Multi</li></a>
<a href="#t218.1"><li class="toc-level toc-level-1"><span class="toc-number">218.1</span> Methods</li></a>
<a href="#t218.1.1"><li class="toc-level toc-level-2"><span class="toc-number">218.1.1</span> method multiness</li></a>
<a href="#t218.1.2"><li class="toc-level toc-level-2"><span class="toc-number">218.1.2</span> method routine-type</li></a>
<a href="#t219"><li class="toc-level toc-level-0"><span class="toc-number">219</span> class X::Assignment::RO</li></a>
<a href="#t219.1"><li class="toc-level toc-level-1"><span class="toc-number">219.1</span> Methods</li></a>
<a href="#t219.1.1"><li class="toc-level toc-level-2"><span class="toc-number">219.1.1</span> method typename</li></a>
<a href="#t220"><li class="toc-level toc-level-0"><span class="toc-number">220</span> class X::Attribute::NoPackage</li></a>
<a href="#t220.1"><li class="toc-level toc-level-1"><span class="toc-number">220.1</span> Methods</li></a>
<a href="#t220.1.1"><li class="toc-level toc-level-2"><span class="toc-number">220.1.1</span> method name</li></a>
<a href="#t221"><li class="toc-level toc-level-0"><span class="toc-number">221</span> class X::Attribute::Package</li></a>
<a href="#t221.1"><li class="toc-level toc-level-1"><span class="toc-number">221.1</span> Methods</li></a>
<a href="#t221.1.1"><li class="toc-level toc-level-2"><span class="toc-number">221.1.1</span> method name</li></a>
<a href="#t221.1.2"><li class="toc-level toc-level-2"><span class="toc-number">221.1.2</span> method package-kind</li></a>
<a href="#t222"><li class="toc-level toc-level-0"><span class="toc-number">222</span> class X::Attribute::Undeclared</li></a>
<a href="#t222.1"><li class="toc-level toc-level-1"><span class="toc-number">222.1</span> Methods</li></a>
<a href="#t222.1.1"><li class="toc-level toc-level-2"><span class="toc-number">222.1.1</span> method package-kind</li></a>
<a href="#t222.1.2"><li class="toc-level toc-level-2"><span class="toc-number">222.1.2</span> method package-name</li></a>
<a href="#t223"><li class="toc-level toc-level-0"><span class="toc-number">223</span> class X::Augment::NoSuchType</li></a>
<a href="#t223.1"><li class="toc-level toc-level-1"><span class="toc-number">223.1</span> Methods</li></a>
<a href="#t223.1.1"><li class="toc-level toc-level-2"><span class="toc-number">223.1.1</span> method package-kind</li></a>
<a href="#t223.1.2"><li class="toc-level toc-level-2"><span class="toc-number">223.1.2</span> method package</li></a>
<a href="#t224"><li class="toc-level toc-level-0"><span class="toc-number">224</span> class X::Bind</li></a>
<a href="#t225"><li class="toc-level toc-level-0"><span class="toc-number">225</span> class X::Bind::NativeType</li></a>
<a href="#t225.1"><li class="toc-level toc-level-1"><span class="toc-number">225.1</span> Methods</li></a>
<a href="#t225.1.1"><li class="toc-level toc-level-2"><span class="toc-number">225.1.1</span> method name</li></a>
<a href="#t226"><li class="toc-level toc-level-0"><span class="toc-number">226</span> class X::Bind::Slice</li></a>
<a href="#t226.1"><li class="toc-level toc-level-1"><span class="toc-number">226.1</span> Methods</li></a>
<a href="#t226.1.1"><li class="toc-level toc-level-2"><span class="toc-number">226.1.1</span> method type</li></a>
<a href="#t227"><li class="toc-level toc-level-0"><span class="toc-number">227</span> class X::Caller::NotDynamic</li></a>
<a href="#t227.1"><li class="toc-level toc-level-1"><span class="toc-number">227.1</span> Methods</li></a>
<a href="#t227.1.1"><li class="toc-level toc-level-2"><span class="toc-number">227.1.1</span> method symbol</li></a>
<a href="#t228"><li class="toc-level toc-level-0"><span class="toc-number">228</span> class X::Channel::ReceiveOnClosed</li></a>
<a href="#t228.1"><li class="toc-level toc-level-1"><span class="toc-number">228.1</span> Methods</li></a>
<a href="#t228.1.1"><li class="toc-level toc-level-2"><span class="toc-number">228.1.1</span> method channel</li></a>
<a href="#t229"><li class="toc-level toc-level-0"><span class="toc-number">229</span> class X::Channel::SendOnClosed</li></a>
<a href="#t229.1"><li class="toc-level toc-level-1"><span class="toc-number">229.1</span> Methods</li></a>
<a href="#t229.1.1"><li class="toc-level toc-level-2"><span class="toc-number">229.1.1</span> method channel</li></a>
<a href="#t230"><li class="toc-level toc-level-0"><span class="toc-number">230</span> role X::Comp</li></a>
<a href="#t230.1"><li class="toc-level toc-level-1"><span class="toc-number">230.1</span> Methods</li></a>
<a href="#t230.1.1"><li class="toc-level toc-level-2"><span class="toc-number">230.1.1</span> method filename</li></a>
<a href="#t230.1.2"><li class="toc-level toc-level-2"><span class="toc-number">230.1.2</span> method line</li></a>
<a href="#t230.1.3"><li class="toc-level toc-level-2"><span class="toc-number">230.1.3</span> method column</li></a>
<a href="#t231"><li class="toc-level toc-level-0"><span class="toc-number">231</span> class X::Composition::NotComposable</li></a>
<a href="#t231.1"><li class="toc-level toc-level-1"><span class="toc-number">231.1</span> Methods</li></a>
<a href="#t231.1.1"><li class="toc-level toc-level-2"><span class="toc-number">231.1.1</span> method target-name</li></a>
<a href="#t231.1.2"><li class="toc-level toc-level-2"><span class="toc-number">231.1.2</span> method composer</li></a>
<a href="#t232"><li class="toc-level toc-level-0"><span class="toc-number">232</span> class X::Constructor::Positional</li></a>
<a href="#t233"><li class="toc-level toc-level-0"><span class="toc-number">233</span> class X::ControlFlow</li></a>
<a href="#t233.1"><li class="toc-level toc-level-1"><span class="toc-number">233.1</span> Methods</li></a>
<a href="#t233.1.1"><li class="toc-level toc-level-2"><span class="toc-number">233.1.1</span> method illegal</li></a>
<a href="#t233.1.2"><li class="toc-level toc-level-2"><span class="toc-number">233.1.2</span> method enclosing</li></a>
<a href="#t234"><li class="toc-level toc-level-0"><span class="toc-number">234</span> class X::ControlFlow::Return</li></a>
<a href="#t235"><li class="toc-level toc-level-0"><span class="toc-number">235</span> class X::DateTime::TimezoneClash</li></a>
<a href="#t235.1"><li class="toc-level toc-level-1"><span class="toc-number">235.1</span> Methods</li></a>
<a href="#t235.1.1"><li class="toc-level toc-level-2"><span class="toc-number">235.1.1</span> message</li></a>
<a href="#t236"><li class="toc-level toc-level-0"><span class="toc-number">236</span> class X::Declaration::Scope</li></a>
<a href="#t236.1"><li class="toc-level toc-level-1"><span class="toc-number">236.1</span> Methods</li></a>
<a href="#t236.1.1"><li class="toc-level toc-level-2"><span class="toc-number">236.1.1</span> method scope</li></a>
<a href="#t236.1.2"><li class="toc-level toc-level-2"><span class="toc-number">236.1.2</span> method declaration</li></a>
<a href="#t237"><li class="toc-level toc-level-0"><span class="toc-number">237</span> class X::Declaration::Scope::Multi</li></a>
<a href="#t238"><li class="toc-level toc-level-0"><span class="toc-number">238</span> class X::Does::TypeObject</li></a>
<a href="#t238.1"><li class="toc-level toc-level-1"><span class="toc-number">238.1</span> Methods</li></a>
<a href="#t238.1.1"><li class="toc-level toc-level-2"><span class="toc-number">238.1.1</span> method type</li></a>
<a href="#t239"><li class="toc-level toc-level-0"><span class="toc-number">239</span> class X::Eval::NoSuchLang</li></a>
<a href="#t239.1"><li class="toc-level toc-level-1"><span class="toc-number">239.1</span> Methods</li></a>
<a href="#t239.1.1"><li class="toc-level toc-level-2"><span class="toc-number">239.1.1</span> method lang</li></a>
<a href="#t240"><li class="toc-level toc-level-0"><span class="toc-number">240</span> class X::Export::NameClash</li></a>
<a href="#t240.1"><li class="toc-level toc-level-1"><span class="toc-number">240.1</span> Methods</li></a>
<a href="#t240.1.1"><li class="toc-level toc-level-2"><span class="toc-number">240.1.1</span> method symbol</li></a>
<a href="#t241"><li class="toc-level toc-level-0"><span class="toc-number">241</span> role X::IO</li></a>
<a href="#t242"><li class="toc-level toc-level-0"><span class="toc-number">242</span> class X::IO::Chdir</li></a>
<a href="#t242.1"><li class="toc-level toc-level-1"><span class="toc-number">242.1</span> Methods</li></a>
<a href="#t242.1.1"><li class="toc-level toc-level-2"><span class="toc-number">242.1.1</span> method path</li></a>
<a href="#t243"><li class="toc-level toc-level-0"><span class="toc-number">243</span> class X::IO::Chmod</li></a>
<a href="#t244"><li class="toc-level toc-level-0"><span class="toc-number">244</span> class X::IO::Copy</li></a>
<a href="#t244.1"><li class="toc-level toc-level-1"><span class="toc-number">244.1</span> Methods</li></a>
<a href="#t244.1.1"><li class="toc-level toc-level-2"><span class="toc-number">244.1.1</span> method from</li></a>
<a href="#t244.1.2"><li class="toc-level toc-level-2"><span class="toc-number">244.1.2</span> method to</li></a>
<a href="#t245"><li class="toc-level toc-level-0"><span class="toc-number">245</span> class X::IO::Cwd</li></a>
<a href="#t246"><li class="toc-level toc-level-0"><span class="toc-number">246</span> class X::IO::Dir</li></a>
<a href="#t246.1"><li class="toc-level toc-level-1"><span class="toc-number">246.1</span> Methods</li></a>
<a href="#t246.1.1"><li class="toc-level toc-level-2"><span class="toc-number">246.1.1</span> method path</li></a>
<a href="#t247"><li class="toc-level toc-level-0"><span class="toc-number">247</span> class X::IO::DoesNotExist</li></a>
<a href="#t247.1"><li class="toc-level toc-level-1"><span class="toc-number">247.1</span> Methods</li></a>
<a href="#t247.1.1"><li class="toc-level toc-level-2"><span class="toc-number">247.1.1</span> method path</li></a>
<a href="#t247.1.2"><li class="toc-level toc-level-2"><span class="toc-number">247.1.2</span> method trying</li></a>
<a href="#t248"><li class="toc-level toc-level-0"><span class="toc-number">248</span> class X::IO::Link</li></a>
<a href="#t248.1"><li class="toc-level toc-level-1"><span class="toc-number">248.1</span> Methods</li></a>
<a href="#t248.1.1"><li class="toc-level toc-level-2"><span class="toc-number">248.1.1</span> method target</li></a>
<a href="#t248.1.2"><li class="toc-level toc-level-2"><span class="toc-number">248.1.2</span> method name</li></a>
<a href="#t249"><li class="toc-level toc-level-0"><span class="toc-number">249</span> class X::IO::Mkdir</li></a>
<a href="#t249.1"><li class="toc-level toc-level-1"><span class="toc-number">249.1</span> Methods</li></a>
<a href="#t249.1.1"><li class="toc-level toc-level-2"><span class="toc-number">249.1.1</span> method path</li></a>
<a href="#t249.1.2"><li class="toc-level toc-level-2"><span class="toc-number">249.1.2</span> method mode</li></a>
<a href="#t250"><li class="toc-level toc-level-0"><span class="toc-number">250</span> class X::IO::Move</li></a>
<a href="#t250.1"><li class="toc-level toc-level-1"><span class="toc-number">250.1</span> Methods</li></a>
<a href="#t250.1.1"><li class="toc-level toc-level-2"><span class="toc-number">250.1.1</span> method from</li></a>
<a href="#t250.1.2"><li class="toc-level toc-level-2"><span class="toc-number">250.1.2</span> method to</li></a>
<a href="#t251"><li class="toc-level toc-level-0"><span class="toc-number">251</span> class X::IO::Rename</li></a>
<a href="#t251.1"><li class="toc-level toc-level-1"><span class="toc-number">251.1</span> Methods</li></a>
<a href="#t251.1.1"><li class="toc-level toc-level-2"><span class="toc-number">251.1.1</span> method from</li></a>
<a href="#t251.1.2"><li class="toc-level toc-level-2"><span class="toc-number">251.1.2</span> method to</li></a>
<a href="#t252"><li class="toc-level toc-level-0"><span class="toc-number">252</span> class X::IO::Rmdir</li></a>
<a href="#t252.1"><li class="toc-level toc-level-1"><span class="toc-number">252.1</span> Methods</li></a>
<a href="#t252.1.1"><li class="toc-level toc-level-2"><span class="toc-number">252.1.1</span> method path</li></a>
<a href="#t253"><li class="toc-level toc-level-0"><span class="toc-number">253</span> class X::IO::Symlink</li></a>
<a href="#t253.1"><li class="toc-level toc-level-1"><span class="toc-number">253.1</span> Methods</li></a>
<a href="#t253.1.1"><li class="toc-level toc-level-2"><span class="toc-number">253.1.1</span> method name</li></a>
<a href="#t253.1.2"><li class="toc-level toc-level-2"><span class="toc-number">253.1.2</span> method target</li></a>
<a href="#t254"><li class="toc-level toc-level-0"><span class="toc-number">254</span> class X::IO::Unlink</li></a>
<a href="#t254.1"><li class="toc-level toc-level-1"><span class="toc-number">254.1</span> Methods</li></a>
<a href="#t254.1.1"><li class="toc-level toc-level-2"><span class="toc-number">254.1.1</span> method path</li></a>
<a href="#t255"><li class="toc-level toc-level-0"><span class="toc-number">255</span> class X::Inheritance::NotComposed</li></a>
<a href="#t255.1"><li class="toc-level toc-level-1"><span class="toc-number">255.1</span> Methods</li></a>
<a href="#t255.1.1"><li class="toc-level toc-level-2"><span class="toc-number">255.1.1</span> method child-name</li></a>
<a href="#t255.1.2"><li class="toc-level toc-level-2"><span class="toc-number">255.1.2</span> method parent-name</li></a>
<a href="#t256"><li class="toc-level toc-level-0"><span class="toc-number">256</span> class X::Inheritance::Unsupported</li></a>
<a href="#t256.1"><li class="toc-level toc-level-1"><span class="toc-number">256.1</span> Methods</li></a>
<a href="#t256.1.1"><li class="toc-level toc-level-2"><span class="toc-number">256.1.1</span> method child-typename</li></a>
<a href="#t256.1.2"><li class="toc-level toc-level-2"><span class="toc-number">256.1.2</span> method parent</li></a>
<a href="#t257"><li class="toc-level toc-level-0"><span class="toc-number">257</span> class X::Method::InvalidQualifier</li></a>
<a href="#t257.1"><li class="toc-level toc-level-1"><span class="toc-number">257.1</span> Methods</li></a>
<a href="#t257.1.1"><li class="toc-level toc-level-2"><span class="toc-number">257.1.1</span> method method</li></a>
<a href="#t257.1.2"><li class="toc-level toc-level-2"><span class="toc-number">257.1.2</span> method invocant</li></a>
<a href="#t257.1.3"><li class="toc-level toc-level-2"><span class="toc-number">257.1.3</span> method qualifier-type</li></a>
<a href="#t258"><li class="toc-level toc-level-0"><span class="toc-number">258</span> X::Method::NotFound</li></a>
<a href="#t258.1"><li class="toc-level toc-level-1"><span class="toc-number">258.1</span> Methods</li></a>
<a href="#t258.1.1"><li class="toc-level toc-level-2"><span class="toc-number">258.1.1</span> method method</li></a>
<a href="#t258.1.2"><li class="toc-level toc-level-2"><span class="toc-number">258.1.2</span> method typename</li></a>
<a href="#t258.1.3"><li class="toc-level toc-level-2"><span class="toc-number">258.1.3</span> method private</li></a>
<a href="#t259"><li class="toc-level toc-level-0"><span class="toc-number">259</span> class X::Method::Private::Permission</li></a>
<a href="#t259.1"><li class="toc-level toc-level-1"><span class="toc-number">259.1</span> Methods</li></a>
<a href="#t259.1.1"><li class="toc-level toc-level-2"><span class="toc-number">259.1.1</span> method method</li></a>
<a href="#t259.1.2"><li class="toc-level toc-level-2"><span class="toc-number">259.1.2</span> method source-package</li></a>
<a href="#t259.1.3"><li class="toc-level toc-level-2"><span class="toc-number">259.1.3</span> method calling-package</li></a>
<a href="#t260"><li class="toc-level toc-level-0"><span class="toc-number">260</span> class X::Method::Private::Unqualified</li></a>
<a href="#t260.1"><li class="toc-level toc-level-1"><span class="toc-number">260.1</span> Methods</li></a>
<a href="#t260.1.1"><li class="toc-level toc-level-2"><span class="toc-number">260.1.1</span> method method</li></a>
<a href="#t261"><li class="toc-level toc-level-0"><span class="toc-number">261</span> class X::Mixin::NotComposable</li></a>
<a href="#t261.1"><li class="toc-level toc-level-1"><span class="toc-number">261.1</span> Methods</li></a>
<a href="#t261.1.1"><li class="toc-level toc-level-2"><span class="toc-number">261.1.1</span> method target</li></a>
<a href="#t261.1.2"><li class="toc-level toc-level-2"><span class="toc-number">261.1.2</span> method rolish</li></a>
<a href="#t262"><li class="toc-level toc-level-0"><span class="toc-number">262</span> class X::NYI</li></a>
<a href="#t262.1"><li class="toc-level toc-level-1"><span class="toc-number">262.1</span> Methods</li></a>
<a href="#t262.1.1"><li class="toc-level toc-level-2"><span class="toc-number">262.1.1</span> method features</li></a>
<a href="#t263"><li class="toc-level toc-level-0"><span class="toc-number">263</span> class X::NoDispatcher</li></a>
<a href="#t263.1"><li class="toc-level toc-level-1"><span class="toc-number">263.1</span> Methods</li></a>
<a href="#t263.1.1"><li class="toc-level toc-level-2"><span class="toc-number">263.1.1</span> method redispatcher</li></a>
<a href="#t264"><li class="toc-level toc-level-0"><span class="toc-number">264</span> class X::Numeric::Real</li></a>
<a href="#t264.1"><li class="toc-level toc-level-1"><span class="toc-number">264.1</span> Methods</li></a>
<a href="#t264.1.1"><li class="toc-level toc-level-2"><span class="toc-number">264.1.1</span> method source</li></a>
<a href="#t264.1.2"><li class="toc-level toc-level-2"><span class="toc-number">264.1.2</span> method target</li></a>
<a href="#t264.1.3"><li class="toc-level toc-level-2"><span class="toc-number">264.1.3</span> method reason</li></a>
<a href="#t265"><li class="toc-level toc-level-0"><span class="toc-number">265</span> role X::OS</li></a>
<a href="#t265.1"><li class="toc-level toc-level-1"><span class="toc-number">265.1</span> Methods</li></a>
<a href="#t265.1.1"><li class="toc-level toc-level-2"><span class="toc-number">265.1.1</span> method os-error</li></a>
<a href="#t266"><li class="toc-level toc-level-0"><span class="toc-number">266</span> class X::Obsolete</li></a>
<a href="#t266.1"><li class="toc-level toc-level-1"><span class="toc-number">266.1</span> Methods</li></a>
<a href="#t266.1.1"><li class="toc-level toc-level-2"><span class="toc-number">266.1.1</span> method old</li></a>
<a href="#t266.1.2"><li class="toc-level toc-level-2"><span class="toc-number">266.1.2</span> method replacement</li></a>
<a href="#t266.1.3"><li class="toc-level toc-level-2"><span class="toc-number">266.1.3</span> method when</li></a>
<a href="#t267"><li class="toc-level toc-level-0"><span class="toc-number">267</span> class X::OutOfRange</li></a>
<a href="#t267.1"><li class="toc-level toc-level-1"><span class="toc-number">267.1</span> Methods</li></a>
<a href="#t267.1.1"><li class="toc-level toc-level-2"><span class="toc-number">267.1.1</span> method what</li></a>
<a href="#t267.1.2"><li class="toc-level toc-level-2"><span class="toc-number">267.1.2</span> method got</li></a>
<a href="#t267.1.3"><li class="toc-level toc-level-2"><span class="toc-number">267.1.3</span> method range</li></a>
<a href="#t267.1.4"><li class="toc-level toc-level-2"><span class="toc-number">267.1.4</span> method comment</li></a>
<a href="#t268"><li class="toc-level toc-level-0"><span class="toc-number">268</span> class X::Package::Stubbed</li></a>
<a href="#t268.1"><li class="toc-level toc-level-1"><span class="toc-number">268.1</span> Methods</li></a>
<a href="#t268.1.1"><li class="toc-level toc-level-2"><span class="toc-number">268.1.1</span> method packages</li></a>
<a href="#t269"><li class="toc-level toc-level-0"><span class="toc-number">269</span> class X::Parameter::Default</li></a>
<a href="#t269.1"><li class="toc-level toc-level-1"><span class="toc-number">269.1</span> Methods</li></a>
<a href="#t269.1.1"><li class="toc-level toc-level-2"><span class="toc-number">269.1.1</span> method how</li></a>
<a href="#t269.1.2"><li class="toc-level toc-level-2"><span class="toc-number">269.1.2</span> method parameter</li></a>
<a href="#t270"><li class="toc-level toc-level-0"><span class="toc-number">270</span> X::Parameter::MultipleTypeConstraints</li></a>
<a href="#t270.1"><li class="toc-level toc-level-1"><span class="toc-number">270.1</span> Methods</li></a>
<a href="#t270.1.1"><li class="toc-level toc-level-2"><span class="toc-number">270.1.1</span> method parameter</li></a>
<a href="#t271"><li class="toc-level toc-level-0"><span class="toc-number">271</span> class X::Parameter::Placeholder</li></a>
<a href="#t271.1"><li class="toc-level toc-level-1"><span class="toc-number">271.1</span> Methods</li></a>
<a href="#t271.1.1"><li class="toc-level toc-level-2"><span class="toc-number">271.1.1</span> method parameter</li></a>
<a href="#t271.1.2"><li class="toc-level toc-level-2"><span class="toc-number">271.1.2</span> method right</li></a>
<a href="#t272"><li class="toc-level toc-level-0"><span class="toc-number">272</span> class X::Parameter::Twigil</li></a>
<a href="#t272.1"><li class="toc-level toc-level-1"><span class="toc-number">272.1</span> Methods</li></a>
<a href="#t272.1.1"><li class="toc-level toc-level-2"><span class="toc-number">272.1.1</span> method parameter</li></a>
<a href="#t272.1.2"><li class="toc-level toc-level-2"><span class="toc-number">272.1.2</span> method twigil</li></a>
<a href="#t273"><li class="toc-level toc-level-0"><span class="toc-number">273</span> X::Parameter::WrongOrder</li></a>
<a href="#t273.1"><li class="toc-level toc-level-1"><span class="toc-number">273.1</span> Methods</li></a>
<a href="#t273.1.1"><li class="toc-level toc-level-2"><span class="toc-number">273.1.1</span> method misplaced</li></a>
<a href="#t273.1.2"><li class="toc-level toc-level-2"><span class="toc-number">273.1.2</span> method parameter</li></a>
<a href="#t273.1.3"><li class="toc-level toc-level-2"><span class="toc-number">273.1.3</span> method after</li></a>
<a href="#t274"><li class="toc-level toc-level-0"><span class="toc-number">274</span> class X::Phaser::Multiple</li></a>
<a href="#t274.1"><li class="toc-level toc-level-1"><span class="toc-number">274.1</span> Methods</li></a>
<a href="#t274.1.1"><li class="toc-level toc-level-2"><span class="toc-number">274.1.1</span> method block</li></a>
<a href="#t275"><li class="toc-level toc-level-0"><span class="toc-number">275</span> class X::Phaser::PrePost</li></a>
<a href="#t275.1"><li class="toc-level toc-level-1"><span class="toc-number">275.1</span> Methods</li></a>
<a href="#t275.1.1"><li class="toc-level toc-level-2"><span class="toc-number">275.1.1</span> method phaser</li></a>
<a href="#t275.1.2"><li class="toc-level toc-level-2"><span class="toc-number">275.1.2</span> method condition</li></a>
<a href="#t276"><li class="toc-level toc-level-0"><span class="toc-number">276</span> class X::Placeholder::Block</li></a>
<a href="#t276.1"><li class="toc-level toc-level-1"><span class="toc-number">276.1</span> Methods</li></a>
<a href="#t276.1.1"><li class="toc-level toc-level-2"><span class="toc-number">276.1.1</span> method placeholder</li></a>
<a href="#t277"><li class="toc-level toc-level-0"><span class="toc-number">277</span> X::Placeholder::Mainline</li></a>
<a href="#t278"><li class="toc-level toc-level-0"><span class="toc-number">278</span> role X::Pod</li></a>
<a href="#t279"><li class="toc-level toc-level-0"><span class="toc-number">279</span> role X::Proc::Async</li></a>
<a href="#t279.1"><li class="toc-level toc-level-1"><span class="toc-number">279.1</span> Methods</li></a>
<a href="#t279.1.1"><li class="toc-level toc-level-2"><span class="toc-number">279.1.1</span> method proc</li></a>
<a href="#t280"><li class="toc-level toc-level-0"><span class="toc-number">280</span> class X::Proc::Async::AlreadyStarted</li></a>
<a href="#t281"><li class="toc-level toc-level-0"><span class="toc-number">281</span> class X::Proc::Async::CharsOrBytes</li></a>
<a href="#t281.1"><li class="toc-level toc-level-1"><span class="toc-number">281.1</span> Methods</li></a>
<a href="#t281.1.1"><li class="toc-level toc-level-2"><span class="toc-number">281.1.1</span> method handle</li></a>
<a href="#t282"><li class="toc-level toc-level-0"><span class="toc-number">282</span> class X::Proc::Async::MustBeStarted</li></a>
<a href="#t282.1"><li class="toc-level toc-level-1"><span class="toc-number">282.1</span> Methods</li></a>
<a href="#t282.1.1"><li class="toc-level toc-level-2"><span class="toc-number">282.1.1</span> method method</li></a>
<a href="#t283"><li class="toc-level toc-level-0"><span class="toc-number">283</span> class X::Proc::Async::OpenForWriting</li></a>
<a href="#t283.1"><li class="toc-level toc-level-1"><span class="toc-number">283.1</span> Methods</li></a>
<a href="#t283.1.1"><li class="toc-level toc-level-2"><span class="toc-number">283.1.1</span> method method</li></a>
<a href="#t284"><li class="toc-level toc-level-0"><span class="toc-number">284</span> class X::Proc::Async::TapBeforeSpawn</li></a>
<a href="#t284.1"><li class="toc-level toc-level-1"><span class="toc-number">284.1</span> Methods</li></a>
<a href="#t284.1.1"><li class="toc-level toc-level-2"><span class="toc-number">284.1.1</span> method handle</li></a>
<a href="#t285"><li class="toc-level toc-level-0"><span class="toc-number">285</span> class X::Proc::Unsuccessful</li></a>
<a href="#t285.1"><li class="toc-level toc-level-1"><span class="toc-number">285.1</span> Methods</li></a>
<a href="#t285.1.1"><li class="toc-level toc-level-2"><span class="toc-number">285.1.1</span> method proc</li></a>
<a href="#t286"><li class="toc-level toc-level-0"><span class="toc-number">286</span> class X::Promise::CauseOnlyValidOnBroken</li></a>
<a href="#t286.1"><li class="toc-level toc-level-1"><span class="toc-number">286.1</span> Methods</li></a>
<a href="#t286.1.1"><li class="toc-level toc-level-2"><span class="toc-number">286.1.1</span> method promise</li></a>
<a href="#t286.1.2"><li class="toc-level toc-level-2"><span class="toc-number">286.1.2</span> method status</li></a>
<a href="#t287"><li class="toc-level toc-level-0"><span class="toc-number">287</span> class X::Promise::Vowed</li></a>
<a href="#t287.1"><li class="toc-level toc-level-1"><span class="toc-number">287.1</span> Methods</li></a>
<a href="#t287.1.1"><li class="toc-level toc-level-2"><span class="toc-number">287.1.1</span> method promise</li></a>
<a href="#t288"><li class="toc-level toc-level-0"><span class="toc-number">288</span> class X::Redeclaration</li></a>
<a href="#t288.1"><li class="toc-level toc-level-1"><span class="toc-number">288.1</span> Methods</li></a>
<a href="#t288.1.1"><li class="toc-level toc-level-2"><span class="toc-number">288.1.1</span> method symbol</li></a>
<a href="#t288.1.2"><li class="toc-level toc-level-2"><span class="toc-number">288.1.2</span> method what</li></a>
<a href="#t288.1.3"><li class="toc-level toc-level-2"><span class="toc-number">288.1.3</span> method postfix</li></a>
<a href="#t289"><li class="toc-level toc-level-0"><span class="toc-number">289</span> class X::Role::Initialization</li></a>
<a href="#t289.1"><li class="toc-level toc-level-1"><span class="toc-number">289.1</span> Methods</li></a>
<a href="#t289.1.1"><li class="toc-level toc-level-2"><span class="toc-number">289.1.1</span> method role</li></a>
<a href="#t290"><li class="toc-level toc-level-0"><span class="toc-number">290</span> class X::Seq::Consumed</li></a>
<a href="#t291"><li class="toc-level toc-level-0"><span class="toc-number">291</span> class X::Sequence::Deduction</li></a>
<a href="#t292"><li class="toc-level toc-level-0"><span class="toc-number">292</span> class X::Signature::NameClash</li></a>
<a href="#t292.1"><li class="toc-level toc-level-1"><span class="toc-number">292.1</span> Methods</li></a>
<a href="#t292.1.1"><li class="toc-level toc-level-2"><span class="toc-number">292.1.1</span> method name</li></a>
<a href="#t293"><li class="toc-level toc-level-0"><span class="toc-number">293</span> class X::Signature::Placeholder</li></a>
<a href="#t293.1"><li class="toc-level toc-level-1"><span class="toc-number">293.1</span> Methods</li></a>
<a href="#t293.1.1"><li class="toc-level toc-level-2"><span class="toc-number">293.1.1</span> method placeholder</li></a>
<a href="#t294"><li class="toc-level toc-level-0"><span class="toc-number">294</span> class X::Str::Numeric</li></a>
<a href="#t294.1"><li class="toc-level toc-level-1"><span class="toc-number">294.1</span> Methods</li></a>
<a href="#t294.1.1"><li class="toc-level toc-level-2"><span class="toc-number">294.1.1</span> method source</li></a>
<a href="#t294.1.2"><li class="toc-level toc-level-2"><span class="toc-number">294.1.2</span> method pos</li></a>
<a href="#t294.1.3"><li class="toc-level toc-level-2"><span class="toc-number">294.1.3</span> method reason</li></a>
<a href="#t295"><li class="toc-level toc-level-0"><span class="toc-number">295</span> class X::StubCode</li></a>
<a href="#t295.1"><li class="toc-level toc-level-1"><span class="toc-number">295.1</span> Methods</li></a>
<a href="#t295.1.1"><li class="toc-level toc-level-2"><span class="toc-number">295.1.1</span> method message</li></a>
<a href="#t296"><li class="toc-level toc-level-0"><span class="toc-number">296</span> role X::Syntax</li></a>
<a href="#t297"><li class="toc-level toc-level-0"><span class="toc-number">297</span> class X::Syntax::Augment::WithoutMonkeyTyping</li></a>
<a href="#t298"><li class="toc-level toc-level-0"><span class="toc-number">298</span> class X::Syntax::Comment::Embedded</li></a>
<a href="#t299"><li class="toc-level toc-level-0"><span class="toc-number">299</span> class X::Syntax::Confused</li></a>
<a href="#t300"><li class="toc-level toc-level-0"><span class="toc-number">300</span> class X::Syntax::InfixInTermPosition</li></a>
<a href="#t300.1"><li class="toc-level toc-level-1"><span class="toc-number">300.1</span> Methods</li></a>
<a href="#t300.1.1"><li class="toc-level toc-level-2"><span class="toc-number">300.1.1</span> method infix</li></a>
<a href="#t301"><li class="toc-level toc-level-0"><span class="toc-number">301</span> class X::Syntax::Malformed</li></a>
<a href="#t301.1"><li class="toc-level toc-level-1"><span class="toc-number">301.1</span> Methods</li></a>
<a href="#t301.1.1"><li class="toc-level toc-level-2"><span class="toc-number">301.1.1</span> method what</li></a>
<a href="#t302"><li class="toc-level toc-level-0"><span class="toc-number">302</span> class X::Syntax::Missing</li></a>
<a href="#t302.1"><li class="toc-level toc-level-1"><span class="toc-number">302.1</span> Methods</li></a>
<a href="#t302.1.1"><li class="toc-level toc-level-2"><span class="toc-number">302.1.1</span> method what</li></a>
<a href="#t303"><li class="toc-level toc-level-0"><span class="toc-number">303</span> class X::Syntax::NegatedPair</li></a>
<a href="#t303.1"><li class="toc-level toc-level-1"><span class="toc-number">303.1</span> Methods</li></a>
<a href="#t303.1.1"><li class="toc-level toc-level-2"><span class="toc-number">303.1.1</span> method key</li></a>
<a href="#t304"><li class="toc-level toc-level-0"><span class="toc-number">304</span> class X::Syntax::NoSelf</li></a>
<a href="#t304.1"><li class="toc-level toc-level-1"><span class="toc-number">304.1</span> Methods</li></a>
<a href="#t304.1.1"><li class="toc-level toc-level-2"><span class="toc-number">304.1.1</span> method variable</li></a>
<a href="#t305"><li class="toc-level toc-level-0"><span class="toc-number">305</span> class X::Syntax::Number::RadixOutOfRange</li></a>
<a href="#t305.1"><li class="toc-level toc-level-1"><span class="toc-number">305.1</span> Methods</li></a>
<a href="#t305.1.1"><li class="toc-level toc-level-2"><span class="toc-number">305.1.1</span> method radix</li></a>
<a href="#t306"><li class="toc-level toc-level-0"><span class="toc-number">306</span> class X::Syntax::P5</li></a>
<a href="#t307"><li class="toc-level toc-level-0"><span class="toc-number">307</span> class X::Syntax::Regex::Adverb</li></a>
<a href="#t307.1"><li class="toc-level toc-level-1"><span class="toc-number">307.1</span> Methods</li></a>
<a href="#t307.1.1"><li class="toc-level toc-level-2"><span class="toc-number">307.1.1</span> method adverb</li></a>
<a href="#t307.1.2"><li class="toc-level toc-level-2"><span class="toc-number">307.1.2</span> method construct</li></a>
<a href="#t308"><li class="toc-level toc-level-0"><span class="toc-number">308</span> class X::Syntax::Regex::SolitaryQuantifier</li></a>
<a href="#t309"><li class="toc-level toc-level-0"><span class="toc-number">309</span> class X::Syntax::Reserved</li></a>
<a href="#t309.1"><li class="toc-level toc-level-1"><span class="toc-number">309.1</span> Methods</li></a>
<a href="#t309.1.1"><li class="toc-level toc-level-2"><span class="toc-number">309.1.1</span> method reserved</li></a>
<a href="#t309.1.2"><li class="toc-level toc-level-2"><span class="toc-number">309.1.2</span> method instead</li></a>
<a href="#t310"><li class="toc-level toc-level-0"><span class="toc-number">310</span> class X::Syntax::Self::WithoutObject</li></a>
<a href="#t311"><li class="toc-level toc-level-0"><span class="toc-number">311</span> class X::Syntax::Signature::InvocantMarker</li></a>
<a href="#t312"><li class="toc-level toc-level-0"><span class="toc-number">312</span> class X::Syntax::Term::MissingInitializer</li></a>
<a href="#t313"><li class="toc-level toc-level-0"><span class="toc-number">313</span> class X::Syntax::UnlessElse</li></a>
<a href="#t314"><li class="toc-level toc-level-0"><span class="toc-number">314</span> class X::Syntax::Variable::Match</li></a>
<a href="#t315"><li class="toc-level toc-level-0"><span class="toc-number">315</span> class X::Syntax::Variable::Numeric</li></a>
<a href="#t315.1"><li class="toc-level toc-level-1"><span class="toc-number">315.1</span> Methods</li></a>
<a href="#t315.1.1"><li class="toc-level toc-level-2"><span class="toc-number">315.1.1</span> method what</li></a>
<a href="#t316"><li class="toc-level toc-level-0"><span class="toc-number">316</span> class X::Syntax::Variable::Twigil</li></a>
<a href="#t316.1"><li class="toc-level toc-level-1"><span class="toc-number">316.1</span> Methods</li></a>
<a href="#t316.1.1"><li class="toc-level toc-level-2"><span class="toc-number">316.1.1</span> method twigil</li></a>
<a href="#t316.1.2"><li class="toc-level toc-level-2"><span class="toc-number">316.1.2</span> method scope</li></a>
<a href="#t317"><li class="toc-level toc-level-0"><span class="toc-number">317</span> role X::Temporal</li></a>
<a href="#t318"><li class="toc-level toc-level-0"><span class="toc-number">318</span> class X::Temporal::InvalidFormat</li></a>
<a href="#t318.1"><li class="toc-level toc-level-1"><span class="toc-number">318.1</span> Methods</li></a>
<a href="#t318.1.1"><li class="toc-level toc-level-2"><span class="toc-number">318.1.1</span> method invalid-str</li></a>
<a href="#t318.1.2"><li class="toc-level toc-level-2"><span class="toc-number">318.1.2</span> method target</li></a>
<a href="#t318.1.3"><li class="toc-level toc-level-2"><span class="toc-number">318.1.3</span> method format</li></a>
<a href="#t319"><li class="toc-level toc-level-0"><span class="toc-number">319</span> class X::TypeCheck</li></a>
<a href="#t319.1"><li class="toc-level toc-level-1"><span class="toc-number">319.1</span> Methods</li></a>
<a href="#t319.1.1"><li class="toc-level toc-level-2"><span class="toc-number">319.1.1</span> method operation</li></a>
<a href="#t319.1.2"><li class="toc-level toc-level-2"><span class="toc-number">319.1.2</span> method got</li></a>
<a href="#t319.1.3"><li class="toc-level toc-level-2"><span class="toc-number">319.1.3</span> method expected</li></a>
<a href="#t320"><li class="toc-level toc-level-0"><span class="toc-number">320</span> class X::TypeCheck::Assignment</li></a>
<a href="#t321"><li class="toc-level toc-level-0"><span class="toc-number">321</span> class X::TypeCheck::Binding</li></a>
<a href="#t322"><li class="toc-level toc-level-0"><span class="toc-number">322</span> class X::TypeCheck::Return</li></a>
<a href="#t323"><li class="toc-level toc-level-0"><span class="toc-number">323</span> class X::TypeCheck::Splice</li></a>
<a href="#t323.1"><li class="toc-level toc-level-1"><span class="toc-number">323.1</span> Methods</li></a>
<a href="#t323.1.1"><li class="toc-level toc-level-2"><span class="toc-number">323.1.1</span> method action</li></a>
<a href="#t324"><li class="toc-level toc-level-0"><span class="toc-number">324</span> class X::Undeclared</li></a>
<a href="#t324.1"><li class="toc-level toc-level-1"><span class="toc-number">324.1</span> Methods</li></a>
<a href="#t324.1.1"><li class="toc-level toc-level-2"><span class="toc-number">324.1.1</span> method symbol</li></a>
<a href="#t324.1.2"><li class="toc-level toc-level-2"><span class="toc-number">324.1.2</span> method what</li></a>
<a href="#t325"><li class="toc-level toc-level-0"><span class="toc-number">325</span> class atomicint</li></a>
<a href="#t325.1"><li class="toc-level toc-level-1"><span class="toc-number">325.1</span> Routines</li></a>
<a href="#t325.1.1"><li class="toc-level toc-level-2"><span class="toc-number">325.1.1</span> sub atomic-assign</li></a>
<a href="#t325.1.2"><li class="toc-level toc-level-2"><span class="toc-number">325.1.2</span> sub atomic-fetch</li></a>
<a href="#t325.1.3"><li class="toc-level toc-level-2"><span class="toc-number">325.1.3</span> sub atomic-fetch-inc</li></a>
<a href="#t325.1.4"><li class="toc-level toc-level-2"><span class="toc-number">325.1.4</span> sub atomic-fetch-dec</li></a>
<a href="#t325.1.5"><li class="toc-level toc-level-2"><span class="toc-number">325.1.5</span> sub atomic-fetch-add</li></a>
<a href="#t325.1.6"><li class="toc-level toc-level-2"><span class="toc-number">325.1.6</span> sub atomic-fetch-sub</li></a>
<a href="#t325.1.7"><li class="toc-level toc-level-2"><span class="toc-number">325.1.7</span> sub atomic-inc-fetch</li></a>
<a href="#t325.1.8"><li class="toc-level toc-level-2"><span class="toc-number">325.1.8</span> sub atomic-dec-fetch</li></a>
<a href="#t325.1.9"><li class="toc-level toc-level-2"><span class="toc-number">325.1.9</span> sub cas</li></a>
<a href="#t325.2"><li class="toc-level toc-level-1"><span class="toc-number">325.2</span> Operators</li></a>
<a href="#t325.2.1"><li class="toc-level toc-level-2"><span class="toc-number">325.2.1</span> infix ⚛=</li></a>
<a href="#t325.2.2"><li class="toc-level toc-level-2"><span class="toc-number">325.2.2</span> prefix ⚛</li></a>
<a href="#t325.2.3"><li class="toc-level toc-level-2"><span class="toc-number">325.2.3</span> prefix ++⚛</li></a>
<a href="#t325.2.4"><li class="toc-level toc-level-2"><span class="toc-number">325.2.4</span> postfix ⚛++</li></a>
<a href="#t325.2.5"><li class="toc-level toc-level-2"><span class="toc-number">325.2.5</span> prefix --⚛</li></a>
<a href="#t325.2.6"><li class="toc-level toc-level-2"><span class="toc-number">325.2.6</span> postfix ⚛--</li></a>
<a href="#t325.2.7"><li class="toc-level toc-level-2"><span class="toc-number">325.2.7</span> infix ⚛+=</li></a>
<a href="#t325.2.8"><li class="toc-level toc-level-2"><span class="toc-number">325.2.8</span> infix ⚛-=</li></a>
<a href="#t325.2.9"><li class="toc-level toc-level-2"><span class="toc-number">325.2.9</span> infix ⚛−=</li></a>
<a href="#t326"><li class="toc-level toc-level-0"><span class="toc-number">326</span> class int</li></a>
<a href="#t327"><li class="toc-level toc-level-0"><span class="toc-number">327</span> class utf8</li></a></ul></div><div id="index"><ul class="index">
<li> declarator grammar&emsp;<a href="#i261">261</a></li> <li> enum&emsp;<a href="#i689">689</a></li> <li> Enums&emsp;<a href="#i689">689</a></li> <li> proto regex&emsp;<a href="#i261">261</a></li> <li> regex  &amp;gt;&amp;gt;&emsp;<a href="#i586">586</a></li> <li> regex  ~&emsp;<a href="#i595">595</a></li> <li> regex  «&emsp;<a href="#i586">586</a></li> <li> regex  »&emsp;<a href="#i586">586</a></li> <li>! (negation meta operator)&emsp;<a href="#i328">328</a></li> <li>!==&emsp;<a href="#i329">329</a></li> <li>!eq&emsp;<a href="#i330">330</a></li> <li>$ (item contextualizer)&emsp;<a href="#i842">842</a></li> <li>$ (sigil)&emsp;<a href="#i769">769</a></li> <li>$ (variable)&emsp;<a href="#i793">793</a></li> <li>$!&emsp;<a href="#i778">778</a></li> <li>$$ (Perl 5)&emsp;<a href="#i8">8</a></li> <li>$*&emsp;<a href="#i776">776</a></li> <li>$*ARGFILES&emsp;<a href="#i813">813</a></li> <li>$*COLLATION&emsp;<a href="#i90">90</a></li> <li>$*CWD&emsp;<a href="#i821">821</a></li> <li>$*DISTRO&emsp;<a href="#i823">823</a></li> <li>$*ERR&emsp;<a href="#i817">817</a></li> <li>$*EXECUTABLE&emsp;<a href="#i829">829</a></li> <li>$*EXECUTABLE-NAME&emsp;<a href="#i830">830</a></li> <li>$*GROUP&emsp;<a href="#i832">832</a></li> <li>$*HOME&emsp;<a href="#i833">833</a></li> <li>$*IN&emsp;<a href="#i815">815</a></li> <li>$*KERNEL&emsp;<a href="#i822">822</a></li> <li>$*OUT&emsp;<a href="#i816">816</a></li> <li>$*PERL&emsp;<a href="#i825">825</a></li> <li>$*PID&emsp;<a href="#i826">826</a></li> <li>$*PROGRAM&emsp;<a href="#i828">828</a></li> <li>$*PROGRAM-NAME&emsp;<a href="#i827">827</a></li> <li>$*REPO&emsp;<a href="#i819">819</a></li> <li>$*SCHEDULER&emsp;<a href="#i837">837</a></li> <li>$*SPEC&emsp;<a href="#i834">834</a></li> <li>$*THREAD&emsp;<a href="#i836">836</a></li> <li>$*TMPDIR&emsp;<a href="#i835">835</a></li> <li>$*TZ&emsp;<a href="#i820">820</a></li> <li>$*USAGE&emsp;<a href="#i147">147</a> <a href="#i838">838</a></li> <li>$*USER&emsp;<a href="#i831">831</a></li> <li>$*VM&emsp;<a href="#i824">824</a></li> <li>$.&emsp;<a href="#i779">779</a></li> <li>$0 (Perl 5)&emsp;<a href="#i9">9</a></li> <li>$:&emsp;<a href="#i781">781</a></li> <li>$=&emsp;<a href="#i782">782</a></li> <li>$?&emsp;<a href="#i777">777</a></li> <li>$?CLASS&emsp;<a href="#i805">805</a></li> <li>$?ENC&emsp;<a href="#i810">810</a></li> <li>$?FILE&emsp;<a href="#i796">796</a></li> <li>$?GRAMMAR&emsp;<a href="#i807">807</a></li> <li>$?LINE&emsp;<a href="#i797">797</a></li> <li>$?MODULE&emsp;<a href="#i804">804</a></li> <li>$?NL&emsp;<a href="#i809">809</a></li> <li>$?PACKAGE&emsp;<a href="#i803">803</a></li> <li>$?ROLE&emsp;<a href="#i806">806</a></li> <li>$?TABSTOP&emsp;<a href="#i808">808</a></li> <li>$^&emsp;<a href="#i780">780</a></li> <li>$_ (Perl 5)&emsp;<a href="#i6">6</a></li> <li>$~&emsp;<a href="#i783">783</a></li> <li>$~MAIN&emsp;<a href="#i784">784</a></li> <li>$~P5Regex&emsp;<a href="#i789">789</a></li> <li>$~Quasi&emsp;<a href="#i786">786</a></li> <li>$~Quote&emsp;<a href="#i785">785</a></li> <li>$~Regex&emsp;<a href="#i787">787</a></li> <li>$~Trans&emsp;<a href="#i788">788</a></li> <li>%*ENV&emsp;<a href="#i818">818</a></li> <li>%?LANG&emsp;<a href="#i801">801</a></li> <li>%?RESOURCES&emsp;<a href="#i802">802</a></li> <li>%_&emsp;<a href="#i125">125</a></li> <li>%INC (Perl 5)&emsp;<a href="#i11">11</a></li> <li>&amp; (sigil)&emsp;<a href="#i772">772</a></li> <li>&amp;?BLOCK&emsp;<a href="#i812">812</a></li> <li>&amp;?ROUTINE&emsp;<a href="#i811">811</a></li> <li>&amp;amp; (interpolation)&emsp;<a href="#i548">548</a></li> <li>&amp;amp;?BLOCK&emsp;<a href="#i800">800</a></li> <li>&amp;amp;?ROUTINE&emsp;<a href="#i799">799</a></li> <li>&amp;lt;-&amp;gt;&emsp;<a href="#i846">846</a></li> <li>() empty list&emsp;<a href="#i859">859</a></li> <li>+ (Single Argument Rule Slurpy)&emsp;<a href="#i889">889</a></li> <li>++&emsp;<a href="#i363">363</a> <a href="#i367">367</a></li> <li>++⚛&emsp;<a href="#i761">761</a></li> <li>--&emsp;<a href="#i365">365</a></li> <li>--&gt;&emsp;<a href="#i884">884</a></li> <li>--⚛&emsp;<a href="#i763">763</a></li> <li>.( )&emsp;<a href="#i357">357</a></li> <li>... (forward declaration)&emsp;<a href="#i670">670</a></li> <li>... operators&emsp;<a href="#i436">436</a></li> <li>...^ operators&emsp;<a href="#i437">437</a></li> <li>.[ ]&emsp;<a href="#i358">358</a></li> <li>.^ver package&emsp;<a href="#i473">473</a></li> <li>.DEFINITE&emsp;<a href="#i24">24</a></li> <li>.{ }&emsp;<a href="#i359">359</a></li> <li>//&emsp;<a href="#i430">430</a></li> <li>0b (radix form)&emsp;<a href="#i640">640</a></li> <li>0d (radix form)&emsp;<a href="#i640">640</a></li> <li>0o (radix form)&emsp;<a href="#i640">640</a></li> <li>0x (radix form)&emsp;<a href="#i640">640</a></li> <li>6model&emsp;<a href="#i258">258</a></li> <li>:&emsp;<a href="#i867">867</a></li> <li>:!&emsp;<a href="#i869">869</a></li> <li>:$&emsp;<a href="#i870">870</a></li> <li>:() (Signature)&emsp;<a href="#i877">877</a></li> <li>:: package&emsp;<a href="#i453">453</a></li> <li>::($c).m&emsp;<a href="#i471">471</a></li> <li>::()&emsp;<a href="#i470">470</a></li> <li>::?CLASS&emsp;<a href="#i798">798</a></li> <li>:a (quoting adverb)&emsp;<a href="#i531">531</a></li> <li>:array (quoting adverb)&emsp;<a href="#i532">532</a></li> <li>:auth&amp;lt;&amp;gt; (class)&emsp;<a href="#i684">684</a></li> <li>:auth&amp;lt;&amp;gt; (grammar)&emsp;<a href="#i691">691</a></li> <li>:auth&amp;lt;&amp;gt; (role)&emsp;<a href="#i688">688</a></li> <li>:b (quoting adverb)&emsp;<a href="#i539">539</a></li> <li>:backslash (quoting adverb)&emsp;<a href="#i540">540</a></li> <li>:c (quoting adverb)&emsp;<a href="#i537">537</a></li> <li>:closure (quoting adverb)&emsp;<a href="#i538">538</a></li> <li>:double (quoting adverb)&emsp;<a href="#i528">528</a></li> <li>:exec (quoting adverb)&emsp;<a href="#i520">520</a></li> <li>:f (quoting adverb)&emsp;<a href="#i535">535</a></li> <li>:function (quoting adverb)&emsp;<a href="#i536">536</a></li> <li>:h (quoting adverb)&emsp;<a href="#i533">533</a></li> <li>:hash (quoting adverb)&emsp;<a href="#i534">534</a></li> <li>:heredoc (quoting adverb)&emsp;<a href="#i542">542</a></li> <li>:q (quoting adverb)&emsp;<a href="#i525">525</a></li> <li>:qq (quoting adverb)&emsp;<a href="#i527">527</a></li> <li>:quotewords (quoting adverb)&emsp;<a href="#i524">524</a></li> <li>:s (quoting adverb)&emsp;<a href="#i529">529</a></li> <li>:scalar (quoting adverb)&emsp;<a href="#i530">530</a></li> <li>:single (quoting adverb)&emsp;<a href="#i526">526</a></li> <li>:sym&lt;&gt;&emsp;<a href="#i261">261</a></li> <li>:to (quoting adverb)&emsp;<a href="#i541">541</a></li> <li>:v (quoting adverb)&emsp;<a href="#i543">543</a></li> <li>:val (quoting adverb)&emsp;<a href="#i544">544</a></li> <li>:ver&amp;lt;&amp;gt; (class)&emsp;<a href="#i683">683</a></li> <li>:ver&amp;lt;&amp;gt; (grammar)&emsp;<a href="#i690">690</a></li> <li>:ver&amp;lt;&amp;gt; (role)&emsp;<a href="#i687">687</a></li> <li>:w (quoting adverb)&emsp;<a href="#i521">521</a></li> <li>:words (quoting adverb)&emsp;<a href="#i522">522</a></li> <li>:ww (quoting adverb)&emsp;<a href="#i523">523</a></li> <li>:x (quoting adverb)&emsp;<a href="#i519">519</a></li> <li>:{}&emsp;<a href="#i856">856</a></li> <li>&lt; &gt; word quote&emsp;<a href="#i550">550</a></li> <li>&lt;?&gt;&emsp;<a href="#i265">265</a></li> <li>&lt;sym&gt;&emsp;<a href="#i264">264</a></li> <li>=&amp;gt; &emsp;<a href="#i868">868</a></li> <li>?? !!&emsp;<a href="#i431">431</a></li> <li>@ (sigil)&emsp;<a href="#i770">770</a></li> <li>@*ARGS&emsp;<a href="#i814">814</a></li> <li>@_&emsp;<a href="#i124">124</a></li> <li>@_ (Perl 5)&emsp;<a href="#i7">7</a></li> <li>@decorator (Python)&emsp;<a href="#i513">513</a></li> <li>@INC (Perl 5)&emsp;<a href="#i10">10</a></li> <li>[ ] (typed array)&emsp;<a href="#i274">274</a></li> <li>[+] (reduction meta operators)&emsp;<a href="#i334">334</a></li> <li>[] (reduction meta operators)&emsp;<a href="#i333">333</a></li> <li>\ (container binding)&emsp;<a href="#i52">52</a></li> <li>\ (quoting)&emsp;<a href="#i547">547</a></li> <li>\ (sigilless scalar)&emsp;<a href="#i875">875</a></li> <li>\ (sigilless variables)&emsp;<a href="#i774">774</a></li> <li>\() (Capture)&emsp;<a href="#i851">851</a></li> <li>\c[] unicode name&emsp;<a href="#i698">698</a></li> <li>^methods&emsp;<a href="#i47">47</a></li> <li>A.&amp;quot;$m&amp;quot;()&emsp;<a href="#i472">472</a></li> <li>Abstract Class&emsp;<a href="#i148">148</a></li> <li>accessor methods&emsp;<a href="#i34">34</a></li> <li>Actions&emsp;<a href="#i266">266</a></li> <li>Advent Calendar&emsp;<a href="#i149">149</a></li> <li>Adverb&emsp;<a href="#i150">150</a></li> <li>Adverbial Pair&emsp;<a href="#i151">151</a></li> <li>ALAP&emsp;<a href="#i175">175</a></li> <li>Allomorph&emsp;<a href="#i152">152</a></li> <li>also declarator&emsp;<a href="#i46">46</a></li> <li>andthen&emsp;<a href="#i448">448</a></li> <li>anon state variables&emsp;<a href="#i791">791</a></li> <li>Anonymous&emsp;<a href="#i153">153</a></li> <li>anonymous arguments (Signature)&emsp;<a href="#i880">880</a></li> <li>API&emsp;<a href="#i154">154</a></li> <li>Apocalypse&emsp;<a href="#i155">155</a></li> <li>Argument&emsp;<a href="#i126">126</a></li> <li>Arity&emsp;<a href="#i156">156</a></li> <li>array indexing operator&emsp;<a href="#i342">342</a></li> <li>array subscript operator&emsp;<a href="#i342">342</a></li> <li>ASCII operator&emsp;<a href="#i248">248</a></li> <li>Asynchronous Phasers  DOC&emsp;<a href="#i493">493</a></li> <li>Asynchronous Phasers  LAST&emsp;<a href="#i491">491</a></li> <li>Asynchronous Phasers  QUIT&emsp;<a href="#i492">492</a></li> <li>Attribute&emsp;<a href="#i314">314</a></li> <li>attributes&emsp;<a href="#i25">25</a></li> <li>autopun&emsp;<a href="#i176">176</a></li> <li>Autothreading&emsp;<a href="#i157">157</a></li> <li>backlog&emsp;<a href="#i177">177</a></li> <li>Backtracking&emsp;<a href="#i158">158</a></li> <li>bail-out&emsp;<a href="#i667">667</a></li> <li>behavior&emsp;<a href="#i20">20</a></li> <li>bless&emsp;<a href="#i43">43</a></li> <li>block&emsp;<a href="#i159">159</a></li> <li>block constructor&emsp;<a href="#i340">340</a></li> <li>bool&emsp;<a href="#i310">310</a></li> <li>Boolean&emsp;<a href="#i849">849</a></li> <li>Bot&emsp;<a href="#i178">178</a></li> <li>BUILD&emsp;<a href="#i44">44</a></li> <li>BUILDALL (method)&emsp;<a href="#i318">318</a></li> <li>bytecode&emsp;<a href="#i160">160</a></li> <li>C and C++ (FAQ)&emsp;<a href="#i107">107</a></li> <li>cache&emsp;<a href="#i84">84</a></li> <li>Callable (constrain)&emsp;<a href="#i883">883</a></li> <li>CALLER (package)&emsp;<a href="#i460">460</a></li> <li>CALLERS (package)&emsp;<a href="#i461">461</a></li> <li>Camelia&emsp;<a href="#i161">161</a></li> <li>camelia&emsp;<a href="#i172">172</a></li> <li>can-ok&emsp;<a href="#i652">652</a></li> <li>capture literal (Capture)&emsp;<a href="#i850">850</a></li> <li>CArray&emsp;<a href="#i308">308</a></li> <li>CATCH&emsp;<a href="#i82">82</a></li> <li>Circular dependencies (FAQ)&emsp;<a href="#i113">113</a></li> <li>circumfix operator&emsp;<a href="#i326">326</a></li> <li>class&emsp;<a href="#i15">15</a></li> <li>classes&emsp;<a href="#i16">16</a></li> <li>classes  inheritance&emsp;<a href="#i45">45</a></li> <li>classes accessors&emsp;<a href="#i35">35</a></li> <li>classes attributes&emsp;<a href="#i26">26</a></li> <li>classes behavior&emsp;<a href="#i21">21</a></li> <li>classes encapsulation&emsp;<a href="#i28">28</a></li> <li>classes has&emsp;<a href="#i19">19</a></li> <li>classes is&emsp;<a href="#i681">681</a></li> <li>classes methods&emsp;<a href="#i38">38</a></li> <li>CLIENT (package)&emsp;<a href="#i469">469</a></li> <li>cmp-ok&emsp;<a href="#i650">650</a></li> <li>coercion type (signature)&emsp;<a href="#i885">885</a></li> <li>coll  method&emsp;<a href="#i88">88</a></li> <li>collate&emsp;<a href="#i89">89</a></li> <li>Colon List&emsp;<a href="#i163">163</a></li> <li>colon list (Pair)&emsp;<a href="#i871">871</a></li> <li>Colon Pair&emsp;<a href="#i162">162</a></li> <li>colon pair (Pair)&emsp;<a href="#i866">866</a></li> <li>command line arguments&emsp;<a href="#i144">144</a></li> <li>Community&emsp;<a href="#i164">164</a></li> <li>COMPILING(package)&emsp;<a href="#i459">459</a></li> <li>compunit&emsp;<a href="#i276">276</a> <a href="#i277">277</a> <a href="#i278">278</a></li> <li>CompUnit (Rakudo classes)&emsp;<a href="#i275">275</a></li> <li>constant&emsp;<a href="#i1">1</a></li> <li>constant (Terms)&emsp;<a href="#i642">642</a></li> <li>Constraint&emsp;<a href="#i879">879</a></li> <li>constructors&emsp;<a href="#i41">41</a></li> <li>Context Managers (Python)&emsp;<a href="#i514">514</a></li> <li>control flow&emsp;<a href="#i53">53</a> <a href="#i54">54</a> <a href="#i55">55</a> <a href="#i56">56</a> <a href="#i58">58</a> <a href="#i60">60</a> <a href="#i61">61</a> <a href="#i65">65</a> <a href="#i68">68</a> <a href="#i69">69</a> <a href="#i71">71</a> <a href="#i74">74</a> <a href="#i75">75</a> <a href="#i76">76</a> <a href="#i77">77</a> <a href="#i78">78</a> <a href="#i79">79</a> <a href="#i80">80</a> <a href="#i81">81</a></li> <li>control flow default when&emsp;<a href="#i67">67</a></li> <li>control flow else elsif&emsp;<a href="#i57">57</a></li> <li>control flow gather take&emsp;<a href="#i62">62</a></li> <li>control flow given statement&emsp;<a href="#i70">70</a></li> <li>control flow repeat&emsp;<a href="#i73">73</a></li> <li>control flow while until&emsp;<a href="#i72">72</a></li> <li>control flow with orwith without&emsp;<a href="#i59">59</a></li> <li>CORE (package)&emsp;<a href="#i456">456</a></li> <li>Core standard library (FAQ)&emsp;<a href="#i110">110</a></li> <li>Coroutine (FAQ)&emsp;<a href="#i117">117</a></li> <li>CPAN (FAQ)&emsp;<a href="#i102">102</a></li> <li>cross product operator&emsp;<a href="#i435">435</a></li> <li>dalek&emsp;<a href="#i173">173</a></li> <li>Data::Dumper (FAQ)&emsp;<a href="#i114">114</a></li> <li>dd&emsp;<a href="#i839">839</a></li> <li>declarator&emsp;<a href="#i128">128</a></li> <li>declarator class&emsp;<a href="#i313">313</a></li> <li>declarator module&emsp;<a href="#i641">641</a></li> <li>declarator multi&emsp;<a href="#i127">127</a></li> <li>declarator package&emsp;<a href="#i641">641</a></li> <li>declarator regex&emsp;<a href="#i259">259</a> <a href="#i596">596</a></li> <li>declarator role&emsp;<a href="#i320">320</a></li> <li>declarator role (typesystem)&emsp;<a href="#i685">685</a></li> <li>declarator rule&emsp;<a href="#i259">259</a></li> <li>declarator sub&emsp;<a href="#i122">122</a></li> <li>declarator token&emsp;<a href="#i259">259</a></li> <li>declarator unit&emsp;<a href="#i641">641</a></li> <li>declarator unit (MAIN)&emsp;<a href="#i145">145</a></li> <li>Decorators (Python)&emsp;<a href="#i512">512</a></li> <li>decrement operator&emsp;<a href="#i366">366</a> <a href="#i369">369</a></li> <li>defined-or operator&emsp;<a href="#i429">429</a></li> <li>DEFINITE&emsp;<a href="#i23">23</a></li> <li>destructuring arguments (Signature)&emsp;<a href="#i894">894</a></li> <li>diag&emsp;<a href="#i669">669</a></li> <li>dies-ok&emsp;<a href="#i657">657</a></li> <li>diffy&emsp;<a href="#i165">165</a></li> <li>dispatch callsame&emsp;<a href="#i135">135</a></li> <li>dispatch callwith&emsp;<a href="#i136">136</a></li> <li>dispatch nextcallee&emsp;<a href="#i140">140</a></li> <li>dispatch nextsame&emsp;<a href="#i137">137</a></li> <li>dispatch nextwith&emsp;<a href="#i138">138</a></li> <li>dispatch samewith&emsp;<a href="#i139">139</a></li> <li>dispatch super&emsp;<a href="#i142">142</a></li> <li>dispatch wrapped routines&emsp;<a href="#i141">141</a></li> <li>does-ok&emsp;<a href="#i653">653</a></li> <li>dumper&emsp;<a href="#i840">840</a></li> <li>DWIM&emsp;<a href="#i179">179</a></li> <li>DYNAMIC (package)&emsp;<a href="#i462">462</a></li> <li>dynamic subset&emsp;<a href="#i693">693</a></li> <li>ecosystem&emsp;<a href="#i103">103</a></li> <li>Empty&emsp;<a href="#i901">901</a></li> <li>encapsulation&emsp;<a href="#i27">27</a></li> <li>Enumeration&emsp;<a href="#i689">689</a></li> <li>eval-dies-ok&emsp;<a href="#i659">659</a></li> <li>eval-lives-ok&emsp;<a href="#i660">660</a></li> <li>Exegesis&emsp;<a href="#i166">166</a></li> <li>experimental&emsp;<a href="#i497">497</a></li> <li>extra named arguments&emsp;<a href="#i861">861</a></li> <li>fails-like&emsp;<a href="#i662">662</a></li> <li>FALLBACK (method)&emsp;<a href="#i674">674</a></li> <li>FALLBACK (trait handles)&emsp;<a href="#i680">680</a></li> <li>False&emsp;<a href="#i848">848</a></li> <li>fatal&emsp;<a href="#i498">498</a></li> <li>ff&emsp;<a href="#i432">432</a></li> <li>fiddly&emsp;<a href="#i167">167</a></li> <li>flap&emsp;<a href="#i180">180</a></li> <li>flunk&emsp;<a href="#i668">668</a></li> <li>foo&emsp;<a href="#i13">13</a></li> <li>fossil&emsp;<a href="#i181">181</a></li> <li>FSVO&emsp;<a href="#i182">182</a></li> <li>FTFY&emsp;<a href="#i183">183</a></li> <li>GLOBAL (package)&emsp;<a href="#i457">457</a></li> <li>Grapheme&emsp;<a href="#i852">852</a></li> <li>greatest common divisor operator&emsp;<a href="#i388">388</a></li> <li>handles trait&emsp;<a href="#i679">679</a></li> <li>has&emsp;<a href="#i18">18</a></li> <li>hash constructor&emsp;<a href="#i340">340</a></li> <li>hash indexing operator&emsp;<a href="#i343">343</a></li> <li>hash subscript operator&emsp;<a href="#i343">343</a></li> <li>HOW (reserved method)&emsp;<a href="#i677">677</a></li> <li>hyper &lt;&lt;&emsp;<a href="#i332">332</a></li> <li>hyper &gt;&gt;&emsp;<a href="#i332">332</a></li> <li>hyper «&emsp;<a href="#i332">332</a></li> <li>hyper »&emsp;<a href="#i332">332</a></li> <li>iffy&emsp;<a href="#i168">168</a></li> <li>IIRC&emsp;<a href="#i184">184</a></li> <li>IMHO&emsp;<a href="#i185">185</a></li> <li>import&emsp;<a href="#i3">3</a></li> <li>increment operator&emsp;<a href="#i364">364</a> <a href="#i368">368</a></li> <li>Inf (definition)&emsp;<a href="#i863">863</a></li> <li>infix  ≅&emsp;<a href="#i427">427</a></li> <li>infix operator&emsp;<a href="#i324">324</a></li> <li>infix þ&emsp;<a href="#i12">12</a></li> <li>input (Python)&emsp;<a href="#i517">517</a></li> <li>instance&emsp;<a href="#i169">169</a></li> <li>int16&emsp;<a href="#i294">294</a></li> <li>int32&emsp;<a href="#i295">295</a></li> <li>int64&emsp;<a href="#i296">296</a></li> <li>int8&emsp;<a href="#i293">293</a></li> <li>integer bit shift operator left&emsp;<a href="#i386">386</a></li> <li>integer bit shift operator right&emsp;<a href="#i387">387</a></li> <li>Interface&emsp;<a href="#i170">170</a></li> <li>internals&emsp;<a href="#i499">499</a></li> <li>Introspection&emsp;<a href="#i283">283</a></li> <li>invocant&emsp;<a href="#i39">39</a> <a href="#i500">500</a></li> <li>IPC&emsp;<a href="#i267">267</a></li> <li>IRC&emsp;<a href="#i171">171</a></li> <li>is (container type)&emsp;<a href="#i773">773</a></li> <li>is assoc (trait)&emsp;<a href="#i134">134</a></li> <li>is equiv&emsp;<a href="#i132">132</a></li> <li>is looser&emsp;<a href="#i133">133</a></li> <li>is rw (class)&emsp;<a href="#i682">682</a></li> <li>is testing&emsp;<a href="#i646">646</a></li> <li>is tighter&emsp;<a href="#i131">131</a></li> <li>is-approx&emsp;<a href="#i648">648</a></li> <li>is-deeply&emsp;<a href="#i649">649</a></li> <li>isa-ok&emsp;<a href="#i651">651</a></li> <li>isnt&emsp;<a href="#i647">647</a></li> <li>IterationEnd&emsp;<a href="#i858">858</a></li> <li>IWBN&emsp;<a href="#i186">186</a></li> <li>Junction (FAQ)&emsp;<a href="#i115">115</a></li> <li>lazy (property of List)&emsp;<a href="#i272">272</a></li> <li>lazy list gather&emsp;<a href="#i63">63</a></li> <li>lazy list take&emsp;<a href="#i64">64</a></li> <li>lazy list …&emsp;<a href="#i440">440</a></li> <li>least common multiple operator&emsp;<a href="#i389">389</a></li> <li>LEXICAL (package)&emsp;<a href="#i465">465</a></li> <li>Lexing&emsp;<a href="#i206">206</a></li> <li>LGTM&emsp;<a href="#i188">188</a></li> <li>LHF&emsp;<a href="#i187">187</a></li> <li>lib&emsp;<a href="#i501">501</a></li> <li>like&emsp;<a href="#i654">654</a></li> <li>Literal&emsp;<a href="#i207">207</a></li> <li>lives-ok&emsp;<a href="#i658">658</a></li> <li>long&emsp;<a href="#i301">301</a></li> <li>Long Names&emsp;<a href="#i895">895</a></li> <li>longlong&emsp;<a href="#i302">302</a></li> <li>LTA&emsp;<a href="#i189">189</a></li> <li>macros&emsp;<a href="#i85">85</a></li> <li>MAIN&emsp;<a href="#i143">143</a></li> <li>Mainline&emsp;<a href="#i209">209</a></li> <li>mandatory named argument (Signature)&emsp;<a href="#i893">893</a></li> <li>matching adverb :c&emsp;<a href="#i602">602</a></li> <li>matching adverb :continue&emsp;<a href="#i602">602</a></li> <li>matching adverb :ex&emsp;<a href="#i603">603</a></li> <li>matching adverb :exhaustive&emsp;<a href="#i603">603</a></li> <li>Member&emsp;<a href="#i316">316</a></li> <li>method (declarator)&emsp;<a href="#i672">672</a></li> <li>method call&emsp;<a href="#i345">345</a></li> <li>methods&emsp;<a href="#i37">37</a></li> <li>MMD&emsp;<a href="#i212">212</a></li> <li>MoarVM&emsp;<a href="#i210">210</a></li> <li>MONKEY-GUTS&emsp;<a href="#i494">494</a></li> <li>MONKEY-SEE-NO-EVAL&emsp;<a href="#i495">495</a></li> <li>MONKEY-TYPING&emsp;<a href="#i496">496</a></li> <li>MOP&emsp;<a href="#i282">282</a></li> <li>Multi-Dispatch&emsp;<a href="#i211">211</a></li> <li>multi-method&emsp;<a href="#i213">213</a></li> <li>MY (package)&emsp;<a href="#i454">454</a></li> <li>my (Sub)&emsp;<a href="#i902">902</a></li> <li>nameless variables&emsp;<a href="#i792">792</a></li> <li>NaN (definition)&emsp;<a href="#i865">865</a></li> <li>nativecall&emsp;<a href="#i292">292</a></li> <li>newline&emsp;<a href="#i502">502</a></li> <li>NFG&emsp;<a href="#i214">214</a> <a href="#i853">853</a></li> <li>Niecza&emsp;<a href="#i215">215</a></li> <li>Nil assignment&emsp;<a href="#i862">862</a></li> <li>non-string keys&emsp;<a href="#i854">854</a></li> <li>Normalization&emsp;<a href="#i694">694</a></li> <li>Not Quite Perl&emsp;<a href="#i217">217</a></li> <li>nqp&emsp;<a href="#i503">503</a></li> <li>NQP&emsp;<a href="#i216">216</a></li> <li>NQP (FAQ)&emsp;<a href="#i119">119</a></li> <li>NST&emsp;<a href="#i190">190</a></li> <li>num32&emsp;<a href="#i305">305</a></li> <li>num64&emsp;<a href="#i306">306</a></li> <li>Numeric bitwise AND operator&emsp;<a href="#i385">385</a></li> <li>NYI&emsp;<a href="#i218">218</a></li> <li>object hash&emsp;<a href="#i855">855</a></li> <li>objects bless&emsp;<a href="#i42">42</a></li> <li>ok nok&emsp;<a href="#i645">645</a></li> <li>only method&emsp;<a href="#i673">673</a></li> <li>OOP&emsp;<a href="#i14">14</a></li> <li>opcode&emsp;<a href="#i219">219</a></li> <li>Operator&emsp;<a href="#i220">220</a></li> <li>operators .&emsp;<a href="#i40">40</a></li> <li>Opt&emsp;<a href="#i191">191</a></li> <li>optional argument (Signature)&emsp;<a href="#i892">892</a></li> <li>orelse&emsp;<a href="#i450">450</a></li> <li>OUR (package)&emsp;<a href="#i455">455</a></li> <li>our (Sub)&emsp;<a href="#i903">903</a></li> <li>OUTER (package)&emsp;<a href="#i463">463</a></li> <li>OUTERS (package)&emsp;<a href="#i464">464</a></li> <li>P5&emsp;<a href="#i194">194</a></li> <li>P6&emsp;<a href="#i195">195</a></li> <li>p6doc&emsp;<a href="#i841">841</a></li> <li>p6doc (FAQ)&emsp;<a href="#i104">104</a></li> <li>pack&emsp;<a href="#i86">86</a></li> <li>pair constructor&emsp;<a href="#i433">433</a></li> <li>Parameter&emsp;<a href="#i222">222</a></li> <li>parameter  **@&emsp;<a href="#i888">888</a></li> <li>parameter *% slurpy argument (Signature)&emsp;<a href="#i886">886</a></li> <li>parameter *@&emsp;<a href="#i886">886</a></li> <li>parameter |&emsp;<a href="#i896">896</a></li> <li>Parameterized Roles&emsp;<a href="#i321">321</a></li> <li>parameters&emsp;<a href="#i504">504</a></li> <li>PARENT (package)&emsp;<a href="#i468">468</a></li> <li>Parrot&emsp;<a href="#i223">223</a></li> <li>Parse Tree&emsp;<a href="#i221">221</a></li> <li>pass&emsp;<a href="#i668">668</a></li> <li>PAST&emsp;<a href="#i224">224</a></li> <li>PB&emsp;<a href="#i192">192</a></li> <li>Perl&emsp;<a href="#i225">225</a></li> <li>PERL&emsp;<a href="#i226">226</a></li> <li>PERL6LIB&emsp;<a href="#i2">2</a></li> <li>perldoc (FAQ)&emsp;<a href="#i105">105</a></li> <li>Perl 5 modules (FAQ)&emsp;<a href="#i106">106</a></li> <li>Perl 6 Distribution (FAQ)&emsp;<a href="#i120">120</a></li> <li>Perl 6 Implementation (FAQ)&emsp;<a href="#i118">118</a></li> <li>Phasers  BEGIN&emsp;<a href="#i475">475</a></li> <li>Phasers  CATCH&emsp;<a href="#i489">489</a></li> <li>Phasers  CHECK&emsp;<a href="#i476">476</a></li> <li>Phasers  CLOSE&emsp;<a href="#i479">479</a></li> <li>Phasers  CONTROL&emsp;<a href="#i490">490</a></li> <li>Phasers  END&emsp;<a href="#i478">478</a></li> <li>Phasers  ENTER&emsp;<a href="#i480">480</a></li> <li>Phasers  FIRST&emsp;<a href="#i486">486</a></li> <li>Phasers  INIT&emsp;<a href="#i477">477</a></li> <li>Phasers  KEEP&emsp;<a href="#i482">482</a></li> <li>Phasers  LAST&emsp;<a href="#i488">488</a></li> <li>Phasers  LEAVE&emsp;<a href="#i481">481</a></li> <li>Phasers  NEXT&emsp;<a href="#i487">487</a></li> <li>Phasers  POST&emsp;<a href="#i485">485</a></li> <li>Phasers  PRE&emsp;<a href="#i484">484</a></li> <li>Phasers  UNDO&emsp;<a href="#i483">483</a></li> <li>Phasers  will trait&emsp;<a href="#i474">474</a></li> <li>plan&emsp;<a href="#i643">643</a></li> <li>POD&emsp;<a href="#i227">227</a></li> <li>Pointer&emsp;<a href="#i309">309</a></li> <li>positional argument (Signature) named argument (Signature)&emsp;<a href="#i891">891</a></li> <li>POSIX (FAQ)&emsp;<a href="#i109">109</a></li> <li>postcircumfix operator&emsp;<a href="#i327">327</a></li> <li>postfix &amp;gt;&amp;gt;.&emsp;<a href="#i355">355</a></li> <li>postfix .&amp;amp;&emsp;<a href="#i346">346</a></li> <li>postfix .*&emsp;<a href="#i353">353</a></li> <li>postfix .+&emsp;<a href="#i352">352</a></li> <li>postfix .?&emsp;<a href="#i350">350</a></li> <li>postfix .^&emsp;<a href="#i348">348</a></li> <li>postfix call&emsp;<a href="#i360">360</a></li> <li>postfix operator&emsp;<a href="#i325">325</a></li> <li>postfix ».&emsp;<a href="#i354">354</a></li> <li>PR&emsp;<a href="#i193">193</a></li> <li>precompilation&emsp;<a href="#i505">505</a></li> <li>Precompile (FAQ)&emsp;<a href="#i112">112</a></li> <li>prefix &amp;amp;&emsp;<a href="#i129">129</a> <a href="#i872">872</a></li> <li>prefix call&emsp;<a href="#i361">361</a></li> <li>prefix operator&emsp;<a href="#i323">323</a></li> <li>Proc object&emsp;<a href="#i269">269</a></li> <li>Proc::Async object&emsp;<a href="#i270">270</a></li> <li>PROCESS (package)&emsp;<a href="#i458">458</a></li> <li>Property&emsp;<a href="#i315">315</a></li> <li>pugs&emsp;<a href="#i229">229</a></li> <li>Pull Request&emsp;<a href="#i228">228</a></li> <li>QAST&emsp;<a href="#i230">230</a></li> <li>qr (Perl 5)&emsp;<a href="#i4">4</a></li> <li>quote &quot; &quot;&emsp;<a href="#i546">546</a></li> <li>quote ' '&emsp;<a href="#i545">545</a></li> <li>quote / /&emsp;<a href="#i559">559</a></li> <li>quote &lt;&lt; &gt;&gt;&emsp;<a href="#i554">554</a></li> <li>quote heredocs :to&emsp;<a href="#i557">557</a></li> <li>quote m&emsp;<a href="#i559">559</a></li> <li>quote q&emsp;<a href="#i545">545</a></li> <li>quote Q&emsp;<a href="#i518">518</a></li> <li>quote qq&emsp;<a href="#i546">546</a></li> <li>quote qqw&emsp;<a href="#i552">552</a></li> <li>quote qqww&emsp;<a href="#i553">553</a></li> <li>quote qqx&emsp;<a href="#i556">556</a></li> <li>quote qww&emsp;<a href="#i551">551</a></li> <li>quote qx&emsp;<a href="#i555">555</a></li> <li>quote rx&emsp;<a href="#i559">559</a></li> <li>quote s/ / /&emsp;<a href="#i594">594</a></li> <li>quote « »&emsp;<a href="#i554">554</a></li> <li>quote ｢ ｣&emsp;<a href="#i518">518</a></li> <li>quote-words&emsp;<a href="#i338">338</a></li> <li>qw&emsp;<a href="#i338">338</a></li> <li>qw word quote&emsp;<a href="#i549">549</a></li> <li>R reverse meta operator&emsp;<a href="#i331">331</a></li> <li>Rakudo&emsp;<a href="#i231">231</a></li> <li>Rakudo and Perl 6 (FAQ)&emsp;<a href="#i91">91</a></li> <li>Rakudo Star distribution and compiler-only release (FAQ)&emsp;<a href="#i111">111</a></li> <li>Rakudo Star DMG binary installer (FAQ)&emsp;<a href="#i93">93</a></li> <li>Rakudo Star docker image (FAQ)&emsp;<a href="#i95">95</a></li> <li>Rakudo Star for Linux (FAQ)&emsp;<a href="#i96">96</a></li> <li>Rakudo Star for Mac (FAQ)&emsp;<a href="#i98">98</a></li> <li>Rakudo Star for Windows (FAQ)&emsp;<a href="#i97">97</a></li> <li>Rakudo Star MSI binary installer (FAQ)&emsp;<a href="#i94">94</a></li> <li>Rakudo Star release cycle (FAQ)&emsp;<a href="#i121">121</a></li> <li>rakudobrew (FAQ)&emsp;<a href="#i99">99</a></li> <li>raw_input (Python)&emsp;<a href="#i516">516</a></li> <li>react&emsp;<a href="#i49">49</a></li> <li>regex  &amp;lt;&amp;lt;&emsp;<a href="#i586">586</a></li> <li>regex  &lt;!|w&gt;&emsp;<a href="#i583">583</a></li> <li>regex  &lt;|w&gt;&emsp;<a href="#i583">583</a></li> <li>regex  Named captures&emsp;<a href="#i591">591</a></li> <li>regex  Regex Interpolation&emsp;<a href="#i597">597</a></li> <li>regex  tilde&emsp;<a href="#i595">595</a></li> <li>regex $&emsp;<a href="#i581">581</a></li> <li>regex $$&emsp;<a href="#i582">582</a></li> <li>regex %&emsp;<a href="#i574">574</a></li> <li>regex %%&emsp;<a href="#i574">574</a></li> <li>regex &amp;&emsp;<a href="#i580">580</a></li> <li>regex &amp;&amp;&emsp;<a href="#i579">579</a></li> <li>regex ( )&emsp;<a href="#i589">589</a></li> <li>regex .&emsp;<a href="#i560">560</a></li> <li>regex :&emsp;<a href="#i575">575</a></li> <li>regex &lt;( )&gt;&emsp;<a href="#i592">592</a></li> <li>regex &lt;-[ ]&gt;&emsp;<a href="#i569">569</a></li> <li>regex &lt;:property&gt;&emsp;<a href="#i568">568</a></li> <li>regex &lt;[ ]&gt;&emsp;<a href="#i569">569</a></li> <li>regex ?&emsp;<a href="#i576">576</a></li> <li>regex [ ]&emsp;<a href="#i590">590</a></li> <li>regex \d&emsp;<a href="#i561">561</a></li> <li>regex \D&emsp;<a href="#i561">561</a></li> <li>regex \H&emsp;<a href="#i562">562</a></li> <li>regex \h&emsp;<a href="#i562">562</a></li> <li>regex \N&emsp;<a href="#i563">563</a></li> <li>regex \n&emsp;<a href="#i563">563</a></li> <li>regex \s&emsp;<a href="#i564">564</a></li> <li>regex \S&emsp;<a href="#i564">564</a></li> <li>regex \t&emsp;<a href="#i565">565</a></li> <li>regex \T&emsp;<a href="#i565">565</a></li> <li>regex \V&emsp;<a href="#i566">566</a></li> <li>regex \v&emsp;<a href="#i566">566</a></li> <li>regex \w&emsp;<a href="#i567">567</a></li> <li>regex \W&emsp;<a href="#i567">567</a></li> <li>regex ^&emsp;<a href="#i581">581</a></li> <li>regex ^^&emsp;<a href="#i582">582</a></li> <li>regex adverb :g&emsp;<a href="#i604">604</a></li> <li>regex adverb :global&emsp;<a href="#i604">604</a></li> <li>regex adverb :i&emsp;<a href="#i598">598</a></li> <li>regex adverb :ignorecase&emsp;<a href="#i598">598</a></li> <li>regex adverb :ignoremark&emsp;<a href="#i599">599</a></li> <li>regex adverb :m&emsp;<a href="#i599">599</a></li> <li>regex adverb :ov&emsp;<a href="#i606">606</a></li> <li>regex adverb :overlap&emsp;<a href="#i606">606</a></li> <li>regex adverb :p&emsp;<a href="#i605">605</a></li> <li>regex adverb :pos&emsp;<a href="#i605">605</a></li> <li>regex adverb :r&emsp;<a href="#i600">600</a></li> <li>regex adverb :ratchet&emsp;<a href="#i600">600</a></li> <li>regex adverb :s&emsp;<a href="#i601">601</a></li> <li>regex adverb :sigspace&emsp;<a href="#i601">601</a></li> <li>regex after&emsp;<a href="#i588">588</a></li> <li>regex before&emsp;<a href="#i587">587</a></li> <li>regex deprecated  \B &emsp;<a href="#i585">585</a></li> <li>regex deprecated \b&emsp;<a href="#i584">584</a></li> <li>regex deprecated \K&emsp;<a href="#i593">593</a></li> <li>regex quantifier *&emsp;<a href="#i571">571</a></li> <li>regex quantifier **&emsp;<a href="#i573">573</a></li> <li>regex quantifier +&emsp;<a href="#i570">570</a></li> <li>regex quantifier ?&emsp;<a href="#i572">572</a></li> <li>regex |&emsp;<a href="#i578">578</a></li> <li>regex ||&emsp;<a href="#i577">577</a></li> <li>Regular Expressions&emsp;<a href="#i558">558</a></li> <li>Reify&emsp;<a href="#i232">232</a></li> <li>Repository&emsp;<a href="#i233">233</a></li> <li>return-rw&emsp;<a href="#i874">874</a></li> <li>returns&emsp;<a href="#i884">884</a></li> <li>roast&emsp;<a href="#i234">234</a></li> <li>role&emsp;<a href="#i235">235</a></li> <li>RSN&emsp;<a href="#i196">196</a></li> <li>RT&emsp;<a href="#i197">197</a></li> <li>Ruby Quickstart (FAQ)&emsp;<a href="#i101">101</a></li> <li>rule&emsp;<a href="#i236">236</a></li> <li>running programs&emsp;<a href="#i268">268</a></li> <li>rvalue&emsp;<a href="#i237">237</a></li> <li>S sequential meta operator&emsp;<a href="#i337">337</a></li> <li>SETTING (package)&emsp;<a href="#i467">467</a></li> <li>Sigil&emsp;<a href="#i239">239</a></li> <li>Sigilless Variable&emsp;<a href="#i240">240</a></li> <li>sigils &amp;amp;&emsp;<a href="#i29">29</a></li> <li>Sigils (FAQ)&emsp;<a href="#i116">116</a></li> <li>signature literal (Signature)&emsp;<a href="#i876">876</a></li> <li>size_t&emsp;<a href="#i311">311</a></li> <li>skip&emsp;<a href="#i665">665</a></li> <li>skip-rest&emsp;<a href="#i666">666</a></li> <li>Slot&emsp;<a href="#i317">317</a></li> <li>smartmatch operator&emsp;<a href="#i425">425</a></li> <li>soft&emsp;<a href="#i506">506</a></li> <li>spaceship operator&emsp;<a href="#i405">405</a></li> <li>Special Variables (Perl 5)&emsp;<a href="#i5">5</a></li> <li>Specification (FAQ)&emsp;<a href="#i100">100</a></li> <li>Spesh&emsp;<a href="#i241">241</a></li> <li>ssize_t&emsp;<a href="#i312">312</a></li> <li>state&emsp;<a href="#i17">17</a></li> <li>STD&emsp;<a href="#i242">242</a></li> <li>Str&emsp;<a href="#i307">307</a></li> <li>strict&emsp;<a href="#i507">507</a></li> <li>Stub&emsp;<a href="#i243">243</a></li> <li>stub operator&emsp;<a href="#i445">445</a></li> <li>sub EXPORT&emsp;<a href="#i279">279</a></li> <li>subscript adverb :delete&emsp;<a href="#i633">633</a></li> <li>subscript adverb :exists&emsp;<a href="#i632">632</a></li> <li>subscript adverb :k&emsp;<a href="#i636">636</a></li> <li>subscript adverb :kv&emsp;<a href="#i635">635</a></li> <li>subscript adverb :p&emsp;<a href="#i634">634</a></li> <li>subscript adverb :v&emsp;<a href="#i637">637</a></li> <li>subset&emsp;<a href="#i692">692</a></li> <li>subsitution adverb :samecase&emsp;<a href="#i607">607</a></li> <li>subsitution adverb :samemark&emsp;<a href="#i608">608</a></li> <li>subsitution adverb :samespace&emsp;<a href="#i609">609</a></li> <li>substitution adverb :ii&emsp;<a href="#i607">607</a></li> <li>substitution adverb :mm&emsp;<a href="#i608">608</a></li> <li>substitution adverb :ss&emsp;<a href="#i609">609</a></li> <li>subtest&emsp;<a href="#i663">663</a></li> <li>supply (on-demand)&emsp;<a href="#i48">48</a></li> <li>switch (given)&emsp;<a href="#i66">66</a></li> <li>Symbol&emsp;<a href="#i244">244</a></li> <li>Synopsis&emsp;<a href="#i245">245</a></li> <li>syntax -&gt;&emsp;<a href="#i123">123</a></li> <li>syntax \&emsp;<a href="#i638">638</a></li> <li>Syntax Analysis&emsp;<a href="#i246">246</a></li> <li>syntax DEFINITE&emsp;<a href="#i290">290</a></li> <li>syntax HOW&emsp;<a href="#i288">288</a></li> <li>syntax Unspace&emsp;<a href="#i639">639</a></li> <li>syntax VAR&emsp;<a href="#i291">291</a></li> <li>syntax WHAT&emsp;<a href="#i284">284</a></li> <li>syntax WHERE&emsp;<a href="#i287">287</a></li> <li>syntax WHICH&emsp;<a href="#i285">285</a></li> <li>syntax WHO&emsp;<a href="#i286">286</a></li> <li>syntax WHY&emsp;<a href="#i289">289</a></li> <li>test suite&emsp;<a href="#i247">247</a></li> <li>Texas operator&emsp;<a href="#i249">249</a></li> <li>throws-like&emsp;<a href="#i661">661</a></li> <li>Thunk&emsp;<a href="#i250">250</a></li> <li>TIMTOWTDI&emsp;<a href="#i198">198</a></li> <li>TMI&emsp;<a href="#i199">199</a></li> <li>TMTOWTDI&emsp;<a href="#i200">200</a></li> <li>todo&emsp;<a href="#i664">664</a></li> <li>TOP&emsp;<a href="#i262">262</a></li> <li>trace&emsp;<a href="#i508">508</a></li> <li>trait  is raw&emsp;<a href="#i899">899</a></li> <li>trait is copy&emsp;<a href="#i897">897</a></li> <li>trait is default (Attribute)&emsp;<a href="#i843">843</a></li> <li>trait is default (Routine)&emsp;<a href="#i873">873</a></li> <li>trait is default (Variable)&emsp;<a href="#i906">906</a></li> <li>trait is DEPRECATED (Attribute)&emsp;<a href="#i845">845</a></li> <li>trait is readonly&emsp;<a href="#i900">900</a></li> <li>trait is required (Attribute)&emsp;<a href="#i844">844</a></li> <li>trait is rw&emsp;<a href="#i898">898</a></li> <li>trait_mod (declarator)&emsp;<a href="#i904">904</a></li> <li>traits is rw&emsp;<a href="#i36">36</a></li> <li>True&emsp;<a href="#i847">847</a></li> <li>try&emsp;<a href="#i83">83</a></li> <li>tty&emsp;<a href="#i857">857</a></li> <li>TWEAK&emsp;<a href="#i319">319</a></li> <li>Twigil&emsp;<a href="#i775">775</a></li> <li>twigils&emsp;<a href="#i30">30</a></li> <li>twigils !&emsp;<a href="#i31">31</a></li> <li>twigils .&emsp;<a href="#i32">32</a></li> <li>twigils accessors&emsp;<a href="#i33">33</a></li> <li>twine&emsp;<a href="#i251">251</a></li> <li>Type Capture (role)&emsp;<a href="#i686">686</a></li> <li>Type Capture (signature)&emsp;<a href="#i890">890</a></li> <li>type constraint (Signature)&emsp;<a href="#i878">878</a></li> <li>type constraint :_&emsp;<a href="#i882">882</a></li> <li>type constraint :D&emsp;<a href="#i882">882</a></li> <li>type constraint :U&emsp;<a href="#i882">882</a></li> <li>type object&emsp;<a href="#i22">22</a></li> <li>typed array&emsp;<a href="#i273">273</a></li> <li>UGT&emsp;<a href="#i201">201</a></li> <li>uint16&emsp;<a href="#i298">298</a></li> <li>uint32&emsp;<a href="#i299">299</a></li> <li>uint64&emsp;<a href="#i300">300</a></li> <li>uint8&emsp;<a href="#i297">297</a></li> <li>ulong&emsp;<a href="#i303">303</a></li> <li>ulonglong&emsp;<a href="#i304">304</a></li> <li>unicmp  Routine&emsp;<a href="#i87">87</a></li> <li>UNIT (package)&emsp;<a href="#i466">466</a></li> <li>UNIX library functions (FAQ)&emsp;<a href="#i108">108</a></li> <li>unlike&emsp;<a href="#i655">655</a></li> <li>upto operator&emsp;<a href="#i378">378</a></li> <li>USAGE&emsp;<a href="#i146">146</a></li> <li>use lib&emsp;<a href="#i280">280</a></li> <li>use soft (pragma)&emsp;<a href="#i130">130</a></li> <li>use-ok&emsp;<a href="#i656">656</a></li> <li>UTF8-C8&emsp;<a href="#i696">696</a></li> <li>v (version)&emsp;<a href="#i907">907</a></li> <li>v6&emsp;<a href="#i509">509</a></li> <li>v6.d (FAQ)&emsp;<a href="#i92">92</a></li> <li>value&emsp;<a href="#i252">252</a></li> <li>Value&emsp;<a href="#i208">208</a></li> <li>Value type&emsp;<a href="#i253">253</a></li> <li>VAR (reserved method)&emsp;<a href="#i678">678</a></li> <li>Variable&emsp;<a href="#i254">254</a></li> <li>variable $0&emsp;<a href="#i794">794</a></li> <li>variable $1&emsp;<a href="#i794">794</a></li> <li>variable $&lt;named&gt;&emsp;<a href="#i795">795</a></li> <li>variable %()&emsp;<a href="#i795">795</a></li> <li>variable @()&emsp;<a href="#i794">794</a></li> <li>Variable Interpolation&emsp;<a href="#i255">255</a></li> <li>variables&emsp;<a href="#i510">510</a></li> <li>Virtual Machine&emsp;<a href="#i256">256</a></li> <li>WFM&emsp;<a href="#i202">202</a></li> <li>WHAT (reserved method)&emsp;<a href="#i675">675</a></li> <li>whenever&emsp;<a href="#i50">50</a> <a href="#i51">51</a></li> <li>where clause (Signature)&emsp;<a href="#i881">881</a></li> <li>whitespace&emsp;<a href="#i257">257</a></li> <li>WHO (reserved method)&emsp;<a href="#i676">676</a></li> <li>WIP&emsp;<a href="#i203">203</a></li> <li>with (Python)&emsp;<a href="#i515">515</a></li> <li>worries&emsp;<a href="#i511">511</a></li> <li>WP&emsp;<a href="#i204">204</a></li> <li>ws&emsp;<a href="#i263">263</a></li> <li>WW&emsp;<a href="#i205">205</a></li> <li>X (cross meta operator)&emsp;<a href="#i335">335</a></li> <li>yoleaux&emsp;<a href="#i174">174</a></li> <li>Z (zip meta operator)&emsp;<a href="#i336">336</a></li> <li>«&emsp;<a href="#i699">699</a></li> <li>«=«&emsp;<a href="#i766">766</a></li> <li>«=»&emsp;<a href="#i767">767</a></li> <li>¯&emsp;<a href="#i724">724</a></li> <li>²&emsp;<a href="#i727">727</a></li> <li>³&emsp;<a href="#i728">728</a></li> <li>¹&emsp;<a href="#i726">726</a></li> <li>»&emsp;<a href="#i700">700</a></li> <li>»=«&emsp;<a href="#i768">768</a></li> <li>»=»&emsp;<a href="#i765">765</a></li> <li>×&emsp;<a href="#i701">701</a></li> <li>÷&emsp;<a href="#i702">702</a></li> <li>π&emsp;<a href="#i709">709</a></li> <li>τ&emsp;<a href="#i710">710</a></li> <li>‘&emsp;<a href="#i714">714</a></li> <li>’&emsp;<a href="#i715">715</a></li> <li>‚&emsp;<a href="#i716">716</a></li> <li>“&emsp;<a href="#i717">717</a></li> <li>”&emsp;<a href="#i718">718</a></li> <li>„&emsp;<a href="#i719">719</a></li> <li>…&emsp;<a href="#i713">713</a></li> <li>… operators&emsp;<a href="#i438">438</a></li> <li>…^ operators&emsp;<a href="#i439">439</a></li> <li>⁰&emsp;<a href="#i725">725</a></li> <li>⁴&emsp;<a href="#i729">729</a></li> <li>⁵&emsp;<a href="#i730">730</a></li> <li>⁶&emsp;<a href="#i731">731</a></li> <li>⁷&emsp;<a href="#i732">732</a></li> <li>⁸&emsp;<a href="#i733">733</a></li> <li>⁹&emsp;<a href="#i734">734</a></li> <li>⁺&emsp;<a href="#i722">722</a></li> <li>⁻&emsp;<a href="#i723">723</a></li> <li>∅&emsp;<a href="#i630">630</a> <a href="#i735">735</a></li> <li>∈&emsp;<a href="#i736">736</a></li> <li>∉&emsp;<a href="#i737">737</a></li> <li>∋&emsp;<a href="#i738">738</a></li> <li>∌&emsp;<a href="#i739">739</a></li> <li>−&emsp;<a href="#i706">706</a></li> <li>∖&emsp;<a href="#i752">752</a></li> <li>∘&emsp;<a href="#i707">707</a></li> <li>∞&emsp;<a href="#i712">712</a></li> <li>∞ (definition)&emsp;<a href="#i864">864</a></li> <li>∩&emsp;<a href="#i751">751</a></li> <li>∪&emsp;<a href="#i750">750</a></li> <li>≅&emsp;<a href="#i708">708</a></li> <li>≠&emsp;<a href="#i705">705</a></li> <li>≤&emsp;<a href="#i703">703</a></li> <li>≥&emsp;<a href="#i704">704</a></li> <li>≼&emsp;<a href="#i748">748</a></li> <li>≽&emsp;<a href="#i749">749</a></li> <li>⊂&emsp;<a href="#i742">742</a></li> <li>⊃&emsp;<a href="#i746">746</a></li> <li>⊄&emsp;<a href="#i743">743</a></li> <li>⊅&emsp;<a href="#i747">747</a></li> <li>⊆&emsp;<a href="#i740">740</a></li> <li>⊇&emsp;<a href="#i744">744</a></li> <li>⊈&emsp;<a href="#i741">741</a></li> <li>⊉&emsp;<a href="#i745">745</a></li> <li>⊍&emsp;<a href="#i754">754</a></li> <li>⊎&emsp;<a href="#i755">755</a></li> <li>⊖&emsp;<a href="#i753">753</a></li> <li>⚛&emsp;<a href="#i757">757</a></li> <li>⚛++&emsp;<a href="#i762">762</a></li> <li>⚛+=&emsp;<a href="#i758">758</a></li> <li>⚛--&emsp;<a href="#i764">764</a></li> <li>⚛-=&emsp;<a href="#i759">759</a></li> <li>⚛=&emsp;<a href="#i756">756</a></li> <li>⚛−=&emsp;<a href="#i760">760</a></li> <li>｢&emsp;<a href="#i720">720</a></li> <li>｣&emsp;<a href="#i721">721</a></li> <li>𝑒&emsp;<a href="#i711">711</a></li></ul></div></div>  </div>
</body></html>
